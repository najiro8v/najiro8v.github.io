var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.arrayIteratorImpl=function(e){var i=0;return function(){return i<e.length?{done:!1,value:e[i++]}:{done:!0}}},$jscomp.arrayIterator=function(e){return{next:$jscomp.arrayIteratorImpl(e)}},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,i,s){e!=Array.prototype&&e!=Object.prototype&&(e[i]=s.value)},$jscomp.getGlobal=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,e];for(var i=0;i<e.length;++i){var s=e[i];if(s&&s.Math==Math)return s}throw Error("Cannot find global object")},$jscomp.global=$jscomp.getGlobal(this),$jscomp.SYMBOL_PREFIX="jscomp_symbol_",$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){},$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)},$jscomp.SymbolClass=function(e,i){this.$jscomp$symbol$id_=e,$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:i})},$jscomp.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_},$jscomp.Symbol=function(){var i=0;return function e(s){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new $jscomp.SymbolClass($jscomp.SYMBOL_PREFIX+(s||"")+"_"+i++,s)}}(),$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var e=$jscomp.global.Symbol.iterator;e||(e=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("Symbol.iterator")),"function"!=typeof Array.prototype[e]&&$jscomp.defineProperty(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}}),$jscomp.initSymbolIterator=function(){}},$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var e=$jscomp.global.Symbol.asyncIterator;e||(e=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("Symbol.asyncIterator")),$jscomp.initSymbolAsyncIterator=function(){}},$jscomp.iteratorPrototype=function(e){return $jscomp.initSymbolIterator(),(e={next:e})[$jscomp.global.Symbol.iterator]=function(){return this},e},$jscomp.iteratorFromArray=function(e,i){$jscomp.initSymbolIterator(),e instanceof String&&(e+="");var s=0,n={next:function(){if(s<e.length){var o=s++;return{value:i(o,e[o]),done:!1}}return n.next=function(){return{done:!0,value:void 0}},n.next()}};return n[Symbol.iterator]=function(){return n},n},$jscomp.polyfill=function(e,i,s,n){if(i){for(s=$jscomp.global,e=e.split("."),n=0;n<e.length-1;n++){var o=e[n];o in s||(s[o]={}),s=s[o]}(i=i(n=s[e=e[e.length-1]]))!=n&&null!=i&&$jscomp.defineProperty(s,e,{configurable:!0,writable:!0,value:i})}},$jscomp.polyfill("Array.prototype.keys",function(e){return e||function(){return $jscomp.iteratorFromArray(this,function(i){return i})}},"es6","es3"),$jscomp.polyfill("String.fromCodePoint",function(e){return e||function(i){for(var s="",n=0;n<arguments.length;n++){var o=Number(arguments[n]);if(0>o||1114111<o||o!==Math.floor(o))throw new RangeError("invalid_code_point "+o);65535>=o?s+=String.fromCharCode(o):(o-=65536,s+=String.fromCharCode(o>>>10&1023|55296),s+=String.fromCharCode(1023&o|56320))}return s}},"es6","es3"),$jscomp.checkStringArgs=function(e,i,s){if(null==e)throw new TypeError("The 'this' value for String.prototype."+s+" must not be null or undefined");if(i instanceof RegExp)throw new TypeError("First argument to String.prototype."+s+" must not be a regular expression");return e+""},$jscomp.polyfill("String.prototype.startsWith",function(e){return e||function(i,s){var n=$jscomp.checkStringArgs(this,i,"startsWith"),o=n.length,l=(i+="").length;s=Math.max(0,Math.min(0|s,n.length));for(var _=0;_<l&&s<o;)if(n[s++]!=i[_++])return!1;return _>=l}},"es6","es3"),$jscomp.polyfill("Array.prototype.values",function(e){return e||function(){return $jscomp.iteratorFromArray(this,function(i,s){return s})}},"es8","es3"),$jscomp.polyfill("String.prototype.codePointAt",function(e){return e||function(i){var s=$jscomp.checkStringArgs(this,null,"codePointAt"),n=s.length;if(0<=(i=Number(i)||0)&&i<n){var o=s.charCodeAt(i|=0);return 55296>o||56319<o||i+1===n||56320>(i=s.charCodeAt(i+1))||57343<i?o:1024*(o-55296)+i+9216}}},"es6","es3"),$jscomp.polyfill("String.prototype.endsWith",function(e){return e||function(i,s){var n=$jscomp.checkStringArgs(this,i,"endsWith");i+="",void 0===s&&(s=n.length),s=Math.max(0,Math.min(0|s,n.length));for(var o=i.length;0<o&&0<s;)if(n[--s]!=i[--o])return!1;return 0>=o}},"es6","es3"),$jscomp.polyfill("String.prototype.repeat",function(e){return e||function(i){var s=$jscomp.checkStringArgs(this,null,"repeat");if(0>i||1342177279<i)throw new RangeError("Invalid count value");i|=0;for(var n="";i;)1&i&&(n+=s),(i>>>=1)&&(s+=s);return n}},"es6","es3"),$jscomp.polyfill("Array.prototype.fill",function(e){return e||function(i,s,n){var o=this.length||0;for(0>s&&(s=Math.max(0,o+s)),(null==n||n>o)&&(n=o),0>(n=Number(n))&&(n=Math.max(0,o+n)),s=Number(s||0);s<n;s++)this[s]=i;return this}},"es6","es3"),function(da,z){da.lime=da.lime||{},da.lime.$scripts=da.lime.$scripts||{},da.lime.$scripts.Burbu_Letras=function(z,S){(function(z,J){function x(e,i){for(var s in e=Object.create(e),i)e[s]=i[s];return i.toString!==Object.prototype.toString&&(e.toString=i.toString),e}function S(e){return e instanceof Array?B.iter(e):e.iterator()}function r(e,i){return null==i?null:(null==i.__id__&&(i.__id__=J.$haxeUID++),null==e.hx__closures__?e.hx__closures__={}:s=e.hx__closures__[i.__id__],null==s&&(s=i.bind(e),e.hx__closures__[i.__id__]=s),s);var s}z.lime=z.lime||{};var k={},v=function(){return T.__string_rec(this,"")},C=C||{},w,gb=function(){};k.ApplicationMain=gb,gb.__name__="ApplicationMain",gb.main=function(){ba.am=gb,ba.setupTracing(!0),ja.load(),R.loadInputConfig(),ba.setupTracing(),Na.__registerEntryPoint("Burbu_Letras",gb.create),Ya.get_current()},gb.reloadGame=function(){for(var e=0,i=gb.reloadListeners;e<i.length;){var s=i[e];++e,s()}u.resetStatics(),eb.resetStatics(),Ab.resetStatics(),$f.resetStatics(),bc.resetStatics(),Ha.resetStatics(),dc.resetStatics(),Ke.resetStatics(),Fc.resetStatics(),ge.resetStatics(),ag.resetStatics(),He.resetStatics(),Eb.resetStatics(),N.resetStatics(),tc.resetStatics(),R.resetStatics(),p.resetStatics(),Ya.get_current().removeChild(gb.universal),R.loadInputConfig(),gb.universal=new ba,Ya.get_current().addChild(gb.universal),gb.universal.preloaderComplete()},gb.create=function(e){gb.app=new Ck,na.init(e);var i=gb.app.meta;if(null!=t.build?i.setReserved("build","1"):i.h.build="1",i=gb.app.meta,null!=t.company?i.setReserved("company","Stencyl"):i.h.company="Stencyl",i=gb.app.meta,null!=t.file?i.setReserved("file","Burbu_Letras"):i.h.file="Burbu_Letras",i=gb.app.meta,null!=t.name?i.setReserved("name","Burbu_Letras"):i.h.name="Burbu_Letras",i=gb.app.meta,null!=t.packageName?i.setReserved("packageName","com.example.myapp"):i.h.packageName="com.example.myapp",i=gb.app.meta,null!=t.version?i.setReserved("version","1.0.0"):i.h.version="1.0.0",(i={allowHighDPI:!1,alwaysOnTop:!1,borderless:!1,element:null,frameRate:65,height:480,hidden:!1,maximized:!1,minimized:!1,parameters:{},resizable:!1,title:"Burbu_Letras",width:720,x:null,y:null}).context={antialiasing:ja.antialias?2:0,background:0,colorDepth:32,depth:!0,hardware:!0,stencil:!0,type:null,vsync:!0},null==gb.app.__window&&null!=e)for(var s=0,n=X.fields(e);s<n.length;){var o=n[s];++s,Object.prototype.hasOwnProperty.call(i,o)?i[o]=X.field(e,o):Object.prototype.hasOwnProperty.call(i.context,o)&&(i.context[o]=X.field(e,o))}for(gb.app.createWindow(i),ja.releaseMode||Ya.get_current().get_loaderInfo().uncaughtErrorEvents.addEventListener("uncaughtError",gb.uncaughtErrorHandler),ba.initWindow(gb.app.__window),gb.universal=new ba,Ya.get_current().addChild(gb.universal),(e=new fm).onComplete.add(r(w=gb.universal,w.preloaderComplete)),gb.app.__preloader.onProgress.add(r(e,e.onUpdate)),gb.app.__preloader.onComplete.add(r(e,e.onLoaded)),e=0,i=na.preloadLibraries;e<i.length;)s=i[e],++e,gb.app.__preloader.addLibrary(s);for(e=0,i=na.preloadLibraryNames;e<i.length;)s=i[e],++e,gb.app.__preloader.addLibraryName(s);gb.app.__preloader.load(),gb.app.exec()},gb.uncaughtErrorHandler=function(e){};var Ra=function(e,i){this.r=new RegExp(e,i.split("u").join(""))};k.EReg=Ra,Ra.__name__="EReg",Ra.prototype={r:null,match:function(e){return this.r.global&&(this.r.lastIndex=0),this.r.m=this.r.exec(e),this.r.s=e,null!=this.r.m},matched:function(e){if(null!=this.r.m&&0<=e&&e<this.r.m.length)return this.r.m[e];throw new E("EReg::matched")},matchedRight:function(){if(null==this.r.m)throw new E("No string matched");var e=this.r.m.index+this.r.m[0].length;return B.substr(this.r.s,e,this.r.s.length-e)},matchedPos:function(){if(null==this.r.m)throw new E("No string matched");return{pos:this.r.m.index,len:this.r.m[0].length}},matchSub:function(e,i,s){return null==s&&(s=-1),this.r.global?(this.r.lastIndex=i,this.r.m=this.r.exec(0>s?e:B.substr(e,0,i+s)),(i=null!=this.r.m)&&(this.r.s=e),i):((s=this.match(B.substr(e,i,0>s?null:s)))&&(this.r.s=e,this.r.m.index+=i),s)},split:function(e){return e.replace(this.r,"#__delim__#").split("#__delim__#")},map:function(e,i){for(var s=0,n="";!(s>=e.length);){if(!this.matchSub(e,s)){n+=O.string(B.substr(e,s,null));break}var o=this.matchedPos();if(n+=O.string(B.substr(e,s,o.pos-s)),n+=O.string(i(this)),0==o.len?(n+=O.string(B.substr(e,o.pos,1)),s=o.pos+1):s=o.pos+o.len,!this.r.global)break}return!this.r.global&&0<s&&s<e.length&&(n+=O.string(B.substr(e,s,null))),n},__class__:Ra};var B=function(){};k.HxOverrides=B,B.__name__="HxOverrides",B.strDate=function(e){switch(e.length){case 8:e=e.split(":");var i=new Date;return i.setTime(0),i.setUTCHours(e[0]),i.setUTCMinutes(e[1]),i.setUTCSeconds(e[2]),i;case 10:return e=e.split("-"),new Date(e[0],e[1]-1,e[2],0,0,0);case 19:return i=e.split(" "),e=i[0].split("-"),i=i[1].split(":"),new Date(e[0],e[1]-1,e[2],i[0],i[1],i[2]);default:throw new E("Invalid date format : "+e)}},B.cca=function(e,i){if((e=e.charCodeAt(i))==e)return e},B.substr=function(e,i,s){if(null==s)s=e.length;else if(0>s){if(0!=i)return"";s=e.length+s}return e.substr(i,s)},B.remove=function(e,i){return-1!=(i=e.indexOf(i))&&(e.splice(i,1),!0)},B.iter=function(e){return{cur:0,arr:e,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var V=function(e,i){this.min=e,this.max=i};k.IntIterator=V,V.__name__="IntIterator",V.prototype={min:null,max:null,hasNext:function(){return this.min<this.max},next:function(){return this.min++},__class__:V};var ic=function(){};k.Lambda=ic,ic.__name__="Lambda",ic.array=function(e){var i=[];for(e=S(e);e.hasNext();){var s=e.next();i.push(s)}return i},ic.count=function(e,i){var s=0;if(null==i)for(i=S(e);i.hasNext();)i.next(),++s;else for(e=S(e);e.hasNext();)i(e.next())&&++s;return s},ic.indexOf=function(e,i){var s=0;for(e=S(e);e.hasNext();){if(i==e.next())return s;++s}return-1};var na=function(){};k.ManifestResources=na,na.__name__="ManifestResources",na.init=function(e){na.preloadLibraries=[],na.preloadLibraryNames=[],na.rootPath=null,null!=e&&Object.prototype.hasOwnProperty.call(e,"rootPath")&&(na.rootPath=X.field(e,"rootPath")),null==na.rootPath&&(na.rootPath="./"),e=gd.parse('{"name":null,"assets":"aoy4:pathy38:assets%2Fgraphics%2F1.5x%2Ffont-11.fnty4:sizei10994y4:typey4:TEXTy2:idR1y7:preloadtgoR0y38:assets%2Fgraphics%2F1.5x%2Ffont-11.pngR2i13221R3y5:IMAGER5R7R6tgoR0y37:assets%2Fgraphics%2F1.5x%2Ffont-5.fntR2i10992R3R4R5R9R6tgoR0y37:assets%2Fgraphics%2F1.5x%2Ffont-5.pngR2i13587R3R8R5R10R6tgoR0y41:assets%2Fgraphics%2F1.5x%2Fsprite-1-0.pngR2i913R3R8R5R11R6tgoR0y42:assets%2Fgraphics%2F1.5x%2Fsprite-13-0.pngR2i4670R3R8R5R12R6tgoR0y41:assets%2Fgraphics%2F1.5x%2Fsprite-4-0.pngR2i2642R3R8R5R13R6tgoR0y41:assets%2Fgraphics%2F1.5x%2Fsprite-4-1.pngR2i2760R3R8R5R14R6tgoR0y42:assets%2Fgraphics%2F1.5x%2Fsprite-46-0.pngR2i781R3R8R5R15R6tgoR0y41:assets%2Fgraphics%2F1.5x%2Fsprite-7-0.pngR2i750R3R8R5R16R6tgoR0y40:assets%2Fgraphics%2F1.5x%2Ftileset-2.pngR2i37317R3R8R5R17R6tgoR0y36:assets%2Fgraphics%2F1x%2Ffont-11.fntR2i10873R3R4R5R18R6tgoR0y36:assets%2Fgraphics%2F1x%2Ffont-11.pngR2i8682R3R8R5R19R6tgoR0y35:assets%2Fgraphics%2F1x%2Ffont-5.fntR2i10871R3R4R5R20R6tgoR0y35:assets%2Fgraphics%2F1x%2Ffont-5.pngR2i9018R3R8R5R21R6tgoR0y39:assets%2Fgraphics%2F1x%2Fsprite-1-0.pngR2i777R3R8R5R22R6tgoR0y40:assets%2Fgraphics%2F1x%2Fsprite-13-0.pngR2i1842R3R8R5R23R6tgoR0y39:assets%2Fgraphics%2F1x%2Fsprite-4-0.pngR2i572R3R8R5R24R6tgoR0y39:assets%2Fgraphics%2F1x%2Fsprite-4-1.pngR2i578R3R8R5R25R6tgoR0y40:assets%2Fgraphics%2F1x%2Fsprite-46-0.pngR2i402R3R8R5R26R6tgoR0y39:assets%2Fgraphics%2F1x%2Fsprite-7-0.pngR2i385R3R8R5R27R6tgoR0y38:assets%2Fgraphics%2F1x%2Ftileset-2.pngR2i24058R3R8R5R28R6tgoR0y36:assets%2Fgraphics%2F2x%2Ffont-11.fntR2i11056R3R4R5R29R6tgoR0y36:assets%2Fgraphics%2F2x%2Ffont-11.pngR2i18823R3R8R5R30R6tgoR0y35:assets%2Fgraphics%2F2x%2Ffont-5.fntR2i11054R3R4R5R31R6tgoR0y35:assets%2Fgraphics%2F2x%2Ffont-5.pngR2i19360R3R8R5R32R6tgoR0y39:assets%2Fgraphics%2F2x%2Fsprite-1-0.pngR2i983R3R8R5R33R6tgoR0y40:assets%2Fgraphics%2F2x%2Fsprite-13-0.pngR2i7713R3R8R5R34R6tgoR0y39:assets%2Fgraphics%2F2x%2Fsprite-4-0.pngR2i4046R3R8R5R35R6tgoR0y39:assets%2Fgraphics%2F2x%2Fsprite-4-1.pngR2i4230R3R8R5R36R6tgoR0y40:assets%2Fgraphics%2F2x%2Fsprite-46-0.pngR2i572R3R8R5R37R6tgoR0y39:assets%2Fgraphics%2F2x%2Fsprite-7-0.pngR2i557R3R8R5R38R6tgoR0y38:assets%2Fgraphics%2F2x%2Ftileset-2.pngR2i47511R3R8R5R39R6tgoR0y36:assets%2Fgraphics%2F3x%2Ffont-11.fntR2i11107R3R4R5R40R6tgoR0y36:assets%2Fgraphics%2F3x%2Ffont-11.pngR2i29913R3R8R5R41R6tgoR0y35:assets%2Fgraphics%2F3x%2Ffont-5.fntR2i11105R3R4R5R42R6tgoR0y35:assets%2Fgraphics%2F3x%2Ffont-5.pngR2i30134R3R8R5R43R6tgoR0y39:assets%2Fgraphics%2F3x%2Fsprite-1-0.pngR2i1225R3R8R5R44R6tgoR0y40:assets%2Fgraphics%2F3x%2Fsprite-13-0.pngR2i15549R3R8R5R45R6tgoR0y39:assets%2Fgraphics%2F3x%2Fsprite-4-0.pngR2i8823R3R8R5R46R6tgoR0y39:assets%2Fgraphics%2F3x%2Fsprite-4-1.pngR2i9354R3R8R5R47R6tgoR0y40:assets%2Fgraphics%2F3x%2Fsprite-46-0.pngR2i2642R3R8R5R48R6tgoR0y39:assets%2Fgraphics%2F3x%2Fsprite-7-0.pngR2i2436R3R8R5R49R6tgoR0y38:assets%2Fgraphics%2F3x%2Ftileset-2.pngR2i73784R3R8R5R50R6tgoR0y36:assets%2Fgraphics%2F4x%2Ffont-11.fntR2i11151R3R4R5R51R6tgoR0y36:assets%2Fgraphics%2F4x%2Ffont-11.pngR2i41819R3R8R5R52R6tgoR0y35:assets%2Fgraphics%2F4x%2Ffont-5.fntR2i11149R3R4R5R53R6tgoR0y35:assets%2Fgraphics%2F4x%2Ffont-5.pngR2i42095R3R8R5R54R6tgoR0y39:assets%2Fgraphics%2F4x%2Fsprite-1-0.pngR2i1549R3R8R5R55R6tgoR0y40:assets%2Fgraphics%2F4x%2Fsprite-13-0.pngR2i26606R3R8R5R56R6tgoR0y39:assets%2Fgraphics%2F4x%2Fsprite-4-0.pngR2i15298R3R8R5R57R6tgoR0y39:assets%2Fgraphics%2F4x%2Fsprite-4-1.pngR2i16184R3R8R5R58R6tgoR0y40:assets%2Fgraphics%2F4x%2Fsprite-46-0.pngR2i4046R3R8R5R59R6tgoR0y39:assets%2Fgraphics%2F4x%2Fsprite-7-0.pngR2i3806R3R8R5R60R6tgoR0y38:assets%2Fgraphics%2F4x%2Ftileset-2.pngR2i126792R3R8R5R61R6tgoR0y36:assets%2Fgraphics%2Fdefault-font.fntR2i10791R3R4R5R62R6tgoR0y36:assets%2Fgraphics%2Fdefault-font.pngR2i1736R3R8R5R63R6tgoR2i11284R3y5:SOUNDR5y27:assets%2Fsfx%2Fsound-15.mp3y9:pathGroupaR65y27:assets%2Fsfx%2Fsound-15.ogghR6tgoR2i13164R3R64R5y27:assets%2Fsfx%2Fsound-16.mp3R66aR68y27:assets%2Fsfx%2Fsound-16.ogghR6tgoR2i15672R3R64R5y27:assets%2Fsfx%2Fsound-17.mp3R66aR70y27:assets%2Fsfx%2Fsound-17.ogghR6tgoR2i16926R3R64R5y27:assets%2Fsfx%2Fsound-18.mp3R66aR72y27:assets%2Fsfx%2Fsound-18.ogghR6tgoR2i16299R3R64R5y27:assets%2Fsfx%2Fsound-19.mp3R66aR74y27:assets%2Fsfx%2Fsound-19.ogghR6tgoR2i16926R3R64R5y27:assets%2Fsfx%2Fsound-20.mp3R66aR76y27:assets%2Fsfx%2Fsound-20.ogghR6tgoR2i16926R3R64R5y27:assets%2Fsfx%2Fsound-21.mp3R66aR78y27:assets%2Fsfx%2Fsound-21.ogghR6tgoR2i18180R3R64R5y27:assets%2Fsfx%2Fsound-22.mp3R66aR80y27:assets%2Fsfx%2Fsound-22.ogghR6tgoR2i15045R3R64R5y27:assets%2Fsfx%2Fsound-23.mp3R66aR82y27:assets%2Fsfx%2Fsound-23.ogghR6tgoR2i21315R3R64R5y27:assets%2Fsfx%2Fsound-24.mp3R66aR84y27:assets%2Fsfx%2Fsound-24.ogghR6tgoR2i15672R3R64R5y27:assets%2Fsfx%2Fsound-25.mp3R66aR86y27:assets%2Fsfx%2Fsound-25.ogghR6tgoR2i19434R3R64R5y27:assets%2Fsfx%2Fsound-26.mp3R66aR88y27:assets%2Fsfx%2Fsound-26.ogghR6tgoR2i16299R3R64R5y27:assets%2Fsfx%2Fsound-27.mp3R66aR90y27:assets%2Fsfx%2Fsound-27.ogghR6tgoR2i15672R3R64R5y27:assets%2Fsfx%2Fsound-28.mp3R66aR92y27:assets%2Fsfx%2Fsound-28.ogghR6tgoR2i19434R3R64R5y27:assets%2Fsfx%2Fsound-29.mp3R66aR94y27:assets%2Fsfx%2Fsound-29.ogghR6tgoR2i17553R3R64R5y27:assets%2Fsfx%2Fsound-30.mp3R66aR96y27:assets%2Fsfx%2Fsound-30.ogghR6tgoR2i16926R3R64R5y27:assets%2Fsfx%2Fsound-31.mp3R66aR98y27:assets%2Fsfx%2Fsound-31.ogghR6tgoR2i16926R3R64R5y27:assets%2Fsfx%2Fsound-32.mp3R66aR100y27:assets%2Fsfx%2Fsound-32.ogghR6tgoR2i18807R3R64R5y27:assets%2Fsfx%2Fsound-33.mp3R66aR102y27:assets%2Fsfx%2Fsound-33.ogghR6tgoR2i15672R3R64R5y27:assets%2Fsfx%2Fsound-34.mp3R66aR104y27:assets%2Fsfx%2Fsound-34.ogghR6tgoR2i16299R3R64R5y27:assets%2Fsfx%2Fsound-35.mp3R66aR106y27:assets%2Fsfx%2Fsound-35.ogghR6tgoR2i19434R3R64R5y27:assets%2Fsfx%2Fsound-36.mp3R66aR108y27:assets%2Fsfx%2Fsound-36.ogghR6tgoR2i23822R3R64R5y27:assets%2Fsfx%2Fsound-37.mp3R66aR110y27:assets%2Fsfx%2Fsound-37.ogghR6tgoR2i20061R3R64R5y27:assets%2Fsfx%2Fsound-38.mp3R66aR112y27:assets%2Fsfx%2Fsound-38.ogghR6tgoR2i16926R3R64R5y27:assets%2Fsfx%2Fsound-39.mp3R66aR114y27:assets%2Fsfx%2Fsound-39.ogghR6tgoR2i16299R3R64R5y27:assets%2Fsfx%2Fsound-40.mp3R66aR116y27:assets%2Fsfx%2Fsound-40.ogghR6tgoR2i390163R3R64R5R67R66aR65R67hgoR2i11289R3R64R5R69R66aR68R69hgoR2i12741R3R64R5R71R66aR70R71hgoR2i13856R3R64R5R73R66aR72R73hgoR2i13258R3R64R5R75R66aR74R75hgoR2i14327R3R64R5R77R66aR76R77hgoR2i14276R3R64R5R79R66aR78R79hgoR2i14540R3R64R5R81R66aR80R81hgoR2i12221R3R64R5R83R66aR82R83hgoR2i15726R3R64R5R85R66aR84R85hgoR2i12263R3R64R5R87R66aR86R87hgoR2i14932R3R64R5R89R66aR88R89hgoR2i13803R3R64R5R91R66aR90R91hgoR2i12938R3R64R5R93R66aR92R93hgoR2i14856R3R64R5R95R66aR94R95hgoR2i14814R3R64R5R97R66aR96R97hgoR2i13184R3R64R5R99R66aR98R99hgoR2i15234R3R64R5R101R66aR100R101hgoR2i14142R3R64R5R103R66aR102R103hgoR2i13524R3R64R5R105R66aR104R105hgoR2i12307R3R64R5R107R66aR106R107hgoR2i14702R3R64R5R109R66aR108R109hgoR2i16969R3R64R5R111R66aR110R111hgoR2i15748R3R64R5R113R66aR112R113hgoR2i13540R3R64R5R115R66aR114R115hgoR2i13648R3R64R5R117R66aR116R117hgoR0y29:assets%2Fdata%2Fbehaviors.mbsR2i4896R3y6:BINARYR5R118R6tgoR0y24:assets%2Fdata%2Fgame.mbsR2i5612R3R119R5R120R6tgoR0y34:assets%2Fdata%2Finner-joystick.pngR2i2279R3R8R5R121R6tgoR0y41:assets%2Fdata%2Finner-joystick%401.5x.pngR2i6157R3R8R5R122R6tgoR0y39:assets%2Fdata%2Finner-joystick%402x.pngR2i8616R3R8R5R123R6tgoR0y39:assets%2Fdata%2Finner-joystick%403x.pngR2i27379R3R8R5R124R6tgoR0y39:assets%2Fdata%2Finner-joystick%404x.pngR2i19892R3R8R5R125R6tgoR0y34:assets%2Fdata%2Fouter-joystick.pngR2i6956R3R8R5R126R6tgoR0y41:assets%2Fdata%2Fouter-joystick%401.5x.pngR2i17563R3R8R5R127R6tgoR0y39:assets%2Fdata%2Fouter-joystick%402x.pngR2i21345R3R8R5R128R6tgoR0y39:assets%2Fdata%2Fouter-joystick%403x.pngR2i50646R3R8R5R129R6tgoR0y39:assets%2Fdata%2Fouter-joystick%404x.pngR2i56138R3R8R5R130R6tgoR0y29:assets%2Fdata%2Fresources.mbsR2i20078R3R119R5R131R6tgoR0y27:assets%2Fdata%2Fscene-0.mbsR2i583R3R119R5R132R6tgoR0y27:assets%2Fdata%2Fscene-0.scnR2i49R3R119R5R133R6tgoR0y27:assets%2Fdata%2Fscene-1.mbsR2i581R3R119R5R134R6tgoR0y27:assets%2Fdata%2Fscene-1.scnR2i69R3R119R5R135R6tgoR0y27:assets%2Fdata%2Fscene-2.mbsR2i863R3R119R5R136R6tgoR0y27:assets%2Fdata%2Fscene-2.scnR2i33R3R119R5R137R6tgoR0y27:assets%2Fdata%2Fscene-3.mbsR2i400R3R119R5R138R6tgoR0y27:assets%2Fdata%2Fscene-3.scnR2i13R3R119R5R139R6tgoR0y27:assets%2Fdata%2Fscene-4.mbsR2i337R3R119R5R140R6tgoR0y27:assets%2Fdata%2Fscene-4.scnR2i21R3R119R5R141R6tgoR0y27:assets%2Fdata%2Fscene-5.mbsR2i588R3R119R5R142R6tgoR0y27:assets%2Fdata%2Fscene-5.scnR2i49R3R119R5R143R6tgoR0y27:assets%2Fdata%2Fscene-6.mbsR2i922R3R119R5R144R6tgoR0y27:assets%2Fdata%2Fscene-6.scnR2i33R3R119R5R145R6tgoR0y26:assets%2Fdata%2Fscenes.mbsR2i259R3R119R5R146R6tgh","rootPath":null,"version":2,"libraryArgs":[],"libraryType":null}',na.rootPath),e=Wb.fromManifest(e),wa.registerLibrary("default",e),null!=(e=wa.getLibrary("default"))?na.preloadLibraries.push(e):na.preloadLibraryNames.push("default")},Math.__name__="Math";var X=function(){};k.Reflect=X,X.__name__="Reflect",X.field=function(e,i){try{return e[i]}catch(s){return ha.lastException=s,null}},X.getProperty=function(e,i){var s;return null==e?null:e.__properties__&&(s=e.__properties__["get_"+i])?e[s]():e[i]},X.setProperty=function(e,i,s){var n;e.__properties__&&(n=e.__properties__["set_"+i])?e[n](s):e[i]=s},X.fields=function(e){var i=[];if(null!=e){var n,s=Object.prototype.hasOwnProperty;for(n in e)"__id__"!=n&&"hx__closures__"!=n&&s.call(e,n)&&i.push(n)}return i},X.isFunction=function(e){return"function"==typeof e&&!(e.__name__||e.__ename__)},X.compare=function(e,i){return e==i?0:e>i?1:-1},X.compareMethods=function(e,i){return e==i||!(!X.isFunction(e)||!X.isFunction(i)||e.scope!=i.scope||e.method!=i.method)&&null!=e.method},X.isObject=function(e){if(null==e)return!1;var i=typeof e;return"string"==i||"object"==i&&null==e.__enum__||"function"==i&&null!=(e.__name__||e.__ename__)},X.isEnumValue=function(e){return null!=e&&null!=e.__enum__},X.deleteField=function(e,i){return!!Object.prototype.hasOwnProperty.call(e,i)&&(delete e[i],!0)},X.makeVarArgs=function(e){return function(){var i=Array.prototype.slice.call(arguments);return e(i)}};var da=function(e,i){null==i&&(i=2),this.swipeTimeout=.1,this.longPressDelay=1;var s=this;if(!da.initialized){da.initialized=!0;var n=Ya.get_current().stage;da.moveToleSqr=.008*new ra(n.stageWidth,n.stageHeight).get_length(),da.moveToleSqr*=da.moveToleSqr,Le.get_supportsTouchEvents()&&(Le.inputMode=2)}for(this.owner=e,this.mode=i,e=Le.get_supportsTouchEvents(),this.owner.mouseEnabled=!0,this.listenEvents=1==this.mode?e?da.touchEvents:da.mouseEvents:e?da.geTouchEvents:da.geMouseEvents,this.handler=r(this,1==this.mode?e?this.convertTouch:this.convertMouse:e?this.onTouch:this.onMouse),e=0,i=this.listenEvents;e<i.length;)n=i[e],++e,this.owner.addEventListener(n,this.handler);3==this.mode&&Ya.get_current().stage.addEventListener("resize",function(o){s.overlay=null}),this.touchList=new ib,this.setReady()};k.RoxGestureAgent=da,da.__name__="RoxGestureAgent",da.__properties__={get_multitouchSupported:"get_multitouchSupported"},da.init=function(){if(!da.initialized){da.initialized=!0;var e=Ya.get_current().stage;da.moveToleSqr=.008*new ra(e.stageWidth,e.stageHeight).get_length(),da.moveToleSqr*=da.moveToleSqr,Le.get_supportsTouchEvents()&&(Le.inputMode=2)}},da.localOffset=function(e,i){var s=e.parent.localToGlobal(new ra(e.get_x(),e.get_y()));return s.offset(i.x,i.y),(s=e.parent.globalToLocal(s)).offset(-e.get_x(),-e.get_y()),s},da.get_multitouchSupported=function(){return!!Le.get_supportsTouchEvents()&&1<Le.maxTouchPoints},da.initTypeMap=function(){for(var e=new va,i=0,s=da.MAP.length>>1;i<s;){var n=i++,o=da.MAP[n<<1];n=da.MAP[1+(n<<1)],null!=t[o]?e.setReserved(o,n):e.h[o]=n}return e},da.prototype={mode:null,longPressDelay:null,swipeTimeout:null,owner:null,touch0:null,touch1:null,touchList:null,listenEvents:null,handler:null,longPressTimer:null,tweener:null,overlay:null,state:null,detach:function(){null!=this.tweener&&(Eb.cancel(this.tweener),this.tweener=null),this.setReady();for(var e=0,i=this.listenEvents;e<i.length;){var s=i[e];++e,this.owner.removeEventListener(s,this.handler)}this.overlay=this.owner=null},getHandler:function(e){null==e&&(e=3);var i=r(this,this.handleEvent),s=e;return function(n){i(s,n)}},startTweenXY:function(e,i,s,n){var o=this;this.tweener=new bg,this.tweener.tween(e.get_x(),s,e.get_y(),n,sb.linear,1e3*i|0).doOnUpdate(function(){e.set_x(o.tweener.value1),e.set_y(o.tweener.value2)})},stopTween:function(){null!=this.tweener&&(Eb.cancel(this.tweener),this.tweener=null)},handleEvent:function(e,i){var s=i.target;if(s==this.owner)switch(i.type){case"rox_gesture_pan":i=i.extra;var n=s.parent.localToGlobal(new ra(s.get_x(),s.get_y()));n.offset(i.x,i.y),(n=s.parent.globalToLocal(n)).offset(-s.get_x(),-s.get_y()),i=n,1&e&&s.set_x(s.get_x()+i.x),2&e&&s.set_y(s.get_y()+i.y);break;case"rox_gesture_pinch":e=i.extra;var o=s.parent.localToGlobal(new ra(s.get_x(),s.get_y()));n=o.x-i.stageX;var l=o.y-i.stageY;o=Math.atan2(l,n),n=new ra(n,l).get_length(),(n=ra.polar(n*e,o)).offset(i.stageX,i.stageY),n=s.parent.globalToLocal(n),s.set_scaleX(s.get_scaleX()*e),s.set_scaleY(s.get_scaleY()*e),s.set_x(n.x),s.set_y(n.y);break;case"rox_gesture_rotation":e=i.extra,n=(o=s.parent.localToGlobal(new ra(s.get_x(),s.get_y()))).x-i.stageX,l=o.y-i.stageY,o=Math.atan2(l,n),n=new ra(n,l).get_length(),(n=ra.polar(n,o+e)).offset(i.stageX,i.stageY),n=s.parent.globalToLocal(n),s.set_rotation(s.get_rotation()+da.R2D*e),s.set_x(n.x),s.set_y(n.y);break;case"rox_gesture_swipe":i=new ra(2*i.extra.x,2*i.extra.y),(e=s.parent.localToGlobal(new ra(s.get_x(),s.get_y()))).offset(i.x,i.y),(e=s.parent.globalToLocal(e)).offset(-s.get_x(),-s.get_y()),i=s.get_x()+e.x,e=s.get_y()+e.y;var _=this;this.tweener=new bg,this.tweener.tween(s.get_x(),i,s.get_y(),e,sb.linear,2e3).doOnUpdate(function(){s.set_x(_.tweener.value1),s.set_y(_.tweener.value2)})}},convertTouch:function(e){var i=e.type,s=da.typeMap;this.owner.dispatchEvent(new Ja(null!=t[i]?s.getReserved(i):s.h[i],e.bubbles,e.cancelable,e.localX,e.localY,e.stageX,e.stageY,e.touchPointID,this))},convertMouse:function(e){var i=e.type;if("mouseDown"==i||"mouseUp"==i||"click"==i||e.buttonDown){var s=da.typeMap;this.owner.dispatchEvent(new Ja(null!=t[i]?s.getReserved(i):s.h[i],e.bubbles,e.cancelable,e.localX,e.localY,e.stageX,e.stageY,0,this))}},onTouch:function(e){var i=e.touchPointID,s=null==this.touch0||this.touch0.tid==i;if(s||null!=this.touch1&&this.touch1.tid==i||null!=this.touch0&&null==this.touch1&&this.touch0.tid!=i){var n=e.type,o=da.typeMap;this.handleTouch(null!=t[n]?o.getReserved(n):o.h[n],e,s,i)}},onMouse:function(e){var i=e.type;if("mouseDown"==i||"mouseUp"==i||e.buttonDown){var s=da.typeMap;this.handleTouch(null!=t[i]?s.getReserved(i):s.h[i],e,!0,0)}},handleTouch:function(e,i,s,n){var o=new qb(this.owner,i,n),l=s?this.touch0:this.touch1;if(n="rox_touch_move"==e&&null!=l&&(n=l.sx-o.sx)*n+(l=l.sy-o.sy)*l<da.moveToleSqr)return!1;switch(n=!0,this.state){case 0:if(s&&"rox_touch_begin"==e){this.state=1,this.touch0=o;var _=r(this,this.sendLongPress);if(this.longPressTimer=Eb.timer(1e3*this.longPressDelay|0).doOnComplete(function(){_(o)}),null!=this.tweener&&(Eb.cancel(this.tweener),this.tweener=null),3==this.mode)for(s=Ya.get_current().stage,null==this.overlay&&(this.overlay=new qa,this.overlay.set_name("overlay"),this.overlay.get_graphics().beginFill(16777215,.00392156862745098),this.overlay.get_graphics().drawRect(0,0,s.stageWidth,s.stageHeight)),s.addChild(this.overlay),s=0,e=this.listenEvents;s<e.length;)i=e[s],++s,this.overlay.addEventListener(i,this.handler)}else n=!1;break;case 1:s&&"rox_touch_end"==e?(this.owner.dispatchEvent(new Ja("rox_gesture_tap",null,null,o.lx,o.ly,o.sx,o.sy,null,this)),this.setReady()):s&&"rox_touch_move"==e?(s=new ra(o.sx-this.touch0.sx,o.sy-this.touch0.sy),this.owner.dispatchEvent(new Ja("rox_gesture_pan",null,null,o.lx,o.ly,o.sx,o.sy,null,this,s)),this.state=4,null!=this.touch0&&this.touchList.push(this.touch0),this.touch0=o,null!=this.longPressTimer&&(Eb.cancel(this.longPressTimer),this.longPressTimer=null)):s||"rox_touch_begin"!=e?n=!1:(this.state=2,this.touch1=o,null!=this.longPressTimer&&(Eb.cancel(this.longPressTimer),this.longPressTimer=null));break;case 2:if("rox_touch_end"==e)this.owner.dispatchEvent(new Ja("rox_gesture_end",null,null,o.lx,o.ly,o.sx,o.sy,null,this)),this.setReady();else if("rox_touch_move"==e){var h=s?this.touch0:this.touch1;e=ra.distance(o.spt,(l=s?this.touch1:this.touch0).spt)/ra.distance(h.spt,l.spt),i=Math.atan2(o.sy-l.sy,o.sx-l.sx)-Math.atan2(h.sy-l.sy,h.sx-l.sx),l=ra.interpolate(l.lpt,h.lpt,.5),h=this.owner.localToGlobal(l),1!=e&&this.owner.dispatchEvent(new Ja("rox_gesture_pinch",null,null,l.x,l.y,h.x,h.y,null,this,e)),0!=i&&this.owner.dispatchEvent(new Ja("rox_gesture_rotation",null,null,l.x,l.y,h.x,h.y,null,this,i)),s?this.touch0=o:this.touch1=o}else n=!1;break;case 4:if(s&&"rox_touch_move"==e)s=new ra(o.sx-this.touch0.sx,o.sy-this.touch0.sy),this.owner.dispatchEvent(new Ja("rox_gesture_pan",null,null,o.lx,o.ly,o.sx,o.sy,null,this,s)),this.state=4,null!=this.touch0&&this.touchList.push(this.touch0),this.touch0=o,null!=this.longPressTimer&&(Eb.cancel(this.longPressTimer),this.longPressTimer=null);else if(s&&("rox_touch_end"==e||3!=this.mode&&"rox_touch_out"==e&&i.target==this.owner)){if(0>=this.swipeTimeout||o.time-this.touch0.time<this.swipeTimeout){for(s=this.touchList.pop(),e=null,i=this.touchList.h;null!=i&&(l=i.item,i=i.next,!(.2<s.time-l.time));)e=l;null!=e&&(i=s.sy-e.sy,l=s.sx-e.sx,h=Math.atan2(i,l),s=ra.polar(new ra(l,i).get_length()/(s.time-e.time)*.25,h),this.owner.dispatchEvent(new Ja("rox_gesture_swipe",null,null,o.lx,o.ly,o.sx,o.sy,null,this,s)))}this.setReady()}else s||"rox_touch_begin"!=e?n=!1:(this.owner.dispatchEvent(new Ja("rox_gesture_begin",null,null,o.lx,o.ly,o.sx,o.sy,null,this)),this.state=2,this.touch1=o,null!=this.longPressTimer&&(Eb.cancel(this.longPressTimer),this.longPressTimer=null))}return n},sendLongPress:function(e){this.owner.dispatchEvent(new Ja("rox_gesture_long_press",null,null,e.lx,e.ly,e.sx,e.sy,null,this)),this.setReady()},setReady:function(){if(this.state=0,this.touch0=this.touch1=null,this.touchList.clear(),null!=this.longPressTimer&&(Eb.cancel(this.longPressTimer),this.longPressTimer=null),null!=this.overlay&&3==this.mode){for(var e=0,i=this.listenEvents;e<i.length;){var s=i[e];++e,this.overlay.removeEventListener(s,this.handler)}Ya.get_current().stage.removeChild(this.overlay)}},setMove:function(e){this.state=4,null!=this.touch0&&this.touchList.push(this.touch0),this.touch0=e,null!=this.longPressTimer&&(Eb.cancel(this.longPressTimer),this.longPressTimer=null)},setTwoFingerMove:function(e){this.state=2,this.touch1=e,null!=this.longPressTimer&&(Eb.cancel(this.longPressTimer),this.longPressTimer=null)},cancelLongPress:function(){null!=this.longPressTimer&&(Eb.cancel(this.longPressTimer),this.longPressTimer=null)},__class__:da};var qb=function(e,i,s){this.tid=s,this.sx=i.stageX,this.sy=i.stageY,this.spt=new ra(this.sx,this.sy),this.lpt=e.globalToLocal(this.spt),this.lx=this.lpt.x,this.ly=this.lpt.y,this.time=(new Date).getTime()/1e3};k["_RoxGestureAgent.TouchPoint"]=qb,qb.__name__="_RoxGestureAgent.TouchPoint",qb.prototype={tid:null,lx:null,ly:null,sx:null,sy:null,lpt:null,spt:null,time:null,distSqr:function(e){var i=e.sx-this.sx;return i*i+(e=e.sy-this.sy)*e},__class__:qb};var Ia=function(e,i,s){this.__pool=new Aa,this.inactiveObjects=this.activeObjects=0,this.__inactiveObject1=this.__inactiveObject0=null,this.__inactiveObjectList=new ib,null!=e&&(this.create=e),null!=i&&(this.clean=i),null!=s&&this.set_size(s)};k["lime.utils.ObjectPool"]=Ia,Ia.__name__="lime.utils.ObjectPool",Ia.prototype={activeObjects:null,inactiveObjects:null,__inactiveObject0:null,__inactiveObject1:null,__inactiveObjectList:null,__pool:null,__size:null,add:function(e){this.__pool.exists(e)||(this.__pool.set(e,!1),this.clean(e),this.__pool.set(e,!1),null==this.__inactiveObject0?this.__inactiveObject0=e:null==this.__inactiveObject1?this.__inactiveObject1=e:this.__inactiveObjectList.add(e),this.inactiveObjects++)},clean:function(e){},clear:function(){this.__pool=new Aa,this.inactiveObjects=this.activeObjects=0,this.__inactiveObject1=this.__inactiveObject0=null,this.__inactiveObjectList.clear()},create:function(){return null},get:function(){var e=null;return 0<this.inactiveObjects?(null!=this.__inactiveObject0?(e=this.__inactiveObject0,this.__inactiveObject0=null):null!=this.__inactiveObject1?(e=this.__inactiveObject1,this.__inactiveObject1=null):(e=this.__inactiveObjectList.pop(),0<this.__inactiveObjectList.length&&(this.__inactiveObject0=this.__inactiveObjectList.pop()),0<this.__inactiveObjectList.length&&(this.__inactiveObject1=this.__inactiveObjectList.pop())),this.__pool.set(e,!0),this.inactiveObjects--,this.activeObjects++):(null==this.__size||this.activeObjects<this.__size)&&null!=(e=this.create())&&(this.__pool.set(e,!0),this.activeObjects++),e},release:function(e){this.__pool.exists(e)?this.__pool.get(e)||Ua.error("Object has already been released",{fileName:"lime/utils/ObjectPool.hx",lineNumber:106,className:"lime.utils.ObjectPool",methodName:"release"}):Ua.error("Object is not a member of the pool",{fileName:"lime/utils/ObjectPool.hx",lineNumber:102,className:"lime.utils.ObjectPool",methodName:"release"}),this.activeObjects--,null==this.__size||this.activeObjects+this.inactiveObjects<this.__size?(this.clean(e),this.__pool.set(e,!1),null==this.__inactiveObject0?this.__inactiveObject0=e:null==this.__inactiveObject1?this.__inactiveObject1=e:this.__inactiveObjectList.add(e),this.inactiveObjects++):this.__pool.remove(e)},remove:function(e){this.__pool.exists(e)&&(this.__pool.remove(e),this.__inactiveObject0==e?(this.__inactiveObject0=null,this.inactiveObjects--):this.__inactiveObject1==e?(this.__inactiveObject1=null,this.inactiveObjects--):this.__inactiveObjectList.remove(e)?this.inactiveObjects--:this.activeObjects--)},__addInactive:function(e){this.__pool.set(e,!1),null==this.__inactiveObject0?this.__inactiveObject0=e:null==this.__inactiveObject1?this.__inactiveObject1=e:this.__inactiveObjectList.add(e),this.inactiveObjects++},__getInactive:function(){if(null!=this.__inactiveObject0){var e=this.__inactiveObject0;this.__inactiveObject0=null}else null!=this.__inactiveObject1?(e=this.__inactiveObject1,this.__inactiveObject1=null):(e=this.__inactiveObjectList.pop(),0<this.__inactiveObjectList.length&&(this.__inactiveObject0=this.__inactiveObjectList.pop()),0<this.__inactiveObjectList.length&&(this.__inactiveObject1=this.__inactiveObjectList.pop()));return this.__pool.set(e,!0),this.inactiveObjects--,this.activeObjects++,e},__removeInactive:function(e){if(!(0>=e||0==this.inactiveObjects)&&(null!=this.__inactiveObject0&&(this.__pool.remove(this.__inactiveObject0),this.__inactiveObject0=null,this.inactiveObjects--,--e),0!=e&&0!=this.inactiveObjects&&(null!=this.__inactiveObject1&&(this.__pool.remove(this.__inactiveObject1),this.__inactiveObject1=null,this.inactiveObjects--,--e),0!=e&&0!=this.inactiveObjects)))for(var i=this.__inactiveObjectList.h;null!=i;){var s=i.item;if(i=i.next,this.__pool.remove(s),this.__inactiveObjectList.remove(s),this.inactiveObjects--,0==--e||0==this.inactiveObjects)break}},get_size:function(){return this.__size},set_size:function(e){if(null==e)this.__size=null;else{var i=this.inactiveObjects+this.activeObjects;if(this.__size=e,i>e)this.__removeInactive(i-e);else if(e>i)for(var s=0,n=e-i;s<n&&(s++,null!=(i=this.create()));)this.__pool.set(i,!1),this.__inactiveObjectList.add(i),this.inactiveObjects++}return e},__class__:Ia,__properties__:{set_size:"set_size",get_size:"get_size"}};var Gb=function(){};k["haxe.IMap"]=Gb,Gb.__name__="haxe.IMap",Gb.__isInterface__=!0,Gb.prototype={get:null,set:null,exists:null,remove:null,keys:null,iterator:null,keyValueIterator:null,__class__:Gb};var Aa=function(){this.h={__keys__:{}}};k["haxe.ds.ObjectMap"]=Aa,Aa.__name__="haxe.ds.ObjectMap",Aa.__interfaces__=[Gb],Aa.prototype={h:null,set:function(e,i){var s=e.__id__||(e.__id__=J.$haxeUID++);this.h[s]=i,this.h.__keys__[s]=e},get:function(e){return this.h[e.__id__]},exists:function(e){return null!=this.h.__keys__[e.__id__]},remove:function(e){return null!=this.h.__keys__[e=e.__id__]&&(delete this.h[e],delete this.h.__keys__[e],!0)},keys:function(){var i,e=[];for(i in this.h.__keys__)this.h.hasOwnProperty(i)&&e.push(this.h.__keys__[i]);return B.iter(e)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var e=this.it.next();return this.ref[e.__id__]}}},keyValueIterator:function(){return new rh(this)},toString:function(){for(var e="{",i=this.keys();i.hasNext();){var s=i.next();e+=O.string(O.string(s)),e+=" => ",e+=O.string(O.string(this.h[s.__id__])),i.hasNext()&&(e+=", ")}return e+"}"},__class__:Aa};var ib=function(){this.length=0};k["haxe.ds.List"]=ib,ib.__name__="haxe.ds.List",ib.prototype={h:null,q:null,length:null,add:function(e){e=new gm(e,null),null==this.h?this.h=e:this.q.next=e,this.q=e,this.length++},push:function(e){this.h=e=new gm(e,this.h),null==this.q&&(this.q=e),this.length++},pop:function(){if(null==this.h)return null;var e=this.h.item;return this.h=this.h.next,null==this.h&&(this.q=null),this.length--,e},clear:function(){this.q=this.h=null,this.length=0},remove:function(e){for(var i=null,s=this.h;null!=s;){if(s.item==e)return null==i?this.h=s.next:i.next=s.next,this.q==s&&(this.q=i),this.length--,!0;i=s,s=s.next}return!1},iterator:function(){return new Gp(this.h)},__class__:ib};var fa=function(e,i,s){null==s&&(s=!1),null==i&&(i=!1),this.type=e,this.bubbles=i,this.cancelable=s,this.eventPhase=2};k["openfl.events.Event"]=fa,fa.__name__="openfl.events.Event",fa.prototype={bubbles:null,cancelable:null,currentTarget:null,eventPhase:null,target:null,type:null,__isCanceled:null,__isCanceledNow:null,__preventDefault:null,clone:function(){var e=new fa(this.type,this.bubbles,this.cancelable);return e.eventPhase=this.eventPhase,e.target=this.target,e.currentTarget=this.currentTarget,e},formatToString:function(e,i,s,n,o,l){var _=[];return null!=i&&_.push(i),null!=s&&_.push(s),null!=n&&_.push(n),null!=o&&_.push(o),null!=l&&_.push(l),r(this,this.__formatToString).apply(this,[e,_])},isDefaultPrevented:function(){return this.__preventDefault},preventDefault:function(){this.cancelable&&(this.__preventDefault=!0)},stopImmediatePropagation:function(){this.__isCanceledNow=this.__isCanceled=!0},stopPropagation:function(){this.__isCanceled=!0},toString:function(){return this.__formatToString("Event",["type","bubbles","cancelable"])},__formatToString:function(e,i){e="["+e;for(var s,n=0;n<i.length;){var o=i[n];++n,e="string"==typeof(s=X.field(this,o))?e+" "+o+'="'+O.string(s)+'"':e+" "+o+"="+O.string(s)}return e+"]"},__init:function(){this.currentTarget=this.target=null,this.cancelable=this.bubbles=!1,this.eventPhase=2,this.__preventDefault=this.__isCanceledNow=this.__isCanceled=!1},__class__:fa};var Ja=function(e,i,s,n,o,l,_,h,m,f){null==h&&(h=0),null==s&&(s=!1),null==i&&(i=!0),fa.call(this,e,i,s),this.localX=n,this.localY=o,this.stageX=l,this.stageY=_,this.touchPointID=h,this.agent=m,this.extra=f};k.RoxGestureEvent=Ja,Ja.__name__="RoxGestureEvent",Ja.__super__=fa,Ja.prototype=x(fa.prototype,{localX:null,localY:null,stageX:null,stageY:null,touchPointID:null,agent:null,extra:null,toString:function(){return this.type+"("+this.touchPointID+"): local=("+this.localX+","+this.localY+"), stage=("+this.stageX+","+this.stageY+"), extra="+(this.extra instanceof ra?"Point("+O.string(this.extra.x)+","+O.string(this.extra.y)+")":this.extra)},__class__:Ja});var O=function(){};k.Std=O,O.__name__="Std",O.string=function(e){return T.__string_rec(e,"")},O.parseInt=function(e){return e=parseInt(e,!e||"0"!=e[0]||"x"!=e[1]&&"X"!=e[1]?10:16),isNaN(e)?null:e};var ve=function(){};k["_String.String_Impl_"]=ve,ve.__name__="_String.String_Impl_",ve.fromCharCode=function(e){return String.fromCodePoint(e)};var $c=function(){this.b=""};k.StringBuf=$c,$c.__name__="StringBuf",$c.prototype={b:null,__class__:$c};var aa=function(){};k.StringTools=aa,aa.__name__="StringTools",aa.htmlEscape=function(e,i){for(var s="",n=0;n<e.length;){var o=e,l=n++,_=o.charCodeAt(l);switch(55296<=_&&56319>=_&&(_=_-55232<<10|1023&o.charCodeAt(l+1)),65536<=(o=_)&&++n,o){case 34:s=i?s+"&quot;":s+String.fromCodePoint(o);break;case 38:s+="&amp;";break;case 39:s=i?s+"&#039;":s+String.fromCodePoint(o);break;case 60:s+="&lt;";break;case 62:s+="&gt;";break;default:s+=String.fromCodePoint(o)}}return s},aa.startsWith=function(e,i){return e.length>=i.length&&0==e.lastIndexOf(i,0)},aa.endsWith=function(e,i){var s=i.length,n=e.length;return n>=s&&e.indexOf(i,n-s)==n-s},aa.isSpace=function(e,i){return 8<(e=B.cca(e,i))&&14>e||32==e},aa.ltrim=function(e){for(var i=e.length,s=0;s<i&&aa.isSpace(e,s);)++s;return 0<s?B.substr(e,s,i-s):e},aa.rtrim=function(e){for(var i=e.length,s=0;s<i&&aa.isSpace(e,i-s-1);)++s;return 0<s?B.substr(e,0,i-s):e},aa.trim=function(e){return aa.ltrim(aa.rtrim(e))},aa.rpad=function(e,i,s){if(0>=i.length)return e;for(e=null==e?"null":""+e;e.length<s;)e+=null==i?"null":""+i;return e},aa.replace=function(e,i,s){return e.split(i).join(s)},aa.hex=function(e,i){for(var s="";s="0123456789ABCDEF".charAt(15&e)+s,0<(e>>>=4););if(null!=i)for(;s.length<i;)s="0"+s;return s};var Ad=C.ValueType={__ename__:"ValueType",__constructs__:"TNull TInt TFloat TBool TObject TFunction TClass TEnum TUnknown".split(" "),TNull:{_hx_index:0,__enum__:"ValueType",toString:v},TInt:{_hx_index:1,__enum__:"ValueType",toString:v},TFloat:{_hx_index:2,__enum__:"ValueType",toString:v},TBool:{_hx_index:3,__enum__:"ValueType",toString:v},TObject:{_hx_index:4,__enum__:"ValueType",toString:v},TFunction:{_hx_index:5,__enum__:"ValueType",toString:v},TClass:(w=function(e){return{_hx_index:6,c:e,__enum__:"ValueType",toString:v}},w.__params__=["c"],w),TEnum:(w=function(e){return{_hx_index:7,e,__enum__:"ValueType",toString:v}},w.__params__=["e"],w),TUnknown:{_hx_index:8,__enum__:"ValueType",toString:v}},rb=function(){};k.Type=rb,rb.__name__="Type",rb.resolveEnum=function(e){return C[e]},rb.createInstance=function(e,i){return new(Function.prototype.bind.apply(e,[null].concat(i)))},rb.createEnum=function(e,i,s){var n=X.field(e,i);if(null==n)throw new E("No such constructor "+i);if(X.isFunction(n)){if(null==s)throw new E("Constructor "+i+" need parameters");return n.apply(e,s)}if(null!=s&&0!=s.length)throw new E("Constructor "+i+" does not need parameters");return n},rb.getInstanceFields=function(e){var s,i=[];for(s in e.prototype)i.push(s);return B.remove(i,"__class__"),B.remove(i,"__properties__"),i},rb.typeof=function(e){switch(typeof e){case"boolean":return Ad.TBool;case"function":return e.__name__||e.__ename__?Ad.TObject:Ad.TFunction;case"number":return Math.ceil(e)==e%2147483648?Ad.TInt:Ad.TFloat;case"object":if(null==e)return Ad.TNull;var i=e.__enum__;return null!=i?Ad.TEnum(C[i]):null!=(e=T.getClass(e))?Ad.TClass(e):Ad.TObject;case"string":return Ad.TClass(String);case"undefined":return Ad.TNull;default:return Ad.TUnknown}},rb.enumEq=function(e,i){if(e==i)return!0;try{var s=e.__enum__;if(null==s||s!=i.__enum__||e._hx_index!=i._hx_index)return!1;var n=C[s],o=n[n.__constructs__[e._hx_index]].__params__;for(s=0;s<o.length;){var l=o[s];if(++s,!rb.enumEq(e[l],i[l]))return!1}}catch(_){return ha.lastException=_,!1}return!0},rb.enumParameters=function(e){var i=C[e.__enum__];if(null!=(i=i[i.__constructs__[e._hx_index]].__params__)){for(var s=[],n=0;n<i.length;){var o=i[n];++n,s.push(e[o])}return s}return[]};var Ga={};k["_UInt.UInt_Impl_"]=Ga,Ga.__name__="_UInt.UInt_Impl_",Ga.gt=function(e,i){var s=0>e;return s!=0>i?s:e>i},Ga.toFloat=function(e){return 0>e?4294967296+e:e+0};var Ef=function(){};k["openfl.events.IEventDispatcher"]=Ef,Ef.__name__="openfl.events.IEventDispatcher",Ef.__isInterface__=!0,Ef.prototype={addEventListener:null,dispatchEvent:null,hasEventListener:null,removeEventListener:null,willTrigger:null,__class__:Ef};var A=function(e){null!=e&&(this.__targetDispatcher=e)};k["openfl.events.EventDispatcher"]=A,A.__name__="openfl.events.EventDispatcher",A.__interfaces__=[Ef],A.prototype={__eventMap:null,__iterators:null,__targetDispatcher:null,addEventListener:function(e,i,s,n,o){if(null==n&&(n=0),null==s&&(s=!1),null!=i)if(null==this.__eventMap&&(this.__eventMap=new va,this.__iterators=new va),o=this.__eventMap,null!=t[e]?o.existsReserved(e):o.h.hasOwnProperty(e)){o=this.__eventMap;for(var l=0,_=(o=null!=t[e]?o.getReserved(e):o.h[e]).length;l<_;)if(o[l++].match(i,s))return;for(l=this.__iterators,e=null!=t[e]?l.getReserved(e):l.h[e],l=0;l<e.length;)_=e[l],++l,_.active&&_.copy();this.__addListenerByPriority(o,new Dk(i,s,n))}else(o=[]).push(new Dk(i,s,n)),i=new Ek(o),s=this.__eventMap,null!=t[e]?s.setReserved(e,o):s.h[e]=o,s=this.__iterators,i=[i],null!=t[e]?s.setReserved(e,i):s.h[e]=i},dispatchEvent:function(e){return e.target=null!=this.__targetDispatcher?this.__targetDispatcher:this,this.__dispatchEvent(e)},hasEventListener:function(e){if(null==this.__eventMap)return!1;var i=this.__eventMap;return null!=t[e]?i.existsReserved(e):i.h.hasOwnProperty(e)},removeEventListener:function(e,i,s){if(null==s&&(s=!1),null!=this.__eventMap&&null!=i){var n=this.__eventMap;if(null!=(n=null!=t[e]?n.getReserved(e):n.h[e])){var o=this.__iterators;o=null!=t[e]?o.getReserved(e):o.h[e];for(var l=0,_=n.length;l<_;){var h=l++;if(n[h].match(i,s)){for(i=0;i<o.length;)s=o[i],++i,s.remove(n[h],h);n.splice(h,1);break}}0==n.length&&(this.__eventMap.remove(e),this.__iterators.remove(e)),new bf(e=this.__eventMap,e.arrayKeys()).hasNext()||(this.__iterators=this.__eventMap=null)}}},toString:function(){return"[object "+T.getClass(this).__name__.split(".").pop()+"]"},willTrigger:function(e){return this.hasEventListener(e)},__dispatchEvent:function(e){if(null==this.__eventMap||null==e)return!0;var i=e.type,s=this.__eventMap;if(null==(s=null!=t[i]?s.getReserved(i):s.h[i]))return!0;null==e.target&&(e.target=null!=this.__targetDispatcher?this.__targetDispatcher:this),e.currentTarget=this;var n=1==e.eventPhase,o=this.__iterators;i=null!=t[i]?o.getReserved(i):o.h[i],(o=i[0]).active&&(o=new Ek(s),i.push(o)),o.start();for(var l=o;l.hasNext();){var _=l.next();if(null!=_&&_.useCapture==n&&(_.callback(e),e.__isCanceledNow))break}return o.stop(),o!=i[0]?B.remove(i,o):o.reset(s),!e.isDefaultPrevented()},__removeAllListeners:function(){this.__iterators=this.__eventMap=null},__addListenerByPriority:function(e,i){for(var s=e.length,n=s,o=0;o<s;){var l=o++;if(e[l].priority<i.priority){n=l;break}}e.splice(n,0,i)},__class__:A};var Id=function(){};k["openfl.display.IBitmapDrawable"]=Id,Id.__name__="openfl.display.IBitmapDrawable",Id.__isInterface__=!0,Id.prototype={__blendMode:null,__isMask:null,__mask:null,__renderable:null,__renderTransform:null,__scrollRect:null,__transform:null,__type:null,__worldAlpha:null,__worldColorTransform:null,__worldTransform:null,__getBounds:null,__update:null,__updateTransforms:null,__class__:Id};var La={};k["openfl._Vector.Vector_Impl_"]=La,La.__name__="openfl._Vector.Vector_Impl_",La.__properties__={set_length:"set_length",get_length:"get_length",set_fixed:"set_fixed",get_fixed:"get_fixed"},La.concat=function(e,i){return e.concat(i)},La.copy=function(e){return e.copy()},La.filter=function(e,i){return e.filter(i)},La.get=function(e,i){return e.get(i)},La.indexOf=function(e,i,s){return null==s&&(s=0),e.indexOf(i,s)},La.insertAt=function(e,i,s){e.insertAt(i,s)},La.iterator=function(e){return e.iterator()},La.join=function(e,i){return null==i&&(i=","),e.join(i)},La.lastIndexOf=function(e,i,s){return e.lastIndexOf(i,s)},La.pop=function(e){return e.pop()},La.push=function(e,i){return e.push(i)},La.removeAt=function(e,i){return e.removeAt(i)},La.reverse=function(e){return e.reverse()},La.set=function(e,i,s){return e.set(i,s)},La.shift=function(e){return e.shift()},La.slice=function(e,i,s){return null==i&&(i=0),e.slice(i,s)},La.sort=function(e,i){e.sort(i)},La.splice=function(e,i,s){return e.splice(i,s)},La.toString=function(e){return null!=e?e.toString():null},La.unshift=function(e,i){e.unshift(i)},La.convert=function(e){return e},La.toBoolVector=function(e,i,s,n){return new cg(i,s,n)},La.toIntVector=function(e,i,s,n){return new dg(i,s,n)},La.toFloatVector=function(e,i,s,n){return new eg(i,s,n,!0)},La.toFunctionVector=function(e,i,s,n){return new fg(i,s,n)},La.toObjectVector=function(e,i,s,n){return new Pf(i,s,n,!0)},La.toNullVector=function(e,i,s,n){return new Pf(i,s,n,!0)},La.fromBoolVector=function(e){return e},La.fromIntVector=function(e){return e},La.fromFloatVector=function(e){return e},La.fromFunctionVector=function(e){return e},La.fromObjectVector=function(e){return e},La.get_fixed=function(e){return e.fixed},La.set_fixed=function(e,i){return e.fixed=i},La.get_length=function(e){return e.get_length()},La.set_length=function(e,i){return e.set_length(i)};var ya=function(){A.call(this),this.__type=Oh.DISPLAY_OBJECT,this.__alpha=1,this.__blendMode=10,this.__cacheAsBitmap=!1,this.__transform=new Fa,this.__visible=!0,this.__rotationSine=this.__rotation=0,this.__worldAlpha=this.__scaleY=this.__scaleX=this.__rotationCosine=1,this.__worldBlendMode=10,this.__worldTransform=new Fa,this.__worldColorTransform=new Tb,this.__renderTransform=new Fa,this.__worldVisible=!0,this.set_name("instance"+ ++ya.__instanceCount),null!=ya.__initStage&&(this.stage=ya.__initStage,ya.__initStage=null,this.stage.addChild(this))};k["openfl.display.DisplayObject"]=ya,ya.__name__="openfl.display.DisplayObject",ya.__interfaces__=[Id],ya.__calculateAbsoluteTransform=function(e,i,s){s.a=e.a*i.a+e.b*i.c,s.b=e.a*i.b+e.b*i.d,s.c=e.c*i.a+e.d*i.c,s.d=e.c*i.b+e.d*i.d,s.tx=e.tx*i.a+e.ty*i.c+i.tx,s.ty=e.tx*i.b+e.ty*i.d+i.ty},ya.__super__=A,ya.prototype=x(A.prototype,{opaqueBackground:null,parent:null,stage:null,__alpha:null,__blendMode:null,__cacheAsBitmap:null,__cacheAsBitmapMatrix:null,__cacheBitmap:null,__cacheBitmapBackground:null,__cacheBitmapColorTransform:null,__cacheBitmapData:null,__cacheBitmapData2:null,__cacheBitmapData3:null,__cacheBitmapDataTexture:null,__cacheBitmapMatrix:null,__cacheBitmapRendererHW:null,__cacheBitmapRendererSW:null,__cairo:null,__children:null,__customRenderClear:null,__customRenderEvent:null,__filters:null,__graphics:null,__interactive:null,__isCacheBitmapRender:null,__isMask:null,__loaderInfo:null,__mask:null,__maskTarget:null,__name:null,__objectTransform:null,__renderable:null,__renderDirty:null,__renderParent:null,__renderTransform:null,__renderTransformCache:null,__renderTransformChanged:null,__rotation:null,__rotationCosine:null,__rotationSine:null,__scale9Grid:null,__scaleX:null,__scaleY:null,__scrollRect:null,__shader:null,__tempPoint:null,__transform:null,__transformDirty:null,__type:null,__visible:null,__worldAlpha:null,__worldAlphaChanged:null,__worldBlendMode:null,__worldClip:null,__worldClipChanged:null,__worldColorTransform:null,__worldShader:null,__worldScale9Grid:null,__worldTransform:null,__worldVisible:null,__worldVisibleChanged:null,__worldTransformInvalid:null,__worldZ:null,__canvas:null,__context:null,__style:null,addEventListener:function(e,i,s,n,o){switch(null==o&&(o=!1),null==n&&(n=0),null==s&&(s=!1),e){case"activate":case"deactivate":case"enterFrame":case"exitFrame":case"frameConstructed":case"render":var l=ya.__broadcastEvents;if(null!=t[e]?!l.existsReserved(e):!l.h.hasOwnProperty(e)){l=ya.__broadcastEvents;var _=[];null!=t[e]?l.setReserved(e,_):l.h[e]=_}l=ya.__broadcastEvents,-1==(l=null!=t[e]?l.getReserved(e):l.h[e]).indexOf(this)&&l.push(this);break;case"clearDOM":case"renderCairo":case"renderCanvas":case"renderDOM":case"renderOpenGL":null==this.__customRenderEvent&&(this.__customRenderEvent=new gg(null),this.__customRenderEvent.objectColorTransform=new Tb,this.__customRenderEvent.objectMatrix=new Fa,this.__customRenderClear=!0)}A.prototype.addEventListener.call(this,e,i,s,n,o)},dispatchEvent:function(e){if(e instanceof Yb){var i=this.__getRenderTransform();e.stageX=e.localX*i.a+e.localY*i.c+i.tx,i=this.__getRenderTransform(),e.stageY=e.localX*i.b+e.localY*i.d+i.ty}else e instanceof Vd&&(i=this.__getRenderTransform(),e.stageX=e.localX*i.a+e.localY*i.c+i.tx,i=this.__getRenderTransform(),e.stageY=e.localX*i.b+e.localY*i.d+i.ty);return e.target=this,this.__dispatchWithCapture(e)},getBounds:function(e){var i=Fa.__pool.get();if(null!=e&&e!=this){i.copyFrom(this.__getWorldTransform());var s=Fa.__pool.get();s.copyFrom(e.__getWorldTransform()),s.invert(),i.concat(s),Fa.__pool.release(s)}else i.identity();return e=new ia,this.__getBounds(e,i),Fa.__pool.release(i),e},getRect:function(e){return this.getBounds(e)},globalToLocal:function(e){return this.__globalToLocal(e,new ra)},hitTestObject:function(e){if(null!=e&&null!=e.parent&&null!=this.parent){var i=this.getBounds(this);return e=e.getBounds(this),i.intersects(e)}return!1},hitTestPoint:function(e,i,s){return null==s&&(s=!1),null!=this.stage&&this.__hitTest(e,i,s,null,!1,this)},invalidate:function(){this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())},localToGlobal:function(e){return this.__getRenderTransform().transformPoint(e)},removeEventListener:function(e,i,s){switch(null==s&&(s=!1),A.prototype.removeEventListener.call(this,e,i,s),e){case"activate":case"deactivate":case"enterFrame":case"exitFrame":case"frameConstructed":case"render":!this.hasEventListener(e)&&(i=ya.__broadcastEvents,null!=t[e]?i.existsReserved(e):i.h.hasOwnProperty(e))&&(i=ya.__broadcastEvents,B.remove(null!=t[e]?i.getReserved(e):i.h[e],this));break;case"clearDOM":case"renderCairo":case"renderCanvas":case"renderDOM":case"renderOpenGL":this.hasEventListener("clearDOM")||this.hasEventListener("renderCairo")||this.hasEventListener("renderCanvas")||this.hasEventListener("renderDOM")||this.hasEventListener("renderOpenGL")||(this.__customRenderEvent=null)}},__cleanup:function(){this.__context=this.__canvas=this.__cairo=null,null!=this.__graphics&&this.__graphics.__cleanup(),null!=this.__cacheBitmap&&(this.__cacheBitmap.__cleanup(),this.__cacheBitmap=null),null!=this.__cacheBitmapDataTexture&&(this.__cacheBitmapDataTexture.dispose(),this.__cacheBitmapDataTexture=null),null!=this.__cacheBitmapData&&(this.__cacheBitmapData.dispose(),this.__cacheBitmapData=null),null!=this.__cacheBitmapData2&&(this.__cacheBitmapData2.dispose(),this.__cacheBitmapData2=null),null!=this.__cacheBitmapData3&&(this.__cacheBitmapData3.dispose(),this.__cacheBitmapData3=null)},__dispatch:function(e){if(null!=this.__eventMap&&this.hasEventListener(e.type)){var i=A.prototype.__dispatchEvent.call(this,e);return!!e.__isCanceled||i}return!0},__dispatchChildren:function(e){},__dispatchEvent:function(e){var i=e.bubbles?this.parent:null,s=A.prototype.__dispatchEvent.call(this,e);return!!e.__isCanceled||(null!=i&&i!=this&&(e.eventPhase=3,null==e.target&&(e.target=this),i.__dispatchEvent(e)),s)},__dispatchWithCapture:function(e){if(null==e.target&&(e.target=this),null!=this.parent)if(e.eventPhase=1,this.parent==this.stage)this.parent.__dispatch(e);else{for(var i=ya.__tempStack.get(),s=this.parent,n=0;null!=s;)i.set(n,s),s=s.parent,++n;s=0;for(var o=n;s<o;){var l=s++;i.get(n-l-1).__dispatch(e)}ya.__tempStack.release(i)}return e.eventPhase=2,this.__dispatchEvent(e)},__enterFrame:function(e){},__getBounds:function(e,i){null!=this.__graphics&&this.__graphics.__getBounds(e,i)},__getCursor:function(){return null},__getFilterBounds:function(e,i){if(this.__getRenderBounds(e,i),null!=this.__filters){i=ia.__pool.get();for(var s=0,n=this.__filters;s<n.length;){var o=n[s];++s,i.__expand(-o.__leftExtension,-o.__topExtension,o.__leftExtension+o.__rightExtension,o.__topExtension+o.__bottomExtension)}e.width+=i.width,e.height+=i.height,e.x+=i.x,e.y+=i.y,ia.__pool.release(i)}},__getInteractive:function(e){return!1},__getLocalBounds:function(e){this.__getBounds(e,this.__transform),e.x-=this.__transform.tx,e.y-=this.__transform.ty},__getRenderBounds:function(e,i){if(null==this.__scrollRect)this.__getBounds(e,i);else{var s=ia.__pool.get();s.copyFrom(this.__scrollRect),s.__transform(s,i),e.__expand(s.x,s.y,s.width,s.height),ia.__pool.release(s)}},__getRenderTransform:function(){return this.__getWorldTransform(),this.__renderTransform},__getWorldTransform:function(){if(this.__transformDirty||this.__worldTransformInvalid){var e=[],i=this;if(null==this.parent)this.__update(!0,!1);else for(;i!=this.stage&&(e.push(i),null!=(i=i.parent)););for(var s=e.length;0<=--s;)(i=e[s]).__update(!0,!1)}return this.__worldTransform},__globalToLocal:function(e,i){if(this.__getRenderTransform(),e==i){var s=this.__renderTransform,n=s.a*s.d-s.b*s.c;if(0==n)e.x=-s.tx,e.y=-s.ty;else{var o=1/n*(s.c*(s.ty-e.y)+s.d*(e.x-s.tx));e.y=1/n*(s.a*(e.y-s.ty)+s.b*(s.tx-e.x)),e.x=o}}else i.x=0==(n=(s=this.__renderTransform).a*s.d-s.b*s.c)?-s.tx:1/n*(s.c*(s.ty-e.y)+s.d*(e.x-s.tx)),i.y=0==(n=(s=this.__renderTransform).a*s.d-s.b*s.c)?-s.ty:1/n*(s.a*(e.y-s.ty)+s.b*(s.tx-e.x));return i},__hitTest:function(e,i,s,n,o,l){if(null!=this.__graphics){if(!l.__visible||this.__isMask||null!=this.get_mask()&&!this.get_mask().__hitTestMask(e,i))return!1;if(this.__graphics.__hitTest(e,i,s,this.__getRenderTransform()))return null==n||o||n.push(l),!0}return!1},__hitTestMask:function(e,i){return!(null==this.__graphics||!this.__graphics.__hitTest(e,i,!0,this.__getRenderTransform()))},__readGraphicsData:function(e,i){null!=this.__graphics&&this.__graphics.__readGraphicsData(e)},__setParentRenderDirty:function(){var e=null!=this.__renderParent?this.__renderParent:this.parent;null==e||e.__renderDirty||(e.__renderDirty=!0,e.__setParentRenderDirty())},__setRenderDirty:function(){this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())},__setStageReference:function(e){this.stage=e},__setTransformDirty:function(){this.__transformDirty||(this.__transformDirty=!0,this.__setWorldTransformInvalid(),this.__setParentRenderDirty())},__setWorldTransformInvalid:function(){this.__worldTransformInvalid=!0},__stopAllMovieClips:function(){},__update:function(e,i){var s=null!=this.__renderParent?this.__renderParent:this.parent;if(this.__isMask&&null==s&&(s=this.__maskTarget),this.__renderable=this.__visible&&0!=this.__scaleX&&0!=this.__scaleY&&!this.__isMask&&(null==s||!s.__isMask),this.__updateTransforms(),this.__worldTransformInvalid=this.__transformDirty=!1,!e)if(ya.__supportDOM&&(this.__renderTransformChanged=!this.__renderTransform.equals(this.__renderTransformCache),null==this.__renderTransformCache?this.__renderTransformCache=this.__renderTransform.clone():this.__renderTransformCache.copyFrom(this.__renderTransform)),null!=s){if(ya.__supportDOM){var n=s.__worldVisible&&this.__visible;this.__worldVisibleChanged=this.__worldVisible!=n,this.__worldVisible=n,n=this.get_alpha()*s.__worldAlpha,this.__worldAlphaChanged=this.__worldAlpha!=n,this.__worldAlpha=n}else this.__worldAlpha=this.get_alpha()*s.__worldAlpha;null!=this.__objectTransform?(this.__worldColorTransform.__copyFrom(this.__objectTransform.get_colorTransform()),this.__worldColorTransform.__combine(s.__worldColorTransform)):this.__worldColorTransform.__copyFrom(s.__worldColorTransform),this.__worldBlendMode=null==this.__blendMode||10==this.__blendMode?s.__worldBlendMode:this.__blendMode,this.__worldShader=null==this.__shader?s.__shader:this.__shader,this.__worldScale9Grid=null==this.__scale9Grid?s.__scale9Grid:this.__scale9Grid}else this.__worldAlpha=this.get_alpha(),ya.__supportDOM&&(this.__worldVisibleChanged=this.__worldVisible!=this.__visible,this.__worldVisible=this.__visible,this.__worldAlphaChanged=this.__worldAlpha!=this.get_alpha()),null!=this.__objectTransform?this.__worldColorTransform.__copyFrom(this.__objectTransform.get_colorTransform()):this.__worldColorTransform.__identity(),this.__worldBlendMode=this.__blendMode,this.__worldShader=this.__shader,this.__worldScale9Grid=this.__scale9Grid;i&&null!=this.get_mask()&&this.get_mask().__update(e,!0)},__updateTransforms:function(e){var i=null!=e;e=i?e:this.__transform,null==this.__worldTransform&&(this.__worldTransform=new Fa),null==this.__renderTransform&&(this.__renderTransform=new Fa);var s=null!=this.__renderParent?this.__renderParent:this.parent;if(i||null==this.parent)this.__worldTransform.copyFrom(e);else{var n=this.parent.__worldTransform,o=this.__worldTransform;o.a=e.a*n.a+e.b*n.c,o.b=e.a*n.b+e.b*n.d,o.c=e.c*n.a+e.d*n.c,o.d=e.c*n.b+e.d*n.d,o.tx=e.tx*n.a+e.ty*n.c+n.tx,o.ty=e.tx*n.b+e.ty*n.d+n.ty}i||null==s?this.__renderTransform.copyFrom(e):(i=s.__renderTransform,(s=this.__renderTransform).a=e.a*i.a+e.b*i.c,s.b=e.a*i.b+e.b*i.d,s.c=e.c*i.a+e.d*i.c,s.d=e.c*i.b+e.d*i.d,s.tx=e.tx*i.a+e.ty*i.c+i.tx,s.ty=e.tx*i.b+e.ty*i.d+i.ty),null!=this.__scrollRect&&((e=this.__renderTransform).tx=(i=-this.__scrollRect.x)*e.a+(s=-this.__scrollRect.y)*e.c+e.tx,e.ty=i*e.b+s*e.d+e.ty)},get_alpha:function(){return this.__alpha},set_alpha:function(e){return 1<e&&(e=1),0>e&&(e=0),e==this.__alpha||this.get_cacheAsBitmap()||this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()),this.__alpha=e},get_blendMode:function(){return this.__blendMode},set_blendMode:function(e){return null==e&&(e=10),e==this.__blendMode||this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()),this.__blendMode=e},get_cacheAsBitmap:function(){return null!=this.__filters||this.__cacheAsBitmap},set_cacheAsBitmap:function(e){return e==this.__cacheAsBitmap||this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()),this.__cacheAsBitmap=e},get_cacheAsBitmapMatrix:function(){return this.__cacheAsBitmapMatrix},set_cacheAsBitmapMatrix:function(e){return this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()),this.__cacheAsBitmapMatrix=null!=e?e.clone():e},get_filters:function(){return null==this.__filters?[]:this.__filters.slice()},set_filters:function(e){return null!=e&&0<e.length?(this.__filters=e,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())):null!=this.__filters&&(this.__filters=null,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())),e},get_height:function(){var e=ia.__pool.get();this.__getLocalBounds(e);var i=e.height;return ia.__pool.release(e),i},set_height:function(e){var i=ia.__pool.get(),s=Fa.__pool.get();return s.identity(),this.__getBounds(i,s),this.set_scaleY(e!=i.height?e/i.height:1),ia.__pool.release(i),Fa.__pool.release(s),e},get_loaderInfo:function(){return null!=this.stage?Sc.current.__loaderInfo:null},get_mask:function(){return this.__mask},set_mask:function(e){if(e==this.__mask)return e;if(e!=this.__mask&&(this.__setTransformDirty(),this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())),null!=this.__mask){this.__mask.__isMask=!1,this.__mask.__maskTarget=null,this.__mask.__setTransformDirty();var i=this.__mask;i.__renderDirty||(i.__renderDirty=!0,i.__setParentRenderDirty())}return null!=e&&(e.__isMask=!0,e.__maskTarget=this,e.__setWorldTransformInvalid()),null!=this.__cacheBitmap&&this.__cacheBitmap.get_mask()!=e&&this.__cacheBitmap.set_mask(e),this.__mask=e},get_mouseX:function(){var e=null!=this.stage?this.stage.__mouseX:Sc.current.stage.__mouseX,i=null!=this.stage?this.stage.__mouseY:Sc.current.stage.__mouseY,s=this.__getRenderTransform(),n=s.a*s.d-s.b*s.c;return 0==n?-s.tx:1/n*(s.c*(s.ty-i)+s.d*(e-s.tx))},get_mouseY:function(){var e=null!=this.stage?this.stage.__mouseX:Sc.current.stage.__mouseX,i=null!=this.stage?this.stage.__mouseY:Sc.current.stage.__mouseY,s=this.__getRenderTransform(),n=s.a*s.d-s.b*s.c;return 0==n?-s.ty:1/n*(s.a*(i-s.ty)+s.b*(s.tx-e))},get_name:function(){return this.__name},set_name:function(e){return this.__name=e},get_root:function(){return null!=this.stage?Sc.current:null},get_rotation:function(){return this.__rotation},set_rotation:function(e){if(e!=this.__rotation){this.__rotation=e;var i=Math.PI/180*this.__rotation;this.__rotationSine=Math.sin(i),this.__rotationCosine=Math.cos(i),this.__transform.a=this.__rotationCosine*this.__scaleX,this.__transform.b=this.__rotationSine*this.__scaleX,this.__transform.c=-this.__rotationSine*this.__scaleY,this.__transform.d=this.__rotationCosine*this.__scaleY,this.__setTransformDirty()}return e},get_scale9Grid:function(){return null==this.__scale9Grid?null:this.__scale9Grid.clone()},set_scale9Grid:function(e){return null==e&&null==this.__scale9Grid||null!=e&&null!=this.__scale9Grid&&this.__scale9Grid.equals(e)||(null!=e?(null==this.__scale9Grid&&(this.__scale9Grid=new ia),this.__scale9Grid.copyFrom(e)):this.__scale9Grid=null,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())),e},get_scaleX:function(){return this.__scaleX},set_scaleX:function(e){if(e!=this.__scaleX)if(this.__scaleX=e,0==this.__transform.b)e!=this.__transform.a&&this.__setTransformDirty(),this.__transform.a=e;else{var i=this.__rotationCosine*e,s=this.__rotationSine*e;this.__transform.a==i&&this.__transform.b==s||this.__setTransformDirty(),this.__transform.a=i,this.__transform.b=s}return e},get_scaleY:function(){return this.__scaleY},set_scaleY:function(e){if(e!=this.__scaleY)if(this.__scaleY=e,0==this.__transform.c)e!=this.__transform.d&&this.__setTransformDirty(),this.__transform.d=e;else{var i=-this.__rotationSine*e,s=this.__rotationCosine*e;this.__transform.d==s&&this.__transform.c==i||this.__setTransformDirty(),this.__transform.c=i,this.__transform.d=s}return e},get_scrollRect:function(){return null==this.__scrollRect?null:this.__scrollRect.clone()},set_scrollRect:function(e){return null==e&&null==this.__scrollRect||null!=e&&null!=this.__scrollRect&&this.__scrollRect.equals(e)||(null!=e?(null==this.__scrollRect&&(this.__scrollRect=new ia),this.__scrollRect.copyFrom(e)):this.__scrollRect=null,this.__setTransformDirty(),ya.__supportDOM&&!this.__renderDirty&&(this.__renderDirty=!0,this.__setParentRenderDirty())),e},get_shader:function(){return this.__shader},set_shader:function(e){return this.__shader=e,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()),e},get_transform:function(){return null==this.__objectTransform&&(this.__objectTransform=new hm(this)),this.__objectTransform},set_transform:function(e){if(null==e)throw new E(new Fk("Parameter transform must be non-null."));return null==this.__objectTransform&&(this.__objectTransform=new hm(this)),this.__setTransformDirty(),this.__objectTransform.set_matrix(e.get_matrix()),(!this.__objectTransform.get_colorTransform().__equals(e.get_colorTransform(),!0)||!this.get_cacheAsBitmap()&&this.__objectTransform.get_colorTransform().alphaMultiplier!=e.get_colorTransform().alphaMultiplier)&&(this.__objectTransform.get_colorTransform().__copyFrom(e.get_colorTransform()),this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())),this.__objectTransform},get_visible:function(){return this.__visible},set_visible:function(e){return e==this.__visible||this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()),this.__visible=e},get_width:function(){var e=ia.__pool.get();this.__getLocalBounds(e);var i=e.width;return ia.__pool.release(e),i},set_width:function(e){var i=ia.__pool.get(),s=Fa.__pool.get();return s.identity(),this.__getBounds(i,s),this.set_scaleX(e!=i.width?e/i.width:1),ia.__pool.release(i),Fa.__pool.release(s),e},get_x:function(){return this.__transform.tx},set_x:function(e){return e!=this.__transform.tx&&this.__setTransformDirty(),this.__transform.tx=e},get_y:function(){return this.__transform.ty},set_y:function(e){return e!=this.__transform.ty&&this.__setTransformDirty(),this.__transform.ty=e},__class__:ya,__properties__:{set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x",set_width:"set_width",get_width:"get_width",set_visible:"set_visible",get_visible:"get_visible",set_transform:"set_transform",get_transform:"get_transform",set_shader:"set_shader",get_shader:"get_shader",set_scrollRect:"set_scrollRect",get_scrollRect:"get_scrollRect",set_scaleY:"set_scaleY",get_scaleY:"get_scaleY",set_scaleX:"set_scaleX",get_scaleX:"get_scaleX",set_scale9Grid:"set_scale9Grid",get_scale9Grid:"get_scale9Grid",set_rotation:"set_rotation",get_rotation:"get_rotation",get_root:"get_root",set_name:"set_name",get_name:"get_name",get_mouseY:"get_mouseY",get_mouseX:"get_mouseX",set_mask:"set_mask",get_mask:"get_mask",get_loaderInfo:"get_loaderInfo",set_height:"set_height",get_height:"get_height",set_filters:"set_filters",get_filters:"get_filters",set_cacheAsBitmapMatrix:"set_cacheAsBitmapMatrix",get_cacheAsBitmapMatrix:"get_cacheAsBitmapMatrix",set_cacheAsBitmap:"set_cacheAsBitmap",get_cacheAsBitmap:"get_cacheAsBitmap",set_blendMode:"set_blendMode",get_blendMode:"get_blendMode",set_alpha:"set_alpha",get_alpha:"get_alpha"}});var Pa=function(){ya.call(this),this.doubleClickEnabled=!1,this.mouseEnabled=!0,this.needsSoftKeyboard=!1,this.__tabEnabled=null,this.__tabIndex=-1};k["openfl.display.InteractiveObject"]=Pa,Pa.__name__="openfl.display.InteractiveObject",Pa.__super__=ya,Pa.prototype=x(ya.prototype,{doubleClickEnabled:null,focusRect:null,mouseEnabled:null,needsSoftKeyboard:null,softKeyboardInputAreaOfInterest:null,__tabEnabled:null,__tabIndex:null,requestSoftKeyboard:function(){return Sc.notImplemented({fileName:"openfl/display/InteractiveObject.hx",lineNumber:1251,className:"openfl.display.InteractiveObject",methodName:"requestSoftKeyboard"}),!1},__allowMouseFocus:function(){return this.get_tabEnabled()},__getInteractive:function(e){return null!=e&&(e.push(this),null!=this.parent&&this.parent.__getInteractive(e)),!0},__hitTest:function(e,i,s,n,o,l){return!(!l.get_visible()||this.__isMask||o&&!this.mouseEnabled)&&ya.prototype.__hitTest.call(this,e,i,s,n,o,l)},__tabTest:function(e){this.get_tabEnabled()&&e.push(this)},get_tabEnabled:function(){return 1==this.__tabEnabled},set_tabEnabled:function(e){return this.__tabEnabled!=e&&(this.__tabEnabled=e,this.dispatchEvent(new fa("tabEnabledChange",!0,!1))),this.__tabEnabled},get_tabIndex:function(){return this.__tabIndex},set_tabIndex:function(e){if(this.__tabIndex!=e){if(-1>e)throw new E(new jj("Parameter tabIndex must be a non-negative number; got "+e));this.__tabIndex=e,this.dispatchEvent(new fa("tabIndexChange",!0,!1))}return this.__tabIndex},__class__:Pa,__properties__:x(ya.prototype.__properties__,{set_tabIndex:"set_tabIndex",get_tabIndex:"get_tabIndex",set_tabEnabled:"set_tabEnabled",get_tabEnabled:"get_tabEnabled"})});var Sa=function(){Pa.call(this),this.__type=Oh.DISPLAY_OBJECT_CONTAINER,this.__tabChildren=this.mouseChildren=!0,this.__children=[],this.__removedChildren=La.toObjectVector(null)};k["openfl.display.DisplayObjectContainer"]=Sa,Sa.__name__="openfl.display.DisplayObjectContainer",Sa.__super__=Pa,Sa.prototype=x(Pa.prototype,{mouseChildren:null,__removedChildren:null,__tabChildren:null,addChild:function(e){return this.addChildAt(e,this.get_numChildren())},addChildAt:function(e,i){if(null==e)throw(e=new Fk("Error #2007: Parameter child must be non-null.")).errorID=2007,new E(e);if(e.stage==e)throw(e=new yi("Error #3783: A Stage object cannot be added as the child of another object.")).errorID=3783,new E(e);if(i>this.__children.length||0>i)throw new E("Invalid index position "+i);if(e.parent==this)this.__children[i]!=e&&(B.remove(this.__children,e),this.__children.splice(i,0,e),this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()));else{null!=e.parent&&e.parent.removeChild(e),this.__children.splice(i,0,e),e.parent=this,(i=null!=this.stage&&null==e.stage)&&this.__setStageReference(this.stage),e.__setTransformDirty(),e.__renderDirty||(e.__renderDirty=!0,e.__setParentRenderDirty()),this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty());var s=fa.__pool.get();s.type="added",s.bubbles=!0,s.target=e,e.__dispatchWithCapture(s),fa.__pool.release(s),i&&(s=new fa("addedToStage",!1,!1),e.__dispatchWithCapture(s),e.__dispatchChildren(s))}return e},areInaccessibleObjectsUnderPoint:function(e){return!1},contains:function(e){for(;e!=this&&null!=e;)e=e.parent;return e==this},getChildAt:function(e){return 0<=e&&e<this.__children.length?this.__children[e]:null},getChildByName:function(e){for(var i=0,s=this.__children;i<s.length;){var n=s[i];if(++i,n.get_name()==e)return n}return null},getChildIndex:function(e){for(var i=0,s=this.__children.length;i<s;){var n=i++;if(this.__children[n]==e)return n}return-1},getObjectsUnderPoint:function(e){var i=[];return this.__hitTest(e.x,e.y,!1,i,!1,this),i.reverse(),i},removeChild:function(e){if(null!=e&&e.parent==this){e.__setTransformDirty(),e.__renderDirty||(e.__renderDirty=!0,e.__setParentRenderDirty()),this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty());var i=new fa("removed",!0);e.__dispatchWithCapture(i),null!=this.stage&&(null!=e.stage&&this.stage.get_focus()==e&&this.stage.set_focus(null),i=new fa("removedFromStage",!1,!1),e.__dispatchWithCapture(i),e.__dispatchChildren(i),e.__setStageReference(null)),e.parent=null,B.remove(this.__children,e),this.__removedChildren.push(e),e.__setTransformDirty()}return e},removeChildAt:function(e){return 0<=e&&e<this.__children.length?this.removeChild(this.__children[e]):null},removeChildren:function(e,i){if(null==i&&(i=2147483647),null==e&&(e=0),!(2147483647==i&&(i=this.__children.length-1,0>i)||e>this.__children.length-1)){if(i<e||0>e||i>this.__children.length)throw new E(new jj("The supplied index is out of bounds."));for(i-=e;0<=i;)this.removeChildAt(e),--i}},resolve:function(e){if(null==this.__children)return null;for(var i=0,s=this.__children;i<s.length;){var n=s[i];if(++i,n.get_name()==e)return n}return null},setChildIndex:function(e,i){0<=i&&i<=this.__children.length&&e.parent==this&&(B.remove(this.__children,e),this.__children.splice(i,0,e))},stopAllMovieClips:function(){this.__stopAllMovieClips()},swapChildren:function(e,i){if(e.parent==this&&i.parent==this){var s=this.__children.indexOf(e),n=this.__children.indexOf(i);this.__children[s]=i,this.__children[n]=e,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())}},swapChildrenAt:function(e,i){var s=this.__children[e];this.__children[e]=this.__children[i],this.__children[i]=s,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())},__cleanup:function(){Pa.prototype.__cleanup.call(this);for(var e=0,i=this.__children;e<i.length;){var s=i[e];++e,s.__cleanup()}for(e=this.__removedChildren.iterator();e.hasNext();)null==(i=e.next()).stage&&i.__cleanup();this.__removedChildren.set_length(0)},__cleanupRemovedChildren:function(){for(var e=this.__removedChildren.iterator();e.hasNext();){var i=e.next();null==i.stage&&i.__cleanup()}this.__removedChildren.set_length(0)},__dispatchChildren:function(e){if(null!=this.__children)for(var i=0,s=this.__children;i<s.length;){var n=s[i];if(++i,e.target=n,!n.__dispatchWithCapture(e))break;n.__dispatchChildren(e)}},__enterFrame:function(e){for(var i=0,s=this.__children;i<s.length;){var n=s[i];++i,n.__enterFrame(e)}},__getBounds:function(e,i){if(Pa.prototype.__getBounds.call(this,e,i),0!=this.__children.length){for(var s=Fa.__pool.get(),n=0,o=this.__children;n<o.length;){var l=o[n];if(++n,0!=l.__scaleX&&0!=l.__scaleY){var _=l.__transform;s.a=_.a*i.a+_.b*i.c,s.b=_.a*i.b+_.b*i.d,s.c=_.c*i.a+_.d*i.c,s.d=_.c*i.b+_.d*i.d,s.tx=_.tx*i.a+_.ty*i.c+i.tx,s.ty=_.tx*i.b+_.ty*i.d+i.ty,l.__getBounds(e,s)}}Fa.__pool.release(s)}},__getFilterBounds:function(e,i){if(Pa.prototype.__getFilterBounds.call(this,e,i),null==this.__scrollRect&&0!=this.__children.length){for(var s=Fa.__pool.get(),n=0,o=this.__children;n<o.length;){var l=o[n];if(++n,0!=l.__scaleX&&0!=l.__scaleY&&!l.__isMask){var _=l.__transform;s.a=_.a*i.a+_.b*i.c,s.b=_.a*i.b+_.b*i.d,s.c=_.c*i.a+_.d*i.c,s.d=_.c*i.b+_.d*i.d,s.tx=_.tx*i.a+_.ty*i.c+i.tx,s.ty=_.tx*i.b+_.ty*i.d+i.ty,l.__getFilterBounds(e,s)}}Fa.__pool.release(s)}},__getRenderBounds:function(e,i){if(null!=this.__scrollRect)Pa.prototype.__getRenderBounds.call(this,e,i);else if(Pa.prototype.__getBounds.call(this,e,i),0!=this.__children.length){for(var s=Fa.__pool.get(),n=0,o=this.__children;n<o.length;){var l=o[n];if(++n,0!=l.__scaleX&&0!=l.__scaleY&&!l.__isMask){var _=l.__transform;s.a=_.a*i.a+_.b*i.c,s.b=_.a*i.b+_.b*i.d,s.c=_.c*i.a+_.d*i.c,s.d=_.c*i.b+_.d*i.d,s.tx=_.tx*i.a+_.ty*i.c+i.tx,s.ty=_.tx*i.b+_.ty*i.d+i.ty,l.__getRenderBounds(e,s)}}Fa.__pool.release(s)}},__hitTest:function(e,i,s,n,o,l){if(!l.get_visible()||this.__isMask||o&&!this.mouseEnabled&&!this.mouseChildren||null!=this.get_mask()&&!this.get_mask().__hitTestMask(e,i))return!1;if(null!=this.__scrollRect){var _=ra.__pool.get();_.setTo(e,i);var h=this.__getRenderTransform(),m=h.a*h.d-h.b*h.c;if(0==m)_.x=-h.tx,_.y=-h.ty;else{var f=1/m*(h.c*(h.ty-_.y)+h.d*(_.x-h.tx));_.y=1/m*(h.a*(_.y-h.ty)+h.b*(h.tx-_.x)),_.x=f}if(!this.__scrollRect.containsPoint(_))return ra.__pool.release(_),!1;ra.__pool.release(_)}if(_=this.__children.length,!o){for(l=!1;0<=--_&&(!this.__children[_].__hitTest(e,i,s,n,!1,this.__children[_])||(l=!0,null!=n)););return l}if(null!=n&&this.mouseChildren){if(null!=n){for(o=n.length,m=!1;0<=--_&&!(((h=this.__children[_].__getInteractive(null))||this.mouseEnabled&&!m)&&this.__children[_].__hitTest(e,i,s,n,!0,this.__children[_])&&(m=!0,h&&n.length>o)););if(m)return n.splice(o,0,l),!0}}else for(;0<=--_;)if(this.__children[_].__hitTest(e,i,s,null,!0,this.__children[_]))return n?.push(l),!0;return!1},__hitTestMask:function(e,i){for(var s=this.__children.length;0<=--s;)if(this.__children[s].__hitTestMask(e,i))return!0;return!1},__readGraphicsData:function(e,i){if(Pa.prototype.__readGraphicsData.call(this,e,i),i)for(var s=0,n=this.__children;s<n.length;){var o=n[s];++s,o.__readGraphicsData(e,i)}},__setStageReference:function(e){if(Pa.prototype.__setStageReference.call(this,e),null!=this.__children)for(var i=0,s=this.__children;i<s.length;){var n=s[i];++i,n.__setStageReference(e)}},__setWorldTransformInvalid:function(){if(!this.__worldTransformInvalid&&(this.__worldTransformInvalid=!0,null!=this.__children))for(var e=0,i=this.__children;e<i.length;){var s=i[e];++e,s.__setWorldTransformInvalid()}},__stopAllMovieClips:function(){for(var e=0,i=this.__children;e<i.length;){var s=i[e];++e,s.__stopAllMovieClips()}},__tabTest:function(e){if(Pa.prototype.__tabTest.call(this,e),this.get_tabChildren())for(var s=0,n=this.__children;s<n.length;){var o=n[s];++s,o.__getInteractive(null)&&o.__tabTest(e)}},__update:function(e,i){if(Pa.prototype.__update.call(this,e,i),i){i=0;for(var s=this.__children;i<s.length;){var n=s[i];++i,n.__update(e,!0)}}},get_numChildren:function(){return this.__children.length},get_tabChildren:function(){return this.__tabChildren},set_tabChildren:function(e){return this.__tabChildren!=e&&(this.__tabChildren=e,this.dispatchEvent(new fa("tabChildrenChange",!0,!1))),this.__tabChildren},__class__:Sa,__properties__:x(Pa.prototype.__properties__,{set_tabChildren:"set_tabChildren",get_tabChildren:"get_tabChildren",get_numChildren:"get_numChildren"})});var qa=function(){Sa.call(this),this.__buttonMode=!1,this.useHandCursor=!0};k["openfl.display.Sprite"]=qa,qa.__name__="openfl.display.Sprite",qa.__super__=Sa,qa.prototype=x(Sa.prototype,{dropTarget:null,hitArea:null,useHandCursor:null,__buttonMode:null,startDrag:function(e,i){null==e&&(e=!1),null!=this.stage&&this.stage.__startDrag(this,e,i)},stopDrag:function(){null!=this.stage&&this.stage.__stopDrag(this)},__getCursor:function(){return this.__buttonMode&&this.useHandCursor?"button":null},__hitTest:function(e,i,s,n,o,l){if(o&&!this.mouseEnabled&&!this.mouseChildren)return!1;if(!l.get_visible()||this.__isMask||null!=this.get_mask()&&!this.get_mask().__hitTestMask(e,i))return this.__hitTestHitArea(e,i,s,n,o,l);if(null!=this.__scrollRect){var _=ra.__pool.get();_.setTo(e,i);var h=this.__getRenderTransform(),m=h.a*h.d-h.b*h.c;if(0==m)_.x=-h.tx,_.y=-h.ty;else{var f=1/m*(h.c*(h.ty-_.y)+h.d*(_.x-h.tx));_.y=1/m*(h.a*(_.y-h.ty)+h.b*(h.tx-_.x)),_.x=f}if(!this.__scrollRect.containsPoint(_))return ra.__pool.release(_),this.__hitTestHitArea(e,i,s,n,!0,l);ra.__pool.release(_)}return Sa.prototype.__hitTest.call(this,e,i,s,n,o,l)?null==n||o:null==this.hitArea&&null!=this.__graphics&&this.__graphics.__hitTest(e,i,s,this.__getRenderTransform())?(null==n||o&&!this.mouseEnabled||n.push(l),!0):this.__hitTestHitArea(e,i,s,n,o,l)},__hitTestHitArea:function(e,i,s,n,o,l){return null!=this.hitArea&&!this.hitArea.mouseEnabled&&(this.hitArea.mouseEnabled=!0,e=this.hitArea.__hitTest(e,i,s,null,!0,l),this.hitArea.mouseEnabled=!1,null!=n&&e&&(n[n.length]=l),e)},__hitTestMask:function(e,i){return!!(Sa.prototype.__hitTestMask.call(this,e,i)||null!=this.__graphics&&this.__graphics.__hitTest(e,i,!0,this.__getRenderTransform()))},get_graphics:function(){return null==this.__graphics&&(this.__graphics=new lf(this)),this.__graphics},get_tabEnabled:function(){return null==this.__tabEnabled?this.__buttonMode:this.__tabEnabled},get_buttonMode:function(){return this.__buttonMode},set_buttonMode:function(e){return this.__buttonMode=e},__class__:qa,__properties__:x(Sa.prototype.__properties__,{get_graphics:"get_graphics",set_buttonMode:"set_buttonMode",get_buttonMode:"get_buttonMode"})});var ba=function(){qa.call(this),this.addEventListener("addedToStage",r(this,this.onAdded))};k.Universal=ba,ba.__name__="Universal",ba.initWindow=function(e){ba.window=e,e.stage.align=6,e.stage.set_scaleMode(2)},ba.setupTracing=function(e){null==e&&(e=!1),null==ba.oldTrace&&(ba.oldTrace=sh.trace),e||!ja.releaseMode?(sh.trace=ba.oldTrace,Ua.level=5):(sh.trace=function(i,s){},Ua.level=0)},ba.reloadGame=function(){X.field(ba.am,"reloadGame").apply(ba.am,[])},ba.addReloadListener=function(e){X.field(ba.am,"reloadListeners").push(e)},ba.__super__=qa,ba.prototype=x(qa.prototype,{maskLayer:null,onAdded:function(e){this.removeEventListener("addedToStage",r(this,this.onAdded)),this.initServices(),this.maskLayer=new Pe,this.initScreen(ja.startInFullScreen)},initServices:function(){},initScreen:function(e){this.stage.set_displayState(2),this.stage.__setLogicalSize(0,0),Ya.get_current().set_x(0),Ya.get_current().set_y(0),Ya.get_current().set_scaleX(1),Ya.get_current().set_scaleY(1),this.set_x(0),this.set_y(0),this.set_scaleX(1),this.set_scaleY(1),p.stage=this.stage;for(var i=new Aa,s=0,n=ja.scales;s<n.length;){var o=n[s];++s,i.set(o,!0)}ba.windowWidth=ja.stageWidth*ja.gameScale,ba.windowHeight=ja.stageHeight*ja.gameScale,s=this.getDesiredScale(ba.windowWidth,ba.windowHeight,ja.stageWidth,ja.stageHeight),n=this.getDesiredScale(Ga.toFloat(this.stage.get_fullScreenWidth()),Ga.toFloat(this.stage.get_fullScreenHeight()),ja.stageWidth,ja.stageHeight),4==(n=ja.forceHiResAssets?n:s)&&null!=i.h.__keys__[Wd._4X.__id__]?(p.SCALE=4,p.IMG_BASE="4x"):3<=n&&null!=i.h.__keys__[Wd._3X.__id__]?(p.SCALE=3,p.IMG_BASE="3x"):2<=n&&null!=i.h.__keys__[Wd._2X.__id__]?(p.SCALE=2,p.IMG_BASE="2x"):1.5<=n&&null!=i.h.__keys__[Wd._1_5X.__id__]?(p.SCALE=1.5,p.IMG_BASE="1.5x"):(p.SCALE=1,p.IMG_BASE="1x"),o=ba.windowWidth/(i=ja.stageWidth*p.SCALE);var l=ba.windowHeight/(n=ja.stageHeight*p.SCALE);(ja.forceHiResAssets||ba.windowWidth!=ja.stageWidth||ba.windowHeight!=ja.stageHeight)&&(1==ja.scaleMode?p.SCALE!=s&&(this.set_scaleX(s/p.SCALE),this.set_scaleY(this.get_scaleX())):2==ja.scaleMode?(this.set_scaleX(o),this.set_scaleY(l)):3==ja.scaleMode||5==ja.scaleMode?(this.set_scaleX(Math.min(o,l)),this.set_scaleY(this.get_scaleX())):4==ja.scaleMode?(this.set_scaleX(Math.max(o,l)),this.set_scaleY(this.get_scaleX())):0==ja.scaleMode&&p.SCALE!=s&&(this.set_scaleX(s/p.SCALE),this.set_scaleY(this.get_scaleX())),5!=ja.scaleMode&&1!=ja.scaleMode&&(this.set_x(this.get_x()+(ba.windowWidth-i*this.get_scaleX())/2),this.set_y(this.get_y()+(ba.windowHeight-n*this.get_scaleY())/2))),ba.logicalWidth=ja.stageWidth,ba.logicalHeight=ja.stageHeight,p.screenScaleX=this.get_scaleX(),p.screenScaleY=this.get_scaleY(),this.maskLayer.get_graphics().clear()},getDesiredScale:function(e,i,s,n){var o=2*s,l=2*n;return s*=3,n*=3,e>=2*o&&i>=2*l?4:e>=s&&i>=n?3:e>=o&&i>=l?2:e>=s/2&&i>=n/2?1.5:1},preloaderComplete:function(){try{new p(this)}catch(e){ha.lastException=e,this.stage.__handleError(e instanceof E?e.val:e)}},__class__:ba});var ea={};k["_Xml.XmlType_Impl_"]=ea,ea.__name__="_Xml.XmlType_Impl_",ea.toString=function(e){switch(e){case 0:return"Element";case 1:return"PCData";case 2:return"CData";case 3:return"Comment";case 4:return"DocType";case 5:return"ProcessingInstruction";case 6:return"Document"}};var ka=function(e){this.nodeType=e,this.children=[],this.attributeMap=new va};k.Xml=ka,ka.__name__="Xml",ka.parse=function(e){return Ph.parse(e)},ka.createElement=function(e){var i=new ka(ka.Element);if(i.nodeType!=ka.Element)throw new E("Bad node type, expected Element but found "+ea.toString(i.nodeType));return i.nodeName=e,i},ka.createPCData=function(e){var i=new ka(ka.PCData);if(i.nodeType==ka.Document||i.nodeType==ka.Element)throw new E("Bad node type, unexpected "+ea.toString(i.nodeType));return i.nodeValue=e,i},ka.createCData=function(e){var i=new ka(ka.CData);if(i.nodeType==ka.Document||i.nodeType==ka.Element)throw new E("Bad node type, unexpected "+ea.toString(i.nodeType));return i.nodeValue=e,i},ka.createComment=function(e){var i=new ka(ka.Comment);if(i.nodeType==ka.Document||i.nodeType==ka.Element)throw new E("Bad node type, unexpected "+ea.toString(i.nodeType));return i.nodeValue=e,i},ka.createDocType=function(e){var i=new ka(ka.DocType);if(i.nodeType==ka.Document||i.nodeType==ka.Element)throw new E("Bad node type, unexpected "+ea.toString(i.nodeType));return i.nodeValue=e,i},ka.createProcessingInstruction=function(e){var i=new ka(ka.ProcessingInstruction);if(i.nodeType==ka.Document||i.nodeType==ka.Element)throw new E("Bad node type, unexpected "+ea.toString(i.nodeType));return i.nodeValue=e,i},ka.createDocument=function(){return new ka(ka.Document)},ka.prototype={nodeType:null,nodeName:null,nodeValue:null,parent:null,children:null,attributeMap:null,get:function(e){if(this.nodeType!=ka.Element)throw new E("Bad node type, expected Element but found "+ea.toString(this.nodeType));var i=this.attributeMap;return null!=t[e]?i.getReserved(e):i.h[e]},set:function(e,i){if(this.nodeType!=ka.Element)throw new E("Bad node type, expected Element but found "+ea.toString(this.nodeType));var s=this.attributeMap;null!=t[e]?s.setReserved(e,i):s.h[e]=i},exists:function(e){if(this.nodeType!=ka.Element)throw new E("Bad node type, expected Element but found "+ea.toString(this.nodeType));var i=this.attributeMap;return null!=t[e]?i.existsReserved(e):i.h.hasOwnProperty(e)},attributes:function(){if(this.nodeType!=ka.Element)throw new E("Bad node type, expected Element but found "+ea.toString(this.nodeType));return this.attributeMap.keys()},elements:function(){if(this.nodeType!=ka.Document&&this.nodeType!=ka.Element)throw new E("Bad node type, expected Element or Document but found "+ea.toString(this.nodeType));for(var e=[],i=0,s=this.children;i<s.length;){var n=s[i];++i,n.nodeType==ka.Element&&e.push(n)}return B.iter(e)},elementsNamed:function(e){if(this.nodeType!=ka.Document&&this.nodeType!=ka.Element)throw new E("Bad node type, expected Element or Document but found "+ea.toString(this.nodeType));for(var i=[],s=0,n=this.children;s<n.length;){var o=n[s];if(++s,o.nodeType==ka.Element){if(o.nodeType!=ka.Element)throw new E("Bad node type, expected Element but found "+ea.toString(o.nodeType));var l=o.nodeName==e}else l=!1;l&&i.push(o)}return B.iter(i)},firstElement:function(){if(this.nodeType!=ka.Document&&this.nodeType!=ka.Element)throw new E("Bad node type, expected Element or Document but found "+ea.toString(this.nodeType));for(var e=0,i=this.children;e<i.length;){var s=i[e];if(++e,s.nodeType==ka.Element)return s}return null},addChild:function(e){if(this.nodeType!=ka.Document&&this.nodeType!=ka.Element)throw new E("Bad node type, expected Element or Document but found "+ea.toString(this.nodeType));null!=e.parent&&e.parent.removeChild(e),this.children.push(e),e.parent=this},removeChild:function(e){if(this.nodeType!=ka.Document&&this.nodeType!=ka.Element)throw new E("Bad node type, expected Element or Document but found "+ea.toString(this.nodeType));return!!B.remove(this.children,e)&&(e.parent=null,!0)},toString:function(){return Gk.print(this)},__class__:ka};var Hb=function(){this.lowerBound=new K,this.upperBound=new K};k["box2D.collision.B2AABB"]=Hb,Hb.__name__="box2D.collision.B2AABB",Hb.prototype={isValid:function(){return 0<=this.upperBound.x-this.lowerBound.x&&0<=this.upperBound.y-this.lowerBound.y&&this.lowerBound.isValid()&&this.upperBound.isValid()},getCenter:function(){return new K((this.lowerBound.x+this.upperBound.x)/2,(this.lowerBound.y+this.upperBound.y)/2)},getExtents:function(){return new K((this.upperBound.x-this.lowerBound.x)/2,(this.upperBound.y-this.lowerBound.y)/2)},contains:function(e){return this.lowerBound.x<=e.lowerBound.x&&this.lowerBound.y<=e.lowerBound.y&&e.upperBound.x<=this.upperBound.x&&e.upperBound.y<=this.upperBound.y},rayCast:function(e,i){var s=-Number.MAX_VALUE,n=Number.MAX_VALUE,o=i.p1.x,l=i.p1.y,_=i.p2.x-i.p1.x;i=i.p2.y-i.p1.y;var h=Math.abs(i),m=e.normal;if(Math.abs(_)<Number.MIN_VALUE){if(o<this.lowerBound.x||this.upperBound.x<o)return!1}else{var f=1/_;if(_=(this.lowerBound.x-o)*f,o=(this.upperBound.x-o)*f,f=-1,_>o&&(f=_,_=o,o=f,f=1),_>s&&(m.x=f,m.y=0,s=_),s>(n=Math.min(n,o)))return!1}if(h<Number.MIN_VALUE){if(l<this.lowerBound.y||this.upperBound.y<l)return!1}else if(_=(this.lowerBound.y-l)*(f=1/i),o=(this.upperBound.y-l)*f,f=-1,_>o&&(f=_,_=o,o=f,f=1),_>s&&(m.y=f,m.x=0,s=_),s>(n=Math.min(n,o)))return!1;return e.fraction=s,!0},testOverlap:function(e){return!(0<e.lowerBound.x-this.upperBound.x||0<e.lowerBound.y-this.upperBound.y||0<this.lowerBound.x-e.upperBound.x||0<this.lowerBound.y-e.upperBound.y)},combine:function(e,i){this.lowerBound.x=Math.min(e.lowerBound.x,i.lowerBound.x),this.lowerBound.y=Math.min(e.lowerBound.y,i.lowerBound.y),this.upperBound.x=Math.max(e.upperBound.x,i.upperBound.x),this.upperBound.y=Math.max(e.upperBound.y,i.upperBound.y)},reset:function(){this.lowerBound.x=0,this.lowerBound.y=0,this.upperBound.x=0,this.upperBound.y=0},setTo:function(e){this.lowerBound.x=e.lowerBound.x,this.lowerBound.y=e.lowerBound.y,this.upperBound.x=e.upperBound.x,this.upperBound.y=e.upperBound.y},lowerBound:null,upperBound:null,__class__:Hb};var K=function(e,i){null==i&&(i=0),null==e&&(e=0),this.x=e,this.y=i};k["box2D.common.math.B2Vec2"]=K,K.__name__="box2D.common.math.B2Vec2",K.make=function(e,i){return new K(e,i)},K.freePool=function(){K.pooli=0},K.getFromPool=function(){if(500<K.pooli&&(K.pooli=0),K.pooli<K.pool.length){var e=K.pool[K.pooli];return e.x=0,e.y=0,K.pooli++,e}return e=new K,K.pool.push(e),K.pooli++,e},K.prototype={setZero:function(){this.y=this.x=0},set:function(e,i){null==i&&(i=0),null==e&&(e=0),this.x=e,this.y=i},setV:function(e){this.x=e.x,this.y=e.y},getNegative:function(){return new K(-this.x,-this.y)},getNegativePooled:function(){var e=K.getFromPool();return e.x=-this.x,e.y=-this.y,e},negativeSelf:function(){this.x=-this.x,this.y=-this.y},copy:function(e){if(null==e&&(e=!1),e){e=K.getFromPool();var i=this.x,s=this.y;null==s&&(s=0),null==i&&(i=0),e.x=i,e.y=s}else e=new K(this.x,this.y);return e},add:function(e){this.x+=e.x,this.y+=e.y},subtract:function(e){this.x-=e.x,this.y-=e.y},multiply:function(e){this.x*=e,this.y*=e},mulM:function(e){var i=this.x;this.x=e.col1.x*i+e.col2.x*this.y,this.y=e.col1.y*i+e.col2.y*this.y},mulTM:function(e){var i=P.dot(this,e.col1);this.y=P.dot(this,e.col2),this.x=i},crossVF:function(e){var i=this.x;this.x=e*this.y,this.y=-e*i},crossFV:function(e){var i=this.x;this.x=-e*this.y,this.y=e*i},minV:function(e){this.x=this.x<e.x?this.x:e.x,this.y=this.y<e.y?this.y:e.y},maxV:function(e){this.x=this.x>e.x?this.x:e.x,this.y=this.y>e.y?this.y:e.y},abs:function(){0>this.x&&(this.x=-this.x),0>this.y&&(this.y=-this.y)},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},lengthSquared:function(){return this.x*this.x+this.y*this.y},normalize:function(){var e=Math.sqrt(this.x*this.x+this.y*this.y);if(e<Number.MIN_VALUE)return 0;var i=1/e;return this.x*=i,this.y*=i,e},perpDot:function(e){return-this.y*e.x+this.x*e.y},winding:function(e,i){var s=e.copy();return s.subtract(this),(i=i.copy()).subtract(e),s.perpDot(i)},isValid:function(){return!!P.isValid(this.x)&&P.isValid(this.y)},x:null,y:null,toString:function(){return"("+this.x+", "+this.y+")"},reset:function(){this.y=this.x=0},__class__:K};var mf=function(){this.v=new K,this.id=new Q};k["box2D.collision.ClipVertex"]=mf,mf.__name__="box2D.collision.ClipVertex",mf.prototype={set:function(e){var i=this.v,s=e.v;i.x=s.x,i.y=s.y,this.id.set(e.id)},v:null,id:null,__class__:mf};var Q=function(){this.features=new ne,this.features._m_id=this};k["box2D.collision.B2ContactID"]=Q,Q.__name__="box2D.collision.B2ContactID",Q.prototype={set:function(e){this.set_key(e._key)},copy:function(){var e=new Q;return e.set_key(this.get_key()),e},get_key:function(){return this._key},set_key:function(e){return this._key=e,this.features._referenceEdge=255&this._key,this.features._incidentEdge=(65280&this._key)>>8&255,this.features._incidentVertex=(16711680&this._key)>>16&255,this.features._flip=(-16777216&this._key)>>24&255,this._key},features:null,_key:null,indexA:null,indexB:null,typeA:null,typeB:null,__class__:Q,__properties__:{set_key:"set_key",get_key:"get_key"}};var ne=function(){};k["box2D.collision.Features"]=ne,ne.__name__="box2D.collision.Features",ne.prototype={get_referenceEdge:function(){return this._referenceEdge},set_referenceEdge:function(e){return this._referenceEdge=e,this._m_id._key=-256&this._m_id._key|255&this._referenceEdge,e},_referenceEdge:null,get_incidentEdge:function(){return this._incidentEdge},set_incidentEdge:function(e){return this._incidentEdge=e,this._m_id._key=-65281&this._m_id._key|this._incidentEdge<<8&65280,e},_incidentEdge:null,get_incidentVertex:function(){return this._incidentVertex},set_incidentVertex:function(e){return this._incidentVertex=e,this._m_id._key=-16711681&this._m_id._key|this._incidentVertex<<16&16711680,e},_incidentVertex:null,get_flip:function(){return this._flip},set_flip:function(e){return this._flip=e,this._m_id._key=16777215&this._m_id._key|this._flip<<24&-16777216,e},_flip:null,_m_id:null,__class__:ne,__properties__:{set_flip:"set_flip",get_flip:"get_flip",set_incidentVertex:"set_incidentVertex",get_incidentVertex:"get_incidentVertex",set_incidentEdge:"set_incidentEdge",get_incidentEdge:"get_incidentEdge",set_referenceEdge:"set_referenceEdge",get_referenceEdge:"get_referenceEdge"}};var L=function(){};k["box2D.collision.B2Collision"]=L,L.__name__="box2D.collision.B2Collision",L.clipSegmentToLine=function(e,i,s,n){var o=0,l=i[0],_=l.v,h=(l=i[1]).v,m=s.x*_.x+s.y*_.y-n;return l=s.x*h.x+s.y*h.y-n,0>=m&&e[o++].set(i[0]),0>=l&&e[o++].set(i[1]),0>m*l&&(s=m/(m-l),(l=(l=e[o]).v).x=_.x+s*(h.x-_.x),l.y=_.y+s*(h.y-_.y),(l=e[o]).id=(0<m?i[0]:i[1]).id,++o),o},L.edgeSeparation=function(e,i,s,n,o){var l=e.m_vertices,_=n.m_vertexCount;n=n.m_vertices;var h=i.R,m=e.m_normals[s];e=h.col1.x*m.x+h.col2.x*m.y;var f=h.col1.y*m.x+h.col2.y*m.y,y=(h=o.R).col1.x*e+h.col1.y*f;h=h.col2.x*e+h.col2.y*f;for(var g=0,j=Number.MAX_VALUE,$=0;$<_;){var yt=$++;(m=(m=n[yt]).x*y+m.y*h)<j&&(j=m,g=yt)}return s=i.position.x+((h=i.R).col1.x*(m=l[s]).x+h.col2.x*m.y),i=i.position.y+(h.col1.y*m.x+h.col2.y*m.y),(o.position.x+((h=o.R).col1.x*(m=n[g]).x+h.col2.x*m.y)-s)*e+(o.position.y+(h.col1.y*m.x+h.col2.y*m.y)-i)*f},L.findMaxSeparation=function(e,i,s,n,o){var l=i.m_vertexCount,_=i.m_normals,h=o.R,m=n.m_centroid,f=o.position.x+(h.col1.x*m.x+h.col2.x*m.y),y=o.position.y+(h.col1.y*m.x+h.col2.y*m.y);h=(f-=s.position.x+((h=s.R).col1.x*(m=i.m_centroid).x+h.col2.x*m.y))*s.R.col1.x+(y-=s.position.y+(h.col1.y*m.x+h.col2.y*m.y))*s.R.col1.y,y=f*s.R.col2.x+y*s.R.col2.y,f=0;for(var g=-Number.MAX_VALUE,j=0;j<l;){var $=j++;(m=(m=_[$]).x*h+m.y*y)>g&&(g=m,f=$)}if(_=L.edgeSeparation(i,s,f,n,o),h=L.edgeSeparation(i,s,g=0<=f-1?f-1:l-1,n,o),y=L.edgeSeparation(i,s,j=f+1<l?f+1:0,n,o),h>_&&h>y)m=-1;else{if(!(y>_))return e[0]=f,_;m=1,g=j,h=y}for(;(_=L.edgeSeparation(i,s,f=-1==m?0<=g-1?g-1:l-1:g+1<l?g+1:0,n,o))>h;)g=f,h=_;return e[0]=g,h},L.findIncidentEdge=function(e,i,s,n,o,l){var _=o.m_vertexCount,h=o.m_vertices;o=o.m_normals;var m=s.R;s=m.col1.x*(i=i.m_normals[n]).x+m.col2.x*i.y;var f=m.col1.y*i.x+m.col2.y*i.y;i=(m=l.R).col1.x*s+m.col1.y*f,f=m.col2.x*s+m.col2.y*f,s=i,m=0;for(var y=Number.MAX_VALUE,g=0;g<_;){var j=g++;(i=s*(i=o[j]).x+f*i.y)<y&&(y=i,m=j)}_=(o=m)+1<_?o+1:0,(s=e[0]).v.x=l.position.x+((m=l.R).col1.x*(i=h[o]).x+m.col2.x*i.y),s.v.y=l.position.y+(m.col1.y*i.x+m.col2.y*i.y),s.id.features.set_referenceEdge(n),s.id.features.set_incidentEdge(o),s.id.features.set_incidentVertex(0),(s=e[1]).v.x=l.position.x+((m=l.R).col1.x*(i=h[_]).x+m.col2.x*i.y),s.v.y=l.position.y+(m.col1.y*i.x+m.col2.y*i.y),s.id.features.set_referenceEdge(n),s.id.features.set_incidentEdge(_),s.id.features.set_incidentVertex(1)},L.makeClipPointVector=function(){var e=[];return e[0]=new mf,e[1]=new mf,e},L.collidePolygons=function(e,i,s,n,o){e.m_pointCount=0;var l=i.m_radius+n.m_radius;L.s_edgeAO[0]=0;var _=L.findMaxSeparation(L.s_edgeAO,i,s,n,o),h=L.s_edgeAO[0];if(!(_>l)){L.s_edgeBO[0]=0;var m=L.findMaxSeparation(L.s_edgeBO,n,o,i,s),f=L.s_edgeBO[0];if(!(m>l)){m>.98*_+.001?(_=n,n=i,i=o,m=f,e.m_type=4,h=1):(_=i,i=s,s=o,m=h,e.m_type=2,h=0),L.findIncidentEdge(f=L.s_incidentEdge,_,i,m,n,s),n=_.m_vertices;var y=m+1<_.m_vertexCount?n[m+1]:n[0];null==(m=y.y-(o=n[m]).y)&&(m=0),null==(n=y.x-o.x)&&(n=0),(_=L.s_localTangent).x=n,_.y=m,_.normalize();var g=L.s_localNormal;g.x=_.y,g.y=-_.x;var j=.5*(o.y+y.y);null==j&&(j=0),null==(m=.5*(o.x+y.x))&&(m=0),(n=L.s_planePoint).x=m,n.y=j,(j=L.s_tangent).x=(m=i.R).col1.x*_.x+m.col2.x*_.y,j.y=m.col1.y*_.x+m.col2.y*_.y;var $=L.s_tangent2;$.x=-j.x,$.y=-j.y,(_=L.s_normal).x=j.y,_.y=-j.x;var yt=L.s_v11,_t=L.s_v12;if(yt.x=i.position.x+(m.col1.x*o.x+m.col2.x*o.y),yt.y=i.position.y+(m.col1.y*o.x+m.col2.y*o.y),_t.x=i.position.x+(m.col1.x*y.x+m.col2.x*y.y),_t.y=i.position.y+(m.col1.y*y.x+m.col2.y*y.y),i=_.x*yt.x+_.y*yt.y,m=j.x*_t.x+j.y*_t.y+l,o=L.s_clipPoints2,!(2>(f=L.clipSegmentToLine(y=L.s_clipPoints1,f,$,-j.x*yt.x-j.y*yt.y+l))||(f=L.clipSegmentToLine(o,y,j,m),2>f))){for((f=e.m_localPlaneNormal).x=g.x,f.y=g.y,(f=e.m_localPoint).x=n.x,f.y=n.y,n=f=0,g=ca.b2_maxManifoldPoints;n<g;)m=n++,_.x*(j=o[m]).v.x+_.y*j.v.y-i<=l&&((y=e.m_points[f]).m_localPoint.x=($=j.v.x-s.position.x)*(m=s.R).col1.x+(yt=j.v.y-s.position.y)*m.col1.y,y.m_localPoint.y=$*m.col2.x+yt*m.col2.y,y.m_id.set(j.id),y.m_id.features.set_flip(h),++f);e.m_pointCount=f}}}},L.collideCircles=function(e,i,s,n,o){e.m_pointCount=0;var l=s.R,_=i.m_p,h=s.position.x+(l.col1.x*_.x+l.col2.x*_.y);s=s.position.y+(l.col1.y*_.x+l.col2.y*_.y),(h=o.position.x+((l=o.R).col1.x*(_=n.m_p).x+l.col2.x*_.y)-h)*h+(o=o.position.y+(l.col1.y*_.x+l.col2.y*_.y)-s)*o>(l=i.m_radius+n.m_radius)*l||(e.m_type=1,(o=e.m_localPoint).x=(i=i.m_p).x,o.y=i.y,(i=e.m_localPlaneNormal).x=0,i.y=0,e.m_pointCount=1,(i=e.m_points[0].m_localPoint).x=(n=n.m_p).x,i.y=n.y,e.m_points[0].m_id.set_key(0))},L.collidePolygonAndCircle=function(e,i,s,n,o){e.m_pointCount=0;var l=o.R,_=n.m_p,h=o.position.x+(l.col1.x*_.x+l.col2.x*_.y)-s.position.x,m=o.position.y+(l.col1.y*_.x+l.col2.y*_.y)-s.position.y;s=h*(l=s.R).col1.x+m*l.col1.y,l=h*l.col2.x+m*l.col2.y;var f=0,y=-Number.MAX_VALUE;o=i.m_radius+n.m_radius;var g=i.m_vertexCount,j=i.m_vertices;i=i.m_normals;for(var $=0;$<g;){var yt=$++;if(h=s-(_=j[yt]).x,m=l-_.y,(_=(_=i[yt]).x*h+_.y*m)>o)return;_>y&&(y=_,f=yt)}if(_=j[h=f],g=j[h+1<g?h+1:0],y<Number.MIN_VALUE)e.m_pointCount=1,e.m_type=2,(s=e.m_localPlaneNormal).x=(l=i[f]).x,s.y=l.y,e.m_localPoint.x=.5*(_.x+g.x),e.m_localPoint.y=.5*(_.y+g.y),(s=e.m_points[0].m_localPoint).x=(n=n.m_p).x,s.y=n.y;else if(y=(s-g.x)*(_.x-g.x)+(l-g.y)*(_.y-g.y),0>=(s-_.x)*(g.x-_.x)+(l-_.y)*(g.y-_.y)){if((s-_.x)*(s-_.x)+(l-_.y)*(l-_.y)>o*o)return;e.m_pointCount=1,e.m_type=2,e.m_localPlaneNormal.x=s-_.x,e.m_localPlaneNormal.y=l-_.y,e.m_localPlaneNormal.normalize(),(s=e.m_localPoint).x=_.x,s.y=_.y,(s=e.m_points[0].m_localPoint).x=(n=n.m_p).x,s.y=n.y}else if(0>=y){if((s-g.x)*(s-g.x)+(l-g.y)*(l-g.y)>o*o)return;e.m_pointCount=1,e.m_type=2,e.m_localPlaneNormal.x=s-g.x,e.m_localPlaneNormal.y=l-g.y,e.m_localPlaneNormal.normalize(),(s=e.m_localPoint).x=g.x,s.y=g.y,(s=e.m_points[0].m_localPoint).x=(n=n.m_p).x,s.y=n.y}else{if((y=(s-(f=.5*(_.x+g.x)))*i[h].x+(l-(_=.5*(_.y+g.y)))*i[h].y)>o)return;e.m_pointCount=1,e.m_type=2,e.m_localPlaneNormal.x=i[h].x,e.m_localPlaneNormal.y=i[h].y,e.m_localPlaneNormal.normalize(),null==(o=_)&&(o=0),null==(l=f)&&(l=0),(s=e.m_localPoint).x=l,s.y=o,(s=e.m_points[0].m_localPoint).x=(n=n.m_p).x,s.y=n.y}e.m_points[0].m_id.set_key(0)},L.testOverlap=function(e,i){var s=i.lowerBound,n=e.upperBound,o=s.x-n.x,l=s.y-n.y;return e=(s=e.lowerBound).y-(n=i.upperBound).y,!(0<o||0<l||0<s.x-n.x||0<e)};var F=function(){this.position=new K,this.velocity=new K,this.normal=new K,this.id=new Q};k["box2D.collision.B2ContactPoint"]=F,F.__name__="box2D.collision.B2ContactPoint",F.prototype={shape1:null,shape2:null,position:null,velocity:null,normal:null,separation:null,friction:null,restitution:null,id:null,__class__:F};var Qe=function(){this.m_v1=new Xd,this.m_v2=new Xd,this.m_v3=new Xd,this.m_vertices=[],this.m_vertices[0]=this.m_v1,this.m_vertices[1]=this.m_v2,this.m_vertices[2]=this.m_v3};k["box2D.collision.B2Simplex"]=Qe,Qe.__name__="box2D.collision.B2Simplex",Qe.prototype={readCache:function(e,i,s,n,o){ca.b2Assert(0<=e.count&&3>=e.count),this.m_count=e.count;var l=this.m_vertices;if(e.useCache){for(var _=0,h=this.m_count;_<h;){var m=_++,f=l[m];f.indexA=e.indexA[m],f.indexB=e.indexB[m],m=i.getVertex(f.indexA);var y=n.getVertex(f.indexB);f.wA=P.mulX(s,m,!0),f.wB=P.mulX(o,y,!0),f.w=P.subtractVVPooled(f.wB,f.wA),f.a=0}1<this.m_count&&(e=e.metric,(f=this.getMetric())<.5*e||2*e<f||f<Number.MIN_VALUE)&&(this.m_count=0)}0==this.m_count&&((f=l[0]).indexA=0,f.indexB=0,m=i.getVertex(0),y=n.getVertex(0),f.wA=P.mulX(s,m,!0),f.wB=P.mulX(o,y,!0),f.w=P.subtractVVPooled(f.wB,f.wA),this.m_count=1)},writeCache:function(e){if(e.useCache){e.metric=this.getMetric(),e.count=this.m_count;for(var i=this.m_vertices,s=0,n=this.m_count;s<n;){var o=s++;e.indexA[o]=i[o].indexA,e.indexB[o]=i[o].indexB}}},getSearchDirection:function(){switch(this.m_count){case 1:return this.m_v1.w.getNegativePooled();case 2:var e=P.subtractVVPooled(this.m_v2.w,this.m_v1.w);return 0<P.crossVV(e,this.m_v1.w.getNegativePooled())?P.crossFV(1,e,!0):P.crossVF(e,1,!0);default:return ca.b2Assert(!1),K.getFromPool()}},getClosestPoint:function(){switch(this.m_count){case 0:default:return ca.b2Assert(!1),K.getFromPool();case 1:return this.m_v1.w;case 2:var e=K.getFromPool();return e.x=this.m_v1.a*this.m_v1.w.x+this.m_v2.a*this.m_v2.w.x,e.y=this.m_v1.a*this.m_v1.w.y+this.m_v2.a*this.m_v2.w.y,e}},getWitnessPoints:function(e,i){switch(this.m_count){case 0:default:ca.b2Assert(!1);break;case 1:var s=this.m_v1.wA;e.x=s.x,e.y=s.y,i.x=(e=this.m_v1.wB).x,i.y=e.y;break;case 2:e.x=this.m_v1.a*this.m_v1.wA.x+this.m_v2.a*this.m_v2.wA.x,e.y=this.m_v1.a*this.m_v1.wA.y+this.m_v2.a*this.m_v2.wA.y,i.x=this.m_v1.a*this.m_v1.wB.x+this.m_v2.a*this.m_v2.wB.x,i.y=this.m_v1.a*this.m_v1.wB.y+this.m_v2.a*this.m_v2.wB.y;break;case 3:i.x=e.x=this.m_v1.a*this.m_v1.wA.x+this.m_v2.a*this.m_v2.wA.x+this.m_v3.a*this.m_v3.wA.x,i.y=e.y=this.m_v1.a*this.m_v1.wA.y+this.m_v2.a*this.m_v2.wA.y+this.m_v3.a*this.m_v3.wA.y}},getMetric:function(){switch(this.m_count){case 0:default:return ca.b2Assert(!1),0;case 1:return 0;case 2:return P.subtractVVPooled(this.m_v1.w,this.m_v2.w).length();case 3:return P.crossVV(P.subtractVVPooled(this.m_v2.w,this.m_v1.w),P.subtractVVPooled(this.m_v3.w,this.m_v1.w))}},solve2:function(){var e=this.m_v1.w,i=this.m_v2.w,s=P.subtractVVPooled(i,e);0>=(e=-(e.x*s.x+e.y*s.y))?this.m_count=this.m_v1.a=1:0>=(i=i.x*s.x+i.y*s.y)?(this.m_count=this.m_v2.a=1,this.m_v1.set(this.m_v2)):(this.m_v1.a=i*(s=1/(i+e)),this.m_v2.a=e*s,this.m_count=2)},solve3:function(){var e=this.m_v1.w,i=this.m_v2.w,s=this.m_v3.w,n=P.subtractVVPooled(i,e),o=P.dot(e,n),l=P.dot(i,n);o=-o;var _=P.subtractVVPooled(s,e),h=P.dot(e,_),m=P.dot(s,_);h=-h;var f=P.subtractVVPooled(s,i),y=P.dot(i,f);f=P.dot(s,f),y=-y,n=(_=P.crossVV(n,_))*P.crossVV(i,s),s=_*P.crossVV(s,e),e=_*P.crossVV(e,i),0>=o&&0>=h?this.m_count=this.m_v1.a=1:0<l&&0<o&&0>=e?(this.m_v1.a=l*(m=1/(l+o)),this.m_v2.a=o*m,this.m_count=2):0<m&&0<h&&0>=s?(this.m_v1.a=m*(l=1/(m+h)),this.m_v3.a=h*l,this.m_count=2,this.m_v2.set(this.m_v3)):0>=l&&0>=y?(this.m_count=this.m_v2.a=1,this.m_v1.set(this.m_v2)):0>=m&&0>=f?(this.m_count=this.m_v3.a=1,this.m_v1.set(this.m_v3)):0<f&&0<y&&0>=n?(this.m_v2.a=f*(l=1/(f+y)),this.m_v3.a=y*l,this.m_count=2,this.m_v1.set(this.m_v3)):(this.m_v1.a=n*(l=1/(n+s+e)),this.m_v2.a=s*l,this.m_v3.a=e*l,this.m_count=3)},m_v1:null,m_v2:null,m_v3:null,m_vertices:null,m_count:null,__class__:Qe};var Xd=function(){};k["box2D.collision.B2SimplexVertex"]=Xd,Xd.__name__="box2D.collision.B2SimplexVertex",Xd.prototype={set:function(e){var i=this.wA,s=e.wA;i.x=s.x,i.y=s.y,(i=this.wB).x=(s=e.wB).x,i.y=s.y,(i=this.w).x=(s=e.w).x,i.y=s.y,this.a=e.a,this.indexA=e.indexA,this.indexB=e.indexB},wA:null,wB:null,w:null,a:null,indexA:null,indexB:null,__class__:Xd};var uc=function(){};k["box2D.collision.B2Distance"]=uc,uc.__name__="box2D.collision.B2Distance",uc.distance=function(e,i,s){++uc.b2_gjkCalls;var n=s.proxyA,o=s.proxyB,l=s.transformA,_=s.transformB,h=uc.s_simplex;h.readCache(i,n,l,o,_);var m=h.m_vertices,f=uc.s_saveA,y=uc.s_saveB;h.getClosestPoint().lengthSquared();for(var g,j=0;20>j;){var $=h.m_count;g=0;for(var yt=$;g<yt;){var _t=g++;f[_t]=m[_t].indexA,y[_t]=m[_t].indexB}switch(h.m_count){case 1:break;case 2:h.solve2();break;case 3:h.solve3();break;default:ca.b2Assert(!1)}if(3==h.m_count||((g=h.getClosestPoint()).lengthSquared(),(yt=h.getSearchDirection()).lengthSquared()<Number.MIN_VALUE*Number.MIN_VALUE))break;for((g=m[h.m_count]).indexA=0|n.getSupport(P.mulTMV(l.R,yt.getNegativePooled(),!0)),g.wA=P.mulX(l,n.getVertex(g.indexA),!0),g.indexB=0|o.getSupport(P.mulTMV(_.R,yt,!0)),g.wB=P.mulX(_,o.getVertex(g.indexB),!0),g.w=P.subtractVVPooled(g.wB,g.wA),++j,++uc.b2_gjkIters,yt=!1,_t=0;_t<$;){var xt=_t++;if(g.indexA==f[xt]&&g.indexB==y[xt]){yt=!0;break}}if(yt)break;++h.m_count}uc.b2_gjkMaxIters=0|P.max(uc.b2_gjkMaxIters,j),h.getWitnessPoints(e.pointA,e.pointB),e.distance=P.subtractVVPooled(e.pointA,e.pointB).length(),e.iterations=j,h.writeCache(i),s.useRadii&&(e.distance>(i=n.m_radius)+(o=o.m_radius)&&e.distance>Number.MIN_VALUE?(e.distance-=i+o,(s=P.subtractVVPooled(e.pointB,e.pointA)).normalize(),e.pointA.x+=i*s.x,e.pointA.y+=i*s.y,e.pointB.x-=o*s.x,e.pointB.y-=o*s.y):((g=K.getFromPool()).x=.5*(e.pointA.x+e.pointB.x),g.y=.5*(e.pointA.y+e.pointB.y),e.pointA.x=e.pointB.x=g.x,e.pointA.y=e.pointB.y=g.y,e.distance=0))};var Bd=function(){};k["box2D.collision.B2DistanceInput"]=Bd,Bd.__name__="box2D.collision.B2DistanceInput",Bd.prototype={proxyA:null,proxyB:null,transformA:null,transformB:null,useRadii:null,__class__:Bd};var zi=function(){this.pointA=new K,this.pointB=new K};k["box2D.collision.B2DistanceOutput"]=zi,zi.__name__="box2D.collision.B2DistanceOutput",zi.prototype={pointA:null,pointB:null,distance:null,iterations:null,__class__:zi};var Yd=function(){this.m_internalVertices=[]};k["box2D.collision.B2DistanceProxy"]=Yd,Yd.__name__="box2D.collision.B2DistanceProxy",Yd.prototype={set:function(e){switch(e.getType()){case 0:for(e=T.__cast(e,ad),this.m_vertices=this.m_internalVertices;1<this.m_vertices.length;)this.m_vertices.pop();this.m_vertices[0]=e.m_p,this.m_count=1,this.m_radius=e.m_radius;break;case 1:e=T.__cast(e,Jb),this.m_vertices=e.m_vertices,this.m_count=e.m_vertexCount,this.m_radius=e.m_radius;break;case 2:for(e=T.__cast(e,Sg),this.m_vertices=this.m_internalVertices;2<this.m_vertices.length;)this.m_vertices.pop();this.m_vertices[0]=e.m_v1,this.m_vertices[1]=e.m_v2,this.m_count=2,this.m_radius=e.m_radius;break;default:ca.b2Assert(!1)}},getSupport:function(e){for(var i=0,s=this.m_vertices[0].x*e.x+this.m_vertices[0].y*e.y,n=1,o=this.m_count;n<o;){var l=n++,_=this.m_vertices[l].x*e.x+this.m_vertices[l].y*e.y;_>s&&(i=l,s=_)}return i},getSupportVertex:function(e){for(var i=0,s=this.m_vertices[0].x*e.x+this.m_vertices[0].y*e.y,n=1,o=this.m_count;n<o;){var l=n++,_=this.m_vertices[l].x*e.x+this.m_vertices[l].y*e.y;_>s&&(i=l,s=_)}return this.m_vertices[i]},getVertexCount:function(){return this.m_count},getVertex:function(e){return ca.b2Assert(0<=e&&e<this.m_count),this.m_vertices[e]},m_internalVertices:null,m_vertices:null,m_count:null,m_radius:null,__class__:Yd};var kj=function(){this.oldAABB=new Hb,this.stackQueue=[],this.stackQueuePos=0,this.m_freeList=this.m_root=null,this.m_insertionCount=this.m_path=0};k["box2D.collision.B2DynamicTree"]=kj,kj.__name__="box2D.collision.B2DynamicTree",kj.prototype={createProxy:function(e,i){var s=this.allocateNode(),n=ca.b2_aabbExtension,o=ca.b2_aabbExtension;return s.aabb.lowerBound.x=e.lowerBound.x-n,s.aabb.lowerBound.y=e.lowerBound.y-o,s.aabb.upperBound.x=e.upperBound.x+n,s.aabb.upperBound.y=e.upperBound.y+o,s.userData=i,this.insertLeaf(s),s},destroyProxy:function(e){this.removeLeaf(e),this.freeNode(e)},moveProxy:function(e,i,s){if(ca.b2Assert(e.isLeaf()),e.aabb.contains(i))return!1;this.removeLeaf(e);var n=ca.b2_aabbExtension+ca.b2_aabbMultiplier*(0<s.x?s.x:-s.x);return s=ca.b2_aabbExtension+ca.b2_aabbMultiplier*(0<s.y?s.y:-s.y),e.aabb.lowerBound.x=i.lowerBound.x-n,e.aabb.lowerBound.y=i.lowerBound.y-s,e.aabb.upperBound.x=i.upperBound.x+n,e.aabb.upperBound.y=i.upperBound.y+s,this.insertLeaf(e),!0},rebalance:function(e){if(null!=this.m_root)for(var i=0;i<e;){i++;for(var s=this.m_root,n=0;0==s.isLeaf();)s=this.m_path>>n&1?s.child2:s.child1,n=n+1&31;++this.m_path,this.removeLeaf(s),this.insertLeaf(s)}},getFatAABB:function(e){return e.aabb},getUserData:function(e){return e.userData},stackQueuePos:null,stackQueue:null,query:function(e,i){if(null!=this.m_root){null==this.stackQueue[this.stackQueuePos]&&(this.stackQueue[this.stackQueuePos]=[]);var s=this.stackQueue[this.stackQueuePos++],n=0;for(s[n++]=this.m_root;0<n;){var o=s[--n];if(o.aabb.testOverlap(i))if(o.isLeaf()){if(!e.queryCallback(o))break}else s[n++]=o.child1,s[n++]=o.child2}for(n=s.length;0<n--;)s.pop();--this.stackQueuePos}},rayCast:function(e,i){if(null!=this.m_root){var s=i.p1,n=i.p2,o=P.subtractVVPooled(s,n);o.normalize(),o=P.crossFV(1,o);var l=P.absV(o),_=i.maxFraction,h=new Hb,m=s.x+_*(n.x-s.x);_=s.y+_*(n.y-s.y),h.lowerBound.x=Math.min(s.x,m),h.lowerBound.y=Math.min(s.y,_),h.upperBound.x=Math.max(s.x,m),h.upperBound.y=Math.max(s.y,_);var f=[],y=0;for(f[y++]=this.m_root;0<y;)if(0!=(m=f[--y]).aabb.testOverlap(h)){_=m.aabb.getCenter();var g=m.aabb.getExtents();if(!(0<Math.abs(o.x*(s.x-_.x)+o.y*(s.y-_.y))-l.x*g.x-l.y*g.y))if(m.isLeaf()){if((_=new im).p1=i.p1,_.p2=i.p2,_.maxFraction=i.maxFraction,0==(_=e(_,m)))break;m=s.x+_*(n.x-s.x),_=s.y+_*(n.y-s.y),h.lowerBound.x=Math.min(s.x,m),h.lowerBound.y=Math.min(s.y,_),h.upperBound.x=Math.max(s.x,m),h.upperBound.y=Math.max(s.y,_)}else f[y++]=m.child1,f[y++]=m.child2}}},allocateNode:function(){if(null!=this.m_freeList){var e=this.m_freeList;return this.m_freeList=e.parent,e.parent=null,e.child1=null,e.child2=null,e}return new Hk},freeNode:function(e){e.parent=this.m_freeList,this.m_freeList=e},insertLeaf:function(e){if(++this.m_insertionCount,null==this.m_root)this.m_root=e,this.m_root.parent=null;else{var i=e.aabb.getCenter(),s=this.m_root;if(0==s.isLeaf())for(;;){var n=s.child1;if(s=s.child2,0!=(s=Math.abs((n.aabb.lowerBound.x+n.aabb.upperBound.x)/2-i.x)+Math.abs((n.aabb.lowerBound.y+n.aabb.upperBound.y)/2-i.y)<Math.abs((s.aabb.lowerBound.x+s.aabb.upperBound.x)/2-i.x)+Math.abs((s.aabb.lowerBound.y+s.aabb.upperBound.y)/2-i.y)?n:s).isLeaf())break}if(i=s.parent,(n=this.allocateNode()).parent=i,n.userData=null,n.aabb.combine(e.aabb,s.aabb),null!=i)for(s.parent.child1==s?i.child1=n:i.child2=n,n.child1=s,n.child2=e,s.parent=n,e.parent=n;!i.aabb.contains(n.aabb)&&(i.aabb.combine(i.child1.aabb,i.child2.aabb),n=i,null!=(i=i.parent)););else n.child1=s,n.child2=e,s.parent=n,this.m_root=e.parent=n}},oldAABB:null,removeLeaf:function(e){if(e==this.m_root)this.m_root=null;else{var i=e.parent,s=i.parent;if(e=i.child1==e?i.child2:i.child1,null!=s)for(s.child1==i?s.child1=e:s.child2=e,e.parent=s,this.freeNode(i);null!=s&&(this.oldAABB.setTo(s.aabb),s.aabb.combine(s.child1.aabb,s.child2.aabb),!this.oldAABB.contains(s.aabb));)s=s.parent;else this.m_root=e,e.parent=null,this.freeNode(i)}},m_root:null,m_freeList:null,m_path:null,m_insertionCount:null,__class__:kj};var Tg=function(){};k["box2D.collision.QueryCallback"]=Tg,Tg.__name__="box2D.collision.QueryCallback",Tg.__isInterface__=!0,Tg.prototype={queryCallback:null,__class__:Tg};var jm=function(){};k["box2D.collision.IBroadPhase"]=jm,jm.__name__="box2D.collision.IBroadPhase",jm.__isInterface__=!0,jm.prototype={createProxy:null,destroyProxy:null,moveProxy:null,testOverlap:null,getUserData:null,getFatAABB:null,getProxyCount:null,updatePairs:null,query:null,rayCast:null,validate:null,rebalance:null,__class__:jm};var km=function(){this.m_tree=new kj,this.m_moveBuffer=[],this.m_pairBuffer=[],this.m_proxyCount=this.m_pairCount=0};k["box2D.collision.B2DynamicTreeBroadPhase"]=km,km.__name__="box2D.collision.B2DynamicTreeBroadPhase",km.__interfaces__=[Tg,jm],km.prototype={createProxy:function(e,i){return e=this.m_tree.createProxy(e,i),++this.m_proxyCount,this.bufferMove(e),e},destroyProxy:function(e){this.unBufferMove(e),--this.m_proxyCount,this.m_tree.destroyProxy(e)},moveProxy:function(e,i,s){this.m_tree.moveProxy(e,i,s)&&this.bufferMove(e)},testOverlap:function(e,i){return e=this.m_tree.getFatAABB(e),i=this.m_tree.getFatAABB(i),e.testOverlap(i)},getUserData:function(e){return this.m_tree.getUserData(e)},getFatAABB:function(e){return this.m_tree.getFatAABB(e)},getProxyCount:function(){return this.m_proxyCount},updatePairs:function(e){for(var i=this.m_pairCount=0,s=this.m_moveBuffer;i<s.length;){var n=s[i];++i,this.cur_queryProxy=n,n=this.m_tree.getFatAABB(n),this.m_tree.query(this,n)}for(this.cur_queryProxy=null,i=this.m_moveBuffer.length;0<=--i;)this.m_moveBuffer.pop();for(s=!0,i=0;s;)if(i>=this.m_pairCount)s=!1;else for(e.addPair(this.m_tree.getUserData((n=this.m_pairBuffer[i]).proxyA),this.m_tree.getUserData(n.proxyB)),++i;i<this.m_pairCount;){var o=this.m_pairBuffer[i];if(o.proxyA!=n.proxyA||o.proxyB!=n.proxyB)break;++i}},queryCallback:function(e){if(e==this.cur_queryProxy)return!0;this.m_pairCount==this.m_pairBuffer.length&&(this.m_pairBuffer[this.m_pairCount]=new Ip);var i=this.m_pairBuffer[this.m_pairCount];return e.id<this.cur_queryProxy.id?(i.proxyA=e,i.proxyB=this.cur_queryProxy):(i.proxyA=this.cur_queryProxy,i.proxyB=e),++this.m_pairCount,!0},query:function(e,i){this.m_tree.query(e,i)},rayCast:function(e,i){this.m_tree.rayCast(e,i)},validate:function(){},rebalance:function(e){this.m_tree.rebalance(e)},bufferMove:function(e){this.m_moveBuffer[this.m_moveBuffer.length]=e},unBufferMove:function(e){B.remove(this.m_moveBuffer,e)},comparePairs:function(e,i){return 0},m_tree:null,m_proxyCount:null,m_moveBuffer:null,m_pairBuffer:null,m_pairCount:null,cur_queryProxy:null,__class__:km};var Hk=function(){this.aabb=new Hb,this.id=Hk.currentID++};k["box2D.collision.B2DynamicTreeNode"]=Hk,Hk.__name__="box2D.collision.B2DynamicTreeNode",Hk.prototype={id:null,isLeaf:function(){return null==this.child1},userData:null,aabb:null,parent:null,child1:null,child2:null,__class__:Hk};var Ip=function(){};k["box2D.collision.B2DynamicTreePair"]=Ip,Ip.__name__="box2D.collision.B2DynamicTreePair",Ip.prototype={proxyA:null,proxyB:null,__class__:Ip};var Qh=function(){this.m_pointCount=0,this.m_points=[];for(var e=0,i=ca.b2_maxManifoldPoints;e<i;){var s=e++;this.m_points[s]=new Jp}this.m_localPlaneNormal=new K,this.m_localPoint=new K};k["box2D.collision.B2Manifold"]=Qh,Qh.__name__="box2D.collision.B2Manifold",Qh.prototype={reset:function(){for(var e=0,i=ca.b2_maxManifoldPoints;e<i;){var s=e++;this.m_points[s].reset()}(e=this.m_localPlaneNormal).x=0,e.y=0,(e=this.m_localPoint).x=0,this.m_pointCount=this.m_type=e.y=0},set:function(e){this.m_pointCount=e.m_pointCount;for(var i=0,s=ca.b2_maxManifoldPoints;i<s;){var n=i++;this.m_points[n].set(e.m_points[n])}(i=this.m_localPlaneNormal).x=(s=e.m_localPlaneNormal).x,i.y=s.y,(i=this.m_localPoint).x=(s=e.m_localPoint).x,i.y=s.y,this.m_type=e.m_type},copy:function(){var e=new Qh;return e.set(this),e},m_points:null,m_localPlaneNormal:null,m_localPoint:null,m_type:null,m_pointCount:null,__class__:Qh};var Jp=function(){this.m_localPoint=new K,this.m_id=new Q,this.reset()};k["box2D.collision.B2ManifoldPoint"]=Jp,Jp.__name__="box2D.collision.B2ManifoldPoint",Jp.prototype={reset:function(){var e=this.m_localPoint;e.x=0,this.m_tangentImpulse=this.m_normalImpulse=e.y=0,this.m_id.set_key(0)},set:function(e){var i=this.m_localPoint,s=e.m_localPoint;i.x=s.x,i.y=s.y,this.m_normalImpulse=e.m_normalImpulse,this.m_tangentImpulse=e.m_tangentImpulse,this.m_id.set(e.m_id)},m_localPoint:null,m_normalImpulse:null,m_tangentImpulse:null,m_id:null,__class__:Jp};var Vr=function(){this.R=new Oc,this.center=new K,this.extents=new K};k["box2D.collision.B2OBB"]=Vr,Vr.__name__="box2D.collision.B2OBB",Vr.prototype={R:null,center:null,extents:null,__class__:Vr};var im=function(e,i,s){if(null==s&&(s=1),this.p1=new K,this.p2=new K,null!=e){var n=this.p1;n.x=e.x,n.y=e.y}null!=i&&((e=this.p2).x=i.x,e.y=i.y),this.maxFraction=s};k["box2D.collision.B2RayCastInput"]=im,im.__name__="box2D.collision.B2RayCastInput",im.prototype={p1:null,p2:null,maxFraction:null,__class__:im};var Kp=function(){this.normal=new K};k["box2D.collision.B2RayCastOutput"]=Kp,Kp.__name__="box2D.collision.B2RayCastOutput",Kp.prototype={normal:null,fraction:null,__class__:Kp};var Ff=function(){this.m_localPoint=new K,this.m_axis=new K};k["box2D.collision.B2SeparationFunction"]=Ff,Ff.__name__="box2D.collision.B2SeparationFunction",Ff.prototype={initialize:function(e,i,s,n,o){this.m_proxyA=i,this.m_proxyB=n,ca.b2Assert(0<(i=e.count)&&3>i);var l=new K,_=new K;if(1==i){this.m_type=Ff.e_points,l=this.m_proxyA.getVertex(e.indexA[0]),_=this.m_proxyB.getVertex(e.indexB[0]);var h=l,m=s.R;l=s.position.x+(m.col1.x*h.x+m.col2.x*h.y),s=s.position.y+(m.col1.y*h.x+m.col2.y*h.y),_=o.position.x+((m=o.R).col1.x*(h=_).x+m.col2.x*h.y),o=o.position.y+(m.col1.y*h.x+m.col2.y*h.y),this.m_axis.x=_-l,this.m_axis.y=o-s,this.m_axis.normalize()}else if(e.indexB[0]==e.indexB[1])this.m_type=Ff.e_faceA,i=this.m_proxyA.getVertex(e.indexA[0]),n=this.m_proxyA.getVertex(e.indexA[1]),_=this.m_proxyB.getVertex(e.indexB[0]),this.m_localPoint.x=.5*(i.x+n.x),this.m_localPoint.y=.5*(i.y+n.y),this.m_axis=P.crossVF(P.subtractVV(n,i),1),this.m_axis.normalize(),i=(m=s.R).col1.x*(h=this.m_axis).x+m.col2.x*h.y,n=m.col1.y*h.x+m.col2.y*h.y,l=s.position.x+((m=s.R).col1.x*(h=this.m_localPoint).x+m.col2.x*h.y),s=s.position.y+(m.col1.y*h.x+m.col2.y*h.y),0>((_=o.position.x+((m=o.R).col1.x*(h=_).x+m.col2.x*h.y))-l)*i+((o=o.position.y+(m.col1.y*h.x+m.col2.y*h.y))-s)*n&&((o=this.m_axis).x=-o.x,o.y=-o.y);else if(e.indexA[0]==e.indexA[0])this.m_type=Ff.e_faceB,m=this.m_proxyB.getVertex(e.indexB[0]),h=this.m_proxyB.getVertex(e.indexB[1]),l=this.m_proxyA.getVertex(e.indexA[0]),this.m_localPoint.x=.5*(m.x+h.x),this.m_localPoint.y=.5*(m.y+h.y),this.m_axis=P.crossVF(P.subtractVV(h,m),1),this.m_axis.normalize(),i=(m=o.R).col1.x*(h=this.m_axis).x+m.col2.x*h.y,n=m.col1.y*h.x+m.col2.y*h.y,_=o.position.x+((m=o.R).col1.x*(h=this.m_localPoint).x+m.col2.x*h.y),o=o.position.y+(m.col1.y*h.x+m.col2.y*h.y),0>((l=s.position.x+((m=s.R).col1.x*(h=l).x+m.col2.x*h.y))-_)*i+((s=s.position.y+(m.col1.y*h.x+m.col2.y*h.y))-o)*n&&((o=this.m_axis).x=-o.x,o.y=-o.y);else{i=this.m_proxyA.getVertex(e.indexA[0]),n=this.m_proxyA.getVertex(e.indexA[1]),m=this.m_proxyB.getVertex(e.indexB[0]),h=this.m_proxyB.getVertex(e.indexB[1]),P.mulX(s,l,!0),l=P.mulMV(s.R,P.subtractVVPooled(n,i),!0),P.mulX(o,_,!0),e=P.mulMV(o.R,P.subtractVVPooled(h,m),!0),o=l.x*l.x+l.y*l.y,s=e.x*e.x+e.y*e.y;var f=P.subtractVVPooled(e,l);_=l.x*f.x+l.y*f.y,f=e.x*f.x+e.y*f.y;var y=o*s-(l=l.x*e.x+l.y*e.y)*l;e=0,0!=y&&(e=P.clamp((l*f-_*s)/y,0,1)),0>(l*e+f)/s&&(e=P.clamp((l-_)/o,0,1)),(l=new K).x=i.x+e*(n.x-i.x),l.y=i.y+e*(n.y-i.y),(_=new K).x=m.x+e*(h.x-m.x),_.y=m.y+e*(h.y-m.y),0==e||1==e?(this.m_type=Ff.e_faceB,this.m_axis=P.crossVF(P.subtractVV(h,m),1),this.m_axis.normalize(),this.m_localPoint=_,0>e&&((o=this.m_axis).x=-o.x,o.y=-o.y)):(this.m_type=Ff.e_faceA,this.m_axis=P.crossVF(P.subtractVV(n,i),1),this.m_localPoint=l,0>e&&((o=this.m_axis).x=-o.x,o.y=-o.y))}},evaluate:function(e,i){var s;if(this.m_type==Ff.e_points){var n=P.mulTMV(e.R,this.m_axis,!0),o=P.mulTMV(i.R,this.m_axis.getNegativePooled(),!0);return n=this.m_proxyA.getSupportVertex(n),o=this.m_proxyB.getSupportVertex(o),e=P.mulX(e,n,!0),((i=P.mulX(i,o,!0)).x-e.x)*this.m_axis.x+(i.y-e.y)*this.m_axis.y}return this.m_type==Ff.e_faceA?(s=P.mulMV(e.R,this.m_axis,!0),e=P.mulX(e,this.m_localPoint,!0),o=P.mulTMV(i.R,s.getNegativePooled()),o=this.m_proxyB.getSupportVertex(o),s=((i=P.mulX(i,o,!0)).x-e.x)*s.x+(i.y-e.y)*s.y):this.m_type==Ff.e_faceB?(s=P.mulMV(i.R,this.m_axis,!0),i=P.mulX(i,this.m_localPoint,!0),n=P.mulTMV(e.R,s.getNegativePooled(),!0),n=this.m_proxyA.getSupportVertex(n),s=((e=P.mulX(e,n,!0)).x-i.x)*s.x+(e.y-i.y)*s.y):(ca.b2Assert(!1),0)},m_proxyA:null,m_proxyB:null,m_type:null,m_localPoint:null,m_axis:null,__class__:Ff};var lm=function(){this.useCache=!1,this.indexA=[],this.indexB=[]};k["box2D.collision.B2SimplexCache"]=lm,lm.__name__="box2D.collision.B2SimplexCache",lm.prototype={metric:null,count:null,indexA:null,indexB:null,useCache:null,__class__:lm};var Lp=function(){this.proxyA=new Yd,this.proxyB=new Yd,this.sweepA=new Rh,this.sweepB=new Rh};k["box2D.collision.B2TOIInput"]=Lp,Lp.__name__="box2D.collision.B2TOIInput",Lp.prototype={proxyA:null,proxyB:null,sweepA:null,sweepB:null,tolerance:null,__class__:Lp};var vf=function(e,i){if(this.position=new K,this.R=new Oc,null!=e){var s=this.position;s.x=e.x,s.y=e.y,this.R.setM(i)}};k["box2D.common.math.B2Transform"]=vf,vf.__name__="box2D.common.math.B2Transform",vf.prototype={initialize:function(e,i){var s=this.position;s.x=e.x,s.y=e.y,this.R.setM(i)},setIdentity:function(){var e=this.position;e.x=0,e.y=0,this.R.setIdentity()},set:function(e){var i=this.position,s=e.position;i.x=s.x,i.y=s.y,this.R.setM(e.R)},getAngle:function(){return Math.atan2(this.R.col1.y,this.R.col1.x)},multiply:function(e){return(e=this.R.multiplyV(e)).add(this.position),e},position:null,R:null,__class__:vf};var Oc=function(){this.col1=new K(0,1),this.col2=new K(0,1)};k["box2D.common.math.B2Mat22"]=Oc,Oc.__name__="box2D.common.math.B2Mat22",Oc.fromAngle=function(e){var i=new Oc;return i.set(e),i},Oc.fromVV=function(e,i){var s=new Oc;return s.setVV(e,i),s},Oc.prototype={set:function(e){var i=Math.cos(e);e=Math.sin(e),this.col1.x=i,this.col2.x=-e,this.col1.y=e,this.col2.y=i},setVV:function(e,i){var s=this.col1;s.x=e.x,s.y=e.y,(e=this.col2).x=i.x,e.y=i.y},copy:function(){var e=new Oc;return e.setM(this),e},setM:function(e){var i=this.col1,s=e.col1;i.x=s.x,i.y=s.y,(i=this.col2).x=(e=e.col2).x,i.y=e.y},addM:function(e){this.col1.x+=e.col1.x,this.col1.y+=e.col1.y,this.col2.x+=e.col2.x,this.col2.y+=e.col2.y},multiplyV:function(e){return new K(this.col1.x*e.x+this.col2.x*e.y,this.col1.y*e.x+this.col2.y*e.y)},setIdentity:function(){this.col1.x=1,this.col2.x=0,this.col1.y=0,this.col2.y=1},setZero:function(){this.col1.x=0,this.col2.x=0,this.col1.y=0,this.col2.y=0},setAngle:function(e){this.col1.x=Math.cos(e),this.col1.y=Math.sin(e),this.col2.x=-this.col1.y,this.col2.y=this.col1.x},getAngle:function(){return Math.atan2(this.col1.y,this.col1.x)},getInverse:function(e){var i=this.col1.x,s=this.col2.x,n=this.col1.y,o=this.col2.y,l=i*o-s*n;return 0!=l&&(l=1/l),e.col1.x=l*o,e.col2.x=-l*s,e.col1.y=-l*n,e.col2.y=l*i,e},solve:function(e,i,s){var n=this.col1.x,o=this.col2.x,l=this.col1.y,_=this.col2.y,h=n*_-o*l;return 0!=h&&(h=1/h),e.x=h*(_*i-o*s),e.y=h*(n*s-l*i),e},abs:function(){this.col1.abs(),this.col2.abs()},col1:null,col2:null,__class__:Oc};var Ob=function(){};k["box2D.collision.B2TimeOfImpact"]=Ob,Ob.__name__="box2D.collision.B2TimeOfImpact",Ob.timeOfImpact=function(e){++Ob.b2_toiCalls;var i=e.proxyA,s=e.proxyB,n=e.sweepA,o=e.sweepB;ca.b2Assert(n.t0==o.t0),ca.b2Assert(1-n.t0>Number.MIN_VALUE);var l=i.m_radius+s.m_radius;e=e.tolerance;var _=0,h=0,m=0;for(Ob.s_cache.count=0,Ob.s_distanceInput.useRadii=!1;;){if(n.getTransform(Ob.s_xfA,_),o.getTransform(Ob.s_xfB,_),Ob.s_distanceInput.proxyA=i,Ob.s_distanceInput.proxyB=s,Ob.s_distanceInput.transformA=Ob.s_xfA,Ob.s_distanceInput.transformB=Ob.s_xfB,uc.distance(Ob.s_distanceOutput,Ob.s_cache,Ob.s_distanceInput),0>=Ob.s_distanceOutput.distance){_=1;break}Ob.s_fcn.initialize(Ob.s_cache,i,Ob.s_xfA,s,Ob.s_xfB);var f=Ob.s_fcn.evaluate(Ob.s_xfA,Ob.s_xfB);if(0>=f){_=1;break}if(0==h&&(m=f>l?P.max(l-e,.75*l):P.max(f-e,.02*l)),f-m<.5*e){if(0==h){_=1;break}break}var y=_,g=_,j=1;n.getTransform(Ob.s_xfA,j),o.getTransform(Ob.s_xfB,j);var $=Ob.s_fcn.evaluate(Ob.s_xfA,Ob.s_xfB);if($>=m){_=1;break}for(var yt=0;;){var _t=1&yt?g+(m-f)*(j-g)/($-f):.5*(g+j);n.getTransform(Ob.s_xfA,_t),o.getTransform(Ob.s_xfB,_t);var xt=Ob.s_fcn.evaluate(Ob.s_xfA,Ob.s_xfB);if(P.abs(xt-m)<.025*e){y=_t;break}if(xt>m?(g=_t,f=xt):(j=_t,$=xt),++yt,++Ob.b2_toiRootIters,50==yt)break}if(Ob.b2_toiMaxRootIters=0|P.max(Ob.b2_toiMaxRootIters,yt),y<(1+100*Number.MIN_VALUE)*_||(_=y,++h,++Ob.b2_toiIters,1e3==h))break}return Ob.b2_toiMaxIters=0|P.max(Ob.b2_toiMaxIters,h),_};var Ik=function(){this.m_normal=new K,this.m_points=[];for(var e=0,i=ca.b2_maxManifoldPoints;e<i;){var s=e++;this.m_points[s]=new K}};k["box2D.collision.B2WorldManifold"]=Ik,Ik.__name__="box2D.collision.B2WorldManifold",Ik.prototype={reset:function(){this.m_normal=new K,this.m_points=[];for(var e=0,i=ca.b2_maxManifoldPoints;e<i;){var s=e++;this.m_points[s]=new K}},initialize:function(e,i,s,n,o){if(0!=e.m_pointCount){this.m_normal=new K,this.m_points=[];for(var l=0,_=ca.b2_maxManifoldPoints;l<_;){var h=l++;this.m_points[h]=new K}switch(e.m_type){case 1:h=i.position.x+(_=i.R).col1.x*(l=e.m_localPoint).x+_.col2.x*l.y,i=i.position.y+_.col1.y*l.x+_.col2.y*l.y,e=n.position.x+(_=n.R).col1.x*(l=e.m_points[0].m_localPoint).x+_.col2.x*l.y,n=n.position.y+_.col1.y*l.x+_.col2.y*l.y;var m=(l=e-h)*l+(_=n-i)*_;m>Number.MIN_VALUE*Number.MIN_VALUE?(m=Math.sqrt(m),this.m_normal.x=l/m,this.m_normal.y=_/m):(this.m_normal.x=1,this.m_normal.y=0),l=i+s*this.m_normal.y,n-=o*this.m_normal.y,this.m_points[0].x=.5*(h+s*this.m_normal.x+(e-o*this.m_normal.x)),this.m_points[0].y=.5*(l+n);break;case 2:h=(_=i.R).col1.x*(l=e.m_localPlaneNormal).x+_.col2.x*l.y,m=_.col1.y*l.x+_.col2.y*l.y;var f=i.position.x+(_=i.R).col1.x*(l=e.m_localPoint).x+_.col2.x*l.y,y=i.position.y+_.col1.y*l.x+_.col2.y*l.y;this.m_normal.x=h,this.m_normal.y=m,i=0;for(var g=e.m_pointCount;i<g;){var j=i++,$=n.position.x+(_=n.R).col1.x*(l=e.m_points[j].m_localPoint).x+_.col2.x*l.y;this.m_points[j].x=$+.5*(s-($-f)*h-((l=n.position.y+_.col1.y*l.x+_.col2.y*l.y)-y)*m-o)*h,this.m_points[j].y=l+.5*(s-($-f)*h-(l-y)*m-o)*m}break;case 4:for(h=(_=n.R).col1.x*(l=e.m_localPlaneNormal).x+_.col2.x*l.y,m=_.col1.y*l.x+_.col2.y*l.y,f=n.position.x+(_=n.R).col1.x*(l=e.m_localPoint).x+_.col2.x*l.y,y=n.position.y+_.col1.y*l.x+_.col2.y*l.y,this.m_normal.x=-h,this.m_normal.y=-m,n=0,g=e.m_pointCount;n<g;)j=n++,this.m_points[j].x=($=i.position.x+(_=i.R).col1.x*(l=e.m_points[j].m_localPoint).x+_.col2.x*l.y)+.5*(o-($-f)*h-((l=i.position.y+_.col1.y*l.x+_.col2.y*l.y)-y)*m-s)*h,this.m_points[j].y=l+.5*(o-($-f)*h-(l-y)*m-s)*m}}},getPoint:function(){return 0==this.m_points.length?null:1==this.m_points.length?this.m_points[0]:new K((this.m_points[0].x+this.m_points[1].x)/2,(this.m_points[0].y+this.m_points[1].y)/2)},m_normal:null,m_points:null,__class__:Ik};var cc=function(){this.m_type=-1,this.m_radius=ca.b2_linearSlop};k["box2D.collision.shapes.B2Shape"]=cc,cc.__name__="box2D.collision.shapes.B2Shape",cc.testOverlap=function(e,i,s,n){return cc.initialized||(cc.distanceInput.proxyA=cc.proxyA,cc.distanceInput.proxyB=cc.proxyB,cc.distanceInput.useRadii=!0,cc.initialized=!0),cc.proxyA.set(e),cc.proxyB.set(s),cc.distanceInput.transformA=i,cc.distanceInput.transformB=n,cc.simplexCache.count=0,uc.distance(cc.distanceOutput,cc.simplexCache,cc.distanceInput),cc.distanceOutput.distance<10*Number.MIN_VALUE},cc.prototype={copy:function(){return null},set:function(e){this.m_radius=e.m_radius},getType:function(){return this.m_type},testPoint:function(e,i){return!1},rayCast:function(e,i,s){return!1},computeAABB:function(e,i){},computeMass:function(e,i){},computeSubmergedArea:function(e,i,s,n){return 0},m_type:null,m_radius:null,__class__:cc};var ad=function(e){null==e&&(e=0),cc.call(this),this.m_p=new K,this.m_type=0,this.m_radius=e};k["box2D.collision.shapes.B2CircleShape"]=ad,ad.__name__="box2D.collision.shapes.B2CircleShape",ad.__super__=cc,ad.prototype=x(cc.prototype,{copy:function(){var e=new ad;return e.set(this),e},set:function(e){if(cc.prototype.set.call(this,e),e instanceof ad){var i=T.__cast(e,ad);(e=this.m_p).x=(i=i.m_p).x,e.y=i.y}},testPoint:function(e,i){var s=e.R,n=e.position.x+(s.col1.x*this.m_p.x+s.col2.x*this.m_p.y);return(n=i.x-n)*n+(e=i.y-(e=e.position.y+(s.col1.y*this.m_p.x+s.col2.y*this.m_p.y)))*e<=this.m_radius*this.m_radius},rayCast:function(e,i,s){var n=s.R,o=i.p1.x-(s.position.x+(n.col1.x*this.m_p.x+n.col2.x*this.m_p.y));s=i.p1.y-(s.position.y+(n.col1.y*this.m_p.x+n.col2.y*this.m_p.y));var l=i.p2.y-i.p1.y,_=o*(n=i.p2.x-i.p1.x)+s*l,h=n*n+l*l,m=_*_-h*(o*o+s*s-this.m_radius*this.m_radius);return!(0>m||h<Number.MIN_VALUE)&&0<=(_=-(_+Math.sqrt(m)))&&_<=i.maxFraction*h&&(e.fraction=_/=h,e.normal.x=o+_*n,e.normal.y=s+_*l,e.normal.normalize(),!0)},computeAABB:function(e,i){var s=i.R,n=i.position.x+(s.col1.x*this.m_p.x+s.col2.x*this.m_p.y),o=n-this.m_radius,l=(i=i.position.y+(s.col1.y*this.m_p.x+s.col2.y*this.m_p.y))-this.m_radius;null==l&&(l=0),null==o&&(o=0),(s=e.lowerBound).x=o,s.y=l,null==(i+=this.m_radius)&&(i=0),null==(n+=this.m_radius)&&(n=0),(e=e.upperBound).x=n,e.y=i},computeMass:function(e,i){e.mass=i*ca.b2_pi*this.m_radius*this.m_radius;var s=this.m_p;(i=e.center).x=s.x,i.y=s.y,e.I=e.mass*(.5*this.m_radius*this.m_radius+(this.m_p.x*this.m_p.x+this.m_p.y*this.m_p.y))},computeSubmergedArea:function(e,i,s,n){s=P.mulX(s,this.m_p,!0);var o=-(P.dot(e,s)-i);if(o<-this.m_radius+Number.MIN_VALUE)return 0;if(o>this.m_radius)return n.x=s.x,n.y=s.y,Math.PI*this.m_radius*this.m_radius;var l=o*o;return o=(i=this.m_radius*this.m_radius)*(Math.asin(o/this.m_radius)+Math.PI/2)+o*Math.sqrt(i-l),i=-.6666666666666666*Math.pow(i-l,1.5)/o,n.x=s.x+e.x*i,n.y=s.y+e.y*i,o},getLocalPosition:function(){return this.m_p},setLocalPosition:function(e){var i=this.m_p;i.x=e.x,i.y=e.y},getRadius:function(){return this.m_radius},setRadius:function(e){this.m_radius=e},m_p:null,__class__:ad});var Sg=function(e,i){cc.call(this),this.s_supportVec=new K,this.m_v1=new K,this.m_v2=new K,this.m_v0=new K,this.m_v3=new K,this.m_hasVertex3=this.m_hasVertex0=!1,this.m_coreV1=new K,this.m_coreV2=new K,this.m_normal=new K,this.m_direction=new K,this.m_cornerDir1=new K,this.m_cornerDir2=new K,this.m_type=2,this.m_nextEdge=this.m_prevEdge=null,this.m_v1=e,this.m_v2=i;var s=this.m_v2.y-this.m_v1.y;null==s&&(s=0),null==(i=this.m_v2.x-this.m_v1.x)&&(i=0),(e=this.m_direction).x=i,e.y=s,this.m_length=this.m_direction.normalize(),null==(s=-this.m_direction.x)&&(s=0),null==(i=this.m_direction.y)&&(i=0),(e=this.m_normal).x=i,e.y=s,null==(s=-ca.b2_toiSlop*(this.m_normal.y-this.m_direction.y)+this.m_v1.y)&&(s=0),null==(i=-ca.b2_toiSlop*(this.m_normal.x-this.m_direction.x)+this.m_v1.x)&&(i=0),(e=this.m_coreV1).x=i,e.y=s,null==(s=-ca.b2_toiSlop*(this.m_normal.y+this.m_direction.y)+this.m_v2.y)&&(s=0),null==(i=-ca.b2_toiSlop*(this.m_normal.x+this.m_direction.x)+this.m_v2.x)&&(i=0),(e=this.m_coreV2).x=i,e.y=s,this.m_cornerDir1=this.m_normal,null==(s=-this.m_normal.y)&&(s=0),null==(i=-this.m_normal.x)&&(i=0),(e=this.m_cornerDir2).x=i,e.y=s};k["box2D.collision.shapes.B2EdgeShape"]=Sg,Sg.__name__="box2D.collision.shapes.B2EdgeShape",Sg.__super__=cc,Sg.prototype=x(cc.prototype,{testPoint:function(e,i){return!1},rayCast:function(e,i,s){var n=i.p2.x-i.p1.x,o=i.p2.y-i.p1.y,l=s.R,_=s.position.x+(l.col1.x*this.m_v1.x+l.col2.x*this.m_v1.y),h=s.position.y+(l.col1.y*this.m_v1.x+l.col2.y*this.m_v1.y),m=s.position.y+(l.col1.y*this.m_v2.x+l.col2.y*this.m_v2.y)-h,f=-(n*m+o*(s=-(s.position.x+(l.col1.x*this.m_v2.x+l.col2.x*this.m_v2.y)-_)));if(f>(l=100*Number.MIN_VALUE)){var y=i.p1.y-h;if(0<=(h=(_=i.p1.x-_)*m+y*s)&&h<=i.maxFraction*f&&-l*f<=(i=-n*y+o*_)&&i<=f*(1+l))return e.fraction=h/f,i=Math.sqrt(m*m+s*s),e.normal.x=m/i,e.normal.y=s/i,!0}return!1},computeAABB:function(e,i){var s=i.R,n=i.position.x+(s.col1.x*this.m_v1.x+s.col2.x*this.m_v1.y),o=i.position.y+(s.col1.y*this.m_v1.x+s.col2.y*this.m_v1.y),l=i.position.x+(s.col1.x*this.m_v2.x+s.col2.x*this.m_v2.y);i=i.position.y+(s.col1.y*this.m_v2.x+s.col2.y*this.m_v2.y),n<l?(e.lowerBound.x=n,e.upperBound.x=l):(e.lowerBound.x=l,e.upperBound.x=n),o<i?(e.lowerBound.y=o,e.upperBound.y=i):(e.lowerBound.y=i,e.upperBound.y=o)},computeMass:function(e,i){e.mass=0;var s=this.m_v1;(i=e.center).x=s.x,i.y=s.y,e.I=0},computeSubmergedArea:function(e,i,s,n){var o=new K(e.x*i,e.y*i),l=P.mulX(s,this.m_v1,!0);s=P.mulX(s,this.m_v2,!0);var _=P.dot(e,l)-i;if(e=P.dot(e,s)-i,0<_){if(0<e)return 0;l.x=-e/(_-e)*l.x+_/(_-e)*s.x,l.y=-e/(_-e)*l.y+_/(_-e)*s.y}else 0<e&&(s.x=-e/(_-e)*l.x+_/(_-e)*s.x,s.y=-e/(_-e)*l.y+_/(_-e)*s.y);return n.x=(o.x+l.x+s.x)/3,n.y=(o.y+l.y+s.y)/3,.5*((l.x-o.x)*(s.y-o.y)-(l.y-o.y)*(s.x-o.x))},getLength:function(){return this.m_length},getVertex1:function(){return this.m_v1},getVertex2:function(){return this.m_v2},getCoreVertex1:function(){return this.m_coreV1},getCoreVertex2:function(){return this.m_coreV2},getNormalVector:function(){return this.m_normal},getDirectionVector:function(){return this.m_direction},getCorner1Vector:function(){return this.m_cornerDir1},getCorner2Vector:function(){return this.m_cornerDir2},corner1IsConvex:function(){return this.m_cornerConvex1},corner2IsConvex:function(){return this.m_cornerConvex2},getFirstVertex:function(e){var i=e.R;return new K(e.position.x+(i.col1.x*this.m_coreV1.x+i.col2.x*this.m_coreV1.y),e.position.y+(i.col1.y*this.m_coreV1.x+i.col2.y*this.m_coreV1.y))},getNextEdge:function(){return this.m_nextEdge},getPrevEdge:function(){return this.m_prevEdge},s_supportVec:null,support:function(e,i,s){var n=e.R,o=e.position.x+(n.col1.x*this.m_coreV1.x+n.col2.x*this.m_coreV1.y),l=e.position.y+(n.col1.y*this.m_coreV1.x+n.col2.y*this.m_coreV1.y),_=e.position.x+(n.col1.x*this.m_coreV2.x+n.col2.x*this.m_coreV2.y);return o*i+l*s>_*i+(e=e.position.y+(n.col1.y*this.m_coreV2.x+n.col2.y*this.m_coreV2.y))*s?(this.s_supportVec.x=o,this.s_supportVec.y=l):(this.s_supportVec.x=_,this.s_supportVec.y=e),this.s_supportVec},copy:function(){var e=new Sg(this.m_v1,this.m_v2);e.set(this);var i=T.__cast(e,Sg),s=i.m_v0,n=this.m_v0;return s.x=n.x,s.y=n.y,(s=i.m_v3).x=(n=this.m_v3).x,s.y=n.y,i.m_hasVertex0=this.m_hasVertex0,i.m_hasVertex3=this.m_hasVertex3,e},setPrevEdge:function(e,i,s,n){this.m_prevEdge=e,this.m_coreV1=i,this.m_cornerDir1=s,this.m_cornerConvex1=n},setNextEdge:function(e,i,s,n){this.m_nextEdge=e,this.m_coreV2=i,this.m_cornerDir2=s,this.m_cornerConvex2=n},m_v1:null,m_v2:null,m_v0:null,m_v3:null,m_hasVertex0:null,m_hasVertex3:null,m_coreV1:null,m_coreV2:null,m_length:null,m_normal:null,m_direction:null,m_cornerDir1:null,m_cornerDir2:null,m_cornerConvex1:null,m_cornerConvex2:null,m_nextEdge:null,m_prevEdge:null,__class__:Sg});var Jk=function(){this.mass=0,this.center=new K(0,0),this.I=0};k["box2D.collision.shapes.B2MassData"]=Jk,Jk.__name__="box2D.collision.shapes.B2MassData",Jk.prototype={mass:null,center:null,I:null,__class__:Jk};var Jb=function(){cc.call(this),this.m_type=1,this.m_centroid=new K,this.m_vertices=[],this.m_normals=[]};k["box2D.collision.shapes.B2PolygonShape"]=Jb,Jb.__name__="box2D.collision.shapes.B2PolygonShape",Jb.asArray=function(e,i){var s=new Jb;return s.setAsArray(e,i),s},Jb.asVector=function(e,i){var s=new Jb;return s.setAsVector(e,i),s},Jb.asBox=function(e,i){var s=new Jb;return s.setAsBox(e,i),s},Jb.asOrientedBox=function(e,i,s,n){null==n&&(n=0);var o=new Jb;return o.setAsOrientedBox(e,i,s,n),o},Jb.asEdge=function(e,i){var s=new Jb;return s.setAsEdge(e,i),s},Jb.computeCentroid=function(e,i){for(var s=new K,n=0,o=0;o<i;){var l=o++,_=e[l],h=.5*((_.x-0)*((l=l+1<i?e[l+1|0]:e[0]).y-0)-(_.y-0)*(l.x-0));n+=h,s.x+=.3333333333333333*h*(0+_.x+l.x),s.y+=.3333333333333333*h*(0+_.y+l.y)}return s.x*=1/n,s.y*=1/n,s},Jb.computeOBB=function(e,i,s){for(var n=[],o=0;o<s;){var l=o++;n[l]=i[l]}for(n[s]=n[0],i=Number.MAX_VALUE,o=1,l=s+1;o<l;){for(var _=o++,h=n[_-1|0],m=n[_].x-h.x,f=n[_].y-h.y,y=-(f/=_=Math.sqrt(m*m+f*f)),g=m/=_,j=_=Number.MAX_VALUE,$=-Number.MAX_VALUE,yt=-Number.MAX_VALUE,_t=0,xt=s;_t<xt;){var Tt=_t++,St=n[Tt].x-h.x,Mt=n[Tt].y-h.y;(Tt=m*St+f*Mt)<_&&(_=Tt),(St=y*St+g*Mt)<j&&(j=St),Tt>$&&($=Tt),St>yt&&(yt=St)}(_t=($-_)*(yt-j))<.95*i&&(i=_t,e.R.col1.x=m,e.R.col1.y=f,e.R.col2.x=y,e.R.col2.y=g,e.center.x=h.x+((y=e.R).col1.x*(m=.5*(_+$))+y.col2.x*(f=.5*(j+yt))),e.center.y=h.y+(y.col1.y*m+y.col2.y*f),e.extents.x=.5*($-_),e.extents.y=.5*(yt-j))}},Jb.__super__=cc,Jb.prototype=x(cc.prototype,{copy:function(){var e=new Jb;return e.set(this),e},set:function(e){if(cc.prototype.set.call(this,e),e instanceof Jb){e=T.__cast(e,Jb);var i=this.m_centroid,s=e.m_centroid;for(i.x=s.x,i.y=s.y,this.m_vertexCount=e.m_vertexCount,this.reserve(this.m_vertexCount),i=0,s=this.m_vertexCount;i<s;){var n=i++,o=this.m_vertices[n],l=e.m_vertices[n];o.x=l.x,o.y=l.y,(o=this.m_normals[n]).x=(n=e.m_normals[n]).x,o.y=n.y}}},setAsArray:function(e,i){null==i&&(i=0);for(var s=[],n=0;n<e.length;){var o=e[n];++n,s.push(o)}this.setAsVector(s,i)},setAsVector:function(e,i){null==i&&(i=0),0==i&&(i=e.length),ca.b2Assert(2<=i),this.m_vertexCount=i,this.reserve(i),i=0;for(var s=this.m_vertexCount;i<s;){var n=i++,o=this.m_vertices[n];o.x=(n=e[n]).x,o.y=n.y}for(e=0,i=this.m_vertexCount;e<i;)s=e++,n=P.subtractVVPooled(this.m_vertices[s+1<this.m_vertexCount?s+1:0],this.m_vertices[s]),ca.b2Assert(n.lengthSquared()>Number.MIN_VALUE),o=this.m_normals[s],n=P.crossVF(n,1),o.x=n.x,o.y=n.y,this.m_normals[s].normalize();this.m_centroid=Jb.computeCentroid(this.m_vertices,this.m_vertexCount)},setAsBox:function(e,i){this.m_vertexCount=4,this.reserve(4);var s=this.m_vertices[0],n=-e,o=-i;null==o&&(o=0),null==n&&(n=0),s.x=n,s.y=o,null==(o=-i)&&(o=0),null==(n=e)&&(n=0),(s=this.m_vertices[1]).x=n,s.y=o,null==(o=i)&&(o=0),null==(n=e)&&(n=0),(s=this.m_vertices[2]).x=n,s.y=o,null==i&&(i=0),null==(e=-e)&&(e=0),(s=this.m_vertices[3]).x=e,s.y=i,null==(s=-1)&&(s=0),null==(e=0)&&(e=0),(i=this.m_normals[0]).x=e,i.y=s,null==(s=0)&&(s=0),null==(e=1)&&(e=0),(i=this.m_normals[1]).x=e,i.y=s,null==(s=1)&&(s=0),null==(e=0)&&(e=0),(i=this.m_normals[2]).x=e,i.y=s,null==(s=0)&&(s=0),null==(e=-1)&&(e=0),(i=this.m_normals[3]).x=e,i.y=s,(i=this.m_centroid).x=0,i.y=0},setAsOrientedBox:function(e,i,s,n){null==n&&(n=0),this.m_vertexCount=4,this.reserve(4);var o=this.m_vertices[0],l=-e,_=-i;for(null==_&&(_=0),null==l&&(l=0),o.x=l,o.y=_,null==(_=-i)&&(_=0),null==(l=e)&&(l=0),(o=this.m_vertices[1]).x=l,o.y=_,null==(_=i)&&(_=0),null==(l=e)&&(l=0),(o=this.m_vertices[2]).x=l,o.y=_,null==i&&(i=0),null==(e=-e)&&(e=0),(o=this.m_vertices[3]).x=e,o.y=i,null==(o=-1)&&(o=0),null==(e=0)&&(e=0),(i=this.m_normals[0]).x=e,i.y=o,null==(o=0)&&(o=0),null==(e=1)&&(e=0),(i=this.m_normals[1]).x=e,i.y=o,null==(o=1)&&(o=0),null==(e=0)&&(e=0),(i=this.m_normals[2]).x=e,i.y=o,null==(o=0)&&(o=0),null==(e=-1)&&(e=0),(i=this.m_normals[3]).x=e,i.y=o,this.m_centroid=s,(i=new vf).position=s,i.R.set(n),s=0,n=this.m_vertexCount;s<n;)e=s++,this.m_vertices[e]=P.mulX(i,this.m_vertices[e]),this.m_normals[e]=P.mulMV(i.R,this.m_normals[e])},setAsEdge:function(e,i){this.m_vertexCount=2,this.reserve(2);var s=this.m_vertices[0];s.x=e.x,s.y=e.y,(s=this.m_vertices[1]).x=i.x,s.y=i.y,this.m_centroid.x=.5*(e.x+i.x),this.m_centroid.y=.5*(e.y+i.y),this.m_normals[0]=P.crossVF(P.subtractVV(i,e),1),this.m_normals[0].normalize(),this.m_normals[1].x=-this.m_normals[0].x,this.m_normals[1].y=-this.m_normals[0].y},testPoint:function(e,i){var s=e.R,n=i.x-e.position.x;i=n*s.col1.x+(e=i.y-e.position.y)*s.col1.y;for(var o=n*s.col2.x+e*s.col2.y,l=0,_=this.m_vertexCount;l<_;){var h=l++;if(n=i-(s=this.m_vertices[h]).x,e=o-s.y,0<(s=this.m_normals[h]).x*n+s.y*e)return!1}return!0},rayCast:function(e,i,s){var n=0,o=i.maxFraction,l=i.p1.x-s.position.x,_=i.p1.y-s.position.y,h=s.R,m=l*h.col1.x+_*h.col1.y,f=l*h.col2.x+_*h.col2.y;i=(l=i.p2.x-s.position.x)*(h=s.R).col1.x+(_=i.p2.y-s.position.y)*h.col1.y-m,h=l*h.col2.x+_*h.col2.y-f;for(var y=-1,g=0,j=this.m_vertexCount;g<j;){var $=g++,yt=this.m_vertices[$];if(l=yt.x-m,_=yt.y-f,l=(yt=this.m_normals[$]).x*l+yt.y*_,0==(yt=yt.x*i+yt.y*h)){if(0>l)return!1}else 0>yt&&l<n*yt?(n=l/yt,y=$):0<yt&&l<o*yt&&(o=l/yt);if(o<n-Number.MIN_VALUE)return!1}return 0<=y&&(e.fraction=n,e.normal.x=(h=s.R).col1.x*(yt=this.m_normals[y]).x+h.col2.x*yt.y,e.normal.y=h.col1.y*yt.x+h.col2.y*yt.y,!0)},computeAABB:function(e,i){for(var s=i.R,n=this.m_vertices[0],o=i.position.x+(s.col1.x*n.x+s.col2.x*n.y),l=i.position.y+(s.col1.y*n.x+s.col2.y*n.y),_=o,h=l,m=1,f=this.m_vertexCount;m<f;){var y=m++;o=o<(y=i.position.x+(s.col1.x*(n=this.m_vertices[y]).x+s.col2.x*n.y))?o:y,l=l<(n=i.position.y+(s.col1.y*n.x+s.col2.y*n.y))?l:n,_=_>y?_:y,h=h>n?h:n}e.lowerBound.x=o-this.m_radius,e.lowerBound.y=l-this.m_radius,e.upperBound.x=_+this.m_radius,e.upperBound.y=h+this.m_radius},computeMass:function(e,i){if(2==this.m_vertexCount)e.center.x=.5*(this.m_vertices[0].x+this.m_vertices[1].x),e.center.y=.5*(this.m_vertices[0].y+this.m_vertices[1].y),e.mass=0,e.I=0;else{for(var s=0,n=0,o=0,l=0,_=0,h=this.m_vertexCount;_<h;){var m=_++,f=this.m_vertices[m],y=m+1<this.m_vertexCount?this.m_vertices[m+1|0]:this.m_vertices[0],g=f.x-0,j=f.y-0,$=y.x-0,yt=y.y-0,_t=.5*(m=g*yt-j*$);o+=_t,s+=.3333333333333333*_t*(0+f.x+y.x),n+=.3333333333333333*_t*(0+f.y+y.y),l+=m*(.3333333333333333*(.25*((f=g)*f+$*f+$*$)+(0*f+0*$))+.3333333333333333*(.25*(j*j+yt*j+yt*yt)+(0*j+0*yt)))}e.mass=i*o,null==(n*=1/o)&&(n=0),null==(s*=1/o)&&(s=0),(_=e.center).x=s,_.y=n,e.I=i*l}},computeSubmergedArea:function(e,i,s,n){var o=P.mulTMV(s.R,e,!0),l=i-P.dot(e,s.position),_=[],h=0;e=i=-1;for(var m=!1,f=0,y=this.m_vertexCount;f<y;){var g=f++;_[g]=P.dot(o,this.m_vertices[g])-l;var j=_[g]<-Number.MIN_VALUE;0<g&&(j?m||(i=g-1,++h):m&&(e=g-1,++h)),m=j}switch(h){case 0:return m?(e=new Jk,this.computeMass(e,1),s=P.mulX(s,e.center),n.x=s.x,n.y=s.y,e.mass):0;case 1:-1==i?i=this.m_vertexCount-1:e=this.m_vertexCount-1}for(h=(0-_[i])/(_[l=(i+1)%this.m_vertexCount]-_[i]),_=(0-_[e])/(_[o=(e+1)%this.m_vertexCount]-_[e]),i=new K(this.m_vertices[i].x*(1-h)+this.m_vertices[l].x*h,this.m_vertices[i].y*(1-h)+this.m_vertices[l].y*h),_=new K(this.m_vertices[e].x*(1-_)+this.m_vertices[o].x*_,this.m_vertices[e].y*(1-_)+this.m_vertices[o].y*_),e=0,h=new K,m=this.m_vertices[l],f=l;f!=o;)e+=y=.5*((m.x-i.x)*((l=(f=(f+1)%this.m_vertexCount)==o?_:this.m_vertices[f]).y-i.y)-(m.y-i.y)*(l.x-i.x)),h.x+=y*(i.x+m.x+l.x)/3,h.y+=y*(i.y+m.y+l.y)/3,m=l;return h.multiply(1/e),s=P.mulX(s,h),n.x=s.x,n.y=s.y,e},getVertexCount:function(){return this.m_vertexCount},getVertices:function(){return this.m_vertices},getNormals:function(){return this.m_normals},getSupport:function(e){for(var i=0,s=this.m_vertices[0].x*e.x+this.m_vertices[0].y*e.y,n=1,o=this.m_vertexCount;n<o;){var l=n++,_=this.m_vertices[l].x*e.x+this.m_vertices[l].y*e.y;_>s&&(i=l,s=_)}return i},getSupportVertex:function(e){for(var i=0,s=this.m_vertices[0].x*e.x+this.m_vertices[0].y*e.y,n=1,o=this.m_vertexCount;n<o;){var l=n++,_=this.m_vertices[l].x*e.x+this.m_vertices[l].y*e.y;_>s&&(i=l,s=_)}return this.m_vertices[i]},validate:function(){return!1},reserve:function(e){for(var i=this.m_vertices.length;i<e;){var s=i++;this.m_vertices[s]=new K,this.m_normals[s]=new K}},m_centroid:null,m_vertices:null,m_normals:null,m_vertexCount:null,__class__:Jb});var mm=function(e,i,s){this._r=255*P.clamp(e,0,1)|0,this._g=255*P.clamp(i,0,1)|0,this._b=255*P.clamp(s,0,1)|0};k["box2D.common.B2Color"]=mm,mm.__name__="box2D.common.B2Color",mm.prototype={set:function(e,i,s){this._r=255*P.clamp(e,0,1)|0,this._g=255*P.clamp(i,0,1)|0,this._b=255*P.clamp(s,0,1)|0},r:null,g:null,b:null,color:null,set_r:function(e){return this._r=255*P.clamp(e,0,1)|0},set_g:function(e){return this._g=255*P.clamp(e,0,1)|0},set_b:function(e){return this._b=255*P.clamp(e,0,1)|0},get_color:function(){return this._r<<16|this._g<<8|this._b},_r:null,_g:null,_b:null,__class__:mm,__properties__:{get_color:"get_color",set_b:"set_b",set_g:"set_g",set_r:"set_r"}};var ca=function(){};k["box2D.common.B2Settings"]=ca,ca.__name__="box2D.common.B2Settings",ca.b2MixFriction=function(e,i){return Math.sqrt(e*i)},ca.b2MixRestitution=function(e,i){return e>i?e:i},ca.b2Assert=function(e){if(!e)throw new E("Assertion Failed")};var Ai=function(e,i,s){this.col1=new wf,this.col2=new wf,this.col3=new wf,null==e&&null==i&&null==s?(this.col1.setZero(),this.col2.setZero(),this.col3.setZero()):(this.col1.setV(e),this.col2.setV(i),this.col3.setV(s))};k["box2D.common.math.B2Mat33"]=Ai,Ai.__name__="box2D.common.math.B2Mat33",Ai.prototype={setVVV:function(e,i,s){this.col1.setV(e),this.col2.setV(i),this.col3.setV(s)},copy:function(){return new Ai(this.col1,this.col2,this.col3)},setM:function(e){this.col1.setV(e.col1),this.col2.setV(e.col2),this.col3.setV(e.col3)},addM:function(e){this.col1.x+=e.col1.x,this.col1.y+=e.col1.y,this.col1.z+=e.col1.z,this.col2.x+=e.col2.x,this.col2.y+=e.col2.y,this.col2.z+=e.col2.z,this.col3.x+=e.col3.x,this.col3.y+=e.col3.y,this.col3.z+=e.col3.z},setIdentity:function(){this.col1.x=1,this.col2.x=0,this.col3.x=0,this.col1.y=0,this.col2.y=1,this.col3.y=0,this.col1.z=0,this.col2.z=0,this.col3.z=1},setZero:function(){this.col1.x=0,this.col2.x=0,this.col3.x=0,this.col1.y=0,this.col2.y=0,this.col3.y=0,this.col1.z=0,this.col2.z=0,this.col3.z=0},solve22:function(e,i,s){var n=this.col1.x,o=this.col2.x,l=this.col1.y,_=this.col2.y,h=n*_-o*l;return 0!=h&&(h=1/h),e.x=h*(_*i-o*s),e.y=h*(n*s-l*i),e},solve33:function(e,i,s,n){var o=this.col1.x,l=this.col1.y,_=this.col1.z,h=this.col2.x,m=this.col2.y,f=this.col2.z,y=this.col3.x,g=this.col3.y,j=this.col3.z,$=o*(m*j-f*g)+l*(f*y-h*j)+_*(h*g-m*y);return 0!=$&&($=1/$),e.x=$*(i*(m*j-f*g)+s*(f*y-h*j)+n*(h*g-m*y)),e.y=$*(o*(s*j-n*g)+l*(n*y-i*j)+_*(i*g-s*y)),e.z=$*(o*(m*n-f*s)+l*(f*i-h*n)+_*(h*s-m*i)),e},col1:null,col2:null,col3:null,__class__:Ai};var P=function(){};k["box2D.common.math.B2Math"]=P,P.__name__="box2D.common.math.B2Math",P.__properties__={get_MIN_VALUE:"get_MIN_VALUE",get_MAX_VALUE:"get_MAX_VALUE"},P.isValid=function(e){return!(isNaN(e)||e==-1/0||e==1/0)},P.dot=function(e,i){return e.x*i.x+e.y*i.y},P.crossVV=function(e,i){return e.x*i.y-e.y*i.x},P.crossVF=function(e,i,s){if(null==s&&(s=!1),s){s=K.getFromPool();var n=i*e.y;null==(e=-i*e.x)&&(e=0),null==n&&(n=0),s.x=n,s.y=e}else s=new K(i*e.y,-i*e.x);return s},P.crossFV=function(e,i,s){if(null==s&&(s=!1),s){s=K.getFromPool();var n=-e*i.y;null==(e*=i.x)&&(e=0),null==n&&(n=0),s.x=n,s.y=e}else s=new K(-e*i.y,e*i.x);return s},P.mulMV=function(e,i,s){if(null==s&&(s=!1),s){s=K.getFromPool();var n=e.col1.x*i.x+e.col2.x*i.y;null==(e=e.col1.y*i.x+e.col2.y*i.y)&&(e=0),null==n&&(n=0),s.x=n,s.y=e}else s=new K(e.col1.x*i.x+e.col2.x*i.y,e.col1.y*i.x+e.col2.y*i.y);return s},P.mulTMV=function(e,i,s){if(null==s&&(s=!1),s){s=K.getFromPool();var n=P.dot(i,e.col1);null==(e=P.dot(i,e.col2))&&(e=0),null==n&&(n=0),s.x=n,s.y=e}else s=new K(P.dot(i,e.col1),P.dot(i,e.col2));return s},P.mulX=function(e,i,s){return null==s&&(s=!1),(i=P.mulMV(e.R,i,s)).x+=e.position.x,i.y+=e.position.y,i},P.mulXT=function(e,i,s){return s=(i=P.subtractVVPooled(i,e.position)).x*e.R.col1.x+i.y*e.R.col1.y,i.y=i.x*e.R.col2.x+i.y*e.R.col2.y,i.x=s,i},P.addVV=function(e,i){return new K(e.x+i.x,e.y+i.y)},P.subtractVV=function(e,i){return new K(e.x-i.x,e.y-i.y)},P.subtractVVPooled=function(e,i){var s=K.getFromPool(),n=e.x-i.x;return null==(e=e.y-i.y)&&(e=0),null==n&&(n=0),s.x=n,s.y=e,s},P.distance=function(e,i){var s=e.x-i.x;return e=e.y-i.y,Math.sqrt(s*s+e*e)},P.distanceSquared=function(e,i){var s=e.x-i.x;return s*s+(e=e.y-i.y)*e},P.mulFV=function(e,i){return new K(e*i.x,e*i.y)},P.addMM=function(e,i){return Oc.fromVV(P.addVV(e.col1,i.col1),P.addVV(e.col2,i.col2))},P.mulMM=function(e,i){return Oc.fromVV(P.mulMV(e,i.col1),P.mulMV(e,i.col2))},P.mulTMM=function(e,i){var s=new K(P.dot(e.col1,i.col1),P.dot(e.col2,i.col1));return e=new K(P.dot(e.col1,i.col2),P.dot(e.col2,i.col2)),Oc.fromVV(s,e)},P.abs=function(e){return 0<e?e:-e},P.absV=function(e){return new K(P.abs(e.x),P.abs(e.y))},P.absM=function(e){return Oc.fromVV(P.absV(e.col1),P.absV(e.col2))},P.min=function(e,i){return e<i?e:i},P.minV=function(e,i){return new K(P.min(e.x,i.x),P.min(e.y,i.y))},P.max=function(e,i){return e>i?e:i},P.maxV=function(e,i){return new K(P.max(e.x,i.x),P.max(e.y,i.y))},P.clamp=function(e,i,s){return e<i?i:e>s?s:e},P.clampV=function(e,i,s){return P.maxV(i,P.minV(e,s))},P.swap=function(e,i){var s=e[0];e[0]=i[0],i[0]=s},P.random=function(){return 2*Math.random()-1},P.randomRange=function(e,i){return(i-e)*Math.random()+e},P.nextPowerOfTwo=function(e){return e|=e>>1&2147483647,e|=e>>2&1073741823,e|=e>>4&268435455,1+((e|=e>>8&16777215)|e>>16&65535)},P.isPowerOfTwo=function(e){return 0<e&&0==(e&e-1)},P.get_MAX_VALUE=function(){return Number.MAX_VALUE},P.get_MIN_VALUE=function(){return Number.MIN_VALUE};var Rh=function(){this.localCenter=new K,this.c0=new K,this.c=new K};k["box2D.common.math.B2Sweep"]=Rh,Rh.__name__="box2D.common.math.B2Sweep",Rh.prototype={set:function(e){var i=this.localCenter,s=e.localCenter;i.x=s.x,i.y=s.y,(i=this.c0).x=(s=e.c0).x,i.y=s.y,(i=this.c).x=(s=e.c).x,i.y=s.y,this.a0=e.a0,this.a=e.a,this.t0=e.t0},copy:function(){var e=new Rh,i=e.localCenter,s=this.localCenter;return i.x=s.x,i.y=s.y,(i=e.c0).x=(s=this.c0).x,i.y=s.y,(i=e.c).x=(s=this.c).x,i.y=s.y,e.a0=this.a0,e.a=this.a,e.t0=this.t0,e},getTransform:function(e,i){e.position.x=(1-i)*this.c0.x+i*this.c.x,e.position.y=(1-i)*this.c0.y+i*this.c.y,e.R.set((1-i)*this.a0+i*this.a),e.position.x-=(i=e.R).col1.x*this.localCenter.x+i.col2.x*this.localCenter.y,e.position.y-=i.col1.y*this.localCenter.x+i.col2.y*this.localCenter.y},advance:function(e){if(this.t0<e&&1-this.t0>Number.MIN_VALUE){var i=(e-this.t0)/(1-this.t0);this.c0.x=(1-i)*this.c0.x+i*this.c.x,this.c0.y=(1-i)*this.c0.y+i*this.c.y,this.a0=(1-i)*this.a0+i*this.a,this.t0=e}},localCenter:null,c0:null,c:null,a0:null,a:null,t0:null,__class__:Rh};var wf=function(e,i,s){null==s&&(s=0),null==i&&(i=0),null==e&&(e=0),this.x=e,this.y=i,this.z=s};k["box2D.common.math.B2Vec3"]=wf,wf.__name__="box2D.common.math.B2Vec3",wf.prototype={setZero:function(){this.x=this.y=this.z=0},set:function(e,i,s){this.x=e,this.y=i,this.z=s},setV:function(e){this.x=e.x,this.y=e.y,this.z=e.z},getNegative:function(){return new wf(-this.x,-this.y,-this.z)},negativeSelf:function(){this.x=-this.x,this.y=-this.y,this.z=-this.z},copy:function(){return new wf(this.x,this.y,this.z)},add:function(e){this.x+=e.x,this.y+=e.y,this.z+=e.z},subtract:function(e){this.x-=e.x,this.y-=e.y,this.z-=e.z},multiply:function(e){this.x*=e,this.y*=e,this.z*=e},x:null,y:null,z:null,__class__:wf};var ua=function(e,i){this.m_xf=new vf,this.m_sweep=new Rh,this.m_linearVelocity=new K,this.m_force=new K,this.m_flags=0,e.bullet&&(this.m_flags|=ua.e_bulletFlag),e.fixedRotation&&(this.m_flags|=ua.e_fixedRotationFlag),e.allowSleep&&(this.m_flags|=ua.e_allowSleepFlag),e.awake&&(this.m_flags|=ua.e_awakeFlag),e.active&&(this.m_flags|=ua.e_activeFlag),e.ignoreGravity&&(this.m_flags|=ua.e_ignoreGravityFlag),this.m_world=i;var s=e.position;(i=this.m_xf.position).x=s.x,i.y=s.y,this.m_xf.R.set(e.angle),(i=this.m_sweep.localCenter).x=0,i.y=0,this.m_sweep.t0=1,this.m_sweep.a0=this.m_sweep.a=e.angle,this.m_sweep.c.x=(i=this.m_xf.R).col1.x*(s=this.m_sweep.localCenter).x+i.col2.x*s.y,this.m_sweep.c.y=i.col1.y*s.x+i.col2.y*s.y,this.m_sweep.c.x+=this.m_xf.position.x,this.m_sweep.c.y+=this.m_xf.position.y,(i=this.m_sweep.c0).x=(s=this.m_sweep.c).x,i.y=s.y,this.m_contactList=this.m_controllerList=this.m_jointList=null,this.m_controllerCount=0,this.m_next=this.m_prev=null,(i=this.m_linearVelocity).x=(s=e.linearVelocity).x,i.y=s.y,this.m_angularVelocity=e.angularVelocity,this.m_linearDamping=e.linearDamping,this.m_angularDamping=e.angularDamping;var n=s=0;null==n&&(n=0),null==s&&(s=0),(i=this.m_force).x=s,i.y=n,this.m_sleepTime=this.m_torque=0,this.m_type=e.type,this.m_invMass=this.m_mass=this.m_type==ua.b2_dynamicBody?1:0,this.m_invI=this.m_I=0,this.m_inertiaScale=e.inertiaScale,this.m_userData=e.userData,this.m_fixtureList=null,this.m_fixtureCount=0,this.groupID=e.groupID,this.origin=new K,this.size=new K};k["box2D.dynamics.B2Body"]=ua,ua.__name__="box2D.dynamics.B2Body",ua.prototype={connectEdges:function(e,i,s){var n=Math.atan2(i.getDirectionVector().y,i.getDirectionVector().x);s=P.mulFV(Math.tan(.5*(n-s)),i.getDirectionVector()),s=P.subtractVV(s,i.getNormalVector()),s=P.mulFV(ca.b2_toiSlop,s),s=P.addVV(s,i.getVertex1());var o=P.addVV(e.getDirectionVector(),i.getDirectionVector());o.normalize();var l=0<P.dot(e.getDirectionVector(),i.getNormalVector());return e.setNextEdge(i,s,o,l),i.setPrevEdge(e,s,o,l),n},createFixture:function(e){if(1==this.m_world.isLocked())return null;var i=new hg;return i.create(this,this.m_xf,e),this.m_flags&ua.e_activeFlag&&i.createProxy(this.m_world.m_contactManager.m_broadPhase,this.m_xf),i.m_next=this.m_fixtureList,this.m_fixtureList=i,++this.m_fixtureCount,i.m_body=this,0<i.m_density&&this.resetMassData(),this.m_world.m_flags|=lc.e_newFixture,i},createFixture2:function(e,i){null==i&&(i=0);var s=new ig;return s.shape=e,s.density=i,this.createFixture(s)},DestroyFixture:function(e){if(1!=this.m_world.isLocked()){for(var i=this.m_fixtureList,s=null;null!=i;){if(i==e){null!=s?s.m_next=e.m_next:this.m_fixtureList=e.m_next;break}s=i,i=i.m_next}for(i=this.m_contactList;null!=i;){s=i.contact,i=i.next;var n=s.getFixtureA(),o=s.getFixtureB();e!=n&&e!=o||this.m_world.m_contactManager.destroy(s)}this.m_flags&ua.e_activeFlag&&e.destroyProxy(this.m_world.m_contactManager.m_broadPhase),e.destroy(),e.m_body=null,e.m_next=null,--this.m_fixtureCount,this.resetMassData()}},setPositionAndAngle:function(e,i){if(1!=this.m_world.isLocked()){this.m_xf.R.set(i);var s=this.m_xf.position;for(s.x=e.x,s.y=e.y,this.m_sweep.c.x=(e=this.m_xf.R).col1.x*(s=this.m_sweep.localCenter).x+e.col2.x*s.y,this.m_sweep.c.y=e.col1.y*s.x+e.col2.y*s.y,this.m_sweep.c.x+=this.m_xf.position.x,this.m_sweep.c.y+=this.m_xf.position.y,(e=this.m_sweep.c0).x=(s=this.m_sweep.c).x,e.y=s.y,this.m_sweep.a0=this.m_sweep.a=i,i=this.m_world.m_contactManager.m_broadPhase,e=this.m_fixtureList;null!=e;)e.synchronize(i,this.m_xf,this.m_xf),e=e.m_next;this.m_world.m_contactManager.findNewContacts()}},setPositionFast:function(e){if(1!=this.m_world.isLocked()){var i=this.m_xf.position;i.x=e.x,i.y=e.y,this.m_sweep.c.x=(e=this.m_xf.R).col1.x*(i=this.m_sweep.localCenter).x+e.col2.x*i.y,this.m_sweep.c.y=e.col1.y*i.x+e.col2.y*i.y,this.m_sweep.c.x+=this.m_xf.position.x,this.m_sweep.c.y+=this.m_xf.position.y,(e=this.m_sweep.c0).x=(i=this.m_sweep.c).x,e.y=i.y}},setTransform:function(e){this.setPositionAndAngle(e.position,e.getAngle())},getTransform:function(){return this.m_xf},getPosition:function(){return this.m_xf.position},setPosition:function(e){this.setPositionAndAngle(e,this.getAngle())},getAngle:function(){return this.m_sweep.a},setAngle:function(e){this.setPositionAndAngle(this.getPosition(),e)},getWorldCenter:function(){return this.m_sweep.c},getLocalCenter:function(){return this.m_sweep.localCenter},setLinearVelocity:function(e){if(this.m_type!=ua.b2_staticBody){var i=this.m_linearVelocity;i.x=e.x,i.y=e.y}},getLinearVelocity:function(){return this.m_linearVelocity},setAngularVelocity:function(e){this.m_type!=ua.b2_staticBody&&(this.m_angularVelocity=e)},getAngularVelocity:function(){return this.m_angularVelocity},getDefinition:function(){var e=new lj;e.type=this.getType(),e.allowSleep=(this.m_flags&ua.e_allowSleepFlag)==ua.e_allowSleepFlag,e.angle=this.getAngle(),e.angularDamping=this.m_angularDamping,e.angularVelocity=this.m_angularVelocity,e.fixedRotation=(this.m_flags&ua.e_fixedRotationFlag)==ua.e_fixedRotationFlag,e.bullet=(this.m_flags&ua.e_bulletFlag)==ua.e_bulletFlag,e.awake=(this.m_flags&ua.e_awakeFlag)==ua.e_awakeFlag,e.linearDamping=this.m_linearDamping;var i=e.linearVelocity,s=this.getLinearVelocity();return i.x=s.x,i.y=s.y,e.position=this.getPosition(),e.userData=this.getUserData(),e},applyForce:function(e,i){this.m_type==ua.b2_dynamicBody&&(0==this.isAwake()&&this.setAwake(!0),this.m_force.x+=e.x,this.m_force.y+=e.y,this.m_torque+=(i.x-this.m_sweep.c.x)*e.y-(i.y-this.m_sweep.c.y)*e.x)},applyTorque:function(e){this.m_type==ua.b2_dynamicBody&&(0==this.isAwake()&&this.setAwake(!0),this.m_torque+=e)},applyImpulse:function(e,i){this.m_type==ua.b2_dynamicBody&&(0==this.isAwake()&&this.setAwake(!0),this.m_linearVelocity.x+=this.m_invMass*e.x,this.m_linearVelocity.y+=this.m_invMass*e.y,this.m_angularVelocity+=this.m_invI*((i.x-this.m_sweep.c.x)*e.y-(i.y-this.m_sweep.c.y)*e.x))},split:function(e){for(var i=this.getLinearVelocity().copy(),s=this.getAngularVelocity(),n=this.getWorldCenter(),o=this.m_world.createBody(this.getDefinition()),l=null,_=this.m_fixtureList;null!=_;)if(e(_)){var h=_.m_next;null!=l?l.m_next=h:this.m_fixtureList=h,this.m_fixtureCount--,_.m_next=o.m_fixtureList,o.m_fixtureList=_,o.m_fixtureCount++,_.m_body=o,_=h}else l=_,_=_.m_next;return this.resetMassData(),o.resetMassData(),l=this.getWorldCenter(),e=o.getWorldCenter(),l=P.addVV(i,P.crossFV(s,P.subtractVV(l,n))),i=P.addVV(i,P.crossFV(s,P.subtractVV(e,n))),this.setLinearVelocity(l),o.setLinearVelocity(i),this.setAngularVelocity(s),o.setAngularVelocity(s),this.synchronizeFixtures(),o.synchronizeFixtures(),o},merge:function(e){for(var i=e.m_fixtureList;null!=i;){var s=i.m_next;e.m_fixtureCount--,i.m_next=this.m_fixtureList,this.m_fixtureList=i,this.m_fixtureCount++,i.m_body=e,i=s}this.m_fixtureCount=0,this.getWorldCenter(),e.getWorldCenter(),this.getLinearVelocity().copy(),e.getLinearVelocity().copy(),this.getAngularVelocity(),e.getAngularVelocity(),this.resetMassData(),this.synchronizeFixtures()},getMass:function(){return this.m_mass},getInertia:function(){return this.m_I},getMassData:function(e){e.mass=this.m_mass,e.I=this.m_I;var i=this.m_sweep.localCenter;(e=e.center).x=i.x,e.y=i.y},setMassData:function(e){if(ca.b2Assert(0==this.m_world.isLocked()),1!=this.m_world.isLocked()&&this.m_type==ua.b2_dynamicBody){this.m_invI=this.m_I=this.m_invMass=0,this.m_mass=e.mass,0>=this.m_mass&&(this.m_mass=1),this.m_invMass=1/this.m_mass,0<e.I&&!(this.m_flags&ua.e_fixedRotationFlag)&&(this.m_I=e.I-this.m_mass*(e.center.x*e.center.x+e.center.y*e.center.y),this.m_invI=1/this.m_I);var i=this.m_sweep.c.copy(),s=this.m_sweep.localCenter;s.x=(e=e.center).x,s.y=e.y,s=this.m_sweep.c0,e=P.mulX(this.m_xf,this.m_sweep.localCenter),s.x=e.x,s.y=e.y,(s=this.m_sweep.c).x=(e=this.m_sweep.c0).x,s.y=e.y,this.m_linearVelocity.x+=this.m_angularVelocity*-(this.m_sweep.c.y-i.y),this.m_linearVelocity.y+=this.m_angularVelocity*(this.m_sweep.c.x-i.x)}},resetMassData:function(){this.m_invI=this.m_I=this.m_invMass=this.m_mass=0;var e=this.m_sweep.localCenter;if(e.x=0,e.y=0,this.m_type!=ua.b2_staticBody&&this.m_type!=ua.b2_kinematicBody){var i=K.make(0,0);for(e=this.m_fixtureList;null!=e;)if(0!=e.m_density){var s=e.getMassData();this.m_mass+=s.mass,i.x+=s.center.x*s.mass,i.y+=s.center.y*s.mass,this.m_I+=s.I,e=e.m_next}0<this.m_mass?(this.m_invMass=1/this.m_mass,i.x*=this.m_invMass,i.y*=this.m_invMass):this.m_invMass=this.m_mass=1,0<this.m_I&&!(this.m_flags&ua.e_fixedRotationFlag)?(this.m_I-=this.m_mass*(i.x*i.x+i.y*i.y),this.m_I*=this.m_inertiaScale,ca.b2Assert(0<this.m_I),this.m_invI=1/this.m_I):this.m_invI=this.m_I=0,e=this.m_sweep.c.copy(),(s=this.m_sweep.localCenter).x=i.x,s.y=i.y,i=this.m_sweep.c0,s=P.mulX(this.m_xf,this.m_sweep.localCenter),i.x=s.x,i.y=s.y,(i=this.m_sweep.c).x=(s=this.m_sweep.c0).x,i.y=s.y,this.m_linearVelocity.x+=this.m_angularVelocity*-(this.m_sweep.c.y-e.y),this.m_linearVelocity.y+=this.m_angularVelocity*(this.m_sweep.c.x-e.x)}},getWorldPoint:function(e){var i=this.m_xf.R;return(e=new K(i.col1.x*e.x+i.col2.x*e.y,i.col1.y*e.x+i.col2.y*e.y)).x+=this.m_xf.position.x,e.y+=this.m_xf.position.y,e},getWorldVector:function(e){return P.mulMV(this.m_xf.R,e)},getLocalPoint:function(e){return P.mulXT(this.m_xf,e)},getLocalVector:function(e){return P.mulTMV(this.m_xf.R,e)},getLinearVelocityFromWorldPoint:function(e){return new K(this.m_linearVelocity.x-this.m_angularVelocity*(e.y-this.m_sweep.c.y),this.m_linearVelocity.y+this.m_angularVelocity*(e.x-this.m_sweep.c.x))},getLinearVelocityFromLocalPoint:function(e){var i=this.m_xf.R;return(e=new K(i.col1.x*e.x+i.col2.x*e.y,i.col1.y*e.x+i.col2.y*e.y)).x+=this.m_xf.position.x,e.y+=this.m_xf.position.y,new K(this.m_linearVelocity.x-this.m_angularVelocity*(e.y-this.m_sweep.c.y),this.m_linearVelocity.y+this.m_angularVelocity*(e.x-this.m_sweep.c.x))},getLinearDamping:function(){return this.m_linearDamping},setLinearDamping:function(e){this.m_linearDamping=e},getAngularDamping:function(){return this.m_angularDamping},setAngularDamping:function(e){this.m_angularDamping=e},setType:function(e){if(this.m_type!=e)for(this.m_type=e,this.resetMassData(),this.m_type==ua.b2_staticBody&&((e=this.m_linearVelocity).x=0,this.m_angularVelocity=e.y=0),this.setAwake(!0),(e=this.m_force).x=0,this.m_torque=e.y=0,e=this.m_contactList;null!=e;)e.contact.flagForFiltering(),e=e.next},getType:function(){return this.m_type},setBullet:function(e){this.m_flags=e?this.m_flags|ua.e_bulletFlag:this.m_flags&~ua.e_bulletFlag},isBullet:function(){return(this.m_flags&ua.e_bulletFlag)==ua.e_bulletFlag},setSleepingAllowed:function(e){e?this.m_flags|=ua.e_allowSleepFlag:(this.m_flags&=~ua.e_allowSleepFlag,this.setAwake(!0))},setAwake:function(e){e?(this.m_flags|=ua.e_awakeFlag,this.m_sleepTime=0):(this.m_flags&=~ua.e_awakeFlag,this.m_sleepTime=0,(e=this.m_linearVelocity).x=0,this.m_angularVelocity=e.y=0,(e=this.m_force).x=0,this.m_torque=e.y=0)},isAwake:function(){return(this.m_flags&ua.e_awakeFlag)==ua.e_awakeFlag},setFixedRotation:function(e){this.m_flags=e?this.m_flags|ua.e_fixedRotationFlag:this.m_flags&~ua.e_fixedRotationFlag,this.resetMassData()},isFixedRotation:function(){return(this.m_flags&ua.e_fixedRotationFlag)==ua.e_fixedRotationFlag},setActive:function(e){var i;if(e!=this.isActive())if(e)for(this.m_flags|=ua.e_activeFlag,e=this.m_world.m_contactManager.m_broadPhase,i=this.m_fixtureList;null!=i;)i.createProxy(e,this.m_xf),i=i.m_next;else{for(this.m_flags&=~ua.e_activeFlag,e=this.m_world.m_contactManager.m_broadPhase,i=this.m_fixtureList;null!=i;)i.destroyProxy(e),i=i.m_next;for(e=this.m_contactList;null!=e;)i=e,e=e.next,this.m_world.m_contactManager.destroy(i.contact);this.m_contactList=null}},isActive:function(){return(this.m_flags&ua.e_activeFlag)==ua.e_activeFlag},isSleepingAllowed:function(){return(this.m_flags&ua.e_allowSleepFlag)==ua.e_allowSleepFlag},getFixtureList:function(){return this.m_fixtureList},getJointList:function(){return this.m_jointList},getControllerList:function(){return this.m_controllerList},getContactList:function(){return this.m_contactList},getNext:function(){return this.m_next},getUserData:function(){return this.m_userData},setUserData:function(e){this.m_userData=e},getWorld:function(){return this.m_world},setFriction:function(e){for(var i=this.m_fixtureList;null!=i;)i.m_friction=e,i=i.m_next},setBounciness:function(e){for(var i=this.m_fixtureList;null!=i;)i.m_restitution=e,i=i.m_next},setPaused:function(e){this.m_flags=e?this.m_flags|ua.e_pausedFlag:this.m_flags&~ua.e_pausedFlag},isPaused:function(){return(this.m_flags&ua.e_pausedFlag)==ua.e_pausedFlag},setIgnoreGravity:function(e){this.m_flags=e?this.m_flags|ua.e_ignoreGravityFlag:this.m_flags&~ua.e_ignoreGravityFlag},isIgnoringGravity:function(){return(this.m_flags&ua.e_ignoreGravityFlag)==ua.e_ignoreGravityFlag},setAlwaysActive:function(e){this.m_flags=e?this.m_flags|ua.e_alwaysActiveFlag:this.m_flags&~ua.e_alwaysActiveFlag},isAlwaysActive:function(){return(this.m_flags&ua.e_alwaysActiveFlag)==ua.e_alwaysActiveFlag},synchronizeFixtures:function(){var e=ua.s_xf1;e.R.set(this.m_sweep.a0);var i=e.R,s=this.m_sweep.localCenter;for(e.position.x=this.m_sweep.c0.x-(i.col1.x*s.x+i.col2.x*s.y),e.position.y=this.m_sweep.c0.y-(i.col1.y*s.x+i.col2.y*s.y),i=this.m_world.m_contactManager.m_broadPhase,s=this.m_fixtureList;null!=s;)s.synchronize(i,e,this.m_xf),s=s.m_next},synchronizeTransform:function(){this.m_xf.R.set(this.m_sweep.a);var e=this.m_xf.R,i=this.m_sweep.localCenter;this.m_xf.position.x=this.m_sweep.c.x-(e.col1.x*i.x+e.col2.x*i.y),this.m_xf.position.y=this.m_sweep.c.y-(e.col1.y*i.x+e.col2.y*i.y)},shouldCollide:function(e){if(this.m_type!=ua.b2_dynamicBody&&e.m_type!=ua.b2_dynamicBody)return!1;for(var i=this.m_jointList;null!=i;){if(i.other==e&&0==i.joint.m_collideConnected)return!1;i=i.next}return!0},advance:function(e){this.m_sweep.advance(e);var i=this.m_sweep.c0;(e=this.m_sweep.c).x=i.x,e.y=i.y,this.m_sweep.a=this.m_sweep.a0,this.synchronizeTransform()},m_flags:null,m_type:null,m_islandIndex:null,m_xf:null,m_sweep:null,m_linearVelocity:null,m_angularVelocity:null,m_force:null,m_torque:null,m_world:null,m_prev:null,m_next:null,m_fixtureList:null,m_fixtureCount:null,m_controllerList:null,m_controllerCount:null,m_jointList:null,m_contactList:null,m_mass:null,m_invMass:null,m_I:null,m_invI:null,m_inertiaScale:null,m_linearDamping:null,m_angularDamping:null,m_sleepTime:null,m_userData:null,groupID:null,origin:null,size:null,__class__:ua};var lj=function(){this.position=new K,this.linearVelocity=new K,this.userData=null,this.angularDamping=this.linearDamping=this.angularVelocity=this.angle=0,this.awake=this.allowSleep=!0,this.bullet=this.fixedRotation=!1,this.type=ua.b2_staticBody,this.active=!0,this.inertiaScale=1,this.groupID=3};k["box2D.dynamics.B2BodyDef"]=lj,lj.__name__="box2D.dynamics.B2BodyDef",lj.prototype={type:null,position:null,angle:null,linearVelocity:null,angularVelocity:null,linearDamping:null,angularDamping:null,allowSleep:null,awake:null,fixedRotation:null,bullet:null,active:null,userData:null,inertiaScale:null,groupID:null,ignoreGravity:null,friction:null,bounciness:null,mass:null,aMass:null,__class__:lj};var Kk=function(){};k["box2D.dynamics.B2ContactFilter"]=Kk,Kk.__name__="box2D.dynamics.B2ContactFilter",Kk.prototype={shouldCollide:function(e,i){var s=e.m_body.groupID,n=i.m_body.groupID;return-1e3!=(e=e.groupID)&&(s=e),-1e3!=(i=i.groupID)&&(n=i),-1!=s&&-1!=n&&(-2==s||-2==n?!(1==s||1==n):bc.collisionMap[s][n])},rayCollide:function(e,i){return null==e||this.shouldCollide(T.__cast(e,hg),i)},__class__:Kk};var Mp=function(){this.normalImpulses=[],this.tangentImpulses=[]};k["box2D.dynamics.B2ContactImpulse"]=Mp,Mp.__name__="box2D.dynamics.B2ContactImpulse",Mp.prototype={normalImpulses:null,tangentImpulses:null,__class__:Mp};var uh=function(){};k["box2D.dynamics.B2ContactListener"]=uh,uh.__name__="box2D.dynamics.B2ContactListener",uh.prototype={beginContact:function(e){2147483647<uh.KEY_LOCK&&(uh.KEY_LOCK=-2147483648),e.key=uh.KEY_LOCK++;var i=e.getFixtureA().getUserData(),s=e.getFixtureB().getUserData(),n=i instanceof Dd,o=s instanceof Dd;!n||o||s instanceof vh?!o||n||i instanceof vh?(null!=i.contacts&&(i.contacts.set(e.key,e),i.contactCount++),null!=s.contacts&&(s.contacts.set(e.key,e),s.contactCount++)):(T.__cast(s,Dd).addActor(i),null!=i.regionContacts&&i.regionContacts.set(e.key,e)):(T.__cast(i,Dd).addActor(s),null!=s.regionContacts&&s.regionContacts.set(e.key,e))},endContact:function(e){var i=e.getFixtureA().getUserData(),s=e.getFixtureB().getUserData(),n=i instanceof Dd,o=s instanceof Dd;if(n&&!o){for(n=!1,null!=s.regionContacts&&s.regionContacts.unset(e.key),e=s.regionContacts.iterator();e.hasNext();){if((o=e.next()).getFixtureA().getUserData()instanceof Dd&&o.getFixtureA().getUserData()==i){n=!0;break}if(o.getFixtureB().getUserData()instanceof Dd&&o.getFixtureB().getUserData()==i){n=!0;break}}n&&!s.recycled||T.__cast(i,Dd).removeActor(s)}else if(o&&!n){for(n=!1,null!=i.regionContacts&&i.regionContacts.unset(e.key),e=i.regionContacts.iterator();e.hasNext();){if((o=e.next()).getFixtureA().getUserData()instanceof Dd&&o.getFixtureA().getUserData()==s){n=!0;break}if(o.getFixtureB().getUserData()instanceof Dd&&o.getFixtureB().getUserData()==s){n=!0;break}}n&&!i.recycled||T.__cast(s,Dd).removeActor(i)}else{if(null!=i.collisions){var l=(n=i.collisions).mH,_=l.mHash[73856093*(o=e.key)&l.mMask];if(-1==_)o=-2147483648;else if((l=l.mData)[_]==o)o=l[_+1];else{var h=-2147483648;for(_=l[_+2];-1!=_;){if(l[_]==o){h=l[_+1];break}_=l[_+2]}o=h}if(null!=(n=-2147483648==o?null:n.mVals[o]))for(i.collisions.unset(e.key),i.collisionsCount--;0<n.points.length;)ge.free(n.points.pop())}if(null!=i.contacts&&i.contacts.unset(e.key)&&i.contactCount--,null!=s.collisions){if(-1==(o=(_=(i=s.collisions).mH).mHash[73856093*(n=e.key)&_.mMask]))n=-2147483648;else if((_=_.mData)[o]==n)n=_[o+1];else{for(l=-2147483648,o=_[o+2];-1!=o;){if(_[o]==n){l=_[o+1];break}o=_[o+2]}n=l}if(null!=(i=-2147483648==n?null:i.mVals[n]))for(s.collisions.unset(e.key),s.collisionsCount--;0<i.points.length;)ge.free(i.points.pop())}null!=s.contacts&&s.contacts.unset(e.key)&&s.contactCount--}},preSolve:function(e,i){Fc.preSolve(e,i)},postSolve:function(e,i){},__class__:uh};var nm=function(){this.m_world=null,this.m_contactCount=0,this.m_contactFilter=Kk.b2_defaultFilter,this.m_contactListener=uh.b2_defaultListener,this.m_contactFactory=new Np(this.m_allocator),this.m_broadPhase=new km};k["box2D.dynamics.B2ContactManager"]=nm,nm.__name__="box2D.dynamics.B2ContactManager",nm.prototype={addPair:function(e,i){var s=e.getBody(),n=i.getBody();if(s!=n){for(var o=n.getContactList();null!=o;){if(o.other==s){var l=o.contact.getFixtureA(),_=o.contact.getFixtureB();if(l==e&&_==i||l==i&&_==e)return}o=o.next}0!=n.shouldCollide(s)&&0!=this.m_contactFilter.shouldCollide(e,i)&&(e=(o=this.m_contactFactory.create(e,i)).getFixtureA(),i=o.getFixtureB(),s=e.m_body,n=i.m_body,o.m_prev=null,o.m_next=this.m_world.m_contactList,null!=this.m_world.m_contactList&&(this.m_world.m_contactList.m_prev=o),this.m_world.m_contactList=o,o.m_nodeA.contact=o,o.m_nodeA.other=n,o.m_nodeA.prev=null,o.m_nodeA.next=s.m_contactList,null!=s.m_contactList&&(s.m_contactList.prev=o.m_nodeA),s.m_contactList=o.m_nodeA,o.m_nodeB.contact=o,o.m_nodeB.other=s,o.m_nodeB.prev=null,o.m_nodeB.next=n.m_contactList,null!=n.m_contactList&&(n.m_contactList.prev=o.m_nodeB),n.m_contactList=o.m_nodeB,++this.m_world.m_contactCount)}},findNewContacts:function(){this.m_broadPhase.updatePairs(this)},destroy:function(e){var i=e.getFixtureA(),s=e.getFixtureB();i=i.getBody(),s=s.getBody(),e.isTouching()&&this.m_contactListener.endContact(e),null!=e.m_prev&&(e.m_prev.m_next=e.m_next),null!=e.m_next&&(e.m_next.m_prev=e.m_prev),e==this.m_world.m_contactList&&(this.m_world.m_contactList=e.m_next),null!=e.m_nodeA.prev&&(e.m_nodeA.prev.next=e.m_nodeA.next),null!=e.m_nodeA.next&&(e.m_nodeA.next.prev=e.m_nodeA.prev),e.m_nodeA==i.m_contactList&&(i.m_contactList=e.m_nodeA.next),null!=e.m_nodeB.prev&&(e.m_nodeB.prev.next=e.m_nodeB.next),null!=e.m_nodeB.next&&(e.m_nodeB.next.prev=e.m_nodeB.prev),e.m_nodeB==s.m_contactList&&(s.m_contactList=e.m_nodeB.next),this.m_contactFactory.destroy(e),--this.m_contactCount},collide:function(){for(var e=this.m_world.m_contactList;null!=e;){var i=e.getFixtureA(),s=e.getFixtureB(),n=i.getBody(),o=s.getBody();if(0==n.isAwake()&&0==o.isAwake())e=e.getNext();else{if(e.m_flags&fb.e_filterFlag){if(0==o.shouldCollide(n)){e=(i=e).getNext(),this.destroy(i);continue}if(0==this.m_contactFilter.shouldCollide(i,s)){e=(i=e).getNext(),this.destroy(i);continue}e.m_flags&=~fb.e_filterFlag}0==this.m_broadPhase.testOverlap(i.m_proxy,s.m_proxy)?(e=(i=e).getNext(),this.destroy(i)):(e.update(this.m_contactListener),e=e.getNext())}}},m_world:null,m_broadPhase:null,m_contactList:null,m_contactCount:null,m_contactFilter:null,m_contactListener:null,m_contactFactory:null,m_allocator:null,__class__:nm};var cf=function(){this.m_xformScale=this.m_fillAlpha=this.m_alpha=this.m_lineThickness=this.m_drawScale=1,this.m_drawFlags=0};k["box2D.dynamics.B2DebugDraw"]=cf,cf.__name__="box2D.dynamics.B2DebugDraw",cf.prototype={setFlags:function(e){this.m_drawFlags=e},getFlags:function(){return this.m_drawFlags},appendFlags:function(e){this.m_drawFlags|=e},clearFlags:function(e){this.m_drawFlags&=~e},setSprite:function(e){this.m_sprite=e},getSprite:function(){return this.m_sprite},setDrawScale:function(e){this.m_drawScale=e},getDrawScale:function(){return this.m_drawScale},setLineThickness:function(e){this.m_lineThickness=e},getLineThickness:function(){return this.m_lineThickness},setAlpha:function(e){this.m_alpha=e},getAlpha:function(){return this.m_alpha},setFillAlpha:function(e){this.m_fillAlpha=e},getFillAlpha:function(){return this.m_fillAlpha},setXFormScale:function(e){this.m_xformScale=e},getXFormScale:function(){return this.m_xformScale},drawPolygon:function(e,i,s){for(this.m_sprite.get_graphics().lineStyle(this.m_lineThickness,s.get_color(),this.m_alpha),this.m_sprite.get_graphics().moveTo(e[0].x*this.m_drawScale,e[0].y*this.m_drawScale),s=0;s<i;){var n=s++;this.m_sprite.get_graphics().lineTo(e[n].x*this.m_drawScale,e[n].y*this.m_drawScale)}this.m_sprite.get_graphics().lineTo(e[0].x*this.m_drawScale,e[0].y*this.m_drawScale)},drawSolidPolygon:function(e,i,s){for(this.m_sprite.get_graphics().lineStyle(this.m_lineThickness,s.get_color(),this.m_alpha),this.m_sprite.get_graphics().moveTo(e[0].x*this.m_drawScale,e[0].y*this.m_drawScale),this.m_sprite.get_graphics().beginFill(s.get_color(),this.m_fillAlpha),s=0;s<i;){var n=s++;this.m_sprite.get_graphics().lineTo(e[n].x*this.m_drawScale,e[n].y*this.m_drawScale)}this.m_sprite.get_graphics().lineTo(e[0].x*this.m_drawScale,e[0].y*this.m_drawScale),this.m_sprite.get_graphics().endFill()},drawCircle:function(e,i,s){this.m_sprite.get_graphics().lineStyle(this.m_lineThickness,s.get_color(),this.m_alpha),this.m_sprite.get_graphics().drawCircle(e.x*this.m_drawScale,e.y*this.m_drawScale,i*this.m_drawScale)},drawSolidCircle:function(e,i,s,n){this.m_sprite.get_graphics().lineStyle(this.m_lineThickness,n.get_color(),this.m_alpha),this.m_sprite.get_graphics().moveTo(0,0),this.m_sprite.get_graphics().beginFill(n.get_color(),this.m_fillAlpha),this.m_sprite.get_graphics().drawCircle(e.x*this.m_drawScale,e.y*this.m_drawScale,i*this.m_drawScale),this.m_sprite.get_graphics().endFill(),this.m_sprite.get_graphics().moveTo(e.x*this.m_drawScale,e.y*this.m_drawScale),this.m_sprite.get_graphics().lineTo((e.x+s.x*i)*this.m_drawScale,(e.y+s.y*i)*this.m_drawScale)},drawSegment:function(e,i,s){this.m_sprite.get_graphics().lineStyle(this.m_lineThickness,s.get_color(),this.m_alpha),this.m_sprite.get_graphics().moveTo(e.x*this.m_drawScale,e.y*this.m_drawScale),this.m_sprite.get_graphics().lineTo(i.x*this.m_drawScale,i.y*this.m_drawScale)},drawTransform:function(e){this.m_sprite.get_graphics().lineStyle(this.m_lineThickness,16711680,this.m_alpha),this.m_sprite.get_graphics().moveTo(e.position.x*this.m_drawScale,e.position.y*this.m_drawScale),this.m_sprite.get_graphics().lineTo((e.position.x+this.m_xformScale*e.R.col1.x)*this.m_drawScale,(e.position.y+this.m_xformScale*e.R.col1.y)*this.m_drawScale),this.m_sprite.get_graphics().lineStyle(this.m_lineThickness,65280,this.m_alpha),this.m_sprite.get_graphics().moveTo(e.position.x*this.m_drawScale,e.position.y*this.m_drawScale),this.m_sprite.get_graphics().lineTo((e.position.x+this.m_xformScale*e.R.col2.x)*this.m_drawScale,(e.position.y+this.m_xformScale*e.R.col2.y)*this.m_drawScale)},m_drawFlags:null,m_sprite:null,m_drawScale:null,m_lineThickness:null,m_alpha:null,m_fillAlpha:null,m_xformScale:null,__class__:cf};var Wr=function(){};k["box2D.dynamics.B2DestructionListener"]=Wr,Wr.__name__="box2D.dynamics.B2DestructionListener",Wr.prototype={sayGoodbyeJoint:function(e){},sayGoodbyeFixture:function(e){},__class__:Wr};var Lk=function(){this.categoryBits=1,this.maskBits=65535,this.groupIndex=0};k["box2D.dynamics.B2FilterData"]=Lk,Lk.__name__="box2D.dynamics.B2FilterData",Lk.prototype={copy:function(){var e=new Lk;return e.categoryBits=this.categoryBits,e.maskBits=this.maskBits,e.groupIndex=this.groupIndex,e},categoryBits:null,maskBits:null,groupIndex:null,__class__:Lk};var hg=function(){this.m_filter=new Lk,this.m_aabb=new Hb,this.m_shape=this.m_next=this.m_body=this.m_userData=null,this.m_restitution=this.m_friction=this.m_density=0,this.groupID=3};k["box2D.dynamics.B2Fixture"]=hg,hg.__name__="box2D.dynamics.B2Fixture",hg.prototype={getType:function(){return this.m_shape.getType()},getShape:function(){return this.m_shape},setSensor:function(e){if(this.m_isSensor!=e&&(this.m_isSensor=e,null!=this.m_body))for(e=this.m_body.getContactList();null!=e;){var i=e.contact,s=i.getFixtureA(),n=i.getFixtureB();s!=this&&n!=this||i.setSensor(s.isSensor()||n.isSensor()),e=e.next}},isSensor:function(){return this.m_isSensor},setFilterData:function(e){if(this.m_filter=e.copy(),null==this.m_body)for(e=this.m_body.getContactList();null!=e;){var i=e.contact,s=i.getFixtureA(),n=i.getFixtureB();s!=this&&n!=this||i.flagForFiltering(),e=e.next}},getFilterData:function(){return this.m_filter.copy()},getBody:function(){return this.m_body},getNext:function(){return this.m_next},getUserData:function(){return this.m_userData},SetUserData:function(e){this.m_userData=e},testPoint:function(e){return this.m_shape.testPoint(this.m_body.getTransform(),e)},rayCast:function(e,i){return this.m_shape.rayCast(e,i,this.m_body.getTransform())},getMassData:function(e){return null==e&&(e=new Jk),this.m_shape.computeMass(e,this.m_density),e},setDensity:function(e){this.m_density=e},getDensity:function(){return this.m_density},getFriction:function(){return this.m_friction},setFriction:function(e){this.m_friction=e},getRestitution:function(){return this.m_restitution},setRestitution:function(e){this.m_restitution=e},getAABB:function(){return this.m_aabb},create:function(e,i,s){this.m_userData=s.userData,this.m_friction=s.friction,this.m_restitution=s.restitution,this.m_body=e,this.m_next=null,this.m_filter=s.filter.copy(),this.m_isSensor=s.isSensor,this.m_shape=s.shape.copy(),this.m_density=s.density,this.groupID=s.groupID},destroy:function(){this.m_shape=null},createProxy:function(e,i){this.m_shape.computeAABB(this.m_aabb,i),this.m_proxy=e.createProxy(this.m_aabb,this)},destroyProxy:function(e){null!=this.m_proxy&&(e.destroyProxy(this.m_proxy),this.m_proxy=null)},synchronize:function(e,i,s){null!=this.m_proxy&&(this.m_shape.computeAABB(hg.tempAABB1,i),this.m_shape.computeAABB(hg.tempAABB2,s),this.m_aabb.combine(hg.tempAABB1,hg.tempAABB2),i=P.subtractVVPooled(s.position,i.position),e.moveProxy(this.m_proxy,this.m_aabb,i))},m_massData:null,m_aabb:null,m_density:null,m_next:null,m_body:null,m_shape:null,m_friction:null,m_restitution:null,m_proxy:null,m_filter:null,m_isSensor:null,m_userData:null,groupID:null,__class__:hg};var ig=function(){this.filter=new Lk,this.userData=this.shape=null,this.friction=.2,this.density=this.restitution=0,this.filter.categoryBits=1,this.filter.maskBits=65535,this.filter.groupIndex=0,this.isSensor=!1,this.groupID=3};k["box2D.dynamics.B2FixtureDef"]=ig,ig.__name__="box2D.dynamics.B2FixtureDef",ig.prototype={shape:null,userData:null,friction:null,restitution:null,density:null,isSensor:null,filter:null,groupID:null,__class__:ig};var Bi=function(){this.m_bodies=[],this.m_contacts=[],this.m_joints=[]};k["box2D.dynamics.B2Island"]=Bi,Bi.__name__="box2D.dynamics.B2Island",Bi.prototype={initialize:function(e,i,s,n,o,l){for(this.m_bodyCapacity=e,this.m_contactCapacity=i,this.m_jointCapacity=s,this.m_jointCount=this.m_contactCount=this.m_bodyCount=0,this.m_allocator=n,this.m_listener=o,this.m_contactSolver=l,n=this.m_bodies.length;n<e;)o=n++,this.m_bodies[o]=null;for(e=this.m_contacts.length;e<i;)n=e++,this.m_contacts[n]=null;for(i=this.m_joints.length;i<s;)e=i++,this.m_joints[e]=null},clear:function(){this.m_jointCount=this.m_contactCount=this.m_bodyCount=0},solve:function(e,i,s){for(var n,o=0,l=this.m_bodyCount;o<l;)n=o++,(n=this.m_bodies[n]).getType()==ua.b2_dynamicBody&&(n.isIgnoringGravity()?(n.m_linearVelocity.x+=e.dt*n.m_invMass*n.m_force.x,n.m_linearVelocity.y+=e.dt*n.m_invMass*n.m_force.y):(n.m_linearVelocity.x+=e.dt*(i.x+n.m_invMass*n.m_force.x),n.m_linearVelocity.y+=e.dt*(i.y+n.m_invMass*n.m_force.y)),n.m_angularVelocity+=e.dt*n.m_invI*n.m_torque,n.m_linearVelocity.multiply(P.clamp(1-e.dt*n.m_linearDamping,0,1)),n.m_angularVelocity*=P.clamp(1-e.dt*n.m_angularDamping,0,1));for(this.m_contactSolver.initialize(e,this.m_contacts,this.m_contactCount,this.m_allocator),(i=this.m_contactSolver).initVelocityConstraints(e),o=0,l=this.m_jointCount;o<l;)n=o++,(n=this.m_joints[n]).initVelocityConstraints(e);for(o=0,l=e.velocityIterations;o<l;){o++;for(var _=0,h=this.m_jointCount;_<h;)n=_++,(n=this.m_joints[n]).solveVelocityConstraints(e);i.solveVelocityConstraints()}for(o=0,l=this.m_jointCount;o<l;)n=o++,(n=this.m_joints[n]).finalizeVelocityConstraints();for(i.finalizeVelocityConstraints(),o=0,l=this.m_bodyCount;o<l;)n=o++,(n=this.m_bodies[n]).getType()!=ua.b2_staticBody&&((_=e.dt*n.m_linearVelocity.x)*_+(h=e.dt*n.m_linearVelocity.y)*h>ca.b2_maxTranslationSquared&&(n.m_linearVelocity.normalize(),n.m_linearVelocity.x=n.m_linearVelocity.x*ca.b2_maxTranslation*e.inv_dt,n.m_linearVelocity.y=n.m_linearVelocity.y*ca.b2_maxTranslation*e.inv_dt),(_=e.dt*n.m_angularVelocity)*_>ca.b2_maxRotationSquared&&(n.m_angularVelocity=0>n.m_angularVelocity?-ca.b2_maxRotation*e.inv_dt:ca.b2_maxRotation*e.inv_dt),(_=n.m_sweep.c0).x=(h=n.m_sweep.c).x,_.y=h.y,n.m_sweep.a0=n.m_sweep.a,n.m_sweep.c.x+=e.dt*n.m_linearVelocity.x,n.m_sweep.c.y+=e.dt*n.m_linearVelocity.y,n.m_sweep.a+=e.dt*n.m_angularVelocity,n.synchronizeTransform());for(o=0,l=e.positionIterations;o<l;){o++,_=i.solvePositionConstraints(ca.b2_contactBaumgarte),h=!0;for(var m=0,f=this.m_jointCount;m<f;)n=m++,n=(n=this.m_joints[n]).solvePositionConstraints(ca.b2_contactBaumgarte),h=h&&n;if(_&&h)break}if(this.report(i.m_constraints),s){for(s=Number.MAX_VALUE,i=ca.b2_linearSleepTolerance*ca.b2_linearSleepTolerance,o=ca.b2_angularSleepTolerance*ca.b2_angularSleepTolerance,l=0,_=this.m_bodyCount;l<_;)n=l++,(n=this.m_bodies[n]).getType()!=ua.b2_staticBody&&(!(n.m_flags&ua.e_allowSleepFlag)&&(s=n.m_sleepTime=0),!(n.m_flags&ua.e_allowSleepFlag)||n.m_angularVelocity*n.m_angularVelocity>o||P.dot(n.m_linearVelocity,n.m_linearVelocity)>i?s=n.m_sleepTime=0:(n.m_sleepTime+=e.dt,s=P.min(s,n.m_sleepTime)));if(s>=ca.b2_timeToSleep)for(e=0,s=this.m_bodyCount;e<s;)i=e++,(n=this.m_bodies[i]).setAwake(!1)}},solveTOI:function(e){this.m_contactSolver.initialize(e,this.m_contacts,this.m_contactCount,this.m_allocator);for(var i=this.m_contactSolver,s=0,n=this.m_jointCount;s<n;){var o=s++;this.m_joints[o].initVelocityConstraints(e)}for(s=0,n=e.velocityIterations;s<n;){s++,i.solveVelocityConstraints(),o=0;for(var l=this.m_jointCount;o<l;){var _=o++;this.m_joints[_].solveVelocityConstraints(e)}}for(s=0,n=this.m_bodyCount;s<n;)o=s++,(o=this.m_bodies[o]).getType()!=ua.b2_staticBody&&((l=e.dt*o.m_linearVelocity.x)*l+(_=e.dt*o.m_linearVelocity.y)*_>ca.b2_maxTranslationSquared&&(o.m_linearVelocity.normalize(),o.m_linearVelocity.x=o.m_linearVelocity.x*ca.b2_maxTranslation*e.inv_dt,o.m_linearVelocity.y=o.m_linearVelocity.y*ca.b2_maxTranslation*e.inv_dt),(l=e.dt*o.m_angularVelocity)*l>ca.b2_maxRotationSquared&&(o.m_angularVelocity=0>o.m_angularVelocity?-ca.b2_maxRotation*e.inv_dt:ca.b2_maxRotation*e.inv_dt),(l=o.m_sweep.c0).x=(_=o.m_sweep.c).x,l.y=_.y,o.m_sweep.a0=o.m_sweep.a,o.m_sweep.c.x+=e.dt*o.m_linearVelocity.x,o.m_sweep.c.y+=e.dt*o.m_linearVelocity.y,o.m_sweep.a+=e.dt*o.m_angularVelocity,o.synchronizeTransform());for(s=0,e=e.positionIterations;s<e;){for(s++,n=i.solvePositionConstraints(.75),o=!0,l=0,_=this.m_jointCount;l<_;){var h=l++;h=this.m_joints[h].solvePositionConstraints(ca.b2_contactBaumgarte),o=o&&h}if(n&&o)break}this.report(i.m_constraints)},report:function(e){if(null!=this.m_listener)for(var i=0,s=this.m_contactCount;i<s;){for(var n=i++,o=this.m_contacts[n],l=0,_=(n=e[n]).pointCount;l<_;){var h=l++;Bi.s_impulse.normalImpulses[h]=n.points[h].normalImpulse,Bi.s_impulse.tangentImpulses[h]=n.points[h].tangentImpulse}this.m_listener.postSolve(o,Bi.s_impulse)}},addBody:function(e){e.m_islandIndex=this.m_bodyCount,this.m_bodies[this.m_bodyCount++]=e},addContact:function(e){this.m_contacts[this.m_contactCount++]=e},addJoint:function(e){this.m_joints[this.m_jointCount++]=e},m_allocator:null,m_listener:null,m_contactSolver:null,m_bodies:null,m_contacts:null,m_joints:null,m_bodyCount:null,m_jointCount:null,m_contactCount:null,m_bodyCapacity:null,m_contactCapacity:null,m_jointCapacity:null,__class__:Bi};var Mk=function(){};k["box2D.dynamics.B2TimeStep"]=Mk,Mk.__name__="box2D.dynamics.B2TimeStep",Mk.prototype={set:function(e){this.dt=e.dt,this.inv_dt=e.inv_dt,this.positionIterations=e.positionIterations,this.velocityIterations=e.velocityIterations,this.warmStarting=e.warmStarting},dt:null,inv_dt:null,dtRatio:null,velocityIterations:null,positionIterations:null,warmStarting:null,__class__:Mk};var lc=function(e,i){this.pointQueryCallback=new om,this.shapeQueryCallback=new pm,this.aabbQueryCallback=new qm,this.s_stack=[],this.m_contactManager=new nm,this.m_contactSolver=new df,this.m_island=new Bi,this.m_controllerList=this.m_jointList=this.m_contactList=this.m_bodyList=this.m_debugDraw=this.m_destructionListener=null,this.m_controllerCount=this.m_jointCount=this.m_contactCount=this.m_bodyCount=0,lc.m_warmStarting=!0,lc.m_continuousPhysics=!1,this.m_allowSleep=i,this.m_gravity=e,this.m_flags=this.m_inv_dt0=0,this.m_contactManager.m_world=this,e=new lj,this.m_groundBody=this.createBody(e)};k["box2D.dynamics.B2World"]=lc,lc.__name__="box2D.dynamics.B2World",lc.prototype={setDestructionListener:function(e){this.m_destructionListener=e},setContactFilter:function(e){this.m_contactManager.m_contactFilter=e},setContactListener:function(e){this.m_contactManager.m_contactListener=e},setDebugDraw:function(e){this.m_debugDraw=e},setBroadPhase:function(e){var i=this.m_contactManager.m_broadPhase;this.m_contactManager.m_broadPhase=e;for(var s=this.m_bodyList;null!=s;){for(var n=s.m_fixtureList;null!=n;)n.m_proxy=e.createProxy(i.getFatAABB(n.m_proxy),n),n=n.m_next;s=s.m_next}},validate:function(){this.m_contactManager.m_broadPhase.validate()},getProxyCount:function(){return this.m_contactManager.m_broadPhase.getProxyCount()},createBody:function(e){return 1==this.isLocked()?null:((e=new ua(e,this)).m_prev=null,e.m_next=this.m_bodyList,null!=this.m_bodyList&&(this.m_bodyList.m_prev=e),this.m_bodyList=e,++this.m_bodyCount,e)},destroyBody:function(e){if(1!=this.isLocked()){for(var i=e.m_jointList;null!=i;){var s=i;i=i.next,null!=this.m_destructionListener&&this.m_destructionListener.sayGoodbyeJoint(s.joint),this.destroyJoint(s.joint)}for(i=e.m_controllerList;null!=i;)s=i,i=i.nextController,s.controller.removeBody(e);for(i=e.m_contactList;null!=i;)s=i,i=i.next,this.m_contactManager.destroy(s.contact);for(e.m_contactList=null,i=e.m_fixtureList;null!=i;)s=i,i=i.m_next,null!=this.m_destructionListener&&this.m_destructionListener.sayGoodbyeFixture(s),s.destroyProxy(this.m_contactManager.m_broadPhase),s.destroy();e.m_fixtureList=null,e.m_fixtureCount=0,null!=e.m_prev&&(e.m_prev.m_next=e.m_next),null!=e.m_next&&(e.m_next.m_prev=e.m_prev),e==this.m_bodyList&&(this.m_bodyList=e.m_next),--this.m_bodyCount}},createJoint:function(e){var i=Zb.create(e,null);i.m_prev=null,i.m_next=this.m_jointList,null!=this.m_jointList&&(this.m_jointList.m_prev=i),this.m_jointList=i,++this.m_jointCount,i.m_edgeA.joint=i,i.m_edgeA.other=i.m_bodyB,i.m_edgeA.prev=null,i.m_edgeA.next=i.m_bodyA.m_jointList,null!=i.m_bodyA.m_jointList&&(i.m_bodyA.m_jointList.prev=i.m_edgeA),i.m_bodyA.m_jointList=i.m_edgeA,i.m_edgeB.joint=i,i.m_edgeB.other=i.m_bodyA,i.m_edgeB.prev=null,i.m_edgeB.next=i.m_bodyB.m_jointList,null!=i.m_bodyB.m_jointList&&(i.m_bodyB.m_jointList.prev=i.m_edgeB),i.m_bodyB.m_jointList=i.m_edgeB;var s=e.bodyA;if(0==e.collideConnected)for(e=e.bodyB.getContactList();null!=e;)e.other==s&&e.contact.flagForFiltering(),e=e.next;return i},destroyJoint:function(e){var i=e.m_collideConnected;null!=e.m_prev&&(e.m_prev.m_next=e.m_next),null!=e.m_next&&(e.m_next.m_prev=e.m_prev),e==this.m_jointList&&(this.m_jointList=e.m_next);var s=e.m_bodyA,n=e.m_bodyB;if(s.setAwake(!0),n.setAwake(!0),null!=e.m_edgeA.prev&&(e.m_edgeA.prev.next=e.m_edgeA.next),null!=e.m_edgeA.next&&(e.m_edgeA.next.prev=e.m_edgeA.prev),e.m_edgeA==s.m_jointList&&(s.m_jointList=e.m_edgeA.next),e.m_edgeA.prev=null,e.m_edgeA.next=null,null!=e.m_edgeB.prev&&(e.m_edgeB.prev.next=e.m_edgeB.next),null!=e.m_edgeB.next&&(e.m_edgeB.next.prev=e.m_edgeB.prev),e.m_edgeB==n.m_jointList&&(n.m_jointList=e.m_edgeB.next),e.m_edgeB.prev=null,e.m_edgeB.next=null,Zb.destroy(e,null),--this.m_jointCount,0==i)for(e=n.getContactList();null!=e;)e.other==s&&e.contact.flagForFiltering(),e=e.next},addController:function(e){return e.m_next=this.m_controllerList,e.m_prev=null,this.m_controllerList=e,e.m_world=this,this.m_controllerCount++,e},removeController:function(e){null!=e.m_prev&&(e.m_prev.m_next=e.m_next),null!=e.m_next&&(e.m_next.m_prev=e.m_prev),this.m_controllerList==e&&(this.m_controllerList=e.m_next),this.m_controllerCount--},createController:function(e){if(e.m_world!=this)throw new E("Controller can only be a member of one world");return e.m_next=this.m_controllerList,e.m_prev=null,null!=this.m_controllerList&&(this.m_controllerList.m_prev=e),this.m_controllerList=e,++this.m_controllerCount,e.m_world=this,e},destroyController:function(e){e.clear(),null!=e.m_next&&(e.m_next.m_prev=e.m_prev),null!=e.m_prev&&(e.m_prev.m_next=e.m_next),e==this.m_controllerList&&(this.m_controllerList=e.m_next),--this.m_controllerCount},setWarmStarting:function(e){lc.m_warmStarting=e},setContinuousPhysics:function(e){lc.m_continuousPhysics=e},getBodyCount:function(){return this.m_bodyCount},getJointCount:function(){return this.m_jointCount},getContactCount:function(){return this.m_contactCount},setGravity:function(e){this.m_gravity=e},getGravity:function(){return this.m_gravity},getGroundBody:function(){return this.m_groundBody},step:function(e,i,s){K.freePool(),this.m_flags&lc.e_newFixture&&(this.m_contactManager.findNewContacts(),this.m_flags&=~lc.e_newFixture),this.m_flags|=lc.e_locked;var n=lc.s_timestep2;n.dt=e,n.velocityIterations=i,n.positionIterations=s,n.inv_dt=0<e?1/e:0,n.dtRatio=this.m_inv_dt0*e,n.warmStarting=lc.m_warmStarting,this.m_contactManager.collide(),0<n.dt&&this.solve(n),lc.m_continuousPhysics&&0<n.dt&&this.solveTOI(n),0<n.dt&&(this.m_inv_dt0=n.inv_dt),this.m_flags&=~lc.e_locked},clearForces:function(){for(var e=this.m_bodyList;null!=e;){var i=e.m_force;i.x=0,i.y=0,e.m_torque=0,e=e.m_next}},drawDebugData:function(){if(null!=this.m_debugDraw){this.m_debugDraw.m_sprite.get_graphics().clear();var i,s,e=this.m_debugDraw.getFlags();new K,new K,new K,new Hb,new Hb,new K,new K,new K,new K;var n=new mm(0,0,0);if(e&cf.e_shapeBit)for(i=this.m_bodyList;null!=i;){var o=i.m_xf;for(s=i.getFixtureList();null!=s;){var l=s.getShape();0==i.isActive()?n.set(.5,.5,.3):i.getType()==ua.b2_staticBody?n.set(.5,.9,.5):i.getType()==ua.b2_kinematicBody?n.set(.5,.5,.9):0==i.isAwake()?n.set(.6,.6,.6):n.set(.9,.7,.7),this.drawShape(l,o,n),s=s.m_next}i=i.m_next}if(e&cf.e_jointBit)for(i=this.m_jointList;null!=i;)this.drawJoint(i),i=i.m_next;if(e&cf.e_controllerBit)for(i=this.m_controllerList;null!=i;)i.draw(this.m_debugDraw),i=i.m_next;if(e&cf.e_pairBit)for(n.set(.3,.9,.9),i=this.m_contactManager.m_contactList;null!=i;)l=i.getFixtureA(),s=i.getFixtureB(),l=l.getAABB().getCenter(),s=s.getAABB().getCenter(),this.m_debugDraw.drawSegment(l,s,n),i=i.getNext();if(e&cf.e_aabbBit)for(l=this.m_contactManager.m_broadPhase,o=[new K,new K,new K,new K],i=this.m_bodyList;null!=i;){if(0!=i.isActive())for(s=i.getFixtureList();null!=s;){var _=l.getFatAABB(s.m_proxy),h=o[0],m=_.lowerBound.x,f=_.lowerBound.y;null==f&&(f=0),null==m&&(m=0),h.x=m,h.y=f,null==(f=_.lowerBound.y)&&(f=0),null==(m=_.upperBound.x)&&(m=0),(h=o[1]).x=m,h.y=f,null==(f=_.upperBound.y)&&(f=0),null==(m=_.upperBound.x)&&(m=0),(h=o[2]).x=m,h.y=f,m=_.lowerBound.x,null==(_=_.upperBound.y)&&(_=0),null==m&&(m=0),(h=o[3]).x=m,h.y=_,this.m_debugDraw.drawPolygon(o,4,n),s=s.getNext()}i=i.getNext()}if(e&cf.e_centerOfMassBit)for(i=this.m_bodyList;null!=i;)(o=lc.s_xf).R=i.m_xf.R,o.position=i.getWorldCenter(),this.m_debugDraw.drawTransform(o),i=i.m_next}},queryAABB:function(e,i){this.aabbQueryCallback.broadPhase=this.m_contactManager.m_broadPhase,this.aabbQueryCallback.callbackMethod=e,this.m_contactManager.m_broadPhase.query(this.aabbQueryCallback,i)},queryShape:function(e,i,s){this.shapeQueryCallback.broadPhase=this.m_contactManager.m_broadPhase,this.shapeQueryCallback.callbackMethod=e,null==s&&(s=new vf).setIdentity(),this.shapeQueryCallback.transform=s,e=new Hb,i.computeAABB(e,s),this.shapeQueryCallback.shape=i,this.m_contactManager.m_broadPhase.query(this.shapeQueryCallback,e)},queryPoint:function(e,i){this.pointQueryCallback.broadPhase=this.m_contactManager.m_broadPhase,this.pointQueryCallback.callbackMethod=e,this.pointQueryCallback.p=i;var s=(e=new Hb).lowerBound,n=i.x-ca.b2_linearSlop,o=i.y-ca.b2_linearSlop;null==o&&(o=0),null==n&&(n=0),s.x=n,s.y=o,n=i.x+ca.b2_linearSlop,null==(i=i.y+ca.b2_linearSlop)&&(i=0),null==n&&(n=0),(s=e.upperBound).x=n,s.y=i,this.m_contactManager.m_broadPhase.query(this.pointQueryCallback,e)},rayCast:function(e,i,s){var n=this.m_contactManager.m_broadPhase,o=new Kp,l=new im(i,s);n.rayCast(function(_,h){if(h=n.getUserData(h),(h=T.__cast(h,hg)).rayCast(o,_)){var m=new K((1-(_=o.fraction))*i.x+_*s.x,(1-_)*i.y+_*s.y);return e(h,m,o.normal,_)}return _.maxFraction},l)},rayCastOne:function(e,i){var s;return this.rayCast(function(n,o,l,_){return s=n,_},e,i),s},rayCastAll:function(e,i){var s=[];return this.rayCast(function(n,o,l,_){return s[s.length]=n,1},e,i),s},getBodyList:function(){return this.m_bodyList},getJointList:function(){return this.m_jointList},getContactList:function(){return this.m_contactList},isLocked:function(){return 0<(this.m_flags&lc.e_locked)},s_stack:null,solve:function(e){for(var i=this.m_controllerList;null!=i;)i.step(e),i=i.m_next;var s=this.m_island;s.initialize(this.m_bodyCount,this.m_contactCount,this.m_jointCount,null,this.m_contactManager.m_contactListener,this.m_contactSolver);for(var n=this.m_bodyList;null!=n;)n.m_flags&=~ua.e_islandFlag,n=n.m_next;for(i=this.m_contactList;null!=i;)i.m_flags&=~fb.e_islandFlag,i=i.m_next;for(i=this.m_jointList;null!=i;)i.m_islandFlag=!1,i=i.m_next;i=this.s_stack;for(var o=this.m_bodyList;null!=o;){if(!(o.m_flags&ua.e_islandFlag||(!o.isActive()&&!o.isAlwaysActive()&&o.m_xf.position.x+o.origin.x+o.size.x>=this.m_aabb.lowerBound.x&&o.m_xf.position.y+o.origin.y+o.size.y>=this.m_aabb.lowerBound.y&&o.m_xf.position.x+o.origin.x<=this.m_aabb.upperBound.x&&o.m_xf.position.y+o.origin.y<=this.m_aabb.upperBound.y&&(o.setActive(!0),o.setAwake(!0)),0==o.isAwake()||0==o.isActive()||o.isPaused()||o.getType()==ua.b2_staticBody)))if(o.isActive()&&!o.isAlwaysActive()&&(o.m_xf.position.x+o.origin.x+o.size.x<this.m_aabb.lowerBound.x||o.m_xf.position.y+o.origin.y+o.size.y<this.m_aabb.lowerBound.y||o.m_xf.position.x+o.origin.x>this.m_aabb.upperBound.x||o.m_xf.position.y+o.origin.y>this.m_aabb.upperBound.y))o.setAwake(!1),o.setActive(!1);else{s.clear();var l=0;for(i[l++]=o,o.m_flags|=ua.e_islandFlag;0<l;)if(n=i[--l],s.addBody(n),0==n.isAwake()&&n.setAwake(!0),n.getType()!=ua.b2_staticBody){for(var _,h=n.m_contactList;null!=h;)!(h.contact.m_flags&fb.e_islandFlag)&&1!=h.contact.isSensor()&&0!=h.contact.isEnabled()&&0!=h.contact.isTouching()&&(s.addContact(h.contact),h.contact.m_flags|=fb.e_islandFlag,!((_=h.other).m_flags&ua.e_islandFlag)&&(i[l++]=_,_.m_flags|=ua.e_islandFlag)),h=h.next;for(n=n.m_jointList;null!=n;)1!=n.joint.m_islandFlag&&0!=(_=n.other).isActive()&&(s.addJoint(n.joint),n.joint.m_islandFlag=!0,!(_.m_flags&ua.e_islandFlag)&&(i[l++]=_,_.m_flags|=ua.e_islandFlag)),n=n.next}for(s.solve(e,this.m_gravity,this.m_allowSleep),l=0,_=s.m_bodyCount;l<_;)n=l++,(n=s.m_bodies[n]).getType()==ua.b2_staticBody&&(n.m_flags&=~ua.e_islandFlag)}o=o.m_next}for(e=0,s=i.length;e<s&&null!=i[o=e++];)i[o]=null;for(n=this.m_bodyList;null!=n;)0!=n.isAwake()&&0!=n.isActive()&&n.getType()!=ua.b2_staticBody&&n.synchronizeFixtures(),n=n.m_next;this.m_contactManager.findNewContacts()},solveTOI:function(e){var i,s=this.m_island;s.initialize(this.m_bodyCount,ca.b2_maxTOIContactsPerIsland,ca.b2_maxTOIJointsPerIsland,null,this.m_contactManager.m_contactListener,this.m_contactSolver);for(var n=lc.s_queue,o=this.m_bodyList;null!=o;)o.m_flags&=~ua.e_islandFlag,o.m_sweep.t0=0,o=o.m_next;for(i=this.m_contactList;null!=i;)i.m_flags&=~(fb.e_toiFlag|fb.e_islandFlag),i=i.m_next;for(o=this.m_jointList;null!=o;)o.m_islandFlag=!1,o=o.m_next;for(;;){o=null;var l=1;for(i=this.m_contactList;null!=i;){if(1!=i.isSensor()&&0!=i.isEnabled()&&0!=i.isContinuous()){if(i.m_flags&fb.e_toiFlag)var _=i.m_toi;else{var h=i.m_fixtureB;if(h=h.m_body,!((_=(_=i.m_fixtureA).m_body).getType()==ua.b2_dynamicBody&&0!=_.isAwake()||h.getType()==ua.b2_dynamicBody&&0!=h.isAwake())){i=i.m_next;continue}var m=_.m_sweep.t0;_.m_sweep.t0<h.m_sweep.t0?_.m_sweep.advance(m=h.m_sweep.t0):h.m_sweep.t0<_.m_sweep.t0&&h.m_sweep.advance(m=_.m_sweep.t0),_=i.computeTOI(_.m_sweep,h.m_sweep),ca.b2Assert(0<=_&&1>=_),0<_&&1>_&&1<(_=(1-_)*m+_)&&(_=1),i.m_toi=_,i.m_flags|=fb.e_toiFlag}Number.MIN_VALUE<_&&_<l&&(o=i,l=_)}i=i.m_next}if(null==o||1-100*Number.MIN_VALUE<l)break;if(h=(h=o.m_fixtureB).m_body,lc.s_backupA.set((_=(_=o.m_fixtureA).m_body).m_sweep),lc.s_backupB.set(h.m_sweep),_.advance(l),h.advance(l),o.update(this.m_contactManager.m_contactListener),o.m_flags&=~fb.e_toiFlag,1==o.isSensor()||0==o.isEnabled())_.m_sweep.set(lc.s_backupA),h.m_sweep.set(lc.s_backupB),_.synchronizeTransform(),h.synchronizeTransform();else if(0!=o.isTouching()){for((i=_).getType()!=ua.b2_dynamicBody&&(i=h),s.clear(),h=_=0,n[_+h++]=i,i.m_flags|=ua.e_islandFlag;0<h;)if(o=n[_++],--h,s.addBody(o),0==o.isAwake()&&o.setAwake(!0),o.getType()==ua.b2_dynamicBody){for(i=o.m_contactList;null!=i&&s.m_contactCount!=s.m_contactCapacity;)!(i.contact.m_flags&fb.e_islandFlag)&&1!=i.contact.isSensor()&&0!=i.contact.isEnabled()&&0!=i.contact.isTouching()&&(s.addContact(i.contact),i.contact.m_flags|=fb.e_islandFlag,!((m=i.other).m_flags&ua.e_islandFlag)&&(m.getType()!=ua.b2_staticBody&&(m.advance(l),m.setAwake(!0)),n[_+h]=m,++h,m.m_flags|=ua.e_islandFlag)),i=i.next;for(i=o.m_jointList;null!=i;)s.m_jointCount!=s.m_jointCapacity&&1!=i.joint.m_islandFlag&&0!=(m=i.other).isActive()&&(s.addJoint(i.joint),i.joint.m_islandFlag=!0,!(m.m_flags&ua.e_islandFlag)&&(m.getType()!=ua.b2_staticBody&&(m.advance(l),m.setAwake(!0)),n[_+h]=m,++h,m.m_flags|=ua.e_islandFlag)),i=i.next}for((i=lc.s_timestep).warmStarting=!1,i.dt=(1-l)*e.dt,i.inv_dt=1/i.dt,i.dtRatio=0,i.velocityIterations=e.velocityIterations,i.positionIterations=e.positionIterations,s.solveTOI(i),l=0,_=s.m_bodyCount;l<_;)if(i=l++,(o=s.m_bodies[i]).m_flags&=~ua.e_islandFlag,0!=o.isAwake()&&o.getType()==ua.b2_dynamicBody)for(o.synchronizeFixtures(),i=o.m_contactList;null!=i;)i.contact.m_flags&=~fb.e_toiFlag,i=i.next;for(l=0,o=s.m_contactCount;l<o;)i=l++,(i=s.m_contacts[i]).m_flags&=~(fb.e_toiFlag|fb.e_islandFlag);for(l=0,i=s.m_jointCount;l<i;)o=l++,(o=s.m_joints[o]).m_islandFlag=!1;this.m_contactManager.findNewContacts()}}},drawJoint:function(e){var i=e.getBodyA(),s=e.getBodyB(),n=i.m_xf.position,o=s.m_xf.position,l=e.getAnchorA(),_=e.getAnchorB(),h=lc.s_jointColor;switch(e.m_type){case 3:case 5:this.m_debugDraw.drawSegment(l,_,h);break;case 4:e=(i=T.__cast(e,Ug)).getGroundAnchorA(),i=i.getGroundAnchorB(),this.m_debugDraw.drawSegment(e,l,h),this.m_debugDraw.drawSegment(i,_,h),this.m_debugDraw.drawSegment(e,i,h);break;default:i!=this.m_groundBody&&this.m_debugDraw.drawSegment(n,l,h),this.m_debugDraw.drawSegment(l,_,h),s!=this.m_groundBody&&this.m_debugDraw.drawSegment(o,_,h)}},drawShape:function(e,i,s){switch(e.m_type){case 0:e=T.__cast(e,ad);var n=P.mulX(i,e.m_p);this.m_debugDraw.drawSolidCircle(n,e.m_radius,i.R.col1,s);break;case 1:e=(n=T.__cast(e,Jb)).getVertexCount(),n=n.getVertices();for(var o=[],l=0;l<e;){var _=l++;o[_]=P.mulX(i,n[_])}this.m_debugDraw.drawSolidPolygon(o,e,s);break;case 2:e=T.__cast(e,Sg),this.m_debugDraw.drawSegment(P.mulX(i,e.getVertex1()),P.mulX(i,e.getVertex2()),s)}},m_aabb:null,setScreenBounds:function(e){this.m_aabb=e},getScreenBounds:function(){return this.m_aabb},m_flags:null,m_contactManager:null,m_contactSolver:null,m_island:null,m_bodyList:null,m_jointList:null,m_contactList:null,m_bodyCount:null,m_contactCount:null,m_jointCount:null,m_controllerList:null,m_controllerCount:null,m_gravity:null,m_allowSleep:null,m_groundBody:null,m_destructionListener:null,m_debugDraw:null,m_inv_dt0:null,aabbQueryCallback:null,shapeQueryCallback:null,pointQueryCallback:null,__class__:lc};var qm=function(){};k["box2D.dynamics.AABBQueryCallback"]=qm,qm.__name__="box2D.dynamics.AABBQueryCallback",qm.__interfaces__=[Tg],qm.prototype={broadPhase:null,callbackMethod:null,queryCallback:function(e){return this.callbackMethod(this.broadPhase.getUserData(e))},__class__:qm};var pm=function(){};k["box2D.dynamics.ShapeQueryCallback"]=pm,pm.__name__="box2D.dynamics.ShapeQueryCallback",pm.__interfaces__=[Tg],pm.prototype={broadPhase:null,shape:null,transform:null,callbackMethod:null,queryCallback:function(e){return e=this.broadPhase.getUserData(e),!cc.testOverlap(this.shape,this.transform,e.getShape(),e.getBody().getTransform())||this.callbackMethod(e)},__class__:pm};var om=function(){};k["box2D.dynamics.PointQueryCallback"]=om,om.__name__="box2D.dynamics.PointQueryCallback",om.__interfaces__=[Tg],om.prototype={broadPhase:null,callbackMethod:null,p:null,queryCallback:function(e){return!(e=this.broadPhase.getUserData(e)).testPoint(this.p)||this.callbackMethod(e)},__class__:om};var fb=function(){this.m_nodeA=new rm,this.m_nodeB=new rm,this.m_manifold=new Qh,this.m_oldManifold=new Qh};k["box2D.dynamics.contacts.B2Contact"]=fb,fb.__name__="box2D.dynamics.contacts.B2Contact",fb.prototype={getManifold:function(){return this.m_manifold},getWorldManifold:function(e){var i=this.m_fixtureA.getBody(),s=this.m_fixtureB.getBody(),n=this.m_fixtureA.getShape(),o=this.m_fixtureB.getShape();e.initialize(this.m_manifold,i.getTransform(),n.m_radius,s.getTransform(),o.m_radius)},isTouching:function(){return(this.m_flags&fb.e_touchingFlag)==fb.e_touchingFlag},isContinuous:function(){return(this.m_flags&fb.e_continuousFlag)==fb.e_continuousFlag},setSensor:function(e){this.m_flags=e?this.m_flags|fb.e_sensorFlag:this.m_flags&~fb.e_sensorFlag},isSensor:function(){return(this.m_flags&fb.e_sensorFlag)==fb.e_sensorFlag},setEnabled:function(e){this.m_flags=e?this.m_flags|fb.e_enabledFlag:this.m_flags&~fb.e_enabledFlag},isEnabled:function(){return(this.m_flags&fb.e_enabledFlag)==fb.e_enabledFlag},getNext:function(){return this.m_next},getFixtureA:function(){return this.m_fixtureA},getFixtureB:function(){return this.m_fixtureB},flagForFiltering:function(){this.m_flags|=fb.e_filterFlag},reset:function(e,i){if(this.m_flags=fb.e_enabledFlag,null==e||null==i)this.m_fixtureB=this.m_fixtureA=null;else{(e.isSensor()||i.isSensor())&&(this.m_flags|=fb.e_sensorFlag);var s=e.getBody(),n=i.getBody();(s.getType()!=ua.b2_dynamicBody||s.isBullet()||n.getType()!=ua.b2_dynamicBody||n.isBullet())&&(this.m_flags|=fb.e_continuousFlag),this.m_fixtureA=e,this.m_fixtureB=i,this.m_manifold.m_pointCount=0,this.m_next=this.m_prev=null,this.m_nodeA.contact=null,this.m_nodeA.prev=null,this.m_nodeA.next=null,this.m_nodeA.other=null,this.m_nodeB.contact=null,this.m_nodeB.prev=null,this.m_nodeB.next=null,this.m_nodeB.other=null}},update:function(e){var i=this.m_oldManifold;this.m_oldManifold=this.m_manifold,this.m_manifold=i,this.m_flags|=fb.e_enabledFlag;var s=!1;i=(this.m_flags&fb.e_touchingFlag)==fb.e_touchingFlag;var n=this.m_fixtureA.m_body,o=this.m_fixtureB.m_body,l=this.m_fixtureA.m_aabb.testOverlap(this.m_fixtureB.m_aabb);if(this.m_flags&fb.e_sensorFlag)l&&(s=this.m_fixtureA.getShape(),l=this.m_fixtureB.getShape(),n=n.getTransform(),o=o.getTransform(),s=cc.testOverlap(s,n,l,o)),this.m_manifold.m_pointCount=0;else{if(n.getType()!=ua.b2_dynamicBody||n.isBullet()||o.getType()!=ua.b2_dynamicBody||o.isBullet()?this.m_flags|=fb.e_continuousFlag:this.m_flags&=~fb.e_continuousFlag,l){this.evaluate(),s=0<this.m_manifold.m_pointCount,l=0;for(var _=this.m_manifold.m_pointCount;l<_;){var h=l++;(h=this.m_manifold.m_points[h]).m_normalImpulse=0,h.m_tangentImpulse=0;for(var m=h.m_id,f=0,y=this.m_oldManifold.m_pointCount;f<y;){var g=f++;if((g=this.m_oldManifold.m_points[g]).m_id.get_key()==m.get_key()){h.m_normalImpulse=g.m_normalImpulse,h.m_tangentImpulse=g.m_tangentImpulse;break}}}}else this.m_manifold.m_pointCount=0;s!=i&&(n.setAwake(!0),o.setAwake(!0))}this.m_flags=s?this.m_flags|fb.e_touchingFlag:this.m_flags&~fb.e_touchingFlag,0==i&&1==s&&e.beginContact(this),1==i&&0==s&&e.endContact(this),!(this.m_flags&fb.e_sensorFlag)&&e.preSolve(this,this.m_oldManifold)},evaluate:function(){},computeTOI:function(e,i){return fb.s_input.proxyA.set(this.m_fixtureA.getShape()),fb.s_input.proxyB.set(this.m_fixtureB.getShape()),fb.s_input.sweepA=e,fb.s_input.sweepB=i,fb.s_input.tolerance=ca.b2_linearSlop,Ob.timeOfImpact(fb.s_input)},m_flags:null,m_prev:null,m_next:null,m_nodeA:null,m_nodeB:null,m_fixtureA:null,m_fixtureB:null,m_manifold:null,m_oldManifold:null,m_toi:null,key:null,__class__:fb};var Sh=function(){fb.call(this)};k["box2D.dynamics.contacts.B2CircleContact"]=Sh,Sh.__name__="box2D.dynamics.contacts.B2CircleContact",Sh.create=function(e){return new Sh},Sh.destroy=function(e,i){},Sh.__super__=fb,Sh.prototype=x(fb.prototype,{reset:function(e,i){fb.prototype.reset.call(this,e,i)},evaluate:function(){var e=this.m_fixtureA.getBody(),i=this.m_fixtureB.getBody();L.collideCircles(this.m_manifold,T.__cast(this.m_fixtureA.getShape(),ad),e.m_xf,T.__cast(this.m_fixtureB.getShape(),ad),i.m_xf)},__class__:Sh});var Pp=function(){this.localPlaneNormal=new K,this.localPoint=new K,this.normal=new K,this.normalMass=new Oc,this.K=new Oc,this.points=[];for(var e=0,i=ca.b2_maxManifoldPoints;e<i;){var s=e++;this.points[s]=new Op}};k["box2D.dynamics.contacts.B2ContactConstraint"]=Pp,Pp.__name__="box2D.dynamics.contacts.B2ContactConstraint",Pp.prototype={points:null,localPlaneNormal:null,localPoint:null,normal:null,normalMass:null,K:null,bodyA:null,bodyB:null,type:null,radius:null,friction:null,restitution:null,pointCount:null,manifold:null,__class__:Pp};var Op=function(){this.localPoint=new K,this.rA=new K,this.rB=new K};k["box2D.dynamics.contacts.B2ContactConstraintPoint"]=Op,Op.__name__="box2D.dynamics.contacts.B2ContactConstraintPoint",Op.prototype={localPoint:null,rA:null,rB:null,normalImpulse:null,tangentImpulse:null,normalMass:null,tangentMass:null,equalizedMass:null,velocityBias:null,__class__:Op};var rm=function(){};k["box2D.dynamics.contacts.B2ContactEdge"]=rm,rm.__name__="box2D.dynamics.contacts.B2ContactEdge",rm.prototype={other:null,contact:null,prev:null,next:null,__class__:rm};var Np=function(e){this.m_allocator=e,this.initializeRegisters()};k["box2D.dynamics.contacts.B2ContactFactory"]=Np,Np.__name__="box2D.dynamics.contacts.B2ContactFactory",Np.prototype={addType:function(e,i,s,n){this.m_registers[s][n].createFcn=e,this.m_registers[s][n].destroyFcn=i,this.m_registers[s][n].primary=s},initializeRegisters:function(){this.m_registers=[],this.m_registers[0]=[],this.m_registers[0][0]=null,this.m_registers[0][1]=null,this.m_registers[0][2]=null,this.m_registers[1]=[],this.m_registers[1][0]=null,this.m_registers[1][1]=null,this.m_registers[1][2]=null,this.m_registers[2]=[],this.m_registers[2][0]=null,this.m_registers[2][1]=null,this.m_registers[2][2]=null,null==this.m_registers[0][0]&&(this.m_registers[0][0]=new Ag),null==this.m_registers[0][1]&&(this.m_registers[0][1]=new Ag,this.m_registers[1][0]=this.m_registers[0][1]),null==this.m_registers[0][2]&&(this.m_registers[0][2]=new Ag,this.m_registers[2][0]=this.m_registers[0][2]),null==this.m_registers[1][0]&&(this.m_registers[1][0]=new Ag,this.m_registers[0][1]=this.m_registers[1][0]),null==this.m_registers[1][1]&&(this.m_registers[1][1]=new Ag),null==this.m_registers[1][2]&&(this.m_registers[1][2]=new Ag,this.m_registers[2][1]=this.m_registers[1][2]),null==this.m_registers[2][0]&&(this.m_registers[2][0]=new Ag,this.m_registers[0][2]=this.m_registers[2][0]),null==this.m_registers[2][1]&&(this.m_registers[2][1]=new Ag,this.m_registers[1][2]=this.m_registers[2][1]),null==this.m_registers[2][2]&&(this.m_registers[2][2]=new Ag),this.addType(Sh.create,Sh.destroy,0,0),this.addType(Th.create,Th.destroy,1,0),this.addType(Uh.create,Uh.destroy,1,1),this.addType(Oa.create,Oa.destroy,2,0),this.addType(G.create,G.destroy,1,2)},create:function(e,i){var s=e.getType(),n=i.getType();if(null!=(n=this.m_registers[s][n]).pool){var o=n.pool;return n.pool=o.m_next,n.poolCount--,n.primary==s?o.reset(e,i):o.reset(i,e),o}return null!=(o=n.createFcn)?(n.primary==s?(o=o(this.m_allocator)).reset(e,i):(o=o(this.m_allocator)).reset(i,e),o):null},destroy:function(e){0<e.m_manifold.m_pointCount&&(e.m_fixtureA.m_body.setAwake(!0),e.m_fixtureB.m_body.setAwake(!0));var i=e.m_fixtureA.getType(),s=e.m_fixtureB.getType();(i=this.m_registers[i][s]).poolCount++,e.m_next=i.pool,i.pool=e,(i=i.destroyFcn)(e,this.m_allocator)},m_registers:null,m_allocator:null,__class__:Np};var Ag=function(){};k["box2D.dynamics.contacts.B2ContactRegister"]=Ag,Ag.__name__="box2D.dynamics.contacts.B2ContactRegister",Ag.prototype={createFcn:null,destroyFcn:null,primary:null,pool:null,poolCount:null,__class__:Ag};var Nk=function(){this.m_normal=new K,this.m_separations=[],this.m_points=[];for(var e=0,i=ca.b2_maxManifoldPoints;e<i;){var s=e++;this.m_points[s]=new K}};k["box2D.dynamics.contacts.B2PositionSolverManifold"]=Nk,Nk.__name__="box2D.dynamics.contacts.B2PositionSolverManifold",Nk.prototype={initialize:function(e){switch(ca.b2Assert(0<e.pointCount),e.type){case 1:var i=e.bodyA.m_xf.R,s=e.localPoint,n=e.bodyA.m_xf.position.x+(i.col1.x*s.x+i.col2.x*s.y),o=e.bodyA.m_xf.position.y+(i.col1.y*s.x+i.col2.y*s.y),l=e.bodyB.m_xf.position.x+((i=e.bodyB.m_xf.R).col1.x*(s=e.points[0].localPoint).x+i.col2.x*s.y),_=(i=e.bodyB.m_xf.position.y+(i.col1.y*s.x+i.col2.y*s.y))-o,h=(s=l-n)*s+_*_;h>Number.MIN_VALUE*Number.MIN_VALUE?(h=Math.sqrt(h),this.m_normal.x=s/h,this.m_normal.y=_/h):(this.m_normal.x=1,this.m_normal.y=0),this.m_points[0].x=.5*(n+l),this.m_points[0].y=.5*(o+i),this.m_separations[0]=s*this.m_normal.x+_*this.m_normal.y-e.radius;break;case 2:for(this.m_normal.x=(i=e.bodyA.m_xf.R).col1.x*(s=e.localPlaneNormal).x+i.col2.x*s.y,this.m_normal.y=i.col1.y*s.x+i.col2.y*s.y,n=e.bodyA.m_xf.position.x+((i=e.bodyA.m_xf.R).col1.x*(s=e.localPoint).x+i.col2.x*s.y),o=e.bodyA.m_xf.position.y+(i.col1.y*s.x+i.col2.y*s.y),i=e.bodyB.m_xf.R,_=0,h=e.pointCount;_<h;){var m=_++;this.m_separations[m]=((l=e.bodyB.m_xf.position.x+(i.col1.x*(s=e.points[m].localPoint).x+i.col2.x*s.y))-n)*this.m_normal.x+((s=e.bodyB.m_xf.position.y+(i.col1.y*s.x+i.col2.y*s.y))-o)*this.m_normal.y-e.radius,this.m_points[m].x=l,this.m_points[m].y=s}break;case 4:for(this.m_normal.x=(i=e.bodyB.m_xf.R).col1.x*(s=e.localPlaneNormal).x+i.col2.x*s.y,this.m_normal.y=i.col1.y*s.x+i.col2.y*s.y,n=e.bodyB.m_xf.position.x+((i=e.bodyB.m_xf.R).col1.x*(s=e.localPoint).x+i.col2.x*s.y),o=e.bodyB.m_xf.position.y+(i.col1.y*s.x+i.col2.y*s.y),i=e.bodyA.m_xf.R,_=0,h=e.pointCount;_<h;)m=_++,this.m_separations[m]=((l=e.bodyA.m_xf.position.x+(i.col1.x*(s=e.points[m].localPoint).x+i.col2.x*s.y))-n)*this.m_normal.x+((s=e.bodyA.m_xf.position.y+(i.col1.y*s.x+i.col2.y*s.y))-o)*this.m_normal.y-e.radius,null==s&&(s=0),null==l&&(l=0),(m=this.m_points[m]).x=l,m.y=s;this.m_normal.x*=-1,this.m_normal.y*=-1}},m_normal:null,m_points:null,m_separations:null,__class__:Nk};var df=function(){this.m_step=new Mk,this.m_constraints=[]};k["box2D.dynamics.contacts.B2ContactSolver"]=df,df.__name__="box2D.dynamics.contacts.B2ContactSolver",df.prototype={initialize:function(e,i,s,n){for(this.m_step.set(e),this.m_allocator=n,this.m_constraintCount=s;this.m_constraints.length<this.m_constraintCount;)this.m_constraints[this.m_constraints.length]=new Pp;for(e=0;e<s;){var o=i[n=e++],l=o.m_fixtureA,_=o.m_fixtureB,h=l.m_shape.m_radius,m=_.m_shape.m_radius,f=l.m_body,y=_.m_body;o=o.getManifold();var g=ca.b2MixFriction(l.getFriction(),_.getFriction()),j=ca.b2MixRestitution(l.getRestitution(),_.getRestitution()),$=f.m_linearVelocity.x,yt=f.m_linearVelocity.y,_t=y.m_linearVelocity.x,xt=y.m_linearVelocity.y,Tt=f.m_angularVelocity,St=y.m_angularVelocity;for(ca.b2Assert(0<o.m_pointCount),df.s_worldManifold.initialize(o,f.m_xf,h,y.m_xf,m),l=df.s_worldManifold.m_normal.x,_=df.s_worldManifold.m_normal.y,(n=this.m_constraints[n]).bodyA=f,n.bodyB=y,n.manifold=o,n.normal.x=l,n.normal.y=_,n.pointCount=o.m_pointCount,n.friction=g,n.restitution=j,n.localPlaneNormal.x=o.m_localPlaneNormal.x,n.localPlaneNormal.y=o.m_localPlaneNormal.y,n.localPoint.x=o.m_localPoint.x,n.localPoint.y=o.m_localPoint.y,n.radius=h+m,n.type=o.m_type,h=0,m=n.pointCount;h<m;){var Mt=h++,Et=o.m_points[Mt];(g=n.points[Mt]).normalImpulse=Et.m_normalImpulse,g.tangentImpulse=Et.m_tangentImpulse,(j=g.localPoint).x=(Et=Et.m_localPoint).x,j.y=Et.y,j=g.rA.x=df.s_worldManifold.m_points[Mt].x-f.m_sweep.c.x,Et=g.rA.y=df.s_worldManifold.m_points[Mt].y-f.m_sweep.c.y;var Ct=g.rB.x=df.s_worldManifold.m_points[Mt].x-y.m_sweep.c.x,Dt=j*_-Et*l,At=Ct*_-(Mt=g.rB.y=df.s_worldManifold.m_points[Mt].y-y.m_sweep.c.y)*l;g.normalMass=1/(f.m_invMass+y.m_invMass+f.m_invI*(Dt*=Dt)+y.m_invI*(At*=At));var Nt=f.m_mass*f.m_invMass+y.m_mass*y.m_invMass;g.equalizedMass=1/(Nt+=f.m_mass*f.m_invI*Dt+y.m_mass*y.m_invI*At),Dt=j*(Nt=-l)-Et*(At=_),At=Ct*Nt-Mt*At,g.tangentMass=1/(f.m_invMass+y.m_invMass+f.m_invI*(Dt*=Dt)+y.m_invI*(At*=At)),g.velocityBias=0,(j=n.normal.x*(_t+-St*Mt-$- -Tt*Et)+n.normal.y*(xt+St*Ct-yt-Tt*j))<-ca.b2_velocityThreshold&&(g.velocityBias+=-n.restitution*j)}2==n.pointCount&&(Tt=(_t=n.points[1]).rA.x*_-_t.rA.y*l,_t=_t.rB.x*_-_t.rB.y*l,(_=(o=f.m_invMass)+($=y.m_invMass)+(f=f.m_invI)*(yt=(xt=n.points[0]).rA.x*_-xt.rA.y*l)*yt+(y=y.m_invI)*(xt=xt.rB.x*_-xt.rB.y*l)*xt)*_<100*(_*(l=o+$+f*Tt*Tt+y*_t*_t)-(y=o+$+f*yt*Tt+y*xt*_t)*y)?(null==(o=y)&&(o=0),null==_&&(_=0),(f=n.K.col1).x=_,f.y=o,null==l&&(l=0),null==y&&(y=0),(_=n.K.col2).x=y,_.y=l,n.K.getInverse(n.normalMass)):n.pointCount=1)}},initVelocityConstraints:function(e){for(var i=0,s=this.m_constraintCount;i<s;){var n=i++,o=(n=this.m_constraints[n]).bodyA,l=n.bodyB,_=o.m_invMass,h=o.m_invI,m=l.m_invMass,f=l.m_invI,y=n.normal.x,g=n.normal.y,j=g,$=-y;if(e.warmStarting)for(var yt=n.pointCount,_t=0;_t<yt;){var xt=_t++;(xt=n.points[xt]).normalImpulse*=e.dtRatio,xt.tangentImpulse*=e.dtRatio;var Tt=xt.normalImpulse*y+xt.tangentImpulse*j,St=xt.normalImpulse*g+xt.tangentImpulse*$;o.m_angularVelocity-=h*(xt.rA.x*St-xt.rA.y*Tt),o.m_linearVelocity.x-=_*Tt,o.m_linearVelocity.y-=_*St,l.m_angularVelocity+=f*(xt.rB.x*St-xt.rB.y*Tt),l.m_linearVelocity.x+=m*Tt,l.m_linearVelocity.y+=m*St}else for(o=0,l=yt=n.pointCount;o<l;)_=o++,(_=n.points[_]).normalImpulse=0,_.tangentImpulse=0}},solveVelocityConstraints:function(){for(var e,i,s,n,o,l,_,h,m,f,y=0,g=this.m_constraintCount;y<g;){var j=y++,$=(n=this.m_constraints[j]).bodyB,yt=(j=n.bodyA).m_angularVelocity,_t=$.m_angularVelocity,xt=j.m_linearVelocity,Tt=$.m_linearVelocity,St=j.m_invMass,Mt=j.m_invI,Et=$.m_invMass,Ct=$.m_invI,Dt=m=n.normal.y,At=-(h=n.normal.x);for(f=n.friction,_=0,l=n.pointCount;_<l;)e=_++,o=(i=(s=P.clamp((e=n.points[e]).tangentImpulse+(i=e.tangentMass*-(i=(i=Tt.x-_t*e.rB.y-xt.x+yt*e.rA.y)*Dt+(s=Tt.y+_t*e.rB.x-xt.y-yt*e.rA.x)*At)),-(s=f*e.normalImpulse),s))-e.tangentImpulse)*Dt,i*=At,xt.x-=St*o,xt.y-=St*i,yt-=Mt*(e.rA.x*i-e.rA.y*o),Tt.x+=Et*o,Tt.y+=Et*i,_t+=Ct*(e.rB.x*i-e.rB.y*o),e.tangentImpulse=s;if(1==n.pointCount)o=(i=(s=0<(s=(e=n.points[0]).normalImpulse+(i=-e.normalMass*((n=(i=Tt.x+-_t*e.rB.y-xt.x- -yt*e.rA.y)*h+(s=Tt.y+_t*e.rB.x-xt.y-yt*e.rA.x)*m)-e.velocityBias)))?s:0)-e.normalImpulse)*h,i*=m,xt.x-=St*o,xt.y-=St*i,yt-=Mt*(e.rA.x*i-e.rA.y*o),Tt.x+=Et*o,Tt.y+=Et*i,_t+=Ct*(e.rB.x*i-e.rB.y*o),e.normalImpulse=s;else{var Nt=(Tt.x-_t*(Dt=n.points[1]).rB.y-xt.x+yt*Dt.rA.y)*h+(Tt.y+_t*Dt.rB.x-xt.y-yt*Dt.rA.x)*m;for(i=(o=(Tt.x-_t*(e=n.points[0]).rB.y-xt.x+yt*e.rA.y)*h+(Tt.y+_t*e.rB.x-xt.y-yt*e.rA.x)*m)-e.velocityBias,s=Nt-Dt.velocityBias,i-=(f=n.K).col1.x*(l=e.normalImpulse)+f.col2.x*(_=Dt.normalImpulse),s-=f.col1.y*l+f.col2.y*_;;){if(At=-((f=n.normalMass).col1.x*i+f.col2.x*s),f=-(f.col1.y*i+f.col2.y*s),0<=At&&0<=f){n=(l=At-l)*h,l*=m,m*=_=f-_,xt.x-=St*(n+(h*=_)),xt.y-=St*(l+m),yt-=Mt*(e.rA.x*l-e.rA.y*n+Dt.rA.x*m-Dt.rA.y*h),Tt.x+=Et*(n+h),Tt.y+=Et*(l+m),_t+=Ct*(e.rB.x*l-e.rB.y*n+Dt.rB.x*m-Dt.rB.y*h),e.normalImpulse=At,Dt.normalImpulse=f;break}if(f=0,Nt=n.K.col1.y*(At=-e.normalMass*i)+s,0<=At&&0<=Nt){n=(l=At-l)*h,l*=m,m*=_=f-_,xt.x-=St*(n+(h*=_)),xt.y-=St*(l+m),yt-=Mt*(e.rA.x*l-e.rA.y*n+Dt.rA.x*m-Dt.rA.y*h),Tt.x+=Et*(n+h),Tt.y+=Et*(l+m),_t+=Ct*(e.rB.x*l-e.rB.y*n+Dt.rB.x*m-Dt.rB.y*h),e.normalImpulse=At,Dt.normalImpulse=f;break}if(At=0,o=n.K.col2.x*(f=-Dt.normalMass*s)+i,0<=f&&0<=o){n=(l=At-l)*h,l*=m,m*=_=f-_,xt.x-=St*(n+(h*=_)),xt.y-=St*(l+m),yt-=Mt*(e.rA.x*l-e.rA.y*n+Dt.rA.x*m-Dt.rA.y*h),Tt.x+=Et*(n+h),Tt.y+=Et*(l+m),_t+=Ct*(e.rB.x*l-e.rB.y*n+Dt.rB.x*m-Dt.rB.y*h),e.normalImpulse=At,Dt.normalImpulse=f;break}if(f=At=0,Nt=s,0<=(o=i)&&0<=Nt){n=(l=At-l)*h,l*=m,m*=_=f-_,xt.x-=St*(n+(h*=_)),xt.y-=St*(l+m),yt-=Mt*(e.rA.x*l-e.rA.y*n+Dt.rA.x*m-Dt.rA.y*h),Tt.x+=Et*(n+h),Tt.y+=Et*(l+m),_t+=Ct*(e.rB.x*l-e.rB.y*n+Dt.rB.x*m-Dt.rB.y*h),e.normalImpulse=At,Dt.normalImpulse=f;break}break}}j.m_angularVelocity=yt,$.m_angularVelocity=_t}},finalizeVelocityConstraints:function(){for(var e=0,i=this.m_constraintCount;e<i;)for(var s=e++,n=(s=this.m_constraints[s]).manifold,o=0,l=s.pointCount;o<l;){var _=o++,h=n.m_points[_];h.m_normalImpulse=(_=s.points[_]).normalImpulse,h.m_tangentImpulse=_.tangentImpulse}},solvePositionConstraints:function(e){for(var i=0,s=0,n=this.m_constraintCount;s<n;){var o=s++,l=(o=this.m_constraints[o]).bodyA,_=o.bodyB,h=l.m_mass*l.m_invMass,m=l.m_mass*l.m_invI,f=_.m_mass*_.m_invMass,y=_.m_mass*_.m_invI;df.s_psm.initialize(o);for(var g=df.s_psm.m_normal,j=0,$=o.pointCount;j<$;){var yt=j++,_t=o.points[yt],xt=df.s_psm.m_points[yt],Tt=df.s_psm.m_separations[yt];yt=xt.x-l.m_sweep.c.x;var St=xt.y-l.m_sweep.c.y,Mt=xt.x-_.m_sweep.c.x;xt=xt.y-_.m_sweep.c.y,i=i<Tt?i:Tt,Tt=P.clamp(e*(Tt+ca.b2_linearSlop),-ca.b2_maxLinearCorrection,0),_t=(Tt*=-_t.equalizedMass)*g.x,Tt*=g.y,l.m_sweep.c.x-=h*_t,l.m_sweep.c.y-=h*Tt,l.m_sweep.a-=m*(yt*Tt-St*_t),l.synchronizeTransform(),_.m_sweep.c.x+=f*_t,_.m_sweep.c.y+=f*Tt,_.m_sweep.a+=y*(Mt*Tt-xt*_t),_.synchronizeTransform()}}return i>-1.5*ca.b2_linearSlop},m_step:null,m_allocator:null,m_constraints:null,m_constraintCount:null,__class__:df};var Oa=function(){fb.call(this)};k["box2D.dynamics.contacts.B2EdgeAndCircleContact"]=Oa,Oa.__name__="box2D.dynamics.contacts.B2EdgeAndCircleContact",Oa.create=function(e){return new Oa},Oa.destroy=function(e,i){},Oa.__super__=fb,Oa.prototype=x(fb.prototype,{m_v0:null,m_v1:null,m_v2:null,m_v3:null,reset:function(e,i){fb.prototype.reset.call(this,e,i)},evaluate:function(){var e=this.m_fixtureA.getBody(),i=this.m_fixtureB.getBody();this.b2CollideEdgeAndCircle(this.m_manifold,T.__cast(this.m_fixtureA.getShape(),Sg),e.m_xf,T.__cast(this.m_fixtureB.getShape(),ad),i.m_xf)},b2CollideEdgeAndCircle:function(e,i,s,n,o){e.m_pointCount=0,this.multiplyTransformVector(o,n.m_p,Oa.temp1),o=Oa.q,s=P.mulXT(s,Oa.temp1),o.x=s.x,o.y=s.y,this.m_v0=i.m_v0,this.m_v1=i.m_v1,this.m_v2=i.m_v2,this.m_v3=i.m_v3;var l=this.m_v2.y-this.m_v1.y;null==l&&(l=0),null==(o=this.m_v2.x-this.m_v1.x)&&(o=0),(s=Oa.e).x=o,s.y=l,null==(l=this.m_v2.y-Oa.q.y)&&(l=0),null==(o=this.m_v2.x-Oa.q.x)&&(o=0),(s=Oa.temp1).x=o,s.y=l,o=P.dot(Oa.e,Oa.temp1);var _=Oa.q.y-this.m_v1.y;if(null==_&&(_=0),null==(l=Oa.q.x-this.m_v1.x)&&(l=0),(s=Oa.temp1).x=l,s.y=_,l=P.dot(Oa.e,Oa.temp1),s=i.m_radius+n.m_radius,0>=l){if((o=Oa.p).x=(l=this.m_v1).x,o.y=l.y,null==(_=Oa.q.y-Oa.p.y)&&(_=0),null==(l=Oa.q.x-Oa.p.x)&&(l=0),(o=Oa.temp1).x=l,o.y=_,!(P.dot(Oa.temp1,Oa.temp1)>s*s)){if(i.m_hasVertex0&&(null==(o=this.m_v1.y-this.m_v0.y)&&(o=0),null==(s=this.m_v1.x-this.m_v0.x)&&(s=0),(i=Oa.temp1).x=s,i.y=o,null==(o=this.m_v1.y-Oa.q.y)&&(o=0),null==(s=this.m_v1.x-Oa.q.x)&&(s=0),(i=Oa.temp2).x=s,i.y=o,0<P.dot(Oa.temp1,Oa.temp2)))return;e.m_pointCount=1,e.m_type=1,(i=e.m_localPlaneNormal).x=0,i.y=0,(i=e.m_localPoint).x=(s=Oa.p).x,i.y=s.y,e.m_points[0].m_id.set_key(0),e.m_points[0].m_id.indexA=0,e.m_points[0].m_id.indexB=0,e.m_points[0].m_id.typeA=Q.VERTEX,e.m_points[0].m_id.typeB=Q.VERTEX,(e=e.m_points[0].m_localPoint).x=(n=n.m_p).x,e.y=n.y}}else if(0>=o){if((o=Oa.p).x=(l=this.m_v2).x,o.y=l.y,null==(_=Oa.q.y-Oa.p.y)&&(_=0),null==(l=Oa.q.x-Oa.p.x)&&(l=0),(o=Oa.temp1).x=l,o.y=_,!(P.dot(Oa.temp1,Oa.temp1)>s*s)){if(i.m_hasVertex3&&(null==(o=this.m_v3.y-this.m_v2.y)&&(o=0),null==(s=this.m_v3.x-this.m_v2.x)&&(s=0),(i=Oa.temp1).x=s,i.y=o,null==(o=Oa.q.y-this.m_v2.y)&&(o=0),null==(s=Oa.q.x-this.m_v2.x)&&(s=0),(i=Oa.temp2).x=s,i.y=o,0<P.dot(Oa.temp1,Oa.temp2)))return;e.m_pointCount=1,e.m_type=1,(i=e.m_localPlaneNormal).x=0,i.y=0,(i=e.m_localPoint).x=(s=Oa.p).x,i.y=s.y,e.m_points[0].m_id.set_key(0),e.m_points[0].m_id.indexA=1,e.m_points[0].m_id.indexB=0,e.m_points[0].m_id.typeA=Q.VERTEX,e.m_points[0].m_id.typeB=Q.VERTEX,(e=e.m_points[0].m_localPoint).x=(n=n.m_p).x,e.y=n.y}}else i=P.dot(Oa.e,Oa.e),ca.b2Assert(0<i),Oa.p.x=1/i*(this.m_v1.x*o+this.m_v2.x*l),Oa.p.y=1/i*(this.m_v1.y*o+this.m_v2.y*l),Oa.temp1.x=Oa.q.x-Oa.p.x,Oa.temp1.y=Oa.q.y-Oa.p.y,P.dot(Oa.temp1,Oa.temp1)>s*s||(null==(o=Oa.e.x)&&(o=0),null==(s=-Oa.e.y)&&(s=0),(i=Oa.temp1).x=s,i.y=o,null==(o=Oa.q.y-this.m_v1.y)&&(o=0),null==(s=Oa.q.x-this.m_v1.x)&&(s=0),(i=Oa.temp2).x=s,i.y=o,0>P.dot(Oa.temp1,Oa.temp2)&&((i=Oa.temp1).x=-i.x,i.y=-i.y),Oa.temp1.normalize(),e.m_pointCount=1,e.m_type=2,(i=e.m_localPlaneNormal).x=(s=Oa.temp1).x,i.y=s.y,(i=e.m_localPoint).x=(s=this.m_v1).x,i.y=s.y,e.m_points[0].m_id.set_key(0),e.m_points[0].m_id.indexA=0,e.m_points[0].m_id.indexB=0,e.m_points[0].m_id.typeA=Q.FACE,e.m_points[0].m_id.typeB=Q.VERTEX,(e=e.m_points[0].m_localPoint).x=(n=n.m_p).x,e.y=n.y)},multiplyTransformsInverse:function(e,i,s){this.multiplyRotationsInverse(e.R,i.R,Oa.mat);var n=Oa.temp2;n.x=(i=i.position).x,n.y=i.y,Oa.temp2.subtract(e.position),this.multiplyRotationVectorInverse(e.R,Oa.temp2,s.position),(e=s.R.col1).x=(n=Oa.mat.col1).x,e.y=n.y,(s=s.R.col2).x=(e=Oa.mat.col2).x,s.y=e.y},multiplyRotationsInverse:function(e,i,s){s.col1.x=e.col1.x*i.col1.x+e.col1.y*i.col1.y,s.col1.y=e.col2.x*i.col1.x+e.col2.y*i.col1.y,s.col2.x=e.col1.x*i.col2.x+e.col1.y*i.col2.y,s.col2.y=e.col2.x*i.col2.x+e.col2.y*i.col2.y},multiplyRotationVector:function(e,i,s){s.x=e.col1.x*i.x+e.col2.x*i.y,s.y=e.col1.y*i.x+e.col2.y*i.y},multiplyRotationVectorInverse:function(e,i,s){s.x=e.col1.x*i.x+e.col1.y*i.y,s.y=e.col2.x*i.x+e.col2.y*i.y},multiplyTransformVector:function(e,i,s){s.x=e.R.col1.x*i.x+e.R.col2.x*i.y+e.position.x,s.y=e.R.col1.y*i.x+e.R.col2.y*i.y+e.position.y},__class__:Oa});var Th=function(){fb.call(this)};k["box2D.dynamics.contacts.B2PolyAndCircleContact"]=Th,Th.__name__="box2D.dynamics.contacts.B2PolyAndCircleContact",Th.create=function(e){return new Th},Th.destroy=function(e,i){},Th.__super__=fb,Th.prototype=x(fb.prototype,{reset:function(e,i){fb.prototype.reset.call(this,e,i),ca.b2Assert(1==e.getType()),ca.b2Assert(0==i.getType())},evaluate:function(){var e=this.m_fixtureA.m_body,i=this.m_fixtureB.m_body;L.collidePolygonAndCircle(this.m_manifold,T.__cast(this.m_fixtureA.getShape(),Jb),e.m_xf,T.__cast(this.m_fixtureB.getShape(),ad),i.m_xf)},__class__:Th});var Vh=function(){this.v=new K,this.id=new Q};k["box2D.dynamics.contacts.ClipVertex"]=Vh,Vh.__name__="box2D.dynamics.contacts.ClipVertex",Vh.prototype={v:null,id:null,set:function(e){var i=this.v,s=e.v;i.x=s.x,i.y=s.y,this.id.set(e.id)},__class__:Vh};var sm=function(){};k["box2D.dynamics.contacts.EPAxis"]=sm,sm.__name__="box2D.dynamics.contacts.EPAxis",sm.prototype={type:null,index:null,separation:null,__class__:sm};var Qp=function(){this.vertices=[],this.normals=[];for(var e=0;32>e;)e++,this.vertices.push(new K),this.normals.push(new K)};k["box2D.dynamics.contacts.TempPolygon"]=Qp,Qp.__name__="box2D.dynamics.contacts.TempPolygon",Qp.prototype={vertices:null,normals:null,count:null,__class__:Qp};var Rp=function(){this.v1=new K,this.v2=new K,this.normal=new K,this.sideNormal1=new K,this.sideNormal2=new K};k["box2D.dynamics.contacts.ReferenceFace"]=Rp,Rp.__name__="box2D.dynamics.contacts.ReferenceFace",Rp.prototype={i1:null,i2:null,v1:null,v2:null,normal:null,sideNormal1:null,sideNormal2:null,sideOffset1:null,sideOffset2:null,__class__:Rp};var G=function(){fb.call(this)};k["box2D.dynamics.contacts.B2PolyAndEdgeContact"]=G,G.__name__="box2D.dynamics.contacts.B2PolyAndEdgeContact",G.create=function(e){return new G},G.destroy=function(e,i){},G.clipSegmentToLine=function(e,i,s,n,o){var l=0,_=P.dot(s,i[0].v)-n;return s=P.dot(s,i[1].v)-n,0>=_&&e[l++].set(i[0]),0>=s&&e[l++].set(i[1]),0>_*s&&(_/=_-s,(s=e[l].v).x=(n=i[1].v).x,s.y=n.y,e[l].v.subtract(i[0].v),e[l].v.multiply(_),e[l].v.add(i[0].v),e[l].id.indexA=o,e[l].id.indexB=i[0].id.indexB,e[l].id.typeA=Q.VERTEX,e[l].id.typeB=Q.FACE,++l),l},G.__super__=fb,G.prototype=x(fb.prototype,{m_v0:null,m_v1:null,m_v2:null,m_v3:null,m_front:null,m_radius:null,reset:function(e,i){e.getShape()instanceof Jb?(fb.prototype.reset.call(this,i,e),ca.b2Assert(1==e.getType()),ca.b2Assert(2==i.getType())):(fb.prototype.reset.call(this,e,i),ca.b2Assert(2==e.getType()),ca.b2Assert(1==i.getType()))},evaluate:function(){var e=this.m_fixtureA.getBody(),i=this.m_fixtureB.getBody();this.b2CollidePolyAndEdge(this.m_manifold,T.__cast(this.m_fixtureA.getShape(),Sg),e.m_xf,T.__cast(this.m_fixtureB.getShape(),Jb),i.m_xf)},b2CollidePolyAndEdge:function(e,i,s,n,o){this.multiplyTransformsInverse(s,o,G.m_xf),this.multiplyTransformVector(G.m_xf,n.m_centroid,G.temp);var l=G.m_centroidB,_=G.temp;l.x=_.x,l.y=_.y,this.m_v0=i.m_v0,this.m_v1=i.m_v1,this.m_v2=i.m_v2,this.m_v3=i.m_v3;var h=i.m_hasVertex0,m=i.m_hasVertex3,f=G.edge1,y=this.m_v2;f.x=y.x,f.y=y.y,G.edge1.subtract(this.m_v1),G.edge1.normalize();var g=G.m_normal1,j=G.edge1.y,$=-G.edge1.x;null==$&&($=0),null==j&&(j=0),g.x=j,g.y=$;var yt=G.temp,_t=G.m_centroidB;yt.x=_t.x,yt.y=_t.y,G.temp.subtract(this.m_v1);var xt=P.dot(G.m_normal1,G.temp),Tt=0,St=0,Mt=!1,Et=!1;if(h){var Ct=G.edge0,Dt=this.m_v1;Ct.x=Dt.x,Ct.y=Dt.y,G.edge0.subtract(this.m_v0),G.edge0.normalize();var At=G.m_normal0,Nt=G.edge0.y,Ft=-G.edge0.x;null==Ft&&(Ft=0),null==Nt&&(Nt=0),At.x=Nt,At.y=Ft,Mt=0<=P.crossVV(G.edge0,G.edge1);var Lt=G.temp,Ot=G.m_centroidB;Lt.x=Ot.x,Lt.y=Ot.y,G.temp.subtract(this.m_v0),Tt=P.dot(G.m_normal0,G.temp)}if(m){var Ht=G.edge2,$t=this.m_v3;Ht.x=$t.x,Ht.y=$t.y,G.edge2.subtract(this.m_v2),G.edge2.normalize();var zt=G.m_normal2,Jt=G.edge2.y,Qt=-G.edge2.x;null==Qt&&(Qt=0),null==Jt&&(Jt=0),zt.x=Jt,zt.y=Qt,Et=0<P.crossVV(G.edge1,G.edge2);var Kt=G.temp,_o=G.m_centroidB;Kt.x=_o.x,Kt.y=_o.y,G.temp.subtract(this.m_v2),St=P.dot(G.m_normal2,G.temp)}if(h&&m)if(Mt&&Et)if(this.m_front=0<=Tt||0<=xt||0<=St){var Bt=G.m_normal,Xr=G.m_normal1;Bt.x=Xr.x,Bt.y=Xr.y;var _l=G.m_lowerLimit,_n=G.m_normal0;_l.x=_n.x,_l.y=_n.y;var _r=G.m_upperLimit,_i=G.m_normal2;_r.x=_i.x,_r.y=_i.y}else{var _e=G.m_normal,Gt=G.m_normal1;_e.x=Gt.x,_e.y=Gt.y;var Vt=G.m_normal;Vt.x=-Vt.x,Vt.y=-Vt.y;var n_=G.m_lowerLimit,Xa=G.m_normal1;n_.x=Xa.x,n_.y=Xa.y;var Yr=G.m_lowerLimit;Yr.x=-Yr.x,Yr.y=-Yr.y;var he=G.m_upperLimit,Pt=G.m_normal1;he.x=Pt.x,he.y=Pt.y;var Yt=G.m_upperLimit;Yt.x=-Yt.x,Yt.y=-Yt.y}else if(Mt)if(this.m_front=0<=Tt||0<=xt&&0<=St){var It=G.m_normal,Rt=G.m_normal1;It.x=Rt.x,It.y=Rt.y;var Ut=G.m_lowerLimit,Wt=G.m_normal0;Ut.x=Wt.x,Ut.y=Wt.y;var Xt=G.m_upperLimit,Zt=G.m_normal1;Xt.x=Zt.x,Xt.y=Zt.y}else{var _a=G.m_normal,_s=G.m_normal1;_a.x=_s.x,_a.y=_s.y;var t_=G.m_normal;t_.x=-t_.x,t_.y=-t_.y;var e_=G.m_lowerLimit,r_=G.m_normal2;e_.x=r_.x,e_.y=r_.y;var ga=G.m_lowerLimit;ga.x=-ga.x,ga.y=-ga.y;var c_=G.m_upperLimit,k_=G.m_normal1;c_.x=k_.x,c_.y=k_.y;var p_=G.m_upperLimit;p_.x=-p_.x,p_.y=-p_.y}else if(Et)if(this.m_front=0<=St||0<=Tt&&0<=xt){var d_=G.m_normal,K_=G.m_normal1;d_.x=K_.x,d_.y=K_.y;var J_=G.m_lowerLimit,F_=G.m_normal1;J_.x=F_.x,J_.y=F_.y;var N_=G.m_upperLimit,Q_=G.m_normal2;N_.x=Q_.x,N_.y=Q_.y}else{var g_=G.m_normal,I_=G.m_normal1;g_.x=I_.x,g_.y=I_.y;var h_=G.m_normal;h_.x=-h_.x,h_.y=-h_.y;var b_=G.m_lowerLimit,m_=G.m_normal1;b_.x=m_.x,b_.y=m_.y;var S_=G.m_lowerLimit;S_.x=-S_.x,S_.y=-S_.y;var P_=G.m_upperLimit,$_=G.m_normal0;P_.x=$_.x,P_.y=$_.y;var U_=G.m_upperLimit;U_.x=-U_.x,U_.y=-U_.y}else if(this.m_front=0<=Tt&&0<=xt&&0<=St){var th=G.m_normal,_h=G.m_normal1;th.x=_h.x,th.y=_h.y;var V_=G.m_lowerLimit,tu=G.m_normal1;V_.x=tu.x,V_.y=tu.y;var M_=G.m_upperLimit,X_=G.m_normal1;M_.x=X_.x,M_.y=X_.y}else{var Z_=G.m_normal,q_=G.m_normal1;Z_.x=q_.x,Z_.y=q_.y;var G_=G.m_normal;G_.x=-G_.x,G_.y=-G_.y;var D_=G.m_lowerLimit,W_=G.m_normal2;D_.x=W_.x,D_.y=W_.y;var H_=G.m_lowerLimit;H_.x=-H_.x,H_.y=-H_.y;var eu=G.m_upperLimit,L_=G.m_normal0;eu.x=L_.x,eu.y=L_.y;var C_=G.m_upperLimit;C_.x=-C_.x,C_.y=-C_.y}else if(h)if(Mt)if(this.m_front=0<=Tt||0<=xt){var y_=G.m_normal,R_=G.m_normal1;y_.x=R_.x,y_.y=R_.y;var u_=G.m_lowerLimit,x_=G.m_normal0;u_.x=x_.x,u_.y=x_.y;var v_=G.m_upperLimit,E_=G.m_normal1;v_.x=E_.x,v_.y=E_.y;var A_=G.m_upperLimit;A_.x=-A_.x,A_.y=-A_.y}else{var s_=G.m_normal,o_=G.m_normal1;s_.x=o_.x,s_.y=o_.y;var l_=G.m_normal;l_.x=-l_.x,l_.y=-l_.y;var a_=G.m_lowerLimit,__=G.m_normal1;a_.x=__.x,a_.y=__.y;var w_=G.m_upperLimit,Y_=G.m_normal1;w_.x=Y_.x,w_.y=Y_.y;var B_=G.m_upperLimit;B_.x=-B_.x,B_.y=-B_.y}else if(this.m_front=0<=Tt&&0<=xt){var O_=G.m_normal,ru=G.m_normal1;O_.x=ru.x,O_.y=ru.y;var au=G.m_lowerLimit,iu=G.m_normal1;au.x=iu.x,au.y=iu.y;var j_=G.m_upperLimit,f_=G.m_normal1;j_.x=f_.x,j_.y=f_.y;var i_=G.m_upperLimit;i_.x=-i_.x,i_.y=-i_.y}else{var su=G.m_normal,ou=G.m_normal1;su.x=ou.x,su.y=ou.y;var nu=G.m_normal;nu.x=-nu.x,nu.y=-nu.y;var z_=G.m_lowerLimit,T_=G.m_normal1;z_.x=T_.x,z_.y=T_.y;var _u=G.m_upperLimit,cu=G.m_normal0;_u.x=cu.x,_u.y=cu.y;var hu=G.m_upperLimit;hu.x=-hu.x,hu.y=-hu.y}else if(m)if(Et)if(this.m_front=0<=xt||0<=St){var lu=G.m_normal,uu=G.m_normal1;lu.x=uu.x,lu.y=uu.y;var du=G.m_lowerLimit,fu=G.m_normal1;du.x=fu.x,du.y=fu.y;var pu=G.m_lowerLimit;pu.x=-pu.x,pu.y=-pu.y;var vu=G.m_upperLimit,wu=G.m_normal2;vu.x=wu.x,vu.y=wu.y}else{var Tu=G.m_normal,Su=G.m_normal1;Tu.x=Su.x,Tu.y=Su.y;var gu=G.m_normal;gu.x=-gu.x,gu.y=-gu.y;var Pu=G.m_lowerLimit,Vu=G.m_normal1;Pu.x=Vu.x,Pu.y=Vu.y;var Ru=G.m_lowerLimit;Ru.x=-Ru.x,Ru.y=-Ru.y;var Gu=G.m_upperLimit,Wu=G.m_normal1;Gu.x=Wu.x,Gu.y=Wu.y}else if(this.m_front=0<=xt&&0<=St){var Hu=G.m_normal,Yu=G.m_normal1;Hu.x=Yu.x,Hu.y=Yu.y;var ju=G.m_lowerLimit,zu=G.m_normal1;ju.x=zu.x,ju.y=zu.y;var Eu=G.m_lowerLimit;Eu.x=-Eu.x,Eu.y=-Eu.y;var Xu=G.m_upperLimit,Zu=G.m_normal1;Xu.x=Zu.x,Xu.y=Zu.y}else{var qu=G.m_normal,Ku=G.m_normal1;qu.x=Ku.x,qu.y=Ku.y;var bu=G.m_normal;bu.x=-bu.x,bu.y=-bu.y;var Ju=G.m_lowerLimit,Qu=G.m_normal2;Ju.x=Qu.x,Ju.y=Qu.y;var Au=G.m_lowerLimit;Au.x=-Au.x,Au.y=-Au.y;var $u=G.m_upperLimit,_c=G.m_normal1;$u.x=_c.x,$u.y=_c.y}else if(this.m_front=0<=xt){var Nc=G.m_normal,Gc=G.m_normal1;Nc.x=Gc.x,Nc.y=Gc.y;var _d=G.m_lowerLimit,ud=G.m_normal1;_d.x=ud.x,_d.y=ud.y;var Mu=G.m_lowerLimit;Mu.x=-Mu.x,Mu.y=-Mu.y;var Cd=G.m_upperLimit,_m=G.m_normal1;Cd.x=_m.x,Cd.y=_m.y;var ku=G.m_upperLimit;ku.x=-ku.x,ku.y=-ku.y}else{var _f=G.m_normal,_p=G.m_normal1;_f.x=_p.x,_f.y=_p.y;var Iu=G.m_normal;Iu.x=-Iu.x,Iu.y=-Iu.y;var Hp=G.m_lowerLimit,_g=G.m_normal1;Hp.x=_g.x,Hp.y=_g.y;var t1=G.m_upperLimit,e1=G.m_normal1;t1.x=e1.x,t1.y=e1.y}G.m_polygonB.count=n.m_vertexCount;for(var i1=0,s0=n.m_vertexCount;i1<s0;){var Du=i1++;this.multiplyTransformVector(G.m_xf,n.m_vertices[Du],G.temp);var s1=G.m_polygonB.vertices[Du],n1=G.temp;s1.x=n1.x,s1.y=n1.y,this.multiplyRotationVector(G.m_xf.R,n.m_normals[Du],G.temp);var r1=G.m_polygonB.normals[Du],o1=G.temp;r1.x=o1.x,r1.y=o1.y}if(this.m_radius=2*ca.b2_polygonRadius,e.m_pointCount=0,this.computeEdgeSeparation(G.edgeAxis),!(G.edgeAxis.type==Wh.UNKNOWN||G.edgeAxis.separation>this.m_radius||(this.computePolygonSeparation(G.polygonAxis),G.polygonAxis.type!=Wh.UNKNOWN&&G.polygonAxis.separation>this.m_radius))){var xu=G.polygonAxis.type==Wh.UNKNOWN?G.edgeAxis:G.polygonAxis.separation>.98*G.edgeAxis.separation+.001?G.polygonAxis:G.edgeAxis;if(xu.type==Wh.EDGE_A){e.m_type=2;for(var a1=0,l1=P.dot(G.m_normal,G.m_polygonB.normals[0]),_1=1,n0=G.m_polygonB.count;_1<n0;){var h1=_1++,u1=P.dot(G.m_normal,G.m_polygonB.normals[h1]);u1<l1&&(l1=u1,a1=h1)}var Cu=a1,c1=Cu+1<G.m_polygonB.count?Cu+1:0,d1=G.ie[0].v,m1=G.m_polygonB.vertices[Cu];d1.x=m1.x,d1.y=m1.y,G.ie[0].id.indexA=0,G.ie[0].id.indexB=Cu,G.ie[0].id.typeA=Q.FACE,G.ie[0].id.typeB=Q.VERTEX;var f1=G.ie[1].v,p1=G.m_polygonB.vertices[c1];if(f1.x=p1.x,f1.y=p1.y,G.ie[1].id.indexA=0,G.ie[1].id.indexB=c1,G.ie[1].id.typeA=Q.FACE,G.ie[1].id.typeB=Q.VERTEX,this.m_front){G.rf.i1=0,G.rf.i2=1;var g1=G.rf.v1,y1=this.m_v1;g1.x=y1.x,g1.y=y1.y;var x1=G.rf.v2,v1=this.m_v2;x1.x=v1.x,x1.y=v1.y;var w1=G.rf.normal,T1=G.m_normal1;w1.x=T1.x,w1.y=T1.y}else{G.rf.i1=1,G.rf.i2=0;var S1=G.rf.v1,P1=this.m_v2;S1.x=P1.x,S1.y=P1.y;var R1=G.rf.v2,E1=this.m_v1;R1.x=E1.x,R1.y=E1.y;var b1=G.rf.normal,A1=G.m_normal1;b1.x=A1.x,b1.y=A1.y;var Bu=G.rf.normal;Bu.x=-Bu.x,Bu.y=-Bu.y}}else{e.m_type=4;var M1=G.ie[0].v,k1=this.m_v1;M1.x=k1.x,M1.y=k1.y,G.ie[0].id.indexA=0,G.ie[0].id.indexB=xu.index,G.ie[0].id.typeA=Q.VERTEX,G.ie[0].id.typeB=Q.FACE;var I1=G.ie[1].v,D1=this.m_v2;I1.x=D1.x,I1.y=D1.y,G.ie[1].id.indexA=0,G.ie[1].id.indexB=xu.index,G.ie[1].id.typeA=Q.VERTEX,G.ie[1].id.typeB=Q.FACE,G.rf.i1=xu.index,G.rf.i2=G.rf.i1+1<G.m_polygonB.count?G.rf.i1+1:0;var C1=G.rf.v1,B1=G.m_polygonB.vertices[G.rf.i1];C1.x=B1.x,C1.y=B1.y;var F1=G.rf.v2,N1=G.m_polygonB.vertices[G.rf.i2];F1.x=N1.x,F1.y=N1.y;var L1=G.rf.normal,O1=G.m_polygonB.normals[G.rf.i1];L1.x=O1.x,L1.y=O1.y}var U1=G.rf.sideNormal1,Nu=G.rf.normal.y,Lu=-G.rf.normal.x;null==Lu&&(Lu=0),null==Nu&&(Nu=0),U1.x=Nu,U1.y=Lu;var V1=G.rf.sideNormal2,G1=G.rf.sideNormal1;V1.x=G1.x,V1.y=G1.y;var Fu=G.rf.sideNormal2;Fu.x=-Fu.x,Fu.y=-Fu.y,G.rf.sideOffset1=P.dot(G.rf.sideNormal1,G.rf.v1),G.rf.sideOffset2=P.dot(G.rf.sideNormal2,G.rf.v2);var Ou=G.clipSegmentToLine(G.clipPoints1,G.ie,G.rf.sideNormal1,G.rf.sideOffset1,G.rf.i1);if(!(Ou<ca.b2_maxManifoldPoints||(Ou=G.clipSegmentToLine(G.clipPoints2,G.clipPoints1,G.rf.sideNormal2,G.rf.sideOffset2,G.rf.i2),Ou<ca.b2_maxManifoldPoints))){if(xu.type==Wh.EDGE_A){var W1=e.m_localPlaneNormal,H1=G.rf.normal;W1.x=H1.x,W1.y=H1.y;var Y1=e.m_localPoint,j1=G.rf.v1;Y1.x=j1.x,Y1.y=j1.y}else{var z1=e.m_localPlaneNormal,X1=n.m_normals[G.rf.i1];z1.x=X1.x,z1.y=X1.y;var Z1=e.m_localPoint,q1=n.m_vertices[G.rf.i1];Z1.x=q1.x,Z1.y=q1.y}for(var Uu=0,K1=0,r0=ca.b2_maxManifoldPoints;K1<r0;){var mu=K1++,J1=G.temp,Q1=G.clipPoints2[mu].v;if(J1.x=Q1.x,J1.y=Q1.y,G.temp.subtract(G.rf.v1),P.dot(G.rf.normal,G.temp)<=this.m_radius){var yu=e.m_points[Uu];if(xu.type==Wh.EDGE_A){var $1=yu.m_localPoint,t0=P.mulXT(G.m_xf,G.clipPoints2[mu].v);$1.x=t0.x,$1.y=t0.y,yu.m_id.set(G.clipPoints2[mu].id)}else{var e0=yu.m_localPoint,i0=G.clipPoints2[mu].v;e0.x=i0.x,e0.y=i0.y,yu.m_id.typeA=G.clipPoints2[mu].id.typeB,yu.m_id.typeB=G.clipPoints2[mu].id.typeA,yu.m_id.indexA=G.clipPoints2[mu].id.indexB,yu.m_id.indexB=G.clipPoints2[mu].id.indexA}++Uu}}e.m_pointCount=Uu}}},computeEdgeSeparation:function(e){e.type=Wh.EDGE_A,e.index=this.m_front?0:1,e.separation=Number.MAX_VALUE;for(var i=0,s=G.m_polygonB.count;i<s;){var n=i++,o=G.temp;o.x=(n=G.m_polygonB.vertices[n]).x,o.y=n.y,G.temp.subtract(this.m_v1),(o=P.dot(G.m_normal,G.temp))<e.separation&&(e.separation=o)}},computePolygonSeparation:function(e){e.type=Wh.UNKNOWN,e.index=-1,e.separation=-Number.MAX_VALUE;var i=G.perp,s=-G.m_normal.y,n=G.m_normal.x;for(null==n&&(n=0),null==s&&(s=0),i.x=s,i.y=n,i=0,s=G.m_polygonB.count;i<s;){n=i++;var o=G.n,l=G.m_polygonB.normals[n];o.x=l.x,o.y=l.y,(o=G.n).x=-o.x,o.y=-o.y,(o=G.temp).x=(l=G.m_polygonB.vertices[n]).x,o.y=l.y,G.temp.subtract(this.m_v1),o=P.dot(G.n,G.temp);var _=G.m_polygonB.vertices[n];if((l=G.temp).x=_.x,l.y=_.y,G.temp.subtract(this.m_v2),l=P.dot(G.n,G.temp),(o=Math.min(o,l))>this.m_radius){e.type=Wh.EDGE_B,e.index=n,e.separation=o;break}0<=P.dot(G.n,G.perp)?((l=G.temp).x=(_=G.n).x,l.y=_.y,G.temp.subtract(G.m_upperLimit)):((l=G.temp).x=(_=G.n).x,l.y=_.y,G.temp.subtract(G.m_lowerLimit)),!(P.dot(G.temp,G.m_normal)<-ca.b2_angularSlop)&&o>e.separation&&(e.type=Wh.EDGE_B,e.index=n,e.separation=o)}},multiplyTransformsInverse:function(e,i,s){this.multiplyRotationsInverse(e.R,i.R,G.mat);var n=G.temp2;n.x=(i=i.position).x,n.y=i.y,G.temp2.subtract(e.position),this.multiplyRotationVectorInverse(e.R,G.temp2,s.position),(e=s.R.col1).x=(n=G.mat.col1).x,e.y=n.y,(s=s.R.col2).x=(e=G.mat.col2).x,s.y=e.y},multiplyRotationsInverse:function(e,i,s){s.col1.x=e.col1.x*i.col1.x+e.col1.y*i.col1.y,s.col1.y=e.col2.x*i.col1.x+e.col2.y*i.col1.y,s.col2.x=e.col1.x*i.col2.x+e.col1.y*i.col2.y,s.col2.y=e.col2.x*i.col2.x+e.col2.y*i.col2.y},multiplyRotationVector:function(e,i,s){s.x=e.col1.x*i.x+e.col2.x*i.y,s.y=e.col1.y*i.x+e.col2.y*i.y},multiplyRotationVectorInverse:function(e,i,s){s.x=e.col1.x*i.x+e.col1.y*i.y,s.y=e.col2.x*i.x+e.col2.y*i.y},multiplyTransformVector:function(e,i,s){s.x=e.R.col1.x*i.x+e.R.col2.x*i.y+e.position.x,s.y=e.R.col1.y*i.x+e.R.col2.y*i.y+e.position.y},__class__:G});var Wh=C["box2D.dynamics.contacts.Type"]={__ename__:"box2D.dynamics.contacts.Type",__constructs__:["UNKNOWN","EDGE_A","EDGE_B"],UNKNOWN:{_hx_index:0,__enum__:"box2D.dynamics.contacts.Type",toString:v},EDGE_A:{_hx_index:1,__enum__:"box2D.dynamics.contacts.Type",toString:v},EDGE_B:{_hx_index:2,__enum__:"box2D.dynamics.contacts.Type",toString:v}},Uh=function(){fb.call(this)};k["box2D.dynamics.contacts.B2PolygonContact"]=Uh,Uh.__name__="box2D.dynamics.contacts.B2PolygonContact",Uh.create=function(e){return new Uh},Uh.destroy=function(e,i){},Uh.__super__=fb,Uh.prototype=x(fb.prototype,{reset:function(e,i){fb.prototype.reset.call(this,e,i)},evaluate:function(){var e=this.m_fixtureA.getBody(),i=this.m_fixtureB.getBody();L.collidePolygons(this.m_manifold,T.__cast(this.m_fixtureA.getShape(),Jb),e.m_xf,T.__cast(this.m_fixtureB.getShape(),Jb),i.m_xf)},__class__:Uh});var Zr=function(){};k["box2D.dynamics.controllers.B2Controller"]=Zr,Zr.__name__="box2D.dynamics.controllers.B2Controller",Zr.prototype={step:function(e){},draw:function(e){},addBody:function(e){var i=new Sp;i.controller=this,i.body=e,i.nextBody=this.m_bodyList,i.prevBody=null,this.m_bodyList=i,null!=i.nextBody&&(i.nextBody.prevBody=i),this.m_bodyCount++,i.nextController=e.m_controllerList,i.prevController=null,e.m_controllerList=i,null!=i.nextController&&(i.nextController.prevController=i),e.m_controllerCount++},removeBody:function(e){for(var i=e.m_controllerList;null!=i&&i.controller!=this;)i=i.nextController;null!=i.prevBody&&(i.prevBody.nextBody=i.nextBody),null!=i.nextBody&&(i.nextBody.prevBody=i.prevBody),null!=i.nextController&&(i.nextController.prevController=i.prevController),null!=i.prevController&&(i.prevController.nextController=i.nextController),this.m_bodyList==i&&(this.m_bodyList=i.nextBody),e.m_controllerList==i&&(e.m_controllerList=i.nextController),e.m_controllerCount--,this.m_bodyCount--},clear:function(){for(;null!=this.m_bodyList;)this.removeBody(this.m_bodyList.body)},getNext:function(){return this.m_next},getWorld:function(){return this.m_world},getBodyList:function(){return this.m_bodyList},m_next:null,m_prev:null,m_bodyList:null,m_bodyCount:null,m_world:null,__class__:Zr};var Sp=function(){};k["box2D.dynamics.controllers.B2ControllerEdge"]=Sp,Sp.__name__="box2D.dynamics.controllers.B2ControllerEdge",Sp.prototype={controller:null,body:null,prevBody:null,nextBody:null,prevController:null,nextController:null,__class__:Sp};var Zb=function(e){this.m_edgeA=new tm,this.m_edgeB=new tm,this.m_localCenterA=new K,this.m_localCenterB=new K,ca.b2Assert(e.bodyA!=e.bodyB),this.m_type=e.type,this.m_next=this.m_prev=null,this.m_bodyA=e.bodyA,this.m_bodyB=e.bodyB,this.m_collideConnected=e.collideConnected,this.m_islandFlag=!1,this.m_userData=e.userData};k["box2D.dynamics.joints.B2Joint"]=Zb,Zb.__name__="box2D.dynamics.joints.B2Joint",Zb.create=function(e,i){return i=null,3==e.type?i=new mj(T.__cast(e,Ci)):5==e.type?i=new um(T.__cast(e,vm)):2==e.type?i=new nj(T.__cast(e,wm)):1==e.type?i=new Bg(T.__cast(e,Di)):4==e.type?i=new Ug(T.__cast(e,xm)):6==e.type?i=new ym(T.__cast(e,zm)):7==e.type?i=new Ok(T.__cast(e,Ei)):8==e.type?i=new Am(T.__cast(e,Bm)):9==e.type&&(i=new Cm(T.__cast(e,Dm))),i},Zb.destroy=function(e,i){},Zb.prototype={getType:function(){return this.m_type},getAnchorA:function(){return null},getAnchorB:function(){return null},getReactionForce:function(e){return null},getReactionTorque:function(e){return 0},getBodyA:function(){return this.m_bodyA},getBodyB:function(){return this.m_bodyB},getNext:function(){return this.m_next},getUserData:function(){return this.m_userData},setUserData:function(e){this.m_userData=e},isActive:function(){return!!this.m_bodyA.isActive()&&this.m_bodyB.isActive()},initVelocityConstraints:function(e){},solveVelocityConstraints:function(e){},finalizeVelocityConstraints:function(){},solvePositionConstraints:function(e){return!1},m_type:null,m_prev:null,m_next:null,m_edgeA:null,m_edgeB:null,m_bodyA:null,m_bodyB:null,m_islandFlag:null,m_collideConnected:null,m_userData:null,m_localCenterA:null,m_localCenterB:null,m_invMassA:null,m_invMassB:null,m_invIA:null,m_invIB:null,ID:null,__class__:Zb};var mj=function(e){Zb.call(this,e),this.m_localAnchor1=new K,this.m_localAnchor2=new K,this.m_u=new K;var i=this.m_localAnchor1,s=e.localAnchorA;i.x=s.x,i.y=s.y,(i=this.m_localAnchor2).x=(s=e.localAnchorB).x,i.y=s.y,this.m_length=e.length,this.m_frequencyHz=e.frequencyHz,this.m_dampingRatio=e.dampingRatio,this.m_bias=this.m_gamma=this.m_impulse=0};k["box2D.dynamics.joints.B2DistanceJoint"]=mj,mj.__name__="box2D.dynamics.joints.B2DistanceJoint",mj.__super__=Zb,mj.prototype=x(Zb.prototype,{getAnchorA:function(){return this.m_bodyA.getWorldPoint(this.m_localAnchor1)},getAnchorB:function(){return this.m_bodyB.getWorldPoint(this.m_localAnchor2)},getReactionForce:function(e){return new K(e*this.m_impulse*this.m_u.x,e*this.m_impulse*this.m_u.y)},getReactionTorque:function(e){return 0},getLength:function(){return this.m_length},setLength:function(e){this.m_length=e},getFrequency:function(){return this.m_frequencyHz},setFrequency:function(e){this.m_frequencyHz=e},getDampingRatio:function(){return this.m_dampingRatio},setDampingRatio:function(e){this.m_dampingRatio=e},initVelocityConstraints:function(e){var i=this.m_bodyA,s=this.m_bodyB,n=i.m_xf.R,o=this.m_localAnchor1.x-i.m_sweep.localCenter.x,l=this.m_localAnchor1.y-i.m_sweep.localCenter.y,_=n.col1.x*o+n.col2.x*l;l=n.col1.y*o+n.col2.y*l,o=_;var h=this.m_localAnchor2.x-s.m_sweep.localCenter.x,m=this.m_localAnchor2.y-s.m_sweep.localCenter.y;_=(n=s.m_xf.R).col1.x*h+n.col2.x*m,m=n.col1.y*h+n.col2.y*m,this.m_u.x=s.m_sweep.c.x+(h=_)-i.m_sweep.c.x-o,this.m_u.y=s.m_sweep.c.y+m-i.m_sweep.c.y-l,(n=Math.sqrt(this.m_u.x*this.m_u.x+this.m_u.y*this.m_u.y))>ca.b2_linearSlop?this.m_u.multiply(1/n):((_=this.m_u).x=0,_.y=0);var f=h*this.m_u.y-m*this.m_u.x;if(this.m_mass=0!=(_=i.m_invMass+i.m_invI*(_=o*this.m_u.y-l*this.m_u.x)*_+s.m_invMass+s.m_invI*f*f)?1/_:0,0<this.m_frequencyHz){n-=this.m_length,f=2*Math.PI*this.m_frequencyHz;var y=this.m_mass*f*f;this.m_gamma=e.dt*(2*this.m_mass*this.m_dampingRatio*f+e.dt*y),this.m_gamma=0!=this.m_gamma?1/this.m_gamma:0,this.m_bias=n*e.dt*y*this.m_gamma,this.m_mass=_+this.m_gamma,this.m_mass=0!=this.m_mass?1/this.m_mass:0}e.warmStarting?(this.m_impulse*=e.dtRatio,n=this.m_impulse*this.m_u.y,i.m_linearVelocity.x-=i.m_invMass*(e=this.m_impulse*this.m_u.x),i.m_linearVelocity.y-=i.m_invMass*n,i.m_angularVelocity-=i.m_invI*(o*n-l*e),s.m_linearVelocity.x+=s.m_invMass*e,s.m_linearVelocity.y+=s.m_invMass*n,s.m_angularVelocity+=s.m_invI*(h*n-m*e)):this.m_impulse=0},solveVelocityConstraints:function(e){var i=this.m_bodyB,s=(e=this.m_bodyA).m_xf.R,n=this.m_localAnchor1.x-e.m_sweep.localCenter.x,o=this.m_localAnchor1.y-e.m_sweep.localCenter.y,l=s.col1.x*n+s.col2.x*o;o=s.col1.y*n+s.col2.y*o,n=l;var _=this.m_localAnchor2.x-i.m_sweep.localCenter.x,h=this.m_localAnchor2.y-i.m_sweep.localCenter.y;l=(s=i.m_xf.R).col1.x*_+s.col2.x*h,this.m_impulse+=l=-this.m_mass*(this.m_u.x*(i.m_linearVelocity.x+-i.m_angularVelocity*(h=s.col1.y*_+s.col2.y*h)-(e.m_linearVelocity.x+-e.m_angularVelocity*o))+this.m_u.y*(i.m_linearVelocity.y+i.m_angularVelocity*(_=l)-(e.m_linearVelocity.y+e.m_angularVelocity*n))+this.m_bias+this.m_gamma*this.m_impulse),s=l*this.m_u.x,l*=this.m_u.y,e.m_linearVelocity.x-=e.m_invMass*s,e.m_linearVelocity.y-=e.m_invMass*l,e.m_angularVelocity-=e.m_invI*(n*l-o*s),i.m_linearVelocity.x+=i.m_invMass*s,i.m_linearVelocity.y+=i.m_invMass*l,i.m_angularVelocity+=i.m_invI*(_*l-h*s)},solvePositionConstraints:function(e){if(0<this.m_frequencyHz)return!0;var i=this.m_bodyB,s=(e=this.m_bodyA).m_xf.R,n=this.m_localAnchor1.x-e.m_sweep.localCenter.x,o=this.m_localAnchor1.y-e.m_sweep.localCenter.y,l=s.col1.x*n+s.col2.x*o;o=s.col1.y*n+s.col2.y*o,n=l;var _=this.m_localAnchor2.x-i.m_sweep.localCenter.x,h=this.m_localAnchor2.y-i.m_sweep.localCenter.y;l=(s=i.m_xf.R).col1.x*_+s.col2.x*h,h=s.col1.y*_+s.col2.y*h;var m=i.m_sweep.c.x+(_=l)-e.m_sweep.c.x-n,f=i.m_sweep.c.y+h-e.m_sweep.c.y-o;m/=s=Math.sqrt(m*m+f*f),f/=s,s=P.clamp(s-=this.m_length,-ca.b2_maxLinearCorrection,ca.b2_maxLinearCorrection),l=-this.m_mass*s;var y=this.m_u;return null==f&&(f=0),null==m&&(m=0),y.x=m,y.y=f,f=l*this.m_u.x,l*=this.m_u.y,e.m_sweep.c.x-=e.m_invMass*f,e.m_sweep.c.y-=e.m_invMass*l,e.m_sweep.a-=e.m_invI*(n*l-o*f),i.m_sweep.c.x+=i.m_invMass*f,i.m_sweep.c.y+=i.m_invMass*l,i.m_sweep.a+=i.m_invI*(_*l-h*f),e.synchronizeTransform(),i.synchronizeTransform(),P.abs(s)<ca.b2_linearSlop},m_localAnchor1:null,m_localAnchor2:null,m_u:null,m_frequencyHz:null,m_dampingRatio:null,m_gamma:null,m_bias:null,m_impulse:null,m_mass:null,m_length:null,__class__:mj});var jd=function(){this.type=0,this.bodyB=this.bodyA=this.userData=null,this.collideConnected=!1};k["box2D.dynamics.joints.B2JointDef"]=jd,jd.__name__="box2D.dynamics.joints.B2JointDef",jd.prototype={type:null,userData:null,bodyA:null,bodyB:null,collideConnected:null,ID:null,actor1:null,actor2:null,__class__:jd};var Ci=function(){jd.call(this),this.localAnchorA=new K,this.localAnchorB=new K,this.type=3,this.length=1,this.dampingRatio=this.frequencyHz=0};k["box2D.dynamics.joints.B2DistanceJointDef"]=Ci,Ci.__name__="box2D.dynamics.joints.B2DistanceJointDef",Ci.__super__=jd,Ci.prototype=x(jd.prototype,{initialize:function(e,i,s,n){this.bodyA=e,this.bodyB=i,e=this.localAnchorA,i=this.bodyA.getLocalPoint(s),e.x=i.x,e.y=i.y,e=this.localAnchorB,i=this.bodyB.getLocalPoint(n),e.x=i.x,e.y=i.y,e=n.x-s.x,s=n.y-s.y,this.length=Math.sqrt(e*e+s*s),this.dampingRatio=this.frequencyHz=0},localAnchorA:null,localAnchorB:null,length:null,frequencyHz:null,dampingRatio:null,__class__:Ci});var Cm=function(e){Zb.call(this,e),this.m_localAnchorA=new K,this.m_localAnchorB=new K,this.m_linearMass=new Oc,this.m_linearImpulse=new K;var i=this.m_localAnchorA,s=e.localAnchorA;i.x=s.x,i.y=s.y,(i=this.m_localAnchorB).x=(s=e.localAnchorB).x,i.y=s.y,this.m_linearMass.setZero(),this.m_angularMass=0,(i=this.m_linearImpulse).x=0,this.m_angularImpulse=i.y=0,this.m_maxForce=e.maxForce,this.m_maxTorque=e.maxTorque};k["box2D.dynamics.joints.B2FrictionJoint"]=Cm,Cm.__name__="box2D.dynamics.joints.B2FrictionJoint",Cm.__super__=Zb,Cm.prototype=x(Zb.prototype,{getAnchorA:function(){return this.m_bodyA.getWorldPoint(this.m_localAnchorA)},getAnchorB:function(){return this.m_bodyB.getWorldPoint(this.m_localAnchorB)},getReactionForce:function(e){return new K(e*this.m_linearImpulse.x,e*this.m_linearImpulse.y)},getReactionTorque:function(e){return e*this.m_angularImpulse},setMaxForce:function(e){this.m_maxForce=e},getMaxForce:function(){return this.m_maxForce},setMaxTorque:function(e){this.m_maxTorque=e},getMaxTorque:function(){return this.m_maxTorque},initVelocityConstraints:function(e){var i=this.m_bodyA,s=this.m_bodyB,n=i.m_xf.R,o=this.m_localAnchorA.x-i.m_sweep.localCenter.x,l=this.m_localAnchorA.y-i.m_sweep.localCenter.y,_=n.col1.x*o+n.col2.x*l;l=n.col1.y*o+n.col2.y*l,o=_;var h=this.m_localAnchorB.x-s.m_sweep.localCenter.x,m=this.m_localAnchorB.y-s.m_sweep.localCenter.y;_=(n=s.m_xf.R).col1.x*h+n.col2.x*m,m=n.col1.y*h+n.col2.y*m,h=_,n=i.m_invMass,_=s.m_invMass;var f=i.m_invI,y=s.m_invI,g=new Oc;g.col1.x=n+_,g.col2.x=0,g.col1.y=0,g.col2.y=n+_,g.col1.x+=f*l*l,g.col2.x+=-f*o*l,g.col1.y+=-f*o*l,g.col2.y+=f*o*o,g.col1.x+=y*m*m,g.col2.x+=-y*h*m,g.col1.y+=-y*h*m,g.col2.y+=y*h*h,g.getInverse(this.m_linearMass),this.m_angularMass=f+y,0<this.m_angularMass&&(this.m_angularMass=1/this.m_angularMass),e.warmStarting?(this.m_linearImpulse.x*=e.dtRatio,this.m_linearImpulse.y*=e.dtRatio,this.m_angularImpulse*=e.dtRatio,i.m_linearVelocity.x-=n*(e=this.m_linearImpulse).x,i.m_linearVelocity.y-=n*e.y,i.m_angularVelocity-=f*(o*e.y-l*e.x+this.m_angularImpulse),s.m_linearVelocity.x+=_*e.x,s.m_linearVelocity.y+=_*e.y,s.m_angularVelocity+=y*(h*e.y-m*e.x+this.m_angularImpulse)):((i=this.m_linearImpulse).x=0,this.m_angularImpulse=i.y=0)},solveVelocityConstraints:function(e){var i=this.m_bodyA,s=this.m_bodyB,n=i.m_linearVelocity,o=i.m_angularVelocity,l=s.m_linearVelocity,_=s.m_angularVelocity,h=i.m_invMass,m=s.m_invMass,f=i.m_invI,y=s.m_invI,g=i.m_xf.R,j=this.m_localAnchorA.x-i.m_sweep.localCenter.x,$=this.m_localAnchorA.y-i.m_sweep.localCenter.y,yt=g.col1.x*j+g.col2.x*$;$=g.col1.y*j+g.col2.y*$,j=yt;var _t=this.m_localAnchorB.x-s.m_sweep.localCenter.x,xt=this.m_localAnchorB.y-s.m_sweep.localCenter.y;yt=(g=s.m_xf.R).col1.x*_t+g.col2.x*xt,xt=g.col1.y*_t+g.col2.y*xt,_t=yt;var Tt=this.m_angularImpulse;this.m_angularImpulse=P.clamp(this.m_angularImpulse+(yt=-this.m_angularMass*(_-o)),-(g=e.dt*this.m_maxTorque),g),g=P.mulMV(this.m_linearMass,new K(-(l.x-(_+=y*(yt=this.m_angularImpulse-Tt))*xt-n.x+(o-=f*yt)*$),-(l.y+_*_t-n.y-o*j))),yt=this.m_linearImpulse.copy(),this.m_linearImpulse.add(g),g=e.dt*this.m_maxForce,this.m_linearImpulse.lengthSquared()>g*g&&(this.m_linearImpulse.normalize(),this.m_linearImpulse.multiply(g)),g=P.subtractVV(this.m_linearImpulse,yt),n.x-=h*g.x,n.y-=h*g.y,o-=f*(j*g.y-$*g.x),l.x+=m*g.x,l.y+=m*g.y,_+=y*(_t*g.y-xt*g.x),i.m_angularVelocity=o,s.m_angularVelocity=_},solvePositionConstraints:function(e){return!0},m_localAnchorA:null,m_localAnchorB:null,m_linearMass:null,m_angularMass:null,m_linearImpulse:null,m_angularImpulse:null,m_maxForce:null,m_maxTorque:null,__class__:Cm});var Dm=function(){jd.call(this),this.localAnchorA=new K,this.localAnchorB=new K,this.type=9,this.maxTorque=this.maxForce=0};k["box2D.dynamics.joints.B2FrictionJointDef"]=Dm,Dm.__name__="box2D.dynamics.joints.B2FrictionJointDef",Dm.__super__=jd,Dm.prototype=x(jd.prototype,{initialize:function(e,i,s){this.bodyA=e,this.bodyB=i,e=this.localAnchorA,i=this.bodyA.getLocalPoint(s),e.x=i.x,e.y=i.y,e=this.localAnchorB,s=this.bodyB.getLocalPoint(s),e.x=s.x,e.y=s.y},localAnchorA:null,localAnchorB:null,maxForce:null,maxTorque:null,__class__:Dm});var ym=function(e){Zb.call(this,e),this.m_groundAnchor1=new K,this.m_groundAnchor2=new K,this.m_localAnchor1=new K,this.m_localAnchor2=new K,this.m_J=new Tp;var i=e.joint1.m_type,s=e.joint2.m_type;if(this.m_prismatic2=this.m_revolute2=this.m_prismatic1=this.m_revolute1=null,this.m_ground1=e.joint1.getBodyA(),this.m_bodyA=e.joint1.getBodyB(),1==i){this.m_revolute1=T.__cast(e.joint1,Bg);var n=this.m_revolute1.m_localAnchor1;(i=this.m_groundAnchor1).x=n.x,i.y=n.y,(i=this.m_localAnchor1).x=(n=this.m_revolute1.m_localAnchor2).x,i.y=n.y,i=this.m_revolute1.getJointAngle()}else this.m_prismatic1=T.__cast(e.joint1,nj),(i=this.m_groundAnchor1).x=(n=this.m_prismatic1.m_localAnchor1).x,i.y=n.y,(i=this.m_localAnchor1).x=(n=this.m_prismatic1.m_localAnchor2).x,i.y=n.y,i=this.m_prismatic1.getJointTranslation();this.m_ground2=e.joint2.getBodyA(),this.m_bodyB=e.joint2.getBodyB(),1==s?(this.m_revolute2=T.__cast(e.joint2,Bg),(s=this.m_groundAnchor2).x=(n=this.m_revolute2.m_localAnchor1).x,s.y=n.y,(s=this.m_localAnchor2).x=(n=this.m_revolute2.m_localAnchor2).x,s.y=n.y,s=this.m_revolute2.getJointAngle()):(this.m_prismatic2=T.__cast(e.joint2,nj),(s=this.m_groundAnchor2).x=(n=this.m_prismatic2.m_localAnchor1).x,s.y=n.y,(s=this.m_localAnchor2).x=(n=this.m_prismatic2.m_localAnchor2).x,s.y=n.y,s=this.m_prismatic2.getJointTranslation()),this.m_ratio=e.ratio,this.m_constant=i+this.m_ratio*s,this.m_impulse=0};k["box2D.dynamics.joints.B2GearJoint"]=ym,ym.__name__="box2D.dynamics.joints.B2GearJoint",ym.__super__=Zb,ym.prototype=x(Zb.prototype,{getAnchorA:function(){return this.m_bodyA.getWorldPoint(this.m_localAnchor1)},getAnchorB:function(){return this.m_bodyB.getWorldPoint(this.m_localAnchor2)},getReactionForce:function(e){return new K(e*this.m_impulse*this.m_J.linearB.x,e*this.m_impulse*this.m_J.linearB.y)},getReactionTorque:function(e){var i=this.m_bodyB.m_xf.R,s=this.m_localAnchor1.x-this.m_bodyB.m_sweep.localCenter.x,n=this.m_localAnchor1.y-this.m_bodyB.m_sweep.localCenter.y;return e*(this.m_impulse*this.m_J.angularB-(i.col1.x*s+i.col2.x*n)*this.m_impulse*this.m_J.linearB.y+(n=i.col1.y*s+i.col2.y*n)*this.m_impulse*this.m_J.linearB.x)},getRatio:function(){return this.m_ratio},setRatio:function(e){this.m_ratio=e},initVelocityConstraints:function(e){var i=this.m_ground1,s=this.m_ground2,n=this.m_bodyA,o=this.m_bodyB,l=0;if(this.m_J.setZero(),null!=this.m_revolute1)this.m_J.angularA=-1,l+=n.m_invI;else{var _=i.m_xf.R,h=_.col1.x*(i=this.m_prismatic1.m_localXAxis1).x+_.col2.x*i.y;i=_.col1.y*i.x+_.col2.y*i.y;var m=this.m_localAnchor1.x-n.m_sweep.localCenter.x,f=this.m_localAnchor1.y-n.m_sweep.localCenter.y,y=(_=n.m_xf.R).col1.x*m+_.col2.x*f;_=y*i-(f=_.col1.y*m+_.col2.y*f)*h,null==(i=-i)&&(i=0),null==(h=-h)&&(h=0),(m=this.m_J.linearA).x=h,m.y=i,this.m_J.angularA=-_,l+=n.m_invMass+n.m_invI*_*_}null!=this.m_revolute2?(this.m_J.angularB=-this.m_ratio,l+=this.m_ratio*this.m_ratio*o.m_invI):(h=(_=s.m_xf.R).col1.x*(i=this.m_prismatic2.m_localXAxis1).x+_.col2.x*i.y,i=_.col1.y*i.x+_.col2.y*i.y,_=(y=(_=o.m_xf.R).col1.x*(m=this.m_localAnchor2.x-o.m_sweep.localCenter.x)+_.col2.x*(f=this.m_localAnchor2.y-o.m_sweep.localCenter.y))*i-(f=_.col1.y*m+_.col2.y*f)*h,null==(i*=-this.m_ratio)&&(i=0),null==(h*=-this.m_ratio)&&(h=0),(s=this.m_J.linearB).x=h,s.y=i,this.m_J.angularB=-this.m_ratio*_,l+=this.m_ratio*this.m_ratio*(o.m_invMass+o.m_invI*_*_)),this.m_mass=0<l?1/l:0,e.warmStarting?(n.m_linearVelocity.x+=n.m_invMass*this.m_impulse*this.m_J.linearA.x,n.m_linearVelocity.y+=n.m_invMass*this.m_impulse*this.m_J.linearA.y,n.m_angularVelocity+=n.m_invI*this.m_impulse*this.m_J.angularA,o.m_linearVelocity.x+=o.m_invMass*this.m_impulse*this.m_J.linearB.x,o.m_linearVelocity.y+=o.m_invMass*this.m_impulse*this.m_J.linearB.y,o.m_angularVelocity+=o.m_invI*this.m_impulse*this.m_J.angularB):this.m_impulse=0},solveVelocityConstraints:function(e){var i=this.m_bodyB,s=this.m_J.compute((e=this.m_bodyA).m_linearVelocity,e.m_angularVelocity,i.m_linearVelocity,i.m_angularVelocity);this.m_impulse+=s*=-this.m_mass,e.m_linearVelocity.x+=e.m_invMass*s*this.m_J.linearA.x,e.m_linearVelocity.y+=e.m_invMass*s*this.m_J.linearA.y,e.m_angularVelocity+=e.m_invI*s*this.m_J.angularA,i.m_linearVelocity.x+=i.m_invMass*s*this.m_J.linearB.x,i.m_linearVelocity.y+=i.m_invMass*s*this.m_J.linearB.y,i.m_angularVelocity+=i.m_invI*s*this.m_J.angularB},solvePositionConstraints:function(e){e=this.m_bodyA;var i=this.m_bodyB,s=null!=this.m_revolute1?this.m_revolute1.getJointAngle():this.m_prismatic1.getJointTranslation(),n=null!=this.m_revolute2?this.m_revolute2.getJointAngle():this.m_prismatic2.getJointTranslation();return e.m_sweep.c.x+=e.m_invMass*(s=-this.m_mass*(this.m_constant-(s+this.m_ratio*n)))*this.m_J.linearA.x,e.m_sweep.c.y+=e.m_invMass*s*this.m_J.linearA.y,e.m_sweep.a+=e.m_invI*s*this.m_J.angularA,i.m_sweep.c.x+=i.m_invMass*s*this.m_J.linearB.x,i.m_sweep.c.y+=i.m_invMass*s*this.m_J.linearB.y,i.m_sweep.a+=i.m_invI*s*this.m_J.angularB,e.synchronizeTransform(),i.synchronizeTransform(),0<ca.b2_linearSlop},m_ground1:null,m_ground2:null,m_revolute1:null,m_prismatic1:null,m_revolute2:null,m_prismatic2:null,m_groundAnchor1:null,m_groundAnchor2:null,m_localAnchor1:null,m_localAnchor2:null,m_J:null,m_constant:null,m_ratio:null,m_mass:null,m_impulse:null,__class__:ym});var zm=function(){jd.call(this),this.type=6,this.joint2=this.joint1=null,this.ratio=1};k["box2D.dynamics.joints.B2GearJointDef"]=zm,zm.__name__="box2D.dynamics.joints.B2GearJointDef",zm.__super__=jd,zm.prototype=x(jd.prototype,{joint1:null,joint2:null,ratio:null,__class__:zm});var Tp=function(){this.linearA=new K,this.linearB=new K};k["box2D.dynamics.joints.B2Jacobian"]=Tp,Tp.__name__="box2D.dynamics.joints.B2Jacobian",Tp.prototype={linearA:null,angularA:null,linearB:null,angularB:null,setZero:function(){var e=this.linearA;e.x=0,this.angularA=e.y=0,(e=this.linearB).x=0,this.angularB=e.y=0},set:function(e,i,s,n){var o=this.linearA;o.x=e.x,o.y=e.y,this.angularA=i,(e=this.linearB).x=s.x,e.y=s.y,this.angularB=n},compute:function(e,i,s,n){return this.linearA.x*e.x+this.linearA.y*e.y+this.angularA*i+(this.linearB.x*s.x+this.linearB.y*s.y)+this.angularB*n},__class__:Tp};var tm=function(){};k["box2D.dynamics.joints.B2JointEdge"]=tm,tm.__name__="box2D.dynamics.joints.B2JointEdge",tm.prototype={other:null,joint:null,prev:null,next:null,__class__:tm};var Ok=function(e){Zb.call(this,e),this.m_localAnchor1=new K,this.m_localAnchor2=new K,this.m_localXAxis1=new K,this.m_localYAxis1=new K,this.m_axis=new K,this.m_perp=new K,this.m_K=new Oc,this.m_impulse=new K;var i=this.m_localAnchor1,s=e.localAnchorA;i.x=s.x,i.y=s.y,(i=this.m_localAnchor2).x=(s=e.localAnchorB).x,i.y=s.y,(i=this.m_localXAxis1).x=(s=e.localAxisA).x,i.y=s.y,this.m_localYAxis1.x=-this.m_localXAxis1.y,this.m_localYAxis1.y=this.m_localXAxis1.x,(i=this.m_impulse).x=0,this.m_motorImpulse=this.m_motorMass=i.y=0,this.m_lowerTranslation=e.lowerTranslation,this.m_upperTranslation=e.upperTranslation,this.m_maxMotorForce=e.maxMotorForce,this.m_motorSpeed=e.motorSpeed,this.m_enableLimit=e.enableLimit,this.m_enableMotor=e.enableMotor,this.m_limitState=0,(e=this.m_axis).x=0,e.y=0,(e=this.m_perp).x=0,e.y=0};k["box2D.dynamics.joints.B2LineJoint"]=Ok,Ok.__name__="box2D.dynamics.joints.B2LineJoint",Ok.__super__=Zb,Ok.prototype=x(Zb.prototype,{getAnchorA:function(){return this.m_bodyA.getWorldPoint(this.m_localAnchor1)},getAnchorB:function(){return this.m_bodyB.getWorldPoint(this.m_localAnchor2)},getReactionForce:function(e){return new K(e*(this.m_impulse.x*this.m_perp.x+(this.m_motorImpulse+this.m_impulse.y)*this.m_axis.x),e*(this.m_impulse.x*this.m_perp.y+(this.m_motorImpulse+this.m_impulse.y)*this.m_axis.y))},getReactionTorque:function(e){return e*this.m_impulse.y},getJointTranslation:function(){var e=this.m_bodyA,i=this.m_bodyB,s=e.getWorldPoint(this.m_localAnchor1),n=i.getWorldPoint(this.m_localAnchor2);return i=n.x-s.x,s=n.y-s.y,(e=e.getWorldVector(this.m_localXAxis1)).x*i+e.y*s},getJointSpeed:function(){var e=this.m_bodyA,i=this.m_bodyB,s=e.m_xf.R,n=this.m_localAnchor1.x-e.m_sweep.localCenter.x,o=this.m_localAnchor1.y-e.m_sweep.localCenter.y,l=s.col1.x*n+s.col2.x*o;o=s.col1.y*n+s.col2.y*o,n=l;var _=this.m_localAnchor2.x-i.m_sweep.localCenter.x,h=this.m_localAnchor2.y-i.m_sweep.localCenter.y;l=(s=i.m_xf.R).col1.x*_+s.col2.x*h,h=s.col1.y*_+s.col2.y*h,s=i.m_sweep.c.x+(_=l)-(e.m_sweep.c.x+n),l=i.m_sweep.c.y+h-(e.m_sweep.c.y+o);var m=e.getWorldVector(this.m_localXAxis1),f=e.m_linearVelocity,y=i.m_linearVelocity;return s*-(e=e.m_angularVelocity)*m.y+l*e*m.x+(m.x*(y.x+-(i=i.m_angularVelocity)*h-f.x- -e*o)+m.y*(y.y+i*_-f.y-e*n))},isLimitEnabled:function(){return this.m_enableLimit},enableLimit:function(e){this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_enableLimit=e},getLowerLimit:function(){return this.m_lowerTranslation},getUpperLimit:function(){return this.m_upperTranslation},setLimits:function(e,i){this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_lowerTranslation=e,this.m_upperTranslation=i},isMotorEnabled:function(){return this.m_enableMotor},enableMotor:function(e){this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_enableMotor=e},setMotorSpeed:function(e){this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_motorSpeed=e},getMotorSpeed:function(){return this.m_motorSpeed},setMaxMotorForce:function(e){this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_maxMotorForce=e},getMaxMotorForce:function(){return this.m_maxMotorForce},getMotorForce:function(){return this.m_motorImpulse},initVelocityConstraints:function(e){var i=this.m_bodyA,s=this.m_bodyB,n=this.m_localCenterA,o=i.getLocalCenter();n.x=o.x,n.y=o.y,n=this.m_localCenterB,o=s.getLocalCenter(),n.x=o.x,n.y=o.y;var l=i.getTransform();s.getTransform();var _=this.m_localAnchor1.x-this.m_localCenterA.x,h=this.m_localAnchor1.y-this.m_localCenterA.y;o=(n=i.m_xf.R).col1.x*_+n.col2.x*h,h=n.col1.y*_+n.col2.y*h,_=o;var m=this.m_localAnchor2.x-this.m_localCenterB.x,f=this.m_localAnchor2.y-this.m_localCenterB.y;o=(n=s.m_xf.R).col1.x*m+n.col2.x*f,f=n.col1.y*m+n.col2.y*f,n=s.m_sweep.c.x+(m=o)-i.m_sweep.c.x-_,o=s.m_sweep.c.y+f-i.m_sweep.c.y-h,this.m_invMassA=i.m_invMass,this.m_invMassB=s.m_invMass,this.m_invIA=i.m_invI,this.m_invIB=s.m_invI;var y=this.m_axis,g=P.mulMV(l.R,this.m_localXAxis1);y.x=g.x,y.y=g.y,this.m_a1=(n+_)*this.m_axis.y-(o+h)*this.m_axis.x,this.m_a2=m*this.m_axis.y-f*this.m_axis.x,this.m_motorMass=this.m_invMassA+this.m_invMassB+this.m_invIA*this.m_a1*this.m_a1+this.m_invIB*this.m_a2*this.m_a2,this.m_motorMass=this.m_motorMass>Number.MIN_VALUE?1/this.m_motorMass:0,y=this.m_perp,l=P.mulMV(l.R,this.m_localYAxis1),y.x=l.x,y.y=l.y,this.m_s1=(n+_)*this.m_perp.y-(o+h)*this.m_perp.x,this.m_s2=m*this.m_perp.y-f*this.m_perp.x,this.m_K.col1.x=(_=this.m_invMassA)+(h=this.m_invMassB)+(m=this.m_invIA)*this.m_s1*this.m_s1+(f=this.m_invIB)*this.m_s2*this.m_s2,this.m_K.col1.y=m*this.m_s1*this.m_a1+f*this.m_s2*this.m_a2,this.m_K.col2.x=this.m_K.col1.y,this.m_K.col2.y=_+h+m*this.m_a1*this.m_a1+f*this.m_a2*this.m_a2,this.m_enableLimit?(n=this.m_axis.x*n+this.m_axis.y*o,P.abs(this.m_upperTranslation-this.m_lowerTranslation)<2*ca.b2_linearSlop?this.m_limitState=3:n<=this.m_lowerTranslation?1!=this.m_limitState&&(this.m_limitState=1,this.m_impulse.y=0):n>=this.m_upperTranslation?2!=this.m_limitState&&(this.m_limitState=2,this.m_impulse.y=0):(this.m_limitState=0,this.m_impulse.y=0)):this.m_limitState=0,0==this.m_enableMotor&&(this.m_motorImpulse=0),e.warmStarting?(this.m_impulse.x*=e.dtRatio,this.m_impulse.y*=e.dtRatio,this.m_motorImpulse*=e.dtRatio,n=this.m_impulse.x*this.m_perp.y+(this.m_motorImpulse+this.m_impulse.y)*this.m_axis.y,o=this.m_impulse.x*this.m_s1+(this.m_motorImpulse+this.m_impulse.y)*this.m_a1,_=this.m_impulse.x*this.m_s2+(this.m_motorImpulse+this.m_impulse.y)*this.m_a2,i.m_linearVelocity.x-=this.m_invMassA*(e=this.m_impulse.x*this.m_perp.x+(this.m_motorImpulse+this.m_impulse.y)*this.m_axis.x),i.m_linearVelocity.y-=this.m_invMassA*n,i.m_angularVelocity-=this.m_invIA*o,s.m_linearVelocity.x+=this.m_invMassB*e,s.m_linearVelocity.y+=this.m_invMassB*n,s.m_angularVelocity+=this.m_invIB*_):((i=this.m_impulse).x=0,this.m_motorImpulse=i.y=0)},solveVelocityConstraints:function(e){var i=this.m_bodyA,s=this.m_bodyB,n=i.m_linearVelocity,o=i.m_angularVelocity,l=s.m_linearVelocity,_=s.m_angularVelocity;if(this.m_enableMotor&&3!=this.m_limitState){var h=this.m_motorMass*(this.m_motorSpeed-(this.m_axis.x*(l.x-n.x)+this.m_axis.y*(l.y-n.y)+this.m_a2*_-this.m_a1*o)),m=this.m_motorImpulse;this.m_motorImpulse=P.clamp(this.m_motorImpulse+h,-(e=e.dt*this.m_maxMotorForce),e),m=(h=this.m_motorImpulse-m)*this.m_axis.x,e=h*this.m_axis.y;var f=h*this.m_a1;h*=this.m_a2,n.x-=this.m_invMassA*m,n.y-=this.m_invMassA*e,o-=this.m_invIA*f,l.x+=this.m_invMassB*m,l.y+=this.m_invMassB*e,_+=this.m_invIB*h}e=this.m_perp.x*(l.x-n.x)+this.m_perp.y*(l.y-n.y)+this.m_s2*_-this.m_s1*o,this.m_enableLimit&&0!=this.m_limitState?(f=this.m_axis.x*(l.x-n.x)+this.m_axis.y*(l.y-n.y)+this.m_a2*_-this.m_a1*o,m=this.m_impulse.copy(),h=this.m_K.solve(new K,-e,-f),this.m_impulse.add(h),1==this.m_limitState?this.m_impulse.y=P.max(this.m_impulse.y,0):2==this.m_limitState&&(this.m_impulse.y=P.min(this.m_impulse.y,0)),e=-e-(this.m_impulse.y-m.y)*this.m_K.col2.x,this.m_impulse.x=0!=this.m_K.col1.x?e/this.m_K.col1.x+m.x:m.x,h.x=this.m_impulse.x-m.x,h.y=this.m_impulse.y-m.y,m=h.x*this.m_perp.x+h.y*this.m_axis.x,e=h.x*this.m_perp.y+h.y*this.m_axis.y,f=h.x*this.m_s1+h.y*this.m_a1,h=h.x*this.m_s2+h.y*this.m_a2):(this.m_impulse.x+=h=0!=this.m_K.col1.x?-e/this.m_K.col1.x:0,m=h*this.m_perp.x,e=h*this.m_perp.y,f=h*this.m_s1,h*=this.m_s2),n.x-=this.m_invMassA*m,n.y-=this.m_invMassA*e,o-=this.m_invIA*f,l.x+=this.m_invMassB*m,l.y+=this.m_invMassB*e,_+=this.m_invIB*h,(m=i.m_linearVelocity).x=n.x,m.y=n.y,i.m_angularVelocity=o,(i=s.m_linearVelocity).x=l.x,i.y=l.y,s.m_angularVelocity=_},solvePositionConstraints:function(e){var i=this.m_bodyB,s=(e=this.m_bodyA).m_sweep.c,n=e.m_sweep.a,o=i.m_sweep.c,l=i.m_sweep.a,_=0,h=!1,m=0,f=Oc.fromAngle(n),y=Oc.fromAngle(l),g=f,j=this.m_localAnchor1.x-this.m_localCenterA.x,$=this.m_localAnchor1.y-this.m_localCenterA.y,yt=g.col1.x*j+g.col2.x*$;$=g.col1.y*j+g.col2.y*$,j=yt;var _t=this.m_localAnchor2.y-this.m_localCenterB.y;if(yt=(g=y).col1.x*(y=this.m_localAnchor2.x-this.m_localCenterB.x)+g.col2.x*_t,_t=g.col1.y*y+g.col2.y*_t,g=o.x+(y=yt)-s.x-j,yt=o.y+_t-s.y-$,this.m_enableLimit){this.m_axis=P.mulMV(f,this.m_localXAxis1),this.m_a1=(g+j)*this.m_axis.y-(yt+$)*this.m_axis.x,this.m_a2=y*this.m_axis.y-_t*this.m_axis.x;var xt=this.m_axis.x*g+this.m_axis.y*yt;P.abs(this.m_upperTranslation-this.m_lowerTranslation)<2*ca.b2_linearSlop?(m=P.clamp(xt,-ca.b2_maxLinearCorrection,ca.b2_maxLinearCorrection),_=P.abs(xt),h=!0):xt<=this.m_lowerTranslation?(m=P.clamp(xt-this.m_lowerTranslation+ca.b2_linearSlop,-ca.b2_maxLinearCorrection,0),_=this.m_lowerTranslation-xt,h=!0):xt>=this.m_upperTranslation&&(m=P.clamp(xt-this.m_upperTranslation+ca.b2_linearSlop,0,ca.b2_maxLinearCorrection),_=xt-this.m_upperTranslation,h=!0)}return this.m_perp=P.mulMV(f,this.m_localYAxis1),this.m_s1=(g+j)*this.m_perp.y-(yt+$)*this.m_perp.x,this.m_s2=y*this.m_perp.y-_t*this.m_perp.x,f=new K,_=P.max(_,P.abs(j=this.m_perp.x*g+this.m_perp.y*yt)),h?(this.m_K.col1.x=(h=this.m_invMassA)+($=this.m_invMassB)+(y=this.m_invIA)*this.m_s1*this.m_s1+(_t=this.m_invIB)*this.m_s2*this.m_s2,this.m_K.col1.y=y*this.m_s1*this.m_a1+_t*this.m_s2*this.m_a2,this.m_K.col2.x=this.m_K.col1.y,this.m_K.col2.y=h+$+y*this.m_a1*this.m_a1+_t*this.m_a2*this.m_a2,this.m_K.solve(f,-j,-m)):(f.x=0!=(m=(h=this.m_invMassA)+($=this.m_invMassB)+(y=this.m_invIA)*this.m_s1*this.m_s1+(_t=this.m_invIB)*this.m_s2*this.m_s2)?-j/m:0,f.y=0),m=f.x*this.m_perp.x+f.y*this.m_axis.x,h=f.x*this.m_perp.y+f.y*this.m_axis.y,j=f.x*this.m_s1+f.y*this.m_a1,f=f.x*this.m_s2+f.y*this.m_a2,s.x-=this.m_invMassA*m,s.y-=this.m_invMassA*h,n-=this.m_invIA*j,o.x+=this.m_invMassB*m,o.y+=this.m_invMassB*h,l+=this.m_invIB*f,e.m_sweep.a=n,i.m_sweep.a=l,e.synchronizeTransform(),i.synchronizeTransform(),_<=ca.b2_linearSlop&&0<=ca.b2_angularSlop},m_localAnchor1:null,m_localAnchor2:null,m_localXAxis1:null,m_localYAxis1:null,m_axis:null,m_perp:null,m_s1:null,m_s2:null,m_a1:null,m_a2:null,m_K:null,m_impulse:null,m_motorMass:null,m_motorImpulse:null,m_lowerTranslation:null,m_upperTranslation:null,m_maxMotorForce:null,m_motorSpeed:null,m_enableLimit:null,m_enableMotor:null,m_limitState:null,__class__:Ok});var Ei=function(){jd.call(this),this.localAnchorA=new K,this.localAnchorB=new K,this.localAxisA=new K,this.type=7;var e=this.localAxisA,i=1,s=0;null==s&&(s=0),null==i&&(i=0),e.x=i,e.y=s,this.enableLimit=!1,this.upperTranslation=this.lowerTranslation=0,this.enableMotor=!1,this.motorSpeed=this.maxMotorForce=0};k["box2D.dynamics.joints.B2LineJointDef"]=Ei,Ei.__name__="box2D.dynamics.joints.B2LineJointDef",Ei.__super__=jd,Ei.prototype=x(jd.prototype,{initialize:function(e,i,s,n){this.bodyA=e,this.bodyB=i,this.localAnchorA=this.bodyA.getLocalPoint(s),this.localAnchorB=this.bodyB.getLocalPoint(s),this.localAxisA=this.bodyA.getLocalVector(n)},localAnchorA:null,localAnchorB:null,localAxisA:null,enableLimit:null,lowerTranslation:null,upperTranslation:null,enableMotor:null,maxMotorForce:null,motorSpeed:null,__class__:Ei});var um=function(e){Zb.call(this,e),this.K=new Oc,this.K1=new Oc,this.K2=new Oc,this.m_localAnchor=new K,this.m_target=new K,this.m_impulse=new K,this.m_mass=new Oc,this.m_C=new K;var i=this.m_target,s=e.target;i.x=s.x,i.y=s.y;var n=this.m_bodyB.m_xf.R;this.m_localAnchor.x=(i=this.m_target.x-this.m_bodyB.m_xf.position.x)*n.col1.x+(s=this.m_target.y-this.m_bodyB.m_xf.position.y)*n.col1.y,this.m_localAnchor.y=i*n.col2.x+s*n.col2.y,this.m_maxForce=e.maxForce,(i=this.m_impulse).x=0,i.y=0,this.m_frequencyHz=e.frequencyHz,this.m_dampingRatio=e.dampingRatio,this.m_gamma=this.m_beta=0};k["box2D.dynamics.joints.B2MouseJoint"]=um,um.__name__="box2D.dynamics.joints.B2MouseJoint",um.__super__=Zb,um.prototype=x(Zb.prototype,{getAnchorA:function(){return this.m_target},getAnchorB:function(){return this.m_bodyB.getWorldPoint(this.m_localAnchor)},getReactionForce:function(e){return new K(e*this.m_impulse.x,e*this.m_impulse.y)},getReactionTorque:function(e){return 0},getTarget:function(){return this.m_target},setTarget:function(e){0==this.m_bodyB.isAwake()&&this.m_bodyB.setAwake(!0),this.m_target=e},getMaxForce:function(){return this.m_maxForce},setMaxForce:function(e){this.m_maxForce=e},getFrequency:function(){return this.m_frequencyHz},setFrequency:function(e){this.m_frequencyHz=e},getDampingRatio:function(){return this.m_dampingRatio},setDampingRatio:function(e){this.m_dampingRatio=e},K:null,K1:null,K2:null,initVelocityConstraints:function(e){var i=this.m_bodyB,s=i.getMass(),n=2*Math.PI*this.m_frequencyHz,o=s*n*n;this.m_gamma=e.dt*(2*s*this.m_dampingRatio*n+e.dt*o),this.m_gamma=0!=this.m_gamma?1/this.m_gamma:0,this.m_beta=e.dt*o*this.m_gamma;var l=(o=i.m_xf.R).col1.x*(s=this.m_localAnchor.x-i.m_sweep.localCenter.x)+o.col2.x*(n=this.m_localAnchor.y-i.m_sweep.localCenter.y);n=o.col1.y*s+o.col2.y*n,s=l,l=i.m_invI,this.K1.col1.x=o=i.m_invMass,this.K1.col2.x=0,this.K1.col1.y=0,this.K1.col2.y=o,this.K2.col1.x=l*n*n,this.K2.col2.x=-l*s*n,this.K2.col1.y=-l*s*n,this.K2.col2.y=l*s*s,this.K.setM(this.K1),this.K.addM(this.K2),this.K.col1.x+=this.m_gamma,this.K.col2.y+=this.m_gamma,this.K.getInverse(this.m_mass),this.m_C.x=i.m_sweep.c.x+s-this.m_target.x,this.m_C.y=i.m_sweep.c.y+n-this.m_target.y,i.m_angularVelocity*=.98,this.m_impulse.x*=e.dtRatio,this.m_impulse.y*=e.dtRatio,i.m_linearVelocity.x+=o*this.m_impulse.x,i.m_linearVelocity.y+=o*this.m_impulse.y,i.m_angularVelocity+=l*(s*this.m_impulse.y-n*this.m_impulse.x)},solveVelocityConstraints:function(e){var i=this.m_bodyB,s=i.m_xf.R,n=this.m_localAnchor.x-i.m_sweep.localCenter.x,o=this.m_localAnchor.y-i.m_sweep.localCenter.y,l=s.col1.x*n+s.col2.x*o;o=s.col1.y*n+s.col2.y*o;var _=i.m_linearVelocity.y+i.m_angularVelocity*(n=l),h=_+this.m_beta*this.m_C.y+this.m_gamma*this.m_impulse.y;_=-((s=this.m_mass).col1.x*(l=(l=i.m_linearVelocity.x+-i.m_angularVelocity*o)+this.m_beta*this.m_C.x+this.m_gamma*this.m_impulse.x)+s.col2.x*h),h=-(s.col1.y*l+s.col2.y*h),s=this.m_impulse.x,l=this.m_impulse.y,this.m_impulse.x+=_,this.m_impulse.y+=h,e=e.dt*this.m_maxForce,this.m_impulse.lengthSquared()>e*e&&this.m_impulse.multiply(e/this.m_impulse.length()),h=this.m_impulse.y-l,i.m_linearVelocity.x+=i.m_invMass*(_=this.m_impulse.x-s),i.m_linearVelocity.y+=i.m_invMass*h,i.m_angularVelocity+=i.m_invI*(n*h-o*_)},solvePositionConstraints:function(e){return!0},m_localAnchor:null,m_target:null,m_impulse:null,m_mass:null,m_C:null,m_maxForce:null,m_frequencyHz:null,m_dampingRatio:null,m_beta:null,m_gamma:null,__class__:um});var vm=function(){jd.call(this),this.target=new K,this.type=5,this.maxForce=0,this.frequencyHz=5,this.dampingRatio=.7};k["box2D.dynamics.joints.B2MouseJointDef"]=vm,vm.__name__="box2D.dynamics.joints.B2MouseJointDef",vm.__super__=jd,vm.prototype=x(jd.prototype,{target:null,maxForce:null,frequencyHz:null,dampingRatio:null,__class__:vm});var nj=function(e){Zb.call(this,e),this.m_localAnchor1=new K,this.m_localAnchor2=new K,this.m_localXAxis1=new K,this.m_localYAxis1=new K,this.m_axis=new K,this.m_perp=new K,this.m_K=new Ai,this.m_impulse=new wf;var i=this.m_localAnchor1,s=e.localAnchorA;i.x=s.x,i.y=s.y,(i=this.m_localAnchor2).x=(s=e.localAnchorB).x,i.y=s.y,(i=this.m_localXAxis1).x=(s=e.localAxisA).x,i.y=s.y,this.m_localYAxis1.x=-this.m_localXAxis1.y,this.m_localYAxis1.y=this.m_localXAxis1.x,this.m_refAngle=e.referenceAngle,this.m_impulse.setZero(),this.m_motorImpulse=this.m_motorMass=0,this.m_lowerTranslation=e.lowerTranslation,this.m_upperTranslation=e.upperTranslation,this.m_maxMotorForce=e.maxMotorForce,this.m_motorSpeed=e.motorSpeed,this.m_enableLimit=e.enableLimit,this.m_enableMotor=e.enableMotor,this.m_limitState=0,(e=this.m_axis).x=0,e.y=0,(e=this.m_perp).x=0,e.y=0};k["box2D.dynamics.joints.B2PrismaticJoint"]=nj,nj.__name__="box2D.dynamics.joints.B2PrismaticJoint",nj.__super__=Zb,nj.prototype=x(Zb.prototype,{getAnchorA:function(){return this.m_bodyA.getWorldPoint(this.m_localAnchor1)},getAnchorB:function(){return this.m_bodyB.getWorldPoint(this.m_localAnchor2)},getReactionForce:function(e){return new K(e*(this.m_impulse.x*this.m_perp.x+(this.m_motorImpulse+this.m_impulse.z)*this.m_axis.x),e*(this.m_impulse.x*this.m_perp.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_axis.y))},getReactionTorque:function(e){return e*this.m_impulse.y},getJointTranslation:function(){var e=this.m_bodyA,i=this.m_bodyB,s=e.getWorldPoint(this.m_localAnchor1),n=i.getWorldPoint(this.m_localAnchor2);return i=n.x-s.x,s=n.y-s.y,(e=e.getWorldVector(this.m_localXAxis1)).x*i+e.y*s},getJointSpeed:function(){var e=this.m_bodyA,i=this.m_bodyB,s=e.m_xf.R,n=this.m_localAnchor1.x-e.m_sweep.localCenter.x,o=this.m_localAnchor1.y-e.m_sweep.localCenter.y,l=s.col1.x*n+s.col2.x*o;o=s.col1.y*n+s.col2.y*o,n=l;var _=this.m_localAnchor2.x-i.m_sweep.localCenter.x,h=this.m_localAnchor2.y-i.m_sweep.localCenter.y;l=(s=i.m_xf.R).col1.x*_+s.col2.x*h,h=s.col1.y*_+s.col2.y*h,s=i.m_sweep.c.x+(_=l)-(e.m_sweep.c.x+n),l=i.m_sweep.c.y+h-(e.m_sweep.c.y+o);var m=e.getWorldVector(this.m_localXAxis1),f=e.m_linearVelocity,y=i.m_linearVelocity;return s*-(e=e.m_angularVelocity)*m.y+l*e*m.x+(m.x*(y.x+-(i=i.m_angularVelocity)*h-f.x- -e*o)+m.y*(y.y+i*_-f.y-e*n))},isLimitEnabled:function(){return this.m_enableLimit},enableLimit:function(e){this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_enableLimit=e},getLowerLimit:function(){return this.m_lowerTranslation},getUpperLimit:function(){return this.m_upperTranslation},setLimits:function(e,i){this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_lowerTranslation=e,this.m_upperTranslation=i},isMotorEnabled:function(){return this.m_enableMotor},enableMotor:function(e){this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_enableMotor=e},setMotorSpeed:function(e){this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_motorSpeed=e},getMotorSpeed:function(){return this.m_motorSpeed},setMaxMotorForce:function(e){this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_maxMotorForce=e},getMotorForce:function(){return this.m_motorImpulse},initVelocityConstraints:function(e){var i=this.m_bodyA,s=this.m_bodyB,n=this.m_localCenterA,o=i.getLocalCenter();n.x=o.x,n.y=o.y,n=this.m_localCenterB,o=s.getLocalCenter(),n.x=o.x,n.y=o.y;var l=i.getTransform();s.getTransform();var _=this.m_localAnchor1.x-this.m_localCenterA.x,h=this.m_localAnchor1.y-this.m_localCenterA.y;o=(n=i.m_xf.R).col1.x*_+n.col2.x*h,h=n.col1.y*_+n.col2.y*h,_=o;var m=this.m_localAnchor2.x-this.m_localCenterB.x,f=this.m_localAnchor2.y-this.m_localCenterB.y;o=(n=s.m_xf.R).col1.x*m+n.col2.x*f,f=n.col1.y*m+n.col2.y*f,n=s.m_sweep.c.x+(m=o)-i.m_sweep.c.x-_,o=s.m_sweep.c.y+f-i.m_sweep.c.y-h,this.m_invMassA=i.m_invMass,this.m_invMassB=s.m_invMass,this.m_invIA=i.m_invI,this.m_invIB=s.m_invI;var y=this.m_axis,g=P.mulMV(l.R,this.m_localXAxis1);y.x=g.x,y.y=g.y,this.m_a1=(n+_)*this.m_axis.y-(o+h)*this.m_axis.x,this.m_a2=m*this.m_axis.y-f*this.m_axis.x,this.m_motorMass=this.m_invMassA+this.m_invMassB+this.m_invIA*this.m_a1*this.m_a1+this.m_invIB*this.m_a2*this.m_a2,this.m_motorMass>Number.MIN_VALUE&&(this.m_motorMass=1/this.m_motorMass),y=this.m_perp,l=P.mulMV(l.R,this.m_localYAxis1),y.x=l.x,y.y=l.y,this.m_s1=(n+_)*this.m_perp.y-(o+h)*this.m_perp.x,this.m_s2=m*this.m_perp.y-f*this.m_perp.x,this.m_K.col1.x=(_=this.m_invMassA)+(h=this.m_invMassB)+(m=this.m_invIA)*this.m_s1*this.m_s1+(f=this.m_invIB)*this.m_s2*this.m_s2,this.m_K.col1.y=m*this.m_s1+f*this.m_s2,this.m_K.col1.z=m*this.m_s1*this.m_a1+f*this.m_s2*this.m_a2,this.m_K.col2.x=this.m_K.col1.y,this.m_K.col2.y=m+f,this.m_K.col2.z=m*this.m_a1+f*this.m_a2,this.m_K.col3.x=this.m_K.col1.z,this.m_K.col3.y=this.m_K.col2.z,this.m_K.col3.z=_+h+m*this.m_a1*this.m_a1+f*this.m_a2*this.m_a2,this.m_enableLimit?(n=this.m_axis.x*n+this.m_axis.y*o,P.abs(this.m_upperTranslation-this.m_lowerTranslation)<2*ca.b2_linearSlop?this.m_limitState=3:n<=this.m_lowerTranslation?1!=this.m_limitState&&(this.m_limitState=1,this.m_impulse.z=0):n>=this.m_upperTranslation?2!=this.m_limitState&&(this.m_limitState=2,this.m_impulse.z=0):(this.m_limitState=0,this.m_impulse.z=0)):this.m_limitState=0,0==this.m_enableMotor&&(this.m_motorImpulse=0),e.warmStarting?(this.m_impulse.x*=e.dtRatio,this.m_impulse.y*=e.dtRatio,this.m_motorImpulse*=e.dtRatio,n=this.m_impulse.x*this.m_perp.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_axis.y,o=this.m_impulse.x*this.m_s1+this.m_impulse.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_a1,_=this.m_impulse.x*this.m_s2+this.m_impulse.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_a2,i.m_linearVelocity.x-=this.m_invMassA*(e=this.m_impulse.x*this.m_perp.x+(this.m_motorImpulse+this.m_impulse.z)*this.m_axis.x),i.m_linearVelocity.y-=this.m_invMassA*n,i.m_angularVelocity-=this.m_invIA*o,s.m_linearVelocity.x+=this.m_invMassB*e,s.m_linearVelocity.y+=this.m_invMassB*n,s.m_angularVelocity+=this.m_invIB*_):(this.m_impulse.setZero(),this.m_motorImpulse=0)},solveVelocityConstraints:function(e){var i=this.m_bodyA,s=this.m_bodyB,n=i.m_linearVelocity,o=i.m_angularVelocity,l=s.m_linearVelocity,_=s.m_angularVelocity;if(this.m_enableMotor&&3!=this.m_limitState){var h=this.m_motorMass*(this.m_motorSpeed-(this.m_axis.x*(l.x-n.x)+this.m_axis.y*(l.y-n.y)+this.m_a2*_-this.m_a1*o)),m=this.m_motorImpulse;this.m_motorImpulse=P.clamp(this.m_motorImpulse+h,-(e=e.dt*this.m_maxMotorForce),e),m=(h=this.m_motorImpulse-m)*this.m_axis.x,e=h*this.m_axis.y;var f=h*this.m_a1;h*=this.m_a2,n.x-=this.m_invMassA*m,n.y-=this.m_invMassA*e,o-=this.m_invIA*f,l.x+=this.m_invMassB*m,l.y+=this.m_invMassB*e,_+=this.m_invIB*h}f=this.m_perp.x*(l.x-n.x)+this.m_perp.y*(l.y-n.y)+this.m_s2*_-this.m_s1*o,e=_-o,this.m_enableLimit&&0!=this.m_limitState?(h=this.m_axis.x*(l.x-n.x)+this.m_axis.y*(l.y-n.y)+this.m_a2*_-this.m_a1*o,m=this.m_impulse.copy(),h=this.m_K.solve33(new wf,-f,-e,-h),this.m_impulse.add(h),1==this.m_limitState?this.m_impulse.z=P.max(this.m_impulse.z,0):2==this.m_limitState&&(this.m_impulse.z=P.min(this.m_impulse.z,0)),f=-f-(this.m_impulse.z-m.z)*this.m_K.col3.x,e=-e-(this.m_impulse.z-m.z)*this.m_K.col3.y,(e=this.m_K.solve22(new K,f,e)).x+=m.x,e.y+=m.y,this.m_impulse.x=e.x,this.m_impulse.y=e.y,h.x=this.m_impulse.x-m.x,h.y=this.m_impulse.y-m.y,h.z=this.m_impulse.z-m.z,m=h.x*this.m_perp.x+h.z*this.m_axis.x,e=h.x*this.m_perp.y+h.z*this.m_axis.y,f=h.x*this.m_s1+h.y+h.z*this.m_a1,h=h.x*this.m_s2+h.y+h.z*this.m_a2):(h=this.m_K.solve22(new K,-f,-e),this.m_impulse.x+=h.x,this.m_impulse.y+=h.y,m=h.x*this.m_perp.x,e=h.x*this.m_perp.y,f=h.x*this.m_s1+h.y,h=h.x*this.m_s2+h.y),n.x-=this.m_invMassA*m,n.y-=this.m_invMassA*e,o-=this.m_invIA*f,l.x+=this.m_invMassB*m,l.y+=this.m_invMassB*e,_+=this.m_invIB*h,(h=i.m_linearVelocity).x=n.x,h.y=n.y,i.m_angularVelocity=o,(i=s.m_linearVelocity).x=l.x,i.y=l.y,s.m_angularVelocity=_},solvePositionConstraints:function(e){var i=this.m_bodyB,s=(e=this.m_bodyA).m_sweep.c,n=e.m_sweep.a,o=i.m_sweep.c,l=i.m_sweep.a,_=0,h=!1,m=0,f=Oc.fromAngle(n),y=Oc.fromAngle(l),g=f,j=this.m_localAnchor1.x-this.m_localCenterA.x,$=this.m_localAnchor1.y-this.m_localCenterA.y,yt=g.col1.x*j+g.col2.x*$;$=g.col1.y*j+g.col2.y*$,j=yt;var _t=this.m_localAnchor2.y-this.m_localCenterB.y;if(yt=(g=y).col1.x*(y=this.m_localAnchor2.x-this.m_localCenterB.x)+g.col2.x*_t,_t=g.col1.y*y+g.col2.y*_t,g=o.x+(y=yt)-s.x-j,yt=o.y+_t-s.y-$,this.m_enableLimit){this.m_axis=P.mulMV(f,this.m_localXAxis1),this.m_a1=(g+j)*this.m_axis.y-(yt+$)*this.m_axis.x,this.m_a2=y*this.m_axis.y-_t*this.m_axis.x;var xt=this.m_axis.x*g+this.m_axis.y*yt;P.abs(this.m_upperTranslation-this.m_lowerTranslation)<2*ca.b2_linearSlop?(m=P.clamp(xt,-ca.b2_maxLinearCorrection,ca.b2_maxLinearCorrection),_=P.abs(xt),h=!0):xt<=this.m_lowerTranslation?(m=P.clamp(xt-this.m_lowerTranslation+ca.b2_linearSlop,-ca.b2_maxLinearCorrection,0),_=this.m_lowerTranslation-xt,h=!0):xt>=this.m_upperTranslation&&(m=P.clamp(xt-this.m_upperTranslation+ca.b2_linearSlop,0,ca.b2_maxLinearCorrection),_=xt-this.m_upperTranslation,h=!0)}return this.m_perp=P.mulMV(f,this.m_localYAxis1),this.m_s1=(g+j)*this.m_perp.y-(yt+$)*this.m_perp.x,this.m_s2=y*this.m_perp.y-_t*this.m_perp.x,f=new wf,y=l-n-this.m_refAngle,_=P.max(_,P.abs($=this.m_perp.x*g+this.m_perp.y*yt)),j=P.abs(y),h?(this.m_K.col1.x=(h=this.m_invMassA)+(_t=this.m_invMassB)+(g=this.m_invIA)*this.m_s1*this.m_s1+(yt=this.m_invIB)*this.m_s2*this.m_s2,this.m_K.col1.y=g*this.m_s1+yt*this.m_s2,this.m_K.col1.z=g*this.m_s1*this.m_a1+yt*this.m_s2*this.m_a2,this.m_K.col2.x=this.m_K.col1.y,this.m_K.col2.y=g+yt,this.m_K.col2.z=g*this.m_a1+yt*this.m_a2,this.m_K.col3.x=this.m_K.col1.z,this.m_K.col3.y=this.m_K.col2.z,this.m_K.col3.z=h+_t+g*this.m_a1*this.m_a1+yt*this.m_a2*this.m_a2,this.m_K.solve33(f,-$,-y,-m)):(xt=(g=this.m_invIA)+(yt=this.m_invIB),this.m_K.col1.set((h=this.m_invMassA)+(_t=this.m_invMassB)+g*this.m_s1*this.m_s1+yt*this.m_s2*this.m_s2,m=g*this.m_s1+yt*this.m_s2,0),this.m_K.col2.set(m,xt,0),m=this.m_K.solve22(new K,-$,-y),f.x=m.x,f.y=m.y,f.z=0),m=f.x*this.m_perp.x+f.z*this.m_axis.x,h=f.x*this.m_perp.y+f.z*this.m_axis.y,$=f.x*this.m_s1+f.y+f.z*this.m_a1,f=f.x*this.m_s2+f.y+f.z*this.m_a2,s.x-=this.m_invMassA*m,s.y-=this.m_invMassA*h,n-=this.m_invIA*$,o.x+=this.m_invMassB*m,o.y+=this.m_invMassB*h,l+=this.m_invIB*f,e.m_sweep.a=n,i.m_sweep.a=l,e.synchronizeTransform(),i.synchronizeTransform(),_<=ca.b2_linearSlop&&j<=ca.b2_angularSlop},m_localAnchor1:null,m_localAnchor2:null,m_localXAxis1:null,m_localYAxis1:null,m_refAngle:null,m_axis:null,m_perp:null,m_s1:null,m_s2:null,m_a1:null,m_a2:null,m_K:null,m_impulse:null,m_motorMass:null,m_motorImpulse:null,m_lowerTranslation:null,m_upperTranslation:null,m_maxMotorForce:null,m_motorSpeed:null,m_enableLimit:null,m_enableMotor:null,m_limitState:null,__class__:nj});var wm=function(){jd.call(this),this.localAnchorA=new K,this.localAnchorB=new K,this.localAxisA=new K,this.type=2;var e=this.localAxisA,i=1,s=0;null==s&&(s=0),null==i&&(i=0),e.x=i,e.y=s,this.referenceAngle=0,this.enableLimit=!1,this.upperTranslation=this.lowerTranslation=0,this.enableMotor=!1,this.motorSpeed=this.maxMotorForce=0};k["box2D.dynamics.joints.B2PrismaticJointDef"]=wm,wm.__name__="box2D.dynamics.joints.B2PrismaticJointDef",wm.__super__=jd,wm.prototype=x(jd.prototype,{initialize:function(e,i,s,n){this.bodyA=e,this.bodyB=i,this.localAnchorA=this.bodyA.getLocalPoint(s),this.localAnchorB=this.bodyB.getLocalPoint(s),this.localAxisA=this.bodyA.getLocalVector(n),this.referenceAngle=this.bodyB.getAngle()-this.bodyA.getAngle()},localAnchorA:null,localAnchorB:null,localAxisA:null,referenceAngle:null,enableLimit:null,lowerTranslation:null,upperTranslation:null,enableMotor:null,maxMotorForce:null,motorSpeed:null,__class__:wm});var Ug=function(e){Zb.call(this,e),this.m_groundAnchor1=new K,this.m_groundAnchor2=new K,this.m_localAnchor1=new K,this.m_localAnchor2=new K,this.m_u1=new K,this.m_u2=new K,this.m_ground=this.m_bodyA.m_world.m_groundBody,this.m_groundAnchor1.x=e.groundAnchorA.x-this.m_ground.m_xf.position.x,this.m_groundAnchor1.y=e.groundAnchorA.y-this.m_ground.m_xf.position.y,this.m_groundAnchor2.x=e.groundAnchorB.x-this.m_ground.m_xf.position.x,this.m_groundAnchor2.y=e.groundAnchorB.y-this.m_ground.m_xf.position.y;var i=this.m_localAnchor1,s=e.localAnchorA;i.x=s.x,i.y=s.y,(i=this.m_localAnchor2).x=(s=e.localAnchorB).x,i.y=s.y,this.m_ratio=e.ratio,this.m_constant=e.lengthA+this.m_ratio*e.lengthB,this.m_maxLength1=P.min(e.maxLengthA,this.m_constant-this.m_ratio*Ug.b2_minPulleyLength),this.m_maxLength2=P.min(e.maxLengthB,(this.m_constant-Ug.b2_minPulleyLength)/this.m_ratio),this.m_limitImpulse2=this.m_limitImpulse1=this.m_impulse=0};k["box2D.dynamics.joints.B2PulleyJoint"]=Ug,Ug.__name__="box2D.dynamics.joints.B2PulleyJoint",Ug.__super__=Zb,Ug.prototype=x(Zb.prototype,{getAnchorA:function(){return this.m_bodyA.getWorldPoint(this.m_localAnchor1)},getAnchorB:function(){return this.m_bodyB.getWorldPoint(this.m_localAnchor2)},getReactionForce:function(e){return new K(e*this.m_impulse*this.m_u2.x,e*this.m_impulse*this.m_u2.y)},getReactionTorque:function(e){return 0},getGroundAnchorA:function(){var e=this.m_ground.m_xf.position.copy();return e.add(this.m_groundAnchor1),e},getGroundAnchorB:function(){var e=this.m_ground.m_xf.position.copy();return e.add(this.m_groundAnchor2),e},getLength1:function(){var e=this.m_bodyA.getWorldPoint(this.m_localAnchor1),i=e.x-(this.m_ground.m_xf.position.x+this.m_groundAnchor1.x);return e=e.y-(this.m_ground.m_xf.position.y+this.m_groundAnchor1.y),Math.sqrt(i*i+e*e)},getLength2:function(){var e=this.m_bodyB.getWorldPoint(this.m_localAnchor2),i=e.x-(this.m_ground.m_xf.position.x+this.m_groundAnchor2.x);return e=e.y-(this.m_ground.m_xf.position.y+this.m_groundAnchor2.y),Math.sqrt(i*i+e*e)},getRatio:function(){return this.m_ratio},initVelocityConstraints:function(e){var i=this.m_bodyA,s=this.m_bodyB,n=i.m_xf.R,o=this.m_localAnchor1.x-i.m_sweep.localCenter.x,l=this.m_localAnchor1.y-i.m_sweep.localCenter.y,_=n.col1.x*o+n.col2.x*l;l=n.col1.y*o+n.col2.y*l,o=_;var h=this.m_localAnchor2.x-s.m_sweep.localCenter.x,m=this.m_localAnchor2.y-s.m_sweep.localCenter.y;_=(n=s.m_xf.R).col1.x*h+n.col2.x*m,m=n.col1.y*h+n.col2.y*m;var f=s.m_sweep.c.x+(h=_);n=s.m_sweep.c.y+m;var y=this.m_ground.m_xf.position.x+this.m_groundAnchor2.x;_=this.m_ground.m_xf.position.y+this.m_groundAnchor2.y;var g=this.m_u1,j=i.m_sweep.c.x+o-(this.m_ground.m_xf.position.x+this.m_groundAnchor1.x),$=i.m_sweep.c.y+l-(this.m_ground.m_xf.position.y+this.m_groundAnchor1.y);null==$&&($=0),null==j&&(j=0),g.x=j,g.y=$,null==(n-=_)&&(n=0),null==(f-=y)&&(f=0),(g=this.m_u2).x=f,g.y=n,n=this.m_u1.length(),_=this.m_u2.length(),n>ca.b2_linearSlop?this.m_u1.multiply(1/n):((f=this.m_u1).x=0,f.y=0),_>ca.b2_linearSlop?this.m_u2.multiply(1/_):((f=this.m_u2).x=0,f.y=0),0<this.m_constant-n-this.m_ratio*_?this.m_impulse=this.m_state=0:this.m_state=2,n<this.m_maxLength1?this.m_limitImpulse1=this.m_limitState1=0:this.m_limitState1=2,_<this.m_maxLength2?this.m_limitImpulse2=this.m_limitState2=0:this.m_limitState2=2,_=h*this.m_u2.y-m*this.m_u2.x,this.m_limitMass1=i.m_invMass+i.m_invI*(n=o*this.m_u1.y-l*this.m_u1.x)*n,this.m_limitMass2=s.m_invMass+s.m_invI*_*_,this.m_pulleyMass=this.m_limitMass1+this.m_ratio*this.m_ratio*this.m_limitMass2,this.m_limitMass1=1/this.m_limitMass1,this.m_limitMass2=1/this.m_limitMass2,this.m_pulleyMass=1/this.m_pulleyMass,e.warmStarting?(this.m_impulse*=e.dtRatio,this.m_limitImpulse1*=e.dtRatio,this.m_limitImpulse2*=e.dtRatio,n=(-this.m_impulse-this.m_limitImpulse1)*this.m_u1.y,_=(-this.m_ratio*this.m_impulse-this.m_limitImpulse2)*this.m_u2.x,f=(-this.m_ratio*this.m_impulse-this.m_limitImpulse2)*this.m_u2.y,i.m_linearVelocity.x+=i.m_invMass*(e=(-this.m_impulse-this.m_limitImpulse1)*this.m_u1.x),i.m_linearVelocity.y+=i.m_invMass*n,i.m_angularVelocity+=i.m_invI*(o*n-l*e),s.m_linearVelocity.x+=s.m_invMass*_,s.m_linearVelocity.y+=s.m_invMass*f,s.m_angularVelocity+=s.m_invI*(h*f-m*_)):this.m_limitImpulse2=this.m_limitImpulse1=this.m_impulse=0},solveVelocityConstraints:function(e){var i=this.m_bodyB,s=(e=this.m_bodyA).m_xf.R,n=this.m_localAnchor1.x-e.m_sweep.localCenter.x,o=this.m_localAnchor1.y-e.m_sweep.localCenter.y,l=s.col1.x*n+s.col2.x*o;o=s.col1.y*n+s.col2.y*o,n=l;var _=this.m_localAnchor2.x-i.m_sweep.localCenter.x,h=this.m_localAnchor2.y-i.m_sweep.localCenter.y;if(l=(s=i.m_xf.R).col1.x*_+s.col2.x*h,h=s.col1.y*_+s.col2.y*h,_=l,2==this.m_state){var m=i.m_linearVelocity.x+-i.m_angularVelocity*h,f=i.m_linearVelocity.y+i.m_angularVelocity*_;f=this.m_pulleyMass*-(s=-(this.m_u1.x*(s=e.m_linearVelocity.x+-e.m_angularVelocity*o)+this.m_u1.y*(l=e.m_linearVelocity.y+e.m_angularVelocity*n))-this.m_ratio*(this.m_u2.x*m+this.m_u2.y*f)),s=this.m_impulse,this.m_impulse=P.max(0,this.m_impulse+f),s=-(f=this.m_impulse-s)*this.m_u1.x,l=-f*this.m_u1.y,m=-this.m_ratio*f*this.m_u2.x,f=-this.m_ratio*f*this.m_u2.y,e.m_linearVelocity.x+=e.m_invMass*s,e.m_linearVelocity.y+=e.m_invMass*l,e.m_angularVelocity+=e.m_invI*(n*l-o*s),i.m_linearVelocity.x+=i.m_invMass*m,i.m_linearVelocity.y+=i.m_invMass*f,i.m_angularVelocity+=i.m_invI*(_*f-h*m)}2==this.m_limitState1&&(f=-this.m_limitMass1*(s=-(this.m_u1.x*(s=e.m_linearVelocity.x+-e.m_angularVelocity*o)+this.m_u1.y*(l=e.m_linearVelocity.y+e.m_angularVelocity*n))),s=this.m_limitImpulse1,this.m_limitImpulse1=P.max(0,this.m_limitImpulse1+f),l=-(f=this.m_limitImpulse1-s)*this.m_u1.y,e.m_linearVelocity.x+=e.m_invMass*(s=-f*this.m_u1.x),e.m_linearVelocity.y+=e.m_invMass*l,e.m_angularVelocity+=e.m_invI*(n*l-o*s)),2==this.m_limitState2&&(f=-this.m_limitMass2*(s=-(this.m_u2.x*(m=i.m_linearVelocity.x+-i.m_angularVelocity*h)+this.m_u2.y*(f=i.m_linearVelocity.y+i.m_angularVelocity*_))),s=this.m_limitImpulse2,this.m_limitImpulse2=P.max(0,this.m_limitImpulse2+f),m=-(f=this.m_limitImpulse2-s)*this.m_u2.x,f=-f*this.m_u2.y,i.m_linearVelocity.x+=i.m_invMass*m,i.m_linearVelocity.y+=i.m_invMass*f,i.m_angularVelocity+=i.m_invI*(_*f-h*m))},solvePositionConstraints:function(e){var i=this.m_bodyA;e=this.m_bodyB;var s=this.m_ground.m_xf.position.x+this.m_groundAnchor1.x,n=this.m_ground.m_xf.position.y+this.m_groundAnchor1.y,o=this.m_ground.m_xf.position.x+this.m_groundAnchor2.x,l=this.m_ground.m_xf.position.y+this.m_groundAnchor2.y,_=0;if(2==this.m_state){var h=i.m_xf.R,m=this.m_localAnchor1.x-i.m_sweep.localCenter.x,f=this.m_localAnchor1.y-i.m_sweep.localCenter.y,y=h.col1.x*m+h.col2.x*f;f=h.col1.y*m+h.col2.y*f,m=y;var g=this.m_localAnchor2.x-e.m_sweep.localCenter.x,j=this.m_localAnchor2.y-e.m_sweep.localCenter.y;y=(h=e.m_xf.R).col1.x*g+h.col2.x*j,j=h.col1.y*g+h.col2.y*j;var $=i.m_sweep.c.x+m,yt=i.m_sweep.c.y+f;y=e.m_sweep.c.x+(g=y),h=e.m_sweep.c.y+j;var _t=this.m_u1;null==(yt-=n)&&(yt=0),null==($-=s)&&($=0),_t.x=$,_t.y=yt,null==(h-=l)&&(h=0),null==(y-=o)&&(y=0),(yt=this.m_u2).x=y,yt.y=h,h=this.m_u1.length(),y=this.m_u2.length(),h>ca.b2_linearSlop?this.m_u1.multiply(1/h):((yt=this.m_u1).x=0,yt.y=0),y>ca.b2_linearSlop?this.m_u2.multiply(1/y):((yt=this.m_u2).x=0,yt.y=0),_=P.max(_,-(h=this.m_constant-h-this.m_ratio*y)),h=P.clamp(h+ca.b2_linearSlop,-ca.b2_maxLinearCorrection,0),$=-(h*=-this.m_pulleyMass)*this.m_u1.x,yt=-h*this.m_u1.y,y=-this.m_ratio*h*this.m_u2.x,h=-this.m_ratio*h*this.m_u2.y,i.m_sweep.c.x+=i.m_invMass*$,i.m_sweep.c.y+=i.m_invMass*yt,i.m_sweep.a+=i.m_invI*(m*yt-f*$),e.m_sweep.c.x+=e.m_invMass*y,e.m_sweep.c.y+=e.m_invMass*h,e.m_sweep.a+=e.m_invI*(g*h-j*y),i.synchronizeTransform(),e.synchronizeTransform()}return 2==this.m_limitState1&&(y=(h=i.m_xf.R).col1.x*(m=this.m_localAnchor1.x-i.m_sweep.localCenter.x)+h.col2.x*(f=this.m_localAnchor1.y-i.m_sweep.localCenter.y),null==(n=(yt=i.m_sweep.c.y+(f=h.col1.y*m+h.col2.y*f))-n)&&(n=0),null==(j=($=i.m_sweep.c.x+(m=y))-s)&&(j=0),(g=this.m_u1).x=j,g.y=n,(h=this.m_u1.length())>ca.b2_linearSlop?(this.m_u1.x*=1/h,this.m_u1.y*=1/h):((g=this.m_u1).x=0,g.y=0),_=P.max(_,-(h=this.m_maxLength1-h)),h=P.clamp(h+ca.b2_linearSlop,-ca.b2_maxLinearCorrection,0),yt=-(h*=-this.m_limitMass1)*this.m_u1.y,i.m_sweep.c.x+=i.m_invMass*($=-h*this.m_u1.x),i.m_sweep.c.y+=i.m_invMass*yt,i.m_sweep.a+=i.m_invI*(m*yt-f*$),i.synchronizeTransform()),2==this.m_limitState2&&(y=(h=e.m_xf.R).col1.x*(g=this.m_localAnchor2.x-e.m_sweep.localCenter.x)+h.col2.x*(j=this.m_localAnchor2.y-e.m_sweep.localCenter.y),null==(l=(h=e.m_sweep.c.y+(j=h.col1.y*g+h.col2.y*j))-l)&&(l=0),null==(o=(y=e.m_sweep.c.x+(g=y))-o)&&(o=0),(i=this.m_u2).x=o,i.y=l,(y=this.m_u2.length())>ca.b2_linearSlop?(this.m_u2.x*=1/y,this.m_u2.y*=1/y):((l=this.m_u2).x=0,l.y=0),_=P.max(_,-(h=this.m_maxLength2-y)),h=P.clamp(h+ca.b2_linearSlop,-ca.b2_maxLinearCorrection,0),y=-(h*=-this.m_limitMass2)*this.m_u2.x,h=-h*this.m_u2.y,e.m_sweep.c.x+=e.m_invMass*y,e.m_sweep.c.y+=e.m_invMass*h,e.m_sweep.a+=e.m_invI*(g*h-j*y),e.synchronizeTransform()),_<ca.b2_linearSlop},m_ground:null,m_groundAnchor1:null,m_groundAnchor2:null,m_localAnchor1:null,m_localAnchor2:null,m_u1:null,m_u2:null,m_constant:null,m_ratio:null,m_maxLength1:null,m_maxLength2:null,m_pulleyMass:null,m_limitMass1:null,m_limitMass2:null,m_impulse:null,m_limitImpulse1:null,m_limitImpulse2:null,m_state:null,m_limitState1:null,m_limitState2:null,__class__:Ug});var xm=function(){jd.call(this),this.groundAnchorA=new K,this.groundAnchorB=new K,this.localAnchorA=new K,this.localAnchorB=new K,this.type=4;var e=this.groundAnchorA,i=-1,s=1;null==s&&(s=0),null==i&&(i=0),e.x=i,e.y=s,null==(s=i=1)&&(s=0),null==i&&(i=0),(e=this.groundAnchorB).x=i,e.y=s,null==(s=0)&&(s=0),null==(i=-1)&&(i=0),(e=this.localAnchorA).x=i,e.y=s,null==(s=0)&&(s=0),null==(i=1)&&(i=0),(e=this.localAnchorB).x=i,e.y=s,this.maxLengthB=this.lengthB=this.maxLengthA=this.lengthA=0,this.ratio=1,this.collideConnected=!0};k["box2D.dynamics.joints.B2PulleyJointDef"]=xm,xm.__name__="box2D.dynamics.joints.B2PulleyJointDef",xm.__super__=jd,xm.prototype=x(jd.prototype,{initialize:function(e,i,s,n,o,l,_){this.bodyA=e,this.bodyB=i,(e=this.groundAnchorA).x=s.x,e.y=s.y,(e=this.groundAnchorB).x=n.x,e.y=n.y,this.localAnchorA=this.bodyA.getLocalPoint(o),this.localAnchorB=this.bodyB.getLocalPoint(l),e=o.x-s.x,s=o.y-s.y,this.lengthA=Math.sqrt(e*e+s*s),s=l.x-n.x,n=l.y-n.y,this.lengthB=Math.sqrt(s*s+n*n),this.ratio=_,this.maxLengthA=(_=this.lengthA+this.ratio*this.lengthB)-this.ratio*Ug.b2_minPulleyLength,this.maxLengthB=(_-Ug.b2_minPulleyLength)/this.ratio},groundAnchorA:null,groundAnchorB:null,localAnchorA:null,localAnchorB:null,lengthA:null,maxLengthA:null,lengthB:null,maxLengthB:null,ratio:null,__class__:xm});var Bg=function(e){Zb.call(this,e),this.K=new Oc,this.K1=new Oc,this.K2=new Oc,this.K3=new Oc,this.impulse3=new wf,this.impulse2=new K,this.reduced=new K,this.m_localAnchor1=new K,this.m_localAnchor2=new K,this.m_impulse=new wf,this.m_mass=new Ai;var i=this.m_localAnchor1,s=e.localAnchorA;i.x=s.x,i.y=s.y,(i=this.m_localAnchor2).x=(s=e.localAnchorB).x,i.y=s.y,this.m_referenceAngle=e.referenceAngle,this.m_impulse.setZero(),this.m_motorImpulse=0,this.m_lowerAngle=e.lowerAngle,this.m_upperAngle=e.upperAngle,this.m_maxMotorTorque=e.maxMotorTorque,this.m_motorSpeed=e.motorSpeed,this.m_enableLimit=e.enableLimit,this.m_enableMotor=e.enableMotor,this.m_limitState=0};k["box2D.dynamics.joints.B2RevoluteJoint"]=Bg,Bg.__name__="box2D.dynamics.joints.B2RevoluteJoint",Bg.__super__=Zb,Bg.prototype=x(Zb.prototype,{getAnchorA:function(){return this.m_bodyA.getWorldPoint(this.m_localAnchor1)},getAnchorB:function(){return this.m_bodyB.getWorldPoint(this.m_localAnchor2)},getReactionForce:function(e){return new K(e*this.m_impulse.x,e*this.m_impulse.y)},getReactionTorque:function(e){return e*this.m_impulse.z},getJointAngle:function(){return this.m_bodyB.m_sweep.a-this.m_bodyA.m_sweep.a-this.m_referenceAngle},getJointSpeed:function(){return this.m_bodyB.m_angularVelocity-this.m_bodyA.m_angularVelocity},isLimitEnabled:function(){return this.m_enableLimit},enableLimit:function(e){this.m_enableLimit=e},getLowerLimit:function(){return this.m_lowerAngle},getUpperLimit:function(){return this.m_upperAngle},setLimits:function(e,i){this.m_lowerAngle=e,this.m_upperAngle=i},isMotorEnabled:function(){return this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_enableMotor},enableMotor:function(e){this.m_enableMotor=e},setMotorSpeed:function(e){this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_motorSpeed=e},getMotorSpeed:function(){return this.m_motorSpeed},setMaxMotorTorque:function(e){this.m_maxMotorTorque=e},getMotorTorque:function(){return this.m_maxMotorTorque},K:null,K1:null,K2:null,K3:null,initVelocityConstraints:function(e){var i=this.m_bodyA,s=this.m_bodyB,n=i.m_xf.R,o=this.m_localAnchor1.x-i.m_sweep.localCenter.x,l=this.m_localAnchor1.y-i.m_sweep.localCenter.y,_=n.col1.x*o+n.col2.x*l;l=n.col1.y*o+n.col2.y*l,o=_;var h=this.m_localAnchor2.x-s.m_sweep.localCenter.x,m=this.m_localAnchor2.y-s.m_sweep.localCenter.y;_=(n=s.m_xf.R).col1.x*h+n.col2.x*m,m=n.col1.y*h+n.col2.y*m,h=_;var f=i.m_invI,y=s.m_invI;if(this.m_mass.col1.x=(n=i.m_invMass)+(_=s.m_invMass)+l*l*f+m*m*y,this.m_mass.col2.x=-l*o*f-m*h*y,this.m_mass.col3.x=-l*f-m*y,this.m_mass.col1.y=this.m_mass.col2.x,this.m_mass.col2.y=n+_+o*o*f+h*h*y,this.m_mass.col3.y=o*f+h*y,this.m_mass.col1.z=this.m_mass.col3.x,this.m_mass.col2.z=this.m_mass.col3.y,this.m_mass.col3.z=f+y,this.m_motorMass=1/(f+y),0==this.m_enableMotor&&(this.m_motorImpulse=0),this.m_enableLimit){var g=s.m_sweep.a-i.m_sweep.a-this.m_referenceAngle;P.abs(this.m_upperAngle-this.m_lowerAngle)<2*ca.b2_angularSlop?this.m_limitState=3:g<=this.m_lowerAngle?(1!=this.m_limitState&&(this.m_impulse.z=0),this.m_limitState=1):g>=this.m_upperAngle?(2!=this.m_limitState&&(this.m_impulse.z=0),this.m_limitState=2):(this.m_limitState=0,this.m_impulse.z=0)}else this.m_limitState=0;e.warmStarting?(this.m_impulse.x*=e.dtRatio,this.m_impulse.y*=e.dtRatio,this.m_motorImpulse*=e.dtRatio,g=this.m_impulse.y,i.m_linearVelocity.x-=n*(e=this.m_impulse.x),i.m_linearVelocity.y-=n*g,i.m_angularVelocity-=f*(o*g-l*e+this.m_motorImpulse+this.m_impulse.z),s.m_linearVelocity.x+=_*e,s.m_linearVelocity.y+=_*g,s.m_angularVelocity+=y*(h*g-m*e+this.m_motorImpulse+this.m_impulse.z)):(this.m_impulse.setZero(),this.m_motorImpulse=0)},impulse3:null,impulse2:null,reduced:null,solveVelocityConstraints:function(e){var i=this.m_bodyA,s=this.m_bodyB,n=i.m_linearVelocity,o=i.m_angularVelocity,l=s.m_linearVelocity,_=s.m_angularVelocity,h=i.m_invMass,m=s.m_invMass,f=i.m_invI,y=s.m_invI;if(this.m_enableMotor&&3!=this.m_limitState){var g=this.m_motorMass*-(_-o-this.m_motorSpeed),j=this.m_motorImpulse;this.m_motorImpulse=P.clamp(this.m_motorImpulse+g,-(e=e.dt*this.m_maxMotorTorque),e),o-=f*(g=this.m_motorImpulse-j),_+=y*g}if(this.m_enableLimit&&0!=this.m_limitState){var $=i.m_xf.R,yt=$.col1.x*(g=this.m_localAnchor1.x-i.m_sweep.localCenter.x)+$.col2.x*(j=this.m_localAnchor1.y-i.m_sweep.localCenter.y);j=$.col1.y*g+$.col2.y*j,g=yt;var _t=this.m_localAnchor2.y-s.m_sweep.localCenter.y;yt=($=s.m_xf.R).col1.x*(e=this.m_localAnchor2.x-s.m_sweep.localCenter.x)+$.col2.x*_t,_t=$.col1.y*e+$.col2.y*_t;var xt=l.y+_*(e=yt)-n.y-o*g;this.m_mass.solve33(this.impulse3,-(yt=l.x+-_*_t-n.x- -o*j),-xt,-(_-o)),3==this.m_limitState?this.m_impulse.add(this.impulse3):1==this.m_limitState?0>($=this.m_impulse.z+this.impulse3.z)&&(this.m_mass.solve22(this.reduced,-yt,-xt),this.impulse3.x=this.reduced.x,this.impulse3.y=this.reduced.y,this.impulse3.z=-this.m_impulse.z,this.m_impulse.x+=this.reduced.x,this.m_impulse.y+=this.reduced.y,this.m_impulse.z=0):2==this.m_limitState&&0<($=this.m_impulse.z+this.impulse3.z)&&(this.m_mass.solve22(this.reduced,-yt,-xt),this.impulse3.x=this.reduced.x,this.impulse3.y=this.reduced.y,this.impulse3.z=-this.m_impulse.z,this.m_impulse.x+=this.reduced.x,this.m_impulse.y+=this.reduced.y,this.m_impulse.z=0),n.x-=h*this.impulse3.x,n.y-=h*this.impulse3.y,o-=f*(g*this.impulse3.y-j*this.impulse3.x+this.impulse3.z),l.x+=m*this.impulse3.x,l.y+=m*this.impulse3.y,_+=y*(e*this.impulse3.y-_t*this.impulse3.x+this.impulse3.z)}else yt=($=i.m_xf.R).col1.x*(g=this.m_localAnchor1.x-i.m_sweep.localCenter.x)+$.col2.x*(j=this.m_localAnchor1.y-i.m_sweep.localCenter.y),j=$.col1.y*g+$.col2.y*j,g=yt,yt=($=s.m_xf.R).col1.x*(e=this.m_localAnchor2.x-s.m_sweep.localCenter.x)+$.col2.x*(_t=this.m_localAnchor2.y-s.m_sweep.localCenter.y),this.m_mass.solve22(this.impulse2,-(l.x+-_*(_t=$.col1.y*e+$.col2.y*_t)-n.x- -o*j),-(l.y+_*(e=yt)-n.y-o*g)),this.m_impulse.x+=this.impulse2.x,this.m_impulse.y+=this.impulse2.y,n.x-=h*this.impulse2.x,n.y-=h*this.impulse2.y,o-=f*(g*this.impulse2.y-j*this.impulse2.x),l.x+=m*this.impulse2.x,l.y+=m*this.impulse2.y,_+=y*(e*this.impulse2.y-_t*this.impulse2.x);(h=i.m_linearVelocity).x=n.x,h.y=n.y,i.m_angularVelocity=o,(i=s.m_linearVelocity).x=l.x,i.y=l.y,s.m_angularVelocity=_},solvePositionConstraints:function(e){e=this.m_bodyA;var i=this.m_bodyB,s=0;if(this.m_enableLimit&&0!=this.m_limitState){var n=i.m_sweep.a-e.m_sweep.a-this.m_referenceAngle,o=0;3==this.m_limitState?(n=P.clamp(n-this.m_lowerAngle,-ca.b2_maxAngularCorrection,ca.b2_maxAngularCorrection),o=-this.m_motorMass*n,s=P.abs(n)):1==this.m_limitState?(s=-(n-=this.m_lowerAngle),n=P.clamp(n+ca.b2_angularSlop,-ca.b2_maxAngularCorrection,0),o=-this.m_motorMass*n):2==this.m_limitState&&(s=n-=this.m_upperAngle,n=P.clamp(n-ca.b2_angularSlop,0,ca.b2_maxAngularCorrection),o=-this.m_motorMass*n),e.m_sweep.a-=e.m_invI*o,i.m_sweep.a+=i.m_invI*o,e.synchronizeTransform(),i.synchronizeTransform()}var l=e.m_xf.R,_=l.col1.x*(o=this.m_localAnchor1.x-e.m_sweep.localCenter.x)+l.col2.x*(n=this.m_localAnchor1.y-e.m_sweep.localCenter.y);n=l.col1.y*o+l.col2.y*n,o=_;var h=this.m_localAnchor2.x-i.m_sweep.localCenter.x,m=this.m_localAnchor2.y-i.m_sweep.localCenter.y;_=(l=i.m_xf.R).col1.x*h+l.col2.x*m,m=l.col1.y*h+l.col2.y*m;var f=i.m_sweep.c.x+(h=_)-e.m_sweep.c.x-o,y=i.m_sweep.c.y+m-e.m_sweep.c.y-n,g=f*f+y*y;l=Math.sqrt(g),_=e.m_invMass;var j=i.m_invMass,$=e.m_invI,yt=i.m_invI,_t=10*ca.b2_linearSlop;return g>_t*_t&&(y=(g=1/(_+j))*-y,e.m_sweep.c.x-=.5*_*(f=g*-f),e.m_sweep.c.y-=.5*_*y,i.m_sweep.c.x+=.5*j*f,i.m_sweep.c.y+=.5*j*y,f=i.m_sweep.c.x+h-e.m_sweep.c.x-o,y=i.m_sweep.c.y+m-e.m_sweep.c.y-n),this.K1.col1.x=_+j,this.K1.col2.x=0,this.K1.col1.y=0,this.K1.col2.y=_+j,this.K2.col1.x=$*n*n,this.K2.col2.x=-$*o*n,this.K2.col1.y=-$*o*n,this.K2.col2.y=$*o*o,this.K3.col1.x=yt*m*m,this.K3.col2.x=-yt*h*m,this.K3.col1.y=-yt*h*m,this.K3.col2.y=yt*h*h,this.K.setM(this.K1),this.K.addM(this.K2),this.K.addM(this.K3),this.K.solve(Bg.tImpulse,-f,-y),y=Bg.tImpulse.y,e.m_sweep.c.x-=e.m_invMass*(f=Bg.tImpulse.x),e.m_sweep.c.y-=e.m_invMass*y,e.m_sweep.a-=e.m_invI*(o*y-n*f),i.m_sweep.c.x+=i.m_invMass*f,i.m_sweep.c.y+=i.m_invMass*y,i.m_sweep.a+=i.m_invI*(h*y-m*f),e.synchronizeTransform(),i.synchronizeTransform(),l<=ca.b2_linearSlop&&s<=ca.b2_angularSlop},m_localAnchor1:null,m_localAnchor2:null,m_impulse:null,m_motorImpulse:null,m_mass:null,m_motorMass:null,m_enableMotor:null,m_maxMotorTorque:null,m_motorSpeed:null,m_enableLimit:null,m_referenceAngle:null,m_lowerAngle:null,m_upperAngle:null,m_limitState:null,__class__:Bg});var Di=function(){jd.call(this),this.localAnchorA=new K,this.localAnchorB=new K,this.type=1;var e=this.localAnchorA,i=0,s=0;null==s&&(s=0),null==i&&(i=0),e.x=i,e.y=s,null==(s=i=0)&&(s=0),null==i&&(i=0),(e=this.localAnchorB).x=i,e.y=s,this.motorSpeed=this.maxMotorTorque=this.upperAngle=this.lowerAngle=this.referenceAngle=0,this.enableMotor=this.enableLimit=!1};k["box2D.dynamics.joints.B2RevoluteJointDef"]=Di,Di.__name__="box2D.dynamics.joints.B2RevoluteJointDef",Di.__super__=jd,Di.prototype=x(jd.prototype,{initialize:function(e,i,s){this.bodyA=e,this.bodyB=i,this.localAnchorA=this.bodyA.getLocalPoint(s),this.localAnchorB=this.bodyB.getLocalPoint(s),this.referenceAngle=this.bodyB.getAngle()-this.bodyA.getAngle()},localAnchorA:null,localAnchorB:null,referenceAngle:null,enableLimit:null,lowerAngle:null,upperAngle:null,enableMotor:null,motorSpeed:null,maxMotorTorque:null,__class__:Di});var Am=function(e){Zb.call(this,e),this.m_localAnchorA=new K,this.m_localAnchorB=new K,this.m_impulse=new wf,this.m_mass=new Ai;var i=this.m_localAnchorA,s=e.localAnchorA;i.x=s.x,i.y=s.y,(i=this.m_localAnchorB).x=(s=e.localAnchorB).x,i.y=s.y,this.m_referenceAngle=e.referenceAngle,this.m_impulse.setZero(),this.m_mass=new Ai};k["box2D.dynamics.joints.B2WeldJoint"]=Am,Am.__name__="box2D.dynamics.joints.B2WeldJoint",Am.__super__=Zb,Am.prototype=x(Zb.prototype,{getAnchorA:function(){return this.m_bodyA.getWorldPoint(this.m_localAnchorA)},getAnchorB:function(){return this.m_bodyB.getWorldPoint(this.m_localAnchorB)},getReactionForce:function(e){return new K(e*this.m_impulse.x,e*this.m_impulse.y)},getReactionTorque:function(e){return e*this.m_impulse.z},initVelocityConstraints:function(e){var i=this.m_bodyA,s=this.m_bodyB,n=i.m_xf.R,o=this.m_localAnchorA.x-i.m_sweep.localCenter.x,l=this.m_localAnchorA.y-i.m_sweep.localCenter.y,_=n.col1.x*o+n.col2.x*l;l=n.col1.y*o+n.col2.y*l,o=_;var h=this.m_localAnchorB.x-s.m_sweep.localCenter.x,m=this.m_localAnchorB.y-s.m_sweep.localCenter.y;_=(n=s.m_xf.R).col1.x*h+n.col2.x*m,m=n.col1.y*h+n.col2.y*m,h=_;var f=i.m_invI,y=s.m_invI;this.m_mass.col1.x=(n=i.m_invMass)+(_=s.m_invMass)+l*l*f+m*m*y,this.m_mass.col2.x=-l*o*f-m*h*y,this.m_mass.col3.x=-l*f-m*y,this.m_mass.col1.y=this.m_mass.col2.x,this.m_mass.col2.y=n+_+o*o*f+h*h*y,this.m_mass.col3.y=o*f+h*y,this.m_mass.col1.z=this.m_mass.col3.x,this.m_mass.col2.z=this.m_mass.col3.y,this.m_mass.col3.z=f+y,e.warmStarting?(this.m_impulse.x*=e.dtRatio,this.m_impulse.y*=e.dtRatio,this.m_impulse.z*=e.dtRatio,i.m_linearVelocity.x-=n*this.m_impulse.x,i.m_linearVelocity.y-=n*this.m_impulse.y,i.m_angularVelocity-=f*(o*this.m_impulse.y-l*this.m_impulse.x+this.m_impulse.z),s.m_linearVelocity.x+=_*this.m_impulse.x,s.m_linearVelocity.y+=_*this.m_impulse.y,s.m_angularVelocity+=y*(h*this.m_impulse.y-m*this.m_impulse.x+this.m_impulse.z)):this.m_impulse.setZero()},solveVelocityConstraints:function(e){var i=this.m_bodyB,s=(e=this.m_bodyA).m_linearVelocity,n=e.m_angularVelocity,o=i.m_linearVelocity,l=i.m_angularVelocity,_=e.m_invMass,h=i.m_invMass,m=e.m_invI,f=i.m_invI,y=e.m_xf.R,g=this.m_localAnchorA.x-e.m_sweep.localCenter.x,j=this.m_localAnchorA.y-e.m_sweep.localCenter.y,$=y.col1.x*g+y.col2.x*j;j=y.col1.y*g+y.col2.y*j,g=$;var yt=this.m_localAnchorB.x-i.m_sweep.localCenter.x,_t=this.m_localAnchorB.y-i.m_sweep.localCenter.y;$=(y=i.m_xf.R).col1.x*yt+y.col2.x*_t,y=o.x-l*(_t=y.col1.y*yt+y.col2.y*_t)-s.x+n*j,$=o.y+l*(yt=$)-s.y-n*g;var xt=l-n,Tt=new wf;this.m_mass.solve33(Tt,-y,-$,-xt),this.m_impulse.add(Tt),s.x-=_*Tt.x,s.y-=_*Tt.y,n-=m*(g*Tt.y-j*Tt.x+Tt.z),o.x+=h*Tt.x,o.y+=h*Tt.y,l+=f*(yt*Tt.y-_t*Tt.x+Tt.z),e.m_angularVelocity=n,i.m_angularVelocity=l},solvePositionConstraints:function(e){var i=this.m_bodyB,s=(e=this.m_bodyA).m_xf.R,n=this.m_localAnchorA.x-e.m_sweep.localCenter.x,o=this.m_localAnchorA.y-e.m_sweep.localCenter.y,l=s.col1.x*n+s.col2.x*o;o=s.col1.y*n+s.col2.y*o,n=l;var _=this.m_localAnchorB.x-i.m_sweep.localCenter.x,h=this.m_localAnchorB.y-i.m_sweep.localCenter.y;l=(s=i.m_xf.R).col1.x*_+s.col2.x*h,h=s.col1.y*_+s.col2.y*h,_=l,s=e.m_invMass,l=i.m_invMass;var m=e.m_invI,f=i.m_invI,y=i.m_sweep.c.x+_-e.m_sweep.c.x-n,g=i.m_sweep.c.y+h-e.m_sweep.c.y-o,j=i.m_sweep.a-e.m_sweep.a-this.m_referenceAngle,$=10*ca.b2_linearSlop,yt=Math.sqrt(y*y+g*g),_t=P.abs(j);return yt>$&&(m*=1,f*=1),this.m_mass.col1.x=s+l+o*o*m+h*h*f,this.m_mass.col2.x=-o*n*m-h*_*f,this.m_mass.col3.x=-o*m-h*f,this.m_mass.col1.y=this.m_mass.col2.x,this.m_mass.col2.y=s+l+n*n*m+_*_*f,this.m_mass.col3.y=n*m+_*f,this.m_mass.col1.z=this.m_mass.col3.x,this.m_mass.col2.z=this.m_mass.col3.y,this.m_mass.col3.z=m+f,$=new wf,this.m_mass.solve33($,-y,-g,-j),e.m_sweep.c.x-=s*$.x,e.m_sweep.c.y-=s*$.y,e.m_sweep.a-=m*(n*$.y-o*$.x+$.z),i.m_sweep.c.x+=l*$.x,i.m_sweep.c.y+=l*$.y,i.m_sweep.a+=f*(_*$.y-h*$.x+$.z),e.synchronizeTransform(),i.synchronizeTransform(),yt<=ca.b2_linearSlop&&_t<=ca.b2_angularSlop},m_localAnchorA:null,m_localAnchorB:null,m_referenceAngle:null,m_impulse:null,m_mass:null,__class__:Am});var Bm=function(){jd.call(this),this.localAnchorA=new K,this.localAnchorB=new K,this.type=8,this.referenceAngle=0};k["box2D.dynamics.joints.B2WeldJointDef"]=Bm,Bm.__name__="box2D.dynamics.joints.B2WeldJointDef",Bm.__super__=jd,Bm.prototype=x(jd.prototype,{initialize:function(e,i,s){this.bodyA=e,this.bodyB=i,e=this.localAnchorA,i=this.bodyA.getLocalPoint(s),e.x=i.x,e.y=i.y,e=this.localAnchorB,s=this.bodyB.getLocalPoint(s),e.x=s.x,e.y=s.y,this.referenceAngle=this.bodyB.getAngle()-this.bodyA.getAngle()},localAnchorA:null,localAnchorB:null,referenceAngle:null,__class__:Bm});var Up=function(){this.stringMapCloner=new Em(this,va),this.intMapCloner=new Em(this,Va);var e=this.classHandles=new va,i=r(this,this.returnString);null!=t.String?e.setReserved("String",i):e.h.String=i,e=this.classHandles,i=r(this,this.cloneArray),null!=t.Array?e.setReserved("Array",i):e.h.Array=i,e=r(w=this.stringMapCloner,w.clone),i=this.classHandles,null!=t["haxe.ds.StringMap"]?i.setReserved("haxe.ds.StringMap",e):i.h["haxe.ds.StringMap"]=e,e=r(w=this.intMapCloner,w.clone),i=this.classHandles,null!=t["haxe.ds.IntMap"]?i.setReserved("haxe.ds.IntMap",e):i.h["haxe.ds.IntMap"]=e};k["cloner.Cloner"]=Up,Up.__name__="cloner.Cloner",Up.prototype={cache:null,classHandles:null,stringMapCloner:null,intMapCloner:null,returnString:function(e){return e},clone:function(e){return this.cache=new Aa,e=this._clone(e),this.cache=null,e},_clone:function(e){if("string"==typeof e)return e;try{if(null!=e.__name__)return e}catch(s){ha.lastException=s}var i=rb.typeof(e);switch(i._hx_index){case 0:case 5:case 8:return null;case 1:case 2:case 3:case 7:return e;case 4:return this.handleAnonymous(e);case 6:return i=i.c,null==this.cache.h.__keys__[e.__id__]&&this.cache.set(e,this.handleClass(i,e)),this.cache.h[e.__id__]}},handleAnonymous:function(e){for(var i=X.fields(e),s={},n=0,o=i.length;n<o;){var l=n++;s[l=i[l]]=this._clone(X.getProperty(e,l))}return s},handleClass:function(e,i){var s=this.classHandles;return null==(e=null!=t[e=e.__name__]?s.getReserved(e):s.h[e])&&(e=r(this,this.cloneClass)),e(i)},cloneArray:function(e){for(var i=0,s=(e=e.slice()).length;i<s;){var n=i++;e[n]=this._clone(e[n])}return e},cloneClass:function(e){for(var i=Object.create(T.getClass(e).prototype),s=X.fields(e),n=0,o=s.length;n<o;){var l=n++,_=X.getProperty(e,l=s[l]);i[l]=this._clone(_)}return i},__class__:Up};var Em=function(e,i){this.cloner=e,this.type=i,this.noArgs=[]};k["cloner.MapCloner"]=Em,Em.__name__="cloner.MapCloner",Em.prototype={cloner:null,type:null,noArgs:null,clone:function(e){for(var i=rb.createInstance(this.type,this.noArgs),s=e.keys();s.hasNext();){var n=s.next();i.set(n,this.cloner._clone(e.get(n)))}return i},__class__:Em};var wh=function(e){null==e&&(e=!0),qa.call(this),this.alignRight=e,this.start=!0,this.fps=this.mem_max=0,this.text=new ie,this.text.set_defaultTextFormat(new Cg("_sans",10,16777215)),this.text.set_wordWrap(!0),this.text.set_multiline(!0),this.text.set_width(70),this.text.set_height(50),this.text.set_selectable(!1),this.text.mouseEnabled=!1,this.rectangle=new ia(69,0,1,50),this.addEventListener("addedToStage",r(this,this.init),!1,0,!0),this.addEventListener("removedFromStage",r(this,this.destroy),!1,0,!0)};k["com.nmefermmmtools.debug.Stats"]=wh,wh.__name__="com.nmefermmmtools.debug.Stats",wh.__super__=qa,wh.prototype=x(qa.prototype,{text:null,timer:null,fps:null,ms:null,ms_prev:null,mem:null,mem_max:null,graph:null,rectangle:null,alignRight:null,start:null,fps_graph:null,mem_graph:null,ms_graph:null,mem_max_graph:null,_stage:null,fpsStr:null,memStr:null,memMaxStr:null,msStr:null,init:function(e){this._stage=Ya.get_current().stage,this.get_graphics().beginFill(51),this.get_graphics().drawRect(0,0,70,50),this.get_graphics().endFill(),this.addChild(this.text),this.graph=new pa(70,50,!1,51),this.addEventListener("enterFrame",r(this,this.update))},destroy:function(e){for(this.get_graphics().clear();0<this.get_numChildren();)this.removeChildAt(0);this.graph.dispose(),this.removeEventListener("enterFrame",r(this,this.update))},update:function(e){this.start&&this.alignRight&&(this.set_x(this._stage.stageWidth-this.get_width()),this.start=!1),this.timer=Ya.getTimer(),this.timer-1e3>this.ms_prev?(this.mem=954e-9*Dg.get_totalMemory(),this.mem_max=this.mem_max>this.mem?this.mem_max:this.mem,this.fps_graph=50-(0|Math.min(50,this.fps/this._stage.get_frameRate()*50)),this.mem_graph=50-this.normalizeMem(this.mem),this.mem_max_graph=50-this.normalizeMem(this.mem_max),this.ms_graph=50-(this.timer-this.ms>>1)|0,this.graph.scroll(-1,0),this.get_graphics().clear(),this.get_graphics().beginFill(51),this.get_graphics().drawRect(0,0,70,50),this.get_graphics().endFill(),this.get_graphics().beginBitmapFill(this.graph,new Fa(1,0,0,1,0,50)),this.get_graphics().drawRect(0,50,70,50),this.get_graphics().endFill(),this.graph.fillRect(this.rectangle,51),this.graph.lock(),this.graph.setPixel(69,this.fps_graph,16776960),this.graph.setPixel(69,this.mem_graph,65535),this.graph.setPixel(69,this.mem_max_graph,16711792),this.graph.setPixel(69,this.ms_graph,65280),this.graph.unlock(),60<this.fps&&(this.fps=60),this.fpsStr="FPS: "+this.fps+" / 60",this.memStr="MEM: "+Math.round(this.mem),this.memMaxStr="MAX: "+Math.round(this.mem_max),this.fps=0,this.ms_prev=this.timer,this.text.set_htmlText("<font color='#ffff00'>"+this.fpsStr+"</font><br><font color='#00ffff'>"+this.memStr+"</font><br><font color='#ff0070'>"+this.memMaxStr+"</font>")):(this.fps++,this.ms=this.timer)},normalizeMem:function(e){return Math.min(50,Math.sqrt(Math.sqrt(5e3*e)))-2|0},__class__:wh});var Vg=function(){};k["com.nmefermmmtools.debug.Colors"]=Vg,Vg.__name__="com.nmefermmmtools.debug.Colors";var Wg=function(){};k["com.stencyl.APIKeys"]=Wg,Wg.__name__="com.stencyl.APIKeys";var ja=function(){};k["com.stencyl.Config"]=ja,ja.__name__="com.stencyl.Config",ja.load=function(){var e=N.getConfigText("config/game-config.json");ja.loadFromString(e)},ja.loadMap=function(e,i){for(var s=0,n=X.fields(e);s<n.length;){var o=n[s];if(++s,aa.startsWith(o,"config-")){var l=B.substr(o,7,null),_=ja.defines;(null!=t[l]?_.existsReserved(l):_.h.hasOwnProperty(l))&&ja.loadMap(X.field(e,o),i)}else i[o]=X.field(e,o)}return i},ja.loadFromString=function(e,i){if(null==i&&(i=!0),null!=ja.data&&i){i=ja.data,ja.data=ja.loadMap(JSON.parse(e),{}),ja.setStaticFields();for(var s=e=!1,n=0,o=X.fields(i);n<o.length;){var l=o[n];if(++n,X.field(i,l)!=X.field(ja.data,l))switch(l){case"debugDraw":(p.DEBUG_DRAW=ja.debugDraw)||null!=p.debugDrawer&&null!=p.debugDrawer.m_sprite&&p.debugDrawer.m_sprite.get_graphics().clear();break;case"disposeImages":case"physicsMode":s=!0;break;case"antialias":case"forceHiResAssets":case"gameScale":case"scaleMode":case"scales":case"stageHeight":case"stageWidth":e=!0;break;case"keys":R.loadInputConfig();break;case"releaseMode":case"useGciLogging":ba.setupTracing(!ja.releaseMode);break;case"showConsole":p.engine.setStatsVisible(ja.showConsole)}}s?ba.reloadGame():e&&p.engine.reloadScreen()}else ja.data=ja.loadMap(JSON.parse(e),{}),ja.setStaticFields()},ja.setStaticFields=function(){ja.landscape=ja.data.landscape,ja.autorotate=ja.data.autorotate,ja.scaleMode=Xg.fromString(ja.data.scaleMode),ja.stageWidth=ja.data.stageWidth,ja.stageHeight=ja.data.stageHeight,ja.initSceneID=ja.data.initSceneID,ja.physicsMode=xh.fromString(ja.data.physicsMode),ja.gameScale=ja.data.gameScale,ja.forceHiResAssets=ja.data.forceHiResAssets,ja.antialias=ja.data.antialias,ja.pixelsnap=ja.data.pixelsnap,ja.startInFullScreen=ja.data.startInFullScreen,ja.disposeImages=ja.data.disposeImages,ja.adPositionBottom=ja.data.adPositionBottom,ja.testAds=ja.data.testAds,ja.releaseMode=ja.data.releaseMode,ja.showConsole=ja.data.showConsole,ja.debugDraw=ja.data.debugDraw,ja.disableBackButton=ja.data.disableBackButton,ja.useGciLogging=ja.data.useGciLogging,ja.keys=ja.asMap(ja.data.keys);for(var e=ja.data.scales,i=Wd.fromString,s=Array(e.length),n=0,o=e.length;n<o;){var l=n++;s[l]=i(e[l])}ja.scales=ic.array(s),ja.toolsetInterfaceHost=ja.data.toolsetInterfaceHost,ja.toolsetInterfacePort=ja.data.toolsetInterfacePort,ja.projectName=ja.data.projectName,ja.buildConfig=ja.data.buildConfig},ja.asMap=function(e){for(var i=new va,s=0,n=X.fields(e);s<n.length;){var o=n[s];++s;var l=X.field(e,o);null!=t[o]?i.setReserved(o,l):i.h[o]=l}return i};var tc=function(){if(this.actorTypesLoaded=!1,this.resourceLookup=this.resourceNameLookup=this.behaviorLookup=this.behaviorReader=this.resourceReaderPool=null,null==Ba.getBytes("assets/data/game.mbs"))throw new E("Data.hx - Could not load game. Check your logs for a possible cause.")};k["com.stencyl.Data"]=tc,tc.__name__="com.stencyl.Data",tc.get=function(){return null==tc.instance&&(tc.instance=new tc,tc.instance.loadAll()),tc.instance},tc.resetStatics=function(){tc.instance=null},tc.prototype={readers:null,gameMbs:null,resourceListMbs:null,sceneListMbs:null,behaviorListMbs:null,resources:null,resourceMap:null,behaviors:null,resourceLookup:null,resourceNameLookup:null,behaviorLookup:null,behaviorReader:null,resourceReaderPool:null,loadAll:function(){this.gameMbs=new Xh(Qf.get(),!1,!0),this.gameMbs.readData(ta.toBytes(Ba.getBytes("assets/data/game.mbs"))),this.sceneListMbs=new Xh(Qf.get(),!1,!0),this.sceneListMbs.readData(ta.toBytes(Ba.getBytes("assets/data/scenes.mbs"))),this.resourceListMbs=new Xh(Qf.get(),!1,!1),this.resourceListMbs.readData(ta.toBytes(Ba.getBytes("assets/data/resources.mbs"))),this.behaviorListMbs=new Xh(Qf.get(),!1,!1),this.behaviorListMbs.readData(ta.toBytes(Ba.getBytes("assets/data/behaviors.mbs"))),this.behaviors=new Fm(new Va,r(this,this.loadBehaviorFromMbs)),this.resources=new Fm(new Va,r(this,this.loadResourceFromMbs)),this.resourceMap=new Vp(new va,r(this,this.loadResourceFromMbsByName)),this.loadReaders(),this.scanBehaviorMbs(),this.scanResourceMbs()},loadReaders:function(){this.readers=[],this.readers.push(new Gm),this.readers.push(new Hm),this.readers.push(new Im),this.readers.push(new Jm),this.readers.push(new Km),this.readers.push(new Lm)},scanBehaviorMbs:function(){this.behaviorLookup=new Va;for(var e=this.behaviorListMbs.getRoot(),i=0,s=e.length();i<s;){i++;var n=e.elementAddress;this.behaviorReader=e.getNextObject();var o=this.behaviorLookup,l=this.behaviorReader.getId();o.h[l]=n}},scanResourceMbs:function(){this.resourceLookup=new Va,this.resourceNameLookup=new va;var e=this.resourceListMbs.getRoot();this.resourceReaderPool=we.createObjectPool(this.resourceListMbs);for(var i=new Za(this.resourceListMbs),s=M.INTEGER.getSize(),n=0,o=e.length();n<o;){n++;var l=e.elementAddress,_=this.resourceListMbs.readInt(l+s);e.elementAddress+=e.elementSize,i.setAddress(_),_=this.resourceLookup;var h=i.getId();_.h[h]=l,this.resourceListMbs.readTypecode(l)==yc.MBS_SPRITE?(h=this.resourceNameLookup,l="Sprite_"+i.getName(),_=i.getId(),null!=t[l]?h.setReserved(l,_):h.h[l]=_):(h=this.resourceNameLookup,l=i.getName(),_=i.getId(),null!=t[l]?h.setReserved(l,_):h.h[l]=_)}},loadResourceFromMbsByName:function(e){var i=this.resourceNameLookup;return null==(e=null!=t[e]?i.getReserved(e):i.h[e])?null:this.loadResourceFromMbs(e)},loadResourceFromMbs:function(e){if(null==(e=this.resourceLookup.h[e]))return null;if(e=we.readDynamicUsingPool(this.resourceListMbs,e,this.resourceReaderPool),null!=(e=this.readResource(e.getMbsType().getName(),e)))if(this.resources.map.h[e.ID]=e,e instanceof oj){var i="Sprite_"+e.name,s=this.resourceMap.map;null!=t[i]?s.setReserved(i,e):s.h[i]=e}else s=this.resourceMap.map,null!=t[i=e.name]?s.setReserved(i,e):s.h[i]=e;return e},loadAllResourcesOfType:function(e){var i=this.resourceListMbs.getRoot(),s=new Za(this.resourceListMbs),n=M.INTEGER.getSize();i.elementAddress=i.getAddress()+2*n;for(var o=0,l=i.length();o<l;){o++;var _=i.elementAddress;this.resourceListMbs.readTypecode(_)==e&&(_=this.resourceListMbs.readInt(_+n),s.setAddress(_),this.loadResourceFromMbs(s.getId())),i.elementAddress+=i.elementSize}},loadBehaviorFromMbs:function(e){return null==(e=this.behaviorLookup.h[e])?null:(this.behaviorReader.setAddress(e),pj.readBehavior(this.behaviorReader))},readResource:function(e,i){for(var s=0,n=this.readers;s<n.length;){var o=n[s];if(++s,o.accepts(e))return o.read(i)}return null},actorTypesLoaded:null,getAllActorTypes:function(){this.actorTypesLoaded||(this.loadAllResourcesOfType($a.MBS_ACTOR_TYPE),this.actorTypesLoaded=!0);for(var e=[],i=this.resources.map.iterator();i.hasNext();){var s=i.next();s instanceof Eg&&e.push(T.__cast(s,Eg))}return e},loadAtlas:function(e){var i=bc.get().atlases.h[e];if(null!=i&&!i.active)for(i.active=!0,e=0,i=i.members;e<i.length;){var s=i[e];++e,s=this.resources.get(s),s?.loadGraphics()}},unloadAtlas:function(e){},reloadScaledResources:function(){for(var e=this.resources.map.iterator();e.hasNext();){var i=e.next();null!=i&&(i instanceof Fi||i instanceof Eg||i.isAtlasActive()&&i.reloadGraphics(-1))}},__class__:tc};var md=function(){this.eventTable=new Va,this.eventTable.h[md.TYPE_ADS]=[],this.eventTable.h[md.TYPE_PURCHASES]=[],this.eventTable.h[md.TYPE_GAMECENTER]=[],this.eventTable.h[md.TYPE_KEYBOARD]=[]};k["com.stencyl.event.EventMaster"]=md,md.__name__="com.stencyl.event.EventMaster",md.prototype={eventTable:null,addAdEvent:function(e){this.eventTable.h[md.TYPE_ADS].push(e)},addPurchaseEvent:function(e){this.eventTable.h[md.TYPE_PURCHASES].push(e)},addGameCenterEvent:function(e){this.eventTable.h[md.TYPE_GAMECENTER].push(e)},addKeyboardEvent:function(e){this.eventTable.h[md.TYPE_KEYBOARD].push(e)},clear:function(){this.eventTable.h[md.TYPE_ADS].length=0,this.eventTable.h[md.TYPE_PURCHASES].length=0,this.eventTable.h[md.TYPE_GAMECENTER].length=0,this.eventTable.h[md.TYPE_KEYBOARD].length=0},__class__:md};var p=function(e){this.isHUDZoomable=this.sceneInitialized=this.keyPollOccurred=this.isFullScreen=this.ignoreResize=!1,this.zoomMultiplier=1,"opengl"!=p.stage.window.context.type&&"opengles"!=p.stage.window.context.type&&"webgl"!=p.stage.window.context.type||rd.initialize(),Ed.get_isSupported()&&(this.shaderLayer=new qa),e.mouseChildren=!1,e.mouseEnabled=!1,ja.debugDraw&&(p.DEBUG_DRAW=!0),p.engine=this,u.engine=this,this.root=e,this.isFullScreen=ja.startInFullScreen,p.screenScaleX=p.unzoomedScaleX=e.get_scaleX(),p.screenScaleY=p.unzoomedScaleY=e.get_scaleY(),p.screenOffsetX=0|e.get_x(),p.screenOffsetY=0|e.get_y(),p.NO_PHYSICS=1==ja.physicsMode,p.stage.addEventListener("enterFrame",r(this,this.onUpdate)),p.stage.addEventListener("deactivate",r(this,this.onFocusLost)),p.stage.addEventListener("activate",r(this,this.onFocus)),p.stage.addEventListener("resize",r(this,this.onWindowResize)),p.stage.window.onRestore.add(r(this,this.onWindowRestore)),p.stage.window.onMaximize.add(r(this,this.onWindowMaximize)),p.stage.window.onFullscreen.add(r(this,this.onWindowFullScreen)),this.isFullScreen&&!p.stage.window.__fullscreen&&(p.stage.window.__fullscreen=!0),this.begin(ja.initSceneID)};k["com.stencyl.Engine"]=p,p.__name__="com.stencyl.Engine",p.resetStatics=function(){p.stage.removeEventListener("enterFrame",r(w=p.engine,w.onUpdate)),p.stage.removeEventListener("deactivate",r(w=p.engine,w.onFocusLost)),p.stage.removeEventListener("activate",r(w=p.engine,w.onFocus)),p.stage.removeEventListener("resize",r(w=p.engine,w.onWindowResize)),p.stage.window.onRestore.remove(r(w=p.engine,w.onWindowRestore)),p.stage.window.onMaximize.remove(r(w=p.engine,w.onWindowMaximize)),p.stage.window.onFullscreen.remove(r(w=p.engine,w.onWindowFullScreen)),null!=p.engine.stats&&p.stage.removeChild(p.engine.stats),p.NO_PHYSICS=!1,p.DEBUG_DRAW=!1,p.IMG_BASE="",p.SCALE=1,p.checkedWideScreen=!1,p.isStandardIOS=!1,p.isExtendedIOS=!1,p.isIPhone6=!1,p.isIPhone6Plus=!1,p.isTabletIOS=!1,p.engine=null,p.landscape=!1,p.cameraX=0,p.cameraY=0,p.screenScaleX=0,p.screenScaleY=0,p.unzoomedScaleX=0,p.unzoomedScaleY=0,p.screenOffsetX=0,p.screenOffsetY=0,p.screenWidth=0,p.screenHeight=0,p.sceneWidth=0,p.sceneHeight=0,p.screenWidthHalf=0,p.screenHeightHalf=0,p.paused=!1,p.started=!1,p.events=new md,p.ITERATIONS=3,p.physicsScale=10,p.preservePadding=!1,p.paddingLeft=0,p.paddingRight=0,p.paddingTop=0,p.paddingBottom=0,p.ngID="",p.ngKey="",p.movieClip=null,p.stage=null,p.STEP_SIZE=10,p.MS_PER_SEC=1e3,p.elapsedTime=0,p.timeScale=1,p.totalElapsedTime=0,p.debug=!1,p.debugDrawer=null},p.initBehaviors=function(e,i,s,n,o){if(null!=i){for(i=new bf(i,i.arrayKeys());i.hasNext();){var l=i.next();if(null!=l&&l.enabled){var _=tc.get().behaviors.get(l.behaviorID),h=new va;if(null!=_){if(_.isEvent)for(var m=_.attributes.keys();m.hasNext();){var f=m.next(),y=_.attributes;if(null!=(y=null!=t[f]?y.getReserved(f):y.h[f])){var g=y.type,j=y.ID;"list"==g?(y=new qj(j,y.fieldName,y.fullName,[],g,null,y.hidden),null!=t[f]?h.setReserved(f,y):h.h[f]=y):"map"==g&&(y=new qj(j,y.fieldName,y.fullName,new va,g,null,y.hidden),null!=t[f]?h.setReserved(f,y):h.h[f]=y)}}for(m=l.values.keys();m.hasNext();)f=m.next(),y=l.values,y=null!=t[f]?y.getReserved(f):y.h[f],g=_.attributes,null!=(g=null!=t[f]?g.getReserved(f):g.h[f])&&(y=new qj(g.ID,g.fieldName,g.fullName,y,g.type,null,g.hidden),null!=t[f]?h.setReserved(f,y):h.h[f]=y);l=new Mm(s,n,_.ID,_.name,_.classname,!0,!1,h,_.type,_.isEvent),e.add(l)}}}o&&e.initScripts()}},p.toPhysicalUnits=function(e){return e/p.physicsScale},p.toPixelUnits=function(e){return e*p.physicsScale},p.vToPhysicalUnits=function(e){return e.x=p.toPhysicalUnits(e.x),e.y=p.toPhysicalUnits(e.y),e},p.vToPixelUnits=function(e){return e.x=p.toPixelUnits(e.x),e.y=p.toPixelUnits(e.y),e},p.invokeListeners=function(e){for(var i=0;i<e.length;){try{var s=e[i];s(e),-1==N.indexOf(e,s)&&--i}catch(n){if(ha.lastException=n,"string"!=typeof(n instanceof E?n.val:n))throw n}++i}},p.invokeListeners2=function(e,i){for(var s=0;s<e.length;){try{var n=e[s];n(i,e),-1==N.indexOf(e,n)&&--s}catch(o){if(ha.lastException=o,"string"!=typeof(o instanceof E?o.val:o))throw o}++s}},p.invokeListeners3=function(e,i,s){for(var n=0;n<e.length;){try{var o=e[n];o(i,s,e),-1==N.indexOf(e,o)&&--n}catch(l){if(ha.lastException=l,"string"!=typeof(l instanceof E?l.val:l))throw l}++n}},p.invokeListeners4=function(e,i,s,n){for(var o=0;o<e.length;){try{var l=e[o];l(i,s,n,e),-1==N.indexOf(e,l)&&--o}catch(_){if(ha.lastException=_,"string"!=typeof(_ instanceof E?_.val:_))throw _}++o}},p.invokeListeners5=function(e,i,s,n,o){for(var l=0;l<e.length;){try{var _=e[l];_(i,s,n,o,e),-1==N.indexOf(e,_)&&--l}catch(h){if(ha.lastException=h,"string"!=typeof(h instanceof E?h.val:h))throw h}++l}},p.invokeListeners6=function(e,i,s,n,o,l){for(var _=0;_<e.length;){try{var h=e[_];h(i,s,n,o,l,e),-1==N.indexOf(e,h)&&--_}catch(m){if(ha.lastException=m,"string"!=typeof(m instanceof E?m.val:m))throw m}++_}},p.prototype={zoomMultiplier:null,isHUDZoomable:null,world:null,gravityX:null,gravityY:null,physicalWidth:null,physicalHeight:null,leave:null,enter:null,sceneToEnter:null,shakeTimer:null,shakeIntensity:null,isShaking:null,scene:null,camera:null,sceneInitialized:null,channels:null,tasks:null,regions:null,terrainRegions:null,joints:null,root:null,colorLayer:null,maskLayer:null,master:null,hudLayer:null,transitionLayer:null,debugLayer:null,g:null,groups:null,reverseGroups:null,allActors:null,nextID:null,actorsOfType:null,recycledActorsOfType:null,actorsToCreateInNextScene:null,layers:null,layersByName:null,interactiveLayers:null,backgroundLayers:null,dynamicTiles:null,animatedTiles:null,topLayer:null,bottomLayer:null,middleLayer:null,layersToDraw:null,tileUpdated:null,loadedAtlases:null,atlasesToLoad:null,atlasesToUnload:null,actorsToCreate:null,gameAttributes:null,behaviors:null,lastTime:null,acc:null,mx:null,my:null,collisionPairs:null,disableCollisionList:null,keyPollOccurred:null,whenKeyPressedListeners:null,hasKeyPressedListeners:null,whenAnyKeyPressedListeners:null,whenAnyKeyReleasedListeners:null,whenAnyGamepadPressedListeners:null,whenAnyGamepadReleasedListeners:null,whenTypeGroupCreatedListeners:null,whenTypeGroupDiesListeners:null,typeGroupPositionListeners:null,collisionListeners:null,soundListeners:null,channelListeners:null,whenUpdatedListeners:null,whenDrawingListeners:null,whenMousePressedListeners:null,whenMouseReleasedListeners:null,whenMouseMovedListeners:null,whenMouseDraggedListeners:null,whenPausedListeners:null,fullscreenListeners:null,screenSizeListeners:null,gameScaleListeners:null,whenSwipedListeners:null,whenMTStartListeners:null,whenMTDragListeners:null,whenMTEndListeners:null,whenFocusChangedListeners:null,nativeListeners:null,shader:null,shaderLayer:null,shaders:null,isFullScreen:null,ignoreResize:null,stats:null,onKeyDown:function(e){this.isFullScreen&&27==e.keyCode&&this.setFullScreen(!1)},onWindowResize:function(e){!this.isFullScreen||p.stage.window.__fullscreen||p.stage.window.__minimized||this.ignoreResize||this.setFullScreen(!1)},onWindowRestore:function(){this.isFullScreen&&!p.stage.window.__fullscreen&&(p.stage.window.__fullscreen=!0)},onWindowMaximize:function(){this.isFullScreen&&!p.stage.window.__fullscreen&&(p.stage.window.__fullscreen=!0)},onWindowFullScreen:function(){this.isFullScreen||this.setFullScreen(!0)},isInFullScreen:function(){return 1==Ya.get_current().stage.get_displayState()},setFullScreen:function(e){if(this.isFullScreen!=e){this.ignoreResize=!0,this.isFullScreen=e,this.reloadScreen(),e=this.fullscreenListeners;for(var i=0;i<e.length;){try{var s=e[i];s(e),-1==N.indexOf(e,s)&&--i}catch(n){if(ha.lastException=n,"string"!=typeof(n instanceof E?n.val:n))throw n}++i}this.ignoreResize=!1}},toggleFullScreen:function(){this.setFullScreen(!this.isFullScreen)},reloadScreen:function(){var e=p.IMG_BASE,i=p.SCALE,s=p.screenWidth,n=p.screenHeight;if(this.root.initScreen(this.isFullScreen),p.screenWidth=0|ba.logicalWidth,p.screenWidthHalf=p.screenWidth/2|0,p.screenHeight=0|ba.logicalHeight,p.screenHeightHalf=p.screenHeight/2|0,this.setColorBackground(this.scene.colorBackground),s=p.screenWidth!=s||p.screenHeight!=n,n=i!=p.SCALE,e!=p.IMG_BASE&&tc.get().reloadScaledResources(),i!=p.SCALE){for(null!=p.debugDrawer&&p.debugDrawer.setDrawScale(10*p.SCALE),this.g.scaleX=this.g.scaleY=p.SCALE,N.applyToAllChildren(this.root,function(m){T.__implements(m,Yh)&&T.__cast(m,Yh).updateScale()}),e=this.allActors.iterator();e.hasNext();)null==(i=e.next())||i.dead||i.recycled||(i.updateMatrix=!0);for(e=this.recycledActorsOfType.iterator();e.hasNext();){i=e.next();for(var o=0;o<i.length;){var l=i[o];++o,null!=l.currAnimation&&l.currAnimation.framesUpdated(),l.updateMatrix=!0}}(e=this.g).font=e.defaultFont,e.font.fontScale!=p.SCALE&&(e.font.fontScale=p.SCALE),this.moveCamera(this.camera.realX,this.camera.realY)}if(p.unzoomedScaleX=p.screenScaleX=this.root.get_scaleX(),p.unzoomedScaleY=p.screenScaleY=this.root.get_scaleY(),p.screenOffsetX=0|this.root.get_x(),p.screenOffsetY=0|this.root.get_y(),null!=this.stats&&(this.stats.set_x(p.stage.stageWidth-this.stats.get_width()),this.stats.set_y(0)),this.resetShaders(),n)for(n=this.gameScaleListeners,e=0;e<n.length;){try{var _=n[e];_(n),-1==N.indexOf(n,_)&&--e}catch(m){if(ha.lastException=m,"string"!=typeof(m instanceof E?m.val:m))throw m}++e}if(s)for(_=this.screenSizeListeners,s=0;s<_.length;){try{var h=_[s];h(_),-1==N.indexOf(_,h)&&--s}catch(m){if(ha.lastException=m,"string"!=typeof(m instanceof E?m.val:m))throw m}++s}},addShader:function(e){if(Ed.get_isSupported()){for(e=e.basicShader,null!=this.shaders&&this.clearShaders(),this.shaders=[e.model],e=e.multipassParent;null!=e;)this.shaders.splice(0,0,e.model),e=e.multipassParent;e=0;for(var i=this.shaders;e<i.length;){var s=i[e];++e,this.shaderLayer.addChild(s)}}},clearShaders:function(){N.removeAllChildren(this.shaderLayer),p.stage.context3D.setRenderToBackBuffer(),this.shaders=[]},toggleShadersForHUD:function(){null!=this.shaderLayer&&null!=this.hudLayer&&null!=this.root&&this.root.swapChildren(this.shaderLayer,this.hudLayer)},resetShaders:function(){if(null!=this.shaders)for(var e=0,i=this.shaders;e<i.length;){var s=i[e];++e,s.rebuild()}},begin:function(e){this.loadedAtlases=new Va,this.atlasesToLoad=new Va,this.atlasesToUnload=new Va,R.enable(),R.define("iSHIFT",[16]),R.define("iCTRL",[17]),R.define("iCOMMAND",[15]),p.landscape=ja.landscape;var i=ba.logicalWidth,s=ba.logicalHeight;for(p.screenWidth=0|i,p.screenHeight=0|s,p.screenWidthHalf=i/2|0,p.screenHeightHalf=s/2|0,tc.get(),bc.get().loadScenes(),this.g=new eb,p.started=!0,this.tileUpdated=!1,this.shakeTimer=0,this.shakeIntensity=.01,this.isShaking=!1,this.enter=this.leave=null,p.cameraX=0,this.acc=p.cameraY=0,this.lastTime=Ya.getTimer(),p.sceneWidth=0|i,p.sceneHeight=0|s,this.colorLayer=new Pe,this.root.addChild(this.colorLayer),this.master=new qa,this.root.addChild(this.master),this.hudLayer=new Tc(-1,"__hud__",-1,0,0,1,10,null),this.root.addChild(this.hudLayer),this.transitionLayer=new qa,this.root.addChild(this.transitionLayer),this.debugLayer=new qa,this.root.addChild(this.debugLayer),Ed.get_isSupported()&&this.root.addChild(this.shaderLayer),this.root.addChild(this.root.maskLayer),this.actorsToCreateInNextScene=[],this.gameAttributes=new va,this.setStatsVisible(ja.showConsole),i=bc.get().gameAttributes.keys();i.hasNext();){s=i.next();var n=bc.get().gameAttributes,o=null!=t[s]?n.getReserved(s):n.h[s];n=this.gameAttributes,null!=t[s]?n.setReserved(s,o):n.h[s]=o}this.channels=[],this.channels.push(new dc(this,0)),this.channels.push(new dc(this,1)),this.channels.push(new dc(this,2)),this.channels.push(new dc(this,3)),this.channels.push(new dc(this,4)),this.channels.push(new dc(this,5)),this.channels.push(new dc(this,6)),this.channels.push(new dc(this,7)),this.channels.push(new dc(this,8)),this.channels.push(new dc(this,9)),this.channels.push(new dc(this,10)),this.channels.push(new dc(this,11)),this.channels.push(new dc(this,12)),this.channels.push(new dc(this,13)),this.channels.push(new dc(this,14)),this.channels.push(new dc(this,15)),this.channels.push(new dc(this,16)),this.channels.push(new dc(this,17)),this.channels.push(new dc(this,18)),this.channels.push(new dc(this,19)),this.channels.push(new dc(this,20)),this.channels.push(new dc(this,21)),this.channels.push(new dc(this,22)),this.channels.push(new dc(this,23)),this.channels.push(new dc(this,24)),this.channels.push(new dc(this,25)),this.channels.push(new dc(this,26)),this.channels.push(new dc(this,27)),this.channels.push(new dc(this,28)),this.channels.push(new dc(this,29)),this.channels.push(new dc(this,30)),this.channels.push(new dc(this,31)),this.sceneToEnter=e,this.loadScene(e),this.sceneInitialized=!0},setStatsVisible:function(e){e!=(null!=this.stats)&&(e?(this.stats=new wh,p.stage.addChild(this.stats),this.stats.set_x(p.stage.stageWidth-this.stats.get_width()),this.stats.set_y(0)):(p.stage.removeChild(this.stats),this.stats=null))},loadScene:function(e){if(this.collisionPairs=new Re(32),p.preservePadding||(p.paddingTop=0,p.paddingLeft=0,p.paddingBottom=0,p.paddingRight=0),this.tasks=[],this.scene=bc.get().scenes.h[e],-1!=e&&null!=this.scene||(this.scene=bc.get().scenes.h[ja.initSceneID],null!=this.scene)){if(this.scene.load(),e=new Va,this.scene.retainsAtlases)for(var i=this.loadedAtlases.iterator();i.hasNext();){var s=i.next();e.h[s]=s}else{for(i=this.loadedAtlases.iterator();i.hasNext();)s=i.next(),bc.get().atlases.h[s].allScenes&&(e.h[s]=s);for(i=0,s=this.scene.atlases;i<s.length;){var n=s[i];++i,e.h[n]=n}}for(i=this.atlasesToLoad.iterator();i.hasNext();)s=i.next(),e.h[s]=s;for(i=this.atlasesToUnload.iterator();i.hasNext();)s=i.next(),e.remove(s);for(i=this.loadedAtlases.iterator();i.hasNext();)s=i.next(),e.h.hasOwnProperty(s)||(tc.get().unloadAtlas(s),this.loadedAtlases.remove(s));for(e=e.iterator();e.hasNext();)i=e.next(),this.loadedAtlases.h.hasOwnProperty(i)||(tc.get().loadAtlas(i),this.loadedAtlases.h[i]=i);for(this.atlasesToLoad=new Va,this.atlasesToUnload=new Va,p.sceneWidth=this.scene.sceneWidth,p.sceneHeight=this.scene.sceneHeight,this.behaviors=new Pk,this.groups=new Va,this.reverseGroups=new va,e=0,i=bc.get().groups;e<i.length;){s=i[e],++e,n=new rj(s.ID,s.name),this.groups.h[s.ID]=n;var o=s.name,l=this.reverseGroups;null!=t[o]?l.setReserved(o,n):l.h[o]=n,n.name=s.name}e=new rj(-2,"Regions"),this.groups.h[-2]=e,i=this.reverseGroups,null!=t.Regions?i.setReserved("Regions",e):i.h.Regions=e,this.disableCollisionList=[],this.actorsOfType=new Va,this.recycledActorsOfType=new Va,this.regions=new Re(32),this.regions.reuseIterator=!0,this.terrainRegions=new Va,this.joints=new Va,this.dynamicTiles=new va,this.animatedTiles=[],this.allActors=new Re(256),this.allActors.reuseIterator=!0,this.nextID=0,this.whenKeyPressedListeners=new va,this.hasKeyPressedListeners=!1,this.whenAnyKeyPressedListeners=[],this.whenAnyKeyReleasedListeners=[],this.whenAnyGamepadPressedListeners=[],this.whenAnyGamepadReleasedListeners=[],this.whenTypeGroupCreatedListeners=new Aa,this.whenTypeGroupDiesListeners=new Aa,this.typeGroupPositionListeners=new Va,this.collisionListeners=new Va,this.soundListeners=new Aa,this.channelListeners=new Va,this.nativeListeners=[],this.whenUpdatedListeners=[],this.whenDrawingListeners=[],this.whenMousePressedListeners=[],this.whenMouseReleasedListeners=[],this.whenMouseMovedListeners=[],this.whenMouseDraggedListeners=[],this.whenPausedListeners=[],this.whenSwipedListeners=[],this.whenMTStartListeners=[],this.whenMTDragListeners=[],this.whenMTEndListeners=[],this.whenFocusChangedListeners=[],this.fullscreenListeners=[],this.screenSizeListeners=[],this.gameScaleListeners=[],p.NO_PHYSICS||this.initPhysics(),this.gravityX=this.scene.gravityX,this.gravityY=this.scene.gravityY,this.loadTerrain(),this.loadRegions(),this.loadTerrainRegions(),this.loadActors(),this.loadCamera(),this.loadJoints(),this.loadDeferredActors(),p.initBehaviors(this.behaviors,this.scene.behaviorValues,this,this,!0),this.initActorScripts()}else p.stage.removeEventListener("enterFrame",r(this,this.onUpdate))},initPhysics:function(){var e=new K(this.scene.gravityX,this.scene.gravityY);this.world=new lc(e,!1),lc.m_continuousPhysics=!1,lc.m_warmStarting=!0,(e=new Hb).lowerBound.x=0,e.lowerBound.y=0,e.upperBound.x=p.screenWidth/p.physicsScale,e.upperBound.y=p.screenHeight/p.physicsScale,this.world.setScreenBounds(e),p.debugDrawer=new cf,p.debugDrawer.setSprite(this.debugLayer),p.debugDrawer.setLineThickness(3),p.debugDrawer.setDrawScale(10*p.SCALE),p.debugDrawer.setFillAlpha(0),p.debugDrawer.setFlags(cf.e_shapeBit|cf.e_jointBit),this.world.setDebugDraw(p.debugDrawer)},loadActors:function(){this.actorsToCreate=[];for(var e=this.scene.actors.iterator();e.hasNext();){var i=e.next();this.actorsToCreate.push(this.createActor(i,!0))}for(e=0,i=this.interactiveLayers;e<i.length;){var s=i[e];++e;for(var n=0,o=s.actorContainer.get_numChildren();n<o;){var l=n++,_=s.actorContainer.getChildAt(l);for(_=this.scene.actors.h[_.ID];_.orderInLayer!=l;)s.actorContainer.swapChildrenAt(l,_.orderInLayer),_=s.actorContainer.getChildAt(l),_=this.scene.actors.h[_.ID]}}},loadDeferredActors:function(){for(var e=0,i=this.actorsToCreateInNextScene;e<i.length;){var s=i[e];++e,u.lastCreatedActor=this.createActorOfType(s.type,s.x,s.y,s.layer)}this.actorsToCreateInNextScene=[]},initActorScripts:function(){for(var e=0,i=this.actorsToCreate;e<i.length;){var s=i[e];++e,s.initScripts()}this.actorsToCreate=null},loadCamera:function(){this.camera=new Ab(this,-1,2,0,0,-1,2,2,null,null,null,null,!0,!1,!0,!1,null,!0,!1),this.camera.set_name("Camera"),this.camera.isCamera=!0,p.cameraX=0,p.cameraY=0},loadRegions:function(){this.regions=new Re(32),this.regions.reuseIterator=!0;for(var e=this.scene.regions.iterator();e.hasNext();){var i=e.next(),s=new Dd(this,i.x,i.y,i.shapes,i.simpleBounds);s.set_name(i.name),p.NO_PHYSICS||s.setXY(i.x+s.regionWidth/2,i.y+s.regionHeight/2),s.ID=i.ID,this.addRegion(s)}},loadTerrainRegions:function(){if(this.terrainRegions=new Va,!p.NO_PHYSICS)for(var e=this.scene.terrainRegions.iterator();e.hasNext();){var i=e.next(),s=new vh(this,i.x,i.y,i.shapes,i.groupID,i.fillColor);s.set_name(i.name),s.setX(p.toPixelUnits(i.x)+s.regionWidth/2),s.setY(p.toPixelUnits(i.y)+s.regionHeight/2),s.ID=i.ID,this.addTerrainRegion(s)}},loadJoints:function(){if(!p.NO_PHYSICS)for(var e=this.scene.joints.iterator();e.hasNext();){var i=e.next(),s=i.actor1,n=i.actor2,o=i.collideConnected;if(3==i.type){var l=this.joints,_=i.ID;i=this.createStickJoint(this.getActor(s).body,this.getActor(n).body,i.ID,o),l.h[_]=i}else if(1==i.type){_=T.__cast(i,Di),(l=this.getActor(s).body.getLocalCenter().copy()).x=p.toPixelUnits(l.x),l.y=p.toPixelUnits(l.y),s=this.getActor(s).body,n=-1==n?this.world.m_groundBody:this.getActor(n).body;var h=this.joints,m=i.ID;i=this.createHingeJoint(s,n,l,i.ID,o,_.enableLimit,_.enableMotor,_.lowerAngle,_.upperAngle,_.maxMotorTorque,-_.motorSpeed),h.h[m]=i}else(2==i.type||7==i.type)&&(_=T.__cast(i,Ei),(l=this.getActor(s).body.getLocalCenter().copy()).x=p.toPixelUnits(l.x),l.y=p.toPixelUnits(l.y),s=this.getActor(s).body,n=-1==n?this.world.m_groundBody:this.getActor(n).body,l=this.joints,h=i.ID,i=this.createSlidingJoint(s,n,_.localAxisA,i.ID,o,_.enableLimit,_.enableMotor,_.lowerTranslation,_.upperTranslation,_.maxMotorForce,_.motorSpeed),l.h[h]=i)}},loadTerrain:function(){this.initLayers();for(var e=0,i=this.scene.wireframes;e<i.length;){var s=i[e];++e;var n=null;p.NO_PHYSICS||(n=new Ab(this,1e8,1,s.x,s.y,-1,0|s.width,0|s.height,null,new va,null,null,!1,!0,!1,!1,s.shape)),n.set_name("Terrain"),n.typeID=-1,n.set_visible(!1),this.getGroup(1).addChild(n)}},initLayers:function(){if(this.setColorBackground(this.scene.colorBackground),this.animatedTiles=this.scene.animatedTiles,null!=this.animatedTiles)for(var e=0,i=this.animatedTiles;e<i.length;){var s=i[e];++e,s.currFrame=0,s.currTime=0,s.updateSource=!0}this.layers=this.scene.layers,this.layersToDraw=new Va,this.layersByName=new va,this.interactiveLayers=[],this.backgroundLayers=[],i=e=!1,s=0;var n=-1,o={};if(0==this.layers.mSize){var l=new He(0,this.scene,this.scene.sceneWidth/this.scene.tileWidth|0,this.scene.sceneHeight/this.scene.tileHeight|0);l=new Tc(0,"default",0,1,1,1,10,l),this.layers.set(l.ID,l)}for(l=this.layers.iterator();l.hasNext();){var _=l.next();n=0|Math.max(n,_.order),o[_.order]=_;var h=_.layerName,m=this.layersByName;null!=t[h]?m.setReserved(h,_):m.h[h]=_,_ instanceof Tc?this.interactiveLayers.push(T.__cast(_,Tc)):_ instanceof oe&&this.backgroundLayers.push(T.__cast(_,oe))}for(l=0,_=n+1;l<_;)h=n-(m=l++),(m=o[m]).order=h,this.layersToDraw.h[h]=m;for(o=0,n+=1;o<n;)l=o++,(l=this.layersToDraw.h[l])instanceof oe?((l=T.__cast(l,oe)).load(),this.master.addChild(l)):l instanceof Tc&&(l=T.__cast(l,Tc),e||(e=!0,this.bottomLayer=l),i||s!=Math.floor(this.interactiveLayers.length/2)||(i=!0,this.middleLayer=l),this.master.addChild(l),this.topLayer=l,l.tiles.mountGrid(),++s)},setColorBackground:function(e){e.draw(this.colorLayer.get_graphics(),0,0,p.screenWidth*p.SCALE|0,p.screenHeight*p.SCALE|0)},optimizePool:function(){for(var e=this.recycledActorsOfType.iterator();e.hasNext();){for(var i=e.next(),s=[],n=0;n<i.length;){var o=i[n];++n,null!=o&&o.recycled&&s.push(o)}for(n=0;n<s.length;)o=s[n],++n,B.remove(i,o),this.removeActor(o)}},cleanup:function(){null!=p.debugDrawer&&null!=p.debugDrawer.m_sprite&&p.debugDrawer.m_sprite.get_graphics().clear();for(var e=0,i=this.interactiveLayers;e<i.length;){var s=i[e];++e,s.clear()}if(this.hudLayer.clear(),N.removeAllChildren(this.master),this.behaviors.destroy(),this.camera.destroy(),this.camera=null,null!=this.world){for(e=this.world.getBodyList(),i=this.world.getJointList();null!=i;)this.world.destroyJoint(i),i=i.getNext();for(;null!=e;)this.world.destroyBody(e),e=e.getNext()}for(e=this.actorsOfType.iterator();e.hasNext();)e.next().length=0;for(e=this.recycledActorsOfType.iterator();e.hasNext();)for(i=e.next(),s=0;s<i.length;){var n=i[s];++s,n.destroyed||n.destroy()}for(e=this.recycledActorsOfType.iterator();e.hasNext();)e.next().length=0;for(e=this.allActors.iterator();e.hasNext();)e.next().destroy();for(;0<ic.count(this.allActors);)for(e=this.allActors.keys();e.hasNext();)i=e.next(),this.allActors.unset(i);this.scene.unload(),this.whenKeyPressedListeners=this.disableCollisionList=this.collisionPairs=this.tasks=this.scene=this.allActors=this.reverseGroups=this.groups=this.joints=this.terrainRegions=this.regions=this.animatedTiles=this.dynamicTiles=this.layersToDraw=this.backgroundLayers=this.interactiveLayers=this.layersByName=this.layers=this.recycledActorsOfType=this.actorsOfType=null,this.hasKeyPressedListeners=!1,this.nativeListeners=this.whenFocusChangedListeners=this.whenMTEndListeners=this.whenMTDragListeners=this.whenMTStartListeners=this.whenSwipedListeners=this.gameScaleListeners=this.screenSizeListeners=this.fullscreenListeners=this.whenPausedListeners=this.whenMouseDraggedListeners=this.whenMouseMovedListeners=this.whenMouseReleasedListeners=this.whenMousePressedListeners=this.whenDrawingListeners=this.whenUpdatedListeners=this.channelListeners=this.soundListeners=this.collisionListeners=this.typeGroupPositionListeners=this.whenTypeGroupDiesListeners=this.whenTypeGroupCreatedListeners=this.whenAnyGamepadReleasedListeners=this.whenAnyGamepadPressedListeners=this.whenAnyKeyReleasedListeners=this.whenAnyKeyPressedListeners=null,u.lastCreatedActor=null,u.lastCreatedJoint=null,u.lastCreatedRegion=null,u.lastCreatedTerrainRegion=null,R.update(),this.world=null},switchScene:function(e,i,s){this.isTransitioning()||(null!=i&&i.isComplete()&&i.reset(),(null==i||0==i.duration)&&(i=new Bb(0)),(null==s||0==s.duration)&&(s=new Bb(1)),this.leave=i,this.enter=s,this.leave.isComplete()||this.leave.start(),this.sceneToEnter=e)},enterScene:function(){this.enter.isComplete()||(this.enter.start(),null!=this.leave&&this.leave.cleanup()),this.leave=null,this.sceneInitialized=!1,this.cleanup(),this.loadScene(this.sceneToEnter),this.sceneInitialized=!0},isTransitioning:function(){return!!(null!=this.enter&&this.enter.isActive()||null!=this.leave&&this.leave.isActive())},isTransitioningOut:function(){return!(null==this.leave||!this.leave.isActive())},createActorInNextScene:function(e,i,s,n){this.actorsToCreateInNextScene.push(new Wp(e,i,s,n))},createActor:function(e,i){if(i=T.__cast(tc.get().resources.get(e.actorType.spriteID),oj),i=new Ab(this,e.elementID,e.groupID,e.x,e.y,e.layerID,-1,-1,i,e.behaviorValues,e.actorType,p.NO_PHYSICS?null:e.actorType.bodyDef,!1,!1,!1,!1,null,e.actorType.autoScale,e.actorType.ignoreGravity,e.actorType.physicsMode),0!=e.angle)if(0!=i.currOffset.x||0!=i.currOffset.y){var s=0|i.currOrigin.x,n=0|i.currOrigin.y;i.setOriginPoint(i.cacheWidth/2|0,i.cacheHeight/2|0),i.setAngle(e.angle,!1),i.setOriginPoint(s,n)}else i.setAngle(e.angle,!1);if(1!=e.scaleX||1!=e.scaleY){var o=i.cacheWidth/2|0,l=i.cacheHeight/2|0;(i.currOrigin.x!=o||i.currOrigin.y!=l)&&(s=Math.sin(.01745329251994278*e.angle),n=Math.cos(.01745329251994278*e.angle),o=(i.currOrigin.x-o)*e.scaleX-i.currOffset.x,l=(i.currOrigin.y-l)*e.scaleY-i.currOffset.y,i.setX(i.getX(!1)+o*n-l*s),i.setY(i.getY(!1)+o*s+l*n)),i.growTo(e.scaleX,e.scaleY,0)}return i.set_name(e.actorType.name),null==this.recycledActorsOfType.h[e.actorType.ID]&&(this.recycledActorsOfType.h[e.actorType.ID]=[]),this.recycledActorsOfType.h[e.actorType.ID].push(i),2!=e.actorType.physicsMode&&(s=this.groups.h[e.groupID],s?.addChild(i)),1e8==e.elementID?(this.nextID++,i.ID=this.nextID,this.allActors.set(i.ID,i)):(this.allActors.set(i.ID,i),this.nextID=0|Math.max(i.ID,this.nextID)),i.internalUpdate(0,!1),i.updateDrawingMatrix(),null!=e.actorType&&-1!=e.actorType.ID&&(null==(s=this.actorsOfType.h[e.actorType.ID])&&(this.actorsOfType.h[e.actorType.ID]=s=[]),s?.push(i)),u.lastCreatedActor=i},removeActor:function(e){this.allActors.unset(e.ID),this.removeActorFromLayer(e,e.layer);var i=this.groups,s=e.getGroupID();i.h[s].removeChild(e),e.destroy(),null!=e.type&&-1!=e.typeID&&null!=(i=this.actorsOfType.h[e.typeID])&&B.remove(i,e)},removeActorFromLayer:function(e,i){null!=i&&e.layer==i&&(i==this.hudLayer&&(0==e.physicsMode&&e.body.setAlwaysActive(e.alwaysSimulate),e.isHUD=!1,e.cachedLayer=null),i.actorContainer.contains(e)&&(i.actorContainer.removeChild(e),e.layer=null))},moveActorToLayer:function(e,i){e.layer!=i&&null!=i&&((null==e.layer||e.layer.scrollFactorX!=i.scrollFactorX||e.layer.scrollFactorY!=i.scrollFactorY)&&(e.updateMatrix=!0),i==this.hudLayer&&(0==e.physicsMode&&e.body.setAlwaysActive(!0),e.isHUD=!0,e.cachedLayer=e.layer),null!=e.layer&&this.removeActorFromLayer(e,e.layer),i.actorContainer.addChild(e),e.layer=i)},recycleActor:function(e){if(null!=e&&!e.recycled){var i=p.engine.whenTypeGroupDiesListeners,s=e.getType();i=i.h[s.__id__],s=p.engine.whenTypeGroupDiesListeners;var n=e.getGroup();s=s.h[n.__id__],n=e.whenKilledListeners;for(var o=0;o<n.length;){try{var l=n[o];l(n),-1==N.indexOf(n,l)&&--o}catch(m){if(ha.lastException=m,"string"!=typeof(m instanceof E?m.val:m))throw m}++o}if(null!=i)for(l=0;l<i.length;){try{var _=i[l];_(e,i),-1==N.indexOf(i,_)&&--l}catch(m){if(ha.lastException=m,"string"!=typeof(m instanceof E?m.val:m))throw m}++l}if(null!=s)for(_=0;_<s.length;){try{var h=s[_];h(e,s),-1==N.indexOf(s,h)&&--_}catch(m){if(ha.lastException=m,"string"!=typeof(m instanceof E?m.val:m))throw m}++_}if(e.isHUD&&e.unanchorFromScreen(),e.alwaysSimulate&&e.makeSometimesSimulate(!1),e.firstMove=!1,e.setXY(1e6,1e6,!1,!0),e.colX=1e6,e.colY=1e6,e.recycled=!0,e.killLeaveScreen=!1,e.lastScreenState=!1,e.lastSceneState=!1,e.cancelTweens(),e.clearFilters(),e.resetBlendMode(),e.set_alpha(1),e.realScaleX=1,e.realScaleY=1,e.switchToDefaultAnimation(),e.disableActorDrawing(),e.removeAttachedImages(),0==e.physicsMode&&null!=e.body)for(h=e.body.getContactList();null!=h;)p.engine.world.m_contactManager.m_contactListener.endContact(h.contact),h=h.next;for(e.removeAllListeners(),e.resetListeners(),this.removeActorFromLayer(e,e.layer),0==e.physicsMode&&(e.body.setActive(!1),e.body.setAwake(!1),e.body.setBullet(e.type.bodyDef.bullet),null!=e.body.m_prev&&(e.body.m_prev.m_next=e.body.m_next),null!=e.body.m_next&&(e.body.m_next.m_prev=e.body.m_prev),e.body==this.world.m_bodyList&&(this.world.m_bodyList=e.body.m_next),e.body.m_prev=null,e.body.m_next=null,--this.world.m_bodyCount),e.xSpeed=0,e.ySpeed=0,e.rSpeed=0,e.continuousCollision=!1,h=0,_=this.tasks;h<_.length;)l=_[h],++h,l.actor==e&&this.removeTask(l);this.allActors.unset(e.ID)}},getRecycledActorOfType:function(e,i,s,n){return e=this.getRecycledActorOfTypeOnLayer(e,i,s,this.getLayerByOrder(n).ID),p.paused&&(e.updateDrawingMatrix(),e.pause()),e},getRecycledActorOfTypeOnLayer:function(e,i,s,n){var o=null;null==this.recycledActorsOfType.h[e.ID]&&(this.recycledActorsOfType.h[e.ID]=[]);var l=this.recycledActorsOfType.h[e.ID];if(null!=l){for(var _=0;_<l.length;)if(o=l[_],++_,null!=o&&o.recycled){if(o.createTime=Ya.getTimer(),this.allActors.set(o.ID,o),o.dead=!1,o.dying=!1,o.recycled=!1,o.killLeaveScreen=!1,o.switchToDefaultAnimation(),o.customizedBehaviors?(o.customizedBehaviors=!1,o.behaviors=new Pk,p.initBehaviors(o.behaviors,e.behaviorValues,o,this,!1)):o.enableAllBehaviors(),0==o.physicsMode&&(o.body.setActive(!0),o.body.setAwake(!0),o.body.m_prev=null,o.body.m_next=this.world.m_bodyList,null!=this.world.m_bodyList&&(this.world.m_bodyList.m_prev=o.body),this.world.m_bodyList=o.body,++this.world.m_bodyCount),o.registry=new va,o.enableActorDrawing(),o.setXY(i,s,!1,!0),0==o.physicsMode&&(o.colX=i,o.colY=s),o.setAngle(0,!1),o.setIgnoreGravity(o.defaultGravity),o.set_alpha(1),o.realScaleX=1,o.realScaleY=1,null!=o.bodyDef&&(o.continuousCollision=o.bodyDef.bullet),o.updateDrawingMatrix(!0),this.moveActorToLayer(o,this.getLayerById(n)),o.initScripts(),e=this.whenTypeGroupCreatedListeners.h[e.__id__],i=this.whenTypeGroupCreatedListeners,s=o.getGroup(),i=i.h[s.__id__],null!=e)for(s=o,n=0;n<e.length;){try{var h=e[n];h(s,e),-1==N.indexOf(e,h)&&--n}catch(f){if(ha.lastException=f,"string"!=typeof(f instanceof E?f.val:f))throw f}++n}if(null!=i)for(h=o,e=0;e<i.length;){try{var m=i[e];m(h,i),-1==N.indexOf(i,m)&&--e}catch(f){if(ha.lastException=f,"string"!=typeof(f instanceof E?f.val:f))throw f}++e}return o}o=this.createActorOfType(e,i,s,n)}return o},createActorOfType:function(e,i,s,n){if(null==e)return null;if(i=new Nm(1e8,0|i,0|s,1,1,n,-1,0,e.groupID,e.ID,null,!1),(i=this.createActor(i,!0)).initScripts(),e=this.whenTypeGroupCreatedListeners.h[e.__id__],s=this.whenTypeGroupCreatedListeners,n=i.getGroup(),s=s.h[n.__id__],null!=e)for(n=0;n<e.length;){try{var o=e[n];o(i,e),-1==N.indexOf(e,o)&&--n}catch(_){if(ha.lastException=_,"string"!=typeof(_ instanceof E?_.val:_))throw _}++n}if(null!=s)for(o=0;o<s.length;){try{var l=s[o];l(i,s),-1==N.indexOf(s,l)&&--o}catch(_){if(ha.lastException=_,"string"!=typeof(_ instanceof E?_.val:_))throw _}++o}return i},getTopLayer:function(){return this.topLayer.ID},getBottomLayer:function(){return this.bottomLayer.ID},getMiddleLayer:function(){return this.middleLayer.ID},update:function(e){if(null!=this.scene){if(Eb.update(0|e),!p.NO_PHYSICS){var i=this.world.getScreenBounds();i.lowerBound.x=(p.cameraX/p.SCALE-p.paddingLeft)/p.physicsScale,i.lowerBound.y=(p.cameraY/p.SCALE-p.paddingTop)/p.physicsScale,i.upperBound.x=i.lowerBound.x+(p.screenWidth+p.paddingRight+p.paddingLeft)/p.physicsScale,i.upperBound.y=i.lowerBound.y+(p.screenHeight+p.paddingBottom+p.paddingTop)/p.physicsScale}i=R.mouseX/p.SCALE|0;var s=R.mouseY/p.SCALE|0;if(R.mousePressed){u.mpx=i,u.mpy=s;for(var n=this.whenMousePressedListeners,o=0;o<n.length;){try{var l=n[o];l(n),-1==N.indexOf(n,l)&&--o}catch(g){if(ha.lastException=g,"string"!=typeof(g instanceof E?g.val:g))throw g}++o}}if(R.mouseReleased)for(u.mrx=i,u.mry=s,l=this.whenMouseReleasedListeners,n=0;n<l.length;){try{var _=l[n];_(l),-1==N.indexOf(l,_)&&--n}catch(g){if(ha.lastException=g,"string"!=typeof(g instanceof E?g.val:g))throw g}++n}if(this.mx!=i||this.my!=s){for(this.mx=i,this.my=s,_=this.whenMouseMovedListeners,i=0;i<_.length;){try{var h=_[i];h(_),-1==N.indexOf(_,h)&&--i}catch(g){if(ha.lastException=g,"string"!=typeof(g instanceof E?g.val:g))throw g}++i}if(R.mouseDown&&!R.mousePressed)for(h=this.whenMouseDraggedListeners,_=0;_<h.length;){try{var m=h[_];m(h),-1==N.indexOf(h,m)&&--_}catch(g){if(ha.lastException=g,"string"!=typeof(g instanceof E?g.val:g))throw g}++_}}for(m=0;m<this.tasks.length;)(h=this.tasks[m]).done||h.update(p.STEP_SIZE),h.done&&(B.remove(this.tasks,h),--m),++m;if(this.hasKeyPressedListeners){for(m=this.whenKeyPressedListeners.keys();m.hasNext();)if(_=m.next(),i=R.pressed(_),h=R.released(_),i||h)for(s=this.whenKeyPressedListeners,_=null!=t[_]?s.getReserved(_):s.h[_],s=0;s<_.length;){try{var f=_[s];f(i,h,_),-1==N.indexOf(_,f)&&--s}catch(g){if(ha.lastException=g,"string"!=typeof(g instanceof E?g.val:g))throw g}++s}this.keyPollOccurred=!0}for(f=this.whenUpdatedListeners,m=0;m<f.length;){try{var y=f[m];y(e,f),-1==N.indexOf(f,y)&&--m}catch(g){if(ha.lastException=g,"string"!=typeof(g instanceof E?g.val:g))throw g}++m}if(p.NO_PHYSICS||(this.world.step(.01,3,3),this.world.clearForces(),p.DEBUG_DRAW&&this.world.drawDebugData()),0!=this.regions.mSize)for(y=this.regions.iterator();y.hasNext();)f=y.next(),f?.innerUpdate(e,!0);for(;0<this.disableCollisionList.length;)this.disableCollisionList.pop();if(0!=this.collisionPairs.mSize)for(y=this.collisionPairs.keys();y.hasNext();)f=y.next(),this.collisionPairs.unset(f);if(Ke.updateAll(e),0!=this.allActors.mSize)for(y=this.allActors.iterator();y.hasNext();)null==(f=y.next())||f.dead||f.recycled||(m=(0!=f.physicsMode||f.body.isActive())&&f.colX+f.cacheWidth*f.realScaleX>=p.cameraX/p.SCALE-p.paddingLeft&&f.colY+f.cacheHeight*f.realScaleY>=p.cameraY/p.SCALE-p.paddingTop&&f.colX<p.cameraX/p.SCALE+p.screenWidth+p.paddingRight&&f.colY<p.cameraY/p.SCALE+p.screenHeight+p.paddingBottom,f.isOnScreenCache=m||f.isHUD,0==f.physicsMode&&null!=f.body?f.killLeaveScreen&&!m?this.recycleActor(f):(f.body.isActive()||f.alwaysSimulate||f.isHUD)&&f.innerUpdate(e,!1):0!=f.physicsMode&&(f.killLeaveScreen&&!m?this.recycleActor(f):(m||f.alwaysSimulate||f.isHUD)&&f.innerUpdate(e,!1)),f.dead&&this.disableCollisionList.push(f));for(this.keyPollOccurred=!1,y=0,f=this.disableCollisionList.length;y<f;)m=y++,null!=(m=this.disableCollisionList[m])&&(m.handlesCollisions=!1);for(y=0,f=this.animatedTiles.length;y<f;)m=y++,(m=this.animatedTiles[m]).update(e),this.tileUpdated=this.tileUpdated||m.updateSource;for(null!=this.leave&&this.leave.isActive()?this.leave.update(e):null!=this.enter&&this.enter.isActive()&&this.enter.update(e),y=this.layers.iterator();y.hasNext();)y.next().updatePosition(p.cameraX,p.cameraY,e);!p.NO_PHYSICS&&p.DEBUG_DRAW&&(this.debugLayer.set_x(-p.cameraX),this.debugLayer.set_y(-p.cameraY)),this.isShaking&&(this.shakeTimer-=p.STEP_SIZE,0>=this.shakeTimer?this.stopShakingScreen():(e=-this.shakeIntensity*p.screenHeight+2*Math.random()*this.shakeIntensity*p.screenHeight,this.master.set_x((-this.shakeIntensity*p.screenWidth+2*Math.random()*this.shakeIntensity*p.screenWidth)*p.SCALE),this.master.set_y(e*p.SCALE)))}},onUpdate:function(e){var i=(e=Ya.getTimer())-this.lastTime;200<=i&&(i=200),this.acc+=i,p.elapsedTime=i,p.totalElapsedTime+=0|i,null!=this.leave?(this.leave.isComplete()&&(this.leave.deactivate(),this.enterScene()),this.postUpdate(e)):(null!=this.enter&&this.enter.isComplete()&&(this.enter.deactivate(),this.enter.cleanup(),this.enter=null),this.sceneInitialized&&this.postUpdate(e))},postUpdate:function(e){for(;this.acc>p.STEP_SIZE;)this.update(p.STEP_SIZE),this.acc-=p.STEP_SIZE,R.update();if(this.lastTime=e,0!=this.allActors.mSize)for(e=this.allActors.iterator();e.hasNext();){var i=e.next();null==i||0==i.physicsMode&&null==i.body||(i.dead||i.dying?this.removeActor(i):i.updateMatrix||i.resetOrigin?(i.updateDrawingMatrix(),i.updateMatrix=!1,i.resetOrigin=!1):i.smoothMove&&(i.drawX!=i.realX||i.drawY!=i.realY)&&i.updateDrawingMatrix())}this.draw()},onFocus:function(e){p.inFocus||(p.inFocus=!0,this.focusChanged(!1))},onFocusLost:function(e){p.inFocus&&(p.inFocus=!1,this.focusChanged(!0))},focusChanged:function(e){if(null!=this.whenFocusChangedListeners)for(var i=this.whenFocusChangedListeners,s=0;s<i.length;){try{var n=i[s];n(e,i),-1==N.indexOf(i,n)&&--s}catch(o){if(ha.lastException=o,"string"!=typeof(o instanceof E?o.val:o))throw o}++s}},handleCollision:function(e,i){var s=e.typeID,n=i.otherActor.typeID;if(p.NO_PHYSICS)var o=1e6+i.thisActor.groupID,l=1e6+i.otherActor.groupID;else if(null!=i.thisShape?(-1e3==(o=i.thisShape.groupID)&&null!=(l=i.thisShape.getBody())&&(o=l.getUserData().groupID),o=1e6+o):o=1e6+i.thisActor.groupID,null!=i.otherShape){if(-1e3==(l=i.otherShape.groupID)){var _=i.otherShape.getBody();null!=_&&(l=_.getUserData().groupID)}l=1e6+l}else l=1e6+i.otherActor.groupID;if(null!=this.collisionPairs){var h=this.collisionPairs.mH,m=h.mHash[73856093*(_=e.ID)&h.mMask];if(-1==m)_=!1;else if((h=h.mData)[m]==_)_=!0;else{var f=!1;for(m=h[m+2];-1!=m;){if(h[m]==_){f=!0;break}m=h[m+2]}_=f}if(_||this.collisionPairs.set(e.ID,new Va),-1==(m=(h=this.collisionPairs.mH).mHash[73856093*(_=i.otherActor.ID)&h.mMask]))_=!1;else if((h=h.mData)[m]==_)_=!0;else{for(f=!1,m=h[m+2];-1!=m;){if(h[m]==_){f=!0;break}m=h[m+2]}_=f}if(_||this.collisionPairs.set(i.otherActor.ID,new Va),-1==(h=(f=(_=this.collisionPairs).mH).mHash[73856093*(m=e.ID)&f.mMask]))m=-2147483648;else if((f=f.mData)[h]==m)m=f[h+1];else{var y=-2147483648;for(h=f[h+2];-1!=h;){if(f[h]==m){y=f[h+1];break}h=f[h+2]}m=y}if((-2147483648==m?null:_.mVals[m]).h.hasOwnProperty(i.otherActor.ID))_=!0;else{if(-1==(h=(f=(_=this.collisionPairs).mH).mHash[73856093*(m=i.otherActor.ID)&f.mMask]))m=-2147483648;else if((f=f.mData)[h]==m)m=f[h+1];else{for(y=-2147483648,h=f[h+2];-1!=h;){if(f[h]==m){y=f[h+1];break}h=f[h+2]}m=y}_=(-2147483648==m?null:_.mVals[m]).h.hasOwnProperty(e.ID)}if(_)return}if(-1<s||-1<n){if(!i.otherCollidedWithTerrain&&this.collisionListeners.h.hasOwnProperty(s)&&this.collisionListeners.h[s].h.hasOwnProperty(n)){for(_=this.collisionListeners.h[s].h[n],m=0;m<_.length;){try{var g=_[m];g(i,_),-1==N.indexOf(_,g)&&--m}catch(_t){if(ha.lastException=_t,"string"!=typeof(_t instanceof E?_t.val:_t))throw _t}++m}0==_.length&&this.collisionListeners.h[s].remove(n)}if(s!=n&&this.collisionListeners.h.hasOwnProperty(n)&&this.collisionListeners.h[n].h.hasOwnProperty(s)){for(g=this.collisionListeners.h[n].h[s],_=i.switchData(Fc.get()),m=0;m<g.length;){try{var j=g[m];j(_,g),-1==N.indexOf(g,j)&&--m}catch(_t){if(ha.lastException=_t,"string"!=typeof(_t instanceof E?_t.val:_t))throw _t}++m}0==g.length&&this.collisionListeners.h[n].remove(s)}}if(0<o&&0<l){if(this.collisionListeners.h.hasOwnProperty(o)&&this.collisionListeners.h[o].h.hasOwnProperty(l)){for(s=this.collisionListeners.h[o].h[l],n=0;n<s.length;){try{var $=s[n];$(i,s),-1==N.indexOf(s,$)&&--n}catch(_t){if(ha.lastException=_t,"string"!=typeof(_t instanceof E?_t.val:_t))throw _t}++n}0==s.length&&this.collisionListeners.h[o].remove(l)}if(o!=l&&this.collisionListeners.h.hasOwnProperty(l)&&this.collisionListeners.h[l].h.hasOwnProperty(o)){for($=this.collisionListeners.h[l].h[o],s=i.switchData(Fc.get()),n=0;n<$.length;){try{var yt=$[n];yt(s,$),-1==N.indexOf($,yt)&&--n}catch(_t){if(ha.lastException=_t,"string"!=typeof(_t instanceof E?_t.val:_t))throw _t}++n}0==$.length&&this.collisionListeners.h[l].remove(o)}}if(null!=this.collisionPairs){if(-1==($=(l=(yt=this.collisionPairs).mH).mHash[73856093*(o=e.ID)&l.mMask]))o=-2147483648;else if((l=l.mData)[$]==o)o=l[$+1];else{for(s=-2147483648,$=l[$+2];-1!=$;){if(l[$]==o){s=l[$+1];break}$=l[$+2]}o=s}if((-2147483648==o?null:yt.mVals[o]).h[i.otherActor.ID]=!1,-1==(o=($=(yt=this.collisionPairs).mH).mHash[73856093*(i=i.otherActor.ID)&$.mMask]))i=-2147483648;else if(($=$.mData)[o]==i)i=$[o+1];else{for(l=-2147483648,o=$[o+2];-1!=o;){if($[o]==i){l=$[o+1];break}o=$[o+2]}i=l}(-2147483648==i?null:yt.mVals[i]).h[e.ID]=!1}},soundFinished:function(e){var i=T.__cast(this.channels[e],dc);if(null!=this.soundListeners){var s=this.soundListeners.h[i.currentClip.__id__];if(i.currentSound=null,null!=s)for(i=0;i<s.length;){try{var n=s[i];n(s),-1==N.indexOf(s,n)&&--i}catch(l){if(ha.lastException=l,"string"!=typeof(l instanceof E?l.val:l))throw l}++i}}else i.currentSound=null;if(null!=this.channelListeners&&null!=(e=this.channelListeners.h[e]))for(s=0;s<e.length;){try{var o=e[s];o(e),-1==N.indexOf(e,o)&&--s}catch(l){if(ha.lastException=l,"string"!=typeof(l instanceof E?l.val:l))throw l}++s}},addTask:function(e){this.tasks.push(e)},removeTask:function(e){B.remove(this.tasks,e)},shakeScreen:function(e,i){this.shakeTimer=p.MS_PER_SEC*i|0,this.isShaking=!0,this.shakeIntensity=e},stopShakingScreen:function(){this.shakeTimer=0,this.isShaking=!1,this.master.set_x(0),this.master.set_y(0)},cameraFollow:function(e,i,s){this.moveCamera(e.colX+e.cacheWidth/2,e.colY+e.cacheHeight/2)},moveCamera:function(e,i){this.camera.setLocation(e,i),p.cameraX=this.camera.realX-p.screenWidthHalf,p.cameraY=this.camera.realY-p.screenHeightHalf,p.limitCameraToScene&&(p.cameraX=Math.max(0,Math.min(p.sceneWidth-p.screenWidth,p.cameraX)),p.cameraY=Math.max(0,Math.min(p.sceneHeight-p.screenHeight,p.cameraY))),p.cameraX*=p.SCALE,p.cameraY*=p.SCALE,1!=this.zoomMultiplier&&this.isHUDZoomable&&(this.hudLayer.set_x(-u.getScreenX()),this.hudLayer.set_y(-u.getScreenY()))},setZoom:function(e,i){null==i&&(i=!0),0>=e||this.zoomMultiplier==e||(this.zoomMultiplier=e,this.root.set_scaleX(p.screenScaleX=e*p.unzoomedScaleX),this.root.set_scaleY(p.screenScaleY=e*p.unzoomedScaleY),i&&(p.screenWidth=1/e*ba.logicalWidth|0,p.screenWidthHalf=p.screenWidth/2|0,p.screenHeight=1/e*ba.logicalHeight|0,p.screenHeightHalf=p.screenHeight/2|0),this.setColorBackground(this.scene.colorBackground),this.root.set_scrollRect(new ia(0,0,p.screenWidth*p.SCALE,p.screenHeight*p.SCALE)),this.moveCamera(this.camera.realX,this.camera.realY),this.isHUDZoomable||(this.hudLayer.set_scaleX(1/e),this.hudLayer.set_scaleY(1/e)))},pause:function(){if(!this.isTransitioning()){if(p.paused=!0,0!=this.allActors.mSize)for(var e=this.allActors.keys();e.hasNext();){var i=e.next(),s=this.allActors,n=s.mH,o=n.mHash[73856093*i&n.mMask];if(-1==o)i=-2147483648;else if((n=n.mData)[o]==i)i=n[o+1];else{var l=-2147483648;for(o=n[o+2];-1!=o;){if(n[o]==i){l=n[o+1];break}o=n[o+2]}i=l}s=-2147483648==i?null:s.mVals[i],s?.pause()}for(e=this.whenPausedListeners,s=0;s<e.length;){try{var _=e[s];_(!0,e),-1==N.indexOf(e,_)&&--s}catch(h){if(ha.lastException=h,"string"!=typeof(h instanceof E?h.val:h))throw h}++s}}},unpause:function(){if(p.paused=!1,0!=this.allActors.mSize)for(var e=this.allActors.keys();e.hasNext();){var i=e.next(),s=this.allActors,n=s.mH,o=n.mHash[73856093*i&n.mMask];if(-1==o)i=-2147483648;else if((n=n.mData)[o]==i)i=n[o+1];else{var l=-2147483648;for(o=n[o+2];-1!=o;){if(n[o]==i){l=n[o+1];break}o=n[o+2]}i=l}s=-2147483648==i?null:s.mVals[i],s?.unpause()}for(e=this.whenPausedListeners,s=0;s<e.length;){try{var _=e[s];_(!1,e),-1==N.indexOf(e,_)&&--s}catch(h){if(ha.lastException=h,"string"!=typeof(h instanceof E?h.val:h))throw h}++s}},isPaused:function(){return p.paused},draw:function(){for(var e=0,i=this.interactiveLayers;e<i.length;){var s=i[e];++e,s.overlay.get_graphics().clear()}if(this.hudLayer.overlay.get_graphics().clear(),this.g.graphics=this.transitionLayer.get_graphics(),this.g.graphics.clear(),(e=this.g).alpha=1,e.strokeSize=0,e.fillColor=0,e.strokeColor=0,e.font=e.defaultFont,0!=this.allActors.mSize)for(e=this.allActors.iterator();e.hasNext();)if(0<(i=e.next()).whenDrawingListeners.length&&null!=i.layer){if(this.g.graphics=i.layer.overlay.get_graphics(),(s=this.g).drawActor=!0,s.actor=i,i.smoothMove){var n=i.drawY-Math.floor(i.cacheHeight/2)-i.currOffset.y;s.x=(i.drawX-Math.floor(i.cacheWidth/2)-i.currOffset.x)*s.scaleX,s.y=n*s.scaleY}else s.x=i.colX*s.scaleX,s.y=i.colY*s.scaleY;for((s=this.g).alpha=1,s.strokeSize=0,s.fillColor=0,s.strokeColor=0,s.font=s.defaultFont,i=i.whenDrawingListeners,s=this.g,n=0;n<i.length;){try{var o=i[n];o(s,0,0,i),-1==N.indexOf(i,o)&&--n}catch(_){if(ha.lastException=_,"string"!=typeof(_ instanceof E?_.val:_))throw _}++n}}for(o=0,e=this.interactiveLayers;o<e.length;)i=e[o],++o,(i.cameraMoved||this.tileUpdated)&&(i.tiles.draw(p.cameraX*i.scrollFactorX|0,p.cameraY*i.scrollFactorY|0),i.cameraMoved=!1);for(this.tileUpdated=!1,this.g.graphics=this.transitionLayer.get_graphics(),(o=this.g).drawActor=!1,o.actor=null,o.x=0,o.y=0,(o=this.g).alpha=1,o.strokeSize=0,o.fillColor=0,o.strokeColor=0,o.font=o.defaultFont,o=this.whenDrawingListeners,e=this.g,i=0;i<o.length;){try{var l=o[i];l(e,0,0,o),-1==N.indexOf(o,l)&&--i}catch(_){if(ha.lastException=_,"string"!=typeof(_ instanceof E?_.val:_))throw _}++i}eb.visitStringCache(),null!=this.leave&&this.leave.isActive()?this.leave.draw(null):null!=this.enter&&this.enter.isActive()&&this.enter.draw(null),null!=this.shaders&&0<this.shaders.length&&this.shaders[0].capture()},getValue:function(e,i){return this.behaviors.getAttribute(e,i)},setValue:function(e,i,s){this.behaviors.setAttribute(e,i,s)},say:function(e,i,s){return this.behaviors.call2(e,i,s)},shout:function(e,i){return this.behaviors.call(e,i)},getActor:function(e){var i=this.allActors,s=i.mH,n=s.mHash[73856093*e&s.mMask];if(-1==n)e=-2147483648;else if((s=s.mData)[n]==e)e=s[n+1];else{var o=-2147483648;for(n=s[n+2];-1!=n;){if(s[n]==e){o=s[n+1];break}n=s[n+2]}e=o}return-2147483648==e?null:i.mVals[e]},getActorsOfType:function(e){return null==e?[]:null!=this.actorsOfType.h[e.ID]?this.actorsOfType.h[e.ID]:[]},getRecycledActorsOfType:function(e){return this.recycledActorsOfType.h[e.ID]},getLayer:function(e,i){return 0==e?this.getLayerById(O.parseInt(i)):this.getLayerByName(i)},getLayerById:function(e,i){if(null==i&&(i=!0),-1==e)return null;var s=p.engine.layers,n=s.mH,o=n.mHash[73856093*e&n.mMask];if(-1==o)e=-2147483648;else if((n=n.mData)[o]==e)e=n[o+1];else{var l=-2147483648;for(o=n[o+2];-1!=o;){if(n[o]==e){l=n[o+1];break}o=n[o+2]}e=l}return null==(s=-2147483648==e?null:s.mVals[e])&&i&&(s=this.topLayer),s},getLayerByName:function(e,i){null==i&&(i=!0);var s=p.engine.layersByName;return null==(e=null!=t[e]?s.getReserved(e):s.h[e])&&i&&(e=this.topLayer),e},getLayerByOrder:function(e){switch(e){case 0:default:e=this.topLayer;break;case 1:e=this.middleLayer;break;case 2:e=this.bottomLayer}return e},sendToBack:function(e){e.isHUD||this.moveActorToLayer(e,this.bottomLayer)},sendBackward:function(e){if(!e.isHUD)for(var i=e.layer.order;this.layersToDraw.h.hasOwnProperty(--i);)if(this.layersToDraw.h[i]instanceof Tc){this.moveActorToLayer(e,this.layersToDraw.h[i]);break}},bringToFront:function(e){e.isHUD||this.moveActorToLayer(e,this.topLayer)},bringForward:function(e){if(!e.isHUD)for(var i=e.layer.order;this.layersToDraw.h.hasOwnProperty(++i);)if(this.layersToDraw.h[i]instanceof Tc){this.moveActorToLayer(e,this.layersToDraw.h[i]);break}},getNumberOfActorsWithinLayer:function(e){return e instanceof Tc?T.__cast(e,Tc).actorContainer.get_numChildren():0},getNumberOfLayers:function(){return this.master.get_numChildren()},getOrderOfLayer:function(e){return e.order},moveLayerToOrder:function(e,i){0>i&&(i=0),i>this.master.get_numChildren()-1&&(i=this.master.get_numChildren()-1),e.order!=i&&(this.master.setChildIndex(e,i),this.refreshLayers())},getNextLayerID:function(){for(var e=-1,i=this.layers.iterator();i.hasNext();){var s=i.next();e=0|Math.max(e,s.ID)}return e+1},insertLayer:function(e,i){this.master.addChildAt(e,i),e instanceof oe?this.backgroundLayers.push(T.__cast(e,oe)):e instanceof Tc&&this.interactiveLayers.push(T.__cast(e,Tc)),this.layers.set(e.ID,e);var s=this.layersByName;null!=t[i=e.layerName]?s.setReserved(i,e):s.h[i]=e,this.refreshLayers()},removeLayer:function(e){this.master.removeChild(e),e instanceof oe?B.remove(this.backgroundLayers,T.__cast(e,oe)):e instanceof Tc&&B.remove(this.interactiveLayers,T.__cast(e,Tc)),this.layers.unset(e.ID),this.layersByName.remove(e.layerName),this.refreshLayers()},refreshLayers:function(){for(var e=!1,i=!1,s=0,n=0,o=this.master.get_numChildren();n<o;){var l=n++,_=T.__cast(this.master.getChildAt(l),Yg);this.layersToDraw.h[l]=_,_.order=l,_ instanceof Tc&&(e||(e=!0,this.bottomLayer=_),i||s!=Math.floor(this.interactiveLayers.length/2)||(i=!0,this.middleLayer=_),this.topLayer=_,++s)}},getPhysicalWidth:function(){return this.physicalWidth},getPhysicalHeight:function(){return this.physicalHeight},enableGlobalSleeping:function(){this.world.m_allowSleep=!0},disableGlobalSleeping:function(){this.world.m_allowSleep=!1},getGroup:function(e,i){return-1e3==e&&null!=i?(e=this.groups,i=i.getGroupID(),e.h[i]):this.groups.h[e]},getGroupByName:function(e){var i=this.reverseGroups;return(e=null!=t[e]?i.getReserved(e):i.h[e])??this.groups.h[3]},nextJointID:function(){for(var e=-1,i=this.joints.iterator();i.hasNext();){var s=i.next();null!=s&&(e=0|Math.max(e,s.ID))}return e+1},addJoint:function(e){var i=this.nextJointID();e.ID=i,this.joints.h[i]=e},getJoint:function(e){return this.joints.h[e]},destroyJoint:function(e){this.joints.remove(e.ID),this.world.destroyJoint(e)},createStickJoint:function(e,i,s,n,o,l){null==l&&(l=0),null==o&&(o=0),null==n&&(n=!1),null==s&&(s=-1);var _=e.getLocalCenter(),h=i.getLocalCenter();0==e.getType()&&(_.x=e.getUserData().getPhysicsWidth()/2,_.y=e.getUserData().getPhysicsHeight()/2),0==i.getType()&&(h.x=i.getUserData().getPhysicsWidth()/2,h.y=i.getUserData().getPhysicsHeight()/2),_=e.getWorldPoint(_),h=i.getWorldPoint(h);var m=new Ci;return m.initialize(e,i,_,h),m.collideConnected=n,m.dampingRatio=o,m.frequencyHz=l,e=this.world.createJoint(m),-1==s?this.addJoint(e):(this.joints.h[s]=e,e.ID=s),T.__cast(e,mj)},createCustomStickJoint:function(e,i,s,n,o,l){return i=new K(i,s),o=new K(o,l),i.x=p.toPhysicalUnits(i.x),i.y=p.toPhysicalUnits(i.y),o.x=p.toPhysicalUnits(o.x),o.y=p.toPhysicalUnits(o.y),i=e.getWorldPoint(i),o=n.getWorldPoint(o),(l=new Ci).initialize(e,n,i,o),e=this.world.createJoint(l),this.addJoint(e),T.__cast(e,mj)},createHingeJoint:function(e,i,s,n,o,l,_,h,m,f,y){null==y&&(y=0),null==f&&(f=0),null==m&&(m=0),null==h&&(h=0),null==_&&(_=!1),null==l&&(l=!1),null==o&&(o=!1),null==n&&(n=-1),null==i&&(i=this.world.m_groundBody),null==s&&(s=e.getLocalCenter());var g=new Di;return g.bodyA=e,g.bodyB=i,s.x=p.toPhysicalUnits(s.x),s.y=p.toPhysicalUnits(s.y),g.localAnchorA=s,g.localAnchorB=i.getLocalPoint(e.getWorldPoint(s)),g.collideConnected=o,g.enableLimit=l,g.enableMotor=_,g.lowerAngle=h,g.upperAngle=m,g.maxMotorTorque=f,g.motorSpeed=y,e=this.world.createJoint(g),-1==n?this.addJoint(e):(this.joints.h[n]=e,e.ID=n),T.__cast(e,Bg)},createSlidingJoint:function(e,i,s,n,o,l,_,h,m,f,y){null==y&&(y=0),null==f&&(f=0),null==m&&(m=0),null==h&&(h=0),null==_&&(_=!1),null==l&&(l=!1),null==o&&(o=!1),null==n&&(n=-1),null==i&&(i=this.world.m_groundBody),null==s&&(s=new K(1,0)),s.normalize();var g=e.getWorldCenter(),j=i.getWorldCenter();return 0==e.getType()&&null!=e.getUserData()&&(g.x=e.getUserData().getPhysicsWidth()/2,g.y=e.getUserData().getPhysicsHeight()/2,g=e.getWorldPoint(g)),0==i.getType()&&null!=i.getUserData()&&(j.x=i.getUserData().getPhysicsWidth()/2,j.y=i.getUserData().getPhysicsHeight()/2,i.getWorldPoint(j)),(j=new Ei).initialize(e,i,g,s),j.collideConnected=o,j.enableLimit=l,j.enableMotor=_,j.lowerTranslation=p.toPhysicalUnits(h),j.upperTranslation=p.toPhysicalUnits(m),j.maxMotorForce=f,j.motorSpeed=p.toPhysicalUnits(y),e=this.world.createJoint(j),-1==n?this.addJoint(e):(this.joints.h[n]=e,e.ID=n),T.__cast(e,Ok)},createRegion:function(e,i,s,n){null==n&&(n=!1);var o=[];return o.push(s),s=new Dd(this,e,i,o),n&&s.setXY(e+s.regionWidth/2,i+s.regionHeight/2),this.addRegion(s),s},createBoxRegion:function(e,i,s,n){if(p.NO_PHYSICS)return e=new Dd(this,e,i,[],new ia(0,0,s,n)),this.addRegion(e),e;s=p.toPhysicalUnits(s),n=p.toPhysicalUnits(n);var o=new Jb;return o.setAsBox(s/2,n/2),this.createRegion(e,i,o,!0)},createCircularRegion:function(e,i,s){if(p.NO_PHYSICS)return e=new Dd(this,e,i,[],new ia(0,0,2*s,2*s)),this.addRegion(e),e;s=p.toPhysicalUnits(s);var n=new ad;return n.m_radius=s,this.createRegion(e,i,n,!0)},addRegion:function(e){-1==e.ID&&(e.ID=this.nextRegionID()),this.regions.set(e.ID,e),p.NO_PHYSICS&&this.groups.h[-2].addChild(e)},removeRegion:function(e){e=this.getRegion(e),this.regions.unset(e.ID),e.destroy(),p.NO_PHYSICS&&this.groups.h[-2].removeChild(e)},getRegion:function(e){var i=this.regions,s=i.mH,n=s.mHash[73856093*e&s.mMask];if(-1==n)e=-2147483648;else if((s=s.mData)[n]==e)e=s[n+1];else{var o=-2147483648;for(n=s[n+2];-1!=n;){if(s[n]==e){o=s[n+1];break}n=s[n+2]}e=o}return-2147483648==e?null:i.mVals[e]},getRegions:function(){return this.regions},nextRegionID:function(){for(var e=-1,i=this.regions.iterator();i.hasNext();){var s=i.next();null!=s&&(e=0|Math.max(e,s.ID))}return e+1},isInRegion:function(e,i){if(null!=i){var s=this.regions,n=i.getID(),o=s.mH,l=o.mHash[73856093*n&o.mMask];if(-1==l)n=-2147483648;else if((o=o.mData)[l]==n)n=o[l+1];else{var _=-2147483648;for(l=o[l+2];-1!=l;){if(o[l]==n){_=o[l+1];break}l=o[l+2]}n=_}s=null!=(-2147483648==n?null:s.mVals[n])}else s=!1;return!!s&&i.containsActor(e)},createTerrainRegion:function(e,i,s,n,o){null==o&&(o=1),null==n&&(n=!1);var l=[];return l.push(s),s=new vh(this,e,i,l,o),n&&s.setXY(e+s.regionWidth/2,i+s.regionHeight/2),this.addTerrainRegion(s),s},createBoxTerrainRegion:function(e,i,s,n,o){null==o&&(o=1),s=p.toPhysicalUnits(s),n=p.toPhysicalUnits(n);var l=new Jb;return l.setAsBox(s/2,n/2),this.createTerrainRegion(e,i,l,!0,o)},createCircularTerrainRegion:function(e,i,s,n){null==n&&(n=1),s=p.toPhysicalUnits(s);var o=new ad;return o.m_radius=s,this.createTerrainRegion(e,i,o,!0,n)},addTerrainRegion:function(e){-1==e.ID&&(e.ID=this.nextTerrainRegionID()),this.terrainRegions.h[e.ID]=e},removeTerrainRegion:function(e){var i=this.getTerrainRegion(e);this.terrainRegions.remove(e),i.destroy()},getTerrainRegion:function(e){return this.terrainRegions.h[e]},getTerrainRegions:function(){return this.terrainRegions},nextTerrainRegionID:function(){for(var e=-1,i=this.terrainRegions.iterator();i.hasNext();){var s=i.next();null!=s&&(e=0|Math.max(e,s.ID))}return e+1},setGameAttribute:function(e,i){var s=this.gameAttributes;null!=t[e]?s.setReserved(e,i):s.h[e]=i},getGameAttribute:function(e){var i=this.gameAttributes;return null!=t[e]?i.getReserved(e):i.h[e]},setOffscreenTolerance:function(e,i,s,n){p.paddingTop=e,p.paddingLeft=i,p.paddingBottom=s,p.paddingRight=n},setScrollFactor:function(e,i,s){this.setLayerScrollFactor(this.getLayerById(e),i,s)},setLayerScrollFactor:function(e,i,s){null==s&&(s=i),e.scrollFactorX=i,e.scrollFactorY=s},__class__:p};var R=function(){};k["com.stencyl.Input"]=R,R.__name__="com.stencyl.Input",R.resetStatics=function(){p.stage.removeEventListener("keyDown",R.onKeyDown),p.stage.removeEventListener("keyUp",R.onKeyUp),p.stage.removeEventListener("mouseDown",R.onMouseDown),p.stage.removeEventListener("mouseUp",R.onMouseUp),p.stage.removeEventListener("mouseWheel",R.onMouseWheel),Le.get_supportsTouchEvents()&&(p.stage.removeEventListener("touchBegin",R.onTouchBegin),p.stage.removeEventListener("touchMove",R.onTouchMove),p.stage.removeEventListener("touchEnd",R.onTouchEnd)),R._roxAgent.detach(),p.engine.root.removeEventListener("rox_gesture_swipe",R.onSwipe),R.mouseX=0,R.mouseY=0,R.mouseDown=R.mousePressed=R.mouseReleased=R.mouseWheel=!1,R.rightMouseDown=R.rightMousePressed=R.rightMouseReleased=!1,R.middleMouseDown=R.middleMousePressed=R.middleMouseReleased=!1,R.mouseWheelDelta=0,R.accelX=R.accelY=R.accelZ=0,R.multiTouchPoints=null,R.numTouches=0,R._swipeDirection=0,R.swipedUp=R.swipedDown=R.swipedRight=R.swipedLeft=!1,R._roxAgent=null,R._enabled=!1,R._key=[],R._keyControlMap=new Va,R._controlMap=new va,R._controlsToReset=[]},R.define=function(e,i){var s=R._controlMap;if(null==(null!=t[e]?s.getReserved(e):s.h[e])){s=R._controlMap;var n=new Om(e);null!=t[e]?s.setReserved(e,n):s.h[e]=n}else R.unmapControl(e);for(s=0;s<i.length;)n=i[s],++s,R.mapKey(n,e)},R.mapKey=function(e,i){var s=R._keyControlMap.h[e];null!=s&&(B.remove(s.keys,e),R.controlStateUpdated(s)),s=R._controlMap,(i=null!=t[i]?s.getReserved(i):s.h[i]).keys.push(e),R.controlStateUpdated(i),R._keyControlMap.h[e]=i},R.unmapKey=function(e){var i=R._keyControlMap.h[e];null!=i&&(B.remove(i.keys,e),R.controlStateUpdated(i)),R._keyControlMap.remove(e)},R.getKeys=function(e){var i=R._controlMap;return null!=(e=null!=t[e]?i.getReserved(e):i.h[e])?e.keys:null},R.mapJoystickButton=function(e,i){},R.unmapJoystickButton=function(e){},R.unmapControl=function(e){var i=R._controlMap;for(e=null!=t[e]?i.getReserved(e):i.h[e];0<e.keys.length;)R._keyControlMap.remove(e.keys.pop());e.down&&R.controlReleased(e)},R.unmapKeyboardFromControl=function(e){var i=R._controlMap;for(e=null!=t[e]?i.getReserved(e):i.h[e];0<e.keys.length;)R._keyControlMap.remove(e.keys.pop());R.controlStateUpdated(e)},R.unmapJoystickFromControl=function(e){var i=R._controlMap;e=null!=t[e]?i.getReserved(e):i.h[e],R.controlStateUpdated(e)},R.setJoySensitivity=function(e){},R.saveJoystickConfig=function(e){},R.loadJoystickConfig=function(e){},R.clearJoystickConfig=function(){},R.loadInputConfig=function(){for(var e=ja.keys.keys();e.hasNext();){var i=e.next(),s=ja.keys;s=null!=t[i]?s.getReserved(i):s.h[i];for(var n=[],o=0;o<s.length;){var l=s[o];++o,n.push(Ma.keyFromName(l))}for(s=new Om(i),o=R._controlMap,null!=t[i]?o.setReserved(i,s):o.h[i]=s,s.keys=n,i=0,n=s.keys;i<n.length;)o=n[i],++i,R._keyControlMap.h[o]=s}},R.check=function(e){var i=R._controlMap;return null!=(e=null!=t[e]?i.getReserved(e):i.h[e])&&e.down},R.pressed=function(e){var i=R._controlMap;return null!=(e=null!=t[e]?i.getReserved(e):i.h[e])&&e.pressed},R.released=function(e){var i=R._controlMap;return null!=(e=null!=t[e]?i.getReserved(e):i.h[e])&&e.released},R.getButtonPressure=function(e){var i=R._controlMap;return null!=(e=null!=t[e]?i.getReserved(e):i.h[e])?e.pressure:0},R.simulateKeyPress=function(e){var i=R._controlMap;R.controlPressed(null!=t[e]?i.getReserved(e):i.h[e],1)},R.simulateKeyRelease=function(e){var i=R._controlMap;R.controlReleased(null!=t[e]?i.getReserved(e):i.h[e])},R.enableJoystick=function(){},R.enable=function(){R._enabled||null==p.stage||(p.stage.addEventListener("keyDown",R.onKeyDown,!1,2),p.stage.addEventListener("keyUp",R.onKeyUp,!1,2),p.stage.addEventListener("mouseDown",R.onMouseDown,!1,2),p.stage.addEventListener("mouseUp",R.onMouseUp,!1,2),p.stage.addEventListener("mouseWheel",R.onMouseWheel,!1,2),Le.get_supportsTouchEvents()&&(R.multiTouchPoints=new va,Le.inputMode=2,p.stage.addEventListener("touchBegin",R.onTouchBegin),p.stage.addEventListener("touchMove",R.onTouchMove),p.stage.addEventListener("touchEnd",R.onTouchEnd)),R._roxAgent=new da(p.engine.root,2),p.engine.root.addEventListener("rox_gesture_swipe",R.onSwipe),R._swipeDirection=-1,R.swipedLeft=!1,R.swipedRight=!1,R.swipedUp=!1,R.swipedDown=!1,R.mouseX=0,R.mouseY=0,R.accelX=0,R.accelY=0,R.accelZ=0,R.numTouches=0,R._enabled=!0)},R.update=function(){if(R.swipedLeft=!1,R.swipedRight=!1,R.swipedUp=!1,R.swipedDown=!1,-1<R._swipeDirection){switch(R._swipeDirection){case 0:R.swipedLeft=!0;break;case 1:R.swipedRight=!0;break;case 2:R.swipedUp=!0;break;case 3:R.swipedDown=!0}if(null!=p.engine.whenSwipedListeners)for(var e=p.engine.whenSwipedListeners,i=0;i<e.length;){try{var s=e[i];s(e),-1==N.indexOf(e,s)&&--i}catch(n){if(ha.lastException=n,"string"!=typeof(n instanceof E?n.val:n))throw n}++i}R._swipeDirection=-1}for(R.mouseX=(p.stage.get_mouseX()-p.screenOffsetX)/p.screenScaleX,R.mouseY=(p.stage.get_mouseY()-p.screenOffsetY)/p.screenScaleY,e=R._controlsToReset.length;0<=--e;)(i=R._controlsToReset.pop()).pressed=!1,i.released=!1;R.mousePressed&&(R.mousePressed=!1),R.mouseReleased&&(R.mouseReleased=!1),R.rightMousePressed&&(R.rightMousePressed=!1),R.rightMouseReleased&&(R.rightMouseReleased=!1),R.middleMousePressed&&(R.middleMousePressed=!1),R.middleMouseReleased&&(R.middleMouseReleased=!1),R.mouseWheelDelta=0},R.onSwipe=function(e){e=T.__cast(e.extra,ra),Math.abs(e.x)<=Math.abs(e.y)?R._swipeDirection=0>=e.y?2:3:Math.abs(e.x)>Math.abs(e.y)&&(R._swipeDirection=0>=e.x?0:1)},R.controlPressed=function(e,i){if(null!=e)if(e.down)e.pressure=i;else if(e.down=!0,e.pressed=!0,e.pressure=i,R._controlsToReset.push(e),p.engine.keyPollOccurred&&(i=p.engine.whenKeyPressedListeners,null!=(e=null!=t[e=e.name]?i.getReserved(e):i.h[e])))for(i=0;i<e.length;){try{var s=e[i];s(!0,!1,e),-1==N.indexOf(e,s)&&--i}catch(n){if(ha.lastException=n,"string"!=typeof(n instanceof E?n.val:n))throw n}++i}},R.controlReleased=function(e){if(null!=e&&e.down&&(e.down=!1,e.released=!0,e.pressure=0,R._controlsToReset.push(e),p.engine.keyPollOccurred)){var i=p.engine.whenKeyPressedListeners;if(null!=(e=null!=t[e=e.name]?i.getReserved(e):i.h[e]))for(i=0;i<e.length;){try{var s=e[i];s(!1,!0,e),-1==N.indexOf(e,s)&&--i}catch(n){if(ha.lastException=n,"string"!=typeof(n instanceof E?n.val:n))throw n}++i}}},R.controlStateUpdated=function(e){for(var i=0,s=0,n=e.keys;s<n.length;){var o=n[s];++s,R._key[o]&&(i=1)}e.pressure=i,0<i&&!e.down?R.controlPressed(e,i):0==i&&e.down&&R.controlReleased(e)},R.onKeyDown=function(e){var i=e.keyCode;if(!(7e3<i)){R._key[i]||(R._key[i]=!0,R.controlPressed(R._keyControlMap.h[i],1)),i=p.engine.whenAnyKeyPressedListeners;for(var s=0;s<i.length;){try{var n=i[s];n(e,i),-1==N.indexOf(i,n)&&--s}catch(o){if(ha.lastException=o,"string"!=typeof(o instanceof E?o.val:o))throw o}++s}}},R.onKeyUp=function(e){var i=e.keyCode;if(!(7e3<i)){R._key[i]&&(R._key[i]=!1,R.controlReleased(R._keyControlMap.h[i])),i=p.engine.whenAnyKeyReleasedListeners;for(var s=0;s<i.length;){try{var n=i[s];n(e,i),-1==N.indexOf(i,n)&&--s}catch(o){if(ha.lastException=o,"string"!=typeof(o instanceof E?o.val:o))throw o}++s}}},R.onMouseDown=function(e){R.mouseX=(p.stage.get_mouseX()-p.screenOffsetX)/p.screenScaleX,R.mouseY=(p.stage.get_mouseY()-p.screenOffsetY)/p.screenScaleY,R.mouseDown||(R.mouseDown=!0,R.mousePressed=!0)},R.onMouseUp=function(e){R.mouseX=(p.stage.get_mouseX()-p.screenOffsetX)/p.screenScaleX,R.mouseY=(p.stage.get_mouseY()-p.screenOffsetY)/p.screenScaleY,R.mouseDown=!1,R.mouseReleased=!0},R.onRightMouseDown=function(e){R.rightMouseDown||(R.rightMouseDown=!0,R.rightMousePressed=!0)},R.onRightMouseUp=function(e){R.rightMouseDown=!1,R.rightMouseReleased=!0},R.onMiddleMouseDown=function(e){R.middleMouseDown||(R.middleMouseDown=!0,R.middleMousePressed=!0)},R.onMiddleMouseUp=function(e){R.middleMouseDown=!1,R.middleMouseReleased=!0},R.onMouseWheel=function(e){R.mouseWheel=!0,R.mouseWheelDelta=e.delta},R.onTouchBegin=function(e){for(var i=p.engine.whenMTStartListeners,s=0;s<i.length;){try{var n=i[s];n(e,i),-1==N.indexOf(i,n)&&--s}catch(o){if(ha.lastException=o,"string"!=typeof(o instanceof E?o.val:o))throw o}++s}s=R.multiTouchPoints,null!=t[i=null==e.touchPointID?"null":""+e.touchPointID]?s.setReserved(i,e):s.h[i]=e,R.numTouches++},R.onTouchMove=function(e){for(var i=p.engine.whenMTDragListeners,s=0;s<i.length;){try{var n=i[s];n(e,i),-1==N.indexOf(i,n)&&--s}catch(o){if(ha.lastException=o,"string"!=typeof(o instanceof E?o.val:o))throw o}++s}s=R.multiTouchPoints,null!=t[i=null==e.touchPointID?"null":""+e.touchPointID]?s.setReserved(i,e):s.h[i]=e},R.onTouchEnd=function(e){for(var i=p.engine.whenMTEndListeners,s=0;s<i.length;){try{var n=i[s];n(e,i),-1==N.indexOf(i,n)&&--s}catch(o){if(ha.lastException=o,"string"!=typeof(o instanceof E?o.val:o))throw o}++s}R.multiTouchPoints.remove(null==e.touchPointID?"null":""+e.touchPointID),R.numTouches--};var Om=function(e){this.pressure=0,this.name=e,this.keys=[]};k["com.stencyl.Control"]=Om,Om.__name__="com.stencyl.Control",Om.prototype={name:null,keys:null,pressed:null,released:null,down:null,pressure:null,__class__:Om};var Ma=function(){};k["com.stencyl.Key"]=Ma,Ma.__name__="com.stencyl.Key",Ma.nameOfKey=function(e){if(97<=e&&122>=e)return String.fromCodePoint(e);if(112<=e&&126>=e)return"F"+O.string(e-111);if(96<=e&&105>=e)return"NUMPAD "+O.string(e-96);switch(e){case 8:return"BACKSPACE";case 9:return"TAB";case 13:return"ENTER";case 15:return"COMMAND";case 16:return"SHIFT";case 17:return"CONTROL";case 20:return"CAPS LOCK";case 27:return"ESCAPE";case 32:return"SPACE";case 33:return"PAGE UP";case 34:return"PAGE DOWN";case 35:return"END";case 36:return"HOME";case 37:return"LEFT";case 38:return"UP";case 39:return"RIGHT";case 40:return"DOWN";case 45:return"INSERT";case 46:return"DELETE";case 106:return"NUMPAD MULTIPLY";case 107:return"NUMPAD ADD";case 108:return"NUMPAD ENTER";case 109:return"NUMPAD SUBTRACT";case 110:return"NUMPAD DECIMAL";case 111:return"NUMPAD DIVIDE";default:return String.fromCodePoint(e)}},Ma.keyFromName=function(e){var i=Ma.keyboardNameMap;return null!=t[e]?i.getReserved(e):i.h[e]};var ra=function(e,i){null==i&&(i=0),null==e&&(e=0),this.x=e,this.y=i};k["openfl.geom.Point"]=ra,ra.__name__="openfl.geom.Point",ra.distance=function(e,i){var s=e.x-i.x;return e=e.y-i.y,Math.sqrt(s*s+e*e)},ra.interpolate=function(e,i,s){return new ra(i.x+s*(e.x-i.x),i.y+s*(e.y-i.y))},ra.polar=function(e,i){return new ra(e*Math.cos(i),e*Math.sin(i))},ra.prototype={x:null,y:null,add:function(e){return new ra(e.x+this.x,e.y+this.y)},clone:function(){return new ra(this.x,this.y)},copyFrom:function(e){this.x=e.x,this.y=e.y},equals:function(e){return null!=e&&e.x==this.x&&e.y==this.y},normalize:function(e){(0!=this.x||0!=this.y)&&(e/=Math.sqrt(this.x*this.x+this.y*this.y),this.x*=e,this.y*=e)},offset:function(e,i){this.x+=e,this.y+=i},setTo:function(e,i){this.x=e,this.y=i},subtract:function(e){return new ra(this.x-e.x,this.y-e.y)},toString:function(){return"(x="+this.x+", y="+this.y+")"},__toLimeVector2:function(){null==ra.__limeVector2&&(ra.__limeVector2=new Fd);var e=ra.__limeVector2;return e.x=this.x,e.y=this.y,ra.__limeVector2},get_length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},__class__:ra,__properties__:{get_length:"get_length"}};var ia=function(e,i,s,n){null==n&&(n=0),null==s&&(s=0),null==i&&(i=0),null==e&&(e=0),this.x=e,this.y=i,this.width=s,this.height=n};k["openfl.geom.Rectangle"]=ia,ia.__name__="openfl.geom.Rectangle",ia.prototype={height:null,width:null,x:null,y:null,clone:function(){return new ia(this.x,this.y,this.width,this.height)},contains:function(e,i){return e>=this.x&&i>=this.y&&e<this.get_right()&&i<this.get_bottom()},containsPoint:function(e){return this.contains(e.x,e.y)},containsRect:function(e){return 0>=e.width||0>=e.height?e.x>this.x&&e.y>this.y&&e.get_right()<this.get_right()&&e.get_bottom()<this.get_bottom():e.x>=this.x&&e.y>=this.y&&e.get_right()<=this.get_right()&&e.get_bottom()<=this.get_bottom()},copyFrom:function(e){this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height},equals:function(e){return e==this||null!=e&&this.x==e.x&&this.y==e.y&&this.width==e.width&&this.height==e.height},inflate:function(e,i){this.x-=e,this.width+=2*e,this.y-=i,this.height+=2*i},inflatePoint:function(e){this.inflate(e.x,e.y)},intersection:function(e){var i=this.x<e.x?e.x:this.x,s=this.get_right()>e.get_right()?e.get_right():this.get_right();if(s<=i)return new ia;var n=this.y<e.y?e.y:this.y;return(e=this.get_bottom()>e.get_bottom()?e.get_bottom():this.get_bottom())<=n?new ia:new ia(i,n,s-i,e-n)},intersects:function(e){var i=this.x<e.x?e.x:this.x;return!((this.get_right()>e.get_right()?e.get_right():this.get_right())<=i)&&(i=this.y<e.y?e.y:this.y,(this.get_bottom()>e.get_bottom()?e.get_bottom():this.get_bottom())>i)},isEmpty:function(){return 0>=this.width||0>=this.height},offset:function(e,i){this.x+=e,this.y+=i},offsetPoint:function(e){this.x+=e.x,this.y+=e.y},setEmpty:function(){this.x=this.y=this.width=this.height=0},setTo:function(e,i,s,n){this.x=e,this.y=i,this.width=s,this.height=n},toString:function(){return"(x="+this.x+", y="+this.y+", width="+this.width+", height="+this.height+")"},union:function(e){if(0==this.width||0==this.height)return e.clone();if(0==e.width||0==e.height)return this.clone();var i=this.x>e.x?e.x:this.x,s=this.get_right()<e.get_right()?e.get_right():this.get_right(),n=this.y>e.y?e.y:this.y;return e=this.get_bottom()<e.get_bottom()?e.get_bottom():this.get_bottom(),new ia(i,n,s-i,e-n)},__contract:function(e,i,s,n){if(0!=this.width||0!=this.height){var o=0,l=0,_=0,h=0;this.x<e&&(o=e-this.x),this.y<i&&(l=i-this.y),this.get_right()>e+s&&(_=e+s-this.get_right()),this.get_bottom()>i+n&&(h=i+n-this.get_bottom()),this.x+=o,this.y+=l,this.width+=_-o,this.height+=h-l}},__expand:function(e,i,s,n){if(0==this.width&&0==this.height)this.x=e,this.y=i,this.width=s,this.height=n;else{var o=this.get_right(),l=this.get_bottom();this.x>e&&(this.x=e,this.width=o-e),this.y>i&&(this.y=i,this.height=l-i),o<e+s&&(this.width=e+s-this.x),l<i+n&&(this.height=i+n-this.y)}},__toLimeRectangle:function(){return null==ia.__limeRectangle&&(ia.__limeRectangle=new je),ia.__limeRectangle.setTo(this.x,this.y,this.width,this.height),ia.__limeRectangle},__transform:function(e,i){var s=i.a*this.x+i.c*this.y,n=s,o=i.b*this.x+i.d*this.y,l=o,_=i.a*(this.x+this.width)+i.c*this.y,h=i.b*(this.x+this.width)+i.d*this.y;_<s&&(s=_),h<o&&(o=h),_>n&&(n=_),h>l&&(l=h),(_=i.a*(this.x+this.width)+i.c*(this.y+this.height))<s&&(s=_),(h=i.b*(this.x+this.width)+i.d*(this.y+this.height))<o&&(o=h),_>n&&(n=_),h>l&&(l=h),(_=i.a*this.x+i.c*(this.y+this.height))<s&&(s=_),(h=i.b*this.x+i.d*(this.y+this.height))<o&&(o=h),_>n&&(n=_),h>l&&(l=h),e.setTo(s+i.tx,o+i.ty,n-s,l-o)},get_bottom:function(){return this.y+this.height},set_bottom:function(e){return this.height=e-this.y,e},get_bottomRight:function(){return new ra(this.x+this.width,this.y+this.height)},set_bottomRight:function(e){return this.width=e.x-this.x,this.height=e.y-this.y,e.clone()},get_left:function(){return this.x},set_left:function(e){return this.width-=e-this.x,this.x=e},get_right:function(){return this.x+this.width},set_right:function(e){return this.width=e-this.x,e},get_size:function(){return new ra(this.width,this.height)},set_size:function(e){return this.width=e.x,this.height=e.y,e.clone()},get_top:function(){return this.y},set_top:function(e){return this.height-=e-this.y,this.y=e},get_topLeft:function(){return new ra(this.x,this.y)},set_topLeft:function(e){return this.x=e.x,this.y=e.y,e.clone()},__class__:ia,__properties__:{set_topLeft:"set_topLeft",get_topLeft:"get_topLeft",set_top:"set_top",get_top:"get_top",set_size:"set_size",get_size:"get_size",set_right:"set_right",get_right:"get_right",set_left:"set_left",get_left:"get_left",set_bottomRight:"set_bottomRight",get_bottomRight:"get_bottomRight",set_bottom:"set_bottom",get_bottom:"get_bottom"}};var u=function(){this.checkProperties=this.scriptInit=!1,this.nameMap=new va,this.propertyChangeListeners=new va,this.equalityPairs=new Aa,this.attributeTweens=new va};k["com.stencyl.behavior.Script"]=u,u.__name__="com.stencyl.behavior.Script",u.resetStatics=function(){u.engine=null,u.lastCreatedActor=null,u.lastCreatedJoint=null,u.lastCreatedRegion=null,u.lastCreatedTerrainRegion=null,u.mpx=0,u.mpy=0,u.mrx=0,u.mry=0,u.imageApiAutoscale=!0},u.sameAs=function(e,i){return e==i},u.sameAsAny=function(e,i,s){return e==i||e==s},u.asBoolean=function(e){return 1==e||"true"==e},u.strCompare=function(e,i,s){return 0>s?e<i:e>i},u.strCompareBefore=function(e,i){return e<i},u.strCompareAfter=function(e,i){return e>i},u.asNumber=function(e){return null==e?0:"number"==typeof e?T.__cast(e,Ls):"number"==typeof e&&(0|e)===e?T.__cast(e,sj):"boolean"==typeof e?T.__cast(e,Ms)?1:0:parseFloat("string"==typeof e?e:O.string(e))},u.hasValue=function(e){return!!u.isPrimitive(e)||("string"==typeof e?""!=T.__cast(e,String):null!=e)},u.isPrimitive=function(e){return"boolean"==typeof e||"number"==typeof e||"number"==typeof e&&(0|e)===e},u.getDefaultValue=function(e){return"boolean"!=typeof e&&("number"==typeof e||"number"==typeof e&&(0|e)===e?0:"string"==typeof e?"":null)},u.getGroupByName=function(e){return u.engine.getGroupByName(e)},u.getLastCreatedRegion=function(){return u.lastCreatedRegion},u.getAllRegions=function(){for(var e=[],i=u.engine.regions.iterator();i.hasNext();){var s=i.next();null!=s&&e.push(s)}return e},u.getRegion=function(e){return u.engine.getRegion(e)},u.removeRegion=function(e){u.engine.removeRegion(e)},u.createBoxRegion=function(e,i,s,n){return u.lastCreatedRegion=u.engine.createBoxRegion(e,i,s,n)},u.createCircularRegion=function(e,i,s){return u.lastCreatedRegion=u.engine.createCircularRegion(e,i,s)},u.isInRegion=function(e,i){return u.engine.isInRegion(e,i)},u.getActorsInRegion=function(e){var i=[];for(e=e.getContainedActors().iterator();e.hasNext();){var s=e.next();i.push(u.engine.getActor(s))}return i},u.sceneHasBehavior=function(e){return u.engine.behaviors.hasBehavior(e)},u.enableBehaviorForScene=function(e){u.engine.behaviors.enableBehavior(e)},u.disableBehaviorForScene=function(e){u.engine.behaviors.disableBehavior(e)},u.isBehaviorEnabledForScene=function(e){return u.engine.behaviors.isBehaviorEnabled(e)},u.getValueForScene=function(e,i){return u.engine.getValue(e,i)},u.setValueForScene=function(e,i,s){u.engine.setValue(e,i,s)},u.shoutToScene=function(e,i){return u.engine.shout(e,i)},u.sayToScene=function(e,i,s){return u.engine.say(e,i,s)},u.setGameAttribute=function(e,i){var s=u.engine.gameAttributes;null!=t[e]?s.setReserved(e,i):s.h[e]=i},u.getGameAttribute=function(e){return u.engine.getGameAttribute(e)},u.runLater=function(e,i,s){return e=new Pm(i,0|e,!1,s),u.engine.addTask(e),e},u.runPeriodically=function(e,i,s){return e=new Pm(i,0|e,!0,s),u.engine.addTask(e),e},u.getStepSize=function(){return p.STEP_SIZE},u.getScene=function(){return u.engine.scene},u.getCurrentScene=function(){return u.getScene().ID},u.getIDForScene=function(e){for(var i=bc.get().scenes.iterator();i.hasNext();){var s=i.next();if(e==s.name)return s.ID}return 0},u.getCurrentSceneName=function(){return u.getScene().name},u.getSceneWidth=function(){return u.getScene().sceneWidth},u.getSceneHeight=function(){return u.getScene().sceneHeight},u.getTileWidth=function(){return u.getScene().tileWidth},u.getTileHeight=function(){return u.getScene().tileHeight},u.reloadCurrentScene=function(e,i){u.engine.switchScene(u.getCurrentScene(),e,i)},u.switchScene=function(e,i,s){u.engine.switchScene(e,i,s)},u.createPixelizeOut=function(e,i){return new Qk(e,1,15)},u.createPixelizeIn=function(e,i){return new Qk(e,15,1)},u.createBubblesOut=function(e,i){return null==i&&(i=-16777216),new Rk(Bb.OUT,e,50,i)},u.createBubblesIn=function(e,i){return null==i&&(i=-16777216),new Rk(Bb.IN,e,50,i)},u.createBlindsOut=function(e,i){return null==i&&(i=-16777216),new Sk(Bb.OUT,e,10,i)},u.createBlindsIn=function(e,i){return null==i&&(i=-16777216),new Sk(Bb.IN,e,10,i)},u.createRectangleOut=function(e,i){return null==i&&(i=-16777216),new Tk(Bb.OUT,e,i)},u.createRectangleIn=function(e,i){return null==i&&(i=-16777216),new Tk(Bb.IN,e,i)},u.createSlideTransition=function(e,i){return new nf(u.engine.master,u.engine.colorLayer,e,i)},u.createSlideUpTransition=function(e){return u.createSlideTransition(e,nf.SLIDE_UP)},u.createSlideDownTransition=function(e){return u.createSlideTransition(e,nf.SLIDE_DOWN)},u.createSlideLeftTransition=function(e){return u.createSlideTransition(e,nf.SLIDE_LEFT)},u.createSlideRightTransition=function(e){return u.createSlideTransition(e,nf.SLIDE_RIGHT)},u.createCrossfadeTransition=function(e){return new Qm(u.engine.root,e)},u.createFadeOut=function(e,i){return null==i&&(i=-16777216),new Rm(e,i)},u.createFadeIn=function(e,i){return null==i&&(i=-16777216),new Sm(e,i)},u.createCircleOut=function(e,i){return null==i&&(i=-16777216),new Uk(Bb.OUT,e,i)},u.createCircleIn=function(e,i){return null==i&&(i=-16777216),new Uk(Bb.IN,e,i)},u.setBlendModeForLayer=function(e,i){e.set_blendMode(i),e instanceof Tc&&T.__cast(e,Tc).tiles.set_blendMode(i)},u.showTileLayer=function(e){e.set_alpha(1)},u.hideTileLayer=function(e){e.set_alpha(0)},u.fadeTileLayerTo=function(e,i,s,n){null==e.alphaTween&&(e.alphaTween=(new Se).doOnUpdate(function(){e.set_alpha(e.alphaTween.value)})),e.alphaTween.tween(e.get_alpha(),i,n,1e3*s|0)},u.getTileLayerOpacity=function(e){return 100*e.get_alpha()},u.setDrawingLayer=function(e){e instanceof Tc&&(p.engine.g.graphics=e.overlay.get_graphics())},u.setDrawingLayerToActorLayer=function(e){null!=e&&(p.engine.g.graphics=e.layer.overlay.get_graphics())},u.setDrawingLayerToSceneLayer=function(){p.engine.g.graphics=p.engine.transitionLayer.get_graphics()},u.getScreenX=function(){return p.cameraX/p.SCALE},u.getScreenY=function(){return p.cameraY/p.SCALE},u.getScreenXCenter=function(){return p.cameraX/p.SCALE+p.screenWidth/2},u.getScreenYCenter=function(){return p.cameraY/p.SCALE+p.screenHeight/2},u.getCamera=function(){return u.engine.camera},u.isCtrlDown=function(){return!!R.check("iCTRL")||R.check("iCOMMAND")},u.isShiftDown=function(){return R.check("iSHIFT")},u.simulateKeyPress=function(e){R.simulateKeyPress(e)},u.simulateKeyRelease=function(e){R.simulateKeyRelease(e)},u.isKeyDown=function(e){return R.check(e)},u.isKeyPressed=function(e){return R.pressed(e)},u.isKeyReleased=function(e){return R.released(e)},u.isMouseDown=function(){return R.mouseDown},u.isMousePressed=function(){return R.mousePressed},u.isMouseReleased=function(){return R.mouseReleased},u.getMouseX=function(){return R.mouseX/p.SCALE},u.getMouseY=function(){return R.mouseY/p.SCALE},u.getMouseWorldX=function(){return R.mouseX/p.SCALE+p.cameraX},u.getMouseWorldY=function(){return R.mouseY/p.SCALE+p.cameraY},u.getMousePressedX=function(){return u.mpx},u.getMousePressedY=function(){return u.mpy},u.getMouseReleasedX=function(){return u.mrx},u.getMouseReleasedY=function(){return u.mry},u.showCursor=function(){Ie.show()},u.hideCursor=function(){Ie.hide()},u.charFromCharCode=function(e){return 32>e||126<e&&160>e?"":String.fromCodePoint(e)},u.getLastCreatedActor=function(){return u.lastCreatedActor},u.createActor=function(e,i,s,n){return e=u.engine.createActorOfType(e,i,s,n),u.lastCreatedActor=e},u.createRecycledActor=function(e,i,s,n){return e=u.engine.getRecycledActorOfType(e,i,s,n),u.lastCreatedActor=e},u.createRecycledActorOnLayer=function(e,i,s,n){return e=u.engine.getRecycledActorOfTypeOnLayer(e,i,s,n.ID),u.lastCreatedActor=e},u.recycleActor=function(e){u.engine.recycleActor(e)},u.createActorInNextScene=function(e,i,s,n){u.engine.createActorInNextScene(e,i,s,n)},u.getActorTypeByName=function(e){return tc.get().resourceMap.get(e)},u.getActorType=function(e){return tc.get().resources.get(e)},u.getAllActorTypes=function(){return tc.get().getAllActorTypes()},u.getActorsOfType=function(e){return u.engine.getActorsOfType(e)},u.getActor=function(e){return u.engine.getActor(e)},u.getActorGroup=function(e){return u.engine.getGroup(e)},u.setGravity=function(e,i){u.engine.gravityX=e,u.engine.gravityY=i,null!=u.engine.world&&u.engine.world.setGravity(new K(e,i))},u.getGravity=function(){return null==u.engine.world?(u.dummyVec.x=u.engine.gravityX,u.dummyVec.y=u.engine.gravityY,u.dummyVec):u.engine.world.getGravity()},u.enableContinuousCollisions=function(){lc.m_continuousPhysics=!0},u.toPhysicalUnits=function(e){return p.toPhysicalUnits(e)},u.toPixelUnits=function(e){return p.toPixelUnits(e)},u.makeActorNotPassThroughTerrain=function(e){p.NO_PHYSICS?null!=e&&1==e.physicsMode&&(e.continuousCollision=!0):(lc.m_continuousPhysics=!0,null!=e&&0==e.physicsMode&&e.body.setBullet(!0))},u.makeActorPassThroughTerrain=function(e){if(p.NO_PHYSICS)null!=e&&1==e.physicsMode&&(e.continuousCollision=!1);else if(null!=e&&0==e.physicsMode){e.body.setBullet(!1),e=!1;for(var i=u.engine.allActors.iterator();i.hasNext();){var s=i.next();if(null!=s.body&&s.body.isBullet()){e=!0;break}}e||(lc.m_continuousPhysics=!1)}},u.mute=function(){},u.unmute=function(){},u.getSound=function(e){return tc.get().resources.get(e)},u.getSoundByName=function(e){return tc.get().resourceMap.get(e)},u.playSound=function(e){if(null!=e)for(var i=0;32>i;){var s=i++;if(null==(s=u.engine.channels[s]).currentSound){s.playSound(e),s.setVolume(1),s.setPanning(0);break}}},u.loopSound=function(e){if(null!=e)for(var i=0;32>i;){var s=i++;if(null==(s=u.engine.channels[s]).currentSound){s.loopSound(e),s.setVolume(1),s.setPanning(0);break}}},u.playSoundOnChannel=function(e,i){(i=u.engine.channels[i]).playSound(e),i.setVolume(1),i.setPanning(0)},u.loopSoundOnChannel=function(e,i){(i=u.engine.channels[i]).loopSound(e),i.setVolume(1),i.setPanning(0)},u.stopSoundOnChannel=function(e){u.engine.channels[e].stopSound()},u.pauseSoundOnChannel=function(e){u.engine.channels[e].setPause(!0)},u.resumeSoundOnChannel=function(e){u.engine.channels[e].setPause(!1)},u.setVolumeForChannel=function(e,i){u.engine.channels[i].setVolume(e)},u.setPanningForChannel=function(e,i){u.engine.channels[i].setPanning(e)},u.stopAllSounds=function(){for(var e=0;32>e;){var i=e++;u.engine.channels[i].stopSound()}},u.setVolumeForAllSounds=function(e){for(dc.masterVolume=e,e=0;32>e;){var i=e++;(i=u.engine.channels[i]).setVolume(i.volume)}},u.fadeInSoundOnChannel=function(e,i){u.engine.channels[e].fadeInSound(i)},u.fadeOutSoundOnChannel=function(e,i){u.engine.channels[e].fadeOutSound(i)},u.fadeSoundOnChannel=function(e,i,s){u.engine.channels[e].fadeSound(i,s/100)},u.fadeInForAllSounds=function(e){for(var i=0;32>i;){var s=i++;u.engine.channels[s].fadeInSound(e)}},u.fadeOutForAllSounds=function(e){for(var i=0;32>i;){var s=i++;u.engine.channels[s].fadeOutSound(e)}},u.fadeForAllSounds=function(e,i){for(var s=0;32>s;){var n=s++;u.engine.channels[n].fadeSound(e,i/100)}},u.getPositionForChannel=function(e){return null!=(e=u.engine.channels[e])&&null!=e.currentSound?e.paused?e.position:e.currentSound.get_position():0},u.setPositionForChannel=function(e,i){null!=(e=u.engine.channels[e])&&null!=e.currentSound&&(e.paused?e.position=i:e.looping?e.loopSound(e.currentClip,i):e.playSound(e.currentClip,i))},u.getSoundLengthForChannel=function(e){return null!=(e=u.engine.channels[e])&&null!=e.currentSource?e.currentSource.get_length():0},u.getSoundLength=function(e){return null!=e&&null!=e.src?e.src.get_length():0},u.setColorBackground=function(e,i){null==i&&(i=-2),u.engine.colorLayer.get_graphics().clear(),e!=jg.TRANSPARENT&&u.engine.setColorBackground(i==jg.TRANSPARENT?new jg(e):new tj(e,i))},u.setScrollSpeedForBackground=function(e,i,s){if(null==e){e=0;for(var n=p.engine.backgroundLayers;e<n.length;){var o=n[e];++e,o.setScrollSpeed(i,s)}}else e instanceof oe&&T.__cast(e,oe).setScrollSpeed(i,s)},u.setScrollFactorForLayer=function(e,i,s){e instanceof oe?T.__cast(e,oe).setScrollFactor(i,s):e instanceof Tc&&(e.scrollFactorX=i,e.scrollFactorY=s)},u.changeBackground=function(e,i){null!=(i=tc.get().resourceMap.get(i))&&e instanceof oe&&T.__cast(e,oe).reload(i.ID)},u.changeBackgroundImage=function(e,i){null!=i&&e instanceof oe&&T.__cast(e,oe).setImage(i)},u.addBackground=function(e,i,s){e=tc.get().resourceMap.get(e),(i=new oe(u.engine.getNextLayerID(),i,s,0,0,1,10,e.ID,!1)).load(),u.engine.insertLayer(i,s)},u.addBackgroundFromImage=function(e,i,s,n){(s=new oe(u.engine.getNextLayerID(),s,n,0,0,1,10,-1,!1)).loadFromImg(e,i),u.engine.insertLayer(s,n)},u.addTileLayer=function(e,i){var s=u.engine.scene.sceneWidth/u.engine.scene.tileWidth|0,n=u.engine.scene.sceneHeight/u.engine.scene.tileHeight|0,o=u.engine.getNextLayerID();(s=new He(o,u.engine.scene,s,n)).set_name(e),e=new Tc(o,e,i,1,1,1,10,s),u.engine.insertLayer(e,i)},u.newImage=function(e,i){return u.imageApiAutoscale?new pa(e*p.SCALE|0,i*p.SCALE|0,!0,0):new pa(e,i,!0,0)},u.captureScreenshot=function(){var e=new pa(0|u.getStageWidth(),0|u.getStageHeight());return e.draw(Ya.get_current().stage,null,null,null,null,ja.antialias),e},u.getImageForActor=function(e){return e.getCurrentImage()},u.getExternalImage=function(e){return Ba.getBitmapData("assets/data/"+e,!1)},u.loadImageFromURL=function(e,i){var s=new Vk;s.contentLoaderInfo.addEventListener("complete",function(n){n=T.__cast(T.__cast(n.currentTarget,Fg).content,Uc).get_bitmapData(),i(n)}),s.load(new Gg(e))},u.getSubImage=function(e,i,s,n,o){if(u.imageApiAutoscale&&(i=i*p.SCALE|0,s=s*p.SCALE|0,n=n*p.SCALE|0,o=o*p.SCALE|0),null!=e&&0<=i&&0<=s&&0<n&&0<o&&i<e.width&&s<e.height){var l=new pa(n,o);return u.dummyRect.x=i,u.dummyRect.y=s,u.dummyRect.width=n,u.dummyRect.height=o,u.dummyPoint.x=0,u.dummyPoint.y=0,l.copyPixels(e,u.dummyRect,u.dummyPoint),l}return new pa(1,1)},u.setOrderForImage=function(e,i){null!=e&&null!=e.parent&&0<=i&&i<e.parent.get_numChildren()&&e.parent.setChildIndex(e,i)},u.getOrderForImage=function(e){return null!=e&&null!=e.parent?e.parent.getChildIndex(e):-1},u.bringImageBack=function(e){null!=e&&null!=e.parent&&u.setOrderForImage(e,e.parent.getChildIndex(e)-1)},u.bringImageForward=function(e){null!=e&&null!=e.parent&&u.setOrderForImage(e,e.parent.getChildIndex(e)+1)},u.bringImageToBack=function(e){null!=e&&null!=e.parent&&u.setOrderForImage(e,0)},u.bringImageToFront=function(e){null!=e&&null!=e.parent&&u.setOrderForImage(e,e.parent.get_numChildren()-1)},u.attachImageToActor=function(e,i,s,n,o){null==o&&(o=1),null!=e&&(null!=e.parent&&u.removeImage(e),2==o?(i.addChild(e),i.setChildIndex(e,0)):i.addChild(e),e.cacheParentAnchor=i.cacheAnchor,e.set_imgX(s),e.set_imgY(n),e.set_smoothing(ja.antialias),i.attachedImages.push(e))},u.attachImageToHUD=function(e,i,s){null!=e&&(null!=e.parent&&u.removeImage(e),u.engine.hudLayer.addChild(e),u.engine.hudLayer.attachedImages.push(e),e.set_imgX(i),e.set_imgY(s),e.set_smoothing(ja.antialias))},u.attachImageToLayer=function(e,i,s,n,o){null==o&&(o=1),null!=e&&(null!=e.parent&&u.removeImage(e),2==o?i.addChildAt(e,0):i.addChild(e),-1==i.attachedImages.indexOf(e)&&i.attachedImages.push(e),e.set_imgX(s),e.set_imgY(n),e.set_smoothing(ja.antialias))},u.removeImage=function(e){null!=e&&(e.parent instanceof Ab?B.remove(T.__cast(e.parent,Ab).attachedImages,e):e.parent instanceof Tc&&B.remove(T.__cast(e.parent,Tc).attachedImages,e),e.parent.removeChild(e))},u.resizeImage=function(e,i,s,n){null==n&&(n=!0),null==s&&(s=1),null==i&&(i=1);var o=new Fa;return o.scale(i,s),(i=new pa(e.width*i|0,e.height*s|0,!0,0)).draw(e,o,null,null,null,n),i},u.drawImageOnImage=function(e,i,s,n,o){if(u.imageApiAutoscale&&(s=s*p.SCALE|0,n=n*p.SCALE|0),null!=e&&null!=i)if(u.dummyPoint.x=s,u.dummyPoint.y=n,10==o)i.copyPixels(e,e.rect,u.dummyPoint,null,null,!0);else{var l=new Fa;l.identity(),l.translate(s,n),i.draw(e,l,null,o)}},u.drawTextOnImage=function(e,i,s,n,o){u.imageApiAutoscale&&(s=s*p.SCALE|0,n=n*p.SCALE|0),null!=e&&o.font.renderToImg(e,i,0,1,s,n,o.letterSpacing,o.fontScale,0,!1)},u.clearImagePartially=function(e,i,s,n,o){u.imageApiAutoscale&&(i=i*p.SCALE|0,s=s*p.SCALE|0,n=n*p.SCALE|0,o=o*p.SCALE|0),null!=e&&(u.dummyRect.x=i,u.dummyRect.y=s,u.dummyRect.width=n,u.dummyRect.height=o,e.fillRect(u.dummyRect,0))},u.clearImage=function(e){e?.fillRect(e.rect,0)},u.clearImageUsingMask=function(e,i,s,n){u.imageApiAutoscale&&(s=s*p.SCALE|0,n=n*p.SCALE|0);var o=i.width,l=i.height,_=0,h=0;if(0>s?(o=s>e.width-o?e.width:o+s,_-=s,s=0):s>e.width-o&&(s=e.width-(o-=s-(e.width-o))),0>n?(l=n>e.height-l?e.height:l+n,h-=n,n=0):n>e.height-l&&(n=e.height-(l-=n-(e.height-l))),!(0>=o||0>=l)){for(_=new ia(_,h,o,l),i=i.getPixels(_),s=new ia(s,n,o,l),n=e.getPixels(s),_=0,o*=l;_<o;)l=_++,i.position=4*l,n.position=4*l,h=(256-(h=i.readUnsignedByte()))*n.readUnsignedByte()>>8,n.position=4*l,n.writeByte(h);i.position=0,n.position=0,e.setPixels(s,n)}},u.retainImageUsingMask=function(e,i,s,n){u.imageApiAutoscale&&(s=s*p.SCALE|0,n=n*p.SCALE|0),u.dummyPoint.x=s,u.dummyPoint.y=n,e.copyChannel(i,i.rect,u.dummyPoint,8,8)},u.fillImage=function(e,i){e?.fillRect(e.rect,-16777216|i)},u.filterImage=function(e,i){null!=e&&(u.dummyPoint.x=0,u.dummyPoint.y=0,e.applyFilter(e,e.rect,u.dummyPoint,i))},u.imageSetPixel=function(e,i,s,n){if(null!=e)if(u.imageApiAutoscale&&1!=p.SCALE){var o=(i+1)*p.SCALE|0,l=(s+1)*p.SCALE|0;for(i=i*p.SCALE|0,s=s*p.SCALE|0;i<o;)for(var _=i++,h=s,m=l;h<m;){var f=h++;e.setPixel32(_,f,-16777216|n)}}else e.setPixel32(i,s,-16777216|n)},u.imageGetPixel=function(e,i,s){return null!=e?(u.imageApiAutoscale&&(i=i*p.SCALE|0,s=s*p.SCALE|0),e.getPixel(i,s)):0},u.imageSwapColor=function(e,i,s){null!=e&&(u.dummyPoint.x=0,u.dummyPoint.y=0,e.threshold(e,e.rect,u.dummyPoint,"==",-16777216|i,-16777216|s,-1,!0))},u.flipImageHorizontal=function(e){var i=new Fa;i.scale(-1,1),i.translate(e.width,0);var s=new pa(e.width,e.height,!0,0);s.draw(e,i),u.dummyPoint.x=0,u.dummyPoint.y=0,e.copyPixels(s,s.rect,u.dummyPoint)},u.flipImageVertical=function(e){var i=new Fa;i.scale(1,-1),i.translate(0,e.height);var s=new pa(e.width,e.height,!0,0);s.draw(e,i),u.dummyPoint.x=0,u.dummyPoint.y=0,e.copyPixels(s,s.rect,u.dummyPoint)},u.setXForImage=function(e,i){e?.set_imgX(i)},u.setYForImage=function(e,i){e?.set_imgY(i)},u.fadeImageTo=function(e,i,s,n){null==s&&(s=1),e.get_tweenProps().alpha.tween(e.get_alpha(),i,n,1e3*s|0)},u.setOriginForImage=function(e,i,s){e.setOrigin(i,s)},u.growImageTo=function(e,i,s,n,o){null==n&&(n=1),null==s&&(s=1),null==i&&(i=1),e.get_tweenProps().scaleXY.tween(e.get_scaleX(),i,e.get_scaleY(),s,o,1e3*n|0)},u.spinImageTo=function(e,i,s,n){null==s&&(s=1),e.get_tweenProps().angle.tween(e.get_rotation(),i,n,1e3*s|0)},u.moveImageTo=function(e,i,s,n,o){null==n&&(n=1),e.get_tweenProps().xy.tween(e.get_imgX(),i,e.get_imgY(),s,o,1e3*n|0)},u.spinImageBy=function(e,i,s,n){null==s&&(s=1),u.spinImageTo(e,e.get_rotation()+i,s,n)},u.moveImageBy=function(e,i,s,n,o){null==n&&(n=1),u.moveImageTo(e,e.get_imgX()+i,e.get_imgY()+s,n,o)},u.setFilterForImage=function(e,i){e?.img.set_filters(e.get_filters().concat([i]))},u.clearFiltersForImage=function(e){e?.img.set_filters([])},u.imageToText=function(e){var i=e.getPixels(e.rect);return e.width+";"+e.height+";"+u.toBase64(bb.ofData(ta.toArrayBuffer(i)))},u.imageFromText=function(e){var i=e.split(";");e=O.parseInt(i[0]);var s=O.parseInt(i[1]),n=u.fromBase64(i[2]);i=new vc(0);for(var o=0,l=n.length;o<l;){var _=o++;i.writeByte(n.b[_])}return i.position=0,i.__endian=0,(e=new pa(e,s,!0,0)).setPixels(e.rect,i),e},u.toBase64=function(e){var i=bb.ofString("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");return 1<(i=(e=new Wk(i).encodeBytes(e).toString()).length%4)&&(e+="="),2==i&&(e+="="),e},u.fromBase64=function(e){var i=-1;return"="==e.charAt(e.length-2)?i=2:"="==e.charAt(e.length-1)&&(i=1),-1!=i&&(e=B.substr(e,0,e.length-i)),i=bb.ofString("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),new Wk(i).decodeBytes(bb.ofString(e))},u.startShakingScreen=function(e,i){null==i&&(i=.5),null==e&&(e=.05),u.engine.shakeScreen(e,i)},u.stopShakingScreen=function(){u.engine.stopShakingScreen()},u.getTopLayer=function(){return u.engine.getTopLayer()},u.getBottomLayer=function(){return u.engine.getBottomLayer()},u.getMiddleLayer=function(){return u.engine.getMiddleLayer()},u.getTileLayerAt=function(e){return null!=e&&e instanceof Tc?T.__cast(e,Tc).tiles:null},u.getTilesetIDByName=function(e){return(e=tc.get().resourceMap.get(e))instanceof Rf?e.ID:-1},u.setTileAt=function(e,i,s,n,o){if(null!=s&&s instanceof Tc){u.removeTileAt(e,i,s);var l=T.__cast(s,Tc).tiles;if(n=tc.get().resources.get(n).tiles[o],l.setTileAt(e,i,n),null==n||null==n.pixels||N.contains(u.engine.animatedTiles,n)||1<n.durations.length&&u.engine.animatedTiles.push(n),null!=n&&-1!=n.collisionID){for(l=(n=bc.get().shapes.h[n.collisionID]).getVertices(),n=n.getVertexCount(),l=Jb.asArray(l,n),n=0,o=l.getVertices();n<o.length;){var _=o[n];++n,_.x*=u.engine.scene.tileWidth/32,_.y*=u.engine.scene.tileHeight/32}n=i*u.engine.scene.tileWidth,o=e*u.engine.scene.tileHeight,p.NO_PHYSICS||null==l?null!=l&&u.getTileLayerAt(s).grid.setTile(i,e):u.createDynamicTile(l,n,o,s.ID,u.engine.scene.tileWidth,u.engine.scene.tileHeight)}u.engine.tileUpdated=!0}},u.tileExistsAt=function(e,i,s){return null!=u.getTileAt(e,i,s)},u.tileCollisionAt=function(e,i,s){if(null==s){s=0;for(var n=u.engine.interactiveLayers;s<n.length;){var o=n[s];if(++s,null!=(o=o.tiles.getTileAt(e,i))&&-1!=o.collisionID)return!0}return!1}return!(null==(e=u.getTileAt(e,i,s))||-1==e.collisionID)},u.getTilePosition=function(e,i){var s=u.engine.scene.tileHeight;return 0==e?Math.floor(i/u.engine.scene.tileWidth):Math.floor(i/s)},u.getTileIDAt=function(e,i,s){return null==(e=u.getTileAt(e,i,s))?-1:e.tileID},u.getTileColIDAt=function(e,i,s){return null==(e=u.getTileAt(e,i,s))?-1:e.collisionID},u.getTileDataAt=function(e,i,s){return null==(e=u.getTileAt(e,i,s))?"":e.metadata},u.getTilesetIDAt=function(e,i,s){return null==(e=u.getTileAt(e,i,s))?-1:e.parent.ID},u.getTileAt=function(e,i,s){return null==(s=u.getTileLayerAt(s))?null:s.getTileAt(e,i)},u.removeTileAt=function(e,i,s){if(null!=s&&s instanceof Tc){var n=T.__cast(s,Tc).tiles,o=u.getTileAt(e,i,s);null!=o&&(p.NO_PHYSICS||-1==o.collisionID?-1!=o.collisionID&&(null==(o=e)&&(o=0),null==(s=i)&&(s=0),n.grid.setTile(s,o,!1)):(o=u.engine.dynamicTiles,null!=(o=null!=t[s="ID-"+i*u.engine.scene.tileWidth+"-"+e*u.engine.scene.tileHeight+"-"+s.ID]?o.getReserved(s):o.h[s])&&(u.engine.removeActor(o),u.engine.dynamicTiles.remove(s))),n.setTileAt(e,i,null),u.engine.tileUpdated=!0)}},u.getTileForCollision=function(e,i){if(e.thisCollidedWithTile||e.otherCollidedWithTile){var s=Math.round(p.toPixelUnits(i.normalX)),n=Math.round(p.toPixelUnits(i.normalY)),o=Math.round(p.toPixelUnits(i.x));for(i=Math.round(p.toPixelUnits(i.y)),e.thisCollidedWithTile&&(s=-s,n=-n),0>s&&o%u.engine.scene.tileWidth==0&&--o,0>n&&i%u.engine.scene.tileHeight==0&&--i,o=u.getTilePosition(0,o),i=u.getTilePosition(1,i),e=0,s=u.engine.interactiveLayers;e<s.length;)if(n=s[e],++e,null!=(n=n.tiles.getTileAt(i,o))&&-1!=n.collisionID)return n}return null},u.getTileDataForCollision=function(e,i){return null!=(e=u.getTileForCollision(e,i))?e.metadata:""},u.createDynamicTile=function(e,i,s,n,o,l){(e=new Ab(u.engine,1e8,1,i,s,n,o,l,null,null,null,null,!1,!0,!1,!1,e,!1,!1)).set_name("Terrain"),e.set_visible(!1),i="ID-"+i+"-"+s+"-"+n,s=u.engine.dynamicTiles,null!=t[i]?s.setReserved(i,e):s.h[i]=e},u.getFont=function(e){return tc.get().resources.get(e)},u.pause=function(){u.engine.pause()},u.unpause=function(){u.engine.unpause()},u.toggleFullScreen=function(){p.engine.toggleFullScreen()},u.pauseAll=function(){p.paused=!0},u.unpauseAll=function(){p.paused=!1},u.getScreenWidth=function(){return p.screenWidth},u.getScreenHeight=function(){return p.screenHeight},u.getStageWidth=function(){return p.stage.stageWidth},u.getStageHeight=function(){return p.stage.stageHeight},u.setOffscreenTolerance=function(e,i,s,n){p.paddingTop=e,p.paddingLeft=i,p.paddingBottom=s,p.paddingRight=n},u.isTransitioning=function(){return u.engine.isTransitioning()},u.setTimeScale=function(e){p.timeScale=e},u.randomFloat=function(){return Math.random()},u.randomFloatBetween=function(e,i){return e<=i?e+Math.random()*(i-e):i+Math.random()*(e-i)},u.randomInt=function(e,i){return e<=i?e+Math.floor(Math.random()*(i-e+1)):i+Math.floor(Math.random()*(e-i+1))},u.saveGame=function(e,i){e=vd.getLocal(e);for(var s=u.engine.gameAttributes.keys();s.hasNext();){var n=s.next(),o=u.engine.gameAttributes;N.saveToSharedObject(e,n,null!=t[n]?o.getReserved(n):o.h[n])}N.flushSharedObject(e,i)},u.loadGame=function(e,i){e=vd.getLocal(e);for(var s=0,n=X.fields(e.data);s<n.length;){var o=n[s];++s;var l=u.engine.gameAttributes,_=N.loadFromSharedObject(e,o);null!=t[o]?l.setReserved(o,_):l.h[o]=_}i?.(!0)},u.saveData=function(e,i,s,n){e=vd.getLocal(e),N.saveToSharedObject(e,i,s),N.flushSharedObject(e,n)},u.loadData=function(e,i,s){return e=vd.getLocal(e),i=N.loadFromSharedObject(e,i),s?.(!0),i},u.checkData=function(e,i){return e=vd.getLocal(e),null!=X.field(e.data,i)},u.defaultURLHandler=function(e){new Zg(e.target)},u.openURLInBrowser=function(e){Ya.getURL(new Gg(e))},u.visitURL=function(e,i){null==i&&(i=u.defaultURLHandler);try{var s=new Gg(e);s.method="GET",new Zg(s).addEventListener("complete",i)}catch(n){if(ha.lastException=n,"string"!=typeof(n instanceof E?n.val:n))throw n}},u.postToURL=function(e,i,s){null==s&&(s=u.defaultURLHandler),(e=new Gg(e)).method="POST",null!=i&&(e.data=Xk._new(i));try{var n=new Zg(e);n.addEventListener("complete",s),u.runLater(500,function(o){n.close()})}catch(o){if(ha.lastException=o,"string"!=typeof(o instanceof E?o.val:o))throw o}},u.convertToPseudoUnicode=function(e){var i="";try{for(var s=0,n=0,o=e.length;n<o;){s=n;var l=e.charCodeAt(n);n+=55296<=l&&56319>=l?2:1;var _=Pc.codePointAt(e,s),h=_;i+=128>h?65535>=_?String.fromCodePoint(_):String.fromCodePoint(55232+(_>>10))+String.fromCodePoint(1023&_|56320):"~x"+aa.hex(h,4)}}catch(f){return ha.lastException=f,e}return i},u.simpleTweet=function(e,i){u.openURLInBrowser("http://twitter.com/home?status="+encodeURIComponent(e+" "+i))},u.newgroundsShowAd=function(){},u.newgroundsSetMedalPosition=function(e,i){},u.newgroundsUnlockMedal=function(e){},u.newgroundsSubmitScore=function(e,i){},u.newgroundsShowScore=function(e){},u.newgroundsHelper=function(e){},u.kongregateInitAPI=function(){},u.kongregateSubmitStat=function(e,i){},u.kongregateIsGuest=function(){return!0},u.kongregateGetUsername=function(){return"Guest"},u.kongregateGetUserID=function(){return 0},u.loadAtlas=function(e){u.engine.atlasesToLoad.h[e]=e},u.unloadAtlas=function(e){u.engine.atlasesToUnload.h[e]=e},u.atlasIsLoaded=function(e){return null!=(e=bc.get().atlases.h[e])&&e.active},u.initGooglePlayGames=function(){},u.stopGooglePlayGames=function(){},u.getGPGConnectionInfo=function(e){return!1},u.showGPGAchievements=function(){},u.showGPGLeaderboards=function(){},u.showGPGLeaderboard=function(e){},u.showGPGQuests=function(){},u.unlockGPGAchievement=function(e){},u.incrementGPGAchievement=function(e,i){},u.submitGPGScore=function(e,i){},u.updateGPGEvent=function(e,i){},u.getCompletedGPGQuests=function(){return[]},u.gameCenterInitialize=function(){},u.gameCenterIsAuthenticated=function(){return!1},u.gameCenterGetPlayerName=function(){return"None"},u.gameCenterGetPlayerID=function(){return"None"},u.gameCenterShowLeaderboard=function(e){},u.gameCenterShowAchievements=function(){},u.gameCenterSubmitScore=function(e,i){},u.gameCenterSubmitAchievement=function(e,i){},u.gameCenterResetAchievements=function(){},u.gameCenterShowBanner=function(e,i){},u.purchasesAreInitialized=function(){return!1},u.purchasesRestore=function(){},u.purchasesBuy=function(e){},u.purchasesHasBought=function(e){return!1},u.purchasesGetTitle=function(e){return""},u.purchasesGetDescription=function(e){return""},u.purchasesGetPrice=function(e){return""},u.purchasesRequestProductInfo=function(e){},u.purchasesUse=function(e){},u.purchasesGoogleConsume=function(e){},u.purchasesGetQuantity=function(e){return 0},u.showAlert=function(e,i){},u.vibrate=function(e){},u.showKeyboard=function(){},u.hideKeyboard=function(){},u.setKeyboardText=function(e){},u.setIconBadgeNumber=function(e){},u.enableDebugDrawing=function(){p.DEBUG_DRAW=!0,p.NO_PHYSICS||p.debugDrawer.m_sprite.get_graphics().clear()},u.disableDebugDrawing=function(){p.DEBUG_DRAW=!1,p.NO_PHYSICS||p.debugDrawer.m_sprite.get_graphics().clear()},u.gameURL=function(){return""},u.exitGame=function(){},u.createGrayscaleFilter=function(){var e=[];return e=(e=(e=(e=e.concat([.5,.5,.5,0,0])).concat([.5,.5,.5,0,0])).concat([.5,.5,.5,0,0])).concat([0,0,0,1,0]),new Sf(e)},u.createSepiaFilter=function(){var e=[];return e=(e=(e=(e=e.concat([.34,.33,.33,0,30])).concat([.33,.34,.33,0,20])).concat([.33,.33,.34,0,0])).concat([0,0,0,1,0]),new Sf(e)},u.createNegativeFilter=function(){var e=[];return e=(e=(e=(e=e.concat([-1,0,0,0,255])).concat([0,-1,0,0,255])).concat([0,0,-1,0,255])).concat([0,0,0,1,0]),new Sf(e)},u.createTintFilter=function(e,i){null==i&&(i=1);var s=new Wa;return s.colorize(e,i),s.getFilter()},u.createHueFilter=function(e){var i=new Wa;return i.adjustHue(e),i.adjustSaturation(1),i.getFilter()},u.createSaturationFilter=function(e){var i=new Wa;return i.adjustSaturation(e/100),i.getFilter()},u.createBrightnessFilter=function(e){var i=new Wa;return i.adjustBrightness(e/100),i.getFilter()},u.prototype={wrapper:null,propertyChangeListeners:null,equalityPairs:null,checkProperties:null,nameMap:null,attributeTweens:null,scriptInit:null,toInternalName:function(e){if(null==this.nameMap)return e;var i=this.nameMap;return(i=null!=t[e]?i.getReserved(e):i.h[e])??e},forwardMessage:function(e){},clearListeners:function(){this.propertyChangeListeners=new va},internalGetGroup:function(e,i,s){return p.NO_PHYSICS?(i=T.__cast(s,Fc),u.engine.getGroup(e==i.actorA?i.groupA:i.groupB)):null==(i=T.__cast(i,hg))?T.__cast(e,Ab).getGroup():-1e3==(e=i.groupID)&&null!=(i=i.getBody())?u.engine.getGroup(i.getUserData().groupID):u.engine.getGroup(e)},init:function(){},addMobileKeyboardListener:function(e,i){e=new uj(md.TYPE_KEYBOARD,e,i),u.engine.nativeListeners.push(e),this instanceof Ka&&T.__cast(this,Ka).actor.registerListener(u.engine.nativeListeners,e)},addMobileAdListener:function(e,i){e=new uj(md.TYPE_ADS,e,i),u.engine.nativeListeners.push(e),this instanceof Ka&&T.__cast(this,Ka).actor.registerListener(u.engine.nativeListeners,e)},addGameCenterListener:function(e,i){e=new uj(md.TYPE_GAMECENTER,e,i),u.engine.nativeListeners.push(e),this instanceof Ka&&T.__cast(this,Ka).actor.registerListener(u.engine.nativeListeners,e)},addPurchaseListener:function(e,i){e=new uj(md.TYPE_PURCHASES,e,i),u.engine.nativeListeners.push(e),this instanceof Ka&&T.__cast(this,Ka).actor.registerListener(u.engine.nativeListeners,e)},addWhenCreatedListener:function(e,i){var s=this instanceof Ka;null!=e&&(e.whenCreatedListeners.push(i),s&&T.__cast(this,Ka).actor.registerListener(e.whenCreatedListeners,i))},addWhenKilledListener:function(e,i){var s=this instanceof Ka;null!=e&&(e.whenKilledListeners.push(i),s&&T.__cast(this,Ka).actor.registerListener(e.whenKilledListeners,i))},addWhenUpdatedListener:function(e,i){var s=this instanceof Ka;null==e&&s&&(e=T.__cast(this,Ka).actor),(e=null!=e?e.whenUpdatedListeners:u.engine.whenUpdatedListeners).push(i),s&&T.__cast(this,Ka).actor.registerListener(e,i)},addWhenDrawingListener:function(e,i){var s=this instanceof Ka;null==e&&s&&(e=T.__cast(this,Ka).actor),(e=null!=e?e.whenDrawingListeners:u.engine.whenDrawingListeners).push(i),s&&T.__cast(this,Ka).actor.registerListener(e,i)},addActorEntersRegionListener:function(e,i){null!=e&&(e.whenActorEntersListeners.push(i),this instanceof Ka&&T.__cast(this,Ka).actor.registerListener(e.whenActorEntersListeners,i))},addActorExitsRegionListener:function(e,i){null!=e&&(e.whenActorExitsListeners.push(i),this instanceof Ka&&T.__cast(this,Ka).actor.registerListener(e.whenActorExitsListeners,i))},addActorPositionListener:function(e,i){null!=e&&(e.positionListeners.push(i),e.positionListenerCount++,this instanceof Ka&&T.__cast(this,Ka).actor.registerListener(e.positionListeners,i))},addActorTypeGroupPositionListener:function(e,i){u.engine.typeGroupPositionListeners.h.hasOwnProperty(e)||(u.engine.typeGroupPositionListeners.h[e]=[]),(e=T.__cast(u.engine.typeGroupPositionListeners.h[e],Array)).push(i),this instanceof Ka&&T.__cast(this,Ka).actor.registerListener(e,i)},addSwipeListener:function(e){u.engine.whenSwipedListeners.push(e),this instanceof Ka&&T.__cast(this,Ka).actor.registerListener(u.engine.whenSwipedListeners,e)},addMultiTouchStartListener:function(e){u.engine.whenMTStartListeners.push(e),this instanceof Ka&&T.__cast(this,Ka).actor.registerListener(u.engine.whenMTStartListeners,e)},addMultiTouchMoveListener:function(e){u.engine.whenMTDragListeners.push(e),this instanceof Ka&&T.__cast(this,Ka).actor.registerListener(u.engine.whenMTDragListeners,e)},addMultiTouchEndListener:function(e){u.engine.whenMTEndListeners.push(e),this instanceof Ka&&T.__cast(this,Ka).actor.registerListener(u.engine.whenMTEndListeners,e)},addKeyStateListener:function(e,i){var s=u.engine.whenKeyPressedListeners;if(null==(null!=t[e]?s.getReserved(e):s.h[e])){s=[];var n=u.engine.whenKeyPressedListeners;null!=t[e]?n.setReserved(e,s):n.h[e]=s}u.engine.hasKeyPressedListeners=!0,s=u.engine.whenKeyPressedListeners,(e=null!=t[e]?s.getReserved(e):s.h[e]).push(i),this instanceof Ka&&T.__cast(this,Ka).actor.registerListener(e,i)},addAnyKeyPressedListener:function(e){u.engine.whenAnyKeyPressedListeners.push(e),this instanceof Ka&&T.__cast(this,Ka).actor.registerListener(u.engine.whenAnyKeyPressedListeners,e)},addAnyKeyReleasedListener:function(e){u.engine.whenAnyKeyReleasedListeners.push(e),this instanceof Ka&&T.__cast(this,Ka).actor.registerListener(u.engine.whenAnyKeyReleasedListeners,e)},addAnyGamepadPressedListener:function(e){u.engine.whenAnyGamepadPressedListeners.push(e),this instanceof Ka&&T.__cast(this,Ka).actor.registerListener(u.engine.whenAnyGamepadPressedListeners,e)},addAnyGamepadReleasedListener:function(e){u.engine.whenAnyGamepadReleasedListeners.push(e),this instanceof Ka&&T.__cast(this,Ka).actor.registerListener(u.engine.whenAnyGamepadReleasedListeners,e)},addMousePressedListener:function(e){u.engine.whenMousePressedListeners.push(e),this instanceof Ka&&T.__cast(this,Ka).actor.registerListener(u.engine.whenMousePressedListeners,e)},addMouseReleasedListener:function(e){u.engine.whenMouseReleasedListeners.push(e),this instanceof Ka&&T.__cast(this,Ka).actor.registerListener(u.engine.whenMouseReleasedListeners,e)},addMouseMovedListener:function(e){u.engine.whenMouseMovedListeners.push(e),this instanceof Ka&&T.__cast(this,Ka).actor.registerListener(u.engine.whenMouseMovedListeners,e)},addMouseDraggedListener:function(e){u.engine.whenMouseDraggedListeners.push(e),this instanceof Ka&&T.__cast(this,Ka).actor.registerListener(u.engine.whenMouseDraggedListeners,e)},addMouseOverActorListener:function(e,i){null!=e&&(e.mouseOverListeners.push(i),this instanceof Ka&&T.__cast(this,Ka).actor.registerListener(e.mouseOverListeners,i))},addPropertyChangeListener:function(e,i,s){var n=this.propertyChangeListeners;if(null!=t[e]?!n.existsReserved(e):!n.h.hasOwnProperty(e)){n=this.propertyChangeListeners;var o=[];null!=t[e]?n.setReserved(e,o):n.h[e]=o}null!=i?(n=this.propertyChangeListeners,n=!(null!=t[i]?n.existsReserved(i):n.h.hasOwnProperty(i))):n=!1,n&&(n=this.propertyChangeListeners,o=[],null!=t[i]?n.setReserved(i,o):n.h[i]=o),n=this.propertyChangeListeners,e=null!=t[e]?n.getReserved(e):n.h[e],n=this.propertyChangeListeners,n=null!=t[i]?n.getReserved(i):n.h[i],e.push(s),null!=i&&(n.push(s),(o=[]).push(e),o.push(n),this.equalityPairs.set(s,o)),this instanceof Ka&&(T.__cast(this,Ka).actor.registerListener(e,s),null!=i&&T.__cast(this,Ka).actor.registerListener(n,s)),this.checkProperties=!0},propertyChanged:function(e,i){if(this.checkProperties){var s=this.propertyChangeListeners;if(null!=(e=null!=t[e]?s.getReserved(e):s.h[e]))for(s=0;s<e.length;){try{var n=e[s];if(n(i,e),-1==N.indexOf(e,n)&&(--s,null!=this.equalityPairs.h[n.__id__])){for(var o=0,l=T.__cast(this.equalityPairs.h[n.__id__],Array);o<l.length;){var _=l[o];++o,_!=e&&_.splice(N.indexOf(_,n),1)}this.equalityPairs.remove(n)}}catch(h){if(ha.lastException=h,"string"!=typeof(h instanceof E?h.val:h))throw h}++s}}},addCollisionListener:function(e,i){null!=e&&(e.collisionListeners.push(i),e.collisionListenerCount++,this instanceof Ka&&T.__cast(this,Ka).actor.registerListener(e.collisionListeners,i))},addSceneCollisionListener:function(e,i,s){if(!u.engine.collisionListeners.h.hasOwnProperty(e)){var n=u.engine.collisionListeners,o=new Va;n.h[e]=o}u.engine.collisionListeners.h.hasOwnProperty(i)||(n=u.engine.collisionListeners,o=new Va,n.h[i]=o),u.engine.collisionListeners.h[e].h.hasOwnProperty(i)||(u.engine.collisionListeners.h[e].h[i]=[]),(e=u.engine.collisionListeners.h[e].h[i]).push(s),this instanceof Ka&&(T.__cast(this,Ka).actor.collisionListenerCount++,T.__cast(this,Ka).actor.registerListener(e,s))},addWhenTypeGroupCreatedListener:function(e,i){null==u.engine.whenTypeGroupCreatedListeners.h.__keys__[e.__id__]&&u.engine.whenTypeGroupCreatedListeners.set(e,[]),(e=u.engine.whenTypeGroupCreatedListeners.h[e.__id__]).push(i),this instanceof Ka&&T.__cast(this,Ka).actor.registerListener(e,i)},addWhenTypeGroupKilledListener:function(e,i){null==u.engine.whenTypeGroupDiesListeners.h.__keys__[e.__id__]&&u.engine.whenTypeGroupDiesListeners.set(e,[]),(e=u.engine.whenTypeGroupDiesListeners.h[e.__id__]).push(i),this instanceof Ka&&T.__cast(this,Ka).actor.registerListener(e,i)},addSoundListener:function(e,i){e instanceof Fi?(null==u.engine.soundListeners.h.__keys__[e.__id__]&&u.engine.soundListeners.set(e,[]),(e=u.engine.soundListeners.h[e.__id__]).push(i),this instanceof Ka&&T.__cast(this,Ka).actor.registerListener(e,i)):(u.engine.channelListeners.h.hasOwnProperty(e)||(u.engine.channelListeners.h[e]=[]),(e=u.engine.channelListeners.h[e]).push(i),this instanceof Ka&&T.__cast(this,Ka).actor.registerListener(e,i))},addFocusChangeListener:function(e){u.engine.whenFocusChangedListeners.push(e),this instanceof Ka&&T.__cast(this,Ka).actor.registerListener(u.engine.whenFocusChangedListeners,e)},addPauseListener:function(e){u.engine.whenPausedListeners.push(e),this instanceof Ka&&T.__cast(this,Ka).actor.registerListener(u.engine.whenPausedListeners,e)},addFullscreenListener:function(e){u.engine.fullscreenListeners.push(e),this instanceof Ka&&T.__cast(this,Ka).actor.registerListener(u.engine.fullscreenListeners,e)},addGameScaleListener:function(e){u.engine.gameScaleListeners.push(e),this instanceof Ka&&T.__cast(this,Ka).actor.registerListener(u.engine.gameScaleListeners,e)},addScreenSizeListener:function(e){u.engine.screenSizeListeners.push(e),this instanceof Ka&&T.__cast(this,Ka).actor.registerListener(u.engine.screenSizeListeners,e)},disableThisBehavior:function(){u.engine.behaviors.disableBehavior(this.wrapper.name)},tweenNumber:function(e,i,s,n){null==s&&(s=1);var o=this,l=this.attributeTweens,_=null!=t[e]?l.getReserved(e):l.h[e];null==_&&((_=new Se).doOnUpdate(function(){o[e]=_.value}),l=this.attributeTweens,null!=t[e]?l.setReserved(e,_):l.h[e]=_),_.tween(X.field(this,e),i,n,1e3*s|0)},abortTweenNumber:function(e){var i=this.attributeTweens;null!=(e=null!=t[e]?i.getReserved(e):i.h[e])&&Eb.cancel(e)},pauseTweens:function(){var e=this.attributeTweens;for(e=new bf(e,e.arrayKeys());e.hasNext();)e.next().paused=!0},unpauseTweens:function(){var e=this.attributeTweens;for(e=new bf(e,e.arrayKeys());e.hasNext();)e.next().paused=!1},__class__:u};var Ka=function(e){u.call(this),this.actor=e};k["com.stencyl.behavior.ActorScript"]=Ka,Ka.__name__="com.stencyl.behavior.ActorScript",Ka.__super__=u,Ka.prototype=x(u.prototype,{actor:null,getValue:function(e,i){return this.actor.getValue(e,i)},setValue:function(e,i,s){this.actor.setValue(e,i,s)},shout:function(e,i){return this.actor.shout(e,i)},disableThisBehavior:function(){this.actor.disableBehavior(this.wrapper.name)},__class__:Ka});var qj=function(e,i,s,n,o,l,_){this.ID=e,this.fieldName=i,this.fullName=s,this.type=o,this.value=n,this.realValue=null,this.hidden=_};k["com.stencyl.behavior.Attribute"]=qj,qj.__name__="com.stencyl.behavior.Attribute",qj.prototype={ID:null,fieldName:null,fullName:null,type:null,defaultValue:null,value:null,realValue:null,parent:null,hidden:null,getRealValue:function(){return null==this.realValue&&("int"==this.type||"float"==this.type||"number"==this.type||"bool"==this.type||"boolean"==this.type||"color"==this.type?this.realValue=this.value:"sound"==this.type||"actortype"==this.type||"font"==this.type?null!=this.value&&(this.realValue=-1==this.value?null:tc.get().resources.get(this.value),"font"!=this.type||this.realValue instanceof $f||(this.realValue=null),"sound"!=this.type||this.realValue instanceof Fi||(this.realValue=null),"actortype"!=this.type||this.realValue instanceof Eg||(this.realValue=null)):"actorgroup"==this.type||"control"==this.type||"effect"==this.type||"animation"==this.type||"game-attribute"==this.type?this.realValue=this.value:"scene"==this.type?this.realValue=bc.get().scenes.h[this.value]:"text"==this.type?this.realValue=this.value:"list"==this.type?(this.realValue=this.value,(null==this.value||""==this.value)&&(this.realValue=[])):"map"==this.type?(this.realValue=this.value,(null==this.value||""==this.value)&&(this.realValue=new va)):null!=this.value&&"actor"==this.type?this.realValue="thisactor"==this.value?this.parent:O.parseInt(this.value):(null!=this.value&&"joint"==this.type||null!=this.value&&"region"==this.type)&&(this.realValue=this.value)),this.realValue},__class__:qj};var Mm=function(e,i,s,n,o,l,_,h,m,f){if(this.isEvent=f,this.parent=e,this.engine=i,this.classname=o,null!=i)try{this.cls=k[o]}catch(y){if(ha.lastException=y,"string"!=typeof(y instanceof E?y.val:y))throw y}this.enabled=l,this.drawable=_,this.ID=s,this.name=n,this.type=m,this.attributes=h};k["com.stencyl.behavior.Behavior"]=Mm,Mm.__name__="com.stencyl.behavior.Behavior",Mm.prototype={parent:null,engine:null,enabled:null,drawable:null,isEvent:null,ID:null,name:null,type:null,classname:null,cls:null,script:null,attributes:null,initScript:function(e){if(null==e&&(e=!1),null==this.cls)this.script=new pe;else{if("actor"==this.type){if(T.getClass(this.parent)==p)return void(this.script=new pe);this.script=rb.createInstance(this.cls,[0,this.parent,null])}else{if(T.getClass(this.parent)==Ab)return void(this.script=new pe);this.script=rb.createInstance(this.cls,[0,null])}if(this.script.wrapper=this,this.initAttributes(),!e)try{this.script.init(),this.script.scriptInit=!0}catch(i){if(ha.lastException=i,"string"!=typeof(i instanceof E?i.val:i))throw i}}},initAttributes:function(){var e=this.attributes;for(e=new bf(e,e.arrayKeys());e.hasNext();){var i=e.next();try{if(!(i.hidden||"actor"==i.type&&"actor"==i.fieldName&&this.script instanceof Ka)){var s=this.script.toInternalName(i.fieldName);if("actor"==i.type||"joint"==i.type||"region"==i.type){var n=O.parseInt(""+O.string(i.getRealValue()));"actor"==i.type?this.script[s]=this.engine.getActor(n):"joint"!=i.type&&"region"==i.type&&(this.script[s]=this.engine.getRegion(n))}else if("actorgroup"==i.type){var o=O.parseInt(""+O.string(i.getRealValue()));this.script[s]=this.engine.getGroup(o)}else{var l=i.getRealValue();if("list"==i.type){if(i=null,null!=l){i=T.__cast(l,Array);for(var _=[],h=0;h<i.length;){var m=i[h];++h,_.push(m)}i=_}else i=[];this.script[s]=i}else if("map"==i.type){if(i=null,null!=l){_=l,i=new va;for(var f=_.keys();f.hasNext();){var y=f.next(),g=_.get(y);null!=t[y]?i.setReserved(y,g):i.h[y]=g}}else i=new va;this.script[s]=i}else this.script[s]=l}}}catch(j){if(ha.lastException=j,"string"!=typeof(j instanceof E?j.val:j))throw j}}},__class__:Mm};var Yk=function(e,i){this.behaviorID=e,this.values=i,this.enabled=!0};k["com.stencyl.behavior.BehaviorInstance"]=Yk,Yk.__name__="com.stencyl.behavior.BehaviorInstance",Yk.prototype={behaviorID:null,values:null,enabled:null,__class__:Yk};var Pk=function(){this.behaviors=[],this.cache=new va};k["com.stencyl.behavior.BehaviorManager"]=Pk,Pk.__name__="com.stencyl.behavior.BehaviorManager",Pk.prototype={behaviors:null,cache:null,destroy:function(){this.cache=this.behaviors=null},add:function(e){var i=e.name,s=this.cache;null!=t[i]?s.setReserved(i,e):s.h[i]=e,this.behaviors.push(e)},hasBehavior:function(e){if(null==this.cache)return!1;var i=this.cache;return null!=(null!=t[e]?i.getReserved(e):i.h[e])},enableBehavior:function(e){if(this.hasBehavior(e)){var i=this.cache;if(null!=(e=null!=t[e]?i.getReserved(e):i.h[e]).script&&!e.script.scriptInit)try{e.script.init(),e.script.scriptInit=!0}catch(s){if(ha.lastException=s,"string"!=typeof(s instanceof E?s.val:s))throw s}e.enabled=!0}},disableBehavior:function(e){if(this.hasBehavior(e)){var i=this.cache;(null!=t[e]?i.getReserved(e):i.h[e]).enabled=!1}},isBehaviorEnabled:function(e){if(this.hasBehavior(e)){var i=this.cache;return(null!=t[e]?i.getReserved(e):i.h[e]).enabled}return!1},initScripts:function(){for(var e=0,i=this.behaviors.length;e<i;){var s=e++;(s=this.behaviors[s]).initScript(!s.enabled)}},getAttribute:function(e,i){var s=this.cache;return null!=(e=null!=t[e]?s.getReserved(e):s.h[e])&&null!=e.script?(i=e.script.toInternalName(i),null!=(s=X.field(e.script,i))||Zh.hasField(e.script.wrapper.classname,i),s):null},setAttribute:function(e,i,s){var n=this.cache;null!=(e=null!=t[e]?n.getReserved(e):n.h[e])&&null!=e.script&&Zh.hasField(e.script.wrapper.classname,i)&&(e.script[i]=s,e.script.propertyChanged(i,s))},call:function(e,i){if(null==this.cache)return null;for(var s=null,n=0,o=this.behaviors.length;n<o;){var l=n++;if((l=this.behaviors[l]).enabled&&null!=l.script)try{var _=X.field(l.script,e);null!=_?s=_.apply(l.script,i):l.script.forwardMessage(e)}catch(h){if(ha.lastException=h,"string"!=typeof(h instanceof E?h.val:h))throw h;l.script.forwardMessage(e)}}return s},call2:function(e,i,s){if(null==this.cache)return null;var n=null,o=this.cache;if(null!=(e=null!=t[e]?o.getReserved(e):o.h[e])){if(!e.enabled||null==e.script)return n;try{var l=X.field(e.script,i);null!=l?n=l.apply(e.script,s):e.script.forwardMessage(i)}catch(_){if(ha.lastException=_,"string"!=typeof(_ instanceof E?_.val:_))throw _;e.script.forwardMessage(i)}}return n},__class__:Pk};var Zh=function(){};k["com.stencyl.behavior.ReflectionHelper"]=Zh,Zh.__name__="com.stencyl.behavior.ReflectionHelper",Zh.getFieldMap=function(e){var i=Zh.fieldMaps;if(null==(i=null!=t[e]?i.getReserved(e):i.h[e]))try{for(var s=rb.getInstanceFields(k[e]),n=new va,o=0;o<s.length;){var l=s[o];++o,null!=t[l]?n.setReserved(l,!0):n.h[l]=!0}i=n;var _=Zh.fieldMaps;null!=t[e]?_.setReserved(e,i):_.h[e]=i}catch(h){if(ha.lastException=h,"string"!=typeof(h instanceof E?h.val:h))throw h}return i},Zh.hasField=function(e,i){return null!=(e=Zh.getFieldMap(e))&&(null!=t[i]?e.existsReserved(i):e.h.hasOwnProperty(i))};var pe=function(){u.call(this)};k["com.stencyl.behavior.SceneScript"]=pe,pe.__name__="com.stencyl.behavior.SceneScript",pe.__super__=u,pe.prototype=x(u.prototype,{__class__:pe});var Pm=function(e,i,s,n){this.toExecute=e,this.interval=i,this.repeats=s,this.actor=n,this.done=!1,this.timer=i};k["com.stencyl.behavior.TimedTask"]=Pm,Pm.__name__="com.stencyl.behavior.TimedTask",Pm.prototype={toExecute:null,interval:null,repeats:null,actor:null,timer:null,done:null,actorCreateTime:null,update:function(e){null==this.actor||this.actor.isAlive()?null==this.actor&&p.engine.isPaused()||null!=this.actor&&this.actor.isPaused()||(this.timer-=e,0>=this.timer&&(this.toExecute(this),this.done=!this.repeats,this.repeats&&(this.timer+=this.interval))):this.done=!0},__class__:Pm};var uj=function(e,i,s){this.metaType=e,this.type=i,this.fn=s};k["com.stencyl.event.NativeListener"]=uj,uj.__name__="com.stencyl.event.NativeListener",uj.prototype={metaType:null,type:null,fn:null,checkEvents:function(e){if(null!=(e=e.eventTable.h[this.metaType]))for(var i=0;i<e.length;){var s=e[i];++i,s.type==this.type&&(this.metaType==md.TYPE_ADS?this.fn():(this.metaType==md.TYPE_PURCHASES||this.metaType==md.TYPE_GAMECENTER||this.metaType==md.TYPE_KEYBOARD)&&this.fn(s.data1))}},__class__:uj};var bd=function(e,i){null==i&&(i=""),this.type=e,this.data1=i};k["com.stencyl.event.StencylEvent"]=bd,bd.__name__="com.stencyl.event.StencylEvent",bd.prototype={type:null,data1:null,__class__:bd};var Tm=function(){};k["com.stencyl.graphics.AbstractAnimation"]=Tm,Tm.__name__="com.stencyl.graphics.AbstractAnimation",Tm.__isInterface__=!0,Tm.prototype={update:null,getCurrentFrame:null,getNumFrames:null,setFrame:null,isFinished:null,activate:null,reset:null,draw:null,getFrameDurations:null,setFrameDurations:null,setFrameDuration:null,getCurrentImage:null,__class__:Tm};var Uc=function(e,i,s){null==s&&(s=!1),ya.call(this),this.__type=Oh.BITMAP,this.__bitmapData=e,this.pixelSnapping=i,this.smoothing=s,null==i&&(this.pixelSnapping=1)};k["openfl.display.Bitmap"]=Uc,Uc.__name__="openfl.display.Bitmap",Uc.__super__=ya,Uc.prototype=x(ya.prototype,{pixelSnapping:null,smoothing:null,__image:null,__bitmapData:null,__imageVersion:null,__enterFrame:function(e){null==this.__bitmapData||null==this.__bitmapData.image||this.__bitmapData.image.version==this.__imageVersion||this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())},__getBounds:function(e,i){if(null!=this.__bitmapData){var s=ia.__pool.get();s.setTo(0,0,this.__bitmapData.width,this.__bitmapData.height),s.__transform(s,i),e.__expand(s.x,s.y,s.width,s.height),ia.__pool.release(s)}},__hitTest:function(e,i,s,n,o,l){if(!l.get_visible()||this.__isMask||null==this.__bitmapData||null!=this.get_mask()&&!this.get_mask().__hitTestMask(e,i))return!1;this.__getRenderTransform();var _=(s=this.__renderTransform).a*s.d-s.b*s.c;s=0==_?-s.tx:1/_*(s.c*(s.ty-i)+s.d*(e-s.tx));var h=(_=this.__renderTransform).a*_.d-_.b*_.c;return e=0==h?-_.ty:1/h*(_.a*(i-_.ty)+_.b*(_.tx-e)),0<s&&0<e&&s<=this.__bitmapData.width&&e<=this.__bitmapData.height&&!(null!=this.__scrollRect&&!this.__scrollRect.contains(s,e))&&(null==n||o||n.push(l),!0)},__hitTestMask:function(e,i){if(null==this.__bitmapData)return!1;this.__getRenderTransform();var s=this.__renderTransform,n=s.a*s.d-s.b*s.c;s=0==n?-s.tx:1/n*(s.c*(s.ty-i)+s.d*(e-s.tx));var o=(n=this.__renderTransform).a*n.d-n.b*n.c;return e=0==o?-n.ty:1/o*(n.a*(i-n.ty)+n.b*(n.tx-e)),0<s&&0<e&&s<=this.__bitmapData.width&&e<=this.__bitmapData.height},get_bitmapData:function(){return this.__bitmapData},set_bitmapData:function(e){return this.__bitmapData=e,this.smoothing=!1,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()),this.__imageVersion=-1,this.__bitmapData},get_height:function(){return null!=this.__bitmapData?this.__bitmapData.height*Math.abs(this.get_scaleY()):0},set_height:function(e){return this.set_scaleY(null!=this.__bitmapData?e/this.__bitmapData.height:0),e},get_width:function(){return null!=this.__bitmapData?this.__bitmapData.width*Math.abs(this.__scaleX):0},set_width:function(e){return this.set_scaleX(null!=this.__bitmapData?e/this.__bitmapData.width:0),e},__class__:Uc,__properties__:x(ya.prototype.__properties__,{set_bitmapData:"set_bitmapData",get_bitmapData:"get_bitmapData"})});var Zk=function(e){Uc.call(this,e.frames[0]),this.model=e,this.set_x(Math.round(-e.frameWidth/2*p.SCALE)),this.set_y(Math.round(-e.frameHeight/2*p.SCALE)),this.frameIndex=this.timer=0,this.individualDurations=!1,this.durations=e.durations,this.numFrames=this.durations.length,this.smoothing=ja.antialias,this.finished=1>=this.numFrames,null!=this.filter?(this.filteredFrames[this.frameIndex]||(this.frames[this.frameIndex]=this.applyFilters(this.frames[this.frameIndex],this.model.frames[this.frameIndex],this.filter),this.filteredFrames[this.frameIndex]=!0),this.set_bitmapData(this.frames[this.frameIndex])):this.set_bitmapData(this.model.frames[this.frameIndex]),this.smoothing=ja.antialias};k["com.stencyl.graphics.BitmapAnimation"]=Zk,Zk.__name__="com.stencyl.graphics.BitmapAnimation",Zk.__interfaces__=[Tm],Zk.__super__=Uc,Zk.prototype=x(Uc.prototype,{model:null,frameIndex:null,timer:null,finished:null,durations:null,individualDurations:null,frames:null,numFrames:null,filter:null,filteredFrames:null,update:function(e){this.model.sync&&this.model.looping?(e=this.frameIndex,this.timer=this.model.sharedTimer,this.frameIndex=this.model.sharedFrameIndex,e!=this.frameIndex&&(null!=this.filter?(this.filteredFrames[this.frameIndex]||(this.frames[this.frameIndex]=this.applyFilters(this.frames[this.frameIndex],this.model.frames[this.frameIndex],this.filter),this.filteredFrames[this.frameIndex]=!0),this.set_bitmapData(this.frames[this.frameIndex])):this.set_bitmapData(this.model.frames[this.frameIndex]),this.smoothing=ja.antialias)):(this.timer+=e,0<this.numFrames&&this.timer>this.durations[this.frameIndex]&&(e=this.frameIndex,this.timer-=this.durations[this.frameIndex],this.frameIndex++,this.frameIndex>=this.numFrames&&(this.model.looping?this.frameIndex=0:(this.finished=!0,this.frameIndex--)),e!=this.frameIndex&&(null!=this.filter?(this.filteredFrames[this.frameIndex]||(this.frames[this.frameIndex]=this.applyFilters(this.frames[this.frameIndex],this.model.frames[this.frameIndex],this.filter),this.filteredFrames[this.frameIndex]=!0),this.set_bitmapData(this.frames[this.frameIndex])):this.set_bitmapData(this.model.frames[this.frameIndex]),this.smoothing=ja.antialias)))},getCurrentFrame:function(){return this.frameIndex},getNumFrames:function(){return this.numFrames},setFrame:function(e){(0>e||e>=this.numFrames)&&(e=0),e!=this.frameIndex&&(this.frameIndex=e,null!=this.filter?(this.filteredFrames[this.frameIndex]||(this.frames[this.frameIndex]=this.applyFilters(this.frames[this.frameIndex],this.model.frames[this.frameIndex],this.filter),this.filteredFrames[this.frameIndex]=!0),this.set_bitmapData(this.frames[this.frameIndex])):this.set_bitmapData(this.model.frames[this.frameIndex]),this.smoothing=ja.antialias),this.timer=0,this.finished=!1},isFinished:function(){return this.finished},reset:function(){this.frameIndex=this.timer=0,this.finished=!1,null!=this.filter?(this.filteredFrames[this.frameIndex]||(this.frames[this.frameIndex]=this.applyFilters(this.frames[this.frameIndex],this.model.frames[this.frameIndex],this.filter),this.filteredFrames[this.frameIndex]=!0),this.set_bitmapData(this.frames[this.frameIndex])):this.set_bitmapData(this.model.frames[this.frameIndex]),this.smoothing=ja.antialias},updateBitmap:function(){null!=this.filter?(this.filteredFrames[this.frameIndex]||(this.frames[this.frameIndex]=this.applyFilters(this.frames[this.frameIndex],this.model.frames[this.frameIndex],this.filter),this.filteredFrames[this.frameIndex]=!0),this.set_bitmapData(this.frames[this.frameIndex])):this.set_bitmapData(this.model.frames[this.frameIndex]),this.smoothing=ja.antialias},set_filter:function(e){this.filter=e;for(var i=[],s=0,n=this.numFrames;s<n;)s++,i.push(!1);for(this.filteredFrames=i,i=[],s=0,n=this.numFrames;s<n;)s++,i.push(null);return this.frames=i,null!=this.filter?(this.filteredFrames[this.frameIndex]||(this.frames[this.frameIndex]=this.applyFilters(this.frames[this.frameIndex],this.model.frames[this.frameIndex],this.filter),this.filteredFrames[this.frameIndex]=!0),this.set_bitmapData(this.frames[this.frameIndex])):this.set_bitmapData(this.model.frames[this.frameIndex]),this.smoothing=ja.antialias,e},applyFilters:function(e,i,s){null==e&&(e=new pa(i.width,i.height));for(var n=0;n<s.length;){var o=s[n];++n,i=o.__applyFilter(e,i,i.rect,N.zero)}return e},draw:function(e,i,s,n,o){if(!ja.disposeImages||this.model.checkImageReadable()){if(o=this.get_bitmapData(),null==n&&(n=0),i*=e.scaleX,s*=e.scaleY,e.rect.x=0,e.rect.y=0,e.rect.width=o.width,e.rect.height=o.height,e.drawActor?null!=e.actor&&e.actor.isHUD?(e.point.x=e.x+i,e.point.y=e.y+s):(e.point.x=e.x+i-p.cameraX,e.point.y=e.y+s-p.cameraY):(e.point.x=e.x+i,e.point.y=e.y+s),e.mtx.identity(),e.mtx.rotate(n),e.mtx.translate(e.point.x,e.point.y),0==n)1!=e.alpha&&(e.point2.x=0,e.point2.y=0,e.rect2.width=o.width,e.rect2.height=o.height,s=new pa(o.width,o.height,!0,e.toARGB(0,255*e.alpha|0)),(i=new pa(o.width,o.height,!0,0)).copyPixels(o,e.rect2,e.point2,s,null,!0),o=i),e.graphics.beginBitmapFill(o,e.mtx),e.graphics.drawRect(e.point.x,e.point.y,o.width,o.height);else{1!=e.alpha&&(e.point2.x=0,e.point2.y=0,e.rect2.width=o.width,e.rect2.height=o.height,s=new pa(o.width,o.height,!0,e.toARGB(0,255*e.alpha|0)),(i=new pa(o.width,o.height,!0,0)).copyPixels(o,e.rect2,e.point2,s,null,!0),o=i),s=new pa(o.width+2,o.height+2,!0,0),i=0|Math.sqrt(Math.pow(s.width,2)+Math.pow(s.height,2)),n=new ia(0,0,o.width,o.height);var l=new ra(1,1);s.copyPixels(o,n,l),e.graphics.beginBitmapFill(s,e.mtx,!1,ja.antialias),e.graphics.drawRect(e.x-(i-o.width)/2,e.y-(i-o.height)/2,i,i)}e.graphics.endFill()}},getFrameDurations:function(){return this.durations},setFrameDurations:function(e){if(null!=this.durations){for(var i=[],s=0,n=this.durations.length;s<n;)s++,i.push(e);this.durations=i,this.individualDurations=!0}},setFrameDuration:function(e,i){if(!this.individualDurations){for(var s=[],n=0,o=this.durations.length;n<o;){var l=n++;s.push(this.durations[l])}this.durations=s,this.individualDurations=!0}0<=e&&e<this.durations.length&&(this.durations[e]=i)},framesUpdated:function(){this.set_x(Math.round(-this.model.frameWidth/2*p.SCALE)),this.set_y(Math.round(-this.model.frameHeight/2*p.SCALE)),null!=this.filter?(this.filteredFrames[this.frameIndex]||(this.frames[this.frameIndex]=this.applyFilters(this.frames[this.frameIndex],this.model.frames[this.frameIndex],this.filter),this.filteredFrames[this.frameIndex]=!0),this.set_bitmapData(this.frames[this.frameIndex])):this.set_bitmapData(this.model.frames[this.frameIndex]),this.smoothing=ja.antialias},getCurrentImage:function(){return ja.disposeImages&&!this.model.checkImageReadable()?Ke.UNLOADED:this.get_bitmapData()},activate:function(){},__class__:Zk,__properties__:x(Uc.prototype.__properties__,{set_filter:"set_filter"})});var Yh=function(){};k["com.stencyl.graphics.EngineScaleUpdateListener"]=Yh,Yh.__name__="com.stencyl.graphics.EngineScaleUpdateListener",Yh.__isInterface__=!0,Yh.prototype={updateScale:null,__class__:Yh};var Um=function(e){this.cacheParentAnchor=N.zero,qa.call(this),this.img=e,this.offsetY=this.offsetX=0,this.addChild(e)};k["com.stencyl.graphics.BitmapWrapper"]=Um,Um.__name__="com.stencyl.graphics.BitmapWrapper",Um.__interfaces__=[Yh],Um.__super__=qa,Um.prototype=x(qa.prototype,{img:null,offsetX:null,offsetY:null,cacheParentAnchor:null,smoothing:null,imgX:null,imgY:null,tweenProps:null,set_imgX:function(e){return this.set_x((e+this.offsetX)*p.SCALE-this.cacheParentAnchor.x),this.imgX=e},get_imgX:function(){return this.imgX},set_imgY:function(e){return this.set_y((e+this.offsetY)*p.SCALE-this.cacheParentAnchor.y),this.imgY=e},get_imgY:function(){return this.imgY},set_smoothing:function(e){return this.img.smoothing=e},get_smoothing:function(){return this.img.smoothing},setOrigin:function(e,i){this.set_x(this.get_x()+(e-this.offsetX)*p.SCALE),this.set_y(this.get_y()+(i-this.offsetY)*p.SCALE),this.offsetX=e,this.offsetY=i,this.img.set_x(-e*p.SCALE),this.img.set_y(-i*p.SCALE)},updateScale:function(){this.updatePosition()},updatePosition:function(){this.set_x((this.get_imgX()+this.offsetX)*p.SCALE-this.cacheParentAnchor.x),this.set_y((this.get_imgY()+this.offsetY)*p.SCALE-this.cacheParentAnchor.y)},get_tweenProps:function(){return null==this.tweenProps&&(this.tweenProps=new Xp(this)),this.tweenProps},__class__:Um,__properties__:x(qa.prototype.__properties__,{get_tweenProps:"get_tweenProps",set_imgY:"set_imgY",get_imgY:"get_imgY",set_imgX:"set_imgX",get_imgX:"get_imgX",set_smoothing:"set_smoothing",get_smoothing:"get_smoothing"})});var Xp=function(e){this.bmp=e,this.xy=(new bg).doOnUpdate(r(this,this.onUpdateXY)),this.angle=(new Se).doOnUpdate(r(this,this.onUpdateAngle)),this.alpha=(new Se).doOnUpdate(r(this,this.onUpdateAlpha)),this.scaleXY=(new bg).doOnUpdate(r(this,this.onUpdateScaleXY))};k["com.stencyl.graphics.BitmapTweenProperties"]=Xp,Xp.__name__="com.stencyl.graphics.BitmapTweenProperties",Xp.prototype={xy:null,angle:null,alpha:null,scaleXY:null,bmp:null,pause:function(){this.xy.paused=!0,this.angle.paused=!0,this.alpha.paused=!0,this.scaleXY.paused=!0},unpause:function(){this.xy.paused=!1,this.angle.paused=!1,this.alpha.paused=!1,this.scaleXY.paused=!1},cancel:function(){this.xy.active&&Eb.cancel(this.xy),this.angle.active&&Eb.cancel(this.angle),this.alpha.active&&Eb.cancel(this.alpha),this.scaleXY.active&&Eb.cancel(this.scaleXY)},onUpdateXY:function(){this.bmp.set_imgX(this.xy.value1),this.bmp.set_imgY(this.xy.value2)},onUpdateAngle:function(){this.bmp.set_rotation(this.angle.value)},onUpdateAlpha:function(){this.bmp.set_alpha(this.alpha.value)},onUpdateScaleXY:function(){this.bmp.set_scaleX(this.scaleXY.value1),this.bmp.set_scaleY(this.scaleXY.value2)},__class__:Xp};var Vm=function(){};k["com.stencyl.graphics.BlendModes"]=Vm,Vm.__name__="com.stencyl.graphics.BlendModes",Vm.get=function(e){var i=Vm.stringBlendMap;return null!=t[e]?i.getReserved(e):i.h[e]};var eb=function(){this.drawActor=!1,this.x=this.y=0,this.scaleX=this.scaleY=p.SCALE,this.alpha=1,this.blendMode=10,this.strokeColor=this.fillColor=this.strokeSize=0,this.rect=new ia,this.rect2=new ia,this.point=new ra,this.point2=new ra,this.data=[0,0,0],this.drawPoly=!1,this.firstY=this.firstX=this.pointCounter=0,this.font=this.defaultFont=new $f(-1,0,"",!0),this.mtx=new Fa};k["com.stencyl.graphics.G"]=eb,eb.__name__="com.stencyl.graphics.G",eb.resetStatics=function(){eb.fontCache=null},eb.visitStringCache=function(){for(var e=eb.drawnStringCacheKeys.length;0<e--;){var i=eb.drawnStringCacheKeys[e],s=eb.drawnStringCache;--(i=null!=t[i]?s.getReserved(i):s.h[i]).lifetime,0==i.lifetime&&(i.img.dispose(),eb.drawnStringCache.remove(eb.drawnStringCacheKeys[e]),eb.drawnStringCacheKeys[e]=eb.drawnStringCacheKeys[eb.drawnStringCacheKeys.length-1],eb.drawnStringCacheKeys.pop())}},eb.prototype={defaultFont:null,graphics:null,x:null,y:null,scaleX:null,scaleY:null,alpha:null,blendMode:null,strokeSize:null,fillColor:null,strokeColor:null,font:null,fontData:null,mtx:null,rect:null,rect2:null,point:null,point2:null,data:null,drawPoly:null,pointCounter:null,firstX:null,firstY:null,drawActor:null,actor:null,resetGraphicsSettings:function(){this.alpha=1,this.strokeColor=this.fillColor=this.strokeSize=0,this.font=this.defaultFont},setFont:function(e){null!=e&&e!=this.font&&(this.font=e)},startGraphics:function(){!this.drawActor||null!=this.actor&&this.actor.isHUD||(this.x-=p.cameraX,this.y-=p.cameraY),0==this.strokeSize?this.graphics.lineStyle():this.graphics.lineStyle(this.strokeSize*p.SCALE,this.strokeColor,this.alpha)},endGraphics:function(){this.drawActor&&!this.actor.isHUD&&(this.x+=p.cameraX,this.y+=p.cameraY),this.graphics.lineStyle()},translate:function(e,i){this.x+=e*this.scaleX,this.y+=i*this.scaleY},moveTo:function(e,i){if(this.drawActor){if(null!=this.actor){var s=this.actor;if(this.drawActor=!0,this.actor=s,s.smoothMove){var n=s.drawY-Math.floor(s.cacheHeight/2)-s.currOffset.y;this.x=(s.drawX-Math.floor(s.cacheWidth/2)-s.currOffset.x)*this.scaleX,this.y=n*this.scaleY}else this.x=s.colX*this.scaleX,this.y=s.colY*this.scaleY}this.x+=e*this.scaleX,this.y+=i*this.scaleY}else this.x=e*this.scaleX,this.y=i*this.scaleY},translateToScreen:function(){this.drawActor=!1,this.actor=null,this.y=this.x=0},translateToActor:function(e){if(this.drawActor=!0,this.actor=e,e.smoothMove){var i=e.drawY-Math.floor(e.cacheHeight/2)-e.currOffset.y;this.x=(e.drawX-Math.floor(e.cacheWidth/2)-e.currOffset.x)*this.scaleX,this.y=i*this.scaleY}else this.x=e.colX*this.scaleX,this.y=e.colY*this.scaleY},getCacheKey:function(e,i,s){return e+":"+i.ID+":"+s+":"+i.letterSpacing+":"+p.SCALE},drawString:function(e,i,s){null==this.font&&(this.font=this.defaultFont,this.font.fontScale!=p.SCALE&&(this.font.fontScale=p.SCALE)),this.drawActor?null!=this.actor&&this.actor.isHUD?(i=this.x+i*this.scaleX,s=this.y+s*this.scaleY):(i=this.x+i*this.scaleX-p.cameraX,s=this.y+s*this.scaleY-p.cameraY):(i=this.x+i*this.scaleX,s=this.y+s*this.scaleY),this.mtx.identity(),this.mtx.translate(i,s);var n=null,o=this.font,l=eb.drawnStringCache;if(null!=t[o=e+":"+o.ID+":"+this.alpha+":"+o.letterSpacing+":"+p.SCALE]?l.existsReserved(o):l.h.hasOwnProperty(o))e=eb.drawnStringCache,(e=null!=t[o]?e.getReserved(o):e.h[o]).lifetime=5,n=e.img;else{l=this.font.font.getTextWidth(e,this.font.letterSpacing,this.font.fontScale);var _=this.font.font.getFontHeight()*this.font.fontScale|0;0<l&&0<_&&(n=new pa(l,_,!0,0),this.font.font.renderToImg(n,e,0,this.alpha,0,0,this.font.letterSpacing,this.font.fontScale,0,!1),(e=new ef).img=n,e.lifetime=5,l=eb.drawnStringCache,null!=t[o]?l.setReserved(o,e):l.h[o]=e,eb.drawnStringCacheKeys.push(o))}null!=n&&(this.graphics.beginBitmapFill(n,this.mtx,!1,ja.antialias),this.graphics.drawRect(i,s,n.width,n.height),this.graphics.endFill())},drawLine:function(e,i,s,n){e*=this.scaleX,i*=this.scaleY,s*=this.scaleX,n*=this.scaleY,!this.drawActor||null!=this.actor&&this.actor.isHUD||(this.x-=p.cameraX,this.y-=p.cameraY),0==this.strokeSize?this.graphics.lineStyle():this.graphics.lineStyle(this.strokeSize*p.SCALE,this.strokeColor,this.alpha),this.graphics.moveTo(this.x+e,this.y+i),this.graphics.lineTo(this.x+s,this.y+n),this.drawActor&&!this.actor.isHUD&&(this.x+=p.cameraX,this.y+=p.cameraY),this.graphics.lineStyle()},fillPixel:function(e,i){!this.drawActor||null!=this.actor&&this.actor.isHUD||(this.x-=p.cameraX,this.y-=p.cameraY),0==this.strokeSize?this.graphics.lineStyle():this.graphics.lineStyle(this.strokeSize*p.SCALE,this.strokeColor,this.alpha),this.graphics.lineStyle(),this.graphics.beginFill(this.fillColor,this.alpha),this.graphics.drawRect(this.x+(e*p.SCALE|0),this.y+(i*p.SCALE|0),0|p.SCALE,0|p.SCALE),this.graphics.endFill(),this.drawActor&&!this.actor.isHUD&&(this.x+=p.cameraX,this.y+=p.cameraY),this.graphics.lineStyle()},drawRect:function(e,i,s,n){e*=this.scaleX,i*=this.scaleY,s*=this.scaleX,n*=this.scaleY,!this.drawActor||null!=this.actor&&this.actor.isHUD||(this.x-=p.cameraX,this.y-=p.cameraY),0==this.strokeSize?this.graphics.lineStyle():this.graphics.lineStyle(this.strokeSize*p.SCALE,this.strokeColor,this.alpha),this.graphics.drawRect(this.x+e,this.y+i,s,n),this.drawActor&&!this.actor.isHUD&&(this.x+=p.cameraX,this.y+=p.cameraY),this.graphics.lineStyle()},fillRect:function(e,i,s,n){e*=this.scaleX,i*=this.scaleY,s*=this.scaleX,n*=this.scaleY,!this.drawActor||null!=this.actor&&this.actor.isHUD||(this.x-=p.cameraX,this.y-=p.cameraY),0==this.strokeSize?this.graphics.lineStyle():this.graphics.lineStyle(this.strokeSize*p.SCALE,this.strokeColor,this.alpha),this.graphics.beginFill(this.fillColor,this.alpha),this.graphics.drawRect(this.x+e,this.y+i,s,n),this.graphics.endFill(),this.drawActor&&!this.actor.isHUD&&(this.x+=p.cameraX,this.y+=p.cameraY),this.graphics.lineStyle()},drawRoundRect:function(e,i,s,n,o){e*=this.scaleX,i*=this.scaleY,s*=this.scaleX,n*=this.scaleY,!this.drawActor||null!=this.actor&&this.actor.isHUD||(this.x-=p.cameraX,this.y-=p.cameraY),0==this.strokeSize?this.graphics.lineStyle():this.graphics.lineStyle(this.strokeSize*p.SCALE,this.strokeColor,this.alpha),this.graphics.drawRoundRect(this.x+e,this.y+i,s,n,o,o),this.drawActor&&!this.actor.isHUD&&(this.x+=p.cameraX,this.y+=p.cameraY),this.graphics.lineStyle()},fillRoundRect:function(e,i,s,n,o){e*=this.scaleX,i*=this.scaleY,s*=this.scaleX,n*=this.scaleY,!this.drawActor||null!=this.actor&&this.actor.isHUD||(this.x-=p.cameraX,this.y-=p.cameraY),0==this.strokeSize?this.graphics.lineStyle():this.graphics.lineStyle(this.strokeSize*p.SCALE,this.strokeColor,this.alpha),this.graphics.beginFill(this.fillColor,this.alpha),this.graphics.drawRoundRect(this.x+e,this.y+i,s,n,o,o),this.graphics.endFill(),this.drawActor&&!this.actor.isHUD&&(this.x+=p.cameraX,this.y+=p.cameraY),this.graphics.lineStyle()},drawCircle:function(e,i,s){e*=this.scaleX,i*=this.scaleY,s*=this.scaleX,!this.drawActor||null!=this.actor&&this.actor.isHUD||(this.x-=p.cameraX,this.y-=p.cameraY),0==this.strokeSize?this.graphics.lineStyle():this.graphics.lineStyle(this.strokeSize*p.SCALE,this.strokeColor,this.alpha),this.graphics.drawCircle(this.x+e,this.y+i,s),this.drawActor&&!this.actor.isHUD&&(this.x+=p.cameraX,this.y+=p.cameraY),this.graphics.lineStyle()},fillCircle:function(e,i,s){e*=this.scaleX,i*=this.scaleY,s*=this.scaleX,!this.drawActor||null!=this.actor&&this.actor.isHUD||(this.x-=p.cameraX,this.y-=p.cameraY),0==this.strokeSize?this.graphics.lineStyle():this.graphics.lineStyle(this.strokeSize*p.SCALE,this.strokeColor,this.alpha),this.graphics.beginFill(this.fillColor,this.alpha),this.graphics.drawCircle(this.x+e,this.y+i,s),this.graphics.endFill(),this.drawActor&&!this.actor.isHUD&&(this.x+=p.cameraX,this.y+=p.cameraY),this.graphics.lineStyle()},beginFillPolygon:function(){this.drawPoly=!1,!this.drawActor||null!=this.actor&&this.actor.isHUD||(this.x-=p.cameraX,this.y-=p.cameraY),0==this.strokeSize?this.graphics.lineStyle():this.graphics.lineStyle(this.strokeSize*p.SCALE,this.strokeColor,this.alpha),this.graphics.moveTo(this.x,this.y),this.pointCounter=0},endDrawingPolygon:function(){2<=this.pointCounter&&(this.drawPoly?this.graphics.lineTo(this.x+this.firstX,this.y+this.firstY):(this.graphics.lineTo(this.x+this.firstX,this.y+this.firstY),this.graphics.endFill()),this.drawActor&&!this.actor.isHUD&&(this.x+=p.cameraX,this.y+=p.cameraY),this.graphics.lineStyle())},beginDrawPolygon:function(){this.drawPoly=!0,!this.drawActor||null!=this.actor&&this.actor.isHUD||(this.x-=p.cameraX,this.y-=p.cameraY),0==this.strokeSize?this.graphics.lineStyle():this.graphics.lineStyle(this.strokeSize*p.SCALE,this.strokeColor,this.alpha),this.graphics.moveTo(this.x,this.y),this.pointCounter=0},addPointToPolygon:function(e,i){e*=this.scaleX,i*=this.scaleY,0==this.pointCounter&&(this.firstX=e,this.firstY=i,this.graphics.moveTo(this.x+e,this.y+i),this.drawPoly||this.graphics.beginFill(this.fillColor,this.alpha)),this.pointCounter++,this.graphics.lineTo(this.x+e,this.y+i)},drawImage:function(e,i,s,n,o){null==n&&(n=0),i*=this.scaleX,s*=this.scaleY,this.rect.x=0,this.rect.y=0,this.rect.width=e.width,this.rect.height=e.height,this.drawActor?null!=this.actor&&this.actor.isHUD?(this.point.x=this.x+i,this.point.y=this.y+s):(this.point.x=this.x+i-p.cameraX,this.point.y=this.y+s-p.cameraY):(this.point.x=this.x+i,this.point.y=this.y+s),this.mtx.identity(),this.mtx.rotate(n),this.mtx.translate(this.point.x,this.point.y),0==n?(1!=this.alpha&&(this.point2.x=0,this.point2.y=0,this.rect2.width=e.width,this.rect2.height=e.height,i=new pa(e.width,e.height,!0,this.toARGB(0,255*this.alpha|0)),(s=new pa(e.width,e.height,!0,0)).copyPixels(e,this.rect2,this.point2,i,null,!0),e=s),this.graphics.beginBitmapFill(e,this.mtx),this.graphics.drawRect(this.point.x,this.point.y,e.width,e.height)):(1!=this.alpha&&(this.point2.x=0,this.point2.y=0,this.rect2.width=e.width,this.rect2.height=e.height,i=new pa(e.width,e.height,!0,this.toARGB(0,255*this.alpha|0)),(s=new pa(e.width,e.height,!0,0)).copyPixels(e,this.rect2,this.point2,i,null,!0),e=s),i=new pa(e.width+2,e.height+2,!0,0),s=0|Math.sqrt(Math.pow(i.width,2)+Math.pow(i.height,2)),n=new ia(0,0,e.width,e.height),o=new ra(1,1),i.copyPixels(e,n,o),this.graphics.beginBitmapFill(i,this.mtx,!1,ja.antialias),this.graphics.drawRect(this.x-(s-e.width)/2,this.y-(s-e.height)/2,s,s)),this.graphics.endFill()},toARGB:function(e,i){return e+(i<<24)},resetFont:function(){this.font=this.defaultFont,this.font.fontScale!=p.SCALE&&(this.font.fontScale=p.SCALE)},__class__:eb};var ef=function(){};k["com.stencyl.graphics._G.TemporaryImage"]=ef,ef.__name__="com.stencyl.graphics._G.TemporaryImage",ef.prototype={lifetime:null,img:null,__class__:ef};var rd=function(){};k["com.stencyl.graphics.GLUtil"]=rd,rd.__name__="com.stencyl.graphics.GLUtil",rd.initialize=function(){null==rd.gl&&(rd.context=p.stage.window.context,rd.context3D=p.stage.context3D,rd.gl=zb.fromRenderContext(rd.context),rd.renderer=p.stage.__renderer,rd.textureMaxSize=rd.gl.getParameter(rd.gl.MAX_TEXTURE_SIZE),rd.textureMaxSize=rd.textureMaxSize/2|0,rd.textureMaxSize>rd.MAX_TEXTURE_CAP&&(rd.textureMaxSize=rd.MAX_TEXTURE_CAP),null==pa.__supportsBGRA&&new pa(1,1,!0,0).getTexture(rd.context3D))},rd.uploadTexture=function(e,i){e.getTexture(rd.context3D),i&&rd.disposeSoftwareBuffer(e)},rd.disposeSoftwareBuffer=function(e){e.image=null,e.readable=!1,e.__surface=null,e.__vertexBuffer=null,e.__framebuffer=null,e.__framebufferContext=null},rd.createNewTexture=function(e){var i=rd.context3D.createRectangleTexture(e,e,1,!1);i.uploadFromTypedArray(null);var s=new pa(0,0,!0,0);return s.__resize(e,e),s.readable=!1,s.__texture=i,s.__textureContext=rd.context,s.__isValid=!0,s.image=null,s},rd.clearTexture=function(e){e.__texture.uploadFromTypedArray(null)};var Wd=function(e){this.value=e};k["com.stencyl.graphics.Scale"]=Wd,Wd.__name__="com.stencyl.graphics.Scale",Wd.fromString=function(e){switch(e){case"1.5x":return Wd._1_5X;case"1x":default:return Wd._1X;case"2x":return Wd._2X;case"3x":return Wd._3X;case"4x":return Wd._4X}},Wd.prototype={value:null,toString:function(){return 1==this.value?"1x":1.5==this.value?"1.5x":2==this.value?"2x":3==this.value?"3x":4==this.value?"4x":""},__class__:Wd};var Xg={};k["com.stencyl.graphics._ScaleMode.ScaleMode_Impl_"]=Xg,Xg.__name__="com.stencyl.graphics._ScaleMode.ScaleMode_Impl_",Xg._new=function(e){return e},Xg.fromString=function(e){switch(e){case"FULLSCREEN":return 1;case"NO_SCALING":default:return 0;case"SCALE_TO_FIT_FILL":return 4;case"SCALE_TO_FIT_FULLSCREEN":return 5;case"SCALE_TO_FIT_LETTERBOX":return 3;case"STRETCH_TO_FIT":return 2}},Xg.toString=function(e){switch(e){case 0:default:return"NO_SCALING";case 1:return"FULLSCREEN";case 2:return"STRETCH_TO_FIT";case 3:return"SCALE_TO_FIT_LETTERBOX";case 4:return"SCALE_TO_FIT_FILL";case 5:return"SCALE_TO_FIT_FULLSCREEN"}};var Gf=function(){this.lineSpacing=0,this.isDefault=!1,this._maxHeight=0,this._point=new ra,this._glyphs=new Va,this._num_letters=0};k["com.stencyl.graphics.fonts.BitmapFont"]=Gf,Gf.__name__="com.stencyl.graphics.fonts.BitmapFont",Gf.store=function(e,i){var s=Gf._storedFonts;null!=t[e]?s.setReserved(e,i):s.h[e]=i},Gf.fetch=function(e){var i=Gf._storedFonts;return null!=t[e]?i.getReserved(e):i.h[e]},Gf.prototype={_glyphs:null,_num_letters:null,_tileset:null,_glyphString:null,_maxHeight:null,_point:null,isDefault:null,lineSpacing:null,loadPixelizer:function(e,i){if(this.reset(),this._glyphString=i,null!=e){e=this.prepareBitmapData(e,i=[]),this._tileset=new Gi(e);for(var s=0,n=i.length;s<n;){var o=s++;e=i[o],this.setGlyph(B.cca(this._glyphString,o),e,o,0,0,Math.floor(e.width))}}return this},loadAngelCode:function(e,i){if(this.reset(),null!=e){this._glyphString="";var s=new ia,n=new ra,o=0;for(this._tileset=new Gi(e),e=null,i=i.elements();i.hasNext();){var l=i.next();if(l.nodeType!=ka.Element)throw new E("Bad node type, expected Element but found "+ea.toString(l.nodeType));if("font"==l.nodeName)for(l=l.elements();l.hasNext();){var _=l.next();if(_.nodeType!=ka.Element)throw new E("Bad node type, expected Element but found "+ea.toString(_.nodeType));if("common"==_.nodeName)this.lineSpacing=O.parseInt(_.get("lineHeight"));else{if(_.nodeType!=ka.Element)throw new E("Bad node type, expected Element but found "+ea.toString(_.nodeType));"chars"==_.nodeName&&(e=_)}}}if(null!=e)for(l=e.elements();l.hasNext();){if((_=l.next()).nodeType!=ka.Element)throw new E("Bad node type, expected Element but found "+ea.toString(_.nodeType));if("char"==_.nodeName){s.x=O.parseInt(_.get("x")),s.y=O.parseInt(_.get("y")),s.width=O.parseInt(_.get("width")),s.height=O.parseInt(_.get("height")),n.x=O.parseInt(_.get("xoffset")),n.y=O.parseInt(_.get("yoffset")),e=O.parseInt(_.get("id")),i=String.fromCodePoint(e),this._glyphString+=i;var h=_=O.parseInt(_.get("xadvance"));s.width>_&&(h=0|s.width,n.x=0),this.setGlyph(e,s,o,Math.floor(n.x)," "!=i&&""!=i?Math.floor(n.y):1,h),++o}}}return this},reset:function(){this.dispose(),this._maxHeight=0,this._glyphs=new Va,this._glyphString=""},prepareBitmapData:function(e,i){for(var o,s=e.getPixel(0,0),n=0;n<e.height;){var l=0;for(o=0;o<e.width;){if((0|e.getPixel(o,n))!=s){for(var _=o,h=n;(0|e.getPixel(_,n))!=s;)++_;for(;(0|e.getPixel(o,h))!=s;)++h;i.push(new ia(o,n,_-=o,h-=n)),h>l&&(l=h),h>this._maxHeight&&(this._maxHeight=h),o+=_}++o}n+=l+1}for(i=e.clone(),l=e.getPixel32(0,0),n=0;n<e.height;){for(o=0;o<e.width;)(s=e.getPixel32(o,n))==l&&i.setPixel32(o,n,0),++o;++n}return i},dispose:function(){this._tileset=null,this._num_letters=0,this._glyphs=null},setGlyph:function(e,i,s,n,o,l){null==l&&(l=0),null==o&&(o=0),null==n&&(n=0),0==i.width&&(i.width=1),0==i.height&&(i.height=1),this._tileset.addRect(i);var _=new Yp;_.tileID=s,_.xoffset=n,_.yoffset=o,_.xadvance=l,this._glyphs.h[e]=_,this._num_letters++,Math.floor(i.height)+o>this._maxHeight&&(this._maxHeight=Math.floor(i.height)+o)},render:function(e,i,s,n,o,l,_,h){for(this._point.x=n,this._point.y=o,o=n=0,h=i.length;o<h;){var m=o++;if(!(m<n)){var f=B.cca(i,m);126==f&&"x"==i.charAt(m+1)&&(m=i.substring(m+2,m+6),f=O.parseInt("0x"+m),n+=5);var y=this._glyphs.h[f];this._glyphs.h.hasOwnProperty(f)&&(m=y.xadvance,32!=f&&((f=new Hg(y.tileID,this._point.x+y.xoffset*_,this._point.y+y.yoffset*_)).set_scaleX(_),f.set_scaleY(_),f.set_alpha(s),e.addTile(f)),this._point.x+=m*_+l),++n}}},renderToImg:function(e,i,s,n,o,l,_,h,m,f){null==f&&(f=!0),null==m&&(m=0);var y=new Ig(e.width,e.height,this._tileset,ja.antialias);this.render(y,i,n,o,l,_,h,m),f?e.draw(y,null,new Tb((s>>16&255)/255,(s>>8&255)/255,(255&s)/255)):e.draw(y),y.removeTiles()},toARGB:function(e,i){return e+(i<<24)},getTextWidth:function(e,i,s){null==s&&(s=1),null==i&&(i=0);for(var n=0,o=0,l=e.length,_=0;_<l;){var h=_++;if(!(h<o)){var m=B.cca(e,h);126==m&&"x"==e.charAt(h+1)&&(h=e.substring(h+2,h+6),m=O.parseInt("0x"+h),o+=5),this._glyphs.h.hasOwnProperty(m)&&(n+=this._glyphs.h[m].xadvance),++o}}return n=Math.round(n*s),1<l&&(n+=(l-1)*i),n},getFontHeight:function(){return this._maxHeight},numLetters:null,get_numLetters:function(){return this._num_letters},containsCharacter:function(e){return 0<=this._glyphString.indexOf(e)},getTileset:function(){return this._tileset},__class__:Gf,__properties__:{get_numLetters:"get_numLetters"}};var $h=function(){};k["com.stencyl.graphics.fonts.DefaultFontGenerator"]=$h,$h.__name__="com.stencyl.graphics.fonts.DefaultFontGenerator",$h.generateAndStoreDefaultFont=function(){for(var e="",i=new pa(700,9,!0,-7829368),s=0,n=0;n<$h.fontData.length;){e+=B.substr($h.fontData,n,1);for(var o=O.parseInt(B.substr($h.fontData,++n,1)),l=0,_=O.parseInt(B.substr($h.fontData,++n,1));l<_;)for(var h=l++,m=0,f=o;m<f;){var y=m++;++n,"1"==B.substr($h.fontData,n,1)?i.setPixel32(1+7*s+y,1+h,-1):i.setPixel32(1+7*s+y,1+h,0)}++n,++s}Gf.store("default",(new Gf).loadPixelizer(i,e)),i.dispose()};var Yp=function(){};k["com.stencyl.graphics.fonts.FontSymbol"]=Yp,Yp.__name__="com.stencyl.graphics.fonts.FontSymbol",Yp.prototype={xoffset:null,yoffset:null,xadvance:null,tileID:null,__class__:Yp};var Wm=function(e){this.cacheParentAnchor=N.zero,qa.call(this),this._text="",this._color=0,this._useColor=!0,this._outline=!1,this._outlineColor=0,this._shadow=!1,this._shadowColor=0,this._background=!1,this._backgroundColor=16777215,this._alignment=1,this._padding=0,this._pendingTextChange=!1,this._fieldWidth=1,this._multiLine=!1,this._letterSpacing=this._lineSpacing=0,this._fontScale=1,this._autoUpperCase=!1,this._wordWrap=this._fixedWidth=!0,this._alpha=1,null==e?(null==Gf.fetch("default")&&$h.generateAndStoreDefaultFont(),this._font=Gf.fetch("default")):this._font=e,this.set_cacheAsBitmap(!0),this._pendingTextChange=!0,this.update()};k["com.stencyl.graphics.fonts.Label"]=Wm,Wm.__name__="com.stencyl.graphics.fonts.Label",Wm.__interfaces__=[Yh],Wm.__super__=qa,Wm.prototype=x(qa.prototype,{_stencylFont:null,_font:null,_text:null,_color:null,_useColor:null,_outline:null,_outlineColor:null,_shadow:null,_shadowColor:null,_background:null,_backgroundColor:null,_alignment:null,_padding:null,_lineSpacing:null,_letterSpacing:null,_fontScale:null,_autoUpperCase:null,_wordWrap:null,_fixedWidth:null,_pendingTextChange:null,_fieldWidth:null,_multiLine:null,_alpha:null,labelX:null,labelY:null,_shadowTilemap:null,_outlineTilemap:null,_characterTilemap:null,cacheParentAnchor:null,destroy:function(){this._font=this._stencylFont=null,this.removeChildren(),this._characterTilemap=this._shadowTilemap=this._outlineTilemap=null},get_text:function(){return this._text},set_text:function(e){return e.split("\\n").join("\n")!=this._text&&(this._text=e,this._text=this._text.split("\\n").join("\n"),this._autoUpperCase&&(this._text=this._text.toUpperCase()),this._pendingTextChange=!0,this.update()),this._text},updateBitmapData:function(){if(null!=this._font){var _,h,e=this._fieldWidth,i=[],s=this._font.getFontHeight(),n=this._alignment,o=this._text.split("\n"),l=-1;for(this._multiLine||(o=[o[0]]);++l<o.length;)if(this._fixedWidth){var m=!1,f=o[l].split(" ");if(0<f.length)for(var y=0,g="";!m;){var j=g+(h=f[y])+" ",$=!1;if(this._wordWrap)this._font.getTextWidth(j,this._letterSpacing,this._fontScale)>this._fieldWidth?(""==g?f.splice(0,1):i.push(B.substr(g,0,g.length-1)),g="",f.splice(0,this._multiLine?y:f.length),y=0,$=!0):(g+=h+" ",++y);else if(this._font.getTextWidth(j,this._letterSpacing,this._fontScale)>this._fieldWidth){var yt=0;for(_=h.length;yt<_;)j=g+h.charAt(yt),this._font.getTextWidth(j,this._letterSpacing,this._fontScale)>this._fieldWidth?(i.push(B.substr(g,0,g.length-1)),h=g="",y=f.length,yt=_,$=!0):g+=h.charAt(yt),++yt}else g+=h+" ",++y;y>=f.length&&($||(m=B.substr(g,0,g.length-1),e=Math.floor(Math.max(e,this._font.getTextWidth(m,this._letterSpacing,this._fontScale))),i.push(m)),m=!0)}else i.push("")}else e=Math.floor(Math.max(e,this._font.getTextWidth(o[l],this._letterSpacing,this._fontScale))),i.push(o[l]);for(e=e+2*this._padding+(this._outline?2:0),o=Math.floor(2*this._padding+Math.max(1,i.length*s*this._fontScale+(this._shadow?1:0)+(this._outline?2:0)))+(1<=i.length?this._lineSpacing*(i.length-1):0),this.get_graphics().clear(),1==this._background&&(this.get_graphics().beginFill(this._backgroundColor,this._alpha),this.get_graphics().drawRect(0,0,e,o),this.get_graphics().endFill()),this.removeChildren(),this._outline&&(this._outlineTilemap=new Ig(e,o,this._font.getTileset(),ja.antialias),this.tint(this._outlineTilemap,this._outlineColor),this.addChild(this._outlineTilemap)),this._shadow&&(this._shadowTilemap=new Ig(e,o,this._font.getTileset(),ja.antialias),this.tint(this._shadowTilemap,this._shadowColor),this.addChild(this._shadowTilemap)),this._characterTilemap=new Ig(e,o,this._font.getTileset(),ja.antialias),this._useColor&&this.tint(this._characterTilemap,this._color),this.addChild(this._characterTilemap),l=o=0;l<i.length;){if(f=i[l],++l,g=y=0,3==n&&(y=this._fixedWidth?Math.floor((this._fieldWidth-this._font.getTextWidth(f,this._letterSpacing,this._fontScale))/2):Math.floor((e-this._font.getTextWidth(f,this._letterSpacing,this._fontScale))/2)),2==n&&(y=this._fixedWidth?this._fieldWidth-Math.floor(this._font.getTextWidth(f,this._letterSpacing,this._fontScale)):e-Math.floor(this._font.getTextWidth(f,this._letterSpacing,this._fontScale))-2*this.get_padding()),this._outline){for(m=0;3>m;)for(yt=m++,_=0;3>_;)h=_++,this._font.render(this._outlineTilemap,f,this._alpha,h+y+this._padding,yt+o*(Math.floor(s*this._fontScale)+this._lineSpacing)+this._padding,this._letterSpacing,this._fontScale);++y,++g}this._shadow&&this._font.render(this._shadowTilemap,f,this._alpha,1+y+this._padding,1+g+o*(Math.floor(s*this._fontScale)+this._lineSpacing)+this._padding,this._letterSpacing,this._fontScale),this._font.render(this._characterTilemap,f,this._alpha,y+this._padding,g+o*(Math.floor(s*this._fontScale)+this._lineSpacing)+this._padding,this._letterSpacing,this._fontScale),++o}this._pendingTextChange=!1}},update:function(){this._pendingTextChange&&this.updateBitmapData()},get_background:function(){return this._background},set_background:function(e){return this._background!=e&&(this._background=e,this._pendingTextChange=!0,this.update()),e},get_backgroundColor:function(){return this._backgroundColor},set_backgroundColor:function(e){return this._backgroundColor!=e&&(this._backgroundColor=e,this._background&&(this._pendingTextChange=!0,this.update())),e},get_shadow:function(){return this._shadow},set_shadow:function(e){return this._shadow!=e&&(this._shadow=e,this._outline=!1,this.updateGlyphs(!1,this._shadow,!1),this._pendingTextChange=!0,this.update()),e},get_shadowColor:function(){return this._shadowColor},set_shadowColor:function(e){return this._shadowColor!=e&&(this._shadowColor=e,this.updateGlyphs(!1,this._shadow,!1),this._pendingTextChange=!0,this.update()),e},get_padding:function(){return this._padding},set_padding:function(e){return this._padding!=e&&(this._padding=e,this._pendingTextChange=!0,this.update()),e},get_color:function(){return this._color},set_color:function(e){return this._color!=e&&(this._color=e,this.updateGlyphs(!0,!1,!1),this._pendingTextChange=!0,this.update()),e},get_useColor:function(){return this._useColor},set_useColor:function(e){return this._useColor!=e&&(this._useColor=e,this.updateGlyphs(!0,!1,!1),this._pendingTextChange=!0,this.update()),e},setWidth:function(e){return 1>e&&(e=1),e!=this._fieldWidth&&(this._fieldWidth=e,this._pendingTextChange=!0,this.update()),e},get_alignment:function(){return this._alignment},set_alignment:function(e){return this._alignment!=e&&(this._alignment=e,this._pendingTextChange=!0,this.update()),e},get_multiLine:function(){return this._multiLine},set_multiLine:function(e){return this._multiLine!=e&&(this._multiLine=e,this._pendingTextChange=!0,this.update()),e},get_outline:function(){return this._outline},set_outline:function(e){return this._outline!=e&&(this._outline=e,this._shadow=!1,this.updateGlyphs(!1,!1,!0),this._pendingTextChange=!0,this.update()),e},get_outlineColor:function(){return this._outlineColor},set_outlineColor:function(e){return this._outlineColor!=e&&(this._outlineColor=e,this.updateGlyphs(!1,!1,this._outline),this._pendingTextChange=!0,this.update()),e},get_font:function(){return this._font},set_font:function(e){return this._font!=e&&(this._font=e,this.updateGlyphs(!0,this._shadow,this._outline),this._pendingTextChange=!0,this.update()),e},get_stencylFont:function(){return this._stencylFont},set_stencylFont:function(e){return this._stencylFont!=e&&(this._stencylFont=e,this.set_font(e.font)),e},get_lineSpacing:function(){return this._lineSpacing},set_lineSpacing:function(e){return this._lineSpacing!=e&&(this._lineSpacing=Math.floor(Math.abs(e)),this._pendingTextChange=!0,this.update()),e},setAlpha:function(e){this._alpha!=e&&(this._alpha=e,this._pendingTextChange=!0,this.update())},getAlpha:function(){return this._alpha},get_fontScale:function(){return this._fontScale},set_fontScale:function(e){var i=Math.abs(e);return i!=this._fontScale&&(this._fontScale=i,this.updateGlyphs(!0,this._shadow,this._outline),this._pendingTextChange=!0,this.update()),e},get_letterSpacing:function(){return this._letterSpacing},set_letterSpacing:function(e){return(e=Math.floor(e))!=this._letterSpacing&&(this._letterSpacing=e,this._pendingTextChange=!0,this.update()),this._letterSpacing},get_autoUpperCase:function(){return this._autoUpperCase},set_autoUpperCase:function(e){return this._autoUpperCase!=e&&(this._autoUpperCase=e)&&this.set_text(this._text.toUpperCase()),this._autoUpperCase},get_wordWrap:function(){return this._wordWrap},set_wordWrap:function(e){return this._wordWrap!=e&&(this._wordWrap=e,this._pendingTextChange=!0,this.update()),this._wordWrap},get_fixedWidth:function(){return this._fixedWidth},set_fixedWidth:function(e){return this._fixedWidth!=e&&(this._fixedWidth=e,this._pendingTextChange=!0,this.update()),this._fixedWidth},set_labelX:function(e){return this.set_x(e*p.SCALE),this.labelX=e},get_labelX:function(){return this.labelX},set_labelY:function(e){return this.set_y(e*p.SCALE),this.labelY=e},get_labelY:function(){return this.labelY},updatePosition:function(){this.set_x(this.get_labelX()*p.SCALE-this.cacheParentAnchor.x),this.set_y(this.get_labelY()*p.SCALE-this.cacheParentAnchor.y)},updateScale:function(){this.updatePosition(),null!=this._stencylFont&&this.set_font(this._stencylFont.font)},updateGlyphs:function(e,i,s){},tint:function(e,i){var s=new Wa;s.colorize(i,1),e.set_filters([s.getFilter()])},__class__:Wm,__properties__:x(qa.prototype.__properties__,{set_fixedWidth:"set_fixedWidth",get_fixedWidth:"get_fixedWidth",set_wordWrap:"set_wordWrap",get_wordWrap:"get_wordWrap",set_autoUpperCase:"set_autoUpperCase",get_autoUpperCase:"get_autoUpperCase",set_letterSpacing:"set_letterSpacing",get_letterSpacing:"get_letterSpacing",set_fontScale:"set_fontScale",get_fontScale:"get_fontScale",set_lineSpacing:"set_lineSpacing",get_lineSpacing:"get_lineSpacing",set_stencylFont:"set_stencylFont",get_stencylFont:"get_stencylFont",set_font:"set_font",get_font:"get_font",set_outlineColor:"set_outlineColor",get_outlineColor:"get_outlineColor",set_outline:"set_outline",get_outline:"get_outline",set_multiLine:"set_multiLine",get_multiLine:"get_multiLine",set_alignment:"set_alignment",get_alignment:"get_alignment",set_useColor:"set_useColor",get_useColor:"get_useColor",set_color:"set_color",get_color:"get_color",set_padding:"set_padding",get_padding:"get_padding",set_shadowColor:"set_shadowColor",get_shadowColor:"get_shadowColor",set_shadow:"set_shadow",get_shadow:"get_shadow",set_backgroundColor:"set_backgroundColor",get_backgroundColor:"get_backgroundColor",set_background:"set_background",get_background:"get_background",set_text:"set_text",get_text:"get_text",set_labelY:"set_labelY",get_labelY:"get_labelY",set_labelX:"set_labelX",get_labelX:"get_labelX"})});var Zp=function(){};k["com.stencyl.graphics.fonts.TextAlign"]=Zp,Zp.__name__="com.stencyl.graphics.fonts.TextAlign";var wd=function(){};k["com.stencyl.graphics.shaders.BasicShader"]=wd,wd.__name__="com.stencyl.graphics.shaders.BasicShader",wd.prototype={multipassParent:null,multipassTarget:null,model:null,setProperty:function(e,i){this.model.setUniform(e,i)},getProperty:function(e){return this.model.getUniform(e)},tweenProperty:function(e,i,s,n){null==s&&(s=1),this.model.tweenUniform(e,i,s,n)},enable:function(){p.engine.addShader(this.model)},disable:function(){p.engine.clearShaders()},setTimeScale:function(e){this.model.timeScale=e},combine:function(e){return this.multipassTarget=e,e.multipassParent=this,e},__class__:wd};var $p=function(e,i,s,n,o,l,_,h,m){null==m&&(m=.0075),null==h&&(h=.009),null==_&&(_=.012),null==l&&(l=.6),null==o&&(o=.4),null==n&&(n=3),null==s&&(s=4),null==i&&(i=.004),null==e&&(e=.25),this.model=new Ed(this,"\n\t\t\t#ifdef GL_ES\n\t\t\t\tprecision mediump float;\n\t\t\t#endif\n\t\t\t\n\t\t\tvarying vec2 vTexCoord;\n\t\t\tuniform vec2 uResolution;\n\t\t\tuniform sampler2D uImage0;\n\t\t\t\n\t\t\tuniform float currPixelWeight;\n\t\t\tuniform float neighborPixelWeight;\n\t\t\tuniform float lowThreshold;\n\t\t\tuniform float mediumThreshold;\n\t\t\tuniform float lowMultiplier;\n\t\t\tuniform float mediumMultiplier;\n\t\t\tuniform float highMultiplier;\n\n\t\t\tvoid main(void)\n\t\t\t{\n\t\t\t\tvec4 sum = vec4(0.0);\n\t\t\t\tvec2 q1 = vTexCoord;\n\t\t\t\tvec4 oricol = texture2D(uImage0, vec2(q1.x, q1.y));\n\t\t\t\tvec3 col;\n\t\t\t\t\n\t\t\t\tfor(int i = -3; i < 3; i++) \n\t\t\t\t{\n\t\t\t\t\tfor(int j = -3; j < 3; j++) \n\t\t\t\t\t{\n\t\t\t\t\t\tsum += texture2D(uImage0, vec2(j, i) * neighborPixelWeight + vec2(q1.x, q1.y)) * currPixelWeight;\n\t\t\t\t\t}\n\t\t\t   \t}\n\t\t\t \n\t\t\t  \tif(oricol.r < lowThreshold) \n\t\t\t  \t{\n\t\t\t\t\tgl_FragColor = sum * sum * lowMultiplier + oricol;\n\t\t\t  \t} \n\t\t\t  \n\t\t\t  \telse \n\t\t\t  \t{\n\t\t\t\t\tif(oricol.r < mediumThreshold) \n\t\t\t\t\t{\n\t\t\t\t\t\tgl_FragColor = sum * sum * mediumMultiplier + oricol;\n\t\t\t\t   \t} \n\t\t\t\t   \t\n\t\t\t\t   \telse \n\t\t\t\t   \t{\n\t\t\t\t\t\tgl_FragColor = sum * sum * highMultiplier + oricol;\n\t\t\t\t   \t}\n\t\t\t   }\n\t\t\t}\n\t\t",!0),this.setProperty("currPixelWeight",e),this.setProperty("neighborPixelWeight",i),this.setProperty("sampleX",s),this.setProperty("sampleY",n),this.setProperty("lowThreshold",o),this.setProperty("mediumThreshold",l),this.setProperty("lowMultiplier",_),this.setProperty("mediumMultiplier",h),this.setProperty("highMultiplier",m)};k["com.stencyl.graphics.shaders.BloomShader"]=$p,$p.__name__="com.stencyl.graphics.shaders.BloomShader",$p.__super__=wd,$p.prototype=x(wd.prototype,{__class__:$p});var aq=function(e,i,s){null==s&&(s=1),null==i&&(i=1),null==e&&(e=2),this.model=new Ed(this,"\n\t\t\t#ifdef GL_ES\n\t\t\t\tprecision mediump float;\n\t\t\t#endif\n\t\t\t\n\t\t\t//in attributes from our vertex shader\n\t\t\tvarying vec2 vTexCoord;\n\t\t\t\n\t\t\t//declare uniforms\n\t\t\tuniform sampler2D uImage0;\n\t\t\tuniform vec2 uResolution;\n\t\t\t\n\t\t\tuniform float radius;\n\t\t\tuniform float dirx;\n\t\t\tuniform float diry;\n\t\t\t\n\t\t\tvoid main()\n\t\t\t{\n\t\t\t\t//this will be our RGBA sum\n\t\t\t\tvec4 sum = vec4(0.0);\n\t\t\t\n\t\t\t\t//our original texcoord for this fragment\n\t\t\t\tvec2 tc = vTexCoord;\n\t\t\t\n\t\t\t\t//the amount to blur, i.e. how far off center to sample from\n\t\t\t\t//1.0 -> blur by one pixel\n\t\t\t\t//2.0 -> blur by two pixels, etc.\n\t\t\t\tfloat blur = radius / uResolution.x;\n\t\t\t\n\t\t\t\t//the direction of our blur\n\t\t\t\t//(1.0, 0.0) -> x-axis blur\n\t\t\t\t//(0.0, 1.0) -> y-axis blur\n\t\t\t\tfloat hstep = dirx;\n\t\t\t\tfloat vstep = diry;\n\t\t\t\n\t\t\t\t//apply blurring, using a 9-tap filter with predefined gaussian weights\n\t\t\t\n\t\t\t\tsum += texture2D(uImage0, vec2(tc.x - 4.0*blur*hstep, tc.y - 4.0*blur*vstep)) * 0.0162162162;\n\t\t\t\tsum += texture2D(uImage0, vec2(tc.x - 3.0*blur*hstep, tc.y - 3.0*blur*vstep)) * 0.0540540541;\n\t\t\t\tsum += texture2D(uImage0, vec2(tc.x - 2.0*blur*hstep, tc.y - 2.0*blur*vstep)) * 0.1216216216;\n\t\t\t\tsum += texture2D(uImage0, vec2(tc.x - 1.0*blur*hstep, tc.y - 1.0*blur*vstep)) * 0.1945945946;\n\t\t\t\n\t\t\t\tsum += texture2D(uImage0, vec2(tc.x, tc.y)) * 0.2270270270;\n\t\t\t\n\t\t\t\tsum += texture2D(uImage0, vec2(tc.x + 1.0*blur*hstep, tc.y + 1.0*blur*vstep)) * 0.1945945946;\n\t\t\t\tsum += texture2D(uImage0, vec2(tc.x + 2.0*blur*hstep, tc.y + 2.0*blur*vstep)) * 0.1216216216;\n\t\t\t\tsum += texture2D(uImage0, vec2(tc.x + 3.0*blur*hstep, tc.y + 3.0*blur*vstep)) * 0.0540540541;\n\t\t\t\tsum += texture2D(uImage0, vec2(tc.x + 4.0*blur*hstep, tc.y + 4.0*blur*vstep)) * 0.0162162162;\n\t\t\t\n\t\t\t\t//discard alpha for our simple demo, multiply by vertex color and return\n\t\t\t\tgl_FragColor = vec4(sum.rgb, 1.0);\n\t\t\t}\n\t\t",!0),this.setRadius(e),this.setDirectionX(i),this.setDirectionY(s)};k["com.stencyl.graphics.shaders.BlurShader"]=aq,aq.__name__="com.stencyl.graphics.shaders.BlurShader",aq.__super__=wd,aq.prototype=x(wd.prototype,{setRadius:function(e){this.setProperty("radius",e)},setDirectionX:function(e){this.setProperty("dirx",e)},setDirectionY:function(e){this.setProperty("diry",e)},__class__:aq});var Hi=function(e,i,s){null==s&&(s=1),null==i&&(i=1),null==e&&(e=1),this.model=new Ed(this,"\n\t\t\t#ifdef GL_ES\n\t\t\t\tprecision mediump float;\n\t\t\t#endif\n\n\t\t\tvarying vec2 vTexCoord;\n\t\t\tuniform sampler2D uImage0;\n\t\t\tuniform float contrast;\n\t\t\tuniform float brightness;\n\t\t\tuniform float saturation;\n\n\t\t\tvec3 _mix(vec3 a, vec3 b, float amount) \n\t\t\t{ \n\t\t\t\treturn vec3(a.x * (1.0 - amount) + b.x * amount, a.y * (1.0 - amount) + b.y * amount, a.z * (1.0 - amount) + b.z * amount); \n\t\t\t}\n\n\t\t\tvoid main() \n\t\t\t{\n\t\t\t\tvec3 color = texture2D(uImage0, vTexCoord).rgb;\n\t\t\t\tconst vec3 luminanceCoefficient = vec3(0.2125, 0.7154, 0.0721);\n\t\t\t\tvec3 avgLuminance = vec3(0.5, 0.5, 0.5);\n\t\t\n\t\t\t\tvec3 brtColor = vec3(color.x * brightness, color.y * brightness, color.z * brightness);\n\t\t\t\tvec3 intensity = vec3(dot(brtColor, luminanceCoefficient));\n\t\t\t\tvec3 satColor = _mix(intensity, brtColor, saturation);\n\t\t\t\tvec3 conColor = _mix(avgLuminance, satColor, contrast);\n\t\t\n\t\t\t\tgl_FragColor = vec4(conColor, 1);\n\t\t\t}\n\t\t",!0),this.setContrast(e),this.setBrightness(i),this.setSaturation(s)};k["com.stencyl.graphics.shaders.CSBShader"]=Hi,Hi.__name__="com.stencyl.graphics.shaders.CSBShader",Hi.create=function(e,i){return null==i&&(i=1),null==e&&(e="contrast"),"contrast"==e?new Hi(i,1,1):"saturation"==e?new Hi(1,1,i):new Hi(1,i,1)},Hi.__super__=wd,Hi.prototype=x(wd.prototype,{setContrast:function(e){this.setProperty("contrast",e)},setBrightness:function(e){this.setProperty("brightness",e)},setSaturation:function(e){this.setProperty("saturation",e)},__class__:Hi});var bq=function(e){this.model=new Ed(this,"assets/data/"+e)};k["com.stencyl.graphics.shaders.ExternalShader"]=bq,bq.__name__="com.stencyl.graphics.shaders.ExternalShader",bq.__super__=wd,bq.prototype=x(wd.prototype,{__class__:bq});var cq=function(e,i,s,n,o){null==o&&(o=1),null==n&&(n=1.6),null==s&&(s=.6),null==i&&(i=!1),null==e&&(e=.05),this.model=new Ed(this,"\n\t\t\t/*\n\t\t\t\tFilm Grain post-process shader v1.1\n\t\t\t\tMartins Upitis (martinsh) devlog-martinsh.blogspot.com\n\t\t\t*/\n\n\t\t\t#ifdef GL_ES\n\t\t\t\tprecision mediump float;\n\t\t\t#endif\n\t\t\t\n\t\t\tuniform sampler2D uImage0; //rendered scene sampler\n\t\t\tuniform vec2 uResolution; //scene sampler resolution\n\t\t\tuniform float uTime;\n\t\t\t\n\t\t\tvarying vec2 vTexCoord;\n\t\t\t\n\t\t\tconst float permTexUnit = 1.0/256.0;        // Perm texture texel-size\n\t\t\tconst float permTexUnitHalf = 0.5/256.0;    // Half perm texture texel-size\n\t\t\t\n\t\t\tfloat width;\n\t\t\tfloat height;\n\t\t\t\n\t\t\tuniform float grainamount; //grain amount\n\t\t\tuniform float colored; //colored noise?\n\t\t\tuniform float coloramount;\n\t\t\tuniform float grainsize; //grain particle size (1.5 - 2.5)\n\t\t\tuniform float lumamount; //\n\t\t\t\n\t\t\t//a random texture generator, but you can also use a pre-computed perturbation texture\n\t\t\tvec4 rnm(in vec2 tc)\n\t\t\t{\n\t\t\t\tfloat noise =  sin(dot(tc + vec2(uTime,uTime),vec2(12.9898,78.233))) * 43758.5453;\n\t\t\t\n\t\t\t\tfloat noiseR =  fract(noise)*2.0-1.0;\n\t\t\t\tfloat noiseG =  fract(noise*1.2154)*2.0-1.0;\n\t\t\t\tfloat noiseB =  fract(noise*1.3453)*2.0-1.0;\n\t\t\t\tfloat noiseA =  fract(noise*1.3647)*2.0-1.0;\n\t\t\t\n\t\t\t\treturn vec4(noiseR,noiseG,noiseB,noiseA);\n\t\t\t}\n\t\t\t\n\t\t\tfloat fade(in float t) {\n\t\t\t\treturn t*t*t*(t*(t*6.0-15.0)+10.0);\n\t\t\t}\n\t\t\t\n\t\t\tfloat pnoise3D(in vec3 p)\n\t\t\t{\n\t\t\t\tvec3 pi = permTexUnit*floor(p)+permTexUnitHalf; // Integer part, scaled so +1 moves permTexUnit texel\n\t\t\t\t// and offset 1/2 texel to sample texel centers\n\t\t\t\tvec3 pf = fract(p);     // Fractional part for interpolation\n\t\t\t\n\t\t\t\t// Noise contributions from (x=0, y=0), z=0 and z=1\n\t\t\t\tfloat perm00 = rnm(pi.xy).a ;\n\t\t\t\tvec3  grad000 = rnm(vec2(perm00, pi.z)).rgb * 4.0 - 1.0;\n\t\t\t\tfloat n000 = dot(grad000, pf);\n\t\t\t\tvec3  grad001 = rnm(vec2(perm00, pi.z + permTexUnit)).rgb * 4.0 - 1.0;\n\t\t\t\tfloat n001 = dot(grad001, pf - vec3(0.0, 0.0, 1.0));\n\t\t\t\n\t\t\t\t// Noise contributions from (x=0, y=1), z=0 and z=1\n\t\t\t\tfloat perm01 = rnm(pi.xy + vec2(0.0, permTexUnit)).a ;\n\t\t\t\tvec3  grad010 = rnm(vec2(perm01, pi.z)).rgb * 4.0 - 1.0;\n\t\t\t\tfloat n010 = dot(grad010, pf - vec3(0.0, 1.0, 0.0));\n\t\t\t\tvec3  grad011 = rnm(vec2(perm01, pi.z + permTexUnit)).rgb * 4.0 - 1.0;\n\t\t\t\tfloat n011 = dot(grad011, pf - vec3(0.0, 1.0, 1.0));\n\t\t\t\n\t\t\t\t// Noise contributions from (x=1, y=0), z=0 and z=1\n\t\t\t\tfloat perm10 = rnm(pi.xy + vec2(permTexUnit, 0.0)).a ;\n\t\t\t\tvec3  grad100 = rnm(vec2(perm10, pi.z)).rgb * 4.0 - 1.0;\n\t\t\t\tfloat n100 = dot(grad100, pf - vec3(1.0, 0.0, 0.0));\n\t\t\t\tvec3  grad101 = rnm(vec2(perm10, pi.z + permTexUnit)).rgb * 4.0 - 1.0;\n\t\t\t\tfloat n101 = dot(grad101, pf - vec3(1.0, 0.0, 1.0));\n\t\t\t\n\t\t\t\t// Noise contributions from (x=1, y=1), z=0 and z=1\n\t\t\t\tfloat perm11 = rnm(pi.xy + vec2(permTexUnit, permTexUnit)).a ;\n\t\t\t\tvec3  grad110 = rnm(vec2(perm11, pi.z)).rgb * 4.0 - 1.0;\n\t\t\t\tfloat n110 = dot(grad110, pf - vec3(1.0, 1.0, 0.0));\n\t\t\t\tvec3  grad111 = rnm(vec2(perm11, pi.z + permTexUnit)).rgb * 4.0 - 1.0;\n\t\t\t\tfloat n111 = dot(grad111, pf - vec3(1.0, 1.0, 1.0));\n\t\t\t\n\t\t\t\t// Blend contributions along x\n\t\t\t\tvec4 n_x = mix(vec4(n000, n001, n010, n011), vec4(n100, n101, n110, n111), fade(pf.x));\n\t\t\t\n\t\t\t\t// Blend contributions along y\n\t\t\t\tvec2 n_xy = mix(n_x.xy, n_x.zw, fade(pf.y));\n\t\t\t\n\t\t\t\t// Blend contributions along z\n\t\t\t\tfloat n_xyz = mix(n_xy.x, n_xy.y, fade(pf.z));\n\t\t\t\n\t\t\t\t// We're done, return the final noise value.\n\t\t\t\treturn n_xyz;\n\t\t\t}\n\t\t\t\n\t\t\t//2d coordinate orientation thing\n\t\t\tvec2 coordRot(in vec2 tc, in float angle)\n\t\t\t{\n\t\t\t\tfloat aspect = width/height;\n\t\t\t\tfloat rotX = ((tc.x*2.0-1.0)*aspect*cos(angle)) - ((tc.y*2.0-1.0)*sin(angle));\n\t\t\t\tfloat rotY = ((tc.y*2.0-1.0)*cos(angle)) + ((tc.x*2.0-1.0)*aspect*sin(angle));\n\t\t\t\trotX = ((rotX/aspect)*0.5+0.5);\n\t\t\t\trotY = rotY*0.5+0.5;\n\t\t\t\treturn vec2(rotX,rotY);\n\t\t\t}\n\t\t\t\n\t\t\tvoid main()\n\t\t\t{\n\t\t\t\twidth = uResolution.x;\n\t\t\t\theight = uResolution.y;\n\t\t\t\t\n\t\t\t\tvec2 texCoord = vTexCoord.st;\n\t\t\t\n\t\t\t\tvec3 rotOffset = vec3(1.425,3.892,5.835); //rotation offset values\n\t\t\t\tvec2 rotCoordsR = coordRot(texCoord, uTime + rotOffset.x);\n\t\t\t\tvec3 noise = vec3(pnoise3D(vec3(rotCoordsR*vec2(width/grainsize,height/grainsize),0.0)));\n\t\t\t\n\t\t\t\tif (colored == 1.0)\n\t\t\t\t{\n\t\t\t\t\tvec2 rotCoordsG = coordRot(texCoord, uTime + rotOffset.y);\n\t\t\t\t\tvec2 rotCoordsB = coordRot(texCoord, uTime + rotOffset.z);\n\t\t\t\t\tnoise.g = mix(noise.r,pnoise3D(vec3(rotCoordsG*vec2(width/grainsize,height/grainsize),1.0)),coloramount);\n\t\t\t\t\tnoise.b = mix(noise.r,pnoise3D(vec3(rotCoordsB*vec2(width/grainsize,height/grainsize),2.0)),coloramount);\n\t\t\t\t}\n\t\t\t\n\t\t\t\tvec3 col = texture2D(uImage0, texCoord).rgb;\n\t\t\t\n\t\t\t\t//noisiness response curve based on scene luminance\n\t\t\t\tvec3 lumcoeff = vec3(0.299,0.587,0.114);\n\t\t\t\tfloat luminance = mix(0.0,dot(col, lumcoeff),lumamount);\n\t\t\t\tfloat lum = smoothstep(0.2,0.0,luminance);\n\t\t\t\tlum += luminance;\n\t\t\t\n\t\t\t\n\t\t\t\tnoise = mix(noise,vec3(0.0),pow(lum,4.0));\n\t\t\t\tcol = col+noise*grainamount;\n\t\t\t\n\t\t\t\tgl_FragColor =  vec4(col,1.0);\n\t\t\t}\n\t\t",!0),this.setGrainAmount(e),this.setColorAmount(s),this.setGrainSize(n),this.setLuminance(o),i?this.enableColor():this.disableColor()};k["com.stencyl.graphics.shaders.GrainShader"]=cq,cq.__name__="com.stencyl.graphics.shaders.GrainShader",cq.__super__=wd,cq.prototype=x(wd.prototype,{enableColor:function(){this.setProperty("colored",1)},disableColor:function(){this.setProperty("colored",0)},setGrainAmount:function(e){this.setProperty("grainamount",e)},setColorAmount:function(e){this.setProperty("coloramount",e)},setGrainSize:function(e){this.setProperty("grainsize",e)},setLuminance:function(e){this.setProperty("lumamount",e)},__class__:cq});var dq=function(){this.model=new Ed(this,"\n\t\t\t#ifdef GL_ES\n\t\t\t\tprecision mediump float;\n\t\t\t#endif\n\t\t\t\n\t\t\tvarying vec2 vTexCoord;\n\t\t\tuniform sampler2D uImage0;\n\t\t\t\n\t\t\tvoid main(void)\n\t\t\t{\n\t\t\t\tvec4 color = texture2D(uImage0, vTexCoord);\n\t\t\t\tfloat gray = dot(color.rgb, vec3(0.299, 0.587, 0.114));\n\t\t\t\tgl_FragColor = vec4(gray, gray, gray, 1.0);\n\t\t\t}\n\t\t",!0)};k["com.stencyl.graphics.shaders.GrayscaleShader"]=dq,dq.__name__="com.stencyl.graphics.shaders.GrayscaleShader",dq.__super__=wd,dq.prototype=x(wd.prototype,{__class__:dq});var eq=function(e,i){null==i&&(i=!0),null==e&&(e=0),i&&(e*=Math.PI/180),this.model=new Ed(this,"\n\t\t\t#ifdef GL_ES\n\t\t\t\tprecision mediump float;\n\t\t\t#endif\n\t\t\t\n\t\t\tvarying vec2 vTexCoord;\n\t\t\tuniform sampler2D uImage0;\n\t\t\t\n\t\t\tuniform float hue;\n\t\t\tconst mat3 rgb2yiq = mat3(0.299, 0.587, 0.114, 0.595716, -0.274453, -0.321263, 0.211456, -0.522591, 0.311135);\n\t\t\tconst mat3 yiq2rgb = mat3(1.0, 0.9563, 0.6210, 1.0, -0.2721, -0.6474, 1.0, -1.1070, 1.7046);\n\n\t\t\tvoid main() \n\t\t\t{\n\t\t\t\tvec3 color = texture2D(uImage0, vTexCoord).rgb;\n\t\t\t\tvec3 yColor = rgb2yiq * color; \n\n\t\t\t\tfloat originalHue = atan(yColor.b, yColor.g);\n\t\t\t\tfloat finalHue = originalHue + hue;\n\t\t\t\tfloat chroma = sqrt(yColor.b * yColor.b + yColor.g * yColor.g);\n\t\t\t\t\n\t\t\t\tvec3 yFinalColor = vec3(yColor.r, chroma * cos(finalHue), chroma * sin(finalHue));\n\t\t\t\tgl_FragColor = vec4(yiq2rgb * yFinalColor, 1.0);\n\t\t\t}\n\t\t",!0),this.setHue(e,!1)};k["com.stencyl.graphics.shaders.HueShader"]=eq,eq.__name__="com.stencyl.graphics.shaders.HueShader",eq.__super__=wd,eq.prototype=x(wd.prototype,{setHue:function(e,i){null==i&&(i=!0),i&&(e*=Math.PI/180),this.setProperty("hue",e)},__class__:eq});var fq=function(e){this.model=new Ed(this,e,!0)};k["com.stencyl.graphics.shaders.InlineShader"]=fq,fq.__name__="com.stencyl.graphics.shaders.InlineShader",fq.__super__=wd,fq.prototype=x(wd.prototype,{__class__:fq});var gq=function(){this.model=new Ed(this,"\n\t\t\t#ifdef GL_ES\n\t\t\t\tprecision mediump float;\n\t\t\t#endif\n\t\t\t\n\t\t\tvarying vec2 vTexCoord;\n\t\t\tuniform sampler2D uImage0;\n\t\t\t\n\t\t\tvoid main(void)\n\t\t\t{\n\t\t\t\tvec4 color = texture2D(uImage0, vTexCoord);\n\t\t\t\tgl_FragColor = vec4(vec3(1.0, 1.0, 1.0) - color.rgb, color.a);\n\t\t\t}\n\t\t",!0)};k["com.stencyl.graphics.shaders.InvertShader"]=gq,gq.__name__="com.stencyl.graphics.shaders.InvertShader",gq.__super__=wd,gq.prototype=x(wd.prototype,{__class__:gq});var Ed=function(e,i,s){if(null==s&&(s=!1),this.timeScale=1,this.time=0,ya.call(this),this.basicShader=e,this.gl=p.stage.__renderer.gl,this.uniforms=new va,this.changedUniforms=[],this.uniformTweens=new va,this.rebuild(),this.gl.checkFramebufferStatus(36160),this.buffer=this.gl.createBuffer(),this.gl.bindBuffer(34962,this.buffer),e=null!=(e=[-1,-1,0,0,1,-1,1,0,-1,1,0,1,1,-1,1,0,1,1,1,1,-1,1,0,1])?new Float32Array(e):null,zb.bufferData(this.gl,34962,e,35044),this.gl.bindBuffer(34962,null),s)this.fullScreenShader=new $k([{src:"\n#ifdef GL_ES\n\tprecision mediump float;\n#endif\n\nattribute vec4 aVertex;\n\nattribute vec2 aTexCoord;\nvarying vec2 vTexCoord;\n\nvoid main() {\n\tvTexCoord = aTexCoord;\n\tgl_Position = vec4(aVertex.x, aVertex.y, 0.0, 1.0);\n}",fragment:!1},{src:i,fragment:!0}]);else if(6<i.length&&".glslx"==B.substr(i,-6,null)){if((s=ka.parse(Ba.getText(i)).firstElement()).nodeType!=ka.Document&&s.nodeType!=ka.Element)throw new E("Invalid nodeType "+ea.toString(s.nodeType));i=$r.resolve(s,"vertex")?Xm.get_innerData(hq.resolve(s,"vertex")):"\n#ifdef GL_ES\n\tprecision mediump float;\n#endif\n\nattribute vec4 aVertex;\n\nattribute vec2 aTexCoord;\nvarying vec2 vTexCoord;\n\nvoid main() {\n\tvTexCoord = aTexCoord;\n\tgl_Position = vec4(aVertex.x, aVertex.y, 0.0, 1.0);\n}",s=Xm.get_innerData(hq.resolve(s,"fragment")),this.fullScreenShader=new $k([{src:i,fragment:!1},{src:s,fragment:!0}])}else i=Ba.getText(i),this.fullScreenShader=new $k([{src:"\n#ifdef GL_ES\n\tprecision mediump float;\n#endif\n\nattribute vec4 aVertex;\n\nattribute vec2 aTexCoord;\nvarying vec2 vTexCoord;\n\nvoid main() {\n\tvTexCoord = aTexCoord;\n\tgl_Position = vec4(aVertex.x, aVertex.y, 0.0, 1.0);\n}",fragment:!1},{src:i,fragment:!0}]);this.imageUniform=q.context.getUniformLocation(this.fullScreenShader.program,"uImage0"),this.timeUniform=q.context.getUniformLocation(this.fullScreenShader.program,"uTime"),this.resolutionUniform=q.context.getUniformLocation(this.fullScreenShader.program,"uResolution"),this.resolutionUsUniform=q.context.getUniformLocation(this.fullScreenShader.program,"uResolutionUs"),this.vertexSlot=q.context.getAttribLocation(this.fullScreenShader.program,"aVertex"),this.texCoordSlot=q.context.getAttribLocation(this.fullScreenShader.program,"aTexCoord"),this.addEventListener("renderOpenGL",r(this,this.renderGL))};k["com.stencyl.graphics.shaders.PostProcess"]=Ed,Ed.__name__="com.stencyl.graphics.shaders.PostProcess",Ed.__properties__={get_vertices:"get_vertices",get_isSupported:"get_isSupported"},Ed.get_isSupported=function(){if(!window.WebGLRenderingContext)return!1;if(null!=q.context)return!0;var e=window.document.createElement("canvas"),i=e.getContext("webgl");return null==i&&(i=e.getContext("experimental-webgl")),null!=i},Ed.get_vertices=function(){return[-1,-1,0,0,1,-1,1,0,-1,1,0,1,1,-1,1,0,1,1,1,1,-1,1,0,1]},Ed.__super__=ya,Ed.prototype=x(ya.prototype,{__added:null,__initialized:null,gl:null,__enterFrame:function(e){this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())},renderGL:function(e){var i=e.renderer;if(null!=this.stage&&this.__renderable){var s=(e=p.stage).context3D;for(i.__setBlendMode(null),null==this.basicShader.multipassTarget?s.setRenderToBackBuffer():s.setRenderToTexture(this.basicShader.multipassTarget.model.texture),s.clear(),this.time+=p.elapsedTime*this.timeScale,q.context.useProgram(this.fullScreenShader.program),this.gl.enableVertexAttribArray(this.vertexSlot),this.gl.enableVertexAttribArray(this.texCoordSlot),this.gl.activeTexture(33984),this.gl.bindTexture(3553,this.texture.__getTexture()),"opengl"==e.window.context.type&&this.gl.enable(3553),this.gl.bindBuffer(34962,this.buffer),this.gl.vertexAttribPointer(this.vertexSlot,2,5126,!1,16,0),this.gl.vertexAttribPointer(this.texCoordSlot,2,5126,!1,16,8),this.gl.uniform1i(this.imageUniform,0),this.gl.uniform1f(this.timeUniform,this.time),this.gl.uniform2f(this.resolutionUniform,0|e.stageWidth,0|e.stageHeight),this.gl.uniform2f(this.resolutionUsUniform,e.stageWidth/(p.SCALE*p.screenScaleX)|0,e.stageHeight/(p.SCALE*p.screenScaleY)|0),i=this.changedUniforms.length;0<i--;){var n=this.changedUniforms.pop();if(n.value instanceof Array){if(0!=n.value.length){var o=this.gl,l=n.id;n=null!=(n=n.value)?new Float32Array(n):null,o.uniform1fv(l,n)}}else this.gl.uniform1f(n.id,n.value)}this.gl.drawArrays(4,0,6),this.gl.bindBuffer(34962,null),"opengl"==e.window.context.type&&this.gl.disable(3553),this.gl.bindTexture(3553,null),this.gl.disableVertexAttribArray(this.vertexSlot),this.gl.disableVertexAttribArray(this.texCoordSlot),s.__contextState.program=null,s.__flushGLProgram(),s.__contextState.__currentGLElementArrayBuffer=null}},setUniform:function(e,i){var s=this.uniforms;(null!=t[e]?s.existsReserved(e):s.h.hasOwnProperty(e))?(s=this.uniforms,(e=null!=t[e]?s.getReserved(e):s.h[e]).value=i,this.changedUniforms.push(e)):(s=q.context.getUniformLocation(this.fullScreenShader.program,e))!=Ed.UNIFORM_NOT_FOUND&&(i={id:s,value:i},s=this.uniforms,null!=t[e]?s.setReserved(e,i):s.h[e]=i,this.changedUniforms.push(i))},getUniform:function(e){var i=this.uniforms;return(null!=t[e]?i.existsReserved(e):i.h.hasOwnProperty(e))?(i=this.uniforms,(null!=t[e]?i.getReserved(e):i.h[e]).value):-1},tweenUniform:function(e,i,s,n){null==s&&(s=1);var o=this,l=this.uniforms;if(null!=t[e]?l.existsReserved(e):l.h.hasOwnProperty(e)){l=this.uniforms;var _=null!=t[e]?l.getReserved(e):l.h[e];l=this.uniformTweens;var h=null!=t[e]?l.getReserved(e):l.h[e];null==h&&((h=new Se).doOnUpdate(function(){_.value=h.value,o.changedUniforms.push(_)}),l=this.uniformTweens,null!=t[e]?l.setReserved(e,h):l.h[e]=h),h.tween(_.value,i,n,1e3*s|0)}},rebuild:function(){null!=this.texture&&this.texture.dispose(),this.texture=p.stage.context3D.createRectangleTexture(0|ba.windowWidth,0|ba.windowHeight,1,!0),this.texture.__context.__bindGLTexture2D(this.texture.__textureID),this.texture.__setSamplerState(new yh),zb.texImage2D(this.gl,this.texture.__textureTarget,0,this.texture.__internalFormat,this.texture.__width,this.texture.__height,0,this.gl.RGB,this.gl.UNSIGNED_BYTE,null),this.texture.__context.__bindGLTexture2D(null)},createTexture:function(e,i){this.texture=p.stage.context3D.createRectangleTexture(e,i,1,!0),this.texture.__context.__bindGLTexture2D(this.texture.__textureID),this.texture.__setSamplerState(new yh),zb.texImage2D(this.gl,this.texture.__textureTarget,0,this.texture.__internalFormat,this.texture.__width,this.texture.__height,0,this.gl.RGB,this.gl.UNSIGNED_BYTE,null),this.texture.__context.__bindGLTexture2D(null)},capture:function(){p.stage.context3D.setRenderToTexture(this.texture);var e=this.texture.__getGLFramebuffer(!1,0,0);this.gl.bindFramebuffer(36160,e),this.gl.clear(16640),null!=p.stage&&null!=p.stage.__renderer&&(p.stage.__renderer.__cleared=!0)},texture:null,fullScreenShader:null,buffer:null,basicShader:null,time:null,timeScale:null,vertexSlot:null,texCoordSlot:null,imageUniform:null,resolutionUniform:null,resolutionUsUniform:null,timeUniform:null,uniforms:null,changedUniforms:null,uniformTweens:null,__class__:Ed});var iq=function(e){null==e&&(e=1),this.model=new Ed(this,"\n\t\t\t#ifdef GL_ES\n\t\t\t\tprecision mediump float;\n\t\t\t#endif\n\t\t\t\n\t\t\tvarying vec2 vTexCoord;\n\t\t\tuniform vec2 uResolution;\n\t\t\tuniform sampler2D uImage0;\n\t\t\t\n\t\t\tuniform float scale;\n\t\t\t\n\t\t\tvoid main()\n\t\t\t{\n\t\t\t\tif (mod(floor(vTexCoord.y * uResolution.y / scale), 2.0) == 0.0)\n\t\t\t\t\tgl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n\t\t\t\telse\n\t\t\t\t\tgl_FragColor = texture2D(uImage0, vTexCoord);\n\t\t\t}\n\t\t",!0),this.setScale(e)};k["com.stencyl.graphics.shaders.ScanlineShader"]=iq,iq.__name__="com.stencyl.graphics.shaders.ScanlineShader",iq.__super__=wd,iq.prototype=x(wd.prototype,{setScale:function(e){this.setProperty("scale",e)},__class__:iq});var jq=function(){this.model=new Ed(this,"\n\t\t\t#ifdef GL_ES\n\t\t\t\tprecision mediump float;\n\t\t\t#endif\n\t\t\t\n\t\t\tvarying vec2 vTexCoord;\n\t\t\tuniform sampler2D uImage0;\n\t\t\t\n\t\t\tvoid main(void)\n\t\t\t{\n\t\t\t\tvec4 color = texture2D(uImage0, vTexCoord);\n\t\t\t\tgl_FragColor.r = dot(color, vec4(0.393,0.769,0.189,0));\n\t\t\t\tgl_FragColor.g = dot(color, vec4(0.349,0.686,0.168,0));\n\t\t\t\tgl_FragColor.b = dot(color, vec4(0.272,0.534,0.131,0));\n\t\t\t\tgl_FragColor.a = color.a;\n\t\t\t}\n\t\t",!0)};k["com.stencyl.graphics.shaders.SepiaShader"]=jq,jq.__name__="com.stencyl.graphics.shaders.SepiaShader",jq.__super__=wd,jq.prototype=x(wd.prototype,{__class__:jq});var $k=function(e){this.program=q.context.createProgram();for(var i=0;i<e.length;){var s=e[i];if(++i,null==(s=this.compile(s.src,s.fragment?35632:35633)))return;q.context.attachShader(this.program,s),q.context.deleteShader(s)}q.context.linkProgram(this.program),q.context.getProgramParameter(this.program,35714)};k["com.stencyl.graphics.shaders.Shader"]=$k,$k.__name__="com.stencyl.graphics.shaders.Shader",$k.prototype={compile:function(e,i){return i=q.context.createShader(i),q.context.shaderSource(i,e),q.context.compileShader(i),0==q.context.getShaderParameter(i,35713)?null:i},attribute:function(e){return q.context.getAttribLocation(this.program,e)},uniform:function(e){return q.context.getUniformLocation(this.program,e)},bind:function(){q.context.useProgram(this.program)},program:null,__class__:$k};var kq=function(e){null==e&&(e=2),this.model=new Ed(this,"\n\t\t\t#ifdef GL_ES\n\t\t\t\tprecision mediump float;\n\t\t\t#endif\n\t\t\t\n\t\t\tvarying vec2 vTexCoord;\n\t\t\tuniform sampler2D uImage0;\n\t\t\tuniform vec2 uResolution;\n\t\t\t\n\t\t\tuniform float amount;\n\t\t\t\n\t\t\tvoid main()\n\t\t\t{\n\t\t\t\t//this will be our RGBA sum\n\t\t\t\tvec4 sum = vec4(0.0);\n\t\t\t\t\n\t\t\t\t//our original texcoord for this fragment\n\t\t\t\tvec2 tc = vTexCoord;\n\t\t\t\t\n\t\t\t\tfloat reach = 1.0 / uResolution.x;\n\n\t\t\t\t//current pixel\n\t\t\t\tsum += texture2D(uImage0, vec2(tc.x, tc.y));\n\t\t\t\t\n\t\t\t\t//sharpen\n\t\t\t\tsum += (texture2D(uImage0, vec2(tc.x, tc.y)) - texture2D(uImage0, vec2(tc.x + 1.0 * reach, tc.y))) * amount;\n\t\t\t\tsum += (texture2D(uImage0, vec2(tc.x, tc.y)) - texture2D(uImage0, vec2(tc.x - 1.0 * reach, tc.y))) * amount;\n\t\t\t\tsum += (texture2D(uImage0, vec2(tc.x, tc.y)) - texture2D(uImage0, vec2(tc.x, tc.y + 1.0 * reach))) * amount;\n\t\t\t\tsum += (texture2D(uImage0, vec2(tc.x, tc.y)) - texture2D(uImage0, vec2(tc.x, tc.y - 1.0 * reach))) * amount;\n\t\t\t\t\n\t\t\t\tgl_FragColor = vec4(sum.rgb, 1.0);\n\t\t\t}\n\t\t",!0),this.setAmount(e)};k["com.stencyl.graphics.shaders.SharpenShader"]=kq,kq.__name__="com.stencyl.graphics.shaders.SharpenShader",kq.__super__=wd,kq.prototype=x(wd.prototype,{setAmount:function(e){this.setProperty("amount",e)},__class__:kq});var lq=function(e,i){null==i&&(i=1),this.model=new Ed(this,"\n\t\t\t#ifdef GL_ES\n\t\t\t\tprecision mediump float;\n\t\t\t#endif\n\n\t\t\tvarying vec2 vTexCoord;\n\t\t\tuniform sampler2D uImage0;\n\t\t\tuniform float amount;\n\t\t\tuniform float red;\n\t\t\tuniform float green;\n\t\t\tuniform float blue;\n\n\t\t\tvec3 _mix(vec3 a, vec3 b, float amount) \n\t\t\t{ \n\t\t\t\treturn vec3(a.x * (1.0 - amount) + b.x * amount, a.y * (1.0 - amount) + b.y * amount, a.z * (1.0 - amount) + b.z * amount); \n\t\t\t}\n\n\t\t\tvoid main() \n\t\t\t{\n\t\t\t\tvec3 color = texture2D(uImage0, vTexCoord).rgb;\n\t\t\t\tvec3 endColor = _mix(color, vec3(red, green, blue), amount);\n\t\t\t\tgl_FragColor = vec4(endColor.x, endColor.y, endColor.z, 1);\n\t\t\t}\n\t\t",!0),this.setColor(e),this.setAmount(i)};k["com.stencyl.graphics.shaders.TintShader"]=lq,lq.__name__="com.stencyl.graphics.shaders.TintShader",lq.__super__=wd,lq.prototype=x(wd.prototype,{setAmount:function(e){this.setProperty("amount",e)},setColor:function(e){this.setProperty("red",(e>>16&255)/255),this.setProperty("green",(e>>8&255)/255),this.setProperty("blue",(255&e)/255)},__class__:lq});var Bb=function(e){this.duration=e,this.complete=this.active=!1,0==e&&(this.active=this.complete=!0)};k["com.stencyl.graphics.transitions.Transition"]=Bb,Bb.__name__="com.stencyl.graphics.transitions.Transition",Bb.prototype={duration:null,direction:null,active:null,complete:null,start:function(){},reset:function(){this.complete=!1},stop:function(){this.complete=!0},deactivate:function(){this.active=!1},cleanup:function(){},isActive:function(){return this.active},isComplete:function(){return this.complete},update:function(e){},draw:function(e){},getDuration:function(){return this.duration},__class__:Bb};var Sk=function(e,i,s,n){null==s&&(s=10),Bb.call(this,i),this.color=n,this.direction=e,this.numBlinds=s,e==Bb.IN?(this.beginBlindWidth=p.screenWidth*p.SCALE/s,this.endBlindWidth=0):e==Bb.OUT?(this.beginBlindWidth=0,this.endBlindWidth=p.screenWidth*p.SCALE/s):this.complete=!0};k["com.stencyl.graphics.transitions.BlindsTransition"]=Sk,Sk.__name__="com.stencyl.graphics.transitions.BlindsTransition",Sk.__super__=Bb,Sk.prototype=x(Bb.prototype,{color:null,numBlinds:null,blindWidth:null,beginBlindWidth:null,endBlindWidth:null,blindRect:null,rect:null,graphics:null,start:function(){this.active=!0,this.blindRect=new ia(0,0,this.beginBlindWidth,p.screenHeight*p.SCALE),this.blindWidth=new Se,this.rect=new Pe,this.graphics=this.rect.get_graphics(),this.direction==Bb.IN&&(this.graphics.beginFill(this.color),this.graphics.drawRect(0,0,p.screenWidth*p.SCALE,p.screenHeight*p.SCALE),this.graphics.endFill()),p.engine.transitionLayer.addChild(this.rect),this.blindWidth.tween(this.beginBlindWidth,this.endBlindWidth,sb.linear,1e3*this.duration|0).doOnComplete(r(this,this.stop))},draw:function(e){this.graphics.clear(),this.graphics.beginFill(this.color),this.blindRect.x=0,this.blindRect.width=this.blindWidth.value,this.direction==Bb.IN&&(this.blindRect.x+=p.screenWidth*p.SCALE/this.numBlinds-this.blindWidth.value),e=0;for(var i=this.numBlinds;e<i;)e++,this.graphics.drawRect(this.blindRect.x,this.blindRect.y,this.blindRect.width,this.blindRect.height),this.blindRect.x+=p.screenWidth*p.SCALE/this.numBlinds;this.graphics.endFill()},cleanup:function(){null!=this.rect&&(p.engine.transitionLayer.removeChild(this.rect),this.rect=null)},__class__:Sk});var Rk=function(e,i,s,n){null==n&&(n=-16777216),null==s&&(s=50),Bb.call(this,i),this.color=n,this.direction=e,this.numBubbles=s};k["com.stencyl.graphics.transitions.BubblesTransition"]=Rk,Rk.__name__="com.stencyl.graphics.transitions.BubblesTransition",Rk.__super__=Bb,Rk.prototype=x(Bb.prototype,{color:null,numBubbles:null,radius:null,beginRadius:null,endRadius:null,rect:null,graphics:null,drawBitmap:null,bubblePositions:null,bubbleRect:null,screenWidth:null,screenHeight:null,start:function(){this.active=!0,this.rect=new Pe,this.graphics=this.rect.get_graphics(),this.screenWidth=p.screenWidth*p.SCALE|0,this.screenHeight=p.screenHeight*p.SCALE|0,this.direction==Bb.IN&&(this.graphics.beginFill(this.color),this.graphics.drawRect(0,0,this.screenWidth,this.screenHeight),this.graphics.endFill()),this.drawBitmap=new pa(this.screenWidth,this.screenHeight);var e=this.screenWidth/this.screenHeight,i=0|Math.sqrt(this.numBubbles/e),s=this.screenHeight/i;e=Math.ceil(i*e|0),i=Math.ceil(i);var n=e*s-this.screenWidth|0,o=new ia(-n/2,-(i*s-this.screenHeight|0)/2,s,s);this.bubblePositions=[];for(var l=0;l<i;){l++;for(var _=0,h=e;_<h;)_++,this.bubblePositions.push(new ra(o.x+Math.floor(Math.random()*(s+1)),o.y+Math.floor(Math.random()*(s+1)))),o.x+=s;o.x=-n/2,o.y+=s}this.beginRadius=0,this.endRadius=Math.ceil(ra.distance(new ra(0,0),new ra(s,s))),this.radius=new Se,p.engine.transitionLayer.addChild(this.rect),this.radius.tween(this.beginRadius,this.endRadius,sb.linear,1e3*this.duration|0).doOnComplete(r(this,this.stop))},draw:function(e){if(this.graphics.clear(),this.direction==Bb.IN){this.drawBitmap.draw(p.engine.colorLayer),this.drawBitmap.draw(p.engine.master),this.graphics.beginFill(this.color),this.graphics.drawRect(0,0,this.screenWidth,this.screenHeight),this.graphics.endFill(),e=0;for(var i=this.bubblePositions;e<i.length;){var s=i[e];++e,this.graphics.beginBitmapFill(this.drawBitmap),this.graphics.drawCircle(s.x,s.y,this.radius.value),this.graphics.endFill()}}else if(this.direction==Bb.OUT)for(e=0,i=this.bubblePositions;e<i.length;)s=i[e],++e,this.graphics.beginFill(this.color),this.graphics.drawCircle(s.x,s.y,this.radius.value),this.graphics.endFill()},cleanup:function(){null!=this.rect&&(p.engine.transitionLayer.removeChild(this.rect),this.rect=null)},__class__:Rk});var Uk=function(e,i,s){null==s&&(s=-16777216),Bb.call(this,i),this.color=s,this.direction=e,e==Bb.IN?(this.beginRadius=0,this.endRadius=0|Math.ceil(ra.distance(new ra(0,0),new ra(p.screenWidthHalf*p.SCALE,p.screenHeightHalf*p.SCALE)))):e==Bb.OUT&&(this.beginRadius=0|Math.ceil(ra.distance(new ra(0,0),new ra(p.screenWidthHalf*p.SCALE,p.screenHeightHalf*p.SCALE))),this.endRadius=0)};k["com.stencyl.graphics.transitions.CircleTransition"]=Uk,Uk.__name__="com.stencyl.graphics.transitions.CircleTransition",Uk.__super__=Bb,Uk.prototype=x(Bb.prototype,{color:null,radius:null,beginRadius:null,endRadius:null,circleImg:null,s:null,start:function(){if(this.active=!0,this.s=new Pe,this.circleImg=new pa(p.screenWidth*p.SCALE|0,p.screenHeight*p.SCALE|0),this.radius=new Se,this.direction==Bb.IN){var e=this.s.get_graphics();e.beginFill(this.color),e.drawRect(0,0,p.screenWidth*p.SCALE,p.screenHeight*p.SCALE),e.endFill()}p.engine.transitionLayer.addChild(this.s),this.radius.tween(this.beginRadius,this.endRadius,sb.linear,1e3*this.duration|0).doOnComplete(r(this,this.stop))},draw:function(e){this.s.get_graphics().clear(),this.s.get_graphics().beginFill(this.color),this.s.get_graphics().drawRect(0,0,p.screenWidth*p.SCALE,p.screenHeight*p.SCALE),this.s.get_graphics().endFill(),this.circleImg.draw(p.engine.colorLayer),this.circleImg.draw(p.engine.master),this.s.get_graphics().beginBitmapFill(this.circleImg),this.s.get_graphics().drawCircle(p.screenWidthHalf*p.SCALE,p.screenHeightHalf*p.SCALE,this.radius.value),this.s.get_graphics().endFill()},cleanup:function(){null!=this.s&&(p.engine.transitionLayer.removeChild(this.s),this.s=null)},__class__:Uk});var Qm=function(e,i){Bb.call(this,i),this.oldImg=e};k["com.stencyl.graphics.transitions.CrossfadeTransition"]=Qm,Qm.__name__="com.stencyl.graphics.transitions.CrossfadeTransition",Qm.__super__=Bb,Qm.prototype=x(Bb.prototype,{oldImg:null,bitmap:null,rect:null,rectAlpha:null,start:function(){this.active=!0,this.bitmap=new pa(p.screenWidth*p.SCALE|0,p.screenHeight*p.SCALE|0),this.bitmap.draw(this.oldImg),this.rect=new Pe;var e=this.rect.get_graphics();e.beginBitmapFill(this.bitmap),e.drawRect(0,0,p.screenWidth*p.SCALE,p.screenHeight*p.SCALE),e.endFill(),p.engine.transitionLayer.addChild(this.rect),this.rectAlpha=new Se,this.rectAlpha.tween(1,0,sb.linear,1e3*this.duration|0).doOnComplete(r(this,this.stop))},update:function(e){this.rect.set_alpha(this.rectAlpha.value)},draw:function(e){},cleanup:function(){this.bitmap=this.oldImg=null,null!=this.rect&&(p.engine.transitionLayer.removeChild(this.rect),this.rect=null)},__class__:Qm});var Sm=function(e,i){null==i&&(i=-16777216),Bb.call(this,e),this.color=i,this.direction=Bb.IN};k["com.stencyl.graphics.transitions.FadeInTransition"]=Sm,Sm.__name__="com.stencyl.graphics.transitions.FadeInTransition",Sm.__super__=Bb,Sm.prototype=x(Bb.prototype,{color:null,rect:null,rectAlpha:null,start:function(){this.active=!0,this.rect=new Pe;var e=this.rect.get_graphics();e.beginFill(this.color),e.drawRect(0,0,p.screenWidth*p.SCALE+4,p.screenHeight*p.SCALE+4),e.endFill(),e.drawCircle(1,1,1),p.engine.transitionLayer.addChild(this.rect),this.rectAlpha=new Se,this.rectAlpha.tween(1,0,sb.linear,1e3*this.duration|0).doOnComplete(r(this,this.stop))},update:function(e){this.rect.set_alpha(this.rectAlpha.value)},cleanup:function(){null!=this.rect&&(p.engine.transitionLayer.removeChild(this.rect),this.rect=null)},__class__:Sm});var Rm=function(e,i){null==i&&(i=-16777216),Bb.call(this,e),this.color=i,this.direction=Bb.IN};k["com.stencyl.graphics.transitions.FadeOutTransition"]=Rm,Rm.__name__="com.stencyl.graphics.transitions.FadeOutTransition",Rm.__super__=Bb,Rm.prototype=x(Bb.prototype,{color:null,rect:null,rectAlpha:null,start:function(){this.active=!0,this.rect=new Pe,this.rect.set_alpha(0);var e=this.rect.get_graphics();e.beginFill(this.color),e.drawRect(0,0,p.screenWidth*p.SCALE+4,p.screenHeight*p.SCALE+4),e.endFill(),e.drawCircle(1,1,1),p.engine.transitionLayer.addChild(this.rect),this.rectAlpha=new Se,this.rectAlpha.tween(0,1,sb.linear,1e3*this.duration|0).doOnComplete(r(this,this.stop))},update:function(e){this.rect.set_alpha(this.rectAlpha.value)},cleanup:function(){null!=this.rect&&(p.engine.transitionLayer.removeChild(this.rect),this.rect=null)},__class__:Rm});var Qk=function(e,i,s){Bb.call(this,e),this.beginPixelSize=i,this.endPixelSize=s};k["com.stencyl.graphics.transitions.PixelizeTransition"]=Qk,Qk.__name__="com.stencyl.graphics.transitions.PixelizeTransition",Qk.__super__=Bb,Qk.prototype=x(Bb.prototype,{pixelSizeTween:null,beginPixelSize:null,endPixelSize:null,srcImg:null,displayImg:null,displayBitmap:null,c:null,r:null,xOverflow:null,yOverflow:null,pixelRect:null,halfSize:null,start:function(){this.active=!0,this.srcImg=new pa(p.screenWidth*p.SCALE|0,p.screenHeight*p.SCALE|0),this.displayImg=new pa(p.screenWidth*p.SCALE|0,p.screenHeight*p.SCALE|0),this.pixelRect=new ia(0,0,0,0),p.engine.transitionLayer.addChild(this.displayBitmap=new Uc(this.displayImg)),this.pixelSizeTween=new Se,this.pixelSizeTween.tween(this.beginPixelSize,this.endPixelSize,sb.linear,1e3*this.duration|0).doOnComplete(r(this,this.stop))},draw:function(e){if(1==(e=0|this.pixelSizeTween.value))this.displayImg.draw(p.engine.colorLayer),this.displayImg.draw(p.engine.master);else{this.srcImg.draw(p.engine.colorLayer),this.srcImg.draw(p.engine.master),this.c=Math.ceil(p.screenWidth*p.SCALE/e),this.r=Math.ceil(p.screenHeight*p.SCALE/e),this.xOverflow=this.c*e-p.screenWidth*p.SCALE|0,this.yOverflow=this.r*e-p.screenHeight*p.SCALE|0,this.pixelRect.x=-this.xOverflow/2,this.pixelRect.y=-this.yOverflow/2,this.pixelRect.height=this.pixelRect.width=e,this.halfSize=e/2|0,this.displayImg.lock();for(var i=0,s=this.r;i<s;){i++;for(var n=0,o=this.c;n<o;){n++;for(var l=this.srcImg.getPixel32(this.pixelRect.x+this.halfSize|0,this.pixelRect.y+this.halfSize|0),_=0|this.pixelRect.x,h=this.pixelRect.x+this.pixelRect.width|0;_<h;)for(var m=_++,f=0|this.pixelRect.y,y=this.pixelRect.y+this.pixelRect.height|0;f<y;){var g=f++;this.displayImg.setPixel32(m,g,l)}this.pixelRect.x+=e}this.pixelRect.x=-this.xOverflow/2,this.pixelRect.y+=e}this.displayImg.unlock()}},cleanup:function(){null!=this.displayBitmap&&p.engine.transitionLayer.removeChild(this.displayBitmap)},__class__:Qk});var Tk=function(e,i,s){Bb.call(this,i),this.color=s,this.direction=e,e==Bb.IN?(this.beginHeight=this.beginWidth=0,this.endWidth=p.screenWidth*p.SCALE|0,this.endHeight=p.screenHeight*p.SCALE|0):e==Bb.OUT?(this.beginWidth=p.screenWidth*p.SCALE|0,this.beginHeight=p.screenHeight*p.SCALE|0,this.endHeight=this.endWidth=0):this.complete=!0};k["com.stencyl.graphics.transitions.RectangleTransition"]=Tk,Tk.__name__="com.stencyl.graphics.transitions.RectangleTransition",Tk.__super__=Bb,Tk.prototype=x(Bb.prototype,{rectangleImg:null,graphics:null,color:null,size:null,beginWidth:null,endWidth:null,beginHeight:null,endHeight:null,rect:null,start:function(){this.active=!0,this.size=new bg,this.rectangleImg=new pa(p.screenWidth*p.SCALE|0,p.screenHeight*p.SCALE|0),this.rect=new Pe,this.graphics=this.rect.get_graphics(),this.direction==Bb.IN&&(this.graphics.beginFill(this.color),this.graphics.drawRect(0,0,p.screenWidth*p.SCALE,p.screenHeight*p.SCALE),this.graphics.endFill()),p.engine.transitionLayer.addChild(this.rect),this.size.onComplete=r(this,this.stop),this.size.tween(this.beginWidth,this.endWidth,this.beginHeight,this.endHeight,sb.linear,1e3*this.duration|0)},draw:function(e){this.graphics.clear(),this.graphics.beginFill(this.color),this.graphics.drawRect(0,0,p.screenWidth*p.SCALE,p.screenHeight*p.SCALE),this.graphics.endFill(),this.rectangleImg.draw(p.engine.colorLayer),this.rectangleImg.draw(p.engine.master),this.graphics.beginBitmapFill(this.rectangleImg),this.graphics.drawRect((p.screenWidth*p.SCALE-this.size.value1)/2,(p.screenHeight*p.SCALE-this.size.value2)/2,this.size.value1,this.size.value2),this.graphics.endFill()},cleanup:function(){null!=this.rect&&(p.engine.transitionLayer.removeChild(this.rect),this.rect=null)},__class__:Tk});var nf=function(e,i,s,n){Bb.call(this,s),this.sceneSpr=e,this.sceneCol=i,this.oldSceneMatrix=new Fa,this.newSceneMatrix=new Fa,this.ty=this.tx=0,n==nf.SLIDE_UP?(this.newSceneMatrix.ty=-p.screenHeight*p.SCALE,this.ty=p.screenHeight*p.SCALE):n==nf.SLIDE_DOWN?(this.newSceneMatrix.ty=p.screenHeight*p.SCALE,this.ty=-p.screenHeight*p.SCALE):n==nf.SLIDE_LEFT?(this.newSceneMatrix.tx=-p.screenWidth*p.SCALE,this.tx=p.screenWidth*p.SCALE):n==nf.SLIDE_RIGHT?(this.newSceneMatrix.tx=p.screenWidth*p.SCALE,this.tx=-p.screenWidth*p.SCALE):this.complete=!0};k["com.stencyl.graphics.transitions.SlideTransition"]=nf,nf.__name__="com.stencyl.graphics.transitions.SlideTransition",nf.__super__=Bb,nf.prototype=x(Bb.prototype,{sceneSpr:null,sceneCol:null,oldBitmap:null,newBitmap:null,drawBitmap:null,graphics:null,oldSceneMatrix:null,newSceneMatrix:null,osm_xy:null,nsm_xy:null,tx:null,ty:null,rect:null,start:function(){this.active=!0,this.oldBitmap=new pa(p.screenWidth*p.SCALE|0,p.screenHeight*p.SCALE|0),this.oldBitmap.draw(this.sceneCol),this.oldBitmap.draw(this.sceneSpr),this.newBitmap=new pa(p.screenWidth*p.SCALE|0,p.screenHeight*p.SCALE|0),this.drawBitmap=new pa(p.screenWidth*p.SCALE|0,p.screenHeight*p.SCALE|0),this.rect=new Pe,this.graphics=this.rect.get_graphics(),this.graphics.beginBitmapFill(this.oldBitmap),this.graphics.drawRect(0,0,p.screenWidth*p.SCALE,p.screenHeight*p.SCALE),this.graphics.endFill(),p.engine.transitionLayer.addChild(this.rect),this.osm_xy=new bg,this.nsm_xy=new bg,this.osm_xy.tween(this.oldSceneMatrix.tx,this.tx,this.oldSceneMatrix.ty,this.ty,sb.linear,1e3*this.duration|0),this.nsm_xy.tween(this.newSceneMatrix.tx,0,this.newSceneMatrix.ty,0,sb.linear,1e3*this.duration|0),this.nsm_xy.doOnComplete(r(this,this.stop))},update:function(e){this.oldSceneMatrix.tx=this.osm_xy.value1,this.oldSceneMatrix.ty=this.osm_xy.value2,this.newSceneMatrix.tx=this.nsm_xy.value1,this.newSceneMatrix.ty=this.nsm_xy.value2},draw:function(e){this.graphics.clear(),this.newBitmap.draw(this.sceneCol),this.newBitmap.draw(this.sceneSpr),this.drawBitmap.draw(this.newBitmap,this.newSceneMatrix),this.drawBitmap.draw(this.oldBitmap,this.oldSceneMatrix),this.graphics.beginBitmapFill(this.drawBitmap),this.graphics.drawRect(0,0,p.screenWidth*p.SCALE,p.screenHeight*p.SCALE),this.graphics.endFill()},cleanup:function(){this.sceneSpr=null,null!=this.rect&&(p.engine.transitionLayer.removeChild(this.rect),this.rect=null)},__class__:nf});var zh=function(){};k["com.stencyl.io.AbstractReader"]=zh,zh.__name__="com.stencyl.io.AbstractReader",zh.__isInterface__=!0,zh.prototype={accepts:null,read:null,__class__:zh};var Jm=function(){};k["com.stencyl.io.ActorTypeReader"]=Jm,Jm.__name__="com.stencyl.io.ActorTypeReader",Jm.__interfaces__=[zh],Jm.prototype={accepts:function(e){return e==$a.MBS_ACTOR_TYPE.getName()},read:function(e){var i=e.getId(),s=e.getAtlasID(),n=e.getName(),o=new lj;switch(o.fixedRotation=e.getFixedRotation(),e.getBodyType()){case 0:var l=ua.b2_staticBody;break;case 1:l=ua.b2_kinematicBody;break;default:l=ua.b2_dynamicBody}o.type=l,o.linearDamping=e.getLinearDamping(),o.angularDamping=e.getAngularDamping(),o.friction=e.getFriction(),o.bounciness=e.getRestitution(),o.mass=e.getMass(),o.aMass=e.getInertia(),o.active=!0,o.bullet=!1,o.allowSleep=!1,o.awake=!0,o.ignoreGravity=e.getIgnoreGravity(),o.bullet=e.getContinuous(),l=e.getSprite();var _=e.getGroupID(),h=e.getPhysicsMode(),m=e.getAutoScale(),f=e.getPausable(),y=o.ignoreGravity||o.type==ua.b2_staticBody||o.type==ua.b2_kinematicBody,g=Te.readBehaviors(e.getSnippets()),j=e.getEventSnippetID();return-1<j&&(e=new Yk(j,new va),null!=t[j=""+j]?g.setReserved(j,e):g.h[j]=e),new Eg(i,s,n,_,l,g,o,h,m,f,y)},__class__:Jm};var Te=function(){};k["com.stencyl.io.AttributeValues"]=Te,Te.__name__="com.stencyl.io.AttributeValues",Te.readBehaviors=function(e){for(var i=new va,s=0,n=e.length();s<n;){s++;var o=e.getNextObject();if(o.getEnabled()){var l=o.getId();o=Te.readBehaviorProperties(o.getProperties()),o=new Yk(l,o),null!=t[l=""+l]?i.setReserved(l,o):i.h[l]=o}}return i},Te.readBehaviorProperties=function(e){for(var i=new va,s=0,n=e.length();s<n;){s++;var o=e.getNextObject(),l=o.getId(),_=o.getType();l=""+l,o=Te.readAttribute(_,o),null!=t[l]?i.setReserved(l,o):i.h[l]=o}return i},Te.readAttribute=function(e,i){switch(e){case"list":return Te.readList(i.getValue());case"map":return Te.readMap(i.getValue());default:return i.getValue()}},Te.readAttributeDef=function(e,i){switch(e){case"list":return Te.readList(i.getDefaultValue());case"map":return Te.readMap(i.getDefaultValue());default:return i.getDefaultValue()}},Te.readList=function(e){if(null==e)return null;for(var i=[],s=0,n=e.length();s<n;)i[s++]=e.readObject();return i},Te.readMap=function(e){if(null==e)return null;for(var i=new va,s=0,n=e.length();s<n;){s++;var o=e.getNextObject(),l=o.getKey();if((o=o.getValue())instanceof ai){for(var _=[],h=0,m=o.length();h<m;)h++,_.push(o.readObject());o=_}else o instanceof cb&&(o=Te.readMap(o));null!=t[l]?i.setReserved(l,o):i.h[l]=o}return i};var Gm=function(){};k["com.stencyl.io.BackgroundReader"]=Gm,Gm.__name__="com.stencyl.io.BackgroundReader",Gm.__interfaces__=[zh],Gm.prototype={accepts:function(e){return e==pb.MBS_BACKGROUND.getName()},read:function(e){var i=e.getId(),s=e.getAtlasID(),n=e.getName(),o=e.getXVelocity(),l=e.getYVelocity(),_=e.getXParallaxFactor(),h=e.getYParallaxFactor(),m=[];if(0<e.getNumFrames())for(var f=e.getDurations(),y=0,g=f.length();y<g;)y++,m.push(f.readInt());return e=e.getRepeats(),0!=o||0!=l?new bi(i,s,n,m,_,h,e,o,l):new $g(i,s,n,m,_,h,e)},__class__:Gm};var pj=function(){};k["com.stencyl.io.BehaviorReader"]=pj,pj.__name__="com.stencyl.io.BehaviorReader",pj.readBehavior=function(e){for(var i=e.getId(),s=e.getName(),n=e.getClassname(),o=e.getAttachedEvent(),l=new va,_=e.getType(),h=0,m=(e=e.getAttributes()).length();h<m;){h++;var f=e.getNextObject(),y=""+f.getId();f=pj.readAttribute(f,o),null!=t[y]?l.setReserved(y,f):l.h[y]=f}return new Mm(null,null,i,s,n,!0,!0,l,_,o)},pj.readAttribute=function(e,i){var s=e.getId(),n=e.getName(),o=e.getFullname();i=i||e.getHidden();var l=e.getType();return e=Te.readAttributeDef(l,e),new qj(s,n,o,e,l,null,i)},pj.prototype={__class__:pj};var Lm=function(){};k["com.stencyl.io.FontReader"]=Lm,Lm.__name__="com.stencyl.io.FontReader",Lm.__interfaces__=[zh],Lm.prototype={accepts:function(e){return e==mc.MBS_FONT.getName()},read:function(e){return new $f(e.getId(),e.getAtlasID(),e.getName(),!1)},__class__:Lm};var Jd=function(){};k["com.stencyl.io.ShapeReader"]=Jd,Jd.__name__="com.stencyl.io.ShapeReader",Jd.readPoint=function(e){return new ra(e.getX(),e.getY())},Jd.readPoints=function(e){for(var i=Array(e.length()),s=0,n=e.length();s<n;){var o=s++,l=e.getNextObject();i[o]=new ra(l.getX(),l.getY())}return i},Jd.createCircle=function(e,i,s,n,o){null==o&&(o=-1),null==n&&(n=-1);var l=2*e,_=new ad;return _.m_radius=p.toPhysicalUnits(e),_.m_p.x=p.toPhysicalUnits(i-(n-l)/2),_.m_p.y=p.toPhysicalUnits(s-(o-l)/2),_},Jd.createPolygon=function(e,i,s,n){null==n&&(n=0),null==s&&(s=0);var o=[],l=i.length,_=0;if(s=-s/2|0,n=-n/2|0,"MbsPolygon"==e||"MbsPolyRegion"==e){for(_=0;_<l;){var h=i[_];e=p.toPhysicalUnits(h.x+s),h=p.toPhysicalUnits(h.y+n),o[_]=new K(e,h),++_}return Jd.EnsureCorrectVertexDirection(o),Jb.asArray(o,o.length)}if("MbsWireframe"==e){for(;_<l;)o.push(new K(p.toPhysicalUnits((s=i[_]).x),p.toPhysicalUnits(s.y))),++_;for(i=Jd.getWidth(o),l=Jd.getHeight(o),_=[],s=0,n=o.length+1;s<n;){var m=s++;e=new Sg(o[m%o.length],o[(m+1)%o.length]),_.push(e),e.m_hasVertex0=!0,e.m_hasVertex3=!0,null==(h=o[(m-1)%o.length])&&(h=o[o.length-1]),null==(m=o[(m+2)%o.length])&&(m=o[0]),e.m_v0=h,e.m_v3=m}return(o=new Va).h[0]=_,o.h[1]=i,o.h[2]=l,o}return null},Jd.CheckVertexDirection=function(e){if(2<e.length){for(var i=0,s=0;0==i&&s<e.length-2;)i=e[s].winding(e[s+1],e[s+2]),++s;if(0>i)return!1}return!0},Jd.EnsureCorrectVertexDirection=function(e){return!!Jd.CheckVertexDirection(e)||(Jd.ReverseVertices(e),!1)},Jd.ReverseVertices=function(e){for(var n,i=0,s=e.length-1;s>i;)n=e[i].x,e[i].x=e[s].x,e[s].x=n,n=e[i].y,e[i].y=e[s].y,e[s].y=n,++i,--s},Jd.getWidth=function(e){for(var i=1e7,s=0,n=0;n<e.length;){var o=e[n];++n,i=Math.min(i,o.x),s=Math.max(s,o.x)}return s-i},Jd.getHeight=function(e){for(var i=1e7,s=0,n=0;n<e.length;){var o=e[n];++n,i=Math.min(i,o.y),s=Math.max(s,o.y)}return s-i};var Hm=function(){};k["com.stencyl.io.SoundReader"]=Hm,Hm.__name__="com.stencyl.io.SoundReader",Hm.__interfaces__=[zh],Hm.prototype={accepts:function(e){return e==Bc.MBS_MUSIC.getName()},read:function(e){var i=e.getStream(),s=e.getLoop(),n=e.getPan(),o=e.getVolume(),l=e.getType();return new Fi(e.getId(),e.getName(),i,s,n,o,l,e.getAtlasID())},__class__:Hm};var Km=function(){};k["com.stencyl.io.SpriteReader"]=Km,Km.__name__="com.stencyl.io.SpriteReader",Km.__interfaces__=[zh],Km.prototype={accepts:function(e){return e==yc.MBS_SPRITE.getName()},read:function(e){var i=e.getDefaultAnimation(),s=e.getReadableImages();i=new oj(e.getId(),e.getAtlasID(),e.getName(),i,s),s=0;for(var n=(e=e.getAnimations()).length();s<n;){s++;var o=e.getNextObject();o=this.readAnimation(o,i),i.animations.h[o.animID]=o}return i},readAnimation:function(e,i){for(var s=e.getId(),n=e.getName(),o=e.getWidth(),l=e.getHeight(),_=e.getOriginX(),h=e.getOriginY(),m=e.getNumFrames(),f=e.getAcross(),y=e.getDown(),g=this.readSimpleShapes(e,o/f|0,l/y|0),j=this.readShapes(e,o/f|0,l/y|0),$=e.getLoop(),yt=e.getSync(),_t=[],xt=0,Tt=(e=e.getDurations()).length();xt<Tt;){var St=xt++;_t[St]=e.readInt(),_t[St]=Math.floor(_t[St]/10),_t[St]*=10}return new Ke(s,n,i,g,j,$,yt,o,l,_,h,_t,m,f,y)},readSimpleShapes:function(e,i,s){i=new Va,s=0;for(var n=(e=e.getShapes()).length();s<n;){s++;var o=e.getNextObject(),l=o.getId(),_=o.getGroupID(),h=o.getSensor();if((o=o.getShape())instanceof cd&&4==(o=o.getPoints()).length()){for(var m=o.getNextObject(),f=0,y=1e7,g=1e7,j=0,$=0,yt=0|m.getX(),_t=0|m.getY();f<o.length();)y=0|Math.min(y,m.getX()),g=0|Math.min(g,m.getY()),j=0|Math.max(j,m.getX()),$=0|Math.max($,m.getY()),++f<o.length()&&(m=o.getNextObject());_=new Qc(j-y,$-g,yt,_t,!h,_),i.h[l]=_}}return i},readShapes:function(e,i,s){for(var n=new Va,o=0,l=(e=e.getShapes()).length();o<l;){o++;var _=e.getNextObject(),h=_.getId();_.getGroupID();var m=_.getSensor(),f=_.getShape();if(f instanceof Zd)f=Jd.createCircle(f.getRadius(),f.getPosition().getX(),f.getPosition().getY(),i,s);else{var y=f;f=Jd.createPolygon(f.getMbsType().getName(),Jd.readPoints(y.getPoints()).slice(0),i,s)}(y=new ig).shape=f,y.density=_.getDensity(),y.friction=_.getFriction(),y.restitution=_.getRestitution(),y.isSensor=m,y.groupID=_.getGroupID(),n.h[h]=y}return n},__class__:Km};var Im=function(){};k["com.stencyl.io.TilesetReader"]=Im,Im.__name__="com.stencyl.io.TilesetReader",Im.__interfaces__=[zh],Im.prototype={accepts:function(e){return e==nc.MBS_TILESET.getName()},read:function(e){var i=e.getAcross(),s=e.getDown(),n=e.getTileWidth(),o=e.getTileHeight(),l=e.getReadableImages(),_=[];for(i=new Rf(e.getId(),e.getAtlasID(),e.getName(),i,s,n,o,l,_),s=0,n=(e=e.getTiles()).length();s<n;)s++,_[(o=e.getNextObject()).getId()]=this.readTile(o,i);return i.isAtlasActive()&&i.loadGraphics(),i},readTile:function(e,i){for(var s=e.getId(),n=e.getCollision(),o=e.getMetadata(),l=e.getFrames(),_=[],h=0,m=e.getDurations(),f=0,y=m.length();f<y;)f++,_[h]=m.readInt(),_[h]=Math.floor(_[h]/10),_[h]*=10,++h;if(h=null,-1!=e.getAutotile()&&(h=bc.get().autotileFormats,m=e.getAutotile(),h=h.h[m]),m=null,0!=e.getAutotileMerge().length())for(m=new Va,f=0,y=(e=e.getAutotileMerge()).length();f<y;){f++;var g=e.readInt();m.h[g]=g}return new dd(s,n,o,l,_,h,m,i)},__class__:Im};var lb=function(e){this.data=e};k["mbs.core.MbsObject"]=lb,lb.__name__="mbs.core.MbsObject",lb.prototype={data:null,address:null,getMbs:function(){return this.data},getAddress:function(){return this.address},setAddress:function(e){this.address=e},getMbsType:function(){throw new E("Must override getMbsType in MbsObject subclasses")},__class__:lb};var Za=function(e){this.data=e};k["com.stencyl.io.mbs.MbsResource"]=Za,Za.__name__="com.stencyl.io.mbs.MbsResource",Za.initializeType=function(){null==Za.MBS_RESOURCE&&(Za.MBS_RESOURCE=new Cb("MbsResource"),Za.MBS_RESOURCE.setInstantiator(function(e){return new Za(e)}),Za.atlasID=Za.MBS_RESOURCE.createField("atlasID",M.INTEGER),Za.description=Za.MBS_RESOURCE.createField("description",M.STRING),Za.id=Za.MBS_RESOURCE.createField("id",M.INTEGER),Za.$name=Za.MBS_RESOURCE.createField("name",M.STRING))},Za.new_MbsResource_list=function(e){return new cb(e,Za.MBS_RESOURCE,new Za(e))},Za.__super__=lb,Za.prototype=x(lb.prototype,{getMbsType:function(){return Za.MBS_RESOURCE},allocateNew:function(){this.setAddress(this.data.allocate(Za.MBS_RESOURCE.getSize()))},getAtlasID:function(){return this.data.readInt(this.address+Za.atlasID.address)},setAtlasID:function(e){this.data.writeInt(this.address+Za.atlasID.address,e)},getDescription:function(){return this.data.readString(this.address+Za.description.address)},setDescription:function(e){this.data.writeString(this.address+Za.description.address,e)},getId:function(){return this.data.readInt(this.address+Za.id.address)},setId:function(e){this.data.writeInt(this.address+Za.id.address,e)},getName:function(){return this.data.readString(this.address+Za.$name.address)},setName:function(e){this.data.writeString(this.address+Za.$name.address,e)},__class__:Za});var pb=function(e){this.data=e,this._durations=new kg(e)};k["com.stencyl.io.mbs.MbsBackground"]=pb,pb.__name__="com.stencyl.io.mbs.MbsBackground",pb.initializeType=function(){null==pb.MBS_BACKGROUND&&(Za.initializeType(),pb.MBS_BACKGROUND=new Cb("MbsBackground"),pb.MBS_BACKGROUND.setInstantiator(function(e){return new pb(e)}),pb.MBS_BACKGROUND.inherit(Za.MBS_RESOURCE),pb.readableImages=pb.MBS_BACKGROUND.createField("readableImages",M.BOOLEAN),pb.durations=pb.MBS_BACKGROUND.createField("durations",M.LIST),pb.height=pb.MBS_BACKGROUND.createField("height",M.INTEGER),pb.numFrames=pb.MBS_BACKGROUND.createField("numFrames",M.INTEGER),pb.repeats=pb.MBS_BACKGROUND.createField("repeats",M.BOOLEAN),pb.resized=pb.MBS_BACKGROUND.createField("resized",M.BOOLEAN),pb.width=pb.MBS_BACKGROUND.createField("width",M.INTEGER),pb.xParallaxFactor=pb.MBS_BACKGROUND.createField("xParallaxFactor",M.FLOAT),pb.xVelocity=pb.MBS_BACKGROUND.createField("xVelocity",M.FLOAT),pb.yParallaxFactor=pb.MBS_BACKGROUND.createField("yParallaxFactor",M.FLOAT),pb.yVelocity=pb.MBS_BACKGROUND.createField("yVelocity",M.FLOAT))},pb.new_MbsBackground_list=function(e){return new cb(e,pb.MBS_BACKGROUND,new pb(e))},pb.__super__=Za,pb.prototype=x(Za.prototype,{getMbsType:function(){return pb.MBS_BACKGROUND},_durations:null,allocateNew:function(){this.setAddress(this.data.allocate(pb.MBS_BACKGROUND.getSize()))},getReadableImages:function(){return this.data.readBool(this.address+pb.readableImages.address)},setReadableImages:function(e){this.data.writeBool(this.address+pb.readableImages.address,e)},getDurations:function(){return this._durations.setAddress(this.data.readInt(this.address+pb.durations.address)),this._durations},createDurations:function(e){return this._durations.allocateNew(e),this.data.writeInt(this.address+pb.durations.address,this._durations.getAddress()),this._durations},getHeight:function(){return this.data.readInt(this.address+pb.height.address)},setHeight:function(e){this.data.writeInt(this.address+pb.height.address,e)},getNumFrames:function(){return this.data.readInt(this.address+pb.numFrames.address)},setNumFrames:function(e){this.data.writeInt(this.address+pb.numFrames.address,e)},getRepeats:function(){return this.data.readBool(this.address+pb.repeats.address)},setRepeats:function(e){this.data.writeBool(this.address+pb.repeats.address,e)},getResized:function(){return this.data.readBool(this.address+pb.resized.address)},setResized:function(e){this.data.writeBool(this.address+pb.resized.address,e)},getWidth:function(){return this.data.readInt(this.address+pb.width.address)},setWidth:function(e){this.data.writeInt(this.address+pb.width.address,e)},getXParallaxFactor:function(){return this.data.readFloat(this.address+pb.xParallaxFactor.address)},setXParallaxFactor:function(e){this.data.writeFloat(this.address+pb.xParallaxFactor.address,e)},getXVelocity:function(){return this.data.readFloat(this.address+pb.xVelocity.address)},setXVelocity:function(e){this.data.writeFloat(this.address+pb.xVelocity.address,e)},getYParallaxFactor:function(){return this.data.readFloat(this.address+pb.yParallaxFactor.address)},setYParallaxFactor:function(e){this.data.writeFloat(this.address+pb.yParallaxFactor.address,e)},getYVelocity:function(){return this.data.readFloat(this.address+pb.yVelocity.address)},setYVelocity:function(e){this.data.writeFloat(this.address+pb.yVelocity.address,e)},__class__:pb});var Kd=function(e){this.data=e};k["com.stencyl.io.mbs.MbsBlank"]=Kd,Kd.__name__="com.stencyl.io.mbs.MbsBlank",Kd.initializeType=function(){null==Kd.MBS_BLANK&&(Kd.MBS_BLANK=new Cb("MbsBlank"),Kd.MBS_BLANK.setInstantiator(function(e){return new Kd(e)}),Kd.$name=Kd.MBS_BLANK.createField("name",M.STRING),Kd.type=Kd.MBS_BLANK.createField("type",M.STRING))},Kd.new_MbsBlank_list=function(e){return new cb(e,Kd.MBS_BLANK,new Kd(e))},Kd.__super__=lb,Kd.prototype=x(lb.prototype,{getMbsType:function(){return Kd.MBS_BLANK},allocateNew:function(){this.setAddress(this.data.allocate(Kd.MBS_BLANK.getSize()))},getName:function(){return this.data.readString(this.address+Kd.$name.address)},setName:function(e){this.data.writeString(this.address+Kd.$name.address,e)},getType:function(){return this.data.readString(this.address+Kd.type.address)},setType:function(e){this.data.writeString(this.address+Kd.type.address,e)},__class__:Kd});var Kb=function(e){this.data=e,this._blanks=new cb(e,Kd.MBS_BLANK,new Kd(e))};k["com.stencyl.io.mbs.MbsCustomBlock"]=Kb,Kb.__name__="com.stencyl.io.mbs.MbsCustomBlock",Kb.initializeType=function(){null==Kb.MBS_CUSTOM_BLOCK&&(Za.initializeType(),Kb.MBS_CUSTOM_BLOCK=new Cb("MbsCustomBlock"),Kb.MBS_CUSTOM_BLOCK.setInstantiator(function(e){return new Kb(e)}),Kb.MBS_CUSTOM_BLOCK.inherit(Za.MBS_RESOURCE),Kb.blocktag=Kb.MBS_CUSTOM_BLOCK.createField("blocktag",M.STRING),Kb.blocktype=Kb.MBS_CUSTOM_BLOCK.createField("blocktype",M.STRING),Kb.code=Kb.MBS_CUSTOM_BLOCK.createField("code",M.STRING),Kb.global=Kb.MBS_CUSTOM_BLOCK.createField("global",M.BOOLEAN),Kb.gui=Kb.MBS_CUSTOM_BLOCK.createField("gui",M.STRING),Kb.message=Kb.MBS_CUSTOM_BLOCK.createField("message",M.STRING),Kb.returnType=Kb.MBS_CUSTOM_BLOCK.createField("returnType",M.STRING),Kb.snippetID=Kb.MBS_CUSTOM_BLOCK.createField("snippetID",M.INTEGER),Kb.blanks=Kb.MBS_CUSTOM_BLOCK.createField("blanks",M.LIST))},Kb.new_MbsCustomBlock_list=function(e){return new cb(e,Kb.MBS_CUSTOM_BLOCK,new Kb(e))},Kb.__super__=Za,Kb.prototype=x(Za.prototype,{getMbsType:function(){return Kb.MBS_CUSTOM_BLOCK},_blanks:null,allocateNew:function(){this.setAddress(this.data.allocate(Kb.MBS_CUSTOM_BLOCK.getSize()))},getBlocktag:function(){return this.data.readString(this.address+Kb.blocktag.address)},setBlocktag:function(e){this.data.writeString(this.address+Kb.blocktag.address,e)},getBlocktype:function(){return this.data.readString(this.address+Kb.blocktype.address)},setBlocktype:function(e){this.data.writeString(this.address+Kb.blocktype.address,e)},getCode:function(){return this.data.readString(this.address+Kb.code.address)},setCode:function(e){this.data.writeString(this.address+Kb.code.address,e)},getGlobal:function(){return this.data.readBool(this.address+Kb.global.address)},setGlobal:function(e){this.data.writeBool(this.address+Kb.global.address,e)},getGui:function(){return this.data.readString(this.address+Kb.gui.address)},setGui:function(e){this.data.writeString(this.address+Kb.gui.address,e)},getMessage:function(){return this.data.readString(this.address+Kb.message.address)},setMessage:function(e){this.data.writeString(this.address+Kb.message.address,e)},getReturnType:function(){return this.data.readString(this.address+Kb.returnType.address)},setReturnType:function(e){this.data.writeString(this.address+Kb.returnType.address,e)},getSnippetID:function(){return this.data.readInt(this.address+Kb.snippetID.address)},setSnippetID:function(e){this.data.writeInt(this.address+Kb.snippetID.address,e)},getBlanks:function(){return this._blanks.setAddress(this.data.readInt(this.address+Kb.blanks.address)),this._blanks},createBlanks:function(e){return this._blanks.allocateNew(e),this.data.writeInt(this.address+Kb.blanks.address,this._blanks.getAddress()),this._blanks},__class__:Kb});var mc=function(e){this.data=e};k["com.stencyl.io.mbs.MbsFont"]=mc,mc.__name__="com.stencyl.io.mbs.MbsFont",mc.initializeType=function(){null==mc.MBS_FONT&&(Za.initializeType(),mc.MBS_FONT=new Cb("MbsFont"),mc.MBS_FONT.setInstantiator(function(e){return new mc(e)}),mc.MBS_FONT.inherit(Za.MBS_RESOURCE),mc.alphabet=mc.MBS_FONT.createField("alphabet",M.STRING),mc.readableImages=mc.MBS_FONT.createField("readableImages",M.BOOLEAN),mc.height=mc.MBS_FONT.createField("height",M.INTEGER),mc.offsets=mc.MBS_FONT.createField("offsets",M.STRING),mc.prerendered=mc.MBS_FONT.createField("prerendered",M.BOOLEAN),mc.rowHeight=mc.MBS_FONT.createField("rowHeight",M.INTEGER))},mc.new_MbsFont_list=function(e){return new cb(e,mc.MBS_FONT,new mc(e))},mc.__super__=Za,mc.prototype=x(Za.prototype,{getMbsType:function(){return mc.MBS_FONT},allocateNew:function(){this.setAddress(this.data.allocate(mc.MBS_FONT.getSize()))},getAlphabet:function(){return this.data.readString(this.address+mc.alphabet.address)},setAlphabet:function(e){this.data.writeString(this.address+mc.alphabet.address,e)},getReadableImages:function(){return this.data.readBool(this.address+mc.readableImages.address)},setReadableImages:function(e){this.data.writeBool(this.address+mc.readableImages.address,e)},getHeight:function(){return this.data.readInt(this.address+mc.height.address)},setHeight:function(e){this.data.writeInt(this.address+mc.height.address,e)},getOffsets:function(){return this.data.readString(this.address+mc.offsets.address)},setOffsets:function(e){this.data.writeString(this.address+mc.offsets.address,e)},getPrerendered:function(){return this.data.readBool(this.address+mc.prerendered.address)},setPrerendered:function(e){this.data.writeBool(this.address+mc.prerendered.address,e)},getRowHeight:function(){return this.data.readInt(this.address+mc.rowHeight.address)},setRowHeight:function(e){this.data.writeInt(this.address+mc.rowHeight.address,e)},__class__:mc});var Bc=function(e){this.data=e};k["com.stencyl.io.mbs.MbsMusic"]=Bc,Bc.__name__="com.stencyl.io.mbs.MbsMusic",Bc.initializeType=function(){null==Bc.MBS_MUSIC&&(Za.initializeType(),Bc.MBS_MUSIC=new Cb("MbsMusic"),Bc.MBS_MUSIC.setInstantiator(function(e){return new Bc(e)}),Bc.MBS_MUSIC.inherit(Za.MBS_RESOURCE),Bc.loop=Bc.MBS_MUSIC.createField("loop",M.BOOLEAN),Bc.pan=Bc.MBS_MUSIC.createField("pan",M.INTEGER),Bc.stream=Bc.MBS_MUSIC.createField("stream",M.BOOLEAN),Bc.type=Bc.MBS_MUSIC.createField("type",M.STRING),Bc.volume=Bc.MBS_MUSIC.createField("volume",M.INTEGER))},Bc.new_MbsMusic_list=function(e){return new cb(e,Bc.MBS_MUSIC,new Bc(e))},Bc.__super__=Za,Bc.prototype=x(Za.prototype,{getMbsType:function(){return Bc.MBS_MUSIC},allocateNew:function(){this.setAddress(this.data.allocate(Bc.MBS_MUSIC.getSize()))},getLoop:function(){return this.data.readBool(this.address+Bc.loop.address)},setLoop:function(e){this.data.writeBool(this.address+Bc.loop.address,e)},getPan:function(){return this.data.readInt(this.address+Bc.pan.address)},setPan:function(e){this.data.writeInt(this.address+Bc.pan.address,e)},getStream:function(){return this.data.readBool(this.address+Bc.stream.address)},setStream:function(e){this.data.writeBool(this.address+Bc.stream.address,e)},getType:function(){return this.data.readString(this.address+Bc.type.address)},setType:function(e){this.data.writeString(this.address+Bc.type.address,e)},getVolume:function(){return this.data.readInt(this.address+Bc.volume.address)},setVolume:function(e){this.data.writeInt(this.address+Bc.volume.address,e)},__class__:Bc});var lg=function(e,i){this.name=e,this.size=i};k["mbs.core.MbsType"]=lg,lg.__name__="mbs.core.MbsType",lg.prototype={name:null,size:null,getName:function(){return this.name},getSize:function(){return this.size},toString:function(){return"MbsType [name="+this.getName()+"]"},createInstance:function(e){throw new E("Can't create an instance of type "+this.name)},__class__:lg};var M=function(){};k["mbs.core.MbsTypes"]=M,M.__name__="mbs.core.MbsTypes";var Hc=function(e){this.data=e};k["mbs.core.header.MbsHeader"]=Hc,Hc.__name__="mbs.core.header.MbsHeader",Hc.initializeType=function(){null==Hc.MBS_HEADER&&(Hc.MBS_HEADER=new Cb("MbsHeader"),Hc.MBS_HEADER.setInstantiator(function(e){return new Hc(e)}),Hc.version=Hc.MBS_HEADER.createField("version",M.INTEGER),Hc.typeTableHash=Hc.MBS_HEADER.createField("typeTableHash",M.INTEGER),Hc.typeTablePointer=Hc.MBS_HEADER.createField("typeTablePointer",M.INTEGER),Hc.stringTablePointer=Hc.MBS_HEADER.createField("stringTablePointer",M.INTEGER),Hc.root=Hc.MBS_HEADER.createField("root",M.DYNAMIC))},Hc.new_MbsHeader_list=function(e){return new cb(e,Hc.MBS_HEADER,new Hc(e))},Hc.__super__=lb,Hc.prototype=x(lb.prototype,{getMbsType:function(){return Hc.MBS_HEADER},allocateNew:function(){this.setAddress(this.data.allocate(Hc.MBS_HEADER.getSize()))},getVersion:function(){return this.data.readInt(this.address+Hc.version.address)},setVersion:function(e){this.data.writeInt(this.address+Hc.version.address,e)},getTypeTableHash:function(){return this.data.readInt(this.address+Hc.typeTableHash.address)},setTypeTableHash:function(e){this.data.writeInt(this.address+Hc.typeTableHash.address,e)},getTypeTablePointer:function(){return this.data.readInt(this.address+Hc.typeTablePointer.address)},setTypeTablePointer:function(e){this.data.writeInt(this.address+Hc.typeTablePointer.address,e)},getStringTablePointer:function(){return this.data.readInt(this.address+Hc.stringTablePointer.address)},setStringTablePointer:function(e){this.data.writeInt(this.address+Hc.stringTablePointer.address,e)},getRoot:function(){return we.readDynamic(this.data,this.address+Hc.root.address)},setRoot:function(e){we.writeDynamic(this.data,this.address+Hc.root.address,e)},__class__:Hc});var Cb=function(e){lg.call(this,e,0),this.fields=[]};k["mbs.core.ComposedType"]=Cb,Cb.__name__="mbs.core.ComposedType",Cb.__super__=lg,Cb.prototype=x(lg.prototype,{parent:null,fields:null,inherit:function(e){this.parent=e,this.size=e.getSize()},createField:function(e,i){return e=new vj(e,i,this.size),this.fields.push(e),this.size+=i.getSize(),e},getParent:function(){return this.parent},getFields:function(){return this.fields},instantiator:null,setInstantiator:function(e){this.instantiator=e},createInstance:function(e){return null!=this.instantiator?this.instantiator(e):lg.prototype.createInstance.call(this,e)},createList:function(e){return new cb(e,this,this.createInstance(e))},__class__:Cb});var ed=function(e){this.data=e};k["mbs.core.header.MbsTypeInfo"]=ed,ed.__name__="mbs.core.header.MbsTypeInfo",ed.initializeType=function(){null==ed.MBS_TYPE_INFO&&(ed.MBS_TYPE_INFO=new Cb("MbsTypeInfo"),ed.MBS_TYPE_INFO.setInstantiator(function(e){return new ed(e)}),ed.$name=ed.MBS_TYPE_INFO.createField("name",M.STRING),ed.parent=ed.MBS_TYPE_INFO.createField("parent",M.STRING),ed.fieldsPointer=ed.MBS_TYPE_INFO.createField("fieldsPointer",M.INTEGER),ed.size=ed.MBS_TYPE_INFO.createField("size",M.INTEGER))},ed.new_MbsTypeInfo_list=function(e){return new cb(e,ed.MBS_TYPE_INFO,new ed(e))},ed.__super__=lb,ed.prototype=x(lb.prototype,{getMbsType:function(){return ed.MBS_TYPE_INFO},allocateNew:function(){this.setAddress(this.data.allocate(ed.MBS_TYPE_INFO.getSize()))},getName:function(){return this.data.readString(this.address+ed.$name.address)},setName:function(e){this.data.writeString(this.address+ed.$name.address,e)},getParent:function(){return this.data.readString(this.address+ed.parent.address)},setParent:function(e){this.data.writeString(this.address+ed.parent.address,e)},getFieldsPointer:function(){return this.data.readInt(this.address+ed.fieldsPointer.address)},setFieldsPointer:function(e){this.data.writeInt(this.address+ed.fieldsPointer.address,e)},getSize:function(){return this.data.readInt(this.address+ed.size.address)},setSize:function(e){this.data.writeInt(this.address+ed.size.address,e)},__class__:ed});var nd=function(e){this.data=e};k["mbs.core.header.MbsFieldInfo"]=nd,nd.__name__="mbs.core.header.MbsFieldInfo",nd.initializeType=function(){null==nd.MBS_FIELD_INFO&&(nd.MBS_FIELD_INFO=new Cb("MbsFieldInfo"),nd.MBS_FIELD_INFO.setInstantiator(function(e){return new nd(e)}),nd.$name=nd.MBS_FIELD_INFO.createField("name",M.STRING),nd.type=nd.MBS_FIELD_INFO.createField("type",M.STRING),nd.fieldAddress=nd.MBS_FIELD_INFO.createField("fieldAddress",M.INTEGER))},nd.new_MbsFieldInfo_list=function(e){return new cb(e,nd.MBS_FIELD_INFO,new nd(e))},nd.__super__=lb,nd.prototype=x(lb.prototype,{getMbsType:function(){return nd.MBS_FIELD_INFO},allocateNew:function(){this.setAddress(this.data.allocate(nd.MBS_FIELD_INFO.getSize()))},getName:function(){return this.data.readString(this.address+nd.$name.address)},setName:function(e){this.data.writeString(this.address+nd.$name.address,e)},getType:function(){return this.data.readString(this.address+nd.type.address)},setType:function(e){this.data.writeString(this.address+nd.type.address,e)},getFieldAddress:function(){return this.data.readInt(this.address+nd.fieldAddress.address)},setFieldAddress:function(e){this.data.writeInt(this.address+nd.fieldAddress.address,e)},__class__:nd});var Ii=function(){this.types=Ii.basicTypes.slice(),this.typecodes=new Aa,this.addTypes();for(var e=0,i=0,s=this.types;i<s.length;){var n=s[i];++i,this.typecodes.set(n,e++)}};k["mbs.core.MbsTypedefSet"]=Ii,Ii.__name__="mbs.core.MbsTypedefSet",Ii.prototype={types:null,typecodes:null,getTypes:function(){return this.types},addTypes:function(){},getHash:function(){return 0},getTypecode:function(e){return this.typecodes.h[e.__id__]},getType:function(e){return this.types[e]},__class__:Ii};var Qf=function(){Ii.call(this)};k["com.stencyl.io.mbs.Typedefs"]=Qf,Qf.__name__="com.stencyl.io.mbs.Typedefs",Qf.get=function(){return null==Qf.instance&&(Qf.instance=new Qf),Qf.instance},Qf.__super__=Ii,Qf.prototype=x(Ii.prototype,{addTypes:function(){Za.initializeType(),this.types.push(Za.MBS_RESOURCE),pb.initializeType(),this.types.push(pb.MBS_BACKGROUND),Kb.initializeType(),this.types.push(Kb.MBS_CUSTOM_BLOCK),Kd.initializeType(),this.types.push(Kd.MBS_BLANK),mc.initializeType(),this.types.push(mc.MBS_FONT),Bc.initializeType(),this.types.push(Bc.MBS_MUSIC),$a.initializeType(),this.types.push($a.MBS_ACTOR_TYPE),yc.initializeType(),this.types.push(yc.MBS_SPRITE),mb.initializeType(),this.types.push(mb.MBS_ANIMATION),Pb.initializeType(),this.types.push(Pb.MBS_ANIM_SHAPE),wc.initializeType(),this.types.push(wc.MBS_GAME),Vc.initializeType(),this.types.push(Vc.MBS_ATLAS),Ld.initializeType(),this.types.push(Ld.MBS_COLLISION_SHAPE),Md.initializeType(),this.types.push(Md.MBS_COLLISION_GROUP),Nd.initializeType(),this.types.push(Nd.MBS_COLLISION_PAIR),hd.initializeType(),this.types.push(hd.MBS_SCENE_HEADER),nc.initializeType(),this.types.push(nc.MBS_TILESET),Ub.initializeType(),this.types.push(Ub.MBS_TILE),xa.initializeType(),this.types.push(xa.MBS_SCENE),ob.initializeType(),this.types.push(ob.MBS_ACTOR_INSTANCE),xe.initializeType(),this.types.push(xe.MBS_COLOR_BACKGROUND),Od.initializeType(),this.types.push(Od.MBS_GRADIENT_BACKGROUND),xb.initializeType(),this.types.push(xb.MBS_LAYER),ye.initializeType(),this.types.push(ye.MBS_INTERACTIVE_LAYER),Pd.initializeType(),this.types.push(Pd.MBS_IMAGE_BACKGROUND),$b.initializeType(),this.types.push($b.MBS_JOINT),Qd.initializeType(),this.types.push(Qd.MBS_STICK_JOINT),qc.initializeType(),this.types.push(qc.MBS_HINGE_JOINT),Vb.initializeType(),this.types.push(Vb.MBS_SLIDING_JOINT),ac.initializeType(),this.types.push(ac.MBS_REGION),qe.initializeType(),this.types.push(qe.MBS_TERRAIN_REGION),zc.initializeType(),this.types.push(zc.MBS_POINT),ke.initializeType(),this.types.push(ke.MBS_SHAPE),Zd.initializeType(),this.types.push(Zd.MBS_CIRCLE),cd.initializeType(),this.types.push(cd.MBS_POLYGON),Gd.initializeType(),this.types.push(Gd.MBS_POLY_REGION),ze.initializeType(),this.types.push(ze.MBS_WIREFRAME),nb.initializeType(),this.types.push(nb.MBS_SNIPPET_DEF),Ib.initializeType(),this.types.push(Ib.MBS_ATTRIBUTE_DEF),od.initializeType(),this.types.push(od.MBS_BLOCK),jc.initializeType(),this.types.push(jc.MBS_EVENT),Wc.initializeType(),this.types.push(Wc.MBS_SNIPPET),pd.initializeType(),this.types.push(pd.MBS_ATTRIBUTE),Rd.initializeType(),this.types.push(Rd.MBS_MAP_ELEMENT),oc.initializeType(),this.types.push(oc.MBS_AUTOTILE_FORMAT),qd.initializeType(),this.types.push(qd.MBS_CORNERS)},getHash:function(){return-2033963926},__class__:Qf});var $a=function(e){this.data=e,this._snippets=new cb(e,Wc.MBS_SNIPPET,new Wc(e))};k["com.stencyl.io.mbs.actortype.MbsActorType"]=$a,$a.__name__="com.stencyl.io.mbs.actortype.MbsActorType",$a.initializeType=function(){null==$a.MBS_ACTOR_TYPE&&(Za.initializeType(),$a.MBS_ACTOR_TYPE=new Cb("MbsActorType"),$a.MBS_ACTOR_TYPE.setInstantiator(function(e){return new $a(e)}),$a.MBS_ACTOR_TYPE.inherit(Za.MBS_RESOURCE),$a.angularDamping=$a.MBS_ACTOR_TYPE.createField("angularDamping",M.FLOAT),$a.autoScale=$a.MBS_ACTOR_TYPE.createField("autoScale",M.BOOLEAN),$a.bodyType=$a.MBS_ACTOR_TYPE.createField("bodyType",M.INTEGER),$a.continuous=$a.MBS_ACTOR_TYPE.createField("continuous",M.BOOLEAN),$a.eventSnippetID=$a.MBS_ACTOR_TYPE.createField("eventSnippetID",M.INTEGER),$a.fixedRotation=$a.MBS_ACTOR_TYPE.createField("fixedRotation",M.BOOLEAN),$a.friction=$a.MBS_ACTOR_TYPE.createField("friction",M.FLOAT),$a.groupID=$a.MBS_ACTOR_TYPE.createField("groupID",M.INTEGER),$a.ignoreGravity=$a.MBS_ACTOR_TYPE.createField("ignoreGravity",M.BOOLEAN),$a.inertia=$a.MBS_ACTOR_TYPE.createField("inertia",M.FLOAT),$a.linearDamping=$a.MBS_ACTOR_TYPE.createField("linearDamping",M.FLOAT),$a.mass=$a.MBS_ACTOR_TYPE.createField("mass",M.FLOAT),$a.pausable=$a.MBS_ACTOR_TYPE.createField("pausable",M.BOOLEAN),$a.physicsMode=$a.MBS_ACTOR_TYPE.createField("physicsMode",M.INTEGER),$a.restitution=$a.MBS_ACTOR_TYPE.createField("restitution",M.FLOAT),$a.sprite=$a.MBS_ACTOR_TYPE.createField("sprite",M.INTEGER),$a.isStatic=$a.MBS_ACTOR_TYPE.createField("isStatic",M.BOOLEAN),$a.snippets=$a.MBS_ACTOR_TYPE.createField("snippets",M.LIST))},$a.new_MbsActorType_list=function(e){return new cb(e,$a.MBS_ACTOR_TYPE,new $a(e))},$a.__super__=Za,$a.prototype=x(Za.prototype,{getMbsType:function(){return $a.MBS_ACTOR_TYPE},_snippets:null,allocateNew:function(){this.setAddress(this.data.allocate($a.MBS_ACTOR_TYPE.getSize()))},getAngularDamping:function(){return this.data.readFloat(this.address+$a.angularDamping.address)},setAngularDamping:function(e){this.data.writeFloat(this.address+$a.angularDamping.address,e)},getAutoScale:function(){return this.data.readBool(this.address+$a.autoScale.address)},setAutoScale:function(e){this.data.writeBool(this.address+$a.autoScale.address,e)},getBodyType:function(){return this.data.readInt(this.address+$a.bodyType.address)},setBodyType:function(e){this.data.writeInt(this.address+$a.bodyType.address,e)},getContinuous:function(){return this.data.readBool(this.address+$a.continuous.address)},setContinuous:function(e){this.data.writeBool(this.address+$a.continuous.address,e)},getEventSnippetID:function(){return this.data.readInt(this.address+$a.eventSnippetID.address)},setEventSnippetID:function(e){this.data.writeInt(this.address+$a.eventSnippetID.address,e)},getFixedRotation:function(){return this.data.readBool(this.address+$a.fixedRotation.address)},setFixedRotation:function(e){this.data.writeBool(this.address+$a.fixedRotation.address,e)},getFriction:function(){return this.data.readFloat(this.address+$a.friction.address)},setFriction:function(e){this.data.writeFloat(this.address+$a.friction.address,e)},getGroupID:function(){return this.data.readInt(this.address+$a.groupID.address)},setGroupID:function(e){this.data.writeInt(this.address+$a.groupID.address,e)},getIgnoreGravity:function(){return this.data.readBool(this.address+$a.ignoreGravity.address)},setIgnoreGravity:function(e){this.data.writeBool(this.address+$a.ignoreGravity.address,e)},getInertia:function(){return this.data.readFloat(this.address+$a.inertia.address)},setInertia:function(e){this.data.writeFloat(this.address+$a.inertia.address,e)},getLinearDamping:function(){return this.data.readFloat(this.address+$a.linearDamping.address)},setLinearDamping:function(e){this.data.writeFloat(this.address+$a.linearDamping.address,e)},getMass:function(){return this.data.readFloat(this.address+$a.mass.address)},setMass:function(e){this.data.writeFloat(this.address+$a.mass.address,e)},getPausable:function(){return this.data.readBool(this.address+$a.pausable.address)},setPausable:function(e){this.data.writeBool(this.address+$a.pausable.address,e)},getPhysicsMode:function(){return this.data.readInt(this.address+$a.physicsMode.address)},setPhysicsMode:function(e){this.data.writeInt(this.address+$a.physicsMode.address,e)},getRestitution:function(){return this.data.readFloat(this.address+$a.restitution.address)},setRestitution:function(e){this.data.writeFloat(this.address+$a.restitution.address,e)},getSprite:function(){return this.data.readInt(this.address+$a.sprite.address)},setSprite:function(e){this.data.writeInt(this.address+$a.sprite.address,e)},getIsStatic:function(){return this.data.readBool(this.address+$a.isStatic.address)},setIsStatic:function(e){this.data.writeBool(this.address+$a.isStatic.address,e)},getSnippets:function(){return this._snippets.setAddress(this.data.readInt(this.address+$a.snippets.address)),this._snippets},createSnippets:function(e){return this._snippets.allocateNew(e),this.data.writeInt(this.address+$a.snippets.address,this._snippets.getAddress()),this._snippets},__class__:$a});var Pb=function(e){this.data=e};k["com.stencyl.io.mbs.actortype.MbsAnimShape"]=Pb,Pb.__name__="com.stencyl.io.mbs.actortype.MbsAnimShape",Pb.initializeType=function(){null==Pb.MBS_ANIM_SHAPE&&(Pb.MBS_ANIM_SHAPE=new Cb("MbsAnimShape"),Pb.MBS_ANIM_SHAPE.setInstantiator(function(e){return new Pb(e)}),Pb.shape=Pb.MBS_ANIM_SHAPE.createField("shape",M.DYNAMIC),Pb.density=Pb.MBS_ANIM_SHAPE.createField("density",M.FLOAT),Pb.friction=Pb.MBS_ANIM_SHAPE.createField("friction",M.FLOAT),Pb.groupID=Pb.MBS_ANIM_SHAPE.createField("groupID",M.INTEGER),Pb.id=Pb.MBS_ANIM_SHAPE.createField("id",M.INTEGER),Pb.$name=Pb.MBS_ANIM_SHAPE.createField("name",M.STRING),Pb.restitution=Pb.MBS_ANIM_SHAPE.createField("restitution",M.FLOAT),Pb.sensor=Pb.MBS_ANIM_SHAPE.createField("sensor",M.BOOLEAN))},Pb.new_MbsAnimShape_list=function(e){return new cb(e,Pb.MBS_ANIM_SHAPE,new Pb(e))},Pb.__super__=lb,Pb.prototype=x(lb.prototype,{getMbsType:function(){return Pb.MBS_ANIM_SHAPE},allocateNew:function(){this.setAddress(this.data.allocate(Pb.MBS_ANIM_SHAPE.getSize()))},getShape:function(){return we.readDynamic(this.data,this.address+Pb.shape.address)},setShape:function(e){we.writeDynamic(this.data,this.address+Pb.shape.address,e)},getDensity:function(){return this.data.readFloat(this.address+Pb.density.address)},setDensity:function(e){this.data.writeFloat(this.address+Pb.density.address,e)},getFriction:function(){return this.data.readFloat(this.address+Pb.friction.address)},setFriction:function(e){this.data.writeFloat(this.address+Pb.friction.address,e)},getGroupID:function(){return this.data.readInt(this.address+Pb.groupID.address)},setGroupID:function(e){this.data.writeInt(this.address+Pb.groupID.address,e)},getId:function(){return this.data.readInt(this.address+Pb.id.address)},setId:function(e){this.data.writeInt(this.address+Pb.id.address,e)},getName:function(){return this.data.readString(this.address+Pb.$name.address)},setName:function(e){this.data.writeString(this.address+Pb.$name.address,e)},getRestitution:function(){return this.data.readFloat(this.address+Pb.restitution.address)},setRestitution:function(e){this.data.writeFloat(this.address+Pb.restitution.address,e)},getSensor:function(){return this.data.readBool(this.address+Pb.sensor.address)},setSensor:function(e){this.data.writeBool(this.address+Pb.sensor.address,e)},__class__:Pb});var mb=function(e){this.data=e,this._durations=new kg(e),this._shapes=new cb(e,Pb.MBS_ANIM_SHAPE,new Pb(e))};k["com.stencyl.io.mbs.actortype.MbsAnimation"]=mb,mb.__name__="com.stencyl.io.mbs.actortype.MbsAnimation",mb.initializeType=function(){null==mb.MBS_ANIMATION&&(mb.MBS_ANIMATION=new Cb("MbsAnimation"),mb.MBS_ANIMATION.setInstantiator(function(e){return new mb(e)}),mb.across=mb.MBS_ANIMATION.createField("across",M.INTEGER),mb.down=mb.MBS_ANIMATION.createField("down",M.INTEGER),mb.durations=mb.MBS_ANIMATION.createField("durations",M.LIST),mb.height=mb.MBS_ANIMATION.createField("height",M.INTEGER),mb.id=mb.MBS_ANIMATION.createField("id",M.INTEGER),mb.loop=mb.MBS_ANIMATION.createField("loop",M.BOOLEAN),mb.$name=mb.MBS_ANIMATION.createField("name",M.STRING),mb.numFrames=mb.MBS_ANIMATION.createField("numFrames",M.INTEGER),mb.originX=mb.MBS_ANIMATION.createField("originX",M.INTEGER),mb.originY=mb.MBS_ANIMATION.createField("originY",M.INTEGER),mb.sync=mb.MBS_ANIMATION.createField("sync",M.BOOLEAN),mb.version=mb.MBS_ANIMATION.createField("version",M.INTEGER),mb.width=mb.MBS_ANIMATION.createField("width",M.INTEGER),mb.shapes=mb.MBS_ANIMATION.createField("shapes",M.LIST))},mb.new_MbsAnimation_list=function(e){return new cb(e,mb.MBS_ANIMATION,new mb(e))},mb.__super__=lb,mb.prototype=x(lb.prototype,{getMbsType:function(){return mb.MBS_ANIMATION},_durations:null,_shapes:null,allocateNew:function(){this.setAddress(this.data.allocate(mb.MBS_ANIMATION.getSize()))},getAcross:function(){return this.data.readInt(this.address+mb.across.address)},setAcross:function(e){this.data.writeInt(this.address+mb.across.address,e)},getDown:function(){return this.data.readInt(this.address+mb.down.address)},setDown:function(e){this.data.writeInt(this.address+mb.down.address,e)},getDurations:function(){return this._durations.setAddress(this.data.readInt(this.address+mb.durations.address)),this._durations},createDurations:function(e){return this._durations.allocateNew(e),this.data.writeInt(this.address+mb.durations.address,this._durations.getAddress()),this._durations},getHeight:function(){return this.data.readInt(this.address+mb.height.address)},setHeight:function(e){this.data.writeInt(this.address+mb.height.address,e)},getId:function(){return this.data.readInt(this.address+mb.id.address)},setId:function(e){this.data.writeInt(this.address+mb.id.address,e)},getLoop:function(){return this.data.readBool(this.address+mb.loop.address)},setLoop:function(e){this.data.writeBool(this.address+mb.loop.address,e)},getName:function(){return this.data.readString(this.address+mb.$name.address)},setName:function(e){this.data.writeString(this.address+mb.$name.address,e)},getNumFrames:function(){return this.data.readInt(this.address+mb.numFrames.address)},setNumFrames:function(e){this.data.writeInt(this.address+mb.numFrames.address,e)},getOriginX:function(){return this.data.readInt(this.address+mb.originX.address)},setOriginX:function(e){this.data.writeInt(this.address+mb.originX.address,e)},getOriginY:function(){return this.data.readInt(this.address+mb.originY.address)},setOriginY:function(e){this.data.writeInt(this.address+mb.originY.address,e)},getSync:function(){return this.data.readBool(this.address+mb.sync.address)},setSync:function(e){this.data.writeBool(this.address+mb.sync.address,e)},getVersion:function(){return this.data.readInt(this.address+mb.version.address)},setVersion:function(e){this.data.writeInt(this.address+mb.version.address,e)},getWidth:function(){return this.data.readInt(this.address+mb.width.address)},setWidth:function(e){this.data.writeInt(this.address+mb.width.address,e)},getShapes:function(){return this._shapes.setAddress(this.data.readInt(this.address+mb.shapes.address)),this._shapes},createShapes:function(e){return this._shapes.allocateNew(e),this.data.writeInt(this.address+mb.shapes.address,this._shapes.getAddress()),this._shapes},__class__:mb});var yc=function(e){this.data=e,this._animations=new cb(e,mb.MBS_ANIMATION,new mb(e))};k["com.stencyl.io.mbs.actortype.MbsSprite"]=yc,yc.__name__="com.stencyl.io.mbs.actortype.MbsSprite",yc.initializeType=function(){null==yc.MBS_SPRITE&&(Za.initializeType(),yc.MBS_SPRITE=new Cb("MbsSprite"),yc.MBS_SPRITE.setInstantiator(function(e){return new yc(e)}),yc.MBS_SPRITE.inherit(Za.MBS_RESOURCE),yc.defaultAnimation=yc.MBS_SPRITE.createField("defaultAnimation",M.INTEGER),yc.readableImages=yc.MBS_SPRITE.createField("readableImages",M.BOOLEAN),yc.height=yc.MBS_SPRITE.createField("height",M.INTEGER),yc.width=yc.MBS_SPRITE.createField("width",M.INTEGER),yc.animations=yc.MBS_SPRITE.createField("animations",M.LIST))},yc.new_MbsSprite_list=function(e){return new cb(e,yc.MBS_SPRITE,new yc(e))},yc.__super__=Za,yc.prototype=x(Za.prototype,{getMbsType:function(){return yc.MBS_SPRITE},_animations:null,allocateNew:function(){this.setAddress(this.data.allocate(yc.MBS_SPRITE.getSize()))},getDefaultAnimation:function(){return this.data.readInt(this.address+yc.defaultAnimation.address)},setDefaultAnimation:function(e){this.data.writeInt(this.address+yc.defaultAnimation.address,e)},getReadableImages:function(){return this.data.readBool(this.address+yc.readableImages.address)},setReadableImages:function(e){this.data.writeBool(this.address+yc.readableImages.address,e)},getHeight:function(){return this.data.readInt(this.address+yc.height.address)},setHeight:function(e){this.data.writeInt(this.address+yc.height.address,e)},getWidth:function(){return this.data.readInt(this.address+yc.width.address)},setWidth:function(e){this.data.writeInt(this.address+yc.width.address,e)},getAnimations:function(){return this._animations.setAddress(this.data.readInt(this.address+yc.animations.address)),this._animations},createAnimations:function(e){return this._animations.allocateNew(e),this.data.writeInt(this.address+yc.animations.address,this._animations.getAddress()),this._animations},__class__:yc});var Vc=function(e){this.data=e,this._members=new kg(e)};k["com.stencyl.io.mbs.game.MbsAtlas"]=Vc,Vc.__name__="com.stencyl.io.mbs.game.MbsAtlas",Vc.initializeType=function(){null==Vc.MBS_ATLAS&&(Vc.MBS_ATLAS=new Cb("MbsAtlas"),Vc.MBS_ATLAS.setInstantiator(function(e){return new Vc(e)}),Vc.id=Vc.MBS_ATLAS.createField("id",M.INTEGER),Vc.$name=Vc.MBS_ATLAS.createField("name",M.STRING),Vc.members=Vc.MBS_ATLAS.createField("members",M.LIST),Vc.allScenes=Vc.MBS_ATLAS.createField("allScenes",M.BOOLEAN))},Vc.new_MbsAtlas_list=function(e){return new cb(e,Vc.MBS_ATLAS,new Vc(e))},Vc.__super__=lb,Vc.prototype=x(lb.prototype,{getMbsType:function(){return Vc.MBS_ATLAS},_members:null,allocateNew:function(){this.setAddress(this.data.allocate(Vc.MBS_ATLAS.getSize()))},getId:function(){return this.data.readInt(this.address+Vc.id.address)},setId:function(e){this.data.writeInt(this.address+Vc.id.address,e)},getName:function(){return this.data.readString(this.address+Vc.$name.address)},setName:function(e){this.data.writeString(this.address+Vc.$name.address,e)},getMembers:function(){return this._members.setAddress(this.data.readInt(this.address+Vc.members.address)),this._members},createMembers:function(e){return this._members.allocateNew(e),this.data.writeInt(this.address+Vc.members.address,this._members.getAddress()),this._members},getAllScenes:function(){return this.data.readBool(this.address+Vc.allScenes.address)},setAllScenes:function(e){this.data.writeBool(this.address+Vc.allScenes.address,e)},__class__:Vc});var Md=function(e){this.data=e};k["com.stencyl.io.mbs.game.MbsCollisionGroup"]=Md,Md.__name__="com.stencyl.io.mbs.game.MbsCollisionGroup",Md.initializeType=function(){null==Md.MBS_COLLISION_GROUP&&(Md.MBS_COLLISION_GROUP=new Cb("MbsCollisionGroup"),Md.MBS_COLLISION_GROUP.setInstantiator(function(e){return new Md(e)}),Md.id=Md.MBS_COLLISION_GROUP.createField("id",M.INTEGER),Md.$name=Md.MBS_COLLISION_GROUP.createField("name",M.STRING))},Md.new_MbsCollisionGroup_list=function(e){return new cb(e,Md.MBS_COLLISION_GROUP,new Md(e))},Md.__super__=lb,Md.prototype=x(lb.prototype,{getMbsType:function(){return Md.MBS_COLLISION_GROUP},allocateNew:function(){this.setAddress(this.data.allocate(Md.MBS_COLLISION_GROUP.getSize()))},getId:function(){return this.data.readInt(this.address+Md.id.address)},setId:function(e){this.data.writeInt(this.address+Md.id.address,e)},getName:function(){return this.data.readString(this.address+Md.$name.address)},setName:function(e){this.data.writeString(this.address+Md.$name.address,e)},__class__:Md});var Nd=function(e){this.data=e};k["com.stencyl.io.mbs.game.MbsCollisionPair"]=Nd,Nd.__name__="com.stencyl.io.mbs.game.MbsCollisionPair",Nd.initializeType=function(){null==Nd.MBS_COLLISION_PAIR&&(Nd.MBS_COLLISION_PAIR=new Cb("MbsCollisionPair"),Nd.MBS_COLLISION_PAIR.setInstantiator(function(e){return new Nd(e)}),Nd.group1=Nd.MBS_COLLISION_PAIR.createField("group1",M.INTEGER),Nd.group2=Nd.MBS_COLLISION_PAIR.createField("group2",M.INTEGER))},Nd.new_MbsCollisionPair_list=function(e){return new cb(e,Nd.MBS_COLLISION_PAIR,new Nd(e))},Nd.__super__=lb,Nd.prototype=x(lb.prototype,{getMbsType:function(){return Nd.MBS_COLLISION_PAIR},allocateNew:function(){this.setAddress(this.data.allocate(Nd.MBS_COLLISION_PAIR.getSize()))},getGroup1:function(){return this.data.readInt(this.address+Nd.group1.address)},setGroup1:function(e){this.data.writeInt(this.address+Nd.group1.address,e)},getGroup2:function(){return this.data.readInt(this.address+Nd.group2.address)},setGroup2:function(e){this.data.writeInt(this.address+Nd.group2.address,e)},__class__:Nd});var Ld=function(e){this.data=e,this._points=new cb(e,zc.MBS_POINT,new zc(e))};k["com.stencyl.io.mbs.game.MbsCollisionShape"]=Ld,Ld.__name__="com.stencyl.io.mbs.game.MbsCollisionShape",Ld.initializeType=function(){null==Ld.MBS_COLLISION_SHAPE&&(Ld.MBS_COLLISION_SHAPE=new Cb("MbsCollisionShape"),Ld.MBS_COLLISION_SHAPE.setInstantiator(function(e){return new Ld(e)}),Ld.id=Ld.MBS_COLLISION_SHAPE.createField("id",M.INTEGER),Ld.points=Ld.MBS_COLLISION_SHAPE.createField("points",M.LIST))},Ld.new_MbsCollisionShape_list=function(e){return new cb(e,Ld.MBS_COLLISION_SHAPE,new Ld(e))},Ld.__super__=lb,Ld.prototype=x(lb.prototype,{getMbsType:function(){return Ld.MBS_COLLISION_SHAPE},_points:null,allocateNew:function(){this.setAddress(this.data.allocate(Ld.MBS_COLLISION_SHAPE.getSize()))},getId:function(){return this.data.readInt(this.address+Ld.id.address)},setId:function(e){this.data.writeInt(this.address+Ld.id.address,e)},getPoints:function(){return this._points.setAddress(this.data.readInt(this.address+Ld.points.address)),this._points},createPoints:function(e){return this._points.allocateNew(e),this.data.writeInt(this.address+Ld.points.address,this._points.getAddress()),this._points},__class__:Ld});var wc=function(e){this.data=e,this._shapes=new cb(e,Ld.MBS_COLLISION_SHAPE,new Ld(e)),this._atlases=new cb(e,Vc.MBS_ATLAS,new Vc(e)),this._autotileFormats=new cb(e,oc.MBS_AUTOTILE_FORMAT,new oc(e)),this._groups=new cb(e,Md.MBS_COLLISION_GROUP,new Md(e)),this._cgroups=new cb(e,Nd.MBS_COLLISION_PAIR,new Nd(e)),this._gameAttributes=new cb(e,Rd.MBS_MAP_ELEMENT,new Rd(e))};k["com.stencyl.io.mbs.game.MbsGame"]=wc,wc.__name__="com.stencyl.io.mbs.game.MbsGame",wc.initializeType=function(){null==wc.MBS_GAME&&(wc.MBS_GAME=new Cb("MbsGame"),wc.MBS_GAME.setInstantiator(function(e){return new wc(e)}),wc.shapes=wc.MBS_GAME.createField("shapes",M.LIST),wc.atlases=wc.MBS_GAME.createField("atlases",M.LIST),wc.autotileFormats=wc.MBS_GAME.createField("autotileFormats",M.LIST),wc.groups=wc.MBS_GAME.createField("groups",M.LIST),wc.cgroups=wc.MBS_GAME.createField("cgroups",M.LIST),wc.gameAttributes=wc.MBS_GAME.createField("gameAttributes",M.LIST))},wc.new_MbsGame_list=function(e){return new cb(e,wc.MBS_GAME,new wc(e))},wc.__super__=lb,wc.prototype=x(lb.prototype,{getMbsType:function(){return wc.MBS_GAME},_shapes:null,_atlases:null,_autotileFormats:null,_groups:null,_cgroups:null,_gameAttributes:null,allocateNew:function(){this.setAddress(this.data.allocate(wc.MBS_GAME.getSize()))},getShapes:function(){return this._shapes.setAddress(this.data.readInt(this.address+wc.shapes.address)),this._shapes},createShapes:function(e){return this._shapes.allocateNew(e),this.data.writeInt(this.address+wc.shapes.address,this._shapes.getAddress()),this._shapes},getAtlases:function(){return this._atlases.setAddress(this.data.readInt(this.address+wc.atlases.address)),this._atlases},createAtlases:function(e){return this._atlases.allocateNew(e),this.data.writeInt(this.address+wc.atlases.address,this._atlases.getAddress()),this._atlases},getAutotileFormats:function(){return this._autotileFormats.setAddress(this.data.readInt(this.address+wc.autotileFormats.address)),this._autotileFormats},createAutotileFormats:function(e){return this._autotileFormats.allocateNew(e),this.data.writeInt(this.address+wc.autotileFormats.address,this._autotileFormats.getAddress()),this._autotileFormats},getGroups:function(){return this._groups.setAddress(this.data.readInt(this.address+wc.groups.address)),this._groups},createGroups:function(e){return this._groups.allocateNew(e),this.data.writeInt(this.address+wc.groups.address,this._groups.getAddress()),this._groups},getCgroups:function(){return this._cgroups.setAddress(this.data.readInt(this.address+wc.cgroups.address)),this._cgroups},createCgroups:function(e){return this._cgroups.allocateNew(e),this.data.writeInt(this.address+wc.cgroups.address,this._cgroups.getAddress()),this._cgroups},getGameAttributes:function(){return this._gameAttributes.setAddress(this.data.readInt(this.address+wc.gameAttributes.address)),this._gameAttributes},createGameAttributes:function(e){return this._gameAttributes.allocateNew(e),this.data.writeInt(this.address+wc.gameAttributes.address,this._gameAttributes.getAddress()),this._gameAttributes},__class__:wc});var oc=function(e){this.data=e,this._corners=new cb(e,qd.MBS_CORNERS,new qd(e)),this._flags=new kg(e)};k["com.stencyl.io.mbs.game.autotile.MbsAutotileFormat"]=oc,oc.__name__="com.stencyl.io.mbs.game.autotile.MbsAutotileFormat",oc.initializeType=function(){null==oc.MBS_AUTOTILE_FORMAT&&(oc.MBS_AUTOTILE_FORMAT=new Cb("MbsAutotileFormat"),oc.MBS_AUTOTILE_FORMAT.setInstantiator(function(e){return new oc(e)}),oc.id=oc.MBS_AUTOTILE_FORMAT.createField("id",M.INTEGER),oc.$name=oc.MBS_AUTOTILE_FORMAT.createField("name",M.STRING),oc.across=oc.MBS_AUTOTILE_FORMAT.createField("across",M.INTEGER),oc.down=oc.MBS_AUTOTILE_FORMAT.createField("down",M.INTEGER),oc.corners=oc.MBS_AUTOTILE_FORMAT.createField("corners",M.LIST),oc.flags=oc.MBS_AUTOTILE_FORMAT.createField("flags",M.LIST))},oc.new_MbsAutotileFormat_list=function(e){return new cb(e,oc.MBS_AUTOTILE_FORMAT,new oc(e))},oc.__super__=lb,oc.prototype=x(lb.prototype,{getMbsType:function(){return oc.MBS_AUTOTILE_FORMAT},_corners:null,_flags:null,allocateNew:function(){this.setAddress(this.data.allocate(oc.MBS_AUTOTILE_FORMAT.getSize()))},getId:function(){return this.data.readInt(this.address+oc.id.address)},setId:function(e){this.data.writeInt(this.address+oc.id.address,e)},getName:function(){return this.data.readString(this.address+oc.$name.address)},setName:function(e){this.data.writeString(this.address+oc.$name.address,e)},getAcross:function(){return this.data.readInt(this.address+oc.across.address)},setAcross:function(e){this.data.writeInt(this.address+oc.across.address,e)},getDown:function(){return this.data.readInt(this.address+oc.down.address)},setDown:function(e){this.data.writeInt(this.address+oc.down.address,e)},getCorners:function(){return this._corners.setAddress(this.data.readInt(this.address+oc.corners.address)),this._corners},createCorners:function(e){return this._corners.allocateNew(e),this.data.writeInt(this.address+oc.corners.address,this._corners.getAddress()),this._corners},getFlags:function(){return this._flags.setAddress(this.data.readInt(this.address+oc.flags.address)),this._flags},createFlags:function(e){return this._flags.allocateNew(e),this.data.writeInt(this.address+oc.flags.address,this._flags.getAddress()),this._flags},__class__:oc});var qd=function(e){this.data=e,this._topLeft=new zc(e),this._topRight=new zc(e),this._bottomLeft=new zc(e),this._bottomRight=new zc(e)};k["com.stencyl.io.mbs.game.autotile.MbsCorners"]=qd,qd.__name__="com.stencyl.io.mbs.game.autotile.MbsCorners",qd.initializeType=function(){null==qd.MBS_CORNERS&&(qd.MBS_CORNERS=new Cb("MbsCorners"),qd.MBS_CORNERS.setInstantiator(function(e){return new qd(e)}),qd.topLeft=qd.MBS_CORNERS.createField("topLeft",zc.MBS_POINT),qd.topRight=qd.MBS_CORNERS.createField("topRight",zc.MBS_POINT),qd.bottomLeft=qd.MBS_CORNERS.createField("bottomLeft",zc.MBS_POINT),qd.bottomRight=qd.MBS_CORNERS.createField("bottomRight",zc.MBS_POINT))},qd.new_MbsCorners_list=function(e){return new cb(e,qd.MBS_CORNERS,new qd(e))},qd.__super__=lb,qd.prototype=x(lb.prototype,{getMbsType:function(){return qd.MBS_CORNERS},_topLeft:null,_topRight:null,_bottomLeft:null,_bottomRight:null,allocateNew:function(){this.setAddress(this.data.allocate(qd.MBS_CORNERS.getSize()))},getTopLeft:function(){return this._topLeft.setAddress(this.address+qd.topLeft.address),this._topLeft},getTopRight:function(){return this._topRight.setAddress(this.address+qd.topRight.address),this._topRight},getBottomLeft:function(){return this._bottomLeft.setAddress(this.address+qd.bottomLeft.address),this._bottomLeft},getBottomRight:function(){return this._bottomRight.setAddress(this.address+qd.bottomRight.address),this._bottomRight},__class__:qd});var ob=function(e){this.data=e,this._snippets=new cb(e,Wc.MBS_SNIPPET,new Wc(e))};k["com.stencyl.io.mbs.scene.MbsActorInstance"]=ob,ob.__name__="com.stencyl.io.mbs.scene.MbsActorInstance",ob.initializeType=function(){null==ob.MBS_ACTOR_INSTANCE&&(ob.MBS_ACTOR_INSTANCE=new Cb("MbsActorInstance"),ob.MBS_ACTOR_INSTANCE.setInstantiator(function(e){return new ob(e)}),ob.angle=ob.MBS_ACTOR_INSTANCE.createField("angle",M.FLOAT),ob.aid=ob.MBS_ACTOR_INSTANCE.createField("aid",M.INTEGER),ob.customized=ob.MBS_ACTOR_INSTANCE.createField("customized",M.BOOLEAN),ob.groupID=ob.MBS_ACTOR_INSTANCE.createField("groupID",M.INTEGER),ob.id=ob.MBS_ACTOR_INSTANCE.createField("id",M.INTEGER),ob.$name=ob.MBS_ACTOR_INSTANCE.createField("name",M.STRING),ob.scaleX=ob.MBS_ACTOR_INSTANCE.createField("scaleX",M.FLOAT),ob.scaleY=ob.MBS_ACTOR_INSTANCE.createField("scaleY",M.FLOAT),ob.x=ob.MBS_ACTOR_INSTANCE.createField("x",M.INTEGER),ob.y=ob.MBS_ACTOR_INSTANCE.createField("y",M.INTEGER),ob.z=ob.MBS_ACTOR_INSTANCE.createField("z",M.INTEGER),ob.orderInLayer=ob.MBS_ACTOR_INSTANCE.createField("orderInLayer",M.INTEGER),ob.snippets=ob.MBS_ACTOR_INSTANCE.createField("snippets",M.LIST))},ob.new_MbsActorInstance_list=function(e){return new cb(e,ob.MBS_ACTOR_INSTANCE,new ob(e))},ob.__super__=lb,ob.prototype=x(lb.prototype,{getMbsType:function(){return ob.MBS_ACTOR_INSTANCE},_snippets:null,allocateNew:function(){this.setAddress(this.data.allocate(ob.MBS_ACTOR_INSTANCE.getSize()))},getAngle:function(){return this.data.readFloat(this.address+ob.angle.address)},setAngle:function(e){this.data.writeFloat(this.address+ob.angle.address,e)},getAid:function(){return this.data.readInt(this.address+ob.aid.address)},setAid:function(e){this.data.writeInt(this.address+ob.aid.address,e)},getCustomized:function(){return this.data.readBool(this.address+ob.customized.address)},setCustomized:function(e){this.data.writeBool(this.address+ob.customized.address,e)},getGroupID:function(){return this.data.readInt(this.address+ob.groupID.address)},setGroupID:function(e){this.data.writeInt(this.address+ob.groupID.address,e)},getId:function(){return this.data.readInt(this.address+ob.id.address)},setId:function(e){this.data.writeInt(this.address+ob.id.address,e)},getName:function(){return this.data.readString(this.address+ob.$name.address)},setName:function(e){this.data.writeString(this.address+ob.$name.address,e)},getScaleX:function(){return this.data.readFloat(this.address+ob.scaleX.address)},setScaleX:function(e){this.data.writeFloat(this.address+ob.scaleX.address,e)},getScaleY:function(){return this.data.readFloat(this.address+ob.scaleY.address)},setScaleY:function(e){this.data.writeFloat(this.address+ob.scaleY.address,e)},getX:function(){return this.data.readInt(this.address+ob.x.address)},setX:function(e){this.data.writeInt(this.address+ob.x.address,e)},getY:function(){return this.data.readInt(this.address+ob.y.address)},setY:function(e){this.data.writeInt(this.address+ob.y.address,e)},getZ:function(){return this.data.readInt(this.address+ob.z.address)},setZ:function(e){this.data.writeInt(this.address+ob.z.address,e)},getOrderInLayer:function(){return this.data.readInt(this.address+ob.orderInLayer.address)},setOrderInLayer:function(e){this.data.writeInt(this.address+ob.orderInLayer.address,e)},getSnippets:function(){return this._snippets.setAddress(this.data.readInt(this.address+ob.snippets.address)),this._snippets},createSnippets:function(e){return this._snippets.allocateNew(e),this.data.writeInt(this.address+ob.snippets.address,this._snippets.getAddress()),this._snippets},__class__:ob});var xa=function(e){this.data=e,this._actorInstances=new cb(e,ob.MBS_ACTOR_INSTANCE,new ob(e)),this._atlasMembers=new kg(e),this._layers=new ai(e),this._joints=new ai(e),this._regions=new cb(e,ac.MBS_REGION,new ac(e)),this._snippets=new cb(e,Wc.MBS_SNIPPET,new Wc(e)),this._terrain=new cb(e,ze.MBS_WIREFRAME,new ze(e)),this._terrainRegions=new cb(e,qe.MBS_TERRAIN_REGION,new qe(e))};k["com.stencyl.io.mbs.scene.MbsScene"]=xa,xa.__name__="com.stencyl.io.mbs.scene.MbsScene",xa.initializeType=function(){null==xa.MBS_SCENE&&(xa.MBS_SCENE=new Cb("MbsScene"),xa.MBS_SCENE.setInstantiator(function(e){return new xa(e)}),xa.retainAtlases=xa.MBS_SCENE.createField("retainAtlases",M.BOOLEAN),xa.depth=xa.MBS_SCENE.createField("depth",M.INTEGER),xa.description=xa.MBS_SCENE.createField("description",M.STRING),xa.eventSnippetID=xa.MBS_SCENE.createField("eventSnippetID",M.INTEGER),xa.extendedHeight=xa.MBS_SCENE.createField("extendedHeight",M.INTEGER),xa.extendedWidth=xa.MBS_SCENE.createField("extendedWidth",M.INTEGER),xa.extendedX=xa.MBS_SCENE.createField("extendedX",M.INTEGER),xa.extendedY=xa.MBS_SCENE.createField("extendedY",M.INTEGER),xa.format=xa.MBS_SCENE.createField("format",M.STRING),xa.gravityX=xa.MBS_SCENE.createField("gravityX",M.FLOAT),xa.gravityY=xa.MBS_SCENE.createField("gravityY",M.FLOAT),xa.height=xa.MBS_SCENE.createField("height",M.INTEGER),xa.id=xa.MBS_SCENE.createField("id",M.INTEGER),xa.$name=xa.MBS_SCENE.createField("name",M.STRING),xa.revision=xa.MBS_SCENE.createField("revision",M.STRING),xa.savecount=xa.MBS_SCENE.createField("savecount",M.INTEGER),xa.tileDepth=xa.MBS_SCENE.createField("tileDepth",M.INTEGER),xa.tileHeight=xa.MBS_SCENE.createField("tileHeight",M.INTEGER),xa.tileWidth=xa.MBS_SCENE.createField("tileWidth",M.INTEGER),xa.type=xa.MBS_SCENE.createField("type",M.STRING),xa.width=xa.MBS_SCENE.createField("width",M.INTEGER),xa.actorInstances=xa.MBS_SCENE.createField("actorInstances",M.LIST),xa.atlasMembers=xa.MBS_SCENE.createField("atlasMembers",M.LIST),xa.layers=xa.MBS_SCENE.createField("layers",M.LIST),xa.joints=xa.MBS_SCENE.createField("joints",M.LIST),xa.regions=xa.MBS_SCENE.createField("regions",M.LIST),xa.snippets=xa.MBS_SCENE.createField("snippets",M.LIST),xa.terrain=xa.MBS_SCENE.createField("terrain",M.LIST),xa.terrainRegions=xa.MBS_SCENE.createField("terrainRegions",M.LIST))},xa.new_MbsScene_list=function(e){return new cb(e,xa.MBS_SCENE,new xa(e))},xa.__super__=lb,xa.prototype=x(lb.prototype,{getMbsType:function(){return xa.MBS_SCENE},_actorInstances:null,_atlasMembers:null,_layers:null,_joints:null,_regions:null,_snippets:null,_terrain:null,_terrainRegions:null,allocateNew:function(){this.setAddress(this.data.allocate(xa.MBS_SCENE.getSize()))},getRetainAtlases:function(){return this.data.readBool(this.address+xa.retainAtlases.address)},setRetainAtlases:function(e){this.data.writeBool(this.address+xa.retainAtlases.address,e)},getDepth:function(){return this.data.readInt(this.address+xa.depth.address)},setDepth:function(e){this.data.writeInt(this.address+xa.depth.address,e)},getDescription:function(){return this.data.readString(this.address+xa.description.address)},setDescription:function(e){this.data.writeString(this.address+xa.description.address,e)},getEventSnippetID:function(){return this.data.readInt(this.address+xa.eventSnippetID.address)},setEventSnippetID:function(e){this.data.writeInt(this.address+xa.eventSnippetID.address,e)},getExtendedHeight:function(){return this.data.readInt(this.address+xa.extendedHeight.address)},setExtendedHeight:function(e){this.data.writeInt(this.address+xa.extendedHeight.address,e)},getExtendedWidth:function(){return this.data.readInt(this.address+xa.extendedWidth.address)},setExtendedWidth:function(e){this.data.writeInt(this.address+xa.extendedWidth.address,e)},getExtendedX:function(){return this.data.readInt(this.address+xa.extendedX.address)},setExtendedX:function(e){this.data.writeInt(this.address+xa.extendedX.address,e)},getExtendedY:function(){return this.data.readInt(this.address+xa.extendedY.address)},setExtendedY:function(e){this.data.writeInt(this.address+xa.extendedY.address,e)},getFormat:function(){return this.data.readString(this.address+xa.format.address)},setFormat:function(e){this.data.writeString(this.address+xa.format.address,e)},getGravityX:function(){return this.data.readFloat(this.address+xa.gravityX.address)},setGravityX:function(e){this.data.writeFloat(this.address+xa.gravityX.address,e)},getGravityY:function(){return this.data.readFloat(this.address+xa.gravityY.address)},setGravityY:function(e){this.data.writeFloat(this.address+xa.gravityY.address,e)},getHeight:function(){return this.data.readInt(this.address+xa.height.address)},setHeight:function(e){this.data.writeInt(this.address+xa.height.address,e)},getId:function(){return this.data.readInt(this.address+xa.id.address)},setId:function(e){this.data.writeInt(this.address+xa.id.address,e)},getName:function(){return this.data.readString(this.address+xa.$name.address)},setName:function(e){this.data.writeString(this.address+xa.$name.address,e)},getRevision:function(){return this.data.readString(this.address+xa.revision.address)},setRevision:function(e){this.data.writeString(this.address+xa.revision.address,e)},getSavecount:function(){return this.data.readInt(this.address+xa.savecount.address)},setSavecount:function(e){this.data.writeInt(this.address+xa.savecount.address,e)},getTileDepth:function(){return this.data.readInt(this.address+xa.tileDepth.address)},setTileDepth:function(e){this.data.writeInt(this.address+xa.tileDepth.address,e)},getTileHeight:function(){return this.data.readInt(this.address+xa.tileHeight.address)},setTileHeight:function(e){this.data.writeInt(this.address+xa.tileHeight.address,e)},getTileWidth:function(){return this.data.readInt(this.address+xa.tileWidth.address)},setTileWidth:function(e){this.data.writeInt(this.address+xa.tileWidth.address,e)},getType:function(){return this.data.readString(this.address+xa.type.address)},setType:function(e){this.data.writeString(this.address+xa.type.address,e)},getWidth:function(){return this.data.readInt(this.address+xa.width.address)},setWidth:function(e){this.data.writeInt(this.address+xa.width.address,e)},getActorInstances:function(){return this._actorInstances.setAddress(this.data.readInt(this.address+xa.actorInstances.address)),this._actorInstances},createActorInstances:function(e){return this._actorInstances.allocateNew(e),this.data.writeInt(this.address+xa.actorInstances.address,this._actorInstances.getAddress()),this._actorInstances},getAtlasMembers:function(){return this._atlasMembers.setAddress(this.data.readInt(this.address+xa.atlasMembers.address)),this._atlasMembers},createAtlasMembers:function(e){return this._atlasMembers.allocateNew(e),this.data.writeInt(this.address+xa.atlasMembers.address,this._atlasMembers.getAddress()),this._atlasMembers},getLayers:function(){return this._layers.setAddress(this.data.readInt(this.address+xa.layers.address)),this._layers},createLayers:function(e){return this._layers.allocateNew(e),this.data.writeInt(this.address+xa.layers.address,this._layers.getAddress()),this._layers},getJoints:function(){return this._joints.setAddress(this.data.readInt(this.address+xa.joints.address)),this._joints},createJoints:function(e){return this._joints.allocateNew(e),this.data.writeInt(this.address+xa.joints.address,this._joints.getAddress()),this._joints},getRegions:function(){return this._regions.setAddress(this.data.readInt(this.address+xa.regions.address)),this._regions},createRegions:function(e){return this._regions.allocateNew(e),this.data.writeInt(this.address+xa.regions.address,this._regions.getAddress()),this._regions},getSnippets:function(){return this._snippets.setAddress(this.data.readInt(this.address+xa.snippets.address)),this._snippets},createSnippets:function(e){return this._snippets.allocateNew(e),this.data.writeInt(this.address+xa.snippets.address,this._snippets.getAddress()),this._snippets},getTerrain:function(){return this._terrain.setAddress(this.data.readInt(this.address+xa.terrain.address)),this._terrain},createTerrain:function(e){return this._terrain.allocateNew(e),this.data.writeInt(this.address+xa.terrain.address,this._terrain.getAddress()),this._terrain},getTerrainRegions:function(){return this._terrainRegions.setAddress(this.data.readInt(this.address+xa.terrainRegions.address)),this._terrainRegions},createTerrainRegions:function(e){return this._terrainRegions.allocateNew(e),this.data.writeInt(this.address+xa.terrainRegions.address,this._terrainRegions.getAddress()),this._terrainRegions},__class__:xa});var hd=function(e){this.data=e};k["com.stencyl.io.mbs.scene.MbsSceneHeader"]=hd,hd.__name__="com.stencyl.io.mbs.scene.MbsSceneHeader",hd.initializeType=function(){null==hd.MBS_SCENE_HEADER&&(hd.MBS_SCENE_HEADER=new Cb("MbsSceneHeader"),hd.MBS_SCENE_HEADER.setInstantiator(function(e){return new hd(e)}),hd.id=hd.MBS_SCENE_HEADER.createField("id",M.INTEGER),hd.$name=hd.MBS_SCENE_HEADER.createField("name",M.STRING),hd.description=hd.MBS_SCENE_HEADER.createField("description",M.STRING),hd.format=hd.MBS_SCENE_HEADER.createField("format",M.STRING))},hd.new_MbsSceneHeader_list=function(e){return new cb(e,hd.MBS_SCENE_HEADER,new hd(e))},hd.__super__=lb,hd.prototype=x(lb.prototype,{getMbsType:function(){return hd.MBS_SCENE_HEADER},allocateNew:function(){this.setAddress(this.data.allocate(hd.MBS_SCENE_HEADER.getSize()))},getId:function(){return this.data.readInt(this.address+hd.id.address)},setId:function(e){this.data.writeInt(this.address+hd.id.address,e)},getName:function(){return this.data.readString(this.address+hd.$name.address)},setName:function(e){this.data.writeString(this.address+hd.$name.address,e)},getDescription:function(){return this.data.readString(this.address+hd.description.address)},setDescription:function(e){this.data.writeString(this.address+hd.description.address,e)},getFormat:function(){return this.data.readString(this.address+hd.format.address)},setFormat:function(e){this.data.writeString(this.address+hd.format.address,e)},__class__:hd});var Ub=function(e){this.data=e,this._durations=new kg(e),this._autotileMerge=new kg(e)};k["com.stencyl.io.mbs.scene.MbsTile"]=Ub,Ub.__name__="com.stencyl.io.mbs.scene.MbsTile",Ub.initializeType=function(){null==Ub.MBS_TILE&&(Ub.MBS_TILE=new Cb("MbsTile"),Ub.MBS_TILE.setInstantiator(function(e){return new Ub(e)}),Ub.collision=Ub.MBS_TILE.createField("collision",M.INTEGER),Ub.metadata=Ub.MBS_TILE.createField("metadata",M.STRING),Ub.durations=Ub.MBS_TILE.createField("durations",M.LIST),Ub.frames=Ub.MBS_TILE.createField("frames",M.INTEGER),Ub.id=Ub.MBS_TILE.createField("id",M.INTEGER),Ub.order=Ub.MBS_TILE.createField("order",M.INTEGER),Ub.autotile=Ub.MBS_TILE.createField("autotile",M.INTEGER),Ub.autotileMerge=Ub.MBS_TILE.createField("autotileMerge",M.LIST))},Ub.new_MbsTile_list=function(e){return new cb(e,Ub.MBS_TILE,new Ub(e))},Ub.__super__=lb,Ub.prototype=x(lb.prototype,{getMbsType:function(){return Ub.MBS_TILE},_durations:null,_autotileMerge:null,allocateNew:function(){this.setAddress(this.data.allocate(Ub.MBS_TILE.getSize()))},getCollision:function(){return this.data.readInt(this.address+Ub.collision.address)},setCollision:function(e){this.data.writeInt(this.address+Ub.collision.address,e)},getMetadata:function(){return this.data.readString(this.address+Ub.metadata.address)},setMetadata:function(e){this.data.writeString(this.address+Ub.metadata.address,e)},getDurations:function(){return this._durations.setAddress(this.data.readInt(this.address+Ub.durations.address)),this._durations},createDurations:function(e){return this._durations.allocateNew(e),this.data.writeInt(this.address+Ub.durations.address,this._durations.getAddress()),this._durations},getFrames:function(){return this.data.readInt(this.address+Ub.frames.address)},setFrames:function(e){this.data.writeInt(this.address+Ub.frames.address,e)},getId:function(){return this.data.readInt(this.address+Ub.id.address)},setId:function(e){this.data.writeInt(this.address+Ub.id.address,e)},getOrder:function(){return this.data.readInt(this.address+Ub.order.address)},setOrder:function(e){this.data.writeInt(this.address+Ub.order.address,e)},getAutotile:function(){return this.data.readInt(this.address+Ub.autotile.address)},setAutotile:function(e){this.data.writeInt(this.address+Ub.autotile.address,e)},getAutotileMerge:function(){return this._autotileMerge.setAddress(this.data.readInt(this.address+Ub.autotileMerge.address)),this._autotileMerge},createAutotileMerge:function(e){return this._autotileMerge.allocateNew(e),this.data.writeInt(this.address+Ub.autotileMerge.address,this._autotileMerge.getAddress()),this._autotileMerge},__class__:Ub});var nc=function(e){this.data=e,this._tiles=new cb(e,Ub.MBS_TILE,new Ub(e))};k["com.stencyl.io.mbs.scene.MbsTileset"]=nc,nc.__name__="com.stencyl.io.mbs.scene.MbsTileset",nc.initializeType=function(){null==nc.MBS_TILESET&&(Za.initializeType(),nc.MBS_TILESET=new Cb("MbsTileset"),nc.MBS_TILESET.setInstantiator(function(e){return new nc(e)}),nc.MBS_TILESET.inherit(Za.MBS_RESOURCE),nc.across=nc.MBS_TILESET.createField("across",M.INTEGER),nc.down=nc.MBS_TILESET.createField("down",M.INTEGER),nc.readableImages=nc.MBS_TILESET.createField("readableImages",M.BOOLEAN),nc.tileWidth=nc.MBS_TILESET.createField("tileWidth",M.INTEGER),nc.tileHeight=nc.MBS_TILESET.createField("tileHeight",M.INTEGER),nc.tiles=nc.MBS_TILESET.createField("tiles",M.LIST))},nc.new_MbsTileset_list=function(e){return new cb(e,nc.MBS_TILESET,new nc(e))},nc.__super__=Za,nc.prototype=x(Za.prototype,{getMbsType:function(){return nc.MBS_TILESET},_tiles:null,allocateNew:function(){this.setAddress(this.data.allocate(nc.MBS_TILESET.getSize()))},getAcross:function(){return this.data.readInt(this.address+nc.across.address)},setAcross:function(e){this.data.writeInt(this.address+nc.across.address,e)},getDown:function(){return this.data.readInt(this.address+nc.down.address)},setDown:function(e){this.data.writeInt(this.address+nc.down.address,e)},getReadableImages:function(){return this.data.readBool(this.address+nc.readableImages.address)},setReadableImages:function(e){this.data.writeBool(this.address+nc.readableImages.address,e)},getTileWidth:function(){return this.data.readInt(this.address+nc.tileWidth.address)},setTileWidth:function(e){this.data.writeInt(this.address+nc.tileWidth.address,e)},getTileHeight:function(){return this.data.readInt(this.address+nc.tileHeight.address)},setTileHeight:function(e){this.data.writeInt(this.address+nc.tileHeight.address,e)},getTiles:function(){return this._tiles.setAddress(this.data.readInt(this.address+nc.tiles.address)),this._tiles},createTiles:function(e){return this._tiles.allocateNew(e),this.data.writeInt(this.address+nc.tiles.address,this._tiles.getAddress()),this._tiles},__class__:nc});var xe=function(e){this.data=e};k["com.stencyl.io.mbs.scene.layers.MbsColorBackground"]=xe,xe.__name__="com.stencyl.io.mbs.scene.layers.MbsColorBackground",xe.initializeType=function(){null==xe.MBS_COLOR_BACKGROUND&&(xe.MBS_COLOR_BACKGROUND=new Cb("MbsColorBackground"),xe.MBS_COLOR_BACKGROUND.setInstantiator(function(e){return new xe(e)}),xe.color=xe.MBS_COLOR_BACKGROUND.createField("color",M.INTEGER))},xe.new_MbsColorBackground_list=function(e){return new cb(e,xe.MBS_COLOR_BACKGROUND,new xe(e))},xe.__super__=lb,xe.prototype=x(lb.prototype,{getMbsType:function(){return xe.MBS_COLOR_BACKGROUND},allocateNew:function(){this.setAddress(this.data.allocate(xe.MBS_COLOR_BACKGROUND.getSize()))},getColor:function(){return this.data.readInt(this.address+xe.color.address)},setColor:function(e){this.data.writeInt(this.address+xe.color.address,e)},__class__:xe});var Od=function(e){this.data=e};k["com.stencyl.io.mbs.scene.layers.MbsGradientBackground"]=Od,Od.__name__="com.stencyl.io.mbs.scene.layers.MbsGradientBackground",Od.initializeType=function(){null==Od.MBS_GRADIENT_BACKGROUND&&(Od.MBS_GRADIENT_BACKGROUND=new Cb("MbsGradientBackground"),Od.MBS_GRADIENT_BACKGROUND.setInstantiator(function(e){return new Od(e)}),Od.color1=Od.MBS_GRADIENT_BACKGROUND.createField("color1",M.INTEGER),Od.color2=Od.MBS_GRADIENT_BACKGROUND.createField("color2",M.INTEGER))},Od.new_MbsGradientBackground_list=function(e){return new cb(e,Od.MBS_GRADIENT_BACKGROUND,new Od(e))},Od.__super__=lb,Od.prototype=x(lb.prototype,{getMbsType:function(){return Od.MBS_GRADIENT_BACKGROUND},allocateNew:function(){this.setAddress(this.data.allocate(Od.MBS_GRADIENT_BACKGROUND.getSize()))},getColor1:function(){return this.data.readInt(this.address+Od.color1.address)},setColor1:function(e){this.data.writeInt(this.address+Od.color1.address,e)},getColor2:function(){return this.data.readInt(this.address+Od.color2.address)},setColor2:function(e){this.data.writeInt(this.address+Od.color2.address,e)},__class__:Od});var xb=function(e){this.data=e};k["com.stencyl.io.mbs.scene.layers.MbsLayer"]=xb,xb.__name__="com.stencyl.io.mbs.scene.layers.MbsLayer",xb.initializeType=function(){null==xb.MBS_LAYER&&(xb.MBS_LAYER=new Cb("MbsLayer"),xb.MBS_LAYER.setInstantiator(function(e){return new xb(e)}),xb.id=xb.MBS_LAYER.createField("id",M.INTEGER),xb.$name=xb.MBS_LAYER.createField("name",M.STRING),xb.order=xb.MBS_LAYER.createField("order",M.INTEGER),xb.opacity=xb.MBS_LAYER.createField("opacity",M.INTEGER),xb.blendmode=xb.MBS_LAYER.createField("blendmode",M.STRING),xb.scrollFactorX=xb.MBS_LAYER.createField("scrollFactorX",M.FLOAT),xb.scrollFactorY=xb.MBS_LAYER.createField("scrollFactorY",M.FLOAT),xb.visible=xb.MBS_LAYER.createField("visible",M.BOOLEAN),xb.locked=xb.MBS_LAYER.createField("locked",M.BOOLEAN))},xb.new_MbsLayer_list=function(e){return new cb(e,xb.MBS_LAYER,new xb(e))},xb.__super__=lb,xb.prototype=x(lb.prototype,{getMbsType:function(){return xb.MBS_LAYER},allocateNew:function(){this.setAddress(this.data.allocate(xb.MBS_LAYER.getSize()))},getId:function(){return this.data.readInt(this.address+xb.id.address)},setId:function(e){this.data.writeInt(this.address+xb.id.address,e)},getName:function(){return this.data.readString(this.address+xb.$name.address)},setName:function(e){this.data.writeString(this.address+xb.$name.address,e)},getOrder:function(){return this.data.readInt(this.address+xb.order.address)},setOrder:function(e){this.data.writeInt(this.address+xb.order.address,e)},getOpacity:function(){return this.data.readInt(this.address+xb.opacity.address)},setOpacity:function(e){this.data.writeInt(this.address+xb.opacity.address,e)},getBlendmode:function(){return this.data.readString(this.address+xb.blendmode.address)},setBlendmode:function(e){this.data.writeString(this.address+xb.blendmode.address,e)},getScrollFactorX:function(){return this.data.readFloat(this.address+xb.scrollFactorX.address)},setScrollFactorX:function(e){this.data.writeFloat(this.address+xb.scrollFactorX.address,e)},getScrollFactorY:function(){return this.data.readFloat(this.address+xb.scrollFactorY.address)},setScrollFactorY:function(e){this.data.writeFloat(this.address+xb.scrollFactorY.address,e)},getVisible:function(){return this.data.readBool(this.address+xb.visible.address)},setVisible:function(e){this.data.writeBool(this.address+xb.visible.address,e)},getLocked:function(){return this.data.readBool(this.address+xb.locked.address)},setLocked:function(e){this.data.writeBool(this.address+xb.locked.address,e)},__class__:xb});var Pd=function(e){this.data=e};k["com.stencyl.io.mbs.scene.layers.MbsImageBackground"]=Pd,Pd.__name__="com.stencyl.io.mbs.scene.layers.MbsImageBackground",Pd.initializeType=function(){null==Pd.MBS_IMAGE_BACKGROUND&&(xb.initializeType(),Pd.MBS_IMAGE_BACKGROUND=new Cb("MbsImageBackground"),Pd.MBS_IMAGE_BACKGROUND.setInstantiator(function(e){return new Pd(e)}),Pd.MBS_IMAGE_BACKGROUND.inherit(xb.MBS_LAYER),Pd.resourceID=Pd.MBS_IMAGE_BACKGROUND.createField("resourceID",M.INTEGER),Pd.customScroll=Pd.MBS_IMAGE_BACKGROUND.createField("customScroll",M.BOOLEAN))},Pd.new_MbsImageBackground_list=function(e){return new cb(e,Pd.MBS_IMAGE_BACKGROUND,new Pd(e))},Pd.__super__=xb,Pd.prototype=x(xb.prototype,{getMbsType:function(){return Pd.MBS_IMAGE_BACKGROUND},allocateNew:function(){this.setAddress(this.data.allocate(Pd.MBS_IMAGE_BACKGROUND.getSize()))},getResourceID:function(){return this.data.readInt(this.address+Pd.resourceID.address)},setResourceID:function(e){this.data.writeInt(this.address+Pd.resourceID.address,e)},getCustomScroll:function(){return this.data.readBool(this.address+Pd.customScroll.address)},setCustomScroll:function(e){this.data.writeBool(this.address+Pd.customScroll.address,e)},__class__:Pd});var ye=function(e){this.data=e};k["com.stencyl.io.mbs.scene.layers.MbsInteractiveLayer"]=ye,ye.__name__="com.stencyl.io.mbs.scene.layers.MbsInteractiveLayer",ye.initializeType=function(){null==ye.MBS_INTERACTIVE_LAYER&&(xb.initializeType(),ye.MBS_INTERACTIVE_LAYER=new Cb("MbsInteractiveLayer"),ye.MBS_INTERACTIVE_LAYER.setInstantiator(function(e){return new ye(e)}),ye.MBS_INTERACTIVE_LAYER.inherit(xb.MBS_LAYER),ye.color=ye.MBS_INTERACTIVE_LAYER.createField("color",M.INTEGER))},ye.new_MbsInteractiveLayer_list=function(e){return new cb(e,ye.MBS_INTERACTIVE_LAYER,new ye(e))},ye.__super__=xb,ye.prototype=x(xb.prototype,{getMbsType:function(){return ye.MBS_INTERACTIVE_LAYER},allocateNew:function(){this.setAddress(this.data.allocate(ye.MBS_INTERACTIVE_LAYER.getSize()))},getColor:function(){return this.data.readInt(this.address+ye.color.address)},setColor:function(e){this.data.writeInt(this.address+ye.color.address,e)},__class__:ye});var $b=function(e){this.data=e};k["com.stencyl.io.mbs.scene.physics.MbsJoint"]=$b,$b.__name__="com.stencyl.io.mbs.scene.physics.MbsJoint",$b.initializeType=function(){null==$b.MBS_JOINT&&($b.MBS_JOINT=new Cb("MbsJoint"),$b.MBS_JOINT.setInstantiator(function(e){return new $b(e)}),$b.id=$b.MBS_JOINT.createField("id",M.INTEGER),$b.$name=$b.MBS_JOINT.createField("name",M.STRING),$b.actor1=$b.MBS_JOINT.createField("actor1",M.INTEGER),$b.actor2=$b.MBS_JOINT.createField("actor2",M.INTEGER),$b.collide=$b.MBS_JOINT.createField("collide",M.BOOLEAN))},$b.new_MbsJoint_list=function(e){return new cb(e,$b.MBS_JOINT,new $b(e))},$b.__super__=lb,$b.prototype=x(lb.prototype,{getMbsType:function(){return $b.MBS_JOINT},allocateNew:function(){this.setAddress(this.data.allocate($b.MBS_JOINT.getSize()))},getId:function(){return this.data.readInt(this.address+$b.id.address)},setId:function(e){this.data.writeInt(this.address+$b.id.address,e)},getName:function(){return this.data.readString(this.address+$b.$name.address)},setName:function(e){this.data.writeString(this.address+$b.$name.address,e)},getActor1:function(){return this.data.readInt(this.address+$b.actor1.address)},setActor1:function(e){this.data.writeInt(this.address+$b.actor1.address,e)},getActor2:function(){return this.data.readInt(this.address+$b.actor2.address)},setActor2:function(e){this.data.writeInt(this.address+$b.actor2.address,e)},getCollide:function(){return this.data.readBool(this.address+$b.collide.address)},setCollide:function(e){this.data.writeBool(this.address+$b.collide.address,e)},__class__:$b});var qc=function(e){this.data=e};k["com.stencyl.io.mbs.scene.physics.MbsHingeJoint"]=qc,qc.__name__="com.stencyl.io.mbs.scene.physics.MbsHingeJoint",qc.initializeType=function(){null==qc.MBS_HINGE_JOINT&&($b.initializeType(),qc.MBS_HINGE_JOINT=new Cb("MbsHingeJoint"),qc.MBS_HINGE_JOINT.setInstantiator(function(e){return new qc(e)}),qc.MBS_HINGE_JOINT.inherit($b.MBS_JOINT),qc.limit=qc.MBS_HINGE_JOINT.createField("limit",M.BOOLEAN),qc.motor=qc.MBS_HINGE_JOINT.createField("motor",M.BOOLEAN),qc.lower=qc.MBS_HINGE_JOINT.createField("lower",M.FLOAT),qc.upper=qc.MBS_HINGE_JOINT.createField("upper",M.FLOAT),qc.torque=qc.MBS_HINGE_JOINT.createField("torque",M.FLOAT),qc.speed=qc.MBS_HINGE_JOINT.createField("speed",M.FLOAT))},qc.new_MbsHingeJoint_list=function(e){return new cb(e,qc.MBS_HINGE_JOINT,new qc(e))},qc.__super__=$b,qc.prototype=x($b.prototype,{getMbsType:function(){return qc.MBS_HINGE_JOINT},allocateNew:function(){this.setAddress(this.data.allocate(qc.MBS_HINGE_JOINT.getSize()))},getLimit:function(){return this.data.readBool(this.address+qc.limit.address)},setLimit:function(e){this.data.writeBool(this.address+qc.limit.address,e)},getMotor:function(){return this.data.readBool(this.address+qc.motor.address)},setMotor:function(e){this.data.writeBool(this.address+qc.motor.address,e)},getLower:function(){return this.data.readFloat(this.address+qc.lower.address)},setLower:function(e){this.data.writeFloat(this.address+qc.lower.address,e)},getUpper:function(){return this.data.readFloat(this.address+qc.upper.address)},setUpper:function(e){this.data.writeFloat(this.address+qc.upper.address,e)},getTorque:function(){return this.data.readFloat(this.address+qc.torque.address)},setTorque:function(e){this.data.writeFloat(this.address+qc.torque.address,e)},getSpeed:function(){return this.data.readFloat(this.address+qc.speed.address)},setSpeed:function(e){this.data.writeFloat(this.address+qc.speed.address,e)},__class__:qc});var ac=function(e){this.data=e};k["com.stencyl.io.mbs.scene.physics.MbsRegion"]=ac,ac.__name__="com.stencyl.io.mbs.scene.physics.MbsRegion",ac.initializeType=function(){null==ac.MBS_REGION&&(ac.MBS_REGION=new Cb("MbsRegion"),ac.MBS_REGION.setInstantiator(function(e){return new ac(e)}),ac.color=ac.MBS_REGION.createField("color",M.INTEGER),ac.id=ac.MBS_REGION.createField("id",M.INTEGER),ac.$name=ac.MBS_REGION.createField("name",M.STRING),ac.shape=ac.MBS_REGION.createField("shape",M.DYNAMIC),ac.x=ac.MBS_REGION.createField("x",M.INTEGER),ac.y=ac.MBS_REGION.createField("y",M.INTEGER))},ac.new_MbsRegion_list=function(e){return new cb(e,ac.MBS_REGION,new ac(e))},ac.__super__=lb,ac.prototype=x(lb.prototype,{getMbsType:function(){return ac.MBS_REGION},allocateNew:function(){this.setAddress(this.data.allocate(ac.MBS_REGION.getSize()))},getColor:function(){return this.data.readInt(this.address+ac.color.address)},setColor:function(e){this.data.writeInt(this.address+ac.color.address,e)},getId:function(){return this.data.readInt(this.address+ac.id.address)},setId:function(e){this.data.writeInt(this.address+ac.id.address,e)},getName:function(){return this.data.readString(this.address+ac.$name.address)},setName:function(e){this.data.writeString(this.address+ac.$name.address,e)},getShape:function(){return we.readDynamic(this.data,this.address+ac.shape.address)},setShape:function(e){we.writeDynamic(this.data,this.address+ac.shape.address,e)},getX:function(){return this.data.readInt(this.address+ac.x.address)},setX:function(e){this.data.writeInt(this.address+ac.x.address,e)},getY:function(){return this.data.readInt(this.address+ac.y.address)},setY:function(e){this.data.writeInt(this.address+ac.y.address,e)},__class__:ac});var Vb=function(e){this.data=e};k["com.stencyl.io.mbs.scene.physics.MbsSlidingJoint"]=Vb,Vb.__name__="com.stencyl.io.mbs.scene.physics.MbsSlidingJoint",Vb.initializeType=function(){null==Vb.MBS_SLIDING_JOINT&&($b.initializeType(),Vb.MBS_SLIDING_JOINT=new Cb("MbsSlidingJoint"),Vb.MBS_SLIDING_JOINT.setInstantiator(function(e){return new Vb(e)}),Vb.MBS_SLIDING_JOINT.inherit($b.MBS_JOINT),Vb.limit=Vb.MBS_SLIDING_JOINT.createField("limit",M.BOOLEAN),Vb.motor=Vb.MBS_SLIDING_JOINT.createField("motor",M.BOOLEAN),Vb.lower=Vb.MBS_SLIDING_JOINT.createField("lower",M.FLOAT),Vb.upper=Vb.MBS_SLIDING_JOINT.createField("upper",M.FLOAT),Vb.force=Vb.MBS_SLIDING_JOINT.createField("force",M.FLOAT),Vb.speed=Vb.MBS_SLIDING_JOINT.createField("speed",M.FLOAT),Vb.x=Vb.MBS_SLIDING_JOINT.createField("x",M.FLOAT),Vb.y=Vb.MBS_SLIDING_JOINT.createField("y",M.FLOAT))},Vb.new_MbsSlidingJoint_list=function(e){return new cb(e,Vb.MBS_SLIDING_JOINT,new Vb(e))},Vb.__super__=$b,Vb.prototype=x($b.prototype,{getMbsType:function(){return Vb.MBS_SLIDING_JOINT},allocateNew:function(){this.setAddress(this.data.allocate(Vb.MBS_SLIDING_JOINT.getSize()))},getLimit:function(){return this.data.readBool(this.address+Vb.limit.address)},setLimit:function(e){this.data.writeBool(this.address+Vb.limit.address,e)},getMotor:function(){return this.data.readBool(this.address+Vb.motor.address)},setMotor:function(e){this.data.writeBool(this.address+Vb.motor.address,e)},getLower:function(){return this.data.readFloat(this.address+Vb.lower.address)},setLower:function(e){this.data.writeFloat(this.address+Vb.lower.address,e)},getUpper:function(){return this.data.readFloat(this.address+Vb.upper.address)},setUpper:function(e){this.data.writeFloat(this.address+Vb.upper.address,e)},getForce:function(){return this.data.readFloat(this.address+Vb.force.address)},setForce:function(e){this.data.writeFloat(this.address+Vb.force.address,e)},getSpeed:function(){return this.data.readFloat(this.address+Vb.speed.address)},setSpeed:function(e){this.data.writeFloat(this.address+Vb.speed.address,e)},getX:function(){return this.data.readFloat(this.address+Vb.x.address)},setX:function(e){this.data.writeFloat(this.address+Vb.x.address,e)},getY:function(){return this.data.readFloat(this.address+Vb.y.address)},setY:function(e){this.data.writeFloat(this.address+Vb.y.address,e)},__class__:Vb});var Qd=function(e){this.data=e};k["com.stencyl.io.mbs.scene.physics.MbsStickJoint"]=Qd,Qd.__name__="com.stencyl.io.mbs.scene.physics.MbsStickJoint",Qd.initializeType=function(){null==Qd.MBS_STICK_JOINT&&($b.initializeType(),Qd.MBS_STICK_JOINT=new Cb("MbsStickJoint"),Qd.MBS_STICK_JOINT.setInstantiator(function(e){return new Qd(e)}),Qd.MBS_STICK_JOINT.inherit($b.MBS_JOINT),Qd.damping=Qd.MBS_STICK_JOINT.createField("damping",M.FLOAT),Qd.frequency=Qd.MBS_STICK_JOINT.createField("frequency",M.FLOAT))},Qd.new_MbsStickJoint_list=function(e){return new cb(e,Qd.MBS_STICK_JOINT,new Qd(e))},Qd.__super__=$b,Qd.prototype=x($b.prototype,{getMbsType:function(){return Qd.MBS_STICK_JOINT},allocateNew:function(){this.setAddress(this.data.allocate(Qd.MBS_STICK_JOINT.getSize()))},getDamping:function(){return this.data.readFloat(this.address+Qd.damping.address)},setDamping:function(e){this.data.writeFloat(this.address+Qd.damping.address,e)},getFrequency:function(){return this.data.readFloat(this.address+Qd.frequency.address)},setFrequency:function(e){this.data.writeFloat(this.address+Qd.frequency.address,e)},__class__:Qd});var qe=function(e){this.data=e};k["com.stencyl.io.mbs.scene.physics.MbsTerrainRegion"]=qe,qe.__name__="com.stencyl.io.mbs.scene.physics.MbsTerrainRegion",qe.initializeType=function(){null==qe.MBS_TERRAIN_REGION&&(ac.initializeType(),qe.MBS_TERRAIN_REGION=new Cb("MbsTerrainRegion"),qe.MBS_TERRAIN_REGION.setInstantiator(function(e){return new qe(e)}),qe.MBS_TERRAIN_REGION.inherit(ac.MBS_REGION),qe.groupID=qe.MBS_TERRAIN_REGION.createField("groupID",M.INTEGER))},qe.new_MbsTerrainRegion_list=function(e){return new cb(e,qe.MBS_TERRAIN_REGION,new qe(e))},qe.__super__=ac,qe.prototype=x(ac.prototype,{getMbsType:function(){return qe.MBS_TERRAIN_REGION},allocateNew:function(){this.setAddress(this.data.allocate(qe.MBS_TERRAIN_REGION.getSize()))},getGroupID:function(){return this.data.readInt(this.address+qe.groupID.address)},setGroupID:function(e){this.data.writeInt(this.address+qe.groupID.address,e)},__class__:qe});var ke=function(e){this.data=e};k["com.stencyl.io.mbs.shape.MbsShape"]=ke,ke.__name__="com.stencyl.io.mbs.shape.MbsShape",ke.initializeType=function(){null==ke.MBS_SHAPE&&(ke.MBS_SHAPE=new Cb("MbsShape"),ke.MBS_SHAPE.setInstantiator(function(e){return new ke(e)}))},ke.new_MbsShape_list=function(e){return new cb(e,ke.MBS_SHAPE,new ke(e))},ke.__super__=lb,ke.prototype=x(lb.prototype,{getMbsType:function(){return ke.MBS_SHAPE},allocateNew:function(){this.setAddress(this.data.allocate(ke.MBS_SHAPE.getSize()))},__class__:ke});var Zd=function(e){this.data=e,this._position=new zc(e)};k["com.stencyl.io.mbs.shape.MbsCircle"]=Zd,Zd.__name__="com.stencyl.io.mbs.shape.MbsCircle",Zd.initializeType=function(){null==Zd.MBS_CIRCLE&&(ke.initializeType(),Zd.MBS_CIRCLE=new Cb("MbsCircle"),Zd.MBS_CIRCLE.setInstantiator(function(e){return new Zd(e)}),Zd.MBS_CIRCLE.inherit(ke.MBS_SHAPE),Zd.position=Zd.MBS_CIRCLE.createField("position",zc.MBS_POINT),Zd.radius=Zd.MBS_CIRCLE.createField("radius",M.FLOAT))},Zd.new_MbsCircle_list=function(e){return new cb(e,Zd.MBS_CIRCLE,new Zd(e))},Zd.__super__=ke,Zd.prototype=x(ke.prototype,{getMbsType:function(){return Zd.MBS_CIRCLE},_position:null,allocateNew:function(){this.setAddress(this.data.allocate(Zd.MBS_CIRCLE.getSize()))},getPosition:function(){return this._position.setAddress(this.address+Zd.position.address),this._position},getRadius:function(){return this.data.readFloat(this.address+Zd.radius.address)},setRadius:function(e){this.data.writeFloat(this.address+Zd.radius.address,e)},__class__:Zd});var zc=function(e){this.data=e};k["com.stencyl.io.mbs.shape.MbsPoint"]=zc,zc.__name__="com.stencyl.io.mbs.shape.MbsPoint",zc.initializeType=function(){null==zc.MBS_POINT&&(zc.MBS_POINT=new Cb("MbsPoint"),zc.MBS_POINT.setInstantiator(function(e){return new zc(e)}),zc.x=zc.MBS_POINT.createField("x",M.FLOAT),zc.y=zc.MBS_POINT.createField("y",M.FLOAT))},zc.new_MbsPoint_list=function(e){return new cb(e,zc.MBS_POINT,new zc(e))},zc.__super__=lb,zc.prototype=x(lb.prototype,{getMbsType:function(){return zc.MBS_POINT},allocateNew:function(){this.setAddress(this.data.allocate(zc.MBS_POINT.getSize()))},getX:function(){return this.data.readFloat(this.address+zc.x.address)},setX:function(e){this.data.writeFloat(this.address+zc.x.address,e)},getY:function(){return this.data.readFloat(this.address+zc.y.address)},setY:function(e){this.data.writeFloat(this.address+zc.y.address,e)},__class__:zc});var cd=function(e){this.data=e,this._points=new cb(e,zc.MBS_POINT,new zc(e))};k["com.stencyl.io.mbs.shape.MbsPolygon"]=cd,cd.__name__="com.stencyl.io.mbs.shape.MbsPolygon",cd.initializeType=function(){null==cd.MBS_POLYGON&&(ke.initializeType(),cd.MBS_POLYGON=new Cb("MbsPolygon"),cd.MBS_POLYGON.setInstantiator(function(e){return new cd(e)}),cd.MBS_POLYGON.inherit(ke.MBS_SHAPE),cd.points=cd.MBS_POLYGON.createField("points",M.LIST))},cd.new_MbsPolygon_list=function(e){return new cb(e,cd.MBS_POLYGON,new cd(e))},cd.__super__=ke,cd.prototype=x(ke.prototype,{getMbsType:function(){return cd.MBS_POLYGON},_points:null,allocateNew:function(){this.setAddress(this.data.allocate(cd.MBS_POLYGON.getSize()))},getPoints:function(){return this._points.setAddress(this.data.readInt(this.address+cd.points.address)),this._points},createPoints:function(e){return this._points.allocateNew(e),this.data.writeInt(this.address+cd.points.address,this._points.getAddress()),this._points},__class__:cd});var Gd=function(e){cd.call(this,e)};k["com.stencyl.io.mbs.shape.MbsPolyRegion"]=Gd,Gd.__name__="com.stencyl.io.mbs.shape.MbsPolyRegion",Gd.initializeType=function(){null==Gd.MBS_POLY_REGION&&(cd.initializeType(),Gd.MBS_POLY_REGION=new Cb("MbsPolyRegion"),Gd.MBS_POLY_REGION.setInstantiator(function(e){return new Gd(e)}),Gd.MBS_POLY_REGION.inherit(cd.MBS_POLYGON),Gd.width=Gd.MBS_POLY_REGION.createField("width",M.INTEGER),Gd.height=Gd.MBS_POLY_REGION.createField("height",M.INTEGER))},Gd.new_MbsPolyRegion_list=function(e){return new cb(e,Gd.MBS_POLY_REGION,new Gd(e))},Gd.__super__=cd,Gd.prototype=x(cd.prototype,{getMbsType:function(){return Gd.MBS_POLY_REGION},allocateNew:function(){this.setAddress(this.data.allocate(Gd.MBS_POLY_REGION.getSize()))},getWidth:function(){return this.data.readInt(this.address+Gd.width.address)},setWidth:function(e){this.data.writeInt(this.address+Gd.width.address,e)},getHeight:function(){return this.data.readInt(this.address+Gd.height.address)},setHeight:function(e){this.data.writeInt(this.address+Gd.height.address,e)},__class__:Gd});var ze=function(e){cd.call(this,e),this._position=new zc(e)};k["com.stencyl.io.mbs.shape.MbsWireframe"]=ze,ze.__name__="com.stencyl.io.mbs.shape.MbsWireframe",ze.initializeType=function(){null==ze.MBS_WIREFRAME&&(cd.initializeType(),ze.MBS_WIREFRAME=new Cb("MbsWireframe"),ze.MBS_WIREFRAME.setInstantiator(function(e){return new ze(e)}),ze.MBS_WIREFRAME.inherit(cd.MBS_POLYGON),ze.position=ze.MBS_WIREFRAME.createField("position",zc.MBS_POINT))},ze.new_MbsWireframe_list=function(e){return new cb(e,ze.MBS_WIREFRAME,new ze(e))},ze.__super__=cd,ze.prototype=x(cd.prototype,{getMbsType:function(){return ze.MBS_WIREFRAME},_position:null,allocateNew:function(){this.setAddress(this.data.allocate(ze.MBS_WIREFRAME.getSize()))},getPosition:function(){return this._position.setAddress(this.address+ze.position.address),this._position},__class__:ze});var pd=function(e){this.data=e};k["com.stencyl.io.mbs.snippet.MbsAttribute"]=pd,pd.__name__="com.stencyl.io.mbs.snippet.MbsAttribute",pd.initializeType=function(){null==pd.MBS_ATTRIBUTE&&(pd.MBS_ATTRIBUTE=new Cb("MbsAttribute"),pd.MBS_ATTRIBUTE.setInstantiator(function(e){return new pd(e)}),pd.id=pd.MBS_ATTRIBUTE.createField("id",M.INTEGER),pd.type=pd.MBS_ATTRIBUTE.createField("type",M.STRING),pd.value=pd.MBS_ATTRIBUTE.createField("value",M.DYNAMIC))},pd.new_MbsAttribute_list=function(e){return new cb(e,pd.MBS_ATTRIBUTE,new pd(e))},pd.__super__=lb,pd.prototype=x(lb.prototype,{getMbsType:function(){return pd.MBS_ATTRIBUTE},allocateNew:function(){this.setAddress(this.data.allocate(pd.MBS_ATTRIBUTE.getSize()))},getId:function(){return this.data.readInt(this.address+pd.id.address)},setId:function(e){this.data.writeInt(this.address+pd.id.address,e)},getType:function(){return this.data.readString(this.address+pd.type.address)},setType:function(e){this.data.writeString(this.address+pd.type.address,e)},getValue:function(){return we.readDynamic(this.data,this.address+pd.value.address)},setValue:function(e){we.writeDynamic(this.data,this.address+pd.value.address,e)},__class__:pd});var Ib=function(e){this.data=e};k["com.stencyl.io.mbs.snippet.MbsAttributeDef"]=Ib,Ib.__name__="com.stencyl.io.mbs.snippet.MbsAttributeDef",Ib.initializeType=function(){null==Ib.MBS_ATTRIBUTE_DEF&&(Ib.MBS_ATTRIBUTE_DEF=new Cb("MbsAttributeDef"),Ib.MBS_ATTRIBUTE_DEF.setInstantiator(function(e){return new Ib(e)}),Ib.type=Ib.MBS_ATTRIBUTE_DEF.createField("type",M.STRING),Ib.defaultValue=Ib.MBS_ATTRIBUTE_DEF.createField("defaultValue",M.DYNAMIC),Ib.description=Ib.MBS_ATTRIBUTE_DEF.createField("description",M.STRING),Ib.dropdown=Ib.MBS_ATTRIBUTE_DEF.createField("dropdown",M.STRING),Ib.fullname=Ib.MBS_ATTRIBUTE_DEF.createField("fullname",M.STRING),Ib.hidden=Ib.MBS_ATTRIBUTE_DEF.createField("hidden",M.BOOLEAN),Ib.id=Ib.MBS_ATTRIBUTE_DEF.createField("id",M.INTEGER),Ib.$name=Ib.MBS_ATTRIBUTE_DEF.createField("name",M.STRING),Ib.order=Ib.MBS_ATTRIBUTE_DEF.createField("order",M.INTEGER))},Ib.new_MbsAttributeDef_list=function(e){return new cb(e,Ib.MBS_ATTRIBUTE_DEF,new Ib(e))},Ib.__super__=lb,Ib.prototype=x(lb.prototype,{getMbsType:function(){return Ib.MBS_ATTRIBUTE_DEF},allocateNew:function(){this.setAddress(this.data.allocate(Ib.MBS_ATTRIBUTE_DEF.getSize()))},getType:function(){return this.data.readString(this.address+Ib.type.address)},setType:function(e){this.data.writeString(this.address+Ib.type.address,e)},getDefaultValue:function(){return we.readDynamic(this.data,this.address+Ib.defaultValue.address)},setDefaultValue:function(e){we.writeDynamic(this.data,this.address+Ib.defaultValue.address,e)},getDescription:function(){return this.data.readString(this.address+Ib.description.address)},setDescription:function(e){this.data.writeString(this.address+Ib.description.address,e)},getDropdown:function(){return this.data.readString(this.address+Ib.dropdown.address)},setDropdown:function(e){this.data.writeString(this.address+Ib.dropdown.address,e)},getFullname:function(){return this.data.readString(this.address+Ib.fullname.address)},setFullname:function(e){this.data.writeString(this.address+Ib.fullname.address,e)},getHidden:function(){return this.data.readBool(this.address+Ib.hidden.address)},setHidden:function(e){this.data.writeBool(this.address+Ib.hidden.address,e)},getId:function(){return this.data.readInt(this.address+Ib.id.address)},setId:function(e){this.data.writeInt(this.address+Ib.id.address,e)},getName:function(){return this.data.readString(this.address+Ib.$name.address)},setName:function(e){this.data.writeString(this.address+Ib.$name.address,e)},getOrder:function(){return this.data.readInt(this.address+Ib.order.address)},setOrder:function(e){this.data.writeInt(this.address+Ib.order.address,e)},__class__:Ib});var od=function(e){this.data=e};k["com.stencyl.io.mbs.snippet.MbsBlock"]=od,od.__name__="com.stencyl.io.mbs.snippet.MbsBlock",od.initializeType=function(){null==od.MBS_BLOCK&&(od.MBS_BLOCK=new Cb("MbsBlock"),od.MBS_BLOCK.setInstantiator(function(e){return new od(e)}),od.type=od.MBS_BLOCK.createField("type",M.STRING),od.id=od.MBS_BLOCK.createField("id",M.INTEGER),od.blockID=od.MBS_BLOCK.createField("blockID",M.INTEGER))},od.new_MbsBlock_list=function(e){return new cb(e,od.MBS_BLOCK,new od(e))},od.__super__=lb,od.prototype=x(lb.prototype,{getMbsType:function(){return od.MBS_BLOCK},allocateNew:function(){this.setAddress(this.data.allocate(od.MBS_BLOCK.getSize()))},getType:function(){return this.data.readString(this.address+od.type.address)},setType:function(e){this.data.writeString(this.address+od.type.address,e)},getId:function(){return this.data.readInt(this.address+od.id.address)},setId:function(e){this.data.writeInt(this.address+od.id.address,e)},getBlockID:function(){return this.data.readInt(this.address+od.blockID.address)},setBlockID:function(e){this.data.writeInt(this.address+od.blockID.address,e)},__class__:od});var jc=function(e){this.data=e};k["com.stencyl.io.mbs.snippet.MbsEvent"]=jc,jc.__name__="com.stencyl.io.mbs.snippet.MbsEvent",jc.initializeType=function(){null==jc.MBS_EVENT&&(jc.MBS_EVENT=new Cb("MbsEvent"),jc.MBS_EVENT.setInstantiator(function(e){return new jc(e)}),jc.displayName=jc.MBS_EVENT.createField("displayName",M.STRING),jc.enabled=jc.MBS_EVENT.createField("enabled",M.BOOLEAN),jc.id=jc.MBS_EVENT.createField("id",M.INTEGER),jc.$name=jc.MBS_EVENT.createField("name",M.STRING),jc.order=jc.MBS_EVENT.createField("order",M.INTEGER),jc.repeats=jc.MBS_EVENT.createField("repeats",M.BOOLEAN))},jc.new_MbsEvent_list=function(e){return new cb(e,jc.MBS_EVENT,new jc(e))},jc.__super__=lb,jc.prototype=x(lb.prototype,{getMbsType:function(){return jc.MBS_EVENT},allocateNew:function(){this.setAddress(this.data.allocate(jc.MBS_EVENT.getSize()))},getDisplayName:function(){return this.data.readString(this.address+jc.displayName.address)},setDisplayName:function(e){this.data.writeString(this.address+jc.displayName.address,e)},getEnabled:function(){return this.data.readBool(this.address+jc.enabled.address)},setEnabled:function(e){this.data.writeBool(this.address+jc.enabled.address,e)},getId:function(){return this.data.readInt(this.address+jc.id.address)},setId:function(e){this.data.writeInt(this.address+jc.id.address,e)},getName:function(){return this.data.readString(this.address+jc.$name.address)},setName:function(e){this.data.writeString(this.address+jc.$name.address,e)},getOrder:function(){return this.data.readInt(this.address+jc.order.address)},setOrder:function(e){this.data.writeInt(this.address+jc.order.address,e)},getRepeats:function(){return this.data.readBool(this.address+jc.repeats.address)},setRepeats:function(e){this.data.writeBool(this.address+jc.repeats.address,e)},__class__:jc});var Rd=function(e){this.data=e};k["com.stencyl.io.mbs.snippet.MbsMapElement"]=Rd,Rd.__name__="com.stencyl.io.mbs.snippet.MbsMapElement",Rd.initializeType=function(){null==Rd.MBS_MAP_ELEMENT&&(Rd.MBS_MAP_ELEMENT=new Cb("MbsMapElement"),Rd.MBS_MAP_ELEMENT.setInstantiator(function(e){return new Rd(e)}),Rd.key=Rd.MBS_MAP_ELEMENT.createField("key",M.STRING),Rd.value=Rd.MBS_MAP_ELEMENT.createField("value",M.DYNAMIC))},Rd.new_MbsMapElement_list=function(e){return new cb(e,Rd.MBS_MAP_ELEMENT,new Rd(e))},Rd.__super__=lb,Rd.prototype=x(lb.prototype,{getMbsType:function(){return Rd.MBS_MAP_ELEMENT},allocateNew:function(){this.setAddress(this.data.allocate(Rd.MBS_MAP_ELEMENT.getSize()))},getKey:function(){return this.data.readString(this.address+Rd.key.address)},setKey:function(e){this.data.writeString(this.address+Rd.key.address,e)},getValue:function(){return we.readDynamic(this.data,this.address+Rd.value.address)},setValue:function(e){we.writeDynamic(this.data,this.address+Rd.value.address,e)},__class__:Rd});var Wc=function(e){this.data=e,this._properties=new cb(e,pd.MBS_ATTRIBUTE,new pd(e))};k["com.stencyl.io.mbs.snippet.MbsSnippet"]=Wc,Wc.__name__="com.stencyl.io.mbs.snippet.MbsSnippet",Wc.initializeType=function(){null==Wc.MBS_SNIPPET&&(Wc.MBS_SNIPPET=new Cb("MbsSnippet"),Wc.MBS_SNIPPET.setInstantiator(function(e){return new Wc(e)}),Wc.enabled=Wc.MBS_SNIPPET.createField("enabled",M.BOOLEAN),Wc.id=Wc.MBS_SNIPPET.createField("id",M.INTEGER),Wc.properties=Wc.MBS_SNIPPET.createField("properties",M.LIST))},Wc.new_MbsSnippet_list=function(e){return new cb(e,Wc.MBS_SNIPPET,new Wc(e))},Wc.__super__=lb,Wc.prototype=x(lb.prototype,{getMbsType:function(){return Wc.MBS_SNIPPET},_properties:null,allocateNew:function(){this.setAddress(this.data.allocate(Wc.MBS_SNIPPET.getSize()))},getEnabled:function(){return this.data.readBool(this.address+Wc.enabled.address)},setEnabled:function(e){this.data.writeBool(this.address+Wc.enabled.address,e)},getId:function(){return this.data.readInt(this.address+Wc.id.address)},setId:function(e){this.data.writeInt(this.address+Wc.id.address,e)},getProperties:function(){return this._properties.setAddress(this.data.readInt(this.address+Wc.properties.address)),this._properties},createProperties:function(e){return this._properties.allocateNew(e),this.data.writeInt(this.address+Wc.properties.address,this._properties.getAddress()),this._properties},__class__:Wc});var nb=function(e){this.data=e,this._attributes=new cb(e,Ib.MBS_ATTRIBUTE_DEF,new Ib(e)),this._blocks=new cb(e,od.MBS_BLOCK,new od(e)),this._events=new cb(e,jc.MBS_EVENT,new jc(e))};k["com.stencyl.io.mbs.snippet.MbsSnippetDef"]=nb,nb.__name__="com.stencyl.io.mbs.snippet.MbsSnippetDef",nb.initializeType=function(){null==nb.MBS_SNIPPET_DEF&&(nb.MBS_SNIPPET_DEF=new Cb("MbsSnippetDef"),nb.MBS_SNIPPET_DEF.setInstantiator(function(e){return new nb(e)}),nb.attachedEvent=nb.MBS_SNIPPET_DEF.createField("attachedEvent",M.BOOLEAN),nb.actorID=nb.MBS_SNIPPET_DEF.createField("actorID",M.INTEGER),nb.classname=nb.MBS_SNIPPET_DEF.createField("classname",M.STRING),nb.description=nb.MBS_SNIPPET_DEF.createField("description",M.STRING),nb.design=nb.MBS_SNIPPET_DEF.createField("design",M.BOOLEAN),nb.drawOrder=nb.MBS_SNIPPET_DEF.createField("drawOrder",M.INTEGER),nb.id=nb.MBS_SNIPPET_DEF.createField("id",M.INTEGER),nb.$name=nb.MBS_SNIPPET_DEF.createField("name",M.STRING),nb.packageName=nb.MBS_SNIPPET_DEF.createField("packageName",M.STRING),nb.sceneID=nb.MBS_SNIPPET_DEF.createField("sceneID",M.INTEGER),nb.type=nb.MBS_SNIPPET_DEF.createField("type",M.STRING),nb.attributes=nb.MBS_SNIPPET_DEF.createField("attributes",M.LIST),nb.blocks=nb.MBS_SNIPPET_DEF.createField("blocks",M.LIST),nb.events=nb.MBS_SNIPPET_DEF.createField("events",M.LIST))},nb.new_MbsSnippetDef_list=function(e){return new cb(e,nb.MBS_SNIPPET_DEF,new nb(e))},nb.__super__=lb,nb.prototype=x(lb.prototype,{getMbsType:function(){return nb.MBS_SNIPPET_DEF},_attributes:null,_blocks:null,_events:null,allocateNew:function(){this.setAddress(this.data.allocate(nb.MBS_SNIPPET_DEF.getSize()))},getAttachedEvent:function(){return this.data.readBool(this.address+nb.attachedEvent.address)},setAttachedEvent:function(e){this.data.writeBool(this.address+nb.attachedEvent.address,e)},getActorID:function(){return this.data.readInt(this.address+nb.actorID.address)},setActorID:function(e){this.data.writeInt(this.address+nb.actorID.address,e)},getClassname:function(){return this.data.readString(this.address+nb.classname.address)},setClassname:function(e){this.data.writeString(this.address+nb.classname.address,e)},getDescription:function(){return this.data.readString(this.address+nb.description.address)},setDescription:function(e){this.data.writeString(this.address+nb.description.address,e)},getDesign:function(){return this.data.readBool(this.address+nb.design.address)},setDesign:function(e){this.data.writeBool(this.address+nb.design.address,e)},getDrawOrder:function(){return this.data.readInt(this.address+nb.drawOrder.address)},setDrawOrder:function(e){this.data.writeInt(this.address+nb.drawOrder.address,e)},getId:function(){return this.data.readInt(this.address+nb.id.address)},setId:function(e){this.data.writeInt(this.address+nb.id.address,e)},getName:function(){return this.data.readString(this.address+nb.$name.address)},setName:function(e){this.data.writeString(this.address+nb.$name.address,e)},getPackageName:function(){return this.data.readString(this.address+nb.packageName.address)},setPackageName:function(e){this.data.writeString(this.address+nb.packageName.address,e)},getSceneID:function(){return this.data.readInt(this.address+nb.sceneID.address)},setSceneID:function(e){this.data.writeInt(this.address+nb.sceneID.address,e)},getType:function(){return this.data.readString(this.address+nb.type.address)},setType:function(e){this.data.writeString(this.address+nb.type.address,e)},getAttributes:function(){return this._attributes.setAddress(this.data.readInt(this.address+nb.attributes.address)),this._attributes},createAttributes:function(e){return this._attributes.allocateNew(e),this.data.writeInt(this.address+nb.attributes.address,this._attributes.getAddress()),this._attributes},getBlocks:function(){return this._blocks.setAddress(this.data.readInt(this.address+nb.blocks.address)),this._blocks},createBlocks:function(e){return this._blocks.allocateNew(e),this.data.writeInt(this.address+nb.blocks.address,this._blocks.getAddress()),this._blocks},getEvents:function(){return this._events.setAddress(this.data.readInt(this.address+nb.events.address)),this._events},createEvents:function(e){return this._events.allocateNew(e),this.data.writeInt(this.address+nb.events.address,this._events.getAddress()),this._events},__class__:nb});var Ab=function(e,i,s,n,o,l,_,h,m,f,y,g,j,$,yt,_t,xt,Tt,St,Mt){if(null==Mt&&(Mt=0),null==St&&(St=!1),null==Tt&&(Tt=!0),null==_t&&(_t=!1),null==yt&&(yt=!1),null==$&&($=!1),null==j&&(j=!1),null==h&&(h=32),null==_&&(_=32),null==l&&(l=-1),null==o&&(o=0),null==n&&(n=0),this.collisionListenerCount=0,this.customizedBehaviors=!1,this.maxMove=99999,this.minMove=3,this.moveXDistance=this.moveYDistance=0,this.moveMultiplier=.33,this.drawX=this.drawY=0,this.smoothMove=this.firstMove=this.snapOnSet=!1,this.attachedImages=null,qa.call(this),p.NO_PHYSICS&&0==Mt&&(this.physicsMode=Mt=1),this.dummy=new K,this.zero=new K(0,0),this._point=N.point,this._moveX=this._moveY=0,this.HITBOX=new Jg,this.set_shape(this.HITBOX),this instanceof Dd&&p.NO_PHYSICS&&(xt=this.HITBOX=new Qc(0|_,0|h,0,0,!1,-2),this.set_shape(xt)),this.set_x(0),this.set_y(0),this.set_rotation(0),this.realAngle=this.realY=this.realX=0,this.realScaleY=this.realScaleX=1,this.collidable=!0,this.solid=!j,this.updateMatrix=!0,this.colY=this.colX=0,this.lastScale=new ra(1,1),this.lastY=this.lastX=-1e3,this.lastAngle=0,this.tweenProps=new mq,this.tweenProps.xy.doOnUpdate(r(this,this.updateTweenXY)),this.tweenProps.angle.doOnUpdate(r(this,this.updateTweenAngle)),this.tweenProps.alpha.doOnUpdate(r(this,this.updateTweenAlpha)),this.tweenProps.realScaleXY.doOnUpdate(r(this,this.updateTweenScaleXY)),this.transformPoint=new ra(0,0),this.transformMatrix=new Fa,this.drawMatrix=new Fa,this.currOrigin=new ra(0,0),this.currOffset=new ra(0,0),this.registry=new va,this.attachedImages=[],this.physicsMode=Mt,this.autoScale=Tt,this.mouseState=this.rSpeed=this.ySpeed=this.xSpeed=0,this.isTerrainRegion=this.isRegion=this.isCamera=this.isOnScreenCache=this.lastSceneState=this.lastScreenState=!1,this.drawActor=!0,this.fixedRotation=this.continuousCollision=this.isHUD=this.alwaysSimulate=this.killLeaveScreen=!1,this.defaultGravity=this.ignoreGravity=St,this.resetOrigin=!0,this.allListeners=new Va,this.allListenerReferences=[],this.whenCreatedListeners=[],this.whenUpdatedListeners=[],this.whenDrawingListeners=[],this.whenKilledListeners=[],this.mouseOverListeners=[],this.positionListeners=[],this.collisionListeners=[],this.destroyed=this.paused=this.recycled=!1,this.set_name("Unknown"),this.ID=i,this.groupID=s,this.typeID=null!=y?y.ID:-1,this.engine=e,this.collidedList=[],this.collisions=new Re(16),this.simpleCollisions=new Re(16),this.contacts=new Re(16),this.regionContacts=new Re(16),this.collisions.reuseIterator=!0,this.simpleCollisions.reuseIterator=!0,this.contacts.reuseIterator=!0,this.regionContacts.reuseIterator=!0,this.collisionsCount=this.contactCount=0,this.handlesCollisions=!0,this.behaviors=new Pk,this.currAnimationName="",this.animationMap=new va,this.shapeMap=new va,this.originMap=new va,this.sprite=m,this.type=y,null!=m)for(i=m.animations.iterator();i.hasNext();)Tt=i.next(),this.addAnim(Tt),Tt.animID==m.defaultAnimation&&(this.defaultAnim=Tt.animName);null==Ab.recycledAnimation&&(Ab.recycledAnimation=new Ke(-1,"recyclingDefault",null,null,null,!1,!1,1,1,0,0,[10],1,1,1)),this.addAnim(Ab.recycledAnimation),null!=g&&0==Mt?(g.bullet&&(lc.m_continuousPhysics=!0),g.groupID=s,this.initFromBody(g),(s=new Jb).setAsBox(1,1),this.body.createFixture2(s,.1),this.md=new Jk,this.md.mass=g.mass,this.md.I=g.aMass,this.md.center.x=0,this.md.center.y=0,this.body.setMassData(this.md),this.bodyScale=new ra(1,1)):((null==xt||rb.typeof(xt)==Ad.TFloat)&&(xt=Ab.createBox(_,h)),null!=g&&(this.continuousCollision=g.bullet),this instanceof Dd&&(j=!0,_t=!1),this instanceof vh&&(_t=!1),null!=xt&&xt instanceof Jg?(this.set_shape(xt),this.isTerrain=!0):0==Mt&&this.initBody(s,j,$,yt,_t,xt)),this.cacheAnchor=new ra(0,0),this.switchToDefaultAnimation(),null!=m?this.setLocation(n,o):null!=xt&&xt instanceof Jg?((n=new Uc(new pa(1,1,!0,0))).set_x(_),n.set_y(h),this.addChild(n),this.cacheWidth=this.set_width(_),this.cacheHeight=this.set_height(h)):0==Mt&&this.body.setPosition(new K(p.toPhysicalUnits(n),p.toPhysicalUnits(o))),null!=f?this.customizedBehaviors=!0:null!=y&&(f=y.behaviorValues),-1!=l&&e.moveActorToLayer(this,e.getLayerById(l)),p.initBehaviors(this.behaviors,f,this,e,!1)};k["com.stencyl.models.Actor"]=Ab,Ab.__name__="com.stencyl.models.Actor",Ab.resetStatics=function(){Ab.lastCollided=null,Ab.manifold=new Ik},Ab.createBox=function(e,i){var s=new Jb;return s.setAsBox(p.toPhysicalUnits(e/2),p.toPhysicalUnits(i/2)),s},Ab.scaleShape=function(e,i,s){if(e instanceof ad)e.m_radius*=s;else if(e instanceof Jb){for(var n=e.m_vertices,o=[],l=0;l<n.length;){var _=n[l];++l,_.subtract(i),_.multiply(s),_.add(i),o.push(_)}e.setAsArray(o)}},Ab.__super__=qa,Ab.prototype=x(qa.prototype,{engine:null,createTime:null,ID:null,groupID:null,cachedLayer:null,layer:null,typeID:null,type:null,recycled:null,paused:null,isRegion:null,isTerrainRegion:null,isTerrain:null,destroyed:null,drawActor:null,isHUD:null,alwaysSimulate:null,isCamera:null,killLeaveScreen:null,physicsMode:null,autoScale:null,dead:null,dying:null,fixedRotation:null,ignoreGravity:null,defaultGravity:null,collidable:null,solid:null,resetOrigin:null,realX:null,realY:null,realAngle:null,realScaleX:null,realScaleY:null,lastX:null,lastY:null,lastAngle:null,lastScale:null,colX:null,colY:null,xSpeed:null,ySpeed:null,rSpeed:null,continuousCollision:null,tweenProps:null,cacheWidth:null,cacheHeight:null,currAnimation:null,currAnimationName:null,animationMap:null,bitmapFilters:null,sprite:null,shapeMap:null,originMap:null,defaultAnim:null,currOrigin:null,currOffset:null,cacheAnchor:null,transformObj:null,transformPoint:null,transformMatrix:null,updateMatrix:null,drawMatrix:null,label:null,attachedImages:null,smoothMove:null,firstMove:null,snapOnSet:null,drawX:null,drawY:null,moveMultiplier:null,moveXDistance:null,moveYDistance:null,minMove:null,maxMove:null,behaviors:null,customizedBehaviors:null,registry:null,allListeners:null,allListenerReferences:null,whenCreatedListeners:null,whenUpdatedListeners:null,whenDrawingListeners:null,whenKilledListeners:null,mouseOverListeners:null,positionListeners:null,collisionListeners:null,positionListenerCount:null,collisionListenerCount:null,mouseState:null,lastScreenState:null,lastSceneState:null,isOnScreenCache:null,body:null,bodyDef:null,md:null,bodyScale:null,handlesCollisions:null,contacts:null,regionContacts:null,collisions:null,dummy:null,zero:null,destroy:function(){if(!this.destroyed){this.destroyed=!0;var e=this.animationMap;for(e=new bf(e,e.arrayKeys());e.hasNext();)e.next().set_visible(!1);if(N.removeAllChildren(this),null!=this.body&&0==this.physicsMode){for(e=this.body.getContactList();null!=e;)p.engine.world.m_contactManager.m_contactListener.endContact(e.contact),e=e.next;p.engine.world.destroyBody(this.body)}for(this.cancelTweens(),this.regionContacts=this.contacts=this.sprite=this.body=this.currOrigin=this.currOffset=this.currAnimation=this.animationMap=this.defaultAnim=this.originMap=this.shapeMap=Ab.lastCollided=null,this.collisionsCount=this.contactCount=0,this.allListenerReferences=this.allListeners=this.collisionListeners=this.positionListeners=this.mouseOverListeners=this.whenKilledListeners=this.whenDrawingListeners=this.whenUpdatedListeners=this.whenCreatedListeners=this.transformMatrix=this.transformPoint=null,this.collisionListenerCount=this.positionListenerCount=0,this.registry=null,e=this.collisions.keys();e.hasNext();){var i=e.next(),s=this.collisions,n=s.mH,o=n.mHash[73856093*i&n.mMask];if(-1==o)i=-2147483648;else if((n=n.mData)[o]==i)i=n[o+1];else{var l=-2147483648;for(o=n[o+2];-1!=o;){if(n[o]==i){l=n[o+1];break}o=n[o+2]}i=l}for(s=-2147483648==i?null:s.mVals[i];0<s.points.length;)ge.free(s.points.pop())}this.simpleCollisions=this.collisions=null,null!=this.bodyDef&&(this.bodyDef=this.bodyDef.userData=null),this.behaviors.destroy()}},resetListeners:function(){for(var e=this.allListeners.iterator();e.hasNext();){var i=e.next();this.allListeners.remove(i)}for(;0<this.allListenerReferences.length;)this.allListenerReferences.pop();for(;0<this.whenUpdatedListeners.length;)this.whenUpdatedListeners.pop();for(;0<this.whenDrawingListeners.length;)this.whenDrawingListeners.pop();for(;0<this.whenKilledListeners.length;)this.whenKilledListeners.pop();for(;0<this.mouseOverListeners.length;)this.mouseOverListeners.pop();for(;0<this.positionListeners.length;)this.positionListeners.pop();for(;0<this.collisionListeners.length;)this.collisionListeners.pop();this.collisionListenerCount=this.positionListenerCount=0},defaultHitbox:null,defaultMasklist:null,addAnim:function(e){var i=0==this.physicsMode?e.physicsShapes:e.simpleShapes;if(null!=i){var s=[];if(1==this.physicsMode)for(i=i.iterator();i.hasNext();){var n=i.next();n instanceof Qc&&0!=this.physicsMode&&(n=T.__cast(n,Qc).clone()).assignTo(this),s.push(n)}else if(2!=this.physicsMode)for(i=i.iterator();i.hasNext();)n=i.next(),s.push(n);0!=this.physicsMode?(i=e.animName,n=this.shapeMap,s=new wj(s,this),null!=t[i]?n.setReserved(i,s):n.h[i]=s):(n=this.shapeMap,null!=t[i=e.animName]?n.setReserved(i,s):n.h[i]=s)}s=this.animationMap,i=e.animName,n=new Zk(e),null!=t[i]?s.setReserved(i,n):s.h[i]=n,s=this.originMap,i=e.animName,e=new K(e.originX,e.originY),null!=t[i]?s.setReserved(i,e):s.h[i]=e},reloadAnimationGraphics:function(e){if(-1==e){for(e=this.sprite.animations.iterator();e.hasNext();){var i=e.next().animName,s=this.animationMap;(null!=t[i]?s.getReserved(i):s.h[i]).framesUpdated()}this.updateChildrenPositions()}else i=this.animationMap,(e=null!=t[e=this.sprite.animations.h[e].animName]?i.getReserved(e):i.h[e]).framesUpdated(),e==this.currAnimation&&this.updateChildrenPositions()},initScripts:function(){if(2==this.physicsMode)this.handlesCollisions=!1;else{this.handlesCollisions=!0,this.behaviors.initScripts();for(var e=0;e<this.whenCreatedListeners.length;){try{var i=this.whenCreatedListeners[e];i(this.whenCreatedListeners),-1==N.indexOf(this.whenCreatedListeners,i)&&--e}catch(s){if(ha.lastException=s,"string"!=typeof(s instanceof E?s.val:s))throw s}++e}}},initFromBody:function(e){e.allowSleep=!1,e.userData=this,this.bodyDef=e,this.body=p.engine.world.createBody(e)},initBody:function(e,i,s,n,o,l){var _=new lj;if(_.groupID=e,e=this.get_x(),_.position.x=p.toPhysicalUnits(e),e=this.get_y(),_.position.y=p.toPhysicalUnits(e),_.angle=0,_.fixedRotation=!o,_.allowSleep=!1,_.type=s?ua.b2_staticBody:n?ua.b2_kinematicBody:ua.b2_dynamicBody,l instanceof Array)for(_.userData=this,this.body=p.engine.world.createBody(_),i=T.__cast(l,Array),l=0;l<i.length;)s=i[l],++l,(n=new ig).shape=s,n.friction=1,n.density=.1,n.restitution=0,n.isSensor=!1,n.groupID=1,n.userData=this,this.body.createFixture(n);else(s=new ig).shape=l,s.friction=1,s.density=.1,s.restitution=0,s.isSensor=i,s.groupID=-1e3,s.userData=this,_.userData=this,this.body=p.engine.world.createBody(_),this.body.createFixture(s);this.bodyDef=_},addAnimation:function(e,i){var s=this.animationMap;null!=t[e]?s.setReserved(e,i):s.h[e]=i},getAnimation:function(){return this.currAnimationName},setAnimation:function(e){this.switchAnimation(e)},switchToDefaultAnimation:function(){null!=this.defaultAnim&&(this.switchAnimation(this.defaultAnim,this.defaultShapeChanged()),this.setCurrentFrame(0))},isAnimationPlaying:function(){return!this.currAnimation.isFinished()},getCurrentFrame:function(){return this.currAnimation.getCurrentFrame()},setCurrentFrame:function(e){this.currAnimation.setFrame(e)},getNumFrames:function(){return this.currAnimation.getNumFrames()},defaultShapeChanged:function(){if(0!=this.physicsMode)return!0;var e=this.defaultAnim,i=this.shapeMap;if(e=null!=t[e]?i.getReserved(e):i.h[e],null==this.getBody()||null==this.getBody().getFixtureList()||null==this.getBody().getFixtureList().getShape()){if(null!=e&&0<e.length)return!0}else{if(null==e||0==e.length||1<e.length)return!0;var s=e[0];if(null==s)return!0;var n=this.getBody().getFixtureList();if(e=this.getBody().getFixtureList().getShape(),i=s.shape,n.groupID!=s.groupID||this.getBody().getFixtureList().isSensor()!=s.isSensor||T.getClass(e)!=T.getClass(i))return!0;if(T.getClass(e)==Jb){if(e.m_vertexCount!=i.m_vertexCount)return!0;for(s=0,n=e.m_vertexCount;s<n;){var o=s++;if(e.m_vertices[o].x!=i.m_vertices[o].x||e.m_vertices[o].y!=i.m_vertices[o].y)return!0}}else if(T.getClass(e)==ad&&(e.m_radius!=i.m_radius||e.m_p.x!=i.m_p.x||e.m_p.y!=i.m_p.y))return!0}return!1},switchAnimation:function(e,i){if(null==i&&(i=!1),e!=this.currAnimationName||i){var s=this.animationMap;if(null!=(s=null!=t[e]?s.getReserved(e):s.h[e])){if(null!=this.currAnimation&&this.removeChild(this.currAnimation),null!=this.body&&0==this.physicsMode&&!i){var n=this.currAnimationName,o=this.shapeMap;if(n=null!=t[n]?o.getReserved(n):o.h[n],o=this.shapeMap,o=null!=t[e]?o.getReserved(e):o.h[e],null==n||null==o)i=!0;else if(n.length!=o.length||1<n.length)i=!0;else{var l=n[0],_=o[0];if(null==l||null==_)i=!0;else if(n=l.shape,o=_.shape,l.isSensor!=_.isSensor)i=!0;else if(l.groupID!=_.groupID)i=!0;else if(T.getClass(n)==T.getClass(o))if(T.getClass(n)==Jb)if(n.m_vertexCount!=o.m_vertexCount)i=!0;else for(l=0,_=n.m_vertexCount;l<_;){var h=l++;if(n.m_vertices[h].x!=o.m_vertices[h].x){i=!0;break}if(n.m_vertices[h].y!=o.m_vertices[h].y){i=!0;break}}else T.getClass(n)!=ad||n.m_radius==o.m_radius&&n.m_p.x==o.m_p.x&&n.m_p.y==o.m_p.y||(i=!0);else i=!0}}if(this.currAnimationName=e,this.currAnimation=s,this.currAnimation.set_filter(this.bitmapFilters),this.currAnimation.set_visible(this.drawActor),this.addChild(s),s=this.originMap,s=null!=t[e]?s.getReserved(e):s.h[e],n=this.currAnimation.get_width()/p.SCALE/2-s.x,o=this.currAnimation.get_height()/p.SCALE/2-s.y,null!=this.body&&i&&0==this.physicsMode){for(i=[],l=this.body.getContactList();null!=l;)l.other.getUserData()instanceof Dd&&l.contact.isTouching()&&i.push(l.other.getUserData()),p.engine.world.m_contactManager.m_contactListener.endContact(l.contact),l=l.next;for(l=this.collisions.keys();l.hasNext();){_=l.next();var m=(h=this.collisions).mH,f=m.mHash[73856093*_&m.mMask];if(-1==f)f=-2147483648;else if((m=m.mData)[f]==_)f=m[f+1];else{var y=-2147483648;for(f=m[f+2];-1!=f;){if(m[f]==_){y=m[f+1];break}f=m[f+2]}f=y}for(h=-2147483648==f?null:h.mVals[f];0<h.points.length;)ge.free(h.points.pop());this.collisions.unset(_)}for(this.collisions=new Re(16),this.simpleCollisions=new Re(16),this.contacts=new Re(16),this.regionContacts=new Re(16),this.collisions.reuseIterator=!0,this.simpleCollisions.reuseIterator=!0,this.contacts.reuseIterator=!0,this.regionContacts.reuseIterator=!0,this.collisionsCount=this.contactCount=0;0<this.body.m_fixtureCount;)this.body.DestroyFixture(this.body.getFixtureList());for(l=0,_=this.shapeMap,e=T.__cast(null!=t[e]?_.getReserved(e):_.h[e],Array);l<e.length;){if(f=e[l],++l,_=new ig,179769313486231e294>this.bodyDef.friction&&(_.friction=this.bodyDef.friction,_.restitution=this.bodyDef.bounciness,0<this.bodyDef.mass&&(_.density=.1)),_.density=f.density,_.isSensor=f.isSensor,_.groupID=f.groupID,_.shape=f.shape,null!=s)if(this.body.origin.x=p.toPhysicalUnits(-s.x),this.body.origin.y=p.toPhysicalUnits(-s.y),f.shape instanceof Jb){h=new vf,m=f.shape,(f=new Jb).setAsArray(m.m_vertices,m.m_vertices.length),m=f.m_vertices,y=f.m_normals;var g=h.position,j=p.toPhysicalUnits(n),$=p.toPhysicalUnits(o);for(null==$&&($=0),null==j&&(j=0),g.x=j,g.y=$,h.R.setAngle(0),g=0,j=f.m_vertexCount;g<j;)m[$=g++]=h.multiply(m[$]),y[$]=h.R.multiplyV(y[$]);f.setAsArray(m,m.length),f.m_normals=y,_.shape=f}else f.shape instanceof ad&&(f=f.shape,(h=new ad).setRadius(f.getRadius()),m=f.m_p.x,y=p.toPhysicalUnits(n),h.m_p.x=m+y,f=f.m_p.y,m=p.toPhysicalUnits(o),h.m_p.y=f+m,_.shape=h);this.body.createFixture(_).SetUserData(this)}if(null!=this.body.getFixtureList())for(this.bodyScale.x=1,this.bodyScale.y=1,n=0;n<i.length;)o=i[n],++n,e=this.body.getFixtureList().m_aabb,o.getBody().getFixtureList().m_aabb.testOverlap(e)&&o.addActor(this);null!=this.md&&this.body.setMassData(this.md)}else i=this.shapeMap,null!=(null!=t[e]?i.getReserved(e):i.h[e])&&1==this.physicsMode&&(i=this.shapeMap,this.set_shape(null!=t[e]?i.getReserved(e):i.h[e]),this.HITBOX=this._mask);this.cacheWidth=this.currAnimation.get_width()/p.SCALE,this.cacheHeight=this.currAnimation.get_height()/p.SCALE,null!=this.body&&(this.body.size.x=p.toPhysicalUnits(this.cacheWidth),this.body.size.y=p.toPhysicalUnits(this.cacheHeight)),0==this.physicsMode&&(this.realX=this.getX(!1),this.realY=this.getY(!1),this.updateBodyScale()),null!=s&&this.setOriginPoint(0|s.x,0|s.y),this.updateChildrenPositions(),this.updateMatrix=!0,(s=this.currAnimation).timer=0,s.frameIndex=0,s.finished=!1,null!=s.filter?(s.filteredFrames[s.frameIndex]||(s.frames[s.frameIndex]=s.applyFilters(s.frames[s.frameIndex],s.model.frames[s.frameIndex],s.filter),s.filteredFrames[s.frameIndex]=!0),s.set_bitmapData(s.frames[s.frameIndex])):s.set_bitmapData(s.model.frames[s.frameIndex]),s.smoothing=ja.antialias}}},updateChildrenPositions:function(){var e=null!=this.currAnimation?new ra(-this.currAnimation.get_x(),-this.currAnimation.get_y()):new ra(0,0);if(!e.equals(this.cacheAnchor)){this.cacheAnchor.copyFrom(e),e=0;for(var i=this.attachedImages;e<i.length;){var s=i[e];++e,s.updatePosition()}null!=this.label&&this.label.updatePosition()}},removeAttachedImages:function(){for(var e=0,i=this.attachedImages;e<i.length;){var s=i[e];++e,s.cacheParentAnchor=N.zero,this.removeChild(s)}this.attachedImages=[]},update:function(e){this.innerUpdate(e,!0)},innerUpdate:function(e,i){if(!(this.paused||this.isCamera||this.dying||this.dead||this.destroyed||i&&(this.isHUD||this.alwaysSimulate))){if(0<this.mouseOverListeners.length)if(this.isMouseOver()){if(0>=this.mouseState){this.mouseState=1;var s=this.mouseOverListeners;i=this.mouseState;for(var n=0;n<s.length;){try{var o=s[n];o(i,s),-1==N.indexOf(s,o)&&--n}catch(Et){if(ha.lastException=Et,"string"!=typeof(Et instanceof E?Et.val:Et))throw Et}++n}}else this.mouseState=2;if(R.mousePressed){this.mouseState=3;var l=this.mouseOverListeners;for(o=this.mouseState,s=0;s<l.length;){try{var _=l[s];_(o,l),-1==N.indexOf(l,_)&&--s}catch(Et){if(ha.lastException=Et,"string"!=typeof(Et instanceof E?Et.val:Et))throw Et}++s}}else if(R.mouseDown)for(this.mouseState=4,_=this.mouseOverListeners,o=this.mouseState,s=0;s<_.length;){try{(l=_[s])(o,_),-1==N.indexOf(_,l)&&--s}catch(Et){if(ha.lastException=Et,"string"!=typeof(Et instanceof E?Et.val:Et))throw Et}++s}if(R.mouseReleased)for(this.mouseState=5,_=this.mouseOverListeners,l=this.mouseState,o=0;o<_.length;){try{var h=_[o];h(l,_),-1==N.indexOf(_,h)&&--o}catch(Et){if(ha.lastException=Et,"string"!=typeof(Et instanceof E?Et.val:Et))throw Et}++o}}else if(0<this.mouseState)for(this.mouseState=-1,h=this.mouseOverListeners,_=this.mouseState,l=0;l<h.length;){try{(s=h[l])(_,h),-1==N.indexOf(h,s)&&--l}catch(Et){if(ha.lastException=Et,"string"!=typeof(Et instanceof E?Et.val:Et))throw Et}++l}else-1==this.mouseState&&(this.mouseState=0);if(h=this.type.ID,_=1e6+this.groupID,o=this.engine.collisionListeners,l=this.engine.typeGroupPositionListeners,0==this.physicsMode&&(0<this.collisionListenerCount||null!=o.h[h]||null!=o.h[_])){if(0<this.contactCount)for(s=0,i=this.contacts.iterator();i.hasNext();){var m=(n=i.next()).key,f=this.collisions.mH,y=f.mHash[73856093*m&f.mMask];if(-1==y)y=!1;else if((f=f.mData)[y]==m)y=!0;else{var g=!1;for(y=f[y+2];-1!=y;){if(f[y]==m){g=!0;break}y=f[y+2]}y=g}if(y){if(-1==(f=(g=(y=this.collisions).mH).mHash[73856093*m&g.mMask]))m=-2147483648;else if((g=g.mData)[f]==m)m=g[f+1];else{var j=-2147483648;for(f=g[f+2];-1!=f;){if(g[f]==m){j=g[f+1];break}f=g[f+2]}m=j}for(m=-2147483648==m?null:y.mVals[m],n.getWorldManifold(Ab.manifold),y=0,f=Ab.manifold.m_points;y<f.length;)g=f[y],++y,0!=g.x&&0!=g.y&&(null==(n=m.points[s])?m.points[s]=ge.get(g.x,g.y,Ab.manifold.m_normal.x,Ab.manifold.m_normal.y):((n=m.points[s]).x=g.x,n.y=g.y,n.normalX=Ab.manifold.m_normal.x,n.normalY=Ab.manifold.m_normal.y),++s);for(;m.points.length>s;)ge.free(m.points.pop());s=0}else{var $=n.getFixtureA().getUserData(),yt=n.getFixtureB().getUserData();$==this?(y=yt,f=n.getFixtureB(),g=n.getFixtureA()):(y=$,f=n.getFixtureA(),g=n.getFixtureB()),(j=new Fc).otherActor=y,j.otherShape=f,j.thisActor=this,j.thisShape=g,j.actorA=$,j.actorB=yt,n.getWorldManifold(Ab.manifold),this.collisions.set(m,j),this.collisionsCount++,m=this.getBody(),$=y.getBody(),yt=n.getFixtureA().getBody();for(var _t=n.getFixtureB().getBody(),xt=0,Tt=Ab.manifold.m_points;xt<Tt.length;)n=Tt[xt],++xt,0==n.x||0==n.y||g.isSensor()?g.isSensor()&&(null!=y&&(j.thisCollidedWithActor=j.thisCollidedWithActor||1!=y.groupID&&-2!=y.groupID&&!y.isTerrainRegion,j.thisCollidedWithTerrain=j.thisCollidedWithTerrain||y.isTerrainRegion,j.thisCollidedWithTile=j.thisCollidedWithTile||1==y.groupID),j.otherCollidedWithActor=j.otherCollidedWithActor||1!=this.groupID&&-2!=this.groupID&&!this.isTerrainRegion,j.otherCollidedWithTerrain=j.otherCollidedWithTerrain||this.isTerrainRegion,j.otherCollidedWithTile=j.otherCollidedWithTile||1==this.groupID,j.thisCollidedWithSensor=j.thisCollidedWithSensor||f.isSensor(),j.otherCollidedWithSensor=j.otherCollidedWithSensor||g.isSensor()):(n=ge.get(n.x,n.y,Ab.manifold.m_normal.x,Ab.manifold.m_normal.y),j.points.push(n),yt==m?(j.thisFromBottom=j.thisFromBottom||0<n.normalY,j.thisFromTop=j.thisFromTop||0>n.normalY,j.thisFromLeft=j.thisFromLeft||0>n.normalX,j.thisFromRight=j.thisFromRight||0<n.normalX):_t==m&&(j.thisFromBottom=j.thisFromBottom||0>n.normalY,j.thisFromTop=j.thisFromTop||0<n.normalY,j.thisFromLeft=j.thisFromLeft||0<n.normalX,j.thisFromRight=j.thisFromRight||0>n.normalX),yt==$?(j.otherFromBottom=j.otherFromBottom||0<n.normalY,j.otherFromTop=j.otherFromTop||0>n.normalY,j.otherFromLeft=j.otherFromLeft||0>n.normalX,j.otherFromRight=j.otherFromRight||0<n.normalX):_t==$&&(j.otherFromBottom=j.otherFromBottom||0>n.normalY,j.otherFromTop=j.otherFromTop||0<n.normalY,j.otherFromLeft=j.otherFromLeft||0<n.normalX,j.otherFromRight=j.otherFromRight||0>n.normalX),null!=y&&(j.thisCollidedWithActor=j.thisCollidedWithActor||1!=y.groupID&&-2!=y.groupID&&!y.isTerrainRegion,j.thisCollidedWithTerrain=j.thisCollidedWithTerrain||y.isTerrainRegion,j.thisCollidedWithTile=j.thisCollidedWithTile||1==y.groupID),j.otherCollidedWithActor=j.otherCollidedWithActor||1!=this.groupID&&-2!=this.groupID&&!this.isTerrainRegion,j.otherCollidedWithTerrain=j.otherCollidedWithTerrain||this.isTerrainRegion,j.otherCollidedWithTile=j.otherCollidedWithTile||1==this.groupID,j.thisCollidedWithSensor=j.thisCollidedWithSensor||f.isSensor(),j.otherCollidedWithSensor=j.otherCollidedWithSensor||g.isSensor())}}if(0<this.collisionsCount)for(s=this.collisions.iterator();s.hasNext();)if(null!=(i=s.next())&&null!=i.thisActor&&null!=i.otherActor&&i.thisActor.handlesCollisions&&i.otherActor.handlesCollisions){for(Ab.lastCollided=i.otherActor,n=this.collisionListeners,m=i,y=0;y<n.length;){try{var St=n[y];St(m,n),-1==N.indexOf(n,St)&&--y}catch(Et){if(ha.lastException=Et,"string"!=typeof(Et instanceof E?Et.val:Et))throw Et}++y}this.engine.handleCollision(this,i)}}if(this.internalUpdate(e,!0),1==this.physicsMode&&((0<this.collisionListenerCount||null!=o.h[h]||null!=o.h[_])&&this.handleCollisionsSimple(),this.disposeRemovedCollisionInfo()),2!=this.physicsMode)for(St=this.whenUpdatedListeners,o=0;o<St.length;){try{var Mt=St[o];Mt(e,St),-1==N.indexOf(St,Mt)&&--o}catch(Et){if(ha.lastException=Et,"string"!=typeof(Et instanceof E?Et.val:Et))throw Et}++o}(0<this.positionListenerCount||null!=l.h[h]||null!=l.h[_])&&this.checkScreenState(),null!=this.label&&this.label.setAlpha(this.get_alpha())}},internalUpdate:function(e,i){if(!this.paused){if(0!=this.physicsMode)1!=this.physicsMode||this.ignoreGravity||this.isHUD||(this.xSpeed+=e*this.engine.gravityX*.001,this.ySpeed+=e*this.engine.gravityY*.001),(0!=this.xSpeed||0!=this.ySpeed)&&(this.resetReal(this.realX,this.realY),this.moveActorBy(10/p.STEP_SIZE*this.xSpeed*e*.01,10/p.STEP_SIZE*this.ySpeed*e*.01,!1)),0!=this.rSpeed&&(this.realAngle+=e*this.rSpeed*.001),this.fixedRotation&&(this.rSpeed=this.realAngle=0);else{var s=this.body.getPosition();this.realX=s.x*p.physicsScale,this.realY=s.y*p.physicsScale,this.resetReal(this.realX,this.realY),this.realAngle=57.29577951308402*this.body.getAngle()}(this.lastX!=this.realX||this.lastY!=this.realY||this.lastAngle!=this.realAngle||this.lastScale.x!=this.realScaleX||this.lastScale.y!=this.realScaleY)&&(this.updateMatrix=!0),this.lastX=this.realX,this.lastY=this.realY,this.lastAngle=this.realAngle,this.lastScale.x=this.realScaleX,this.lastScale.y=this.realScaleY,i&&null!=this.currAnimation&&((i=this.currAnimation).model.sync&&i.model.looping?(e=i.frameIndex,i.timer=i.model.sharedTimer,i.frameIndex=i.model.sharedFrameIndex,e!=i.frameIndex&&(null!=i.filter?(i.filteredFrames[i.frameIndex]||(i.frames[i.frameIndex]=i.applyFilters(i.frames[i.frameIndex],i.model.frames[i.frameIndex],i.filter),i.filteredFrames[i.frameIndex]=!0),i.set_bitmapData(i.frames[i.frameIndex])):i.set_bitmapData(i.model.frames[i.frameIndex]),i.smoothing=ja.antialias)):(i.timer+=e,0<i.numFrames&&i.timer>i.durations[i.frameIndex]&&(e=i.frameIndex,i.timer-=i.durations[i.frameIndex],i.frameIndex++,i.frameIndex>=i.numFrames&&(i.model.looping?i.frameIndex=0:(i.finished=!0,i.frameIndex--)),e!=i.frameIndex&&(null!=i.filter?(i.filteredFrames[i.frameIndex]||(i.frames[i.frameIndex]=i.applyFilters(i.frames[i.frameIndex],i.model.frames[i.frameIndex],i.filter),i.filteredFrames[i.frameIndex]=!0),i.set_bitmapData(i.frames[i.frameIndex])):i.set_bitmapData(i.model.frames[i.frameIndex]),i.smoothing=ja.antialias))))}},updateDrawingMatrix:function(e){null==e&&(e=!1),(!this.paused||e)&&(this.smoothMove?(this.firstMove||(this.drawX=this.realX,this.drawY=this.realY,this.firstMove=!0),this.moveXDistance=this.realX-this.drawX,this.moveYDistance=this.realY-this.drawY,this.drawX=this.moveXDistance>this.minMove?this.moveXDistance*this.moveMultiplier>this.minMove?this.moveXDistance>this.maxMove?this.realX:this.drawX+this.moveXDistance*this.moveMultiplier:this.drawX+this.minMove:this.moveXDistance<-1*this.minMove?this.moveXDistance*this.moveMultiplier<-1*this.minMove?this.moveXDistance<-1*this.maxMove?this.realX:this.drawX+this.moveXDistance*this.moveMultiplier:this.drawX-this.minMove:this.realX,this.drawY=this.moveYDistance>this.minMove?this.moveYDistance*this.moveMultiplier>this.minMove?this.moveYDistance>this.maxMove?this.realY:this.drawY+this.moveYDistance*this.moveMultiplier:this.drawY+this.minMove:this.moveYDistance<-1*this.minMove?this.moveYDistance*this.moveMultiplier<-1*this.minMove?this.moveYDistance<-1*this.maxMove?this.realY:this.drawY+this.moveYDistance*this.moveMultiplier:this.drawY-this.minMove:this.realY):0!=this.physicsMode?(this.drawX=this.realX,this.drawY=this.realY):(e=this.body.getPosition(),this.drawX=e.x*p.physicsScale,this.drawY=e.y*p.physicsScale),this.transformPoint.x=(this.currOrigin.x-this.cacheWidth/2)*p.SCALE,this.transformPoint.y=(this.currOrigin.y-this.cacheHeight/2)*p.SCALE,this.transformMatrix.identity(),this.transformMatrix.translate(-this.transformPoint.x,-this.transformPoint.y),this.transformMatrix.scale(this.realScaleX,this.realScaleY),0!=this.realAngle&&this.transformMatrix.rotate(.01745329251994278*this.realAngle),ja.pixelsnap?this.transformMatrix.translate(Math.round(this.drawX)*p.SCALE,Math.round(this.drawY)*p.SCALE):this.transformMatrix.translate(this.drawX*p.SCALE,this.drawY*p.SCALE),null==this.transformObj&&(this.transformObj=this.get_transform()),this.transformObj.set_matrix(this.transformMatrix))},updateTweenAlpha:function(){this.set_alpha(this.tweenProps.alpha.value)},updateTweenScaleXY:function(){this.realScaleX=this.tweenProps.realScaleXY.value1,this.realScaleY=this.tweenProps.realScaleXY.value2,this.updateBodyScale()},updateTweenAngle:function(){this.setAngle(this.tweenProps.angle.value,!1)},updateTweenXY:function(){0==this.physicsMode?this.setXY(this.tweenProps.xy.value1,this.tweenProps.xy.value2):(this.moveActorBy(this.tweenProps.xy.value1-this.getX(!1),this.tweenProps.xy.value2-this.getY(!1),!1),this.updateMatrix=!0),this.tweenProps.xy.finished&&null!=this.currOffset&&this.resetReal(this.realX,this.realY)},updateBodyScale:function(){this.autoScale&&0==this.physicsMode&&null!=this.body&&this.bodyDef.type!=ua.b2_staticBody&&0!=this.realScaleX&&0!=this.realScaleY&&this.scaleBody(this.realScaleX,this.realScaleY)},scaleBody:function(e,i){for(var s=[],n=this.body.getFixtureList();null!=n;)s.push(n),n=n.getNext();for(n=0;n<s.length;){var o=s[n];++n;var l=o.getShape();if(o=this.body.getLocalCenter(),l instanceof ad){var _=l,h=1/this.bodyScale.x*e,m=1/this.bodyScale.y*i,f=_.m_p;f.subtract(o),f.x*=h,f.y*=m,_.m_p=o.copy(),_.m_p.add(f),l.m_radius*=Math.abs(h)}else if(l instanceof Jb){_=l.m_vertices,h=[],m=0<this.bodyScale.x&&0>e||0>this.bodyScale.x&&0<e,f=0<this.bodyScale.y&&0>i||0>this.bodyScale.y&&0<i;for(var y=0;y<_.length;){var g=_[y];++y,g.subtract(o),g.x=1/Math.abs(this.bodyScale.x)*g.x*Math.abs(e),g.y=1/Math.abs(this.bodyScale.y)*g.y*Math.abs(i),m&&(g.x=-g.x),f&&(g.y=-g.y);var j=o.copy();j.add(g),h.push(j)}m&&f||!m&&!f||h.reverse(),l.setAsArray(h,h.length)}}this.bodyScale.x=e,this.bodyScale.y=i,this.body.size.x=p.toPhysicalUnits(this.cacheWidth*e),this.body.size.y=p.toPhysicalUnits(this.cacheHeight*i)},checkScreenState:function(){for(var e=this.isOnScreen(),i=e||this.isInScene(),s=!this.lastScreenState&&e,n=!this.lastSceneState&&i,o=this.lastScreenState&&!e,l=this.lastSceneState&&!i,_=this.positionListeners,h=0;h<_.length;){try{var m=_[h];m(s,o,n,l,_),-1==N.indexOf(_,m)&&--h}catch(g){if(ha.lastException=g,"string"!=typeof(g instanceof E?g.val:g))throw g}++h}if(_=this.engine.typeGroupPositionListeners.h[this.typeID],null!=(h=this.engine.typeGroupPositionListeners.h[this.groupID+1e6]))for(m=0;m<h.length;){try{var f=h[m];f(this,s,o,n,l,h),-1==N.indexOf(h,f)&&--m}catch(g){if(ha.lastException=g,"string"!=typeof(g instanceof E?g.val:g))throw g}++m}if(null!=_)for(f=0;f<_.length;){try{var y=_[f];y(this,s,o,n,l,_),-1==N.indexOf(_,y)&&--f}catch(g){if(ha.lastException=g,"string"!=typeof(g instanceof E?g.val:g))throw g}++f}this.lastScreenState=e,this.lastSceneState=i},contactCount:null,collisionsCount:null,handleCollisions:function(){if(0<this.contactCount)for(var i,e=0,s=this.contacts.iterator();s.hasNext();){var n=(i=s.next()).key,o=this.collisions.mH,l=o.mHash[73856093*n&o.mMask];if(-1==l)l=!1;else if((o=o.mData)[l]==n)l=!0;else{var _=!1;for(l=o[l+2];-1!=l;){if(o[l]==n){_=!0;break}l=o[l+2]}l=_}if(l){if(-1==(o=(_=(l=this.collisions).mH).mHash[73856093*n&_.mMask]))n=-2147483648;else if((_=_.mData)[o]==n)n=_[o+1];else{var h=-2147483648;for(o=_[o+2];-1!=o;){if(_[o]==n){h=_[o+1];break}o=_[o+2]}n=h}for(n=-2147483648==n?null:l.mVals[n],i.getWorldManifold(Ab.manifold),l=0,o=Ab.manifold.m_points;l<o.length;)_=o[l],++l,0!=_.x&&0!=_.y&&(null==(i=n.points[e])?n.points[e]=ge.get(_.x,_.y,Ab.manifold.m_normal.x,Ab.manifold.m_normal.y):((i=n.points[e]).x=_.x,i.y=_.y,i.normalX=Ab.manifold.m_normal.x,i.normalY=Ab.manifold.m_normal.y),++e);for(;n.points.length>e;)ge.free(n.points.pop());e=0}else{var m=i.getFixtureA().getUserData(),f=i.getFixtureB().getUserData();m==this?(l=f,o=i.getFixtureB(),_=i.getFixtureA()):(l=m,o=i.getFixtureA(),_=i.getFixtureB()),(h=new Fc).otherActor=l,h.otherShape=o,h.thisActor=this,h.thisShape=_,h.actorA=m,h.actorB=f,i.getWorldManifold(Ab.manifold),this.collisions.set(n,h),this.collisionsCount++,n=this.getBody(),m=l.getBody(),f=i.getFixtureA().getBody();for(var y=i.getFixtureB().getBody(),g=0,j=Ab.manifold.m_points;g<j.length;)i=j[g],++g,0==i.x||0==i.y||_.isSensor()?_.isSensor()&&(null!=l&&(h.thisCollidedWithActor=h.thisCollidedWithActor||1!=l.groupID&&-2!=l.groupID&&!l.isTerrainRegion,h.thisCollidedWithTerrain=h.thisCollidedWithTerrain||l.isTerrainRegion,h.thisCollidedWithTile=h.thisCollidedWithTile||1==l.groupID),h.otherCollidedWithActor=h.otherCollidedWithActor||1!=this.groupID&&-2!=this.groupID&&!this.isTerrainRegion,h.otherCollidedWithTerrain=h.otherCollidedWithTerrain||this.isTerrainRegion,h.otherCollidedWithTile=h.otherCollidedWithTile||1==this.groupID,h.thisCollidedWithSensor=h.thisCollidedWithSensor||o.isSensor(),h.otherCollidedWithSensor=h.otherCollidedWithSensor||_.isSensor()):(i=ge.get(i.x,i.y,Ab.manifold.m_normal.x,Ab.manifold.m_normal.y),h.points.push(i),f==n?(h.thisFromBottom=h.thisFromBottom||0<i.normalY,h.thisFromTop=h.thisFromTop||0>i.normalY,h.thisFromLeft=h.thisFromLeft||0>i.normalX,h.thisFromRight=h.thisFromRight||0<i.normalX):y==n&&(h.thisFromBottom=h.thisFromBottom||0>i.normalY,h.thisFromTop=h.thisFromTop||0<i.normalY,h.thisFromLeft=h.thisFromLeft||0<i.normalX,h.thisFromRight=h.thisFromRight||0>i.normalX),f==m?(h.otherFromBottom=h.otherFromBottom||0<i.normalY,h.otherFromTop=h.otherFromTop||0>i.normalY,h.otherFromLeft=h.otherFromLeft||0>i.normalX,h.otherFromRight=h.otherFromRight||0<i.normalX):y==m&&(h.otherFromBottom=h.otherFromBottom||0>i.normalY,h.otherFromTop=h.otherFromTop||0<i.normalY,h.otherFromLeft=h.otherFromLeft||0<i.normalX,h.otherFromRight=h.otherFromRight||0>i.normalX),null!=l&&(h.thisCollidedWithActor=h.thisCollidedWithActor||1!=l.groupID&&-2!=l.groupID&&!l.isTerrainRegion,h.thisCollidedWithTerrain=h.thisCollidedWithTerrain||l.isTerrainRegion,h.thisCollidedWithTile=h.thisCollidedWithTile||1==l.groupID),h.otherCollidedWithActor=h.otherCollidedWithActor||1!=this.groupID&&-2!=this.groupID&&!this.isTerrainRegion,h.otherCollidedWithTerrain=h.otherCollidedWithTerrain||this.isTerrainRegion,h.otherCollidedWithTile=h.otherCollidedWithTile||1==this.groupID,h.thisCollidedWithSensor=h.thisCollidedWithSensor||o.isSensor(),h.otherCollidedWithSensor=h.otherCollidedWithSensor||_.isSensor())}}if(0<this.collisionsCount)for(e=this.collisions.iterator();e.hasNext();)if(null!=(s=e.next())&&null!=s.thisActor&&null!=s.otherActor&&s.thisActor.handlesCollisions&&s.otherActor.handlesCollisions){for(Ab.lastCollided=s.otherActor,i=this.collisionListeners,n=s,l=0;l<i.length;){try{var $=i[l];$(n,i),-1==N.indexOf(i,$)&&--l}catch(yt){if(ha.lastException=yt,"string"!=typeof(yt instanceof E?yt.val:yt))throw yt}++l}this.engine.handleCollision(this,s)}},addContact:function(e){null!=this.contacts&&(this.contacts.set(e.key,e),this.contactCount++)},removeContact:function(e){if(null!=this.collisions){var i=this.collisions,s=e.key,n=i.mH,o=n.mHash[73856093*s&n.mMask];if(-1==o)s=-2147483648;else if((n=n.mData)[o]==s)s=n[o+1];else{var l=-2147483648;for(o=n[o+2];-1!=o;){if(n[o]==s){l=n[o+1];break}o=n[o+2]}s=l}if(null!=(i=-2147483648==s?null:i.mVals[s]))for(this.collisions.unset(e.key),this.collisionsCount--;0<i.points.length;)ge.free(i.points.pop())}null!=this.contacts&&this.contacts.unset(e.key)&&this.contactCount--},addRegionContact:function(e){null!=this.regionContacts&&this.regionContacts.set(e.key,e)},removeRegionContact:function(e){null!=this.regionContacts&&this.regionContacts.unset(e.key)},getID:function(){return this.ID},getName:function(){return this.get_name()},getGroupID:function(){return 0!=this.physicsMode?this.groupID:this.body.groupID},getLayerID:function(){return this.layer.ID},getLayer:function(){return this.layer},getLayerName:function(){return this.layer.layerName},getLayerOrder:function(){return this.layer.order},getType:function(){return this.type},isPausable:function(){return this.getType().pausable},isPaused:function(){return this.paused},pause:function(){if(this.isPausable()){this.tweenProps.pause();for(var e=0,i=this.behaviors.behaviors;e<i.length;){var s=i[e];++e,null!=s.script&&s.script.pauseTweens()}this.paused=!0,0==this.physicsMode&&this.body.setPaused(!0)}},unpause:function(){if(this.isPausable()){this.tweenProps.unpause();for(var e=0,i=this.behaviors.behaviors;e<i.length;){var s=i[e];++e,null!=s.script&&s.script.unpauseTweens()}this.paused=!1,0==this.physicsMode&&this.body.setPaused(!1)}},getGroup:function(){var e=this.engine.groups,i=this.getGroupID();return e.h[i]},getIsRegion:function(){return this.isRegion},getIsTerrainRegion:function(){return this.isTerrainRegion},moveToLayer:function(e){!this.isHUD&&e instanceof Tc&&this.engine.moveActorToLayer(this,e)},bringToFront:function(){this.isHUD||(this.engine.bringToFront(this),this.moveToTop())},bringForward:function(){this.isHUD||this.engine.bringForward(this)},sendToBack:function(){this.isHUD||(this.engine.sendToBack(this),this.moveToBottom())},sendBackward:function(){this.isHUD||this.engine.sendBackward(this)},moveToBottom:function(){this.parent.setChildIndex(this,0)},moveToTop:function(){this.parent.setChildIndex(this,this.parent.get_numChildren()-1)},moveDown:function(){var e=this.parent.getChildIndex(this);0<e&&this.parent.setChildIndex(this,e-1)},moveUp:function(){var e=this.parent.getChildIndex(this);e<this.parent.get_numChildren()-1&&this.parent.setChildIndex(this,e+1)},getZIndex:function(){return this.parent.getChildIndex(this)},setZIndex:function(e){var i=this.parent.get_numChildren()-1;e>i&&(e=i),0>e&&(e=0),this.parent.setChildIndex(this,e)},enableSmoothMotion:function(){this.smoothMove=!0},getX:function(e){null==e&&(e=!0);var i=-1;return p.NO_PHYSICS||(this.isRegion||this.isTerrainRegion?i=p.toPixelUnits(this.body.getPosition().x)-this.cacheWidth/2:0==this.physicsMode&&(i=this.body.getPosition().x*p.physicsScale-Math.floor(this.cacheWidth/2)-this.currOffset.x)),(p.NO_PHYSICS||0!=this.physicsMode)&&(i=this.realX-Math.floor(this.cacheWidth/2)-this.currOffset.x),e?Math.round(i):i},getY:function(e){null==e&&(e=!0);var i=-1;return p.NO_PHYSICS||(this.isRegion||this.isTerrainRegion?i=p.toPixelUnits(this.body.getPosition().y)-this.cacheHeight/2:0==this.physicsMode&&(i=this.body.getPosition().y*p.physicsScale-Math.floor(this.cacheHeight/2)-this.currOffset.y)),(p.NO_PHYSICS||0!=this.physicsMode)&&(i=this.realY-Math.floor(this.cacheHeight/2)-this.currOffset.y),e?Math.round(i):i},getXCenter:function(){return 0==this.physicsMode?Math.round(p.toPixelUnits(this.body.getWorldCenter().x)-this.currOffset.x):this.realX-this.currOffset.x},getYCenter:function(){return 0==this.physicsMode?Math.round(p.toPixelUnits(this.body.getWorldCenter().y)-this.currOffset.y):this.realY-this.currOffset.y},getScreenX:function(){return this.isHUD?this.getX(!0):this.getX(!0)-p.cameraX/p.SCALE},getScreenY:function(){return this.isHUD?this.getY(!0):this.getY(!0)-p.cameraY/p.SCALE},setX:function(e,i,s){null==s&&(s=!1),null==i&&(i=!1),1==this.physicsMode?(null==(i=s||!this.continuousCollision)&&(i=!0),this.moveActorBy(e+Math.floor(this.cacheWidth/2)+this.currOffset.x-this.realX,this.realY-this.realY,i,!1)):2==this.physicsMode?this.resetReal(e+Math.floor(this.cacheWidth/2)+this.currOffset.x,this.realY):(this.dummy.x=p.toPhysicalUnits(this.isRegion||this.isTerrainRegion?e:e+Math.floor(this.cacheWidth/2)+this.currOffset.x),this.dummy.y=this.body.getPosition().y,this.body.setPosition(this.dummy),i&&this.body.setLinearVelocity(this.zero)),this.snapOnSet&&(this.drawX=this.realX,this.drawY=this.realY),this.updateMatrix=!0},setY:function(e,i,s){null==s&&(s=!1),null==i&&(i=!1),1==this.physicsMode?(null==(i=s||!this.continuousCollision)&&(i=!0),this.moveActorBy(this.realX-this.realX,e+Math.floor(this.cacheHeight/2)+this.currOffset.y-this.realY,i,!1)):2==this.physicsMode?this.resetReal(this.realX,e+Math.floor(this.cacheHeight/2)+this.currOffset.y):(this.dummy.y=p.toPhysicalUnits(this.isRegion||this.isTerrainRegion?e:e+Math.floor(this.cacheHeight/2)+this.currOffset.y),this.dummy.x=this.body.getPosition().x,this.body.setPosition(this.dummy),i&&this.body.setLinearVelocity(this.zero)),this.snapOnSet&&(this.drawX=this.realX,this.drawY=this.realY),this.updateMatrix=!0},setXY:function(e,i,s,n){null==n&&(n=!1),null==s&&(s=!1),1==this.physicsMode?(null==(s=n||!this.continuousCollision)&&(s=!0),this.moveActorBy(e+Math.floor(this.cacheWidth/2)+this.currOffset.x-this.realX,i+Math.floor(this.cacheHeight/2)+this.currOffset.y-this.realY,s,!1),0==this.colX&&0==this.colY&&this.resetReal(this.realX,this.realY)):2==this.physicsMode?this.resetReal(e+Math.floor(this.cacheWidth/2)+this.currOffset.x,i+Math.floor(this.cacheHeight/2)+this.currOffset.y):(this.isRegion||this.isTerrainRegion?(this.dummy.x=p.toPhysicalUnits(e),this.dummy.y=p.toPhysicalUnits(i)):(this.dummy.x=p.toPhysicalUnits(e+Math.floor(this.cacheWidth/2)+this.currOffset.x),this.dummy.y=p.toPhysicalUnits(i+Math.floor(this.cacheHeight/2)+this.currOffset.y)),this.body.setPosition(this.dummy),s&&this.body.setLinearVelocity(this.zero)),this.snapOnSet&&(this.drawX=this.realX,this.drawY=this.realY),this.updateMatrix=!0},setXCenter:function(e){this.setX(e-this.getWidth()/2)},setYCenter:function(e){this.setY(e-this.getHeight()/2)},setScreenX:function(e){this.setX(this.isHUD?e:e+p.cameraX/p.SCALE)},setScreenY:function(e){this.setY(this.isHUD?e:e+p.cameraY/p.SCALE)},follow:function(e){if(null!=e)if(0!=this.physicsMode){var i=e.getXCenter();e=e.getYCenter(),this.moveActorBy(i-this.realX,e-this.realY,!0,!1)}else this.body.setPosition(e.body.getWorldCenter())},followWithOffset:function(e,i,s){0!=this.physicsMode?(i=e.getXCenter()+i,s=e.getYCenter()+s,this.moveActorBy(i-this.realX,s-this.realY,!0,!1)):((e=e.body.getWorldCenter()).x+=p.toPhysicalUnits(i),e.y+=p.toPhysicalUnits(s),this.body.setPosition(e))},setOriginPoint:function(e,i){var s=0==this.physicsMode?this.body.getPosition():new K(p.toPhysicalUnits(this.realX),p.toPhysicalUnits(this.realY)),n=new K(this.currOffset.x,this.currOffset.y),o=this.getAngle(),l=e-this.cacheWidth/2|0,_=i-this.cacheHeight/2|0;if(null!=this.currOrigin&&((0|this.currOffset.x)!=l||(0|this.currOffset.y)!=_)&&57.29577951308402*o|0){var h=o+Math.atan2(-this.currOffset.y,-this.currOffset.x);o+=Math.atan2(-_,-l);var m=Math.sqrt(Math.pow(this.currOffset.x,2)+Math.pow(this.currOffset.y,2)),f=Math.sqrt(Math.pow(l,2)+Math.pow(_,2)),y=Math.round(this.currOrigin.y+Math.sin(h)*m),g=Math.round(i+Math.sin(o)*f);s.x+=p.toPhysicalUnits(Math.round(this.currOrigin.x+Math.cos(h)*m)-Math.round(e+Math.cos(o)*f)),s.y+=p.toPhysicalUnits(y-g)}this.currOrigin.x=e,this.currOrigin.y=i,this.currOffset.x=l,this.currOffset.y=_,n.x=this.currOffset.x-n.x,n.y=this.currOffset.y-n.y,s.x+=p.toPhysicalUnits(n.x),s.y+=p.toPhysicalUnits(n.y),0==this.physicsMode?this.body.setPosition(s):(this.realX=p.toPixelUnits(s.x),this.realY=p.toPixelUnits(s.y)),this.resetOrigin=!0},getXVelocity:function(){return 0!=this.physicsMode?this.xSpeed:this.body.getLinearVelocity().x},getYVelocity:function(){return 0!=this.physicsMode?this.ySpeed:this.body.getLinearVelocity().y},setXVelocity:function(e){if(0!=this.physicsMode)this.xSpeed=e;else{var i=this.body.getLinearVelocity();i.x=e,this.body.setLinearVelocity(i),this.body.setAwake(!0)}},setYVelocity:function(e){if(0!=this.physicsMode)this.ySpeed=e;else{var i=this.body.getLinearVelocity();i.y=e,this.body.setLinearVelocity(i),this.body.setAwake(!0)}},setVelocity:function(e,i){this.setXVelocity(i*Math.cos(.01745329251994278*e)),this.setYVelocity(i*Math.sin(.01745329251994278*e))},accelerateX:function(e){this.setXVelocity(this.getXVelocity()+e)},accelerateY:function(e){this.setYVelocity(this.getYVelocity()+e)},accelerate:function(e,i){this.setXVelocity(this.getXVelocity()+i*Math.cos(.01745329251994278*e)),this.setYVelocity(this.getYVelocity()+i*Math.sin(.01745329251994278*e))},getAngle:function(){return 0!=this.physicsMode?.01745329251994278*this.realAngle:this.body.getAngle()},getAngleInDegrees:function(){return 0!=this.physicsMode?this.realAngle:57.29577951308402*this.body.getAngle()},setAngle:function(e,i){null==i&&(i=!0),i?0!=this.physicsMode?this.realAngle=57.29577951308402*e:this.body.setAngle(e):0!=this.physicsMode?this.realAngle=e:this.body.setAngle(.01745329251994278*e),this.updateMatrix=!0},rotate:function(e,i){null==i&&(i=!0),i?0!=this.physicsMode?this.realAngle+=57.29577951308402*e:this.body.setAngle(this.body.getAngle()+e):0!=this.physicsMode?this.realAngle+=e:this.body.setAngle(this.body.getAngle()+.01745329251994278*e)},getAngularVelocity:function(){return 0!=this.physicsMode?.01745329251994278*this.rSpeed:this.body.getAngularVelocity()},setAngularVelocity:function(e){0!=this.physicsMode?this.rSpeed=57.29577951308402*e:(this.body.setAngularVelocity(e),this.body.setAwake(!0))},changeAngularVelocity:function(e){0!=this.physicsMode?this.rSpeed+=57.29577951308402*e:(this.body.setAngularVelocity(this.body.getAngularVelocity()+e),this.body.setAwake(!0))},push:function(e,i,s){0!=this.physicsMode?(this.dummy.x=e,this.dummy.y=i,this.dummy.normalize(),this.accelerateX(this.dummy.x*s*.01),this.accelerateY(this.dummy.y*s*.01)):(0!=e||0!=i)&&(this.dummy.x=e,this.dummy.y=i,this.dummy.normalize(),this.dummy.multiply(s),this.body.applyForce(this.dummy,this.body.getWorldCenter()))},pushInDirection:function(e,i){this.push(Math.cos(.01745329251994278*e),Math.sin(.01745329251994278*e),i)},applyImpulse:function(e,i,s){0!=this.physicsMode?(this.dummy.x=e,this.dummy.y=i,this.dummy.normalize(),this.accelerateX(this.dummy.x*s),this.accelerateY(this.dummy.y*s)):(0!=e||0!=i)&&(this.dummy.x=e,this.dummy.y=i,this.dummy.normalize(),this.dummy.multiply(s),this.body.applyImpulse(this.dummy,this.body.getWorldCenter()))},applyImpulseInDirection:function(e,i){this.applyImpulse(Math.cos(.01745329251994278*e),Math.sin(.01745329251994278*e),i)},applyTorque:function(e){0!=this.physicsMode?this.fixedRotation||(this.rSpeed-=e):(this.body.applyTorque(e),this.body.setAwake(!0))},getWidth:function(){return this.cacheWidth},getHeight:function(){return this.cacheHeight},getPhysicsWidth:function(){return this.cacheWidth/p.physicsScale},getPhysicsHeight:function(){return this.cacheHeight/p.physicsScale},getBody:function(){return this.body},enableRotation:function(){0!=this.physicsMode?this.fixedRotation=!1:this.body.setFixedRotation(!1)},disableRotation:function(){0!=this.physicsMode?this.fixedRotation=!0:this.body.setFixedRotation(!0)},setIgnoreGravity:function(e){this.ignoreGravity=e,0==this.physicsMode&&this.body.setIgnoreGravity(e)},ignoresGravity:function(){return 0!=this.physicsMode?this.ignoreGravity:this.body.isIgnoringGravity()},getFriction:function(){return 0==this.physicsMode&&null!=this.body.m_fixtureList?this.body.m_fixtureList.m_friction:0},getBounciness:function(){return 0==this.physicsMode&&null!=this.body.m_fixtureList?this.body.m_fixtureList.m_restitution:0},getMass:function(){return 0==this.physicsMode?this.md.mass:0},getAngularMass:function(){return 0==this.physicsMode?this.md.I:0},getLinearDamping:function(){return 0==this.physicsMode?this.body.getLinearDamping():0},getAngularDamping:function(){return 0==this.physicsMode?this.body.getAngularDamping():0},setFriction:function(e){0==this.physicsMode&&this.body.setFriction(e)},setBounciness:function(e){0==this.physicsMode&&this.body.setBounciness(e)},setMass:function(e){0==this.physicsMode&&(this.md.mass=e,this.body.setMassData(this.md))},setAngularMass:function(e){0==this.physicsMode&&(this.md.I=e,this.body.setMassData(this.md))},setLinearDamping:function(e){0==this.physicsMode&&this.body.setLinearDamping(e)},setAngularDamping:function(e){0==this.physicsMode&&this.body.setAngularDamping(e)},isMouseOver:function(){if(this.isHUD)var e=(R.mouseX-p.engine.hudLayer.get_x())/p.SCALE,i=(R.mouseY-p.engine.hudLayer.get_y())/p.SCALE;else e=(R.mouseX+p.cameraX*this.layer.scrollFactorX)/p.SCALE,i=(R.mouseY+p.cameraY*this.layer.scrollFactorY)/p.SCALE;var s=Math.abs(this.realScaleX),n=Math.abs(this.realScaleY),o=this.currOrigin.x*(s-1),l=(this.cacheWidth-this.currOrigin.x)*(s-1),_=this.currOrigin.y*(n-1),h=(this.cacheHeight-this.currOrigin.y)*(n-1);0==this.physicsMode||this.currOrigin.x==this.cacheWidth/2&&this.currOrigin.y==this.cacheHeight/2||this.resetReal(this.realX,this.realY);var m=this.colX-o,f=this.colY-_;if(0!=this.get_rotation()){e-=s=m+this.currOrigin.x*s,i-=n=f+this.currOrigin.y*n;var y=.01745329251994278*this.get_rotation();n=n-e*Math.sin(y)+i*Math.cos(y),e=s+e*Math.cos(y)+i*Math.sin(y),i=n}return this.isHUD&&!p.engine.isHUDZoomable?e>=m/p.engine.zoomMultiplier&&i>=f/p.engine.zoomMultiplier&&e<(m+this.cacheWidth+o+l)/p.engine.zoomMultiplier&&i<(f+this.cacheHeight+_+h)/p.engine.zoomMultiplier:e>=m&&i>=f&&e<m+this.cacheWidth+o+l&&i<f+this.cacheHeight+_+h},isMouseHover:function(){return!!this.isMouseOver()&&!R.mouseDown},isMouseDown:function(){return!!this.isMouseOver()&&R.mouseDown},isMousePressed:function(){return!!this.isMouseOver()&&R.mousePressed},isMouseReleased:function(){return!!this.isMouseOver()&&R.mouseReleased},cancelTweens:function(){this.tweenProps.cancel()},fadeTo:function(e,i,s){null==i&&(i=1),this.tweenProps.alpha.tween(this.get_alpha(),e,s,1e3*i|0)},growTo:function(e,i,s,n){null==s&&(s=1),null==i&&(i=1),null==e&&(e=1),this.tweenProps.realScaleXY.tween(this.realScaleX,e,this.realScaleY,i,n,1e3*s|0)},spinTo:function(e,i,s){null==i&&(i=1),this.tweenProps.angle.tween(this.getAngleInDegrees(),e,s,1e3*i|0)},moveTo:function(e,i,s,n){null==s&&(s=1),this.tweenProps.xy.tween(this.getX(!1),e,this.getY(!1),i,n,1e3*s|0)},spinBy:function(e,i,s){null==i&&(i=1),this.spinTo(this.getAngleInDegrees()+e,i,s)},moveBy:function(e,i,s,n){null==s&&(s=1),this.moveTo(this.getX(!1)+e,this.getY(!1)+i,s,n)},drawImage:function(e){if(null!=this.currAnimation){var i=0,s=0;0<this.realAngle&&(this.drawMatrix.identity(),this.transformPoint.x=-this.cacheWidth/2*p.SCALE,this.transformPoint.y=-this.cacheHeight/2*p.SCALE,this.drawMatrix.translate(-this.transformPoint.x,-this.transformPoint.y),this.drawMatrix.scale(this.realScaleX,this.realScaleY),this.drawMatrix.rotate(.01745329251994278*this.realAngle),this.drawMatrix.translate(this.colX*p.SCALE,this.colY*p.SCALE),i+=this.transformMatrix.tx-this.drawMatrix.tx,s+=this.transformMatrix.ty-this.drawMatrix.ty);var n=this.currAnimation.get_visible();this.currAnimation.set_visible(!0);var o=this.currAnimation,l=.01745329251994278*this.realAngle;if(!ja.disposeImages||o.model.checkImageReadable()){if(o=o.get_bitmapData(),null==l&&(l=0),i*=e.scaleX,s*=e.scaleY,e.rect.x=0,e.rect.y=0,e.rect.width=o.width,e.rect.height=o.height,e.drawActor?null!=e.actor&&e.actor.isHUD?(e.point.x=e.x+i,e.point.y=e.y+s):(e.point.x=e.x+i-p.cameraX,e.point.y=e.y+s-p.cameraY):(e.point.x=e.x+i,e.point.y=e.y+s),e.mtx.identity(),e.mtx.rotate(l),e.mtx.translate(e.point.x,e.point.y),0==l)1!=e.alpha&&(e.point2.x=0,e.point2.y=0,e.rect2.width=o.width,e.rect2.height=o.height,s=new pa(o.width,o.height,!0,e.toARGB(0,255*e.alpha|0)),(i=new pa(o.width,o.height,!0,0)).copyPixels(o,e.rect2,e.point2,s,null,!0),o=i),e.graphics.beginBitmapFill(o,e.mtx),e.graphics.drawRect(e.point.x,e.point.y,o.width,o.height);else{1!=e.alpha&&(e.point2.x=0,e.point2.y=0,e.rect2.width=o.width,e.rect2.height=o.height,s=new pa(o.width,o.height,!0,e.toARGB(0,255*e.alpha|0)),(i=new pa(o.width,o.height,!0,0)).copyPixels(o,e.rect2,e.point2,s,null,!0),o=i),s=new pa(o.width+2,o.height+2,!0,0),i=0|Math.sqrt(Math.pow(s.width,2)+Math.pow(s.height,2)),l=new ia(0,0,o.width,o.height);var _=new ra(1,1);s.copyPixels(o,l,_),e.graphics.beginBitmapFill(s,e.mtx,!1,ja.antialias),e.graphics.drawRect(e.x-(i-o.width)/2,e.y-(i-o.height)/2,i,i)}e.graphics.endFill()}this.currAnimation.set_visible(n)}},getCurrentImage:function(){return this.currAnimation.getCurrentImage()},enableActorDrawing:function(){this.drawActor=!0,null!=this.currAnimation&&this.currAnimation.set_visible(!0)},disableActorDrawing:function(){this.drawActor=!1,null!=this.currAnimation&&this.currAnimation.set_visible(!1)},drawsImage:function(){return this.drawActor},setFilter:function(e){null==this.bitmapFilters&&(this.bitmapFilters=[]),this.bitmapFilters=this.bitmapFilters.concat(e),null!=this.currAnimation&&this.currAnimation.set_filter(this.bitmapFilters)},clearFilters:function(){this.bitmapFilters=null,null!=this.currAnimation&&this.currAnimation.set_filter(null)},setBlendMode:function(e){this.set_blendMode(e)},resetBlendMode:function(){this.set_blendMode(10)},addBehavior:function(e){null!=this.behaviors&&this.behaviors.add(e)},hasBehavior:function(e){return null!=this.behaviors&&this.behaviors.hasBehavior(e)},enableBehavior:function(e){null!=this.behaviors&&this.behaviors.enableBehavior(e)},disableBehavior:function(e){null!=this.behaviors&&this.behaviors.disableBehavior(e)},isBehaviorEnabled:function(e){return null!=this.behaviors&&this.behaviors.isBehaviorEnabled(e)},enableAllBehaviors:function(){if(null!=this.behaviors)for(var e=0,i=this.behaviors.behaviors;e<i.length;){var s=i[e];++e,s.enabled=!0}},getValue:function(e,i){return this.behaviors.getAttribute(e,i)},setValue:function(e,i,s){this.behaviors.setAttribute(e,i,s)},shout:function(e,i){return this.behaviors.call(e,i)},say:function(e,i,s){return this.behaviors.call2(e,i,s)},setActorValue:function(e,i){if(null!=this.registry){var s=this.registry;null!=t[e]?s.setReserved(e,i):s.h[e]=i}},getActorValue:function(e){if(null==this.registry)return null;var i=this.registry;return null!=t[e]?i.getReserved(e):i.h[e]},hasActorValue:function(e){if(null==this.registry)return null;var i=this.registry;return null!=(null!=t[e]?i.getReserved(e):i.h[e])},registerListener:function(e,i){var s=N.indexOf(this.allListenerReferences,e);-1!=s?e=this.allListeners.h[s]:(this.allListenerReferences.push(e),this.allListeners.h[s=this.allListenerReferences.length-1]=e=[]),e.push(i)},removeAllListeners:function(){for(var e=0,i=this.allListenerReferences.length;e<i;){var s=e++,n=this.allListenerReferences[s];if(null!=n&&null!=(s=T.__cast(this.allListeners.h[s],Array)))for(var o=0,l=s.length;o<l;){var _=o++;_=s[_];for(var h=n.length-1;-1<h;)n[h]==_&&n.splice(h,1),--h}}this.allListenerReferences.length=0},anchorToScreen:function(){this.isHUD||this.engine.moveActorToLayer(this,this.engine.hudLayer)},unanchorFromScreen:function(){this.isHUD&&this.engine.moveActorToLayer(this,this.cachedLayer)},isAnchoredToScreen:function(){return this.isHUD},makeAlwaysSimulate:function(e){null==e&&(e=!0),this.alwaysSimulate||(0==this.physicsMode&&e&&(this.body.setAlwaysActive(!0),this.body.setActive(!0)),this.alwaysSimulate=!0)},makeSometimesSimulate:function(e){null==e&&(e=!0),this.alwaysSimulate&&(0==this.physicsMode&&e&&(this.body.setAlwaysActive(!1),this.body.setActive(!1)),this.alwaysSimulate=!1)},alwaysSimulates:function(){return this.alwaysSimulate},die:function(){this.dying=!0;var e=this.engine.whenTypeGroupDiesListeners,i=this.getType();e=e.h[i.__id__],i=this.engine.whenTypeGroupDiesListeners;var s=this.getGroup();i=i.h[s.__id__],s=this.whenKilledListeners;for(var n=0;n<s.length;){try{var o=s[n];o(s),-1==N.indexOf(s,o)&&--n}catch(h){if(ha.lastException=h,"string"!=typeof(h instanceof E?h.val:h))throw h}++n}if(null!=e)for(o=0;o<e.length;){try{var l=e[o];l(this,e),-1==N.indexOf(e,l)&&--o}catch(h){if(ha.lastException=h,"string"!=typeof(h instanceof E?h.val:h))throw h}++o}if(null!=i)for(l=0;l<i.length;){try{var _=i[l];_(this,i),-1==N.indexOf(i,_)&&--l}catch(h){if(ha.lastException=h,"string"!=typeof(h instanceof E?h.val:h))throw h}++l}this.removeAllListeners()},isDying:function(){return this.dying},isAlive:function(){return!(this.dead||this.dying||this.recycled)},isOnScreen:function(){var e=p.cameraX/p.SCALE,i=p.cameraY/p.SCALE,s=p.paddingLeft,n=p.paddingTop,o=p.paddingRight,l=p.paddingBottom;return!!((0!=this.physicsMode||this.body.isActive())&&this.getX(!0)+this.cacheWidth*this.realScaleX>=e-s&&this.getY(!0)+this.cacheHeight*this.realScaleY>=i-n&&this.getX(!0)<e+p.screenWidth+o)&&this.getY(!0)<i+p.screenHeight+l},isInScene:function(){return!!((0!=this.physicsMode||this.body.isActive())&&0<=this.getX(!0)+this.cacheWidth*this.realScaleX&&0<=this.getY(!0)+this.cacheHeight*this.realScaleY&&this.getX(!0)<p.sceneWidth)&&this.getY(!0)<p.sceneHeight},getLastCollidedActor:function(){return Ab.lastCollided},killSelfAfterLeavingScreen:function(){this.killLeaveScreen=!0},toString:function(){return null==this.get_name()?"Unknown Actor "+this.ID:"[Actor "+this.ID+","+this.get_name()+"]"},addRectangularShape:function(e,i,s,n){if(0==this.physicsMode){var o=new Jb,l=[];e=p.toPhysicalUnits(e-Math.floor(this.cacheWidth/2)-this.currOffset.x),i=p.toPhysicalUnits(i-Math.floor(this.cacheHeight/2)-this.currOffset.y),s=p.toPhysicalUnits(s),n=p.toPhysicalUnits(n),l.push(new K(e,i)),l.push(new K(e+s,i)),l.push(new K(e+s,i+n)),l.push(new K(e,i+n)),o.setAsVector(l),this.createFixture(o).SetUserData(this)}},addCircularShape:function(e,i,s){if(0==this.physicsMode){var n=new ad;n.m_radius=p.toPhysicalUnits(s),n.m_p.x=p.toPhysicalUnits(e),n.m_p.y=p.toPhysicalUnits(i),this.createFixture(n).SetUserData(this)}},addVertex:function(e,i,s){i=p.toPhysicalUnits(i-Math.floor(this.cacheWidth/2)-this.currOffset.x),s=p.toPhysicalUnits(s-Math.floor(this.cacheHeight/2)-this.currOffset.y),e.push(new K(i,s))},addPolygonalShape:function(e){if(0==this.physicsMode){var i=new Jb;i.setAsArray(e),this.createFixture(i).SetUserData(this)}},createFixture:function(e){var i=new ig;return i.shape=e,i.density=.1*this.bodyDef.mass,i.friction=this.bodyDef.friction,i.restitution=this.bodyDef.bounciness,this.body.createFixture(i)},getLastCreatedFixture:function(){return 0==this.physicsMode?this.body.getFixtureList():null},setLocation:function(e,i){this.realX=e,this.realY=i,this.setXY(e,i,!1,!0)},get_shape:function(){return this._mask},set_shape:function(e){return this._mask==e?e:(null!=this._mask&&this._mask.assignTo(null),this._mask=e,null!=e&&this._mask.assignTo(this),this._mask)},collide:function(e,i,s){if(e=this.engine.getGroup(e),this._x=this.realX,this._y=this.realY,this.resetReal(i,s),null==this._mask){for(i=0,e=e.list;i<e.length;)if(s=e[i],++i,!s.recycled&&this.colX+this.cacheWidth>=s.colX&&this.colY+this.cacheHeight>=s.colY&&this.colX<=s.colX+s.cacheWidth&&this.colY<=s.colY+s.cacheHeight&&s.collidable&&s!=this&&(null==s._mask||s._mask.collide(this.HITBOX)))return this.colMask=s._mask,this.resetReal(this._x,this._y),s;return this.resetReal(this._x,this._y),null}for(i=0,e=e.list;i<e.length;)if(s=e[i],++i,!s.recycled&&this.colX+this.cacheWidth>=s.colX&&this.colY+this.cacheHeight>=s.colY&&this.colX<=s.colX+s.cacheWidth&&this.colY<=s.colY+s.cacheHeight&&s.collidable&&s!=this&&this._mask.collide(null!=s._mask?s._mask:s.HITBOX))return this.colMask=null!=s._mask?s._mask:s.HITBOX,this.resetReal(this._x,this._y),s;return this.resetReal(this._x,this._y),null},collideTypes:function(e,i,s){for(var n=this.collidedList.length,o=0;o<e.length;){var l=e[o];++o,-2!=l&&this.collideInto(l,i,s,this.collidedList)}return this.collidedList.length>n?this.collidedList[this.collidedList.length-1]:null},collideWith:function(e,i,s){if(this._x=this.realX,this._y=this.realY,this.resetReal(i,s),this.colX+this.cacheWidth>=e.colX&&this.colY+this.cacheHeight>=e.colY&&this.colX<=e.colX+e.cacheWidth&&this.colY<=e.colY+e.cacheHeight&&this.collidable&&e.collidable){if(null==this._mask)return null==e._mask||e._mask.collide(this.HITBOX)?(this.resetReal(this._x,this._y),e):(this.resetReal(this._x,this._y),null);if(this._mask.collide(null!=e._mask?e._mask:e.HITBOX))return this.resetReal(this._x,this._y),e}return this.resetReal(this._x,this._y),null},collideInto:function(e,i,s,n){if(e=this.engine.getGroup(e),this._x=this.realX,this._y=this.realY,this.resetReal(i,s),i=n.length,null==this._mask)for(s=0,e=e.list;s<e.length;){var o=e[s];++s,o.recycled||this.colX+this.cacheWidth>=o.colX&&this.colY+this.cacheHeight>=o.colY&&this.colX<=o.colX+o.cacheWidth&&this.colY<=o.colY+o.cacheHeight&&o.collidable&&o!=this&&(null==o._mask||o._mask.collide(this.HITBOX))&&(N.contains(n,o)||(n[i++]=o))}else for(s=0,e=e.list;s<e.length;)o=e[s],++s,this.colX+this.cacheWidth>=o.colX&&this.colY+this.cacheHeight>=o.colY&&this.colX<=o.colX+o.cacheWidth&&this.colY<=o.colY+o.cacheHeight&&o.collidable&&o!=this&&this._mask.collide(null!=o._mask?o._mask:o.HITBOX)&&(N.contains(n,o)||(n[i++]=o));this.resetReal(this._x,this._y)},clearCollisionInfoList:function(){if(0<this.collisionsCount)for(var e=this.simpleCollisions.iterator();e.hasNext();){var i=e.next();i.remove=!0,null!=i.linkedCollision&&(i.linkedCollision.remove=!0)}},disposeRemovedCollisionInfo:function(){if(0<this.collisionsCount){for(var e=-1,i=this.simpleCollisions.keys();i.hasNext();){var s=i.next(),n=this.simpleCollisions,o=n.mH,l=o.mHash[73856093*s&o.mMask];if(-1==l)l=-2147483648;else if((o=o.mData)[l]==s)l=o[l+1];else{var _=-2147483648;for(l=o[l+2];-1!=l;){if(o[l]==s){_=o[l+1];break}l=o[l+2]}l=_}(-2147483648==l?null:n.mVals[l]).remove?this.simpleCollisions.unset(s):s>e&&(e=s)}this.collisionsCount=e+1}},clearCollidedList:function(){for(;0<this.collidedList.length;)this.collidedList.pop();this.listChecked=0},addCollision:function(e){var i=this.alreadyCollided(e);if(-1!=i){var s=this.simpleCollisions,n=s.mH,o=n.mHash[73856093*i&n.mMask];if(-1==o)o=-2147483648;else if((n=n.mData)[o]==i)o=n[o+1];else{var l=-2147483648;for(o=n[o+2];-1!=o;){if(n[o]==i){l=n[o+1];break}o=n[o+2]}o=l}return e.switchData((s=-2147483648==o?null:s.mVals[o]).linkedCollision),e.linkedCollision.remove=!1,e.remove=!1,Fc.recycle(s),this.simpleCollisions.unset(i),this.simpleCollisions.set(i,e),e}return this.simpleCollisions.unset(this.collisionsCount),this.simpleCollisions.set(this.collisionsCount,e),this.collisionsCount++,e},alreadyCollided:function(e){for(var i=this.simpleCollisions.keys();i.hasNext();){var s=i.next(),n=this.simpleCollisions,o=n.mH,l=o.mHash[73856093*s&o.mMask];if(-1==l)l=-2147483648;else if((o=o.mData)[l]==s)l=o[l+1];else{var _=-2147483648;for(l=o[l+2];-1!=l;){if(o[l]==s){_=o[l+1];break}l=o[l+2]}l=_}if(null!=(n=-2147483648==l?null:n.mVals[l])&&(n.maskA==e.maskA&&n.maskB==e.maskB||n.maskA==e.maskB&&n.maskB==e.maskA)){if(!n.solidCollision)return s;if(1!=n.maskA.groupID&&1!=n.maskB.groupID)return s;if((n.thisFromLeft||n.thisFromRight)&&(e.thisFromLeft||e.thisFromRight)||(n.thisFromTop||n.thisFromBottom)&&(e.thisFromTop||e.thisFromBottom))return s}}return-1},resetReal:function(e,i){this.realX=e,this.realY=i,this.colX=this.realX-Math.floor(this.cacheWidth/2)-this.currOffset.x,this.colY=this.realY-Math.floor(this.cacheHeight/2)-this.currOffset.y},adjustByWidth:function(e){if(null!=this._mask&&null!=this._mask.lastCheckedMask&&this._mask.lastCheckedMask instanceof Qc){var i=this._mask.lastCheckedMask;return e?this.cacheWidth/2-(this.cacheWidth-(i._x+i._width)):this.cacheWidth/2-i._x}return this.cacheWidth/2},adjustByHeight:function(e){if(null!=this._mask&&null!=this._mask.lastCheckedMask&&this._mask.lastCheckedMask instanceof Qc){var i=this._mask.lastCheckedMask;return e?this.cacheHeight/2-(this.cacheHeight-(i._y+i._height)):this.cacheHeight/2-i._y}return this.cacheHeight/2},getAllCollisionInfo:function(e,i){for(var s=null;this.listChecked<this.collidedList.length;){var n=Fc.get();if(this.colMask=this.collidedList[this.listChecked]._mask,this.fillCollisionInfo(n,this.collidedList[this.listChecked],e,i),this.addCollision(n),null==n.linkedCollision){var o=Fc.get();n.switchData(o),this.collidedList[this.listChecked].addCollision(o)}n.solidCollision&&(s=n),this.listChecked++}return s},moveActorBy:function(e,i,s,n){if(null==n&&(n=!1),null==s&&(s=!0),0!=e||0!=i){if(this.clearCollisionInfoList(),!s&&this.collidable&&null!=this.HITBOX.collideTypes){if(s=this.HITBOX.collideTypes,0!=e){var o=0<e?Math.ceil(this.realX+e):Math.floor(this.realX+e);if(this.clearCollidedList(),n||null!=this.collideTypes(s,o,this.realY))for(this.clearCollidedList();0!=e;){var l=1<=e||-1>=e?1:Math.abs(e);o=0<(l=0<e?l:-l)?Math.ceil(this.realX+l):Math.floor(this.realX+l);var _=this.collide(-2,o,this.realY);if(null!=_&&T.__cast(_,Dd).addActor(this),null!=(_=this.collideTypes(s,o,this.realY))&&null!=(o=this.getAllCollisionInfo(l,0))){this.xSpeed=0,o.useBounds&&(this.realX=0<l?o.bounds.x-Math.ceil(this.adjustByWidth(!0)):o.bounds.x+o.bounds.width+Math.floor(this.adjustByWidth(!1)));break}this.realX+=l,e-=l}else this.realX+=e}if(0!=i)if(o=0<i?Math.ceil(this.realY+i):Math.floor(this.realY+i),this.clearCollidedList(),n||null!=this.collideTypes(s,this.realX,o))for(this.clearCollidedList();0!=i;){if(l=1<=i||-1>=i?1:Math.abs(i),o=0<(l=0<i?l:-l)?Math.ceil(this.realY+l):Math.floor(this.realY+l),null!=(_=this.collide(-2,this.realX,o))&&T.__cast(_,Dd).addActor(this),null!=(_=this.collideTypes(s,this.realX,o))&&null!=(e=this.getAllCollisionInfo(0,l))){this.ySpeed=0,e.useBounds&&(this.realY=0<l?e.bounds.y-Math.ceil(this.adjustByHeight(!0)):e.bounds.y+e.bounds.height+Math.floor(this.adjustByHeight(!1)));break}this.realY+=l,i-=l}else this.realY+=i}else this.realX+=e,this.realY+=i;this.resetReal(this.realX,this.realY)}},moveActorTo:function(e,i,s,n){null==n&&(n=!1),null==s&&(s=!0),this.moveActorBy(e-this.realX,i-this.realY,s,n)},moveActorTowards:function(e,i,s,n,o){null==o&&(o=!1),null==n&&(n=!0),this._point.x=e-this.realX,this._point.y=i-this.realY,this._point.normalize(s),this.moveActorBy(this._point.x,this._point.y,n,o)},moveCollideX:function(e,i){},moveCollideY:function(e,i){},fillCollisionInfo:function(e,i,s,n){if(i instanceof Dd)i.addActor(this);else{e.thisActor=e.actorA=this,e.otherActor=e.actorB=i,e.maskA=this._mask,e.maskB=this.colMask,e.solidCollision=this._mask.solid&&this.colMask.solid,e.groupA=this._mask.lastCheckedMask.groupID,e.groupB=this._mask.lastCheckedMask.lastColID;var o=Fc.collisionResponses,l=this.getGroupID();o=o.h[l];var _=l=!1;if(null!=o){var h=i.getGroupID();h=null!=o.h[h]}else h=!1;h&&(h=i.getGroupID(),"sensor"==o.h[h]?(e.solidCollision=!1,l=!0):_=e.solidCollision=!0),null!=this.colMask&&(e.useBounds=!0,e.bounds.x=this.colMask.lastBounds.x,e.bounds.y=this.colMask.lastBounds.y,e.bounds.width=this.colMask.lastBounds.width,e.bounds.height=this.colMask.lastBounds.height),0!=s&&(1e8==i.ID?(e.thisFromLeft=0>s,e.thisFromRight=0<s):(e.thisFromLeft=i.colX<this.colX,e.thisFromRight=i.colX>this.colX),e.otherFromLeft=!e.thisFromLeft,e.otherFromRight=!e.thisFromRight,e.thisFromTop=e.otherFromTop=!1,e.thisFromBottom=e.otherFromBottom=!1),0!=n&&(1e8==i.ID?(e.thisFromTop=0>n,e.thisFromBottom=0<n):(e.thisFromTop=i.colY<this.colY,e.thisFromBottom=i.colY>this.colY),e.otherFromTop=!e.thisFromTop,e.otherFromBottom=!e.thisFromBottom,e.thisFromLeft=e.otherFromLeft=!1,e.thisFromRight=e.otherFromRight=!1),e.thisCollidedWithActor=!0,e.thisCollidedWithTile=1e8==i.ID,e.thisCollidedWithSensor=null!=e&&(l||!_&&!e.maskB.solid),e.thisCollidedWithTerrain=!1,e.otherCollidedWithActor=!0,e.otherCollidedWithTile=1e8==i.ID,e.otherCollidedWithSensor=null!=e&&!e.maskA.solid,e.otherCollidedWithTerrain=!1}},handleCollisionsSimple:function(){if(0<this.collisionsCount)for(var e=this.simpleCollisions.iterator();e.hasNext();){var i=e.next();if(null!=i&&1!=i.remove){Ab.lastCollided=i.otherActor;for(var s=this.collisionListeners,n=i,o=0;o<s.length;){try{var l=s[o];l(n,s),-1==N.indexOf(s,l)&&--o}catch(_){if(ha.lastException=_,"string"!=typeof(_ instanceof E?_.val:_))throw _}++o}this.engine.handleCollision(this,i)}}},HITBOX:null,_mask:null,colMask:null,_x:null,_y:null,_moveX:null,_moveY:null,_point:null,simpleCollisions:null,collidedList:null,listChecked:null,__class__:Ab,__properties__:x(qa.prototype.__properties__,{set_shape:"set_shape",get_shape:"get_shape"})});var nq=function(e,i,s,n){this.ID=e,this.name=i,this.allScenes=s,this.members=n,this.active=!0};k["com.stencyl.models.Atlas"]=nq,nq.__name__="com.stencyl.models.Atlas",nq.prototype={ID:null,name:null,allScenes:null,active:null,members:null,__class__:nq};var Ji=function(){};k["com.stencyl.models.Background"]=Ji,Ji.__name__="com.stencyl.models.Background",Ji.__isInterface__=!0,Ji.prototype={update:null,draw:null,__class__:Ji};var Ym=function(e,i){this.group1=e,this.group2=i};k["com.stencyl.models.CollisionGroupDef"]=Ym,Ym.__name__="com.stencyl.models.CollisionGroupDef",Ym.prototype={group1:null,group2:null,__class__:Ym};var sd=function(e,i,s){this.ID=e,this.atlasID=s,this.name=i,this.sID=e+","+i};k["com.stencyl.models.Resource"]=sd,sd.__name__="com.stencyl.models.Resource",sd.prototype={ID:null,atlasID:null,name:null,sID:null,toString:function(){return this.sID},isAtlasActive:function(){var e=bc.get().atlases.h[this.atlasID];return null!=e&&e.active},loadGraphics:function(){},unloadGraphics:function(){},reloadGraphics:function(e){this.unloadGraphics(),this.loadGraphics()},__class__:sd};var $f=function(e,i,s,n){sd.call(this,e,s,i),this.isDefault=n,this.isAtlasActive()&&this.loadGraphics()};k["com.stencyl.models.Font"]=$f,$f.__name__="com.stencyl.models.Font",$f.resetStatics=function(){$f.defaultFont=null},$f.__super__=sd,$f.prototype=x(sd.prototype,{font:null,fontScale:null,letterSpacing:null,isDefault:null,graphicsLoaded:null,getHeight:function(){return null!=this.font?this.font.getFontHeight()*this.fontScale|0:0},getTextWidth:function(e){return null!=this.font?this.font.getTextWidth(e,this.letterSpacing,this.fontScale):0},loadGraphics:function(){if(!this.graphicsLoaded){if(this.isDefault){var e=Ba.getText("assets/graphics/default-font.fnt");e=ka.parse(e),$f.defaultFont=this.font=(new Gf).loadAngelCode(Ba.getBitmapData("assets/graphics/default-font.png"),e),this.fontScale=p.SCALE,this.letterSpacing=0,$f.defaultFont.isDefault=!0}else{e=Ba.getText("assets/graphics/"+p.IMG_BASE+"/font-"+this.ID+".fnt"),e=ka.parse(e);var i=Ba.getBitmapData("assets/graphics/"+p.IMG_BASE+"/font-"+this.ID+".png",!1);this.font=(new Gf).loadAngelCode(i,e),this.fontScale=1,this.letterSpacing=0}this.graphicsLoaded=!0}},unloadGraphics:function(){this.graphicsLoaded&&(this.font=$f.defaultFont,this.fontScale=1,this.letterSpacing=0,this.graphicsLoaded=!1)},reloadGraphics:function(e){sd.prototype.reloadGraphics.call(this,e)},setLetterSpacing:function(e){this.letterSpacing=0|e},isBitmapFont:function(e){for(null==e&&(e=Ba.getText("assets/graphics/"+p.IMG_BASE+"/font-"+this.ID+".fnt"),e=ka.parse(e)),e=e.elements();e.hasNext();){var i=e.next();if(i.nodeType!=ka.Element)throw new E("Bad node type, expected Element but found "+ea.toString(i.nodeType));if("font"==i.nodeName)for(i=i.elements();i.hasNext();){var s=i.next();if(s.nodeType!=ka.Element)throw new E("Bad node type, expected Element but found "+ea.toString(s.nodeType));if("info"==s.nodeName)for(s=s.attributes();s.hasNext();)if("lspace"==s.next())return!0}}return!1},__class__:$f});var bc=function(){var e=tc.get().gameMbs.getRoot();this.shapes=this.readShapes(e),this.atlases=this.readAtlases(e),this.autotileFormats=this.readAutotileFormats(e),this.groups=this.readGroups(e),this.groups.push(new ci(-2,"Regions")),this.groups.push(new ci(0,"Players")),this.groups.push(new ci(1,"Terrain")),this.groups.push(new ci(2,"Doodads")),this.groups.push(new ci(3,"Actors")),this.groupsCollidesWith=new Va,this.collisionGroups=this.readCollisionGroups(e),bc.collisionMap=[];for(var i=0,s=0,n=this.groups;s<n.length;){var o=n[s];++s,i=0|Math.max(0|o.ID,i)}for(s=0,n=++i;s<n;){o=s++,bc.collisionMap.push([]);for(var l=0,_=i;l<_;)l++,bc.collisionMap[o].push(!1)}if(p.NO_PHYSICS)for(i=0,s=this.groups;i<s.length;)n=s[i],++i,this.collisionGroups.push(new Ym(n.ID,-2));for(i=0,s=this.collisionGroups;i<s.length;)o=s[i],++i,n=o.group1,o=o.group2,this.groupsCollidesWith.h.hasOwnProperty(n)||(this.groupsCollidesWith.h[n]=[]),this.groupsCollidesWith.h.hasOwnProperty(o)||(this.groupsCollidesWith.h[o]=[]),(!p.NO_PHYSICS||0<=n&&0<=o)&&(bc.collisionMap[n][o]=!0,bc.collisionMap[o][n]=!0),this.groupsCollidesWith.h[n].push(o),this.groupsCollidesWith.h[o].push(n);this.gameAttributes=bc.readGameAttributes(e),tc.get().gameMbs=null};k["com.stencyl.models.GameModel"]=bc,bc.__name__="com.stencyl.models.GameModel",bc.resetStatics=function(){bc.instance=null,bc.collisionMap=null},bc.get=function(){return null==bc.instance&&(bc.instance=new bc),bc.instance},bc.readGameAttributes=function(e){return Te.readMap(e.getGameAttributes())},bc.prototype={groups:null,groupsCollidesWith:null,collisionGroups:null,gameAttributes:null,shapes:null,atlases:null,scenes:null,autotileFormats:null,loadScenes:function(){this.scenes=new Va;for(var e=tc.get().sceneListMbs.getRoot(),i=0,s=e.length();i<s;){i++;var n=e.getNextObject(),o=n.getId(),l=this.scenes;n=new Zm(o,n.getName()),l.h[o]=n}tc.get().sceneListMbs=null},readShapes:function(e){for(var i=new Va,s=0,n=(e=e.getShapes()).length();s<n;){s++;var o=e.getNextObject(),l=o.getPoints(),_=[],h=0;for(l=Jd.readPoints(l);h<l.length;){var m=l[h];++h,_.push(new K(3.1*m.x,3.1*m.y))}Jd.EnsureCorrectVertexDirection(_),(h=new Jb).setAsArray(_,_.length),o=o.getId(),i.h[o]=h}return i},readAtlases:function(e){for(var i=new Va,s=0,n=(e=e.getAtlases()).length();s<n;){s++;for(var o=e.getNextObject(),l=o.getId(),_=o.getName(),h=o.getAllScenes(),m=[],f=0,y=(o=o.getMembers()).length();f<y;)f++,m.push(o.readInt());_=new nq(l,_,h,m),i.h[l]=_}return i},readAutotileFormats:function(e){for(var i=new Va,s=0,n=(e=e.getAutotileFormats()).length();s<n;){s++;for(var o=e.getNextObject(),l=o.getName(),_=o.getId(),h=o.getAcross(),m=o.getDown(),f=[],y=[],g=o.getCorners(),j=0,$=g.length();j<$;){j++;var yt=g.getNextObject(),_t=yt.getTopLeft();_t=new ra(_t.getX(),_t.getY());var xt=yt.getTopRight();xt=new ra(xt.getX(),xt.getY());var Tt=yt.getBottomLeft();Tt=new ra(Tt.getX(),Tt.getY()),yt=yt.getBottomRight(),y.push(new oq(_t,xt,Tt,new ra(yt.getX(),yt.getY())))}for(g=0,j=(o=o.getFlags()).length();g<j;)f[$=g++]=y[o.readInt()];l=new pq(l,_,h,m,f),i.h[_]=l}return i},readGroups:function(e){for(var i=[],s=0,n=(e=e.getGroups()).length();s<n;){s++;var o=e.getNextObject();i.push(new ci(o.getId(),o.getName()))}return i},readCollisionGroups:function(e){for(var i=[],s=0,n=(e=e.getCgroups()).length();s<n;){s++;var o=e.getNextObject();i.push(new Ym(o.getGroup1(),o.getGroup2()))}return i},__class__:bc};var ci=function(e,i){this.ID=e,this.name=i};k["com.stencyl.models.GroupDef"]=ci,ci.__name__="com.stencyl.models.GroupDef",ci.prototype={ID:null,name:null,__class__:ci};var Ha=function(){this.isPressed=!1,this.outerAlphaWhenReleased=this.outerAlphaWhenPressed=this.innerAlphaWhenReleased=this.innerAlphaWhenPressed=1,this.outerImage=this.innerImage=null,this.hideWhenReleased=!1,this.joystickDistance=this.joystickDirection=this.joystickDefaultDirection=this.joystickType=0,qa.call(this)};k["com.stencyl.models.Joystick"]=Ha,Ha.__name__="com.stencyl.models.Joystick",Ha.resetStatics=function(){Ha.joystickMap=null,Ha.fixedCenter=0,Ha.showWherePressed=1,Ha.viewOffsetX=Ha.viewOffsetY=0,Ha.initialized=!1},Ha.addJoystick=function(e,i,s,n,o,l,_,h,m){null==m&&(m=!1),null==h&&(h=0),null==_&&(_=0),null==l&&(l=0),null==o&&(o=0),null==n&&(n=0),null!=Ha.joystickMap&&Ha.joystickMap.h.hasOwnProperty(e)&&Ha.removeJoystick(e);var f=Object.create(Ha.prototype);f.start(),f.id=e,f.joystickTouchID=-1,f.joystickDistance=0,f.joystickDirection=0,f.joystickDefaultDirection=0,f.joystickType=n,f.center=new ra(i*p.SCALE,s*p.SCALE),Ha.joystickMap.h[e]=f,Ha.setJoystickImage(e,!0,"outer-joystick"),Ha.setJoystickImage(e,!1,"inner-joystick"),f.outerAlphaWhenPressed=1,f.outerAlphaWhenReleased=1,f.innerAlphaWhenPressed=1,f.innerAlphaWhenReleased=1,f.joystickType==Ha.showWherePressed&&(f.joystickBounds=new ia(o*p.SCALE+Ha.viewOffsetX,l*p.SCALE+Ha.viewOffsetY,_*p.SCALE,h*p.SCALE)),m&&(f.hideWhenReleased=!0,f.outerImage.set_visible(!1),f.innerImage.set_visible(!1))},Ha.removeJoystick=function(e){if(Ha.joystickMap.h.hasOwnProperty(e)){var i=Ha.joystickMap.h[e],s=p.engine.root;Ha.joystickMap.remove(e),s.removeChild(i.outerImage),s.removeChild(i.innerImage)}},Ha.getJoystickDisDir=function(e,i){null==i&&(i=!0);var s=0;return Ha.joystickMap.h.hasOwnProperty(e)&&(e=Ha.joystickMap.h[e],s=i?e.joystickDistance:e.joystickDirection),s},Ha.setJoystickCenter=function(e,i,s){Ha.joystickMap.h.hasOwnProperty(e)&&((e=Ha.joystickMap.h[e]).center=new ra(i*p.SCALE,s*p.SCALE),e.outerImage.set_x(e.center.x-.5*e.outerImage.get_width()),e.outerImage.set_y(e.center.y-.5*e.outerImage.get_height()),e.innerImage.set_x(e.center.x-.5*e.innerImage.get_width()),e.innerImage.set_y(e.center.y-.5*e.innerImage.get_height()))},Ha.getJoystickCenter=function(e,i){null==i&&(i=!0);var s=0;return Ha.joystickMap.h.hasOwnProperty(e)&&(e=Ha.joystickMap.h[e],s=(i?e.center.x:e.center.y)/p.SCALE),s},Ha.setJoystickRadius=function(e,i,s){null==i&&(i=!0),Ha.joystickMap.h.hasOwnProperty(e)&&(e=Ha.joystickMap.h[e],i&&e.outerRadius!=s*p.SCALE?e.outerRadius=s*p.SCALE:e.innerRadius!=s*p.SCALE&&(e.innerRadius=s*p.SCALE))},Ha.getJoystickRadius=function(e,i){null==i&&(i=!0);var s=0;return Ha.joystickMap.h.hasOwnProperty(e)&&(e=Ha.joystickMap.h[e],s=(i?e.innerRadius:e.outerRadius)/p.SCALE),s},Ha.alwaysHideRJ=function(e){Ha.joystickMap.h.hasOwnProperty(e)&&((e=Ha.joystickMap.h[e]).hideWhenReleased=!0,e.outerImage.set_visible(!1),e.innerImage.set_visible(!1))},Ha.setDefaultDirection=function(e,i){Ha.joystickMap.h.hasOwnProperty(e)&&((e=Ha.joystickMap.h[e]).joystickDefaultDirection=i,e.joystickDirection=i)},Ha.isJoystickPressed=function(e){return!!Ha.joystickMap.h.hasOwnProperty(e)&&Ha.joystickMap.h[e].isPressed},Ha.setTouchRegionForRJ=function(e,i,s,n,o){null==o&&(o=0),null==n&&(n=0),null==s&&(s=0),null==i&&(i=0),Ha.joystickMap.h.hasOwnProperty(e)&&(e=Ha.joystickMap.h[e]).joystickType==Ha.showWherePressed&&(e.joystickBounds=new ia(i*p.SCALE+Ha.viewOffsetX,s*p.SCALE+Ha.viewOffsetY,n*p.SCALE,o*p.SCALE))},Ha.getTouchRegionPropertyForRJ=function(e,i){return Ha.joystickMap.h.hasOwnProperty(e)&&(e=Ha.joystickMap.h[e]).joystickType==Ha.showWherePressed?1==i?e.joystickBounds.x-Ha.viewOffsetX:2==i?e.joystickBounds.y-Ha.viewOffsetY:3==i?e.joystickBounds.width/p.SCALE:e.joystickBounds.height/p.SCALE:0},Ha.setJoystickImage=function(e,i,s){if(Ha.joystickMap.h.hasOwnProperty(e)){e=Ha.joystickMap.h[e];var n=p.engine.root;s=Ba.getBitmapData(1==p.SCALE?"assets/data/"+s+".png":1.5==p.SCALE?"assets/data/"+s+"@1.5x.png":2==p.SCALE?"assets/data/"+s+"@2x.png":"assets/data/"+s+"@4x.png"),i?(null!=e.outerImage&&n.removeChild(e.outerImage),e.outerImage=new Uc(s),e.outerImage.set_x(e.center.x-.5*e.outerImage.get_width()),e.outerImage.set_y(e.center.y-.5*e.outerImage.get_height()),n.addChild(e.outerImage),e.outerRadius=.5*e.outerImage.get_width()):(null!=e.innerImage&&n.removeChild(e.innerImage),e.innerImage=new Uc(s),e.innerImage.set_x(e.center.x-.5*e.innerImage.get_width()),e.innerImage.set_y(e.center.y-.5*e.innerImage.get_height()),n.addChild(e.innerImage),e.innerRadius=e.outerRadius-.5*e.innerImage.get_width())}},Ha.setJoystickAlpha=function(e,i,s,n){null==n&&(n=!0),null==s&&(s=1),null==i&&(i=!0),Ha.joystickMap.h.hasOwnProperty(e)&&(e=Ha.joystickMap.h[e],i?n?(e.outerAlphaWhenReleased=s,e.outerImage.set_alpha(s)):e.outerAlphaWhenPressed=s:n?(e.innerAlphaWhenReleased=s,e.innerImage.set_alpha(s)):e.innerAlphaWhenPressed=s)},Ha.__super__=qa,Ha.prototype=x(qa.prototype,{center:null,outerRadius:null,innerRadius:null,joystickBounds:null,joystickTouchID:null,id:null,joystickDistance:null,joystickDirection:null,joystickDefaultDirection:null,joystickType:null,hideWhenReleased:null,outerImage:null,innerImage:null,outerAlphaWhenReleased:null,outerAlphaWhenPressed:null,innerAlphaWhenReleased:null,innerAlphaWhenPressed:null,isPressed:null,start:function(){Ha.initialized||(Ha.initialized=!0,Ha.joystickMap=new Va,Ha.viewOffsetX=p.screenOffsetX,Ha.viewOffsetY=p.screenOffsetY),Le.get_supportsTouchEvents()?(p.stage.addEventListener("touchBegin",r(this,this.onTouchBegin)),p.stage.addEventListener("touchMove",r(this,this.onTouchMove)),p.stage.addEventListener("touchEnd",r(this,this.onTouchEnd)),Le.inputMode=2):(p.stage.addEventListener("mouseDown",r(this,this.onMouseDown)),p.stage.addEventListener("mouseMove",r(this,this.onMouseMove)),p.stage.addEventListener("mouseUp",r(this,this.onMouseUp)))},stop:function(){Le.get_supportsTouchEvents()?(p.stage.removeEventListener("touchBegin",r(this,this.onTouchBegin)),p.stage.removeEventListener("touchMove",r(this,this.onTouchMove)),p.stage.removeEventListener("touchEnd",r(this,this.onTouchEnd))):(p.stage.removeEventListener("mouseDown",r(this,this.onMouseDown)),p.stage.removeEventListener("mouseMove",r(this,this.onMouseMove)),p.stage.removeEventListener("mouseUp",r(this,this.onMouseUp))),Ha.joystickMap=null},onTouchBegin:function(e){this.onBegin(e.stageX,e.stageY,e.touchPointID)},onTouchMove:function(e){this.onMove(e.stageX,e.stageY,e.touchPointID)},onTouchEnd:function(e){this.onEnd(e.stageX,e.stageY,e.touchPointID)},onMouseDown:function(e){this.onBegin(e.stageX,e.stageY,0)},onMouseMove:function(e){this.onMove(e.stageX,e.stageY,0)},onMouseUp:function(e){this.onEnd(e.stageX,e.stageY,0)},onBegin:function(e,i,s){if(-1==this.joystickTouchID)if(e/=p.screenScaleX,i/=p.screenScaleY,this.outerImage.set_alpha(this.outerAlphaWhenPressed),this.innerImage.set_alpha(this.innerAlphaWhenPressed),this.joystickType==Ha.fixedCenter){var n=Math.sqrt(Math.pow(this.center.x+Ha.viewOffsetX-e,2)+Math.pow(this.center.y+Ha.viewOffsetY-i,2)),o=Math.atan2(this.center.y+Ha.viewOffsetY-i,this.center.x+Ha.viewOffsetX-e);n>this.outerRadius||(n>this.outerRadius-this.innerRadius?(n=this.outerRadius-this.innerRadius,this.innerImage.set_x(this.center.x-Math.cos(o)*(this.outerRadius-this.innerRadius)-.5*this.innerImage.get_width()),this.innerImage.set_y(this.center.y-Math.sin(o)*(this.outerRadius-this.innerRadius)-.5*this.innerImage.get_height())):(this.innerImage.set_x(e-Ha.viewOffsetX-.5*this.innerImage.get_width()),this.innerImage.set_y(i-Ha.viewOffsetY-.5*this.innerImage.get_height())),this.isPressed=!0,this.joystickTouchID=s,this.joystickDistance=n/(this.outerRadius-this.innerRadius),this.joystickDirection=180*o/3.1415926535+180)}else this.joystickType!=Ha.showWherePressed||e<this.joystickBounds.x||e>this.joystickBounds.x+this.joystickBounds.width||i<this.joystickBounds.y||i>this.joystickBounds.y+this.joystickBounds.height||(this.isPressed=!0,this.center.x=e-Ha.viewOffsetX,this.center.y=i-Ha.viewOffsetY,this.outerImage.set_x(this.center.x-.5*this.outerImage.get_width()),this.outerImage.set_y(this.center.y-.5*this.outerImage.get_height()),this.innerImage.set_x(this.center.x-.5*this.innerImage.get_width()),this.innerImage.set_y(this.center.y-.5*this.innerImage.get_height()),this.hideWhenReleased&&(this.outerImage.set_visible(!0),this.innerImage.set_visible(!0)),this.joystickTouchID=s)},onMove:function(e,i,s){if(s==this.joystickTouchID){e/=p.screenScaleX,i/=p.screenScaleY,s=Math.sqrt(Math.pow(this.center.x+Ha.viewOffsetX-e,2)+Math.pow(this.center.y+Ha.viewOffsetY-i,2));var n=Math.atan2(this.center.y+Ha.viewOffsetY-i,this.center.x+Ha.viewOffsetX-e);s>this.outerRadius-this.innerRadius?(s=this.outerRadius-this.innerRadius,this.innerImage.set_x(this.center.x-Math.cos(n)*(this.outerRadius-this.innerRadius)-.5*this.innerImage.get_width()),this.innerImage.set_y(this.center.y-Math.sin(n)*(this.outerRadius-this.innerRadius)-.5*this.innerImage.get_height())):(this.innerImage.set_x(e-Ha.viewOffsetX-.5*this.innerImage.get_width()),this.innerImage.set_y(i-Ha.viewOffsetY-.5*this.innerImage.get_height())),this.joystickDistance=s/(this.outerRadius-this.innerRadius),this.joystickDirection=180*n/3.1415926535+180}},onEnd:function(e,i,s){s==this.joystickTouchID&&(this.joystickTouchID=-1,this.isPressed=!1,this.outerImage.set_alpha(this.outerAlphaWhenReleased),this.innerImage.set_alpha(this.innerAlphaWhenReleased),e=this.outerImage.get_x(),this.center.x=e+this.outerRadius,e=this.outerImage.get_y(),this.center.y=e+this.outerRadius,this.innerImage.set_x(this.center.x-.5*this.innerImage.get_width()),this.innerImage.set_y(this.center.y-.5*this.innerImage.get_height()),this.hideWhenReleased&&(this.outerImage.set_visible(!1),this.innerImage.set_visible(!1)),this.joystickDistance=0,this.joystickDirection=this.joystickDefaultDirection)},__class__:Ha});var xh={};k["com.stencyl.models._PhysicsMode.PhysicsMode_Impl_"]=xh,xh.__name__="com.stencyl.models._PhysicsMode.PhysicsMode_Impl_",xh._new=function(e){return e},xh.fromInt=function(e){return xh._new(e)},xh.fromString=function(e){switch(e){case"MINIMAL_PHYSICS":return 2;case"NORMAL_PHYSICS":default:return 0;case"SIMPLE_PHYSICS":return 1}},xh.toString=function(e){switch(e){case 0:default:return"NORMAL_PHYSICS";case 1:return"SIMPLE_PHYSICS";case 2:return"MINIMAL_PHYSICS"}};var Dd=function(e,i,s,n,o){Ab.call(this,e,-1,-2,i,s,-1,p.NO_PHYSICS?o.width:1,p.NO_PHYSICS?o.height:1,null,null,null,null,!1,!1,!1,!1,p.NO_PHYSICS?null:n[0],p.NO_PHYSICS),this.isRegion=this.alwaysSimulate=!0,this.solid=this.isTerrainRegion=!1,this.set_name("Region"),this.simpleBounds=o,this.copy=n[0],this.containedActors=new Va,this.whenActorEntersListeners=[],this.whenActorExitsListeners=[],this.justAdded=[],this.justRemoved=[],p.NO_PHYSICS||(this.body.setSleepingAllowed(!0),this.body.setAwake(!1),this.body.setIgnoreGravity(!0)),e=0;var l=0;if(p.NO_PHYSICS){var _=o.width;o=o.height,this.cacheWidth=this.originalWidth=this.regionWidth=Math.round(Math.abs(e-_)),this.cacheHeight=this.originalHeight=this.regionHeight=Math.round(Math.abs(l-o)),this.currOffset.x=-this.cacheWidth/2,this.currOffset.y=-this.cacheHeight/2,this.resetReal(i,s)}else if(n[0]instanceof Jb){this.isCircle=!1,(i=new vf).setIdentity(),s=new Hb,T.__cast(n[0],Jb).computeAABB(s,i),e=s.lowerBound.x,_=s.upperBound.x,l=s.lowerBound.y,o=s.upperBound.y;for(var h=0,m=n.length;h<m;){var f=h++,y=new ig;y.isSensor=!0,y.userData=this,y.shape=n[f],y.friction=1,y.density=.1,y.restitution=0,y.groupID=-1e3,this.body.createFixture(y),T.__cast(n[f],Jb).computeAABB(s,i),e=Math.min(e,s.lowerBound.x),_=Math.max(_,s.upperBound.x),l=Math.min(l,s.lowerBound.y),o=Math.max(o,s.upperBound.y)}this.cacheWidth=this.originalWidth=this.regionWidth=Math.round(p.toPixelUnits(Math.abs(e-_))),this.cacheHeight=this.originalHeight=this.regionHeight=Math.round(p.toPixelUnits(Math.abs(l-o)))}else n[0]instanceof ad&&(this.isCircle=!0,this.cacheWidth=this.originalWidth=this.regionWidth=p.toPixelUnits(2*T.__cast(n[0],ad).m_radius),this.cacheHeight=this.originalHeight=this.regionHeight=p.toPixelUnits(2*T.__cast(n[0],ad).m_radius))};k["com.stencyl.models.Region"]=Dd,Dd.__name__="com.stencyl.models.Region",Dd.__super__=Ab,Dd.prototype=x(Ab.prototype,{isCircle:null,containedActors:null,copy:null,simpleBounds:null,regionWidth:null,regionHeight:null,originalWidth:null,originalHeight:null,whenActorEntersListeners:null,whenActorExitsListeners:null,justAdded:null,justRemoved:null,containsActor:function(e){return null!=e&&this.containedActors.h.hasOwnProperty(e.ID)},getContainedActors:function(){return this.containedActors},addActor:function(e){if(null!=e&&-1!=e.ID&&!this.containedActors.h.hasOwnProperty(e.ID)){this.containedActors.h[e.ID]=e.ID;var i=N.indexOf(this.justRemoved,e);-1==i?this.justAdded.push(e):this.justRemoved.splice(i,1)}},removeActor:function(e){null!=e&&-1!=e.ID&&-1==N.indexOf(this.justRemoved,e)&&(this.containedActors.remove(e.ID),this.justRemoved.push(e))},follow:function(e){var i=e.realY+e.cacheHeight/2;this.setX(e.realX+e.cacheWidth/2),this.setY(i)},resetSize:function(){this.setRegionSize(this.originalWidth,this.originalHeight)},setRegionDiameter:function(e){this.setRegionSize(e,e)},setRegionSize:function(e,i){var s=this.regionWidth,n=this.regionHeight;if(e=p.toPhysicalUnits(e),i=p.toPhysicalUnits(i),this.isCircle){var o=new ad;o.m_radius=e/2}else(o=new Jb).setAsBox(e/2,i/2);var l=new ig;if(l.isSensor=!0,l.userData=this,l.shape=o,l.groupID=-1e3,null!=this.body&&null!=this.body.getFixtureList()){for(;0<this.body.m_fixtureCount;)this.body.DestroyFixture(this.body.getFixtureList());this.body.createFixture(l),this.cacheWidth=this.regionWidth=p.toPixelUnits(e),this.cacheHeight=this.regionHeight=p.toPixelUnits(i)}e=this.regionWidth-s,n=this.regionHeight-n,this.setLocation(this.getX()+e/2,this.getY()+n/2)},setLocation:function(e,i){this.setX(e+this.regionWidth/2),this.setY(i+this.regionHeight/2)},getWidth:function(){return this.regionWidth},getHeight:function(){return this.regionHeight},isMouseOver:function(){var e=(R.mouseX+p.cameraX)/p.SCALE,i=(R.mouseY+p.cameraY)/p.SCALE,s=this.getX(),n=this.getY();return e>=s&&i>=n&&e<s+this.regionWidth&&i<n+this.regionHeight},innerUpdate:function(e,i){if(this.clearCollisionInfoList(),p.NO_PHYSICS)for(e=this.containedActors.iterator();e.hasNext();)i=e.next(),i=p.engine.getActor(i),null==this.HITBOX||null==i||this.HITBOX.collide(i.HITBOX)||this.removeActor(i);for(;null!=this.justAdded&&0<this.justAdded.length;){i=T.__cast(this.justAdded.pop(),Ab),e=this.whenActorEntersListeners;for(var s=0;s<e.length;){try{var n=e[s];n(i,e),-1==N.indexOf(e,n)&&--s}catch(y){if(ha.lastException=y,"string"!=typeof(y instanceof E?y.val:y))throw y}++s}}for(;null!=this.justRemoved&&0<this.justRemoved.length;)for(e=T.__cast(this.justRemoved.pop(),Ab),n=this.whenActorExitsListeners,i=0;i<n.length;){try{var o=n[i];o(e,n),-1==N.indexOf(n,o)&&--i}catch(y){if(ha.lastException=y,"string"!=typeof(y instanceof E?y.val:y))throw y}++i}if(null!=this.mouseOverListeners&&0<this.mouseOverListeners.length)if(this.isMouseOver()){if(0>=this.mouseState){this.mouseState=1;var l=this.mouseOverListeners;for(o=this.mouseState,n=0;n<l.length;){try{var _=l[n];_(o,l),-1==N.indexOf(l,_)&&--n}catch(y){if(ha.lastException=y,"string"!=typeof(y instanceof E?y.val:y))throw y}++n}}else this.mouseState=2;if(R.mousePressed){this.mouseState=3;var h=this.mouseOverListeners;for(_=this.mouseState,l=0;l<h.length;){try{var m=h[l];m(_,h),-1==N.indexOf(h,m)&&--l}catch(y){if(ha.lastException=y,"string"!=typeof(y instanceof E?y.val:y))throw y}++l}}else if(R.mouseDown)for(this.mouseState=4,m=this.mouseOverListeners,_=this.mouseState,l=0;l<m.length;){try{(h=m[l])(_,m),-1==N.indexOf(m,h)&&--l}catch(y){if(ha.lastException=y,"string"!=typeof(y instanceof E?y.val:y))throw y}++l}if(R.mouseReleased)for(this.mouseState=5,m=this.mouseOverListeners,h=this.mouseState,_=0;_<m.length;){try{var f=m[_];f(h,m),-1==N.indexOf(m,f)&&--_}catch(y){if(ha.lastException=y,"string"!=typeof(y instanceof E?y.val:y))throw y}++_}}else if(0<this.mouseState)for(this.mouseState=-1,f=this.mouseOverListeners,m=this.mouseState,h=0;h<f.length;){try{(l=f[h])(m,f),-1==N.indexOf(f,l)&&--h}catch(y){if(ha.lastException=y,"string"!=typeof(y instanceof E?y.val:y))throw y}++h}else-1==this.mouseState&&(this.mouseState=0)},__class__:Dd});var Zm=function(e,i){this.currW=this.currH=0,this.ID=e,this.name=i};k["com.stencyl.models.Scene"]=Zm,Zm.__name__="com.stencyl.models.Scene",Zm.prototype={ID:null,name:null,sceneWidth:null,sceneHeight:null,tileWidth:null,tileHeight:null,gravityX:null,gravityY:null,eventID:null,colorBackground:null,layers:null,actors:null,behaviorValues:null,atlases:null,retainsAtlases:null,wireframes:null,joints:null,regions:null,terrainRegions:null,animatedTiles:null,load:function(){var e=new Xh(Qf.get(),!1,!0);e.readData(ta.toBytes(Ba.getBytes("assets/data/scene-"+this.ID+".mbs")));var i=(e=e.getRoot()).getDepth();this.sceneWidth=e.getWidth(),this.sceneHeight=e.getHeight(),this.tileWidth=e.getTileWidth(),this.tileHeight=e.getTileHeight(),this.gravityX=e.getGravityX(),this.gravityY=e.getGravityY(),this.animatedTiles=[],this.actors=this.readActors(e.getActorInstances()),this.behaviorValues=Te.readBehaviors(e.getSnippets());var s=e.getEventSnippetID();if(-1<s){var n=this.behaviorValues,o=new Yk(s,new va);null!=t[s=""+s]?n.setReserved(s,o):n.h[s]=o}this.joints=this.readJoints(e.getJoints()),this.regions=this.readRegions(e.getRegions()),this.terrainRegions=this.readTerrainRegions(e.getTerrainRegions()),this.wireframes=this.readWireframes(e.getTerrain()),(n=Ba.getBytes("assets/data/scene-"+this.ID+".scn")).__endian=0,i=this.readRawLayers(n,i),this.layers=this.readAllLayers(e.getLayers(),i),this.atlases=(this.retainsAtlases=e.getRetainAtlases())?[]:this.readAtlases(e.getAtlasMembers())},unload:function(){this.animatedTiles=this.terrainRegions=this.regions=this.joints=this.wireframes=this.layers=this.behaviorValues=this.actors=this.colorBackground=null},readRegions:function(e){for(var i=new Va,s=0,n=e.length();s<n;){s++;var o=this.readRegion(e.getNextObject());i.h[o.ID]=o}return i},readRegion:function(e){var i=e.getId(),s=e.getName(),n=e.getX(),o=e.getY();this.shapeList=[];var l=e.getShape();if(l instanceof Gd){e=this.currW=l.getWidth();var _=this.currH=l.getHeight();l=l.getPoints(),p.NO_PHYSICS?i=new xj(this.shapeList,i,s,n,o,0,new ia(0,0,e,_)):(e=Jd.readPoints(l).slice(0),new Ic(e).decompose(r(this,this.addPolygonRegion)),i=new xj(this.shapeList,i,s,n,o))}else _=l.getRadius(),p.NO_PHYSICS?i=new xj(this.shapeList,i,s,n,o,0,new ia(0,0,2*_,2*_)):((e=new ad).m_radius=p.toPhysicalUnits(_),this.shapeList[0]=e,i=new xj(this.shapeList,i,s,n,o));return i},shapeList:null,currW:null,currH:null,addPolygonRegion:function(e){e=T.__cast(Jd.createPolygon("MbsPolyRegion",e.points,this.currW,this.currH),Jb),this.shapeList.push(e)},addPolygonTerrain:function(e){e=T.__cast(Jd.createPolygon("MbsPolyRegion",e.points,this.currW,this.currH),Jb),this.shapeList.push(e)},readTerrainRegions:function(e){for(var i=new Va,s=0,n=e.length();s<n;){s++;var o=this.readTerrainRegion(e.getNextObject());i.h[o.ID]=o}return i},readTerrainRegion:function(e){var i=e.getId(),s=e.getName(),n=e.getGroupID(),o=p.toPhysicalUnits(e.getX()),l=p.toPhysicalUnits(e.getY()),_=e.getColor();if(this.shapeList=[],(e=e.getShape())instanceof Gd)this.currW=e.getWidth(),this.currH=e.getHeight(),e=Jd.readPoints(e.getPoints()).slice(0),new Ic(e).decompose(r(this,this.addPolygonTerrain));else{var h=e.getRadius();(e=new ad).m_radius=p.toPhysicalUnits(h),this.shapeList[0]=e}return new qq(this.shapeList,i,s,o,l,n,_)},readJoints:function(e){for(var i=new Va,s=0,n=e.length();s<n;){s++;var o=this.readJoint(e.readObject());i.h[o.ID]=o}return i},readJoint:function(e){var i=e.getId(),s=e.getActor1(),n=e.getActor2(),o=e.getCollide();if(e instanceof Qd){var l=new Ci;return l.ID=i,l.actor1=s,l.actor2=n,l.localAnchorA=null,l.localAnchorB=null,l.collideConnected=o,l.dampingRatio=e.getDamping(),l.frequencyHz=e.getFrequency(),l}return e instanceof qc?((l=new Di).ID=i,l.actor1=s,l.actor2=n,l.localAnchorA=null,l.localAnchorB=null,l.collideConnected=o,l.enableLimit=e.getLimit(),l.enableMotor=e.getMotor(),l.lowerAngle=e.getLower(),l.upperAngle=e.getUpper(),l.maxMotorTorque=e.getTorque(),l.motorSpeed=e.getSpeed(),l):e instanceof Vb?((l=new Ei).ID=i,l.actor1=s,l.actor2=n,l.localAnchorA=null,l.localAnchorB=null,l.collideConnected=o,l.enableLimit=e.getLimit(),l.enableMotor=e.getMotor(),l.lowerTranslation=e.getLower(),l.upperTranslation=e.getUpper(),l.maxMotorForce=e.getForce(),l.motorSpeed=e.getSpeed(),l.localAxisA.x=e.getX(),l.localAxisA.y=e.getY(),l):null},readAllLayers:function(e,i){var s=new Re(16);s.reuseIterator=!0;for(var n=0,o=e.length();n<o;){n++;var l=e.readObject();if(l instanceof xe||l instanceof Od)this.colorBackground=this.readColorBackground(l);else{var _=l,h=_.getId(),m=_.getName(),f=_.getOrder(),y=_.getScrollFactorX(),g=_.getScrollFactorY(),j=_.getOpacity()/100;if(_=Vm.get(_.getBlendmode()),l instanceof ye){var $=i.mH;if(-1==(l=$.mHash[73856093*h&$.mMask]))l=-2147483648;else if(($=$.mData)[l]==h)l=$[l+1];else{var yt=-2147483648;for(l=$[l+2];-1!=l;){if($[l]==h){yt=$[l+1];break}l=$[l+2]}l=yt}null==(l=-2147483648==l?null:i.mVals[l])&&(l=new He(h,this,0|Math.floor(this.sceneWidth/this.tileWidth),0|Math.floor(this.sceneHeight/this.tileHeight))),l.set_name(m),h=new Tc(h,m,f,y,g,j,_,l),s.set(h.ID,h)}else l instanceof Pd&&(l=($=l).getResourceID(),$=$.getCustomScroll(),h=new oe(h,m,f,y,g,j,_,l,$),s.set(h.ID,h))}}return s},readColorBackground:function(e){if(e instanceof xe){var i=e.getColor();return new jg(i)}return e instanceof Od?(i=e.getColor1(),e=e.getColor2(),new tj(i,e)):null},readRawLayers:function(e,i){var s=new Re(16);s.reuseIterator=!0;var n=[];if(null!=e){for(var o=0;o<i;){var l=o++;n[l]=e.readInt()}for(o=0;o<i;)l=o++,l=this.readRawLayer(e,n[l]),s.set(l.layerID,l)}return s},readRawLayer:function(e,i){var s=0|Math.floor(this.sceneWidth/this.tileWidth),n=0|Math.floor(this.sceneHeight/this.tileHeight),o=e.readInt();i-=4,e.readInt(),i-=4,n=new He(o,this,s,n);var l=o=0;i=i/8|0;var _=new $m(this.sceneWidth,this.sceneHeight,this.tileWidth,this.tileHeight);n.grid=_;for(var h=0;h<i;){h++;var m=e.readShort(),f=e.readShort(),y=e.readShort(),g=e.readShort(),j=null;for(-1!=f&&(j=tc.get().resources.get(f)),0>m&&(m=0|Math.abs(m+1)),f=0;f<g;){if(f++,null==j||0>y)n.setTileAt(o,l,null,!1);else{var $=j.tiles[y];if(null==$)n.setTileAt(o,l,null,!1);else if(n.setTileAt(o,l,$,!1),n.autotileData[o][l]=m,0<=$.collisionID&&_.setTile(l,o,!0),1<$.durations.length){for(var yt=!1,_t=0,xt=this.animatedTiles;_t<xt.length&&(yt=xt[_t],++_t,!(yt=yt==$)););yt||this.animatedTiles.push($)}}++l>=s&&(l=0,++o)}}return n},readAtlases:function(e){for(var i=[],s=0,n=e.length();s<n;){s++;var o=e.readInt();bc.get().atlases.h[o].allScenes||i.push(o)}return i},readWireframes:function(e){if(p.NO_PHYSICS)return[];for(var i=[],s=0,n=e.length();s<n;){s++;var o=e.getNextObject(),l=o.getPosition();l=new ra(l.getX(),l.getY()),o=Jd.readPoints(o.getPoints()).slice(0),o=Jd.createPolygon("MbsWireframe",o),i.push(new rq(l.x,l.y,o.h[1],o.h[2],o.h[0],null))}return i},readActors:function(e){for(var i=new Va,s=0,n=e.length();s<n;){s++;var o=this.readActorInstance(e.getNextObject());null!=o&&(i.h[o.elementID]=o)}return i},readActorInstance:function(e){var i=e.getAid(),s=e.getX(),n=e.getY(),o=e.getScaleX(),l=e.getScaleY(),_=e.getZ(),h=e.getOrderInLayer(),m=0|e.getAngle(),f=e.getGroupID(),y=e.getId(),g=e.getCustomized(),j=null;return g&&(j=Te.readBehaviors(e.getSnippets())),(0==o||0==l)&&(l=o=1),g||(j=null),null==tc.get().resources.get(y)?null:(null!=(e=new Nm(i,s,n,o,l,_,h,m,f,y,j,g)).actorType&&(e.groupID=e.actorType.groupID),e)},getID:function(){return this.ID},__class__:Zm};var Fi=function(e,i,s,n,o,l,_,h){sd.call(this,e,i,-1),this.streaming=s,this.looping=n,this.panning=o,this.volume=l,this.ext=_,this.atlasID=h,this.ext="ogg",null!=(e=bc.get().atlases.h[h])&&e.active&&this.loadGraphics()};k["com.stencyl.models.Sound"]=Fi,Fi.__name__="com.stencyl.models.Sound",Fi.__super__=sd,Fi.prototype=x(sd.prototype,{streaming:null,looping:null,panning:null,volume:null,ext:null,src:null,loadGraphics:function(){this.src=Ba.getSound("assets/"+(this.streaming?"music":"sfx")+"/sound-"+this.ID+"."+this.ext,!1)},unloadGraphics:function(){this.streaming||(null!=this.src&&(this.stopInstances(),this.src.close()),this.src=null)},play:function(e,i){return null==i&&(i=0),this.streaming&&null==this.src&&(this.src=this.getStreamingSource()),null==this.src?null:this.src.play(i)},loop:function(e,i){return null==i&&(i=0),this.streaming&&null==this.src&&(this.src=this.getStreamingSource()),null==this.src?null:this.src.play(i,1e8)},getStreamingSource:function(){return Ba.getSound("assets/music/sound-"+this.ID+"."+this.ext,!1)},stopInstances:function(){for(var e=0;32>e;){var i=e++;(i=p.engine.channels[i]).currentSource==this.src&&i.stopSound()}},__class__:Fi});var dc=function(e,i){this.paused=!1,this.currentClip=this.currentSound=null,this.looping=!1,this.volume=1,this.position=this.panning=0,this.channelNum=i,this.engine=e,this.transform=new Tf,this.tweenVolume=new Se,this.tweenVolume.doOnUpdate(r(this,this.tweenUpdated))};k["com.stencyl.models.SoundChannel"]=dc,dc.__name__="com.stencyl.models.SoundChannel",dc.resetStatics=function(){dc.muted=!1,dc.masterVolume=1},dc.prototype={currentSource:null,currentSound:null,currentClip:null,volume:null,panning:null,channelNum:null,looping:null,paused:null,position:null,engine:null,transform:null,tweenVolume:null,playSound:function(e,i){if(null==i&&(i=0),null!=this.currentSound&&(this.currentSound.stop(),this.paused=!1),null!=e){if(e.volume=this.volume*dc.masterVolume,this.currentClip=e,this.currentSound=e.play(this.channelNum,i),null==this.currentSound)return this.currentClip=null;this.setVolume(this.volume),this.setPanning(this.panning),this.currentSound.addEventListener("soundComplete",r(this,this.stopped))}return null!=e&&(this.currentSource=e.src),this.looping=!1,this.currentSound},loopSound:function(e,i){if(null==i&&(i=0),null!=this.currentSound&&this.currentSound.stop(),null!=e){if(e.volume=this.volume*dc.masterVolume,this.currentClip=e,this.currentSound=e.play(this.channelNum,i),null==this.currentSound)return this.currentClip=null;this.setVolume(this.volume),this.setPanning(this.panning),this.currentSound.addEventListener("soundComplete",r(this,this.looped))}return null!=e&&(this.currentSource=e.src),this.looping=!0,this.currentSound},setPause:function(e){null!=this.currentSound&&(e?(this.currentSound.removeEventListener("soundComplete",r(this,this.looped)),this.position=this.currentSound.get_position(),this.currentSound.stop(),this.paused=!0):null!=this.currentSource&&this.paused&&(this.currentSound=this.currentClip.play(this.channelNum,this.position),this.currentSound.set_soundTransform(this.transform),this.currentSound.addEventListener("soundComplete",r(this,this.stopped)),this.looping&&this.currentSound.addEventListener("soundComplete",r(this,this.looped)),this.paused=!1))},looped:function(e){null!=this.currentSound&&this.currentSound.removeEventListener("soundComplete",r(this,this.looped)),this.loopSound(this.currentClip)},stopped:function(e){null!=this.currentSound&&this.currentSound.removeEventListener("soundComplete",r(this,this.stopped)),p.engine.soundFinished(this.channelNum)},stopSound:function(){null!=this.currentSound&&(this.currentSound.stop(),this.position=0,this.currentSound=this.currentSource=null,this.paused=!1)},tweenUpdated:function(){this.setVolume(this.tweenVolume.value)},fadeInSound:function(e){null!=this.currentSound&&this.tweenVolume.tween(this.transform.volume,1,sb.linear,1e3*e|0)},fadeOutSound:function(e){null!=this.currentSound&&this.tweenVolume.tween(this.transform.volume,0,sb.linear,1e3*e|0)},fadeSound:function(e,i){null!=this.currentSound&&this.tweenVolume.tween(this.transform.volume,i,sb.linear,1e3*e|0)},setVolume:function(e){this.volume=e,null!=this.currentSound&&(this.transform.volume=e*dc.masterVolume,this.currentSound.set_soundTransform(this.transform))},setPanning:function(e){this.panning=e,null!=this.currentSound&&(this.transform.pan=e,this.currentSound.set_soundTransform(this.transform))},__class__:dc};var vh=function(e,i,s,n,o,l){if(null==l&&(l=0),Ab.call(this,e,-1,o,i,s,-1,1,1,null,null,null,null,!1,!0,!1,!1,n[0]),0==l&&(null==(s=i=e=0)&&(s=0),null==i&&(i=0),null==e&&(e=0),l=e<<16|i<<8|s),this.fillColor=l,this.alwaysSimulate=!0,this.isRegion=!1,this.isTerrainRegion=!0,this.copy=n[0],this.body.setSleepingAllowed(!0),this.body.setAwake(!1),this.body.setIgnoreGravity(!0),n[0]instanceof Jb){this.isCircle=!1;var _=new vf;_.setIdentity();var h=new Hb;T.__cast(n[0],Jb).computeAABB(h,_),e=h.lowerBound.x,i=h.upperBound.x,s=h.lowerBound.y,l=h.upperBound.y;for(var m=0,f=n.length;m<f;){var y=m++,g=new ig;g.isSensor=!1,g.userData=this,g.shape=n[y],g.friction=1,g.density=.1,g.restitution=0,g.groupID=o,this.body.createFixture(g),T.__cast(n[y],Jb).computeAABB(h,_),e=Math.min(e,h.lowerBound.x),i=Math.max(i,h.upperBound.x),s=Math.min(s,h.lowerBound.y),l=Math.max(l,h.upperBound.y)}this.originalWidth=this.regionWidth=Math.round(p.toPixelUnits(Math.abs(e-i))),this.originalHeight=this.regionHeight=Math.round(p.toPixelUnits(Math.abs(s-l)))}else n[0]instanceof ad&&(this.isCircle=!0,this.originalWidth=this.regionWidth=p.toPixelUnits(2*T.__cast(n[0],ad).m_radius),this.originalHeight=this.regionHeight=p.toPixelUnits(2*T.__cast(n[0],ad).m_radius))};k["com.stencyl.models.Terrain"]=vh,vh.__name__="com.stencyl.models.Terrain",vh.__super__=Ab,vh.prototype=x(Ab.prototype,{isCircle:null,fillColor:null,copy:null,originalWidth:null,originalHeight:null,regionWidth:null,regionHeight:null,follow:function(e){var i=e.realY+e.cacheHeight/2;this.setX(e.realX+e.cacheWidth/2),this.setY(i)},resetSize:function(){this.setRegionSize(this.originalWidth,this.originalHeight)},setRegionDiameter:function(e){this.setRegionSize(e,e)},setRegionSize:function(e,i){var s=this.regionWidth,n=this.regionHeight;if(e=p.toPhysicalUnits(e),i=p.toPhysicalUnits(i),this.isCircle){var o=new ad;o.m_radius=e/2}else(o=new Jb).setAsBox(e/2,i/2);var l=new ig;if(l.isSensor=!0,l.userData=this,l.shape=o,null!=this.body&&null!=this.body.getFixtureList()){for(;0<this.body.m_fixtureCount;)this.body.DestroyFixture(this.body.getFixtureList());this.body.createFixture(l),this.regionWidth=p.toPixelUnits(e),this.regionHeight=p.toPixelUnits(i)}e=this.regionWidth-s,n=this.regionHeight-n,this.setLocation(this.getX()+e/2,this.getY()+n/2)},setLocation:function(e,i){this.setX(e+this.regionWidth/2),this.setY(i+this.regionHeight/2)},getWidth:function(){return this.regionWidth},getHeight:function(){return this.regionHeight},getFillColor:function(){return this.fillColor},__class__:vh});var mq=function(){this.xy=new bg,this.angle=new Se,this.alpha=new Se,this.realScaleXY=new bg};k["com.stencyl.models.actor.ActorTweenProperties"]=mq,mq.__name__="com.stencyl.models.actor.ActorTweenProperties",mq.prototype={xy:null,angle:null,alpha:null,realScaleXY:null,pause:function(){this.xy.paused=!0,this.angle.paused=!0,this.alpha.paused=!0,this.realScaleXY.paused=!0},unpause:function(){this.xy.paused=!1,this.angle.paused=!1,this.alpha.paused=!1,this.realScaleXY.paused=!1},cancel:function(){this.xy.active&&Eb.cancel(this.xy),this.angle.active&&Eb.cancel(this.angle),this.alpha.active&&Eb.cancel(this.alpha),this.realScaleXY.active&&Eb.cancel(this.realScaleXY)},__class__:mq};var Eg=function(e,i,s,n,o,l,_,h,m,f,y){sd.call(this,e,s,i),this.groupID=n,this.spriteID=o,this.behaviorValues=l,this.bodyDef=_,this.physicsMode=h,this.autoScale=m,this.pausable=f,this.ignoreGravity=y};k["com.stencyl.models.actor.ActorType"]=Eg,Eg.__name__="com.stencyl.models.actor.ActorType",Eg.__super__=sd,Eg.prototype=x(sd.prototype,{groupID:null,spriteID:null,behaviorValues:null,bodyDef:null,physicsMode:null,autoScale:null,pausable:null,ignoreGravity:null,toString:function(){return this.name},loadGraphics:function(){tc.get().resources.get(this.spriteID).loadGraphics()},unloadGraphics:function(){tc.get().resources.get(this.spriteID).unloadGraphics()},__class__:Eg});var Ke=function(e,i,s,n,o,l,_,h,m,f,y,g,j,$,yt){for(this.sharedTimer=this.sharedFrameIndex=0,this.animID=e,this.animName=i,this.parent=s,this.simpleShapes=n,this.physicsShapes=o,this.looping=l,this.sync=_,this.durations=g,null==Ke.UNLOADED&&(Ke.UNLOADED=new pa(1,1)),e=[],i=0;i<j;)i++,e.push(Ke.UNLOADED);this.frames=e,this.frameWidth=h/$|0,this.frameHeight=m/yt|0,this.imgWidth=h,this.imgHeight=m,this.frameCount=j,this.framesAcross=$,this.framesDown=yt,this.originX=f,this.originY=y,null==s?this.frames=[Ke.UNLOADED]:(null!=(s=bc.get().atlases.h[s.atlasID])&&s.active&&this.loadGraphics(),1<j&&l&&Ke.allAnimations.push(this))};k["com.stencyl.models.actor.Animation"]=Ke,Ke.__name__="com.stencyl.models.actor.Animation",Ke.resetStatics=function(){Ke.allAnimations=[]},Ke.updateAll=function(e){for(var i=0,s=Ke.allAnimations;i<s.length;){var n=s[i];++i,n.sharedTimer+=e,1<n.frameCount&&n.sharedTimer>n.durations[n.sharedFrameIndex]&&(n.sharedTimer-=n.durations[n.sharedFrameIndex],n.sharedFrameIndex++,n.sharedFrameIndex>=n.frameCount&&(n.looping?n.sharedFrameIndex=0:n.sharedFrameIndex--))}},Ke.prototype={animID:null,animName:null,parent:null,simpleShapes:null,physicsShapes:null,looping:null,sync:null,durations:null,frames:null,frameWidth:null,frameHeight:null,originX:null,originY:null,sharedTimer:null,sharedFrameIndex:null,imgWidth:null,imgHeight:null,frameCount:null,framesAcross:null,framesDown:null,graphicsLoaded:null,loadGraphics:function(){if(!this.graphicsLoaded){var e=Ba.getBitmapData("assets/graphics/"+p.IMG_BASE+"/sprite-"+this.parent.ID+"-"+this.animID+".png",!1);if(null==e.rect&&(e=null),null==e){e=[];for(var i=0,s=this.frameCount;i<s;)i++,e.push(Ke.UNLOADED);this.frames=e}else{if(1==this.frameCount)this.frames[0]=e;else{i=this.frameWidth*p.SCALE|0,s=this.frameHeight*p.SCALE|0;for(var n=new ra(0,0),o=0,l=this.frameCount;o<l;){var _=o++,h=new ia(_%this.framesAcross*i,Math.floor(_/this.framesAcross)*s,i,s),m=new pa(i,s,!0,0);m.copyPixels(e,h,n),this.frames[_]=m}e.dispose()}if(ja.disposeImages&&null!=this.parent&&!this.parent.readableImages)for(e=0,i=this.frames;e<i.length;)s=i[e],++e,rd.uploadTexture(s,!0);this.graphicsLoaded=!0}}},unloadGraphics:function(){if(this.graphicsLoaded){for(var e=0,i=this.frameCount;e<i;){var s=e++;this.frames[s].readable&&this.frames[s].dispose(),this.frames[s]=Ke.UNLOADED}this.graphicsLoaded=!1}},checkImageReadable:function(){return!!this.frames[0].readable},update:function(e){this.sharedTimer+=e,1<this.frameCount&&this.sharedTimer>this.durations[this.sharedFrameIndex]&&(this.sharedTimer-=this.durations[this.sharedFrameIndex],this.sharedFrameIndex++,this.sharedFrameIndex>=this.frameCount&&(this.looping?this.sharedFrameIndex=0:this.sharedFrameIndex--))},__class__:Ke};var Fc=function(){this.points=[],this.bounds=new ia,this.clear()};k["com.stencyl.models.actor.Collision"]=Fc,Fc.__name__="com.stencyl.models.actor.Collision",Fc.resetStatics=function(){Fc.recycledCollisions=[],Fc.collisionResponses=new Va},Fc.addResponse=function(e,i,s){var n=-1,o=-1;e instanceof Eg?n=e.groupID:e instanceof rj&&(n=e.ID),i instanceof Eg?o=i.groupID:i instanceof rj&&(o=i.ID),null==Fc.collisionResponses.h[n]&&(e=Fc.collisionResponses,i=new Va,e.h[n]=i),null==Fc.collisionResponses.h[o]&&(e=Fc.collisionResponses,i=new Va,e.h[o]=i),Fc.collisionResponses.h[n].h[o]=s,Fc.collisionResponses.h[o].h[n]=s},Fc.preSolve=function(e,i){i=e.getFixtureA().getBody().groupID;var s=e.getFixtureB().getBody().groupID;null!=Fc.collisionResponses.h[i]&&"sensor"==Fc.collisionResponses.h[i].h[s]&&e.setEnabled(!1)},Fc.get=function(){return 0<Fc.recycledCollisions.length?Fc.recycledCollisions.pop():new Fc},Fc.recycle=function(e){e.clear(),Fc.recycledCollisions.push(e)},Fc.prototype={thisFromTop:null,thisFromLeft:null,thisFromBottom:null,thisFromRight:null,thisCollidedWithActor:null,thisCollidedWithTile:null,thisCollidedWithSensor:null,thisCollidedWithTerrain:null,otherFromTop:null,otherFromLeft:null,otherFromBottom:null,otherFromRight:null,otherCollidedWithActor:null,otherCollidedWithTile:null,otherCollidedWithSensor:null,otherCollidedWithTerrain:null,points:null,thisActor:null,otherActor:null,thisShape:null,otherShape:null,actorA:null,actorB:null,maskA:null,maskB:null,groupA:null,groupB:null,bounds:null,useBounds:null,remove:null,solidCollision:null,linkedCollision:null,clear:function(){for(;0<this.points.length;)this.points.pop();this.remove=this.solidCollision=this.useBounds=this.otherCollidedWithTerrain=this.otherCollidedWithSensor=this.otherCollidedWithTile=this.otherCollidedWithActor=this.otherFromRight=this.otherFromBottom=this.otherFromLeft=this.otherFromTop=this.thisCollidedWithTerrain=this.thisCollidedWithSensor=this.thisCollidedWithTile=this.thisCollidedWithActor=this.thisFromRight=this.thisFromBottom=this.thisFromLeft=this.thisFromTop=!1,this.linkedCollision=this.maskA=this.maskB=this.actorB=this.actorA=this.otherShape=this.thisShape=this.otherActor=this.thisActor=null,this.bounds.setEmpty()},switchData:function(e){return null==e?null:(e.thisActor=this.otherActor,e.thisShape=this.otherShape,e.thisFromTop=this.otherFromTop,e.thisFromLeft=this.otherFromLeft,e.thisFromBottom=this.otherFromBottom,e.thisFromRight=this.otherFromRight,e.thisCollidedWithActor=this.otherCollidedWithActor,e.thisCollidedWithTile=this.otherCollidedWithTile,e.thisCollidedWithSensor=this.otherCollidedWithSensor,e.thisCollidedWithTerrain=this.otherCollidedWithTerrain,e.otherActor=this.thisActor,e.otherShape=this.thisShape,e.otherFromTop=this.thisFromTop,e.otherFromLeft=this.thisFromLeft,e.otherFromBottom=this.thisFromBottom,e.otherFromRight=this.thisFromRight,e.otherCollidedWithActor=this.thisCollidedWithActor,e.otherCollidedWithTile=this.thisCollidedWithTile,e.otherCollidedWithSensor=this.thisCollidedWithSensor,e.otherCollidedWithTerrain=this.thisCollidedWithTerrain,e.actorA=this.actorA,e.actorB=this.actorB,e.points=this.points,e.useBounds=this.useBounds,e.maskA=this.maskA,e.maskB=this.maskB,e.solidCollision=this.solidCollision,e.groupA=this.groupA,e.groupB=this.groupB,e.linkedCollision=this,this.linkedCollision=e)},__class__:Fc};var ge=function(e,i,s,n){this.x=e,this.y=i,this.normalX=s,this.normalY=n};k["com.stencyl.models.actor.CollisionPoint"]=ge,ge.__name__="com.stencyl.models.actor.CollisionPoint",ge.resetStatics=function(){ge.freedCollisionPoints=[]},ge.get=function(e,i,s,n){if(0<ge.freedCollisionPoints.length){var o=ge.freedCollisionPoints.pop();return o.x=e,o.y=i,o.normalX=s,o.normalY=n,o}return new ge(e,i,s,n)},ge.free=function(e){ge.freedCollisionPoints.push(e)},ge.prototype={x:null,y:null,normalX:null,normalY:null,__class__:ge};var rj=function(e,i){this.name=i,this.ID=e,this.sID="[Group "+e+","+i+"]",this.list=[]};k["com.stencyl.models.actor.Group"]=rj,rj.__name__="com.stencyl.models.actor.Group",rj.prototype={list:null,name:null,ID:null,sID:null,addChild:function(e){this.list.push(e)},removeChild:function(e){},toString:function(){return this.sID},__class__:rj};var oj=function(e,i,s,n,o){sd.call(this,e,s,i),this.defaultAnimation=n,this.readableImages=o,this.animations=new Va};k["com.stencyl.models.actor.Sprite"]=oj,oj.__name__="com.stencyl.models.actor.Sprite",oj.__super__=sd,oj.prototype=x(sd.prototype,{defaultAnimation:null,animations:null,readableImages:null,loadGraphics:function(){for(var e=this.animations.iterator();e.hasNext();)e.next().loadGraphics()},unloadGraphics:function(){for(var e=this.animations.iterator();e.hasNext();)e.next().unloadGraphics()},reloadGraphics:function(e){-1==e?(this.unloadGraphics(),this.loadGraphics()):(this.animations.h[e].unloadGraphics(),this.animations.h[e].loadGraphics());for(var i=p.engine.allActors.iterator();i.hasNext();){var s=i.next();null==s||s.dead||s.recycled||s.type.spriteID==this.ID&&s.reloadAnimationGraphics(e)}},get_width:function(){var e=this.animations.h[this.defaultAnimation];return e.imgWidth/e.framesAcross|0},get_height:function(){var e=this.animations.h[this.defaultAnimation];return e.imgHeight/e.framesDown|0},__class__:oj,__properties__:{get_height:"get_height",get_width:"get_width"}});var jg=function(e){sd.call(this,0,"Color Background",-1),this.bgColor=e,e==jg.WHITE&&(this.bgColor=16777215)};k["com.stencyl.models.background.ColorBackground"]=jg,jg.__name__="com.stencyl.models.background.ColorBackground",jg.__interfaces__=[Ji],jg.__super__=sd,jg.prototype=x(sd.prototype,{bgColor:null,update:function(){},draw:function(e,i,s,n,o){this.bgColor!=jg.TRANSPARENT&&(e.clear(),e.beginFill(this.bgColor),e.drawRect(0,0,n,o),e.endFill(),e.drawCircle(1,1,1))},__class__:jg});var tj=function(e,i){sd.call(this,0,"Gradient Background",-1),this.topColor=e,this.bottomColor=i};k["com.stencyl.models.background.GradientBackground"]=tj,tj.__name__="com.stencyl.models.background.GradientBackground",tj.__interfaces__=[Ji],tj.__super__=sd,tj.prototype=x(sd.prototype,{topColor:null,bottomColor:null,update:function(){},draw:function(e,i,s,n,o){i=[this.topColor,this.bottomColor],(s=new Fa).createGradientBox(n,o,Math.PI/2,0,0),e.clear();var l=new pa(1,1);e.beginBitmapFill(l),e.endFill(),e.beginGradientFill(0,i,[100,100],[0,255],s,0),e.drawRect(0,0,n,o),e.endFill()},__class__:tj});var $g=function(e,i,s,n,o,l,_){sd.call(this,e,s,i),this.parallaxX=o,this.parallaxY=l,this.durations=n,this.repeats=_,this.currFrame=this.currTime=0,this.isAtlasActive()&&this.loadGraphics(),this.repeated=!1};k["com.stencyl.models.background.ImageBackground"]=$g,$g.__name__="com.stencyl.models.background.ImageBackground",$g.__interfaces__=[Ji],$g.__super__=sd,$g.prototype=x(sd.prototype,{currFrame:null,currTime:null,img:null,frames:null,durations:null,parallaxX:null,parallaxY:null,repeats:null,repeated:null,graphicsLoaded:null,update:function(){},draw:function(e,i,s,n,o){},drawRepeated:function(e,i,s){var n=this.img.height,o=new ia(0,0,e=this.img.width,n);if(!(e>=i&&n>=s)){e<i&&(i+=(0|e)-i%(0|e)),n<s&&(s+=(0|n)-s%(0|n));var l=new pa(0|Math.max(i,e),0|Math.max(s,n)),_=0;for(s=1+(s/n|0);_<s;)for(var h=_++,m=0,f=1+(i/e|0);m<f;){var y=m++;l.copyPixels(this.img,o,new ra(y*e,h*n))}this.img=l}this.repeated=!0},loadGraphics:function(){if(!this.graphicsLoaded){var e=[],i=this.durations.length;if(0<i)for(var s=0;s<i;){var n=s++;e.push(Ba.getBitmapData("assets/graphics/"+p.IMG_BASE+"/background-"+this.ID+"-"+n+".png",!1))}else e.push(Ba.getBitmapData("assets/graphics/"+p.IMG_BASE+"/background-"+this.ID+"-0.png",!1));for(this.frames=[],i=0,s=e.length;i<s;)n=i++,this.repeats?(this.img=e[n],this.drawRepeated(null,p.screenWidth*p.SCALE|0,p.screenHeight*p.SCALE|0),this.frames.push(this.img)):this.frames.push(e[n]);this.img=this.frames[0],this.graphicsLoaded=!0}},unloadGraphics:function(){if(this.graphicsLoaded){this.img=new pa(1,1),this.currFrame=0,this.repeated=!1,this.frames=[];for(var e=0,i=this.durations;e<i.length;)++e,this.frames.push(this.img);this.graphicsLoaded=!1}},reloadGraphics:function(e){sd.prototype.reloadGraphics.call(this,e),e=0;for(var i=p.engine.backgroundLayers;e<i.length;){var s=i[e];++e,s.model==this&&s.reload(s.resourceID)}},__class__:$g});var bi=function(e,i,s,n,o,l,_,h,m){$g.call(this,e,i,s,n,o,l,_),this.xVelocity=h,this.yVelocity=m};k["com.stencyl.models.background.ScrollingBackground"]=bi,bi.__name__="com.stencyl.models.background.ScrollingBackground",bi.__interfaces__=[Ji],bi.__super__=$g,bi.prototype=x($g.prototype,{xVelocity:null,yVelocity:null,update:function(){},draw:function(e,i,s,n,o){},__class__:bi});var ag=function(){this.reset()};k["com.stencyl.models.collision.CollisionInfo"]=ag,ag.__name__="com.stencyl.models.collision.CollisionInfo",ag.resetStatics=function(){ag.infoArray=[]},ag.getCollisionInfo=function(){return 0<ag.infoArray.length?ag.infoArray.pop():new ag},ag.recycle=function(e){ag.infoArray.push(e)},ag.prototype={max:null,min:null,maskA:null,maskB:null,solidCollision:null,reset:function(){this.max=this.min=0,this.maskA=this.maskB=null,this.solidCollision=!0},__class__:ag};var Jg=function(){this.collideTypes=[],this.solid=!0,this._class=T.getClass(this).__name__,this._check=new va;var e=Jg.__name__,i=this._check,s=r(this,this.collideMask);null!=t[e]?i.setReserved(e,s):i.h[e]=s,e=wj.__name__,i=this._check,s=r(this,this.collideMasklist),null!=t[e]?i.setReserved(e,s):i.h[e]=s,this.lastBounds=new ia,this.lastColID=-1};k["com.stencyl.models.collision.Mask"]=Jg,Jg.__name__="com.stencyl.models.collision.Mask",Jg.prototype={parent:null,groupID:null,list:null,lastBounds:null,lastCheckedMask:null,lastColID:null,solid:null,collideTypes:null,collide:function(e){if(null==this.parent)throw new E("Mask must be attached to a parent Entity");var i=e._class,s=this._check;return null!=(i=null!=t[i]?s.getReserved(i):s.h[i])?i(e):(e=e._check,null!=(i=null!=t[i=this._class]?e.getReserved(i):e.h[i])&&i(this))},collideMask:function(e){return this.parent.colX+this.parent.cacheWidth>e.parent.colX&&this.parent.colY+this.parent.cacheHeight>e.parent.colY&&this.parent.colX<e.parent.colX+e.parent.cacheWidth&&this.parent.colY<e.parent.colY+e.parent.cacheHeight&&(this.lastBounds.x=this.parent.colX,this.lastBounds.y=this.parent.colY,this.lastBounds.width=this.parent.cacheWidth,this.lastBounds.height=this.parent.cacheHeight,this.lastCheckedMask=this,!0)},collideMasklist:function(e){return e.collide(this)},assignTo:function(e){this.parent=e,null!=e&&this.update()},debugDraw:function(e,i,s){},update:function(){},projectMask:function(e,i){var s=-9999999999,n=9999999999,o=-this.parent.currOffset.x*e.x-this.parent.currOffset.y*e.y;o<n&&(n=o),o>s&&(s=o),(o=(-this.parent.currOffset.x+this.parent.cacheWidth)*e.x-this.parent.currOffset.y*e.y)<n&&(n=o),o>s&&(s=o),(o=-this.parent.currOffset.x*e.x+(-this.parent.currOffset.y+this.parent.cacheHeight)*e.y)<n&&(n=o),o>s&&(s=o),(o=(-this.parent.currOffset.x+this.parent.cacheWidth)*e.x+(-this.parent.currOffset.y+this.parent.cacheHeight)*e.y)<n&&(n=o),o>s&&(s=o),i.min=n,i.max=s},_class:null,_check:null,__class__:Jg};var Qc=function(e,i,s,n,o,l){null==l&&(l=0),null==o&&(o=!0),null==n&&(n=0),null==s&&(s=0),null==i&&(i=1),null==e&&(e=1),Jg.call(this),this.lastBounds.width=this._width=e,this.lastBounds.height=this._height=i,this._x=s,this._y=n,this.solid=o,this.groupID=l,e=Qc.__name__,i=this._check,s=r(this,this.collideHitbox),null!=t[e]?i.setReserved(e,s):i.h[e]=s};k["com.stencyl.models.collision.Hitbox"]=Qc,Qc.__name__="com.stencyl.models.collision.Hitbox",Qc.__super__=Jg,Qc.prototype=x(Jg.prototype,{clone:function(){return new Qc(this._width,this._height,this._x,this._y,this.solid,this.groupID)},collideMask:function(e){return this.parent.colX+this._x+this._width>e.parent.colX&&this.parent.colY+this._y+this._height>e.parent.colY&&this.parent.colX+this._x<e.parent.colX+e.parent.cacheWidth&&this.parent.colY+this._y<e.parent.colY+e.parent.cacheHeight&&(this.lastBounds.x=this.parent.colX+this.parent.cacheWidth,this.lastBounds.y=this.parent.colY+this.parent.cacheHeight,this.lastBounds.width=this.parent.cacheWidth,this.lastBounds.height=this.parent.cacheHeight,this.lastCheckedMask=this,!0)},collideHitbox:function(e){return this.parent.colX+this._x+this._width>e.parent.colX+e._x&&this.parent.colY+this._y+this._height>e.parent.colY+e._y&&this.parent.colX+this._x<e.parent.colX+e._x+e._width&&this.parent.colY+this._y<e.parent.colY+e._y+e._height&&(this.lastBounds.x=this.parent.colX+this._x,this.lastBounds.y=this.parent.colY+this._y,this.lastBounds.width=this._width,this.lastBounds.height=this._height,this.lastCheckedMask=this,!0)},get_x:function(){return this._x},set_x:function(e){return this._x==e?e:(this._x=e,null!=this.list?this.list.update():null!=this.parent&&this.update(),this._x)},get_y:function(){return this._y},set_y:function(e){return this._y==e?e:(this._y=e,null!=this.list?this.list.update():null!=this.parent&&this.update(),this._y)},get_width:function(){return this._width},set_width:function(e){return this._width==e?e:(this._width=e,null!=this.list?this.list.update():null!=this.parent&&this.update(),this._width)},get_height:function(){return this._height},set_height:function(e){return this._height==e?e:(this._height=e,null!=this.list?this.list.update():null!=this.parent&&this.update(),this._height)},update:function(){null!=this.parent&&null!=this.list&&this.list.update()},_width:null,_height:null,_x:null,_y:null,__class__:Qc,__properties__:{set_height:"set_height",get_height:"get_height",set_width:"set_width",get_width:"get_width",set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x"}});var $m=function(e,i,s,n,o,l){if(null==l&&(l=0),null==o&&(o=0),Qc.call(this),0==e||0==i||0==s||0==n)throw new E("Illegal Grid, sizes cannot be 0.");for(this._rect=N.rect,this._point=N.point,this._point2=N.point2,this.columns=e/s|0,this.rows=i/n|0,this._tile=new ia(0,0,s,n),this._x=o,this._y=l,this._width=e,this._height=i,this.usePositions=!1,this.groupID=1,e=Jg.__name__,i=this._check,s=r(this,this.collideMask),null!=t[e]?i.setReserved(e,s):i.h[e]=s,e=Qc.__name__,i=this._check,s=r(this,this.collideHitbox),null!=t[e]?i.setReserved(e,s):i.h[e]=s,e=al.__name__,i=this._check,s=r(this,this.collidePixelmask),null!=t[e]?i.setReserved(e,s):i.h[e]=s,this.data=[],e=0,i=this.rows;e<i;)e++,this.data.push([])};k["com.stencyl.models.collision.Grid"]=$m,$m.__name__="com.stencyl.models.collision.Grid",$m.__super__=Qc,$m.prototype=x(Qc.prototype,{usePositions:null,setTile:function(e,i,s){null==s&&(s=!0),null==i&&(i=0),null==e&&(e=0),0>e||e>this.columns-1||0>i||i>this.rows-1||(this.usePositions&&(e=e/this._tile.width|0,i=i/this._tile.height|0),this.data[i][e]=s)},clearTile:function(e,i){null==i&&(i=0),null==e&&(e=0),this.setTile(e,i,!1)},checkTile:function(e,i){return!(0>e||e>this.columns-1||0>i||i>this.rows-1)},getTile:function(e,i){return null==i&&(i=0),null==e&&(e=0),!(0>e||e>this.columns-1||0>i||i>this.rows-1)&&(this.usePositions&&(e=e/this._tile.width|0,i=i/this._tile.height|0),this.data[i][e])},setRect:function(e,i,s,n,o){null==o&&(o=!0),null==n&&(n=1),null==s&&(s=1),null==i&&(i=0),null==e&&(e=0),this.usePositions&&(e=e/this._tile.width|0,i=i/this._tile.height|0,s=s/this._tile.width|0,n=n/this._tile.height|0);var l=i;for(i+=n;l<i;){n=l++;for(var _=e,h=e+s;_<h;){var m=_++;this.setTile(m,n,o)}}},clearRect:function(e,i,s,n){null==n&&(n=1),null==s&&(s=1),null==i&&(i=0),null==e&&(e=0),this.setRect(e,i,s,n,!1)},get_tileWidth:function(){return 0|this._tile.width},get_tileHeight:function(){return 0|this._tile.height},columns:null,rows:null,data:null,collideMask:function(e){this._rect.x=e.parent.colX-this.parent.colX,this._rect.y=e.parent.colY-this.parent.colY;var i=1+((this._rect.x+e.parent.cacheWidth-1)/this._tile.width|0),s=this._rect.x/this._tile.width|0,n=this._rect.y/this._tile.height|0;for(e=1+((this._rect.y+e.parent.cacheHeight-1)/this._tile.height|0);n<e;)for(var o=n++,l=s,_=i;l<_;){var h=l++;if(this.getTile(h,o))return!0}return!1},collideHitbox:function(e){this._rect.x=e.parent.colX+e._x,this._rect.y=e.parent.colY+e._y;for(var i=1+((this._rect.x+e._width-1)/this._tile.width|0),s=this._rect.x/this._tile.width|0,n=this._rect.y/this._tile.height|0,o=1+((this._rect.y+e._height-1)/this._tile.height|0);n<o;)for(var l=n++,_=s,h=i;_<h;){var m=_++;if(this.getTile(m,l))return this.lastBounds.x=m*this._tile.width,this.lastBounds.y=l*this._tile.height,this.lastBounds.width=this._tile.width,this.lastBounds.height=this._tile.height,e.lastColID=this.groupID,!0}return!1},collidePixelmask:function(e){return!1},squareProjection:function(e,i){e.x<e.y?(i.x=e.x,i.y=e.y):(i.y=e.x,i.x=e.y)},_tile:null,_rect:null,_point:null,_point2:null,__class__:$m,__properties__:x(Qc.prototype.__properties__,{get_tileHeight:"get_tileHeight",get_tileWidth:"get_tileWidth"})});var wj=function(e,i){for(this._count=0,Qc.call(this),this._masks=[],this._temp=[],this.solid=!1,this.parent=i,i=0;i<e.length;){var s=e[i];++i,this.add(s)}};k["com.stencyl.models.collision.Masklist"]=wj,wj.__name__="com.stencyl.models.collision.Masklist",wj.__super__=Qc,wj.prototype=x(Qc.prototype,{collide:function(e){for(var i=0,s=this._masks;i<s.length;){var n=s[i];if(++i,n.groupID=-1e3==n.groupID?n.parent.groupID:n.groupID,(e instanceof wj||-2==e.groupID||bc.collisionMap[n.groupID][e.groupID])&&n.collide(e))return this.lastBounds.x=n.lastBounds.x,this.lastBounds.y=n.lastBounds.y,this.lastBounds.width=n.lastBounds.width,this.lastBounds.height=n.lastBounds.height,this.lastCheckedMask=n,this.lastColID=e.groupID,!0}return!1},collideMasklist:function(e){for(var i=0,s=this._masks;i<s.length;){var n=s[i];++i,n.groupID=-1e3==n.groupID?n.parent.groupID:n.groupID;for(var o=0,l=e._masks;o<l.length;){var _=l[o];if(++o,_.groupID=-1e3==_.groupID?_.parent.groupID:_.groupID,n.collide(_))return e.lastBounds.x=_.lastBounds.x,e.lastBounds.y=_.lastBounds.y,e.lastBounds.width=_.lastBounds.width,e.lastBounds.height=_.lastBounds.height,e.lastCheckedMask=_,e.lastColID=n.groupID,!0}}return!0},add:function(e){this._masks[this._count++]=e,e.list=this,e.parent=this.parent,this.solid=this.solid||e.solid,this.update(),e.groupID=-1e3==e.groupID?this.parent.groupID:e.groupID;var i=bc.get().groupsCollidesWith.h[e.groupID];if(null!=i)for(var s=0;s<i.length;){var n=i[s];++s,N.contains(this.collideTypes,n)||this.collideTypes.push(n)}return e},remove:function(e){if(0>ic.indexOf(this._masks,e))return e;for(var i=this._temp.length=0,s=this._masks;i<s.length;){var n=s[i];++i,n==e?(e.list=null,e.parent=null,this._count--,this.update()):this._temp[this._temp.length]=n}return i=this._masks,this._masks=this._temp,this._temp=i,e},removeAt:function(e){null==e&&(e=0),this._temp.length=0;var i=this._masks.length;for(e%=i;0<i--;)i==e?(this._masks[e].list=null,this._count--,this.update()):this._temp[this._temp.length]=this._masks[e];e=this._masks,this._masks=this._temp,this._temp=e},removeAll:function(){for(var e=0,i=this._masks;e<i.length;){var s=i[e];++e,s.list=null}this._count=0,this._masks.length=0,this._temp.length=0,this.update()},getMask:function(e){return null==e&&(e=0),this._masks[e%this._masks.length]},assignTo:function(e){for(var i=0,s=this._masks;i<s.length;){var n=s[i];++i,n.parent=e}Qc.prototype.assignTo.call(this,e)},update:function(){for(var o,e=1e5,i=1e5,s=0,n=0,l=this._count;0<l--;)null!=(o=T.__cast(this._masks[l],Qc))&&(o._x<i&&(i=o._x),o._y<e&&(e=o._y),o._x+o._width>s&&(s=o._x+o._width),o._y+o._height>n&&(n=o._y+o._height));this._x=i,this._y=e,this._width=s-i,this._height=n-e,Qc.prototype.update.call(this)},count:null,get_count:function(){return this._count},_masks:null,_temp:null,_count:null,__class__:wj,__properties__:x(Qc.prototype.__properties__,{get_count:"get_count"})});var al=function(e,i,s){if(null==s&&(s=0),null==i&&(i=0),Qc.call(this),e instanceof pa&&(this._data=e),null==this._data)throw new E("Invalid Pixelmask source image.");this.threshold=1,this._rect=N.rect,this._point=N.point,this._point2=N.point2,this._width=this.get_data().width,this._height=this.get_data().height,this._x=i,this._y=s,e=Jg.__name__,i=this._check,s=r(this,this.collideMask),null!=t[e]?i.setReserved(e,s):i.h[e]=s,e=al.__name__,i=this._check,s=r(this,this.collidePixelmask),null!=t[e]?i.setReserved(e,s):i.h[e]=s,e=Qc.__name__,i=this._check,s=r(this,this.collideHitbox),null!=t[e]?i.setReserved(e,s):i.h[e]=s};k["com.stencyl.models.collision.Pixelmask"]=al,al.__name__="com.stencyl.models.collision.Pixelmask",al.__super__=Qc,al.prototype=x(Qc.prototype,{threshold:null,collideMask:function(e){return this._point.x=this.parent.colX+this._x,this._point.y=this.parent.colY+this._y,this._rect.x=e.parent.colX,this._rect.y=e.parent.colY,this._rect.width=e.parent.cacheWidth,this._rect.height=e.parent.cacheHeight,!1},collideHitbox:function(e){return this._point.x=this.parent.colX+this._x,this._point.y=this.parent.colY+this._y,this._rect.x=e.parent.colX+e._x,this._rect.y=e.parent.colY+e._y,this._rect.width=e._width,this._rect.height=e._height,!1},collidePixelmask:function(e){return this._point.x=this.parent.colX+this._x,this._point.y=this.parent.colY+this._y,this._point2.x=e.parent.colX+e._x,this._point2.y=e.parent.colY+e._y,!1},get_data:function(){return this._data},set_data:function(e){return this._data=e,this._width=e.width,this._height=e.height,this.update(),this._data},_data:null,_rect:null,_point:null,_point2:null,__class__:al,__properties__:x(Qc.prototype.__properties__,{set_data:"set_data",get_data:"get_data"})});var Nm=function(e,i,s,n,o,l,_,h,m,f,y,g){this.elementID=e,this.x=i,this.y=s,this.scaleX=n,this.scaleY=o,this.layerID=l,this.orderInLayer=_,this.angle=h,this.groupID=m,this.actorID=f,this.behaviorValues=y,this.isCustomized=g,this.actorType=T.__cast(tc.get().resources.get(f),Eg)};k["com.stencyl.models.scene.ActorInstance"]=Nm,Nm.__name__="com.stencyl.models.scene.ActorInstance",Nm.prototype={elementID:null,x:null,y:null,scaleX:null,scaleY:null,layerID:null,orderInLayer:null,angle:null,groupID:null,actorID:null,isCustomized:null,behaviorValues:null,actorType:null,__class__:Nm};var ff=function(){};k["com.stencyl.models.scene.Autotile"]=ff,ff.__name__="com.stencyl.models.scene.Autotile";var pq=function(e,i,s,n,o){for(this.animIndex=[],this.defaultAnimationIndex=0,this.name=e,this.id=i,this.tilesAcross=s,this.tilesDown=n,e=0,i=new Aa,s=0;256>s;)n=s++,null!=i.h.__keys__[o[n].__id__]?this.animIndex[n]=i.h[o[n].__id__]:(this.animIndex[n]=e,i.set(o[n],e),++e);for(this.defaultAnimationIndex=this.animIndex[255],this.autotileArrayLength=e,this.animCorners=[],e=0;256>e;)i=e++,this.animCorners[this.animIndex[i]]=o[i]};k["com.stencyl.models.scene.AutotileFormat"]=pq,pq.__name__="com.stencyl.models.scene.AutotileFormat",pq.prototype={autotileArrayLength:null,defaultAnimationIndex:null,name:null,id:null,tilesAcross:null,tilesDown:null,animIndex:null,animCorners:null,__class__:pq};var oq=function(e,i,s,n){this.tl=e,this.tr=i,this.bl=s,this.br=n};k["com.stencyl.models.scene.Corners"]=oq,oq.__name__="com.stencyl.models.scene.Corners",oq.prototype={tl:null,tr:null,bl:null,br:null,toString:function(){return"TL: "+O.string(this.tl)+", TR: "+O.string(this.tr)+", BL: "+O.string(this.bl)+", BR: "+O.string(this.br)},__class__:oq};var Wp=function(e,i,s,n){this.type=e,this.x=i,this.y=s,this.layer=n};k["com.stencyl.models.scene.DeferredActor"]=Wp,Wp.__name__="com.stencyl.models.scene.DeferredActor",Wp.prototype={type:null,x:null,y:null,layer:null,__class__:Wp};var Yg=function(e,i,s,n,o,l,_){qa.call(this),this.ID=e,this.layerName=i,this.order=s,this.scrollFactorX=n,this.scrollFactorY=o,this.set_alpha(l),this.set_blendMode(_)};k["com.stencyl.models.scene.layers.RegularLayer"]=Yg,Yg.__name__="com.stencyl.models.scene.layers.RegularLayer",Yg.__super__=qa,Yg.prototype=x(qa.prototype,{ID:null,layerName:null,order:null,scrollFactorX:null,scrollFactorY:null,opacity:null,alphaTween:null,updatePosition:function(e,i,s){},__class__:Yg});var Tc=function(e,i,s,n,o,l,_,h){this.cameraOldX=this.cameraOldY=-1,this.cameraMoved=!0,Yg.call(this,e,i,s,n,o,l,_),this.tiles=h,null!=this.tiles&&this.tiles.set_blendMode(_),this.actorContainer=new qa,this.overlay=new qa,null!=this.tiles&&this.addChild(this.tiles),this.addChild(this.actorContainer),this.addChild(this.overlay),this.attachedImages=[]};k["com.stencyl.models.scene.Layer"]=Tc,Tc.__name__="com.stencyl.models.scene.Layer",Tc.__super__=Yg,Tc.prototype=x(Yg.prototype,{tiles:null,actorContainer:null,overlay:null,attachedImages:null,cameraMoved:null,cameraOldX:null,cameraOldY:null,updatePosition:function(e,i,s){if(ja.pixelsnap){s=e*this.scrollFactorX|0;var n=i*this.scrollFactorY|0;e=Math.round(e),i=Math.round(i),this.set_x(-(e*this.scrollFactorX|0)),this.set_y(-(i*this.scrollFactorY|0));var o=s/(p.engine.scene.tileWidth*p.SCALE)|0,l=n/(p.engine.scene.tileHeight*p.SCALE)|0}else s=e*this.scrollFactorX,n=i*this.scrollFactorY,this.set_x(-e*this.scrollFactorX),this.set_y(-i*this.scrollFactorY),o=s/(p.engine.scene.tileWidth*p.SCALE),l=n/(p.engine.scene.tileHeight*p.SCALE);this.tiles.setPosition(s,n),this.overlay.set_x(e),this.overlay.set_y(i),this.cameraMoved=this.cameraMoved||this.cameraOldX!=o||this.cameraOldY!=l,this.cameraOldX=o,this.cameraOldY=l},clear:function(){for(var e=0,i=this.attachedImages;e<i.length;){var s=i[e];++e,this.removeChild(s)}this.attachedImages=[],N.removeAllChildren(this.actorContainer),this.overlay.get_graphics().clear(),null!=this.tiles&&this.tiles.clear()},__class__:Tc});var xj=function(e,i,s,n,o,l,_){null==l&&(l=0),this.x=n,this.y=o,this.shapes=e,this.shape=this.shapes[0],this.ID=i,this.name=s,this.shapeID=l,this.simpleBounds=_};k["com.stencyl.models.scene.RegionDef"]=xj,xj.__name__="com.stencyl.models.scene.RegionDef",xj.prototype={x:null,y:null,shape:null,shapes:null,ID:null,name:null,shapeID:null,simpleBounds:null,__class__:xj};var mg=function(e,i,s,n,o,l,_){null==_&&(_=!0),null==l&&(l=0),null==o&&(o=0),null==n&&(n=0),qa.call(this),this.curStep=0,this.running=!0,this.repeats=_,this.image1=new Uc(e),this.addChild(this.image1),this.cacheWidth=this.image1.get_width(),this.cacheHeight=this.image1.get_height(),_&&(this.image2=new Uc(e),this.image2.set_x(this.image1.get_x()-this.cacheWidth),this.addChild(this.image2),this.image3=new Uc(e),this.image3.set_x(this.image1.get_x()+this.cacheWidth),this.addChild(this.image3),this.image4=new Uc(e),this.image4.set_x(this.image1.get_x()-this.cacheWidth),this.image4.set_y(this.image1.get_y()-this.cacheHeight),this.addChild(this.image4),this.image5=new Uc(e),this.image5.set_y(this.image1.get_y()-this.cacheHeight),this.addChild(this.image5),this.image6=new Uc(e),this.image6.set_x(this.image1.get_x()+this.cacheWidth),this.image6.set_y(this.image1.get_y()-this.cacheHeight),this.addChild(this.image6),this.image7=new Uc(e),this.image7.set_x(this.image1.get_x()-this.cacheWidth),this.image7.set_y(this.image1.get_y()+this.cacheHeight),this.addChild(this.image7),this.image8=new Uc(e),this.image8.set_y(this.image1.get_y()+this.cacheHeight),this.addChild(this.image8),this.image9=new Uc(e),this.image9.set_x(this.image1.get_x()+this.cacheWidth),this.image9.set_y(this.image1.get_y()+this.cacheHeight),this.addChild(this.image9)),this.yPos=this.xPos=this.yP=this.xP=0,this.xVelocity=i,this.yVelocity=s,this.parallaxX=n,this.parallaxY=o,this.scrolling=0!=i||0!=s,this.parallax=0!=n||0!=o,this.backgroundID=l};k["com.stencyl.models.scene.ScrollingBitmap"]=mg,mg.__name__="com.stencyl.models.scene.ScrollingBitmap",mg.__super__=qa,mg.prototype=x(qa.prototype,{image1:null,image2:null,image3:null,image4:null,image5:null,image6:null,image7:null,image8:null,image9:null,speed:null,curStep:null,running:null,parallax:null,scrolling:null,cacheWidth:null,cacheHeight:null,xP:null,yP:null,xPos:null,yPos:null,xVelocity:null,yVelocity:null,parallaxX:null,parallaxY:null,backgroundID:null,repeats:null,update:function(e,i,s){s=!1,this.parallax?(this.xPos=-(e*this.parallaxX|0),this.yPos=-(i*this.parallaxY|0),s=!0):this.running?this.yPos=this.xPos=0:(this.xPos=this.xP,this.yPos=this.yP),this.scrolling&&this.running&&(e=this.cacheWidth,i=this.cacheHeight,this.xP+=this.xVelocity/10*p.SCALE,this.yP+=this.yVelocity/10*p.SCALE,this.repeats&&((this.xP<-e||this.xP>e)&&(this.xP=0),(this.yP<-i||this.yP>i)&&(this.yP=0)),this.xPos+=Math.floor(this.xP),this.yPos+=Math.floor(this.yP),this.curStep+=1,1<=this.curStep&&(s=!0,this.curStep-=Math.floor(this.curStep))),s&&this.resetPositions()},resetPositions:function(){this.cacheWidth=this.image1.get_width(),this.cacheHeight=this.image1.get_height(),this.repeats&&(this.xPos<-this.cacheWidth&&(this.xPos%=this.cacheWidth),this.yPos<-this.cacheHeight&&(this.yPos%=this.cacheHeight)),this.image1.set_x(this.xPos),this.image1.set_y(this.yPos),this.repeats&&(this.image2.set_x(this.xPos-this.cacheWidth),this.image2.set_y(this.yPos),this.image3.set_x(this.xPos+this.cacheWidth),this.image3.set_y(this.yPos),this.image4.set_x(this.xPos-this.cacheWidth),this.image4.set_y(this.yPos-this.cacheHeight),this.image5.set_x(this.xPos),this.image5.set_y(this.yPos-this.cacheHeight),this.image6.set_x(this.xPos+this.cacheWidth),this.image6.set_y(this.yPos-this.cacheHeight),this.image7.set_x(this.xPos-this.cacheWidth),this.image7.set_y(this.yPos+this.cacheHeight),this.image8.set_x(this.xPos),this.image8.set_y(this.yPos+this.cacheHeight),this.image9.set_x(this.xPos+this.cacheWidth),this.image9.set_y(this.yPos+this.cacheHeight))},start:function(){this.running=!0},stop:function(){this.running=!1},__class__:mg});var qq=function(e,i,s,n,o,l,_){null==_&&(_=0),null==l&&(l=0),this.x=n,this.y=o,this.shapes=e,this.shape=this.shapes[0],this.ID=i,this.name=s,this.groupID=l,0==this.fillColor&&(null==(s=i=e=0)&&(s=0),null==i&&(i=0),null==e&&(e=0),this.fillColor=e<<16|i<<8|s),this.fillColor=_};k["com.stencyl.models.scene.TerrainDef"]=qq,qq.__name__="com.stencyl.models.scene.TerrainDef",qq.prototype={x:null,y:null,shape:null,shapes:null,ID:null,name:null,groupID:null,fillColor:null,__class__:qq};var dd=function(e,i,s,n,o,l,_,h){this.tileID=e,this.collisionID=i,this.metadata=s,this.frameIndex=n,this.durations=o,this.parent=h;var m=bc.get().atlases.h[h.atlasID];if(null!=l){this.autotileFormat=l,this.autotileMergeSet=_,_=[];var f=0;for(l=l.autotileArrayLength;f<l;)f++,_.push(new dd(e,i,s,n,o,null,null,h));this.autotiles=_}null!=m&&m.active&&this.loadGraphics(),this.currTime=this.currFrame=0,this.updateSource=!1};k["com.stencyl.models.scene.Tile"]=dd,dd.__name__="com.stencyl.models.scene.Tile",dd.prototype={tileID:null,collisionID:null,metadata:null,frameIndex:null,parent:null,autotileFormat:null,autotiles:null,autotileMergeSet:null,pixels:null,durations:null,frames:null,currFrame:null,currTime:null,updateSource:null,data:null,update:function(e){1==this.durations.length||p.paused||(this.currTime+=Math.floor(e),this.currTime>(0|this.durations[this.currFrame])&&(this.currTime-=0|this.durations[this.currFrame],this.currFrame+1<this.durations.length?this.currFrame++:this.currFrame=0,this.updateSource=!0))},getSource:function(e,i){return new ia(this.currFrame*e*p.SCALE,0,e*p.SCALE,i*p.SCALE)},loadGraphics:function(){var e=null;if((1<this.durations.length||null!=this.autotileFormat)&&(e=Ba.getBitmapData("assets/graphics/"+p.IMG_BASE+"/tileset-"+this.parent.ID+"-"+this.tileID+".png",!1)),null!=this.autotileFormat){var i=0,s=0;for(e=this.createAutotileAnimations(e,this.autotileFormat);s<e.length;){var n=e[s];++s,this.autotiles[i++].loadAnimationPixels(n)}}else this.loadAnimationPixels(e)},unloadGraphics:function(){if(this.data=this.pixels=null,null!=this.autotiles)for(var e=0,i=this.autotiles;e<i.length;){var s=i[e];++e,s.pixels=null,s.data=null}},loadAnimationPixels:function(e){if(null!=e){this.pixels=e,this.data=new Gi(e),e=0;for(var i=this.durations.length;e<i;)this.currFrame=e++,this.data.addRect(this.getSource(this.parent.tileWidth,this.parent.tileHeight))}},createAutotileAnimations:function(e,i){var s=[],n=this.durations.length,o=e.width/n/i.tilesAcross|0,l=e.height/i.tilesDown|0,_=o/2|0,h=l/2|0;dd.dummyRect.width=_,dd.dummyRect.height=h;for(var m=0,f=i.animCorners;m<f.length;){var y=f[m];++m;for(var g=new pa(o*n,l),j=function(St,Mt){return function(Et,Ct){Mt[0](St[0],Et,Ct)}}([e],[r(g,g.copyPixels)]),$=0,yt=n;$<yt;){var _t=$++,xt=o*i.tilesAcross*_t;_t*=o;var Tt=y.tl;dd.dummyRect.x=xt+Tt.x*dd.dummyRect.width,dd.dummyRect.y=Tt.y*dd.dummyRect.height,j(dd.dummyRect,new ra(_t,0)),dd.dummyRect.x=xt+(Tt=y.tr).x*dd.dummyRect.width,dd.dummyRect.y=Tt.y*dd.dummyRect.height,j(dd.dummyRect,new ra(_t+_,0)),dd.dummyRect.x=xt+(Tt=y.br).x*dd.dummyRect.width,dd.dummyRect.y=Tt.y*dd.dummyRect.height,j(dd.dummyRect,new ra(_t+_,h)),dd.dummyRect.x=xt+(Tt=y.bl).x*dd.dummyRect.width,dd.dummyRect.y=Tt.y*dd.dummyRect.height,j(dd.dummyRect,new ra(_t,h))}s.push(g)}return s},sourceRect:function(e,i){return dd.dummyRect.x=i+e.x*dd.dummyRect.width,dd.dummyRect.y=e.y*dd.dummyRect.height,dd.dummyRect},__class__:dd};var He=function(e,i,s,n){qa.call(this),this.layerID=e,this.scene=i,this.numRows=n,this.numCols=s,this.clear(),this.tilemaps=new Aa};k["com.stencyl.models.scene.TileLayer"]=He,He.__name__="com.stencyl.models.scene.TileLayer",He.__interfaces__=[Yh],He.resetStatics=function(){He.cacheSource=new Va},He.__super__=qa,He.prototype=x(qa.prototype,{layerID:null,rows:null,autotileData:null,grid:null,scene:null,numRows:null,numCols:null,tilemaps:null,noTiles:null,clear:function(){if(null!=this.tilemaps)for(var e=this.tilemaps.iterator();e.hasNext();)e.next().removeTiles();this.noTiles=!0,this.rows=[],this.autotileData=[],e=0;for(var i=this.numRows;e<i;){var s=e++;this.rows[s]=[],this.autotileData[s]=[];for(var n=0,o=this.numCols;n<o;){var l=n++;this.rows[s][l]=null,this.autotileData[s][l]=0}}},setPosition:function(e,i){},mountGrid:function(){if(null!=this.grid){var e=new Ab(p.engine,1e8,1,0,0,-1,this.grid.get_width(),this.grid.get_height(),null,new va,null,null,!1,!0,!1,!1,this.grid,p.NO_PHYSICS);e.set_name("Terrain"),e.typeID=-1,e.set_visible(!1),e.ignoreGravity=!0,p.engine.getGroup(1).addChild(e)}},setTileAt:function(e,i,s,n){if(null==n&&(n=!0),!(0>i||0>e||i>=this.numCols||e>=this.numRows)){this.noTiles&&null!=s&&(this.noTiles=!1);var o=this.rows[e][i];n&&(n=null!=o&&null!=o.autotiles||null!=s&&null!=s.autotiles),this.rows[e][i]=s,this.autotileData[e][i]=0,n&&this.updateAutotilesNear(e,i)}},getTileAt:function(e,i){return 0>i||0>e||i>=this.numCols||e>=this.numRows?null:this.rows[e][i]},updateAutotilesNear:function(e,i){var s=e-1;for(e+=2;s<e;)for(var n=s++,o=i-1,l=i+2;o<l;){var _=o++;0>_||0>n||_>=this.numCols||n>=this.numRows||this.updateAutotile(n,_)}},updateAutotile:function(e,i){var s=this.rows[e][i];if(null!=s&&null!=s.autotiles){for(var n=0,o=He.autotileFlagPointMap.keys();o.hasNext();){var l=o.next(),_=He.autotileFlagPointMap.h[l],h=i+_.x|0;_=e+_.y|0,0>h||0>_||h>=this.numCols||_>=this.numRows||this.rows[_][h]==s||(n|=l)}this.autotileData[e][i]=s.autotileFormat.animIndex[n]}},draw:function(e,i){if(!this.noTiles){for(var s=this.tilemaps.iterator();s.hasNext();)s.next().removeTiles();e=Math.floor(e),i=Math.floor(i);var n=this.numRows,o=this.scene.tileHeight,l=i/p.SCALE/o|0;i=2+(e=e/p.SCALE/(s=this.scene.tileWidth)|0)+(p.screenWidth/s|0);var _=2+l+(p.screenHeight/o|0);for(i=0|Math.min(i,this.numCols),_=0|Math.min(_,n),n=l;n<_;){for(l=e;l<i;){var h=this.getTileAt(n,l);if(null!=h&&h.parent.graphicsLoaded){if(null==He.cacheSource.h[1e6*h.parent.ID+h.tileID]||h.updateSource)if(h.updateSource=!1,null==h.pixels&&null==h.autotiles){var m=He.cacheSource,f=1e6*h.parent.ID+h.tileID,y=h.parent.getImageSourceForTile(h.tileID,s,o);m.h[f]=y}else m=He.cacheSource,f=1e6*h.parent.ID+h.tileID,y=h.getSource(s,o),m.h[f]=y;null!=He.cacheSource.h[1e6*h.parent.ID+h.tileID]&&(null!=h.autotiles&&(h=h.autotiles[this.autotileData[n][l]]),null==h.data?(m=h.parent.sheetMap.h[h.tileID],this.getTilemap(h.parent.flTileset).addTile(new Hg(m,l*s*p.SCALE,n*o*p.SCALE))):(m=h.currFrame,this.getTilemap(h.data).addTile(new Hg(m,l*s*p.SCALE,n*o*p.SCALE))))}++l}++n}}},updateScale:function(){for(var e=this.tilemaps.iterator();e.hasNext();){var i=e.next();i.set_width(p.sceneWidth*p.SCALE),i.set_height(p.sceneHeight*p.SCALE)}},getTilemap:function(e){if(null==this.tilemaps.h.__keys__[e.__id__]){var i=new Ig(p.sceneWidth*p.SCALE|0,p.sceneHeight*p.SCALE|0,e,ja.antialias);this.tilemaps.set(e,i),this.addChild(i)}return this.tilemaps.h[e.__id__]},__class__:He});var Rf=function(e,i,s,n,o,l,_,h,m){sd.call(this,e,s,i),this.framesAcross=n,this.framesDown=o,this.tileWidth=l,this.tileHeight=_,this.readableImages=h,this.tiles=m};k["com.stencyl.models.scene.Tileset"]=Rf,Rf.__name__="com.stencyl.models.scene.Tileset",Rf.__super__=sd,Rf.prototype=x(sd.prototype,{framesAcross:null,framesDown:null,tileWidth:null,tileHeight:null,tiles:null,readableImages:null,pixels:null,graphicsLoaded:null,flTileset:null,sheetMap:null,setupFLTileset:function(){if(this.sheetMap=new Va,null!=this.pixels){this.flTileset=new Gi(this.convertPixels(this.pixels));for(var e=0,i=this.tiles;e<i.length;){var s=i[e];if(++e,null!=s){var n=this.getImageSourceForTile(s.tileID,0|this.tileWidth,0|this.tileHeight),o=this.sheetMap;s=s.tileID,n=this.flTileset.addRect(n),o.h[s]=n}}}},getImageSourceForTile:function(e,i,s){var n=this.tiles[e];return null==n?(Rf.temp.x=0,Rf.temp.y=0):(e=Math.floor(n.frameIndex/this.framesAcross),n=Math.floor(n.frameIndex%this.framesAcross),Rf.temp.x=n*i*p.SCALE+2*n+1,Rf.temp.y=e*s*p.SCALE+2*e+1),Rf.temp.width=i*p.SCALE,Rf.temp.height=s*p.SCALE,Rf.temp.clone()},loadGraphics:function(){if(!this.graphicsLoaded){this.pixels=Ba.getBitmapData("assets/graphics/"+p.IMG_BASE+"/tileset-"+this.ID+".png",!1);for(var e=0,i=this.tiles;e<i.length;){var s=i[e];++e,s?.loadGraphics()}this.setupFLTileset(),ja.disposeImages&&!this.readableImages&&this.pixels.dispose(),this.graphicsLoaded=!0}},unloadGraphics:function(){if(this.graphicsLoaded){this.pixels.readable&&this.pixels.dispose(),this.flTileset=this.pixels=null;for(var e=0,i=this.tiles;e<i.length;){var s=i[e];++e,s?.unloadGraphics()}this.graphicsLoaded=!1}},reloadGraphics:function(e){if(-1==e){this.unloadGraphics(),this.loadGraphics(),e=0;for(var i=this.tiles;e<i.length;){var s=i[e];++e,null!=s&&(s.updateSource=!0)}}else null!=(e=this.tiles[e])&&(e.unloadGraphics(),e.loadGraphics());p.engine.tileUpdated=!0},convertPixels:function(e){for(var _,h,m,f,i=this.tileWidth*p.SCALE|0,s=this.tileHeight*p.SCALE|0,n=e.width/i|0,o=e.height/s|0,l=new pa(e.width+2*n|0,e.height+2*o|0,!0,0),y=0;y<o;){for(_=0;_<n;)h=_*i+2*_+1|0,m=y*s+2*y+1|0,f=new ia(_*i,y*s,i,s),h=new ra(h,m),l.copyPixels(e,f,h),++_;++y}for(y=0;y<o;){for(_=0;_<n;){for(h=_*i+2*_+1|0,m=y*s+2*y+1|0,e=0;e<i;)f=l.getPixel32(h+e,m),l.setPixel32(h+e,m-1,f),f=l.getPixel32(h+e,m+s-1),l.setPixel32(h+e,m+s,f),++e;for(e=0;e<s;)f=l.getPixel32(h,m+e),l.setPixel32(h-1,m+e,f),f=l.getPixel32(h+i-1,m+e),l.setPixel32(h+i,m+e,f),++e;++_}++y}return l},__class__:Rf});var rq=function(e,i,s,n,o,l){this.x=e,this.y=i,this.width=s,this.height=n,this.shape=o,this.shape2=l};k["com.stencyl.models.scene.Wireframe"]=rq,rq.__name__="com.stencyl.models.scene.Wireframe",rq.prototype={x:null,y:null,shape:null,shape2:null,width:null,height:null,__class__:rq};var oe=function(e,i,s,n,o,l,_,h,m){Yg.call(this,e,i,s,n,o,l,_),this.resourceID=h,this.customScroll=m,this.model=T.__cast(tc.get().resources.get(h),$g)};k["com.stencyl.models.scene.layers.BackgroundLayer"]=oe,oe.__name__="com.stencyl.models.scene.layers.BackgroundLayer",oe.__super__=Yg,oe.prototype=x(Yg.prototype,{model:null,bitmap:null,resourceID:null,customScroll:null,isAnimated:null,frameCount:null,currIndex:null,currTime:null,cacheIndex:null,cacheWidth:null,cacheHeight:null,bgChild:null,load:function(){if(null!=this.model&&null!=this.model.img){this.bitmap=new Uc(this.model.img,1,!0),this.bitmap.smoothing=ja.antialias,this.currTime=this.currIndex=0,this.isAnimated=1<this.model.frames.length,this.frameCount=this.model.frames.length,this.model.repeats&&!this.model.repeated&&this.model.drawRepeated(this,p.screenWidth*p.SCALE|0,p.screenHeight*p.SCALE|0);var e=0,i=0;if(this.customScroll)e=this.scrollFactorX,i=this.scrollFactorY;else if(this.model.repeats)e=this.model.parallaxX,i=this.model.parallaxY;else{var s=this.model.img.width,n=this.model.img.height,o=p.screenWidth*p.SCALE|0,l=p.screenHeight*p.SCALE|0,_=p.sceneWidth*p.SCALE|0,h=p.sceneHeight*p.SCALE|0;s>o&&s<_&&(e=1-(_-s)/(_-o)),n>l&&n<h&&(i=1-(h-n)/(h-l))}this.model instanceof bi?(s=T.__cast(this.model,bi),e=new mg(this.model.img,s.xVelocity,s.yVelocity,e,i,this.resourceID,this.model.repeats),this.addChild(this.bgChild=e)):this.model.repeats?(e=new mg(this.model.img,0,0,e,i,this.resourceID),this.addChild(this.bgChild=e)):(this.cacheWidth=this.model.img.width,this.cacheHeight=this.model.img.height,this.scrollFactorX=e,this.scrollFactorY=i,this.addChild(this.bgChild=this.bitmap))}},loadFromImg:function(e,i){this.model=new bi(-1,-1,"",[100],0,0,i,0,0),this.model.img=e,this.model.frames=[e],this.load()},setScrollFactor:function(e,i){if(this.scrollFactorX=e,this.scrollFactorY=i,this.bgChild instanceof mg){var s=T.__cast(this.bgChild,mg);s.parallaxX=e,s.parallaxY=i,s.parallax=0!=e||0!=i}},setScrollSpeed:function(e,i){if(this.bgChild instanceof mg){var s=T.__cast(this.bgChild,mg);s.xVelocity=e,s.yVelocity=i,s.scrolling=0!=e||0!=i}},reload:function(e){null!=this.bgChild&&(this.removeChild(this.bgChild),this.bgChild=null),this.resourceID=e,this.model=T.__cast(tc.get().resources.get(this.resourceID),$g),this.load()},setImage:function(e){this.bitmap.set_bitmapData(e),this.currTime=this.currIndex=0,this.isAnimated=1<this.model.frames.length,this.frameCount=this.model.frames.length},updateAnimation:function(e){this.currTime+=e,null!=this.model&&this.currTime>=this.model.durations[this.currIndex]&&(this.currTime=0,this.currIndex++,this.currIndex>=this.frameCount&&(this.currIndex=0),this.bgChild instanceof mg?(this.cacheIndex=this.currIndex,this.model.repeats&&this.model.drawRepeated(this,p.screenWidth*p.SCALE|0,p.screenHeight*p.SCALE|0),this.currIndex=this.cacheIndex,(e=this.bgChild.image1).set_bitmapData(this.model.frames[this.currIndex]),this.model.repeats&&((e=this.bgChild.image2).set_bitmapData(this.model.frames[this.currIndex]),(e=this.bgChild.image3).set_bitmapData(this.model.frames[this.currIndex]),(e=this.bgChild.image4).set_bitmapData(this.model.frames[this.currIndex]),(e=this.bgChild.image5).set_bitmapData(this.model.frames[this.currIndex]),(e=this.bgChild.image6).set_bitmapData(this.model.frames[this.currIndex]),(e=this.bgChild.image7).set_bitmapData(this.model.frames[this.currIndex]),(e=this.bgChild.image8).set_bitmapData(this.model.frames[this.currIndex]),(e=this.bgChild.image9).set_bitmapData(this.model.frames[this.currIndex]))):this.bitmap.set_bitmapData(this.model.frames[this.currIndex]))},updatePosition:function(e,i,s){this.bgChild instanceof mg?T.__cast(this.bgChild,mg).update(e,i,s):(this.set_x(-(e*this.scrollFactorX|0)),this.set_y(-(i*this.scrollFactorY|0))),this.isAnimated&&this.updateAnimation(s)},getBitmap:function(){return this.bgChild},__class__:oe});var fd=function(e,i,s,n){null==n&&(n=0),null==s&&(s=0),null==i&&(i=0),null==e&&(e=0),this.a=e,this.r=i,this.g=s,this.b=n};k["com.stencyl.utils.ARGB"]=fd,fd.__name__="com.stencyl.utils.ARGB",fd.setARGBi=function(e,i,s,n){return(255&e)<<24|(255&i)<<16|(255&s)<<8|255&n},fd.setARGBf=function(e,i,s,n){return(255&(0|(0<(e=255*(0>e?0:1<e?1:e))?e+.5:0>e?e-.5:0)))<<24|(255&(0|(0<(i=255*(0>i?0:1<i?1:i))?i+.5:0>i?i-.5:0)))<<16|(255&(0|(0<(s=255*(0>s?0:1<s?1:s))?s+.5:0>s?s-.5:0)))<<8|255&(0|(0<(n=255*(0>n?0:1<n?1:n))?n+.5:0>n?n-.5:0))},fd.toARGB=function(e){return new fd(.00392156862745098*(e>>>24),.00392156862745098*(e>>>16&255),.00392156862745098*(e>>>8&255),.00392156862745098*(255&e))},fd.getRGB=function(e){return 16777215&e},fd.setRGB=function(e,i,s,n){return i<<16|s<<8|n|-16777216&e},fd.getA=function(e){return e>>>24},fd.getAf=function(e){return.00392156862745098*(e>>>24)},fd.getR=function(e){return e>>>16&255},fd.getRf=function(e){return.00392156862745098*(e>>>16&255)},fd.getG=function(e){return e>>>8&255},fd.getGf=function(e){return.00392156862745098*(e>>>8&255)},fd.getB=function(e){return 255&e},fd.getBf=function(e){return.00392156862745098*(255&e)},fd.setA=function(e,i){return i<<24|16777215&e},fd.setAf=function(e,i){return(0|(0<(i=255*(0>i?0:1<i?1:i))?i+.5:0>i?i-.5:0))<<24|16777215&e},fd.setR=function(e,i){return(255&i)<<16|-16711681&e},fd.setRf=function(e,i){return(255&(0|(0<(i=255*(0>i?0:1<i?1:i))?i+.5:0>i?i-.5:0)))<<16|-16711681&e},fd.setG=function(e,i){return i<<8|-65281&e},fd.setGf=function(e,i){return(0|(0<(i=255*(0>i?0:1<i?1:i))?i+.5:0>i?i-.5:0))<<8|-65281&e},fd.setB=function(e,i){return i|-256&e},fd.setBf=function(e,i){return 0|(0<(i=255*(0>i?0:1<i?1:i))?i+.5:0>i?i-.5:0)|-256&e},fd.prototype={a:null,r:null,g:null,b:null,set:function(e,i,s,n){this.a=e,this.r=i,this.g=s,this.b=n},lerp:function(e,i,s){s.a=this.a+(e.a-this.a)*i,s.r=this.r+(e.r-this.r)*i,s.g=this.g+(e.g-this.g)*i,s.b=this.b+(e.b-this.b)*i},getA8:function(){var e=255*this.a;return 0|(0<e?e+.5:0>e?e-.5:0)},getR8:function(){var e=255*this.r;return 0|(0<e?e+.5:0>e?e-.5:0)},getG8:function(){var e=255*this.g;return 0|(0<e?e+.5:0>e?e-.5:0)},getB8:function(){var e=255*this.b;return 0|(0<e?e+.5:0>e?e-.5:0)},get24:function(){var e=255*this.r,i=255*this.g,s=255*this.b;return(0|(0<e?e+.5:0>e?e-.5:0))<<16|(0|(0<i?i+.5:0>i?i-.5:0))<<8|(0<s?s+.5:0>s?s-.5:0)|0},set24:function(e,i,s){this.a=this.a,this.r=.00392156862745098*(255&e),this.g=.00392156862745098*(255&i),this.b=.00392156862745098*(255&s)},get32:function(){var e=255*this.a,i=255*this.r,s=255*this.g,n=255*this.b;return(0|(0<e?e+.5:0>e?e-.5:0))<<24|(0|(0<i?i+.5:0>i?i-.5:0))<<16|(0|(0<s?s+.5:0>s?s-.5:0))<<8|(0<n?n+.5:0>n?n-.5:0)|0},set32:function(e,i,s,n){this.a=.00392156862745098*(255&e),this.r=.00392156862745098*(255&i),this.g=.00392156862745098*(255&s),this.b=.00392156862745098*(255&n)},copy:function(e){return e.a=this.a,e.r=this.r,e.g=this.g,e.b=this.b,e},__class__:fd},C["com.stencyl.utils.ColorDeficiencyTypes"]={__ename__:"com.stencyl.utils.ColorDeficiencyTypes",__constructs__:"Protanopia Protanomaly Deuteranopia Deuteranomaly Tritanopia Tritanomaly Achromatopsia Achromatomaly".split(" "),Protanopia:{_hx_index:0,__enum__:"com.stencyl.utils.ColorDeficiencyTypes",toString:v},Protanomaly:{_hx_index:1,__enum__:"com.stencyl.utils.ColorDeficiencyTypes",toString:v},Deuteranopia:{_hx_index:2,__enum__:"com.stencyl.utils.ColorDeficiencyTypes",toString:v},Deuteranomaly:{_hx_index:3,__enum__:"com.stencyl.utils.ColorDeficiencyTypes",toString:v},Tritanopia:{_hx_index:4,__enum__:"com.stencyl.utils.ColorDeficiencyTypes",toString:v},Tritanomaly:{_hx_index:5,__enum__:"com.stencyl.utils.ColorDeficiencyTypes",toString:v},Achromatopsia:{_hx_index:6,__enum__:"com.stencyl.utils.ColorDeficiencyTypes",toString:v},Achromatomaly:{_hx_index:7,__enum__:"com.stencyl.utils.ColorDeficiencyTypes",toString:v}};var Wa=function(){this.identity(),this.matrix=[]};k["com.stencyl.utils.ColorMatrix"]=Wa,Wa.__name__="com.stencyl.utils.ColorMatrix",Wa.mulMatrixMatrix=function(e,i,s){var n=e.m11,o=e.m12,l=e.m13,_=e.m14;return s.m11=e.m11*i.m11+e.m12*i.m21+e.m13*i.m31+e.m14*i.m41,s.m12=n*i.m12+e.m12*i.m22+e.m13*i.m32+e.m14*i.m42,s.m13=n*i.m13+o*i.m23+e.m13*i.m33+e.m14*i.m43,s.m14=n*i.m14+o*i.m24+l*i.m34+e.m14*i.m44,s.m15=n*i.m15+o*i.m25+l*i.m35+_*i.m45,n=e.m21,o=e.m22,l=e.m23,_=e.m24,s.m21=e.m21*i.m11+e.m22*i.m21+e.m23*i.m31+e.m24*i.m41,s.m22=n*i.m12+e.m22*i.m22+e.m23*i.m32+e.m24*i.m42,s.m23=n*i.m13+o*i.m23+e.m23*i.m33+e.m24*i.m43,s.m24=n*i.m14+o*i.m24+l*i.m34+e.m24*i.m44,s.m25=n*i.m15+o*i.m25+l*i.m35+_*i.m45,n=e.m31,o=e.m32,l=e.m33,_=e.m34,s.m31=e.m31*i.m11+e.m32*i.m21+e.m33*i.m31+e.m34*i.m41,s.m32=n*i.m12+e.m32*i.m22+e.m33*i.m32+e.m34*i.m42,s.m33=n*i.m13+o*i.m23+e.m33*i.m33+e.m34*i.m43,s.m34=n*i.m14+o*i.m24+l*i.m34+e.m34*i.m44,s.m35=n*i.m15+o*i.m25+l*i.m35+_*i.m45,n=e.m41,o=e.m42,l=e.m43,_=e.m44,s.m41=e.m41*i.m11+e.m42*i.m21+e.m43*i.m31+e.m44*i.m41,s.m42=n*i.m12+e.m42*i.m22+e.m43*i.m32+e.m44*i.m42,s.m43=n*i.m13+o*i.m23+e.m43*i.m33+e.m44*i.m43,s.m44=n*i.m14+o*i.m24+l*i.m34+e.m44*i.m44,s.m45=n*i.m15+o*i.m25+l*i.m35+_*i.m45,s},Wa.blendMatrixMatrix=function(e,i,s,n){var o=1-n;return s.m11=o*e.m11+n*i.m11,s.m12=o*e.m12+n*i.m12,s.m13=o*e.m13+n*i.m13,s.m14=o*e.m14+n*i.m14,s.m15=o*e.m15+n*i.m15,s.m21=o*e.m21+n*i.m21,s.m22=o*e.m22+n*i.m22,s.m23=o*e.m23+n*i.m23,s.m24=o*e.m24+n*i.m24,s.m25=o*e.m25+n*i.m25,s.m31=o*e.m31+n*i.m31,s.m32=o*e.m32+n*i.m32,s.m33=o*e.m33+n*i.m33,s.m34=o*e.m34+n*i.m34,s.m35=o*e.m35+n*i.m35,s.m41=o*e.m41+n*i.m41,s.m42=o*e.m42+n*i.m42,s.m43=o*e.m43+n*i.m43,s.m44=o*e.m44+n*i.m44,s.m45=o*e.m45+n*i.m45,s},Wa.prototype={m11:null,m12:null,m13:null,m14:null,m15:null,m21:null,m22:null,m23:null,m24:null,m25:null,m31:null,m32:null,m33:null,m34:null,m35:null,m41:null,m42:null,m43:null,m44:null,m45:null,matrix:null,preHue:null,postHue:null,hueInitialized:null,getFilter:function(){var e=this.matrix;return e[0]=this.m11,e[1]=this.m12,e[2]=this.m13,e[3]=this.m14,e[4]=this.m15,e[5]=this.m21,e[6]=this.m22,e[7]=this.m23,e[8]=this.m24,e[9]=this.m25,e[10]=this.m31,e[11]=this.m32,e[12]=this.m33,e[13]=this.m34,e[14]=this.m35,e[15]=this.m41,e[16]=this.m42,e[17]=this.m43,e[18]=this.m44,e[19]=this.m45,new Sf(this.matrix)},identity:function(){return this.m11=1,this.m21=this.m15=this.m14=this.m13=this.m12=0,this.m22=1,this.m32=this.m31=this.m25=this.m24=this.m23=0,this.m33=1,this.m43=this.m42=this.m41=this.m35=this.m34=0,this.m44=1,this.m45=0,this},invert:function(){var e=this.m11,i=this.m12,s=this.m13,n=this.m14;return this.m11=-1*this.m11+0*this.m12+0*this.m13+0*this.m14,this.m12=0*e+-1*this.m12+0*this.m13+0*this.m14,this.m13=0*e+0*i+-1*this.m13+0*this.m14,this.m14=0*e+0*i+0*s+this.m14,this.m15=255*e+255*i+255*s+0*n,e=this.m21,i=this.m22,s=this.m23,n=this.m24,this.m21=-1*this.m21+0*this.m22+0*this.m23+0*this.m24,this.m22=0*e+-1*this.m22+0*this.m23+0*this.m24,this.m23=0*e+0*i+-1*this.m23+0*this.m24,this.m24=0*e+0*i+0*s+this.m24,this.m25=255*e+255*i+255*s+0*n,e=this.m31,i=this.m32,s=this.m33,n=this.m34,this.m31=-1*this.m31+0*this.m32+0*this.m33+0*this.m34,this.m32=0*e+-1*this.m32+0*this.m33+0*this.m34,this.m33=0*e+0*i+-1*this.m33+0*this.m34,this.m34=0*e+0*i+0*s+this.m34,this.m35=255*e+255*i+255*s+0*n,e=this.m41,i=this.m42,s=this.m43,n=this.m44,this.m41=-1*this.m41+0*this.m42+0*this.m43+0*this.m44,this.m42=0*e+-1*this.m42+0*this.m43+0*this.m44,this.m43=0*e+0*i+-1*this.m43+0*this.m44,this.m44=0*e+0*i+0*s+this.m44,this.m45=255*e+255*i+255*s+0*n,this},adjustSaturation:function(e){var i=1-e,s=i*Wa.LUMA_R,n=i*Wa.LUMA_G,o=s+e,l=n+e;e=(i*=Wa.LUMA_B)+e;var _=this.m11,h=this.m12,m=this.m13,f=this.m14;return this.m11=this.m11*o+this.m12*s+this.m13*s+0*this.m14,this.m12=_*n+this.m12*l+this.m13*n+0*this.m14,this.m13=_*i+h*i+this.m13*e+0*this.m14,this.m14=0*_+0*h+0*m+this.m14,this.m15=0*_+0*h+0*m+0*f,_=this.m21,h=this.m22,m=this.m23,f=this.m24,this.m21=this.m21*o+this.m22*s+this.m23*s+0*this.m24,this.m22=_*n+this.m22*l+this.m23*n+0*this.m24,this.m23=_*i+h*i+this.m23*e+0*this.m24,this.m24=0*_+0*h+0*m+this.m24,this.m25=0*_+0*h+0*m+0*f,_=this.m31,h=this.m32,m=this.m33,f=this.m34,this.m31=this.m31*o+this.m32*s+this.m33*s+0*this.m34,this.m32=_*n+this.m32*l+this.m33*n+0*this.m34,this.m33=_*i+h*i+this.m33*e+0*this.m34,this.m34=0*_+0*h+0*m+this.m34,this.m35=0*_+0*h+0*m+0*f,_=this.m41,h=this.m42,m=this.m43,f=this.m44,this.m41=this.m41*o+this.m42*s+this.m43*s+0*this.m44,this.m42=_*n+this.m42*l+this.m43*n+0*this.m44,this.m43=_*i+h*i+this.m43*e+0*this.m44,this.m44=0*_+0*h+0*m+this.m44,this.m45=0*_+0*h+0*m+0*f,this},adjustBrightness:function(e){return this.adjustBrightnessRGB(e,e,e),this},adjustBrightnessRGB:function(e,i,s){e*=255,i*=255,s*=255;var n=this.m11,o=this.m12,l=this.m13,_=this.m14;return this.m11=this.m11+0*this.m12+0*this.m13+0*this.m14,this.m12=0*n+this.m12+0*this.m13+0*this.m14,this.m13=0*n+0*o+this.m13+0*this.m14,this.m14=0*n+0*o+0*l+this.m14,this.m15=n*e+o*i+l*s+0*_,n=this.m21,o=this.m22,l=this.m23,_=this.m24,this.m21=this.m21+0*this.m22+0*this.m23+0*this.m24,this.m22=0*n+this.m22+0*this.m23+0*this.m24,this.m23=0*n+0*o+this.m23+0*this.m24,this.m24=0*n+0*o+0*l+this.m24,this.m25=n*e+o*i+l*s+0*_,n=this.m31,o=this.m32,l=this.m33,_=this.m34,this.m31=this.m31+0*this.m32+0*this.m33+0*this.m34,this.m32=0*n+this.m32+0*this.m33+0*this.m34,this.m33=0*n+0*o+this.m33+0*this.m34,this.m34=0*n+0*o+0*l+this.m34,this.m35=n*e+o*i+l*s+0*_,n=this.m41,o=this.m42,l=this.m43,_=this.m44,this.m41=this.m41+0*this.m42+0*this.m43+0*this.m44,this.m42=0*n+this.m42+0*this.m43+0*this.m44,this.m43=0*n+0*o+this.m43+0*this.m44,this.m44=0*n+0*o+0*l+this.m44,this.m45=n*e+o*i+l*s+0*_,this},adjustContrast:function(e){return this.adjustContrastRGB(e,e,e),this},adjustContrastRGB:function(e,i,s){var n=128*(1-(e+=1)),o=128*(1-(i+=1)),l=128*(1-(s+=1)),_=this.m11,h=this.m12,m=this.m13,f=this.m14;return this.m11=this.m11*e+0*this.m12+0*this.m13+0*this.m14,this.m12=0*_+this.m12*i+0*this.m13+0*this.m14,this.m13=0*_+0*h+this.m13*s+0*this.m14,this.m14=0*_+0*h+0*m+this.m14,this.m15=_*n+h*o+m*l+0*f,_=this.m21,h=this.m22,m=this.m23,f=this.m24,this.m21=this.m21*e+0*this.m22+0*this.m23+0*this.m24,this.m22=0*_+this.m22*i+0*this.m23+0*this.m24,this.m23=0*_+0*h+this.m23*s+0*this.m24,this.m24=0*_+0*h+0*m+this.m24,this.m25=_*n+h*o+m*l+0*f,_=this.m31,h=this.m32,m=this.m33,f=this.m34,this.m31=this.m31*e+0*this.m32+0*this.m33+0*this.m34,this.m32=0*_+this.m32*i+0*this.m33+0*this.m34,this.m33=0*_+0*h+this.m33*s+0*this.m34,this.m34=0*_+0*h+0*m+this.m34,this.m35=_*n+h*o+m*l+0*f,_=this.m41,h=this.m42,m=this.m43,f=this.m44,this.m41=this.m41*e+0*this.m42+0*this.m43+0*this.m44,this.m42=0*_+this.m42*i+0*this.m43+0*this.m44,this.m43=0*_+0*h+this.m43*s+0*this.m44,this.m44=0*_+0*h+0*m+this.m44,this.m45=_*n+h*o+m*l+0*f,this},adjustHue:function(e){e*=.01745329251994278;var i=Math.cos(e),s=Math.sin(e);e=Wa.LUMA_R+i*(1-Wa.LUMA_R)+s*-Wa.LUMA_R;var n=Wa.LUMA_G+i*-Wa.LUMA_G+s*-Wa.LUMA_G,o=Wa.LUMA_B+i*-Wa.LUMA_B+s*(1-Wa.LUMA_B),l=Wa.LUMA_R+i*-Wa.LUMA_R+.143*s,_=Wa.LUMA_G+i*(1-Wa.LUMA_G)+.14*s,h=Wa.LUMA_B+i*-Wa.LUMA_B+-.283*s,m=Wa.LUMA_R+i*-Wa.LUMA_R+s*-(1-Wa.LUMA_R),f=Wa.LUMA_G+i*-Wa.LUMA_G+s*Wa.LUMA_G;i=Wa.LUMA_B+i*(1-Wa.LUMA_B)+s*Wa.LUMA_B,s=this.m11;var y=this.m12,g=this.m13,j=this.m14;return this.m11=this.m11*e+this.m12*l+this.m13*m+0*this.m14,this.m12=s*n+this.m12*_+this.m13*f+0*this.m14,this.m13=s*o+y*h+this.m13*i+0*this.m14,this.m14=0*s+0*y+0*g+this.m14,this.m15=0*s+0*y+0*g+0*j,s=this.m21,y=this.m22,g=this.m23,j=this.m24,this.m21=this.m21*e+this.m22*l+this.m23*m+0*this.m24,this.m22=s*n+this.m22*_+this.m23*f+0*this.m24,this.m23=s*o+y*h+this.m23*i+0*this.m24,this.m24=0*s+0*y+0*g+this.m24,this.m25=0*s+0*y+0*g+0*j,s=this.m31,y=this.m32,g=this.m33,j=this.m34,this.m31=this.m31*e+this.m32*l+this.m33*m+0*this.m34,this.m32=s*n+this.m32*_+this.m33*f+0*this.m34,this.m33=s*o+y*h+this.m33*i+0*this.m34,this.m34=0*s+0*y+0*g+this.m34,this.m35=0*s+0*y+0*g+0*j,s=this.m41,y=this.m42,g=this.m43,j=this.m44,this.m41=this.m41*e+this.m42*l+this.m43*m+0*this.m44,this.m42=s*n+this.m42*_+this.m43*f+0*this.m44,this.m43=s*o+y*h+this.m43*i+0*this.m44,this.m44=0*s+0*y+0*g+this.m44,this.m45=0*s+0*y+0*g+0*j,this},luminance2Alpha:function(){var e=Wa.LUMA_R,i=Wa.LUMA_G,s=Wa.LUMA_B,n=this.m11,o=this.m12,l=this.m13,_=this.m14;return this.m11=0*this.m11+0*this.m12+0*this.m13+this.m14*e,this.m12=0*n+0*this.m12+0*this.m13+this.m14*i,this.m13=0*n+0*o+0*this.m13+this.m14*s,this.m14=0*n+0*o+0*l+0*this.m14,this.m15=255*n+255*o+255*l+0*_,n=this.m21,o=this.m22,l=this.m23,_=this.m24,this.m21=0*this.m21+0*this.m22+0*this.m23+this.m24*e,this.m22=0*n+0*this.m22+0*this.m23+this.m24*i,this.m23=0*n+0*o+0*this.m23+this.m24*s,this.m24=0*n+0*o+0*l+0*this.m24,this.m25=255*n+255*o+255*l+0*_,n=this.m31,o=this.m32,l=this.m33,_=this.m34,this.m31=0*this.m31+0*this.m32+0*this.m33+this.m34*e,this.m32=0*n+0*this.m32+0*this.m33+this.m34*i,this.m33=0*n+0*o+0*this.m33+this.m34*s,this.m34=0*n+0*o+0*l+0*this.m34,this.m35=255*n+255*o+255*l+0*_,n=this.m41,o=this.m42,l=this.m43,_=this.m44,this.m41=0*this.m41+0*this.m42+0*this.m43+this.m44*e,this.m42=0*n+0*this.m42+0*this.m43+this.m44*i,this.m43=0*n+0*o+0*this.m43+this.m44*s,this.m44=0*n+0*o+0*l+0*this.m44,this.m45=255*n+255*o+255*l+0*_,this},adjustAlphaContrast:function(e){var i=128*(1-(e+=1)),s=this.m11,n=this.m12,o=this.m13,l=this.m14;return this.m11=this.m11+0*this.m12+0*this.m13+0*this.m14,this.m12=0*s+this.m12+0*this.m13+0*this.m14,this.m13=0*s+0*n+this.m13+0*this.m14,this.m14=0*s+0*n+0*o+this.m14*e,this.m15=0*s+0*n+0*o+l*i,s=this.m21,n=this.m22,o=this.m23,l=this.m24,this.m21=this.m21+0*this.m22+0*this.m23+0*this.m24,this.m22=0*s+this.m22+0*this.m23+0*this.m24,this.m23=0*s+0*n+this.m23+0*this.m24,this.m24=0*s+0*n+0*o+this.m24*e,this.m25=0*s+0*n+0*o+l*i,s=this.m31,n=this.m32,o=this.m33,l=this.m34,this.m31=this.m31+0*this.m32+0*this.m33+0*this.m34,this.m32=0*s+this.m32+0*this.m33+0*this.m34,this.m33=0*s+0*n+this.m33+0*this.m34,this.m34=0*s+0*n+0*o+this.m34*e,this.m35=0*s+0*n+0*o+l*i,s=this.m41,n=this.m42,o=this.m43,l=this.m44,this.m41=this.m41+0*this.m42+0*this.m43+0*this.m44,this.m42=0*s+this.m42+0*this.m43+0*this.m44,this.m43=0*s+0*n+this.m43+0*this.m44,this.m44=0*s+0*n+0*o+this.m44*e,this.m45=0*s+0*n+0*o+l*i,this},colorize:function(e,i){null==i&&(i=1);var s=.00392156862745098*(e>>>16&255),n=.00392156862745098*(e>>>8&255),o=.00392156862745098*(255&e),l=1-i;e=l+i*s*Wa.LUMA_R;var _=i*s*Wa.LUMA_G;s=i*s*Wa.LUMA_B;var h=i*n*Wa.LUMA_R,m=l+i*n*Wa.LUMA_G;n=i*n*Wa.LUMA_B;var f=i*o*Wa.LUMA_R,y=i*o*Wa.LUMA_G;i=l+i*o*Wa.LUMA_B,o=this.m11,l=this.m12;var g=this.m13,j=this.m14;return this.m11=this.m11*e+this.m12*h+this.m13*f+0*this.m14,this.m12=o*_+this.m12*m+this.m13*y+0*this.m14,this.m13=o*s+l*n+this.m13*i+0*this.m14,this.m14=0*o+0*l+0*g+this.m14,this.m15=0*o+0*l+0*g+0*j,o=this.m21,l=this.m22,g=this.m23,j=this.m24,this.m21=this.m21*e+this.m22*h+this.m23*f+0*this.m24,this.m22=o*_+this.m22*m+this.m23*y+0*this.m24,this.m23=o*s+l*n+this.m23*i+0*this.m24,this.m24=0*o+0*l+0*g+this.m24,this.m25=0*o+0*l+0*g+0*j,o=this.m31,l=this.m32,g=this.m33,j=this.m34,this.m31=this.m31*e+this.m32*h+this.m33*f+0*this.m34,this.m32=o*_+this.m32*m+this.m33*y+0*this.m34,this.m33=o*s+l*n+this.m33*i+0*this.m34,this.m34=0*o+0*l+0*g+this.m34,this.m35=0*o+0*l+0*g+0*j,o=this.m41,l=this.m42,g=this.m43,j=this.m44,this.m41=this.m41*e+this.m42*h+this.m43*f+0*this.m44,this.m42=o*_+this.m42*m+this.m43*y+0*this.m44,this.m43=o*s+l*n+this.m43*i+0*this.m44,this.m44=0*o+0*l+0*g+this.m44,this.m45=0*o+0*l+0*g+0*j,this},rotateHue:function(e){if(!this.hueInitialized){this.hueInitialized=!0,this.preHue=new Wa,this.preHue.rotateRed(45),this.preHue.rotateGreen(-39.182655);var i=[];i[0]=Wa.LUMA_R2,i[1]=Wa.LUMA_G2,i[2]=Wa.LUMA_B2,i[3]=1,this.preHue.transformVector(i);var s=i[0]/i[2];this.preHue.shearBlue(s,i=i[1]/i[2]),this.postHue=new Wa,this.postHue.shearBlue(-s,-i),this.postHue.rotateGreen(39.182655),this.postHue.rotateRed(-45)}i=this.m11;var n=this.m12,o=this.m13,l=this.m14;return this.m11=this.m11*(s=this.preHue).m11+this.m12*s.m21+this.m13*s.m31+this.m14*s.m41,this.m12=i*s.m12+this.m12*s.m22+this.m13*s.m32+this.m14*s.m42,this.m13=i*s.m13+n*s.m23+this.m13*s.m33+this.m14*s.m43,this.m14=i*s.m14+n*s.m24+o*s.m34+this.m14*s.m44,this.m15=i*s.m15+n*s.m25+o*s.m35+l*s.m45,i=this.m21,n=this.m22,o=this.m23,l=this.m24,this.m21=this.m21*s.m11+this.m22*s.m21+this.m23*s.m31+this.m24*s.m41,this.m22=i*s.m12+this.m22*s.m22+this.m23*s.m32+this.m24*s.m42,this.m23=i*s.m13+n*s.m23+this.m23*s.m33+this.m24*s.m43,this.m24=i*s.m14+n*s.m24+o*s.m34+this.m24*s.m44,this.m25=i*s.m15+n*s.m25+o*s.m35+l*s.m45,i=this.m31,n=this.m32,o=this.m33,l=this.m34,this.m31=this.m31*s.m11+this.m32*s.m21+this.m33*s.m31+this.m34*s.m41,this.m32=i*s.m12+this.m32*s.m22+this.m33*s.m32+this.m34*s.m42,this.m33=i*s.m13+n*s.m23+this.m33*s.m33+this.m34*s.m43,this.m34=i*s.m14+n*s.m24+o*s.m34+this.m34*s.m44,this.m35=i*s.m15+n*s.m25+o*s.m35+l*s.m45,i=this.m41,n=this.m42,o=this.m43,l=this.m44,this.m41=this.m41*s.m11+this.m42*s.m21+this.m43*s.m31+this.m44*s.m41,this.m42=i*s.m12+this.m42*s.m22+this.m43*s.m32+this.m44*s.m42,this.m43=i*s.m13+n*s.m23+this.m43*s.m33+this.m44*s.m43,this.m44=i*s.m14+n*s.m24+o*s.m34+this.m44*s.m44,this.m45=i*s.m15+n*s.m25+o*s.m35+l*s.m45,this.rotateBlue(e),s=this.m11,i=this.m12,n=this.m13,o=this.m14,this.m11=this.m11*(e=this.postHue).m11+this.m12*e.m21+this.m13*e.m31+this.m14*e.m41,this.m12=s*e.m12+this.m12*e.m22+this.m13*e.m32+this.m14*e.m42,this.m13=s*e.m13+i*e.m23+this.m13*e.m33+this.m14*e.m43,this.m14=s*e.m14+i*e.m24+n*e.m34+this.m14*e.m44,this.m15=s*e.m15+i*e.m25+n*e.m35+o*e.m45,s=this.m21,i=this.m22,n=this.m23,o=this.m24,this.m21=this.m21*e.m11+this.m22*e.m21+this.m23*e.m31+this.m24*e.m41,this.m22=s*e.m12+this.m22*e.m22+this.m23*e.m32+this.m24*e.m42,this.m23=s*e.m13+i*e.m23+this.m23*e.m33+this.m24*e.m43,this.m24=s*e.m14+i*e.m24+n*e.m34+this.m24*e.m44,this.m25=s*e.m15+i*e.m25+n*e.m35+o*e.m45,s=this.m31,i=this.m32,n=this.m33,o=this.m34,this.m31=this.m31*e.m11+this.m32*e.m21+this.m33*e.m31+this.m34*e.m41,this.m32=s*e.m12+this.m32*e.m22+this.m33*e.m32+this.m34*e.m42,this.m33=s*e.m13+i*e.m23+this.m33*e.m33+this.m34*e.m43,this.m34=s*e.m14+i*e.m24+n*e.m34+this.m34*e.m44,this.m35=s*e.m15+i*e.m25+n*e.m35+o*e.m45,s=this.m41,i=this.m42,n=this.m43,o=this.m44,this.m41=this.m41*e.m11+this.m42*e.m21+this.m43*e.m31+this.m44*e.m41,this.m42=s*e.m12+this.m42*e.m22+this.m43*e.m32+this.m44*e.m42,this.m43=s*e.m13+i*e.m23+this.m43*e.m33+this.m44*e.m43,this.m44=s*e.m14+i*e.m24+n*e.m34+this.m44*e.m44,this.m45=s*e.m15+i*e.m25+n*e.m35+o*e.m45,this},setChannels:function(e,i,s,n){null==n&&(n=8),null==s&&(s=4),null==i&&(i=2),null==e&&(e=1);var o=(1==(1&e)?1:0)+(2==(2&e)?1:0)+(4==(4&e)?1:0)+(8==(8&e)?1:0);0<o&&(o=1/o);var l=(1==(1&i)?1:0)+(2==(2&i)?1:0)+(4==(4&i)?1:0)+(8==(8&i)?1:0);0<l&&(l=1/l);var _=(1==(1&s)?1:0)+(2==(2&s)?1:0)+(4==(4&s)?1:0)+(8==(8&s)?1:0);0<_&&(_=1/_);var h=(1==(1&n)?1:0)+(2==(2&n)?1:0)+(4==(4&n)?1:0)+(8==(8&n)?1:0);0<h&&(h=1/h);var m=1==(1&e)?o:0,f=2==(2&e)?o:0,y=4==(4&e)?o:0;e=8==(8&e)?o:0,o=1==(1&i)?l:0;var g=2==(2&i)?l:0,j=4==(4&i)?l:0;i=8==(8&i)?l:0,l=1==(1&s)?_:0;var $=2==(2&s)?_:0,yt=4==(4&s)?_:0;s=8==(8&s)?_:0,_=1==(1&n)?h:0;var _t=2==(2&n)?h:0,xt=4==(4&n)?h:0;n=8==(8&n)?h:0,h=this.m11;var Tt=this.m12,St=this.m13,Mt=this.m14;return this.m11=this.m11*m+this.m12*o+this.m13*l+this.m14*_,this.m12=h*f+this.m12*g+this.m13*$+this.m14*_t,this.m13=h*y+Tt*j+this.m13*yt+this.m14*xt,this.m14=h*e+Tt*i+St*s+this.m14*n,this.m15=0*h+0*Tt+0*St+0*Mt,h=this.m21,Tt=this.m22,St=this.m23,Mt=this.m24,this.m21=this.m21*m+this.m22*o+this.m23*l+this.m24*_,this.m22=h*f+this.m22*g+this.m23*$+this.m24*_t,this.m23=h*y+Tt*j+this.m23*yt+this.m24*xt,this.m24=h*e+Tt*i+St*s+this.m24*n,this.m25=0*h+0*Tt+0*St+0*Mt,h=this.m31,Tt=this.m32,St=this.m33,Mt=this.m34,this.m31=this.m31*m+this.m32*o+this.m33*l+this.m34*_,this.m32=h*f+this.m32*g+this.m33*$+this.m34*_t,this.m33=h*y+Tt*j+this.m33*yt+this.m34*xt,this.m34=h*e+Tt*i+St*s+this.m34*n,this.m35=0*h+0*Tt+0*St+0*Mt,h=this.m41,Tt=this.m42,St=this.m43,Mt=this.m44,this.m41=this.m41*m+this.m42*o+this.m43*l+this.m44*_,this.m42=h*f+this.m42*g+this.m43*$+this.m44*_t,this.m43=h*y+Tt*j+this.m43*yt+this.m44*xt,this.m44=h*e+Tt*i+St*s+this.m44*n,this.m45=0*h+0*Tt+0*St+0*Mt,this},average:function(e,i,s){null==s&&(s=.33333333),null==i&&(i=.33333333),null==e&&(e=.33333333);var n=this.m11,o=this.m12,l=this.m13,_=this.m14;return this.m11=this.m11*e+this.m12*e+this.m13*e+0*this.m14,this.m12=n*i+this.m12*i+this.m13*i+0*this.m14,this.m13=n*s+o*s+this.m13*s+0*this.m14,this.m14=0*n+0*o+0*l+this.m14,this.m15=0*n+0*o+0*l+0*_,n=this.m21,o=this.m22,l=this.m23,_=this.m24,this.m21=this.m21*e+this.m22*e+this.m23*e+0*this.m24,this.m22=n*i+this.m22*i+this.m23*i+0*this.m24,this.m23=n*s+o*s+this.m23*s+0*this.m24,this.m24=0*n+0*o+0*l+this.m24,this.m25=0*n+0*o+0*l+0*_,n=this.m31,o=this.m32,l=this.m33,_=this.m34,this.m31=this.m31*e+this.m32*e+this.m33*e+0*this.m34,this.m32=n*i+this.m32*i+this.m33*i+0*this.m34,this.m33=n*s+o*s+this.m33*s+0*this.m34,this.m34=0*n+0*o+0*l+this.m34,this.m35=0*n+0*o+0*l+0*_,n=this.m41,o=this.m42,l=this.m43,_=this.m44,this.m41=this.m41*e+this.m42*e+this.m43*e+0*this.m44,this.m42=n*i+this.m42*i+this.m43*i+0*this.m44,this.m43=n*s+o*s+this.m43*s+0*this.m44,this.m44=0*n+0*o+0*l+this.m44,this.m45=0*n+0*o+0*l+0*_,this},threshold:function(e,i){null==i&&(i=256);var s=Wa.LUMA_R*i,n=Wa.LUMA_G*i,o=Wa.LUMA_B*i,l=-i*e,_=Wa.LUMA_R*i,h=Wa.LUMA_G*i,m=Wa.LUMA_B*i,f=-i*e,y=Wa.LUMA_R*i,g=Wa.LUMA_G*i,j=Wa.LUMA_B*i;e*=-i,i=this.m11;var $=this.m12,yt=this.m13,_t=this.m14;return this.m11=this.m11*s+this.m12*_+this.m13*y+0*this.m14,this.m12=i*n+this.m12*h+this.m13*g+0*this.m14,this.m13=i*o+$*m+this.m13*j+0*this.m14,this.m14=0*i+0*$+0*yt+this.m14,this.m15=i*l+$*f+yt*e+0*_t,i=this.m21,$=this.m22,yt=this.m23,_t=this.m24,this.m21=this.m21*s+this.m22*_+this.m23*y+0*this.m24,this.m22=i*n+this.m22*h+this.m23*g+0*this.m24,this.m23=i*o+$*m+this.m23*j+0*this.m24,this.m24=0*i+0*$+0*yt+this.m24,this.m25=i*l+$*f+yt*e+0*_t,i=this.m31,$=this.m32,yt=this.m33,_t=this.m34,this.m31=this.m31*s+this.m32*_+this.m33*y+0*this.m34,this.m32=i*n+this.m32*h+this.m33*g+0*this.m34,this.m33=i*o+$*m+this.m33*j+0*this.m34,this.m34=0*i+0*$+0*yt+this.m34,this.m35=i*l+$*f+yt*e+0*_t,i=this.m41,$=this.m42,yt=this.m43,_t=this.m44,this.m41=this.m41*s+this.m42*_+this.m43*y+0*this.m44,this.m42=i*n+this.m42*h+this.m43*g+0*this.m44,this.m43=i*o+$*m+this.m43*j+0*this.m44,this.m44=0*i+0*$+0*yt+this.m44,this.m45=i*l+$*f+yt*e+0*_t,this},desaturate:function(){var e=Wa.LUMA_R,i=Wa.LUMA_G,s=Wa.LUMA_B,n=Wa.LUMA_R,o=Wa.LUMA_G,l=Wa.LUMA_B,_=Wa.LUMA_R,h=Wa.LUMA_G,m=Wa.LUMA_B,f=this.m11,y=this.m12,g=this.m13,j=this.m14;return this.m11=this.m11*e+this.m12*n+this.m13*_+0*this.m14,this.m12=f*i+this.m12*o+this.m13*h+0*this.m14,this.m13=f*s+y*l+this.m13*m+0*this.m14,this.m14=0*f+0*y+0*g+this.m14,this.m15=0*f+0*y+0*g+0*j,f=this.m21,y=this.m22,g=this.m23,j=this.m24,this.m21=this.m21*e+this.m22*n+this.m23*_+0*this.m24,this.m22=f*i+this.m22*o+this.m23*h+0*this.m24,this.m23=f*s+y*l+this.m23*m+0*this.m24,this.m24=0*f+0*y+0*g+this.m24,this.m25=0*f+0*y+0*g+0*j,f=this.m31,y=this.m32,g=this.m33,j=this.m34,this.m31=this.m31*e+this.m32*n+this.m33*_+0*this.m34,this.m32=f*i+this.m32*o+this.m33*h+0*this.m34,this.m33=f*s+y*l+this.m33*m+0*this.m34,this.m34=0*f+0*y+0*g+this.m34,this.m35=0*f+0*y+0*g+0*j,f=this.m41,y=this.m42,g=this.m43,j=this.m44,this.m41=this.m41*e+this.m42*n+this.m43*_+0*this.m44,this.m42=f*i+this.m42*o+this.m43*h+0*this.m44,this.m43=f*s+y*l+this.m43*m+0*this.m44,this.m44=0*f+0*y+0*g+this.m44,this.m45=0*f+0*y+0*g+0*j,this},setMultiplicators:function(e,i,s,n){null==n&&(n=1),null==s&&(s=1),null==i&&(i=1),null==e&&(e=1);var o=this.m11,l=this.m12,_=this.m13,h=this.m14;return this.m11=this.m11*e+0*this.m12+0*this.m13+0*this.m14,this.m12=0*o+this.m12*i+0*this.m13+0*this.m14,this.m13=0*o+0*l+this.m13*s+0*this.m14,this.m14=0*o+0*l+0*_+this.m14*n,this.m15=0*o+0*l+0*_+0*h,o=this.m21,l=this.m22,_=this.m23,h=this.m24,this.m21=this.m21*e+0*this.m22+0*this.m23+0*this.m24,this.m22=0*o+this.m22*i+0*this.m23+0*this.m24,this.m23=0*o+0*l+this.m23*s+0*this.m24,this.m24=0*o+0*l+0*_+this.m24*n,this.m25=0*o+0*l+0*_+0*h,o=this.m31,l=this.m32,_=this.m33,h=this.m34,this.m31=this.m31*e+0*this.m32+0*this.m33+0*this.m34,this.m32=0*o+this.m32*i+0*this.m33+0*this.m34,this.m33=0*o+0*l+this.m33*s+0*this.m34,this.m34=0*o+0*l+0*_+this.m34*n,this.m35=0*o+0*l+0*_+0*h,o=this.m41,l=this.m42,_=this.m43,h=this.m44,this.m41=this.m41*e+0*this.m42+0*this.m43+0*this.m44,this.m42=0*o+this.m42*i+0*this.m43+0*this.m44,this.m43=0*o+0*l+this.m43*s+0*this.m44,this.m44=0*o+0*l+0*_+this.m44*n,this.m45=0*o+0*l+0*_+0*h,this},clearChannels:function(e,i,s,n){return null==n&&(n=!1),null==s&&(s=!1),null==i&&(i=!1),null==e&&(e=!1),e&&(this.m11=this.m12=this.m13=this.m14=this.m15=0),i&&(this.m21=this.m22=this.m23=this.m24=this.m25=0),s&&(this.m31=this.m32=this.m33=this.m34=this.m35=0),n&&(this.m41=this.m42=this.m43=this.m44=this.m45=0),this},thresholdAlpha:function(e,i){null==i&&(i=256),e*=-i;var s=this.m11,n=this.m12,o=this.m13,l=this.m14;return this.m11=this.m11+0*this.m12+0*this.m13+0*this.m14,this.m12=0*s+this.m12+0*this.m13+0*this.m14,this.m13=0*s+0*n+this.m13+0*this.m14,this.m14=0*s+0*n+0*o+this.m14*i,this.m15=0*s+0*n+0*o+l*e,s=this.m21,n=this.m22,o=this.m23,l=this.m24,this.m21=this.m21+0*this.m22+0*this.m23+0*this.m24,this.m22=0*s+this.m22+0*this.m23+0*this.m24,this.m23=0*s+0*n+this.m23+0*this.m24,this.m24=0*s+0*n+0*o+this.m24*i,this.m25=0*s+0*n+0*o+l*e,s=this.m31,n=this.m32,o=this.m33,l=this.m34,this.m31=this.m31+0*this.m32+0*this.m33+0*this.m34,this.m32=0*s+this.m32+0*this.m33+0*this.m34,this.m33=0*s+0*n+this.m33+0*this.m34,this.m34=0*s+0*n+0*o+this.m34*i,this.m35=0*s+0*n+0*o+l*e,s=this.m41,n=this.m42,o=this.m43,l=this.m44,this.m41=this.m41+0*this.m42+0*this.m43+0*this.m44,this.m42=0*s+this.m42+0*this.m43+0*this.m44,this.m43=0*s+0*n+this.m43+0*this.m44,this.m44=0*s+0*n+0*o+this.m44*i,this.m45=0*s+0*n+0*o+l*e,this},averageRGB2Alpha:function(){var e=Wa.INV3,i=Wa.INV3,s=Wa.INV3,n=this.m11,o=this.m12,l=this.m13,_=this.m14;return this.m11=0*this.m11+0*this.m12+0*this.m13+this.m14*e,this.m12=0*n+0*this.m12+0*this.m13+this.m14*i,this.m13=0*n+0*o+0*this.m13+this.m14*s,this.m14=0*n+0*o+0*l+0*this.m14,this.m15=255*n+255*o+255*l+0*_,n=this.m21,o=this.m22,l=this.m23,_=this.m24,this.m21=0*this.m21+0*this.m22+0*this.m23+this.m24*e,this.m22=0*n+0*this.m22+0*this.m23+this.m24*i,this.m23=0*n+0*o+0*this.m23+this.m24*s,this.m24=0*n+0*o+0*l+0*this.m24,this.m25=255*n+255*o+255*l+0*_,n=this.m31,o=this.m32,l=this.m33,_=this.m34,this.m31=0*this.m31+0*this.m32+0*this.m33+this.m34*e,this.m32=0*n+0*this.m32+0*this.m33+this.m34*i,this.m33=0*n+0*o+0*this.m33+this.m34*s,this.m34=0*n+0*o+0*l+0*this.m34,this.m35=255*n+255*o+255*l+0*_,n=this.m41,o=this.m42,l=this.m43,_=this.m44,this.m41=0*this.m41+0*this.m42+0*this.m43+this.m44*e,this.m42=0*n+0*this.m42+0*this.m43+this.m44*i,this.m43=0*n+0*o+0*this.m43+this.m44*s,this.m44=0*n+0*o+0*l+0*this.m44,this.m45=255*n+255*o+255*l+0*_,this},invertAlpha:function(){var e=this.m11,i=this.m12,s=this.m13,n=this.m14;return this.m11=this.m11+0*this.m12+0*this.m13+0*this.m14,this.m12=0*e+this.m12+0*this.m13+0*this.m14,this.m13=0*e+0*i+this.m13+0*this.m14,this.m14=0*e+0*i+0*s+-1*this.m14,this.m15=0*e+0*i+0*s+255*n,e=this.m21,i=this.m22,s=this.m23,n=this.m24,this.m21=this.m21+0*this.m22+0*this.m23+0*this.m24,this.m22=0*e+this.m22+0*this.m23+0*this.m24,this.m23=0*e+0*i+this.m23+0*this.m24,this.m24=0*e+0*i+0*s+-1*this.m24,this.m25=0*e+0*i+0*s+255*n,e=this.m31,i=this.m32,s=this.m33,n=this.m34,this.m31=this.m31+0*this.m32+0*this.m33+0*this.m34,this.m32=0*e+this.m32+0*this.m33+0*this.m34,this.m33=0*e+0*i+this.m33+0*this.m34,this.m34=0*e+0*i+0*s+-1*this.m34,this.m35=0*e+0*i+0*s+255*n,e=this.m41,i=this.m42,s=this.m43,n=this.m44,this.m41=this.m41+0*this.m42+0*this.m43+0*this.m44,this.m42=0*e+this.m42+0*this.m43+0*this.m44,this.m43=0*e+0*i+this.m43+0*this.m44,this.m44=0*e+0*i+0*s+-1*this.m44,this.m45=0*e+0*i+0*s+255*n,this},rgb2Alpha:function(e,i,s){var n=this.m11,o=this.m12,l=this.m13,_=this.m14;return this.m11=0*this.m11+0*this.m12+0*this.m13+this.m14*e,this.m12=0*n+0*this.m12+0*this.m13+this.m14*i,this.m13=0*n+0*o+0*this.m13+this.m14*s,this.m14=0*n+0*o+0*l+0*this.m14,this.m15=255*n+255*o+255*l+0*_,n=this.m21,o=this.m22,l=this.m23,_=this.m24,this.m21=0*this.m21+0*this.m22+0*this.m23+this.m24*e,this.m22=0*n+0*this.m22+0*this.m23+this.m24*i,this.m23=0*n+0*o+0*this.m23+this.m24*s,this.m24=0*n+0*o+0*l+0*this.m24,this.m25=255*n+255*o+255*l+0*_,n=this.m31,o=this.m32,l=this.m33,_=this.m34,this.m31=0*this.m31+0*this.m32+0*this.m33+this.m34*e,this.m32=0*n+0*this.m32+0*this.m33+this.m34*i,this.m33=0*n+0*o+0*this.m33+this.m34*s,this.m34=0*n+0*o+0*l+0*this.m34,this.m35=255*n+255*o+255*l+0*_,n=this.m41,o=this.m42,l=this.m43,_=this.m44,this.m41=0*this.m41+0*this.m42+0*this.m43+this.m44*e,this.m42=0*n+0*this.m42+0*this.m43+this.m44*i,this.m43=0*n+0*o+0*this.m43+this.m44*s,this.m44=0*n+0*o+0*l+0*this.m44,this.m45=255*n+255*o+255*l+0*_,this},setAlpha:function(e){var i=this.m11,s=this.m12,n=this.m13,o=this.m14;return this.m11=this.m11+0*this.m12+0*this.m13+0*this.m14,this.m12=0*i+this.m12+0*this.m13+0*this.m14,this.m13=0*i+0*s+this.m13+0*this.m14,this.m14=0*i+0*s+0*n+this.m14*e,this.m15=0*i+0*s+0*n+0*o,i=this.m21,s=this.m22,n=this.m23,o=this.m24,this.m21=this.m21+0*this.m22+0*this.m23+0*this.m24,this.m22=0*i+this.m22+0*this.m23+0*this.m24,this.m23=0*i+0*s+this.m23+0*this.m24,this.m24=0*i+0*s+0*n+this.m24*e,this.m25=0*i+0*s+0*n+0*o,i=this.m31,s=this.m32,n=this.m33,o=this.m34,this.m31=this.m31+0*this.m32+0*this.m33+0*this.m34,this.m32=0*i+this.m32+0*this.m33+0*this.m34,this.m33=0*i+0*s+this.m33+0*this.m34,this.m34=0*i+0*s+0*n+this.m34*e,this.m35=0*i+0*s+0*n+0*o,i=this.m41,s=this.m42,n=this.m43,o=this.m44,this.m41=this.m41+0*this.m42+0*this.m43+0*this.m44,this.m42=0*i+this.m42+0*this.m43+0*this.m44,this.m43=0*i+0*s+this.m43+0*this.m44,this.m44=0*i+0*s+0*n+this.m44*e,this.m45=0*i+0*s+0*n+0*o,this},rotateRed:function(e){e*=.01745329251994278;var i=Math.cos(e);return e=Math.cos(e),this.m11=1,this.m21=this.m15=this.m14=this.m13=this.m12=0,this.m22=i,this.m23=-e,this.m31=this.m25=this.m24=0,this.m32=e,this.m33=i,this.m43=this.m42=this.m41=this.m35=this.m34=0,this.m44=1,this.m45=0,this},rotateGreen:function(e){e*=.01745329251994278;var i=Math.cos(e);return e=Math.cos(e),this.m11=i,this.m12=0,this.m13=e,this.m21=this.m15=this.m14=0,this.m22=1,this.m25=this.m24=this.m23=0,this.m31=-e,this.m32=0,this.m33=i,this.m43=this.m42=this.m41=this.m35=this.m34=0,this.m44=1,this.m45=0,this},rotateBlue:function(e){e*=.01745329251994278;var i=Math.cos(e);return e=Math.cos(e),this.m11=i,this.m12=-e,this.m15=this.m14=this.m13=0,this.m21=e,this.m22=i,this.m32=this.m31=this.m25=this.m24=this.m23=0,this.m33=1,this.m43=this.m42=this.m41=this.m35=this.m34=0,this.m44=1,this.m45=0,this},shearRed:function(e,i){return this.m11=1,this.m12=e,this.m13=i,this.m21=this.m15=this.m14=0,this.m22=1,this.m32=this.m31=this.m25=this.m24=this.m23=0,this.m33=1,this.m43=this.m42=this.m41=this.m35=this.m34=0,this.m44=1,this.m45=0,this},shearGreen:function(e,i){return this.m11=1,this.m15=this.m14=this.m13=this.m12=0,this.m21=e,this.m22=1,this.m23=i,this.m32=this.m31=this.m25=this.m24=0,this.m33=1,this.m43=this.m42=this.m41=this.m35=this.m34=0,this.m44=1,this.m45=0,this},shearBlue:function(e,i){return this.m11=1,this.m21=this.m15=this.m14=this.m13=this.m12=0,this.m22=1,this.m25=this.m24=this.m23=0,this.m31=e,this.m32=i,this.m33=1,this.m43=this.m42=this.m41=this.m35=this.m34=0,this.m44=1,this.m45=0,this},applyColorDeficiency:function(e){switch(e._hx_index){case 0:var i=this.m11,s=this.m12,n=this.m13,o=this.m14;this.m11=.567*this.m11+.558*this.m12+0*this.m13+0*this.m14,this.m12=.433*i+.442*this.m12+.242*this.m13+0*this.m14,this.m13=0*i+0*s+.758*this.m13+0*this.m14,this.m14=0*i+0*s+0*n+this.m14,this.m15=0*i+0*s+0*n+0*o;var l=this.m21,_=this.m22,h=this.m23,m=this.m24;this.m21=.567*this.m21+.558*this.m22+0*this.m23+0*this.m24,this.m22=.433*l+.442*this.m22+.242*this.m23+0*this.m24,this.m23=0*l+0*_+.758*this.m23+0*this.m24,this.m24=0*l+0*_+0*h+this.m24,this.m25=0*l+0*_+0*h+0*m;var f=this.m31,y=this.m32,g=this.m33,j=this.m34;this.m31=.567*this.m31+.558*this.m32+0*this.m33+0*this.m34,this.m32=.433*f+.442*this.m32+.242*this.m33+0*this.m34,this.m33=0*f+0*y+.758*this.m33+0*this.m34,this.m34=0*f+0*y+0*g+this.m34,this.m35=0*f+0*y+0*g+0*j;var $=this.m41,yt=this.m42,_t=this.m43,xt=this.m44;this.m41=.567*this.m41+.558*this.m42+0*this.m43+0*this.m44,this.m42=.433*$+.442*this.m42+.242*this.m43+0*this.m44,this.m43=0*$+0*yt+.758*this.m43+0*this.m44,this.m44=0*$+0*yt+0*_t+this.m44,this.m45=0*$+0*yt+0*_t+0*xt;break;case 1:var Tt=this.m11,St=this.m12,Mt=this.m13,Et=this.m14;this.m11=.817*this.m11+.333*this.m12+0*this.m13+0*this.m14,this.m12=.183*Tt+.667*this.m12+.125*this.m13+0*this.m14,this.m13=0*Tt+0*St+.875*this.m13+0*this.m14,this.m14=0*Tt+0*St+0*Mt+this.m14,this.m15=0*Tt+0*St+0*Mt+0*Et;var Ct=this.m21,Dt=this.m22,At=this.m23,Nt=this.m24;this.m21=.817*this.m21+.333*this.m22+0*this.m23+0*this.m24,this.m22=.183*Ct+.667*this.m22+.125*this.m23+0*this.m24,this.m23=0*Ct+0*Dt+.875*this.m23+0*this.m24,this.m24=0*Ct+0*Dt+0*At+this.m24,this.m25=0*Ct+0*Dt+0*At+0*Nt;var Ft=this.m31,Lt=this.m32,Ot=this.m33,Ht=this.m34;this.m31=.817*this.m31+.333*this.m32+0*this.m33+0*this.m34,this.m32=.183*Ft+.667*this.m32+.125*this.m33+0*this.m34,this.m33=0*Ft+0*Lt+.875*this.m33+0*this.m34,this.m34=0*Ft+0*Lt+0*Ot+this.m34,this.m35=0*Ft+0*Lt+0*Ot+0*Ht;var $t=this.m41,zt=this.m42,Jt=this.m43,Qt=this.m44;this.m41=.817*this.m41+.333*this.m42+0*this.m43+0*this.m44,this.m42=.183*$t+.667*this.m42+.125*this.m43+0*this.m44,this.m43=0*$t+0*zt+.875*this.m43+0*this.m44,this.m44=0*$t+0*zt+0*Jt+this.m44,this.m45=0*$t+0*zt+0*Jt+0*Qt;break;case 2:var Kt=this.m11,_o=this.m12,Bt=this.m13,Xr=this.m14;this.m11=.625*this.m11+.7*this.m12+0*this.m13+0*this.m14,this.m12=.375*Kt+.3*this.m12+.3*this.m13+0*this.m14,this.m13=0*Kt+0*_o+.7*this.m13+0*this.m14,this.m14=0*Kt+0*_o+0*Bt+this.m14,this.m15=0*Kt+0*_o+0*Bt+0*Xr;var _l=this.m21,_n=this.m22,_r=this.m23,_i=this.m24;this.m21=.625*this.m21+.7*this.m22+0*this.m23+0*this.m24,this.m22=.375*_l+.3*this.m22+.3*this.m23+0*this.m24,this.m23=0*_l+0*_n+.7*this.m23+0*this.m24,this.m24=0*_l+0*_n+0*_r+this.m24,this.m25=0*_l+0*_n+0*_r+0*_i;var _e=this.m31,Gt=this.m32,Vt=this.m33,n_=this.m34;this.m31=.625*this.m31+.7*this.m32+0*this.m33+0*this.m34,this.m32=.375*_e+.3*this.m32+.3*this.m33+0*this.m34,this.m33=0*_e+0*Gt+.7*this.m33+0*this.m34,this.m34=0*_e+0*Gt+0*Vt+this.m34,this.m35=0*_e+0*Gt+0*Vt+0*n_;var Xa=this.m41,Yr=this.m42,he=this.m43,Pt=this.m44;this.m41=.625*this.m41+.7*this.m42+0*this.m43+0*this.m44,this.m42=.375*Xa+.3*this.m42+.3*this.m43+0*this.m44,this.m43=0*Xa+0*Yr+.7*this.m43+0*this.m44,this.m44=0*Xa+0*Yr+0*he+this.m44,this.m45=0*Xa+0*Yr+0*he+0*Pt;break;case 3:var Yt=this.m11,It=this.m12,Rt=this.m13,Ut=this.m14;this.m11=.8*this.m11+.258*this.m12+0*this.m13+0*this.m14,this.m12=.2*Yt+.742*this.m12+.142*this.m13+0*this.m14,this.m13=0*Yt+0*It+.858*this.m13+0*this.m14,this.m14=0*Yt+0*It+0*Rt+this.m14,this.m15=0*Yt+0*It+0*Rt+0*Ut;var Wt=this.m21,Xt=this.m22,Zt=this.m23,_a=this.m24;this.m21=.8*this.m21+.258*this.m22+0*this.m23+0*this.m24,this.m22=.2*Wt+.742*this.m22+.142*this.m23+0*this.m24,this.m23=0*Wt+0*Xt+.858*this.m23+0*this.m24,this.m24=0*Wt+0*Xt+0*Zt+this.m24,this.m25=0*Wt+0*Xt+0*Zt+0*_a;var _s=this.m31,t_=this.m32,e_=this.m33,r_=this.m34;this.m31=.8*this.m31+.258*this.m32+0*this.m33+0*this.m34,this.m32=.2*_s+.742*this.m32+.142*this.m33+0*this.m34,this.m33=0*_s+0*t_+.858*this.m33+0*this.m34,this.m34=0*_s+0*t_+0*e_+this.m34,this.m35=0*_s+0*t_+0*e_+0*r_;var ga=this.m41,c_=this.m42,k_=this.m43,p_=this.m44;this.m41=.8*this.m41+.258*this.m42+0*this.m43+0*this.m44,this.m42=.2*ga+.742*this.m42+.142*this.m43+0*this.m44,this.m43=0*ga+0*c_+.858*this.m43+0*this.m44,this.m44=0*ga+0*c_+0*k_+this.m44,this.m45=0*ga+0*c_+0*k_+0*p_;break;case 4:var d_=this.m11,K_=this.m12,J_=this.m13,F_=this.m14;this.m11=.95*this.m11+0*this.m12+0*this.m13+0*this.m14,this.m12=.05*d_+.433*this.m12+.475*this.m13+0*this.m14,this.m13=0*d_+.567*K_+.525*this.m13+0*this.m14,this.m14=0*d_+0*K_+0*J_+this.m14,this.m15=0*d_+0*K_+0*J_+0*F_;var N_=this.m21,Q_=this.m22,g_=this.m23,I_=this.m24;this.m21=.95*this.m21+0*this.m22+0*this.m23+0*this.m24,this.m22=.05*N_+.433*this.m22+.475*this.m23+0*this.m24,this.m23=0*N_+.567*Q_+.525*this.m23+0*this.m24,this.m24=0*N_+0*Q_+0*g_+this.m24,this.m25=0*N_+0*Q_+0*g_+0*I_;var h_=this.m31,b_=this.m32,m_=this.m33,S_=this.m34;this.m31=.95*this.m31+0*this.m32+0*this.m33+0*this.m34,this.m32=.05*h_+.433*this.m32+.475*this.m33+0*this.m34,this.m33=0*h_+.567*b_+.525*this.m33+0*this.m34,this.m34=0*h_+0*b_+0*m_+this.m34,this.m35=0*h_+0*b_+0*m_+0*S_;var P_=this.m41,$_=this.m42,U_=this.m43,th=this.m44;this.m41=.95*this.m41+0*this.m42+0*this.m43+0*this.m44,this.m42=.05*P_+.433*this.m42+.475*this.m43+0*this.m44,this.m43=0*P_+.567*$_+.525*this.m43+0*this.m44,this.m44=0*P_+0*$_+0*U_+this.m44,this.m45=0*P_+0*$_+0*U_+0*th;break;case 5:var _h=this.m11,V_=this.m12,tu=this.m13,M_=this.m14;this.m11=.967*this.m11+0*this.m12+0*this.m13+0*this.m14,this.m12=.033*_h+.733*this.m12+.183*this.m13+0*this.m14,this.m13=0*_h+.267*V_+.817*this.m13+0*this.m14,this.m14=0*_h+0*V_+0*tu+this.m14,this.m15=0*_h+0*V_+0*tu+0*M_;var X_=this.m21,Z_=this.m22,q_=this.m23,G_=this.m24;this.m21=.967*this.m21+0*this.m22+0*this.m23+0*this.m24,this.m22=.033*X_+.733*this.m22+.183*this.m23+0*this.m24,this.m23=0*X_+.267*Z_+.817*this.m23+0*this.m24,this.m24=0*X_+0*Z_+0*q_+this.m24,this.m25=0*X_+0*Z_+0*q_+0*G_;var D_=this.m31,W_=this.m32,H_=this.m33,eu=this.m34;this.m31=.967*this.m31+0*this.m32+0*this.m33+0*this.m34,this.m32=.033*D_+.733*this.m32+.183*this.m33+0*this.m34,this.m33=0*D_+.267*W_+.817*this.m33+0*this.m34,this.m34=0*D_+0*W_+0*H_+this.m34,this.m35=0*D_+0*W_+0*H_+0*eu;var L_=this.m41,C_=this.m42,y_=this.m43,R_=this.m44;this.m41=.967*this.m41+0*this.m42+0*this.m43+0*this.m44,this.m42=.033*L_+.733*this.m42+.183*this.m43+0*this.m44,this.m43=0*L_+.267*C_+.817*this.m43+0*this.m44,this.m44=0*L_+0*C_+0*y_+this.m44,this.m45=0*L_+0*C_+0*y_+0*R_;break;case 6:var u_=this.m11,x_=this.m12,v_=this.m13,E_=this.m14;this.m11=.299*this.m11+.299*this.m12+.299*this.m13+0*this.m14,this.m12=.587*u_+.587*this.m12+.587*this.m13+0*this.m14,this.m13=.114*u_+.114*x_+.114*this.m13+0*this.m14,this.m14=0*u_+0*x_+0*v_+this.m14,this.m15=0*u_+0*x_+0*v_+0*E_;var A_=this.m21,s_=this.m22,o_=this.m23,l_=this.m24;this.m21=.299*this.m21+.299*this.m22+.299*this.m23+0*this.m24,this.m22=.587*A_+.587*this.m22+.587*this.m23+0*this.m24,this.m23=.114*A_+.114*s_+.114*this.m23+0*this.m24,this.m24=0*A_+0*s_+0*o_+this.m24,this.m25=0*A_+0*s_+0*o_+0*l_;var a_=this.m31,__=this.m32,w_=this.m33,Y_=this.m34;this.m31=.299*this.m31+.299*this.m32+.299*this.m33+0*this.m34,this.m32=.587*a_+.587*this.m32+.587*this.m33+0*this.m34,this.m33=.114*a_+.114*__+.114*this.m33+0*this.m34,this.m34=0*a_+0*__+0*w_+this.m34,this.m35=0*a_+0*__+0*w_+0*Y_;var B_=this.m41,O_=this.m42,ru=this.m43,au=this.m44;this.m41=.299*this.m41+.299*this.m42+.299*this.m43+0*this.m44,this.m42=.587*B_+.587*this.m42+.587*this.m43+0*this.m44,this.m43=.114*B_+.114*O_+.114*this.m43+0*this.m44,this.m44=0*B_+0*O_+0*ru+this.m44,this.m45=0*B_+0*O_+0*ru+0*au;break;case 7:var iu=this.m11,j_=this.m12,f_=this.m13,i_=this.m14;this.m11=.618*this.m11+.163*this.m12+.163*this.m13+0*this.m14,this.m12=.32*iu+.775*this.m12+.32*this.m13+0*this.m14,this.m13=.062*iu+.062*j_+.516*this.m13+0*this.m14,this.m14=0*iu+0*j_+0*f_+this.m14,this.m15=0*iu+0*j_+0*f_+0*i_;var su=this.m21,ou=this.m22,nu=this.m23,z_=this.m24;this.m21=.618*this.m21+.163*this.m22+.163*this.m23+0*this.m24,this.m22=.32*su+.775*this.m22+.32*this.m23+0*this.m24,this.m23=.062*su+.062*ou+.516*this.m23+0*this.m24,this.m24=0*su+0*ou+0*nu+this.m24,this.m25=0*su+0*ou+0*nu+0*z_;var T_=this.m31,_u=this.m32,cu=this.m33,hu=this.m34;this.m31=.618*this.m31+.163*this.m32+.163*this.m33+0*this.m34,this.m32=.32*T_+.775*this.m32+.32*this.m33+0*this.m34,this.m33=.062*T_+.062*_u+.516*this.m33+0*this.m34,this.m34=0*T_+0*_u+0*cu+this.m34,this.m35=0*T_+0*_u+0*cu+0*hu;var lu=this.m41,uu=this.m42,du=this.m43,fu=this.m44;this.m41=.618*this.m41+.163*this.m42+.163*this.m43+0*this.m44,this.m42=.32*lu+.775*this.m42+.32*this.m43+0*this.m44,this.m43=.062*lu+.062*uu+.516*this.m43+0*this.m44,this.m44=0*lu+0*uu+0*du+this.m44,this.m45=0*lu+0*uu+0*du+0*fu}return this},applyMatrix:function(e,i){var s=e.a,n=e.r,o=e.g,l=e.b;e=N.clamp(.5+n*this.m41+o*this.m42+l*this.m43+s*this.m44+this.m45|0,0,255);var _=N.clamp(.5+n*this.m11+o*this.m12+l*this.m13+s*this.m14+this.m15|0,0,255),h=N.clamp(.5+n*this.m21+o*this.m22+l*this.m23+s*this.m24+this.m25|0,0,255);return s=N.clamp(.5+n*this.m31+o*this.m32+l*this.m33+s*this.m34+this.m35|0,0,255),i.a=e,i.r=_,i.g=h,i.b=s,i},transformVector:function(e){var i=e[0],s=e[1],n=e[2],o=e[3],l=i*this.m21+s*this.m22+n*this.m23+o*this.m24+this.m25,_=i*this.m31+s*this.m32+n*this.m33+o*this.m34+this.m35,h=i*this.m41+s*this.m42+n*this.m43+o*this.m44+this.m45;return e[0]=i*this.m11+s*this.m12+n*this.m13+o*this.m14+this.m15,e[1]=l,e[2]=_,e[3]=h,e},initHue:function(){if(!this.hueInitialized){this.hueInitialized=!0,this.preHue=new Wa,this.preHue.rotateRed(45),this.preHue.rotateGreen(-39.182655);var e=[];e[0]=Wa.LUMA_R2,e[1]=Wa.LUMA_G2,e[2]=Wa.LUMA_B2,e[3]=1,this.preHue.transformVector(e);var i=e[0]/e[2];this.preHue.shearBlue(i,e=e[1]/e[2]),this.postHue=new Wa,this.postHue.shearBlue(-i,-e),this.postHue.rotateGreen(39.182655),this.postHue.rotateRed(-45)}},toArray:function(e){return e[0]=this.m11,e[1]=this.m12,e[2]=this.m13,e[3]=this.m14,e[4]=this.m15,e[5]=this.m21,e[6]=this.m22,e[7]=this.m23,e[8]=this.m24,e[9]=this.m25,e[10]=this.m31,e[11]=this.m32,e[12]=this.m33,e[13]=this.m34,e[14]=this.m35,e[15]=this.m41,e[16]=this.m42,e[17]=this.m43,e[18]=this.m44,e[19]=this.m45,e},set:function(e,i,s,n,o,l,_,h,m,f,y,g,j,$,yt,_t,xt,Tt,St,Mt){this.m11=e,this.m12=i,this.m13=s,this.m14=n,this.m15=o,this.m21=l,this.m22=_,this.m23=h,this.m24=m,this.m25=f,this.m31=y,this.m32=g,this.m33=j,this.m34=$,this.m35=yt,this.m41=_t,this.m42=xt,this.m43=Tt,this.m44=St,this.m45=Mt},mul:function(e,i,s,n,o,l,_,h,m,f,y,g,j,$,yt,_t,xt,Tt,St,Mt){var Et=this.m11,Ct=this.m12,Dt=this.m13,At=this.m14;this.m11=this.m11*e+this.m12*l+this.m13*y+this.m14*_t,this.m12=Et*i+this.m12*_+this.m13*g+this.m14*xt,this.m13=Et*s+Ct*h+this.m13*j+this.m14*Tt,this.m14=Et*n+Ct*m+Dt*$+this.m14*St,this.m15=Et*o+Ct*f+Dt*yt+At*Mt,Et=this.m21,Ct=this.m22,Dt=this.m23,At=this.m24,this.m21=this.m21*e+this.m22*l+this.m23*y+this.m24*_t,this.m22=Et*i+this.m22*_+this.m23*g+this.m24*xt,this.m23=Et*s+Ct*h+this.m23*j+this.m24*Tt,this.m24=Et*n+Ct*m+Dt*$+this.m24*St,this.m25=Et*o+Ct*f+Dt*yt+At*Mt,Et=this.m31,Ct=this.m32,Dt=this.m33,At=this.m34,this.m31=this.m31*e+this.m32*l+this.m33*y+this.m34*_t,this.m32=Et*i+this.m32*_+this.m33*g+this.m34*xt,this.m33=Et*s+Ct*h+this.m33*j+this.m34*Tt,this.m34=Et*n+Ct*m+Dt*$+this.m34*St,this.m35=Et*o+Ct*f+Dt*yt+At*Mt,Et=this.m41,Ct=this.m42,Dt=this.m43,At=this.m44,this.m41=this.m41*e+this.m42*l+this.m43*y+this.m44*_t,this.m42=Et*i+this.m42*_+this.m43*g+this.m44*xt,this.m43=Et*s+Ct*h+this.m43*j+this.m44*Tt,this.m44=Et*n+Ct*m+Dt*$+this.m44*St,this.m45=Et*o+Ct*f+Dt*yt+At*Mt},__class__:Wa};var ft=function(){};k["com.stencyl.utils.HaxeDefines"]=ft,ft.__name__="com.stencyl.utils.HaxeDefines";var Fm=function(e,i){this.map=e,this.initializer=i};k["com.stencyl.utils.LazyIntMap"]=Fm,Fm.__name__="com.stencyl.utils.LazyIntMap",Fm.prototype={map:null,initializer:null,get:function(e){var i=this.map.h[e];return null==i&&(i=this.initializer(e),this.map.h[e]=i),i},set:function(e,i){this.map.h[e]=i},exists:function(e){return this.map.h.hasOwnProperty(e)},remove:function(e){return this.map.remove(e)},keys:function(){return this.map.keys()},iterator:function(){return this.map.iterator()},__class__:Fm};var Vp=function(e,i){this.map=e,this.initializer=i};k["com.stencyl.utils.LazyStringMap"]=Vp,Vp.__name__="com.stencyl.utils.LazyStringMap",Vp.prototype={map:null,initializer:null,get:function(e){var i=this.map;if(null==(i=null!=t[e]?i.getReserved(e):i.h[e])){i=this.initializer(e);var s=this.map;null!=t[e]?s.setReserved(e,i):s.h[e]=i}return i},set:function(e,i){var s=this.map;null!=t[e]?s.setReserved(e,i):s.h[e]=i},exists:function(e){var i=this.map;return null!=t[e]?i.existsReserved(e):i.h.hasOwnProperty(e)},remove:function(e){return this.map.remove(e)},keys:function(){return this.map.keys()},iterator:function(){var e=this.map;return new bf(e,e.arrayKeys())},__class__:Vp};var sq=function(){};k["com.stencyl.utils.Mathematics"]=sq,sq.__name__="com.stencyl.utils.Mathematics",sq.round=function(e){return 0|(0<e?e+.5:0>e?e-.5:0)},sq.clamp=function(e,i,s){return e<i?i:e>s?s:e},sq.fclamp=function(e,i,s){return e<i?i:e>s?s:e};var Ic=function(e){this.points=e,this.combineClosePoints(),this.combineColinearPoints(),this.makeCCW()};k["com.stencyl.utils.PolyDecompBayazit"]=Ic,Ic.__name__="com.stencyl.utils.PolyDecompBayazit",Ic.area=function(e,i,s){return(i.x-e.x)*(s.y-e.y)-(s.x-e.x)*(i.y-e.y)},Ic.right=function(e,i,s){return 0>Ic.area(e,i,s)},Ic.rightOn=function(e,i,s){return 0>=Ic.area(e,i,s)},Ic.left=function(e,i,s){return 0<Ic.area(e,i,s)},Ic.leftOn=function(e,i,s){return 0<=Ic.area(e,i,s)},Ic.sqdist=function(e,i){var s=i.x-e.x;return s*s+(e=i.y-e.y)*e},Ic.getIntersection=function(e,i,s,n){var o=i.y-e.y;e=o*e.x+(i=e.x-i.x)*e.y;var l=n.y-s.y;s=l*s.x+(n=s.x-n.x)*s.y;var _=o*n-l*i;return Math.abs(_)>Number.MIN_VALUE?new ra((n*e-i*s)/_,(o*s-l*e)/_):null},Ic.prototype={combineColinearPoints:function(){for(var e=[],i=0,s=this.points.length;i<s;){var n=i++,o=this.at(n-1),l=this.at(n);n=this.at(n+1),null!=Ic.getIntersection(o,l,l,n)&&e.push(l)}this.points=e},points:null,combineClosePoints:function(){for(var e=[],i=0,s=this.points.length;i<s;){var n=i++,o=this.at(n);n=this.at(n+1),Ic.sqdist(o,n)>Number.MIN_VALUE&&e.push(o)}this.points=e},at:function(e){var i=this.points.length;return this.points[(e+i)%i]},isReflex:function(e){return Ic.right(this.at(e-1),this.at(e),this.at(e+1))},polyFromRange:function(e,i){return new Ic(e<i?this.points.slice(e,i+1):this.points.slice(e).concat(this.points.slice(0,i+1)))},decompose:function(e){if(!(3>this.points.length)){for(var i=0,s=this.points.length;i<s;){var n=i++;if(this.isReflex(n)){var o=Number.MAX_VALUE,l=null;i=0;for(var _=Number.MAX_VALUE,h=null,m=s=0,f=this.points.length;m<f;){var y=m++;if(Ic.left(this.at(n-1),this.at(n),this.at(y))&&Ic.rightOn(this.at(n-1),this.at(n),this.at(y-1))){var g=Ic.getIntersection(this.at(n-1),this.at(n),this.at(y),this.at(y-1));if(Ic.right(this.at(n+1),this.at(n),g)){var j=Ic.sqdist(this.at(n),g);j<_&&(_=j,h=g,s=y)}}Ic.left(this.at(n+1),this.at(n),this.at(y+1))&&Ic.rightOn(this.at(n+1),this.at(n),this.at(y))&&(g=Ic.getIntersection(this.at(n+1),this.at(n),this.at(y),this.at(y+1)),Ic.left(this.at(n-1),this.at(n),g)&&(j=Ic.sqdist(this.at(n),g))<o&&(o=j,l=g,i=y))}if(s==(i+1)%this.points.length)o=new ra(.5*(h.x+l.x),.5*(h.y+l.y)),(l=this.polyFromRange(n,i)).points.push(o),(n=this.polyFromRange(n<i?s:0,n)).points.push(o);else{for(s>i&&(i+=this.points.length),o=0,l=Number.MAX_VALUE;s<=i;)Ic.leftOn(this.at(n-1),this.at(n),this.at(s))&&Ic.rightOn(this.at(n+1),this.at(n),this.at(s))&&(_=Ic.sqdist(this.at(n),this.at(s)))<l&&(l=_,this.at(s),o=s%this.points.length),++s;l=this.polyFromRange(n,o),n=this.polyFromRange(o,n)}return void(l.points.length<n.points.length?(l.decompose(e),n.decompose(e)):(n.decompose(e),l.decompose(e)))}}3<=this.points.length&&e(this)}},makeCCW:function(){for(var e=0,i=1,s=this.points.length;i<s;){var n=i++;(this.at(n).y<this.at(e).y||this.at(n).y==this.at(e).y&&this.at(n).x>this.at(e).x)&&(e=n)}Ic.left(this.at(e-1),this.at(e),this.at(e+1))||this.points.reverse()},__class__:Ic};var $d=function(e,i,s){null==s&&(s=0),null==i&&(i=0),null==e&&(e=0),this.r=e,this.g=i,this.b=s};k["com.stencyl.utils.RGB"]=$d,$d.__name__="com.stencyl.utils.RGB",$d.setRGBi=function(e,i,s){return(255&e)<<16|(255&i)<<8|255&s},$d.setRGBf=function(e,i,s){return(255&(0|(0<(e=255*(0>e?0:1<e?1:e))?e+.5:0>e?e-.5:0)))<<16|(255&(0|(0<(i=255*(0>i?0:1<i?1:i))?i+.5:0>i?i-.5:0)))<<8|255&(0|(0<(s=255*(0>s?0:1<s?1:s))?s+.5:0>s?s-.5:0))},$d.getR=function(e){return e>>>16&255},$d.getRf=function(e){return.00392156862745098*(e>>>16&255)},$d.getG=function(e){return e>>>8&255},$d.getGf=function(e){return.00392156862745098*(e>>>8&255)},$d.getB=function(e){return 255&e},$d.getBf=function(e){return.00392156862745098*(255&e)},$d.setR=function(e,i){return(255&i)<<16|-16711681&e},$d.setRf=function(e,i){return(255&(0|(0<(i=255*(0>i?0:1<i?1:i))?i+.5:0>i?i-.5:0)))<<16|-16711681&e},$d.setG=function(e,i){return(255&i)<<8|-65281&e},$d.setGf=function(e,i){return(255&(0|(0<(i=255*(0>i?0:1<i?1:i))?i+.5:0>i?i-.5:0)))<<8|-65281&e},$d.setB=function(e,i){return 255&i|-256&e},$d.setBf=function(e,i){return 255&(0|(0<(i=255*(0>i?0:1<i?1:i))?i+.5:0>i?i-.5:0))|-256&e},$d.prototype={r:null,g:null,b:null,set:function(e,i,s){this.r=e,this.g=i,this.b=s},lerp:function(e,i,s){i.r=this.r+(e.r-this.r)*s,i.g=this.g+(e.g-this.g)*s,i.b=this.b+(e.b-this.b)*s},getR8:function(){var e=255*this.r;return 0|(0<e?e+.5:0>e?e-.5:0)},getG8:function(){var e=255*this.g;return 0|(0<e?e+.5:0>e?e-.5:0)},getB8:function(){var e=255*this.b;return 0|(0<e?e+.5:0>e?e-.5:0)},get24:function(){var e=255*this.r,i=255*this.g,s=255*this.b;return(0|(0<e?e+.5:0>e?e-.5:0))<<16|(0|(0<i?i+.5:0>i?i-.5:0))<<8|(0<s?s+.5:0>s?s-.5:0)|0},set24:function(e,i,s){this.r=.00392156862745098*(255&e),this.g=.00392156862745098*(255&i),this.b=.00392156862745098*(255&s)},copy:function(e){return e.r=this.r,e.g=this.g,e.b=this.b,e},__class__:$d};var Tf=function(e,i){null==i&&(i=0),null==e&&(e=1),this.volume=e,this.pan=i,this.rightToRight=this.rightToLeft=this.leftToRight=this.leftToLeft=0};k["openfl.media.SoundTransform"]=Tf,Tf.__name__="openfl.media.SoundTransform",Tf.prototype={leftToLeft:null,leftToRight:null,pan:null,rightToLeft:null,rightToRight:null,volume:null,clone:function(){return new Tf(this.volume,this.pan)},__class__:Tf};var va=function(){this.h={}};k["haxe.ds.StringMap"]=va,va.__name__="haxe.ds.StringMap",va.__interfaces__=[Gb],va.prototype={h:null,rh:null,set:function(e,i){null!=t[e]?this.setReserved(e,i):this.h[e]=i},get:function(e){return null!=t[e]?this.getReserved(e):this.h[e]},exists:function(e){return null!=t[e]?this.existsReserved(e):this.h.hasOwnProperty(e)},setReserved:function(e,i){null==this.rh&&(this.rh={}),this.rh["$"+e]=i},getReserved:function(e){return null==this.rh?null:this.rh["$"+e]},existsReserved:function(e){return null!=this.rh&&this.rh.hasOwnProperty("$"+e)},remove:function(e){if(null!=t[e]){if(e="$"+e,null==this.rh||!this.rh.hasOwnProperty(e))return!1;delete this.rh[e]}else{if(!this.h.hasOwnProperty(e))return!1;delete this.h[e]}return!0},keys:function(){return B.iter(this.arrayKeys())},arrayKeys:function(){var i,e=[];for(i in this.h)this.h.hasOwnProperty(i)&&e.push(i);if(null!=this.rh)for(i in this.rh)36==i.charCodeAt(0)&&e.push(i.substr(1));return e},iterator:function(){return new bf(this,this.arrayKeys())},keyValueIterator:function(){return new rh(this)},toString:function(){for(var e="{",i=this.arrayKeys(),s=0,n=i.length;s<n;){var o=s++,l=i[o];e+=null==l?"null":""+l,e+=" => ",e+=O.string(O.string(null!=t[l]?this.getReserved(l):this.h[l])),o<i.length-1&&(e+=", ")}return e+"}"},__class__:va};var Va=function(){this.h={}};k["haxe.ds.IntMap"]=Va,Va.__name__="haxe.ds.IntMap",Va.__interfaces__=[Gb],Va.prototype={h:null,set:function(e,i){this.h[e]=i},get:function(e){return this.h[e]},exists:function(e){return this.h.hasOwnProperty(e)},remove:function(e){return!!this.h.hasOwnProperty(e)&&(delete this.h[e],!0)},keys:function(){var i,e=[];for(i in this.h)this.h.hasOwnProperty(i)&&e.push(0|i);return B.iter(e)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var e=this.it.next();return this.ref[e]}}},keyValueIterator:function(){return new rh(this)},__class__:Va};var di=function(e,i,s,n,o,l){null==l&&(l=0),null==o&&(o=0),null==n&&(n=1),null==s&&(s=0),null==i&&(i=0),null==e&&(e=1),this.a=e,this.b=i,this.c=s,this.d=n,this.tx=o,this.ty=l};k["lime.math.Matrix3"]=di,di.__name__="lime.math.Matrix3",di.prototype={a:null,b:null,c:null,d:null,tx:null,ty:null,clone:function(){return new di(this.a,this.b,this.c,this.d,this.tx,this.ty)},concat:function(e){var i=this.a*e.a+this.b*e.c;this.b=this.a*e.b+this.b*e.d,this.a=i,i=this.c*e.a+this.d*e.c,this.d=this.c*e.b+this.d*e.d,this.c=i,i=this.tx*e.a+this.ty*e.c+e.tx,this.ty=this.tx*e.b+this.ty*e.d+e.ty,this.tx=i},copyColumnFrom:function(e,i){if(2<e)throw new E("Column "+e+" out of bounds (2)");0==e?(this.a=i.x,this.b=i.y):1==e?(this.c=i.x,this.d=i.y):(this.tx=i.x,this.ty=i.y)},copyColumnTo:function(e,i){if(2<e)throw new E("Column "+e+" out of bounds (2)");0==e?(i.x=this.a,i.y=this.b,i.z=0):1==e?(i.x=this.c,i.y=this.d,i.z=0):(i.x=this.tx,i.y=this.ty,i.z=1)},copyFrom:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty},copyRowFrom:function(e,i){if(2<e)throw new E("Row "+e+" out of bounds (2)");0==e?(this.a=i.x,this.c=i.y,this.tx=i.z):1==e&&(this.b=i.x,this.d=i.y,this.ty=i.z)},copyRowTo:function(e,i){if(2<e)throw new E("Row "+e+" out of bounds (2)");0==e?(i.x=this.a,i.y=this.c,i.z=this.tx):1==e?(i.x=this.b,i.y=this.d,i.z=this.ty):(i.x=0,i.y=0,i.z=1)},createBox:function(e,i,s,n,o){if(null==o&&(o=0),null==n&&(n=0),null==s&&(s=0),0!=s){var l=Math.cos(s);s=Math.sin(s),this.a=l*e,this.b=s*i,this.c=-s*e,this.d=l*i}else this.a=e,this.c=this.b=0,this.d=i;this.tx=n,this.ty=o},createGradientBox:function(e,i,s,n,o){if(null==o&&(o=0),null==n&&(n=0),null==s&&(s=0),this.a=e/1638.4,this.d=i/1638.4,0!=s){var l=Math.cos(s);s=Math.sin(s),this.b=s*this.d,this.c=-s*this.a,this.a*=l,this.d*=l}else this.c=this.b=0;this.tx=n+e/2,this.ty=o+i/2},equals:function(e){return null!=e&&this.tx==e.tx&&this.ty==e.ty&&this.a==e.a&&this.b==e.b&&this.c==e.c&&this.d==e.d},deltaTransformVector:function(e,i){return null==i&&(i=new Fd),i.x=e.x*this.a+e.y*this.c,i.y=e.x*this.b+e.y*this.d,i},identity:function(){this.a=1,this.c=this.b=0,this.d=1,this.ty=this.tx=0},invert:function(){var e=this.a*this.d-this.b*this.c;if(0==e)this.a=this.b=this.c=this.d=0,this.tx=-this.tx,this.ty=-this.ty;else{var i=this.d*(e=1/e);this.d=this.a*e,this.a=i,this.b*=-e,this.c*=-e,e=-this.a*this.tx-this.c*this.ty,this.ty=-this.b*this.tx-this.d*this.ty,this.tx=e}return this},rotate:function(e){var i=Math.cos(e);e=Math.sin(e);var s=this.a*i-this.b*e;this.b=this.a*e+this.b*i,this.a=s,s=this.c*i-this.d*e,this.d=this.c*e+this.d*i,this.c=s,s=this.tx*i-this.ty*e,this.ty=this.tx*e+this.ty*i,this.tx=s},scale:function(e,i){this.a*=e,this.b*=i,this.c*=e,this.d*=i,this.tx*=e,this.ty*=i},setRotation:function(e,i){null==i&&(i=1),this.a=Math.cos(e)*i,this.c=Math.sin(e)*i,this.b=-this.c,this.d=this.a},setTo:function(e,i,s,n,o,l){this.a=e,this.b=i,this.c=s,this.d=n,this.tx=o,this.ty=l},to3DString:function(e){return null==e&&(e=!1),e?"matrix3d("+this.a+", "+this.b+", 0, 0, "+this.c+", "+this.d+", 0, 0, 0, 0, 1, 0, "+(0|this.tx)+", "+(0|this.ty)+", 0, 1)":"matrix3d("+this.a+", "+this.b+", 0, 0, "+this.c+", "+this.d+", 0, 0, 0, 0, 1, 0, "+this.tx+", "+this.ty+", 0, 1)"},toString:function(){return"matrix("+this.a+", "+this.b+", "+this.c+", "+this.d+", "+this.tx+", "+this.ty+")"},transformRect:function(e,i){null==i&&(i=new je);var s=this.a*e.x+this.c*e.y,n=s,o=this.b*e.x+this.d*e.y,l=o,_=this.a*(e.x+e.width)+this.c*e.y,h=this.b*(e.x+e.width)+this.d*e.y;return _<s&&(s=_),h<o&&(o=h),_>n&&(n=_),h>l&&(l=h),(_=this.a*(e.x+e.width)+this.c*(e.y+e.height))<s&&(s=_),(h=this.b*(e.x+e.width)+this.d*(e.y+e.height))<o&&(o=h),_>n&&(n=_),h>l&&(l=h),(_=this.a*e.x+this.c*(e.y+e.height))<s&&(s=_),(h=this.b*e.x+this.d*(e.y+e.height))<o&&(o=h),_>n&&(n=_),h>l&&(l=h),i.setTo(s+_,o+h,n-s,l-o),i},transformVector:function(e,i){return null==i&&(i=new Fd),i.x=e.x*this.a+e.y*this.c+this.tx,i.y=e.x*this.b+e.y*this.d+this.ty,i},translate:function(e,i){this.tx+=e,this.ty+=i},__class__:di};var Fa=function(e,i,s,n,o,l){null==l&&(l=0),null==o&&(o=0),null==n&&(n=1),null==s&&(s=0),null==i&&(i=0),null==e&&(e=1),this.a=e,this.b=i,this.c=s,this.d=n,this.tx=o,this.ty=l};k["openfl.geom.Matrix"]=Fa,Fa.__name__="openfl.geom.Matrix",Fa.prototype={a:null,b:null,c:null,d:null,tx:null,ty:null,__array:null,clone:function(){return new Fa(this.a,this.b,this.c,this.d,this.tx,this.ty)},concat:function(e){var i=this.a*e.a+this.b*e.c;this.b=this.a*e.b+this.b*e.d,this.a=i,i=this.c*e.a+this.d*e.c,this.d=this.c*e.b+this.d*e.d,this.c=i,i=this.tx*e.a+this.ty*e.c+e.tx,this.ty=this.tx*e.b+this.ty*e.d+e.ty,this.tx=i},copyColumnFrom:function(e,i){if(2<e)throw new E("Column "+e+" out of bounds (2)");0==e?(this.a=i.x,this.b=i.y):1==e?(this.c=i.x,this.d=i.y):(this.tx=i.x,this.ty=i.y)},copyColumnTo:function(e,i){if(2<e)throw new E("Column "+e+" out of bounds (2)");0==e?(i.x=this.a,i.y=this.b,i.z=0):1==e?(i.x=this.c,i.y=this.d,i.z=0):(i.x=this.tx,i.y=this.ty,i.z=1)},copyFrom:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty},copyRowFrom:function(e,i){if(2<e)throw new E("Row "+e+" out of bounds (2)");0==e?(this.a=i.x,this.c=i.y,this.tx=i.z):1==e&&(this.b=i.x,this.d=i.y,this.ty=i.z)},copyRowTo:function(e,i){if(2<e)throw new E("Row "+e+" out of bounds (2)");0==e?(i.x=this.a,i.y=this.c,i.z=this.tx):1==e?(i.x=this.b,i.y=this.d,i.z=this.ty):i.setTo(0,0,1)},createBox:function(e,i,s,n,o){if(null==o&&(o=0),null==n&&(n=0),null==s&&(s=0),0!=s){var l=Math.cos(s);s=Math.sin(s),this.a=l*e,this.b=s*i,this.c=-s*e,this.d=l*i}else this.a=e,this.c=this.b=0,this.d=i;this.tx=n,this.ty=o},createGradientBox:function(e,i,s,n,o){if(null==o&&(o=0),null==n&&(n=0),null==s&&(s=0),this.a=e/1638.4,this.d=i/1638.4,0!=s){var l=Math.cos(s);s=Math.sin(s),this.b=s*this.d,this.c=-s*this.a,this.a*=l,this.d*=l}else this.c=this.b=0;this.tx=n+e/2,this.ty=o+i/2},deltaTransformPoint:function(e){return new ra(e.x*this.a+e.y*this.c,e.x*this.b+e.y*this.d)},equals:function(e){return null!=e&&this.tx==e.tx&&this.ty==e.ty&&this.a==e.a&&this.b==e.b&&this.c==e.c&&this.d==e.d},identity:function(){this.a=1,this.c=this.b=0,this.d=1,this.ty=this.tx=0},invert:function(){var e=this.a*this.d-this.b*this.c;if(0==e)this.a=this.b=this.c=this.d=0,this.tx=-this.tx,this.ty=-this.ty;else{var i=this.d*(e=1/e);this.d=this.a*e,this.a=i,this.b*=-e,this.c*=-e,e=-this.a*this.tx-this.c*this.ty,this.ty=-this.b*this.tx-this.d*this.ty,this.tx=e}return this},rotate:function(e){var i=Math.cos(e);e=Math.sin(e);var s=this.a*i-this.b*e;this.b=this.a*e+this.b*i,this.a=s,s=this.c*i-this.d*e,this.d=this.c*e+this.d*i,this.c=s,s=this.tx*i-this.ty*e,this.ty=this.tx*e+this.ty*i,this.tx=s},scale:function(e,i){this.a*=e,this.b*=i,this.c*=e,this.d*=i,this.tx*=e,this.ty*=i},setRotation:function(e,i){null==i&&(i=1),this.a=Math.cos(e)*i,this.c=Math.sin(e)*i,this.b=-this.c,this.d=this.a},setTo:function(e,i,s,n,o,l){this.a=e,this.b=i,this.c=s,this.d=n,this.tx=o,this.ty=l},to3DString:function(e){return null==e&&(e=!1),e?"matrix3d("+this.a+", "+this.b+", 0, 0, "+this.c+", "+this.d+", 0, 0, 0, 0, 1, 0, "+(0|this.tx)+", "+(0|this.ty)+", 0, 1)":"matrix3d("+this.a+", "+this.b+", 0, 0, "+this.c+", "+this.d+", 0, 0, 0, 0, 1, 0, "+this.tx+", "+this.ty+", 0, 1)"},toMozString:function(){return"matrix("+this.a+", "+this.b+", "+this.c+", "+this.d+", "+this.tx+"px, "+this.ty+"px)"},toString:function(){return"matrix("+this.a+", "+this.b+", "+this.c+", "+this.d+", "+this.tx+", "+this.ty+")"},transformPoint:function(e){return new ra(e.x*this.a+e.y*this.c+this.tx,e.x*this.b+e.y*this.d+this.ty)},translate:function(e,i){this.tx+=e,this.ty+=i},toArray:function(e){return null==e&&(e=!1),null==this.__array&&(this.__array=new Float32Array(9)),e?(this.__array[0]=this.a,this.__array[1]=this.b,this.__array[2]=0,this.__array[3]=this.c,this.__array[4]=this.d,this.__array[5]=0,this.__array[6]=this.tx,this.__array[7]=this.ty):(this.__array[0]=this.a,this.__array[1]=this.c,this.__array[2]=this.tx,this.__array[3]=this.b,this.__array[4]=this.d,this.__array[5]=this.ty,this.__array[6]=0,this.__array[7]=0),this.__array[8]=1,this.__array},__cleanValues:function(){this.a=Math.round(1e3*this.a)/1e3,this.b=Math.round(1e3*this.b)/1e3,this.c=Math.round(1e3*this.c)/1e3,this.d=Math.round(1e3*this.d)/1e3,this.tx=Math.round(10*this.tx)/10,this.ty=Math.round(10*this.ty)/10},__toMatrix3:function(){return Fa.__matrix3.setTo(this.a,this.b,this.c,this.d,this.tx,this.ty),Fa.__matrix3},__transformInversePoint:function(e){var i=this.a*this.d-this.b*this.c;if(0==i)e.x=-this.tx,e.y=-this.ty;else{var s=1/i*(this.c*(this.ty-e.y)+this.d*(e.x-this.tx));e.y=1/i*(this.a*(e.y-this.ty)+this.b*(this.tx-e.x)),e.x=s}},__transformInverseX:function(e,i){var s=this.a*this.d-this.b*this.c;return 0==s?-this.tx:1/s*(this.c*(this.ty-i)+this.d*(e-this.tx))},__transformInverseY:function(e,i){var s=this.a*this.d-this.b*this.c;return 0==s?-this.ty:1/s*(this.a*(i-this.ty)+this.b*(this.tx-e))},__transformPoint:function(e){var i=e.x,s=e.y;e.x=i*this.a+s*this.c+this.tx,e.y=i*this.b+s*this.d+this.ty},__transformX:function(e,i){return e*this.a+i*this.c+this.tx},__transformY:function(e,i){return e*this.b+i*this.d+this.ty},__translateTransformed:function(e,i){this.tx=e*this.a+i*this.c+this.tx,this.ty=e*this.b+i*this.d+this.ty},__class__:Fa};var Oh=C["openfl._internal.renderer.DisplayObjectType"]={__ename__:"openfl._internal.renderer.DisplayObjectType",__constructs__:"BITMAP DISPLAY_OBJECT DISPLAY_OBJECT_CONTAINER DOM_ELEMENT SHAPE SIMPLE_BUTTON TEXTFIELD TILEMAP VIDEO".split(" "),BITMAP:{_hx_index:0,__enum__:"openfl._internal.renderer.DisplayObjectType",toString:v},DISPLAY_OBJECT:{_hx_index:1,__enum__:"openfl._internal.renderer.DisplayObjectType",toString:v},DISPLAY_OBJECT_CONTAINER:{_hx_index:2,__enum__:"openfl._internal.renderer.DisplayObjectType",toString:v},DOM_ELEMENT:{_hx_index:3,__enum__:"openfl._internal.renderer.DisplayObjectType",toString:v},SHAPE:{_hx_index:4,__enum__:"openfl._internal.renderer.DisplayObjectType",toString:v},SIMPLE_BUTTON:{_hx_index:5,__enum__:"openfl._internal.renderer.DisplayObjectType",toString:v},TEXTFIELD:{_hx_index:6,__enum__:"openfl._internal.renderer.DisplayObjectType",toString:v},TILEMAP:{_hx_index:7,__enum__:"openfl._internal.renderer.DisplayObjectType",toString:v},VIDEO:{_hx_index:8,__enum__:"openfl._internal.renderer.DisplayObjectType",toString:v}},Tb=function(e,i,s,n,o,l,_,h){null==h&&(h=0),null==_&&(_=0),null==l&&(l=0),null==o&&(o=0),null==n&&(n=1),null==s&&(s=1),null==i&&(i=1),null==e&&(e=1),this.redMultiplier=e,this.greenMultiplier=i,this.blueMultiplier=s,this.alphaMultiplier=n,this.redOffset=o,this.greenOffset=l,this.blueOffset=_,this.alphaOffset=h};k["openfl.geom.ColorTransform"]=Tb,Tb.__name__="openfl.geom.ColorTransform",Tb.prototype={alphaMultiplier:null,alphaOffset:null,blueMultiplier:null,blueOffset:null,greenMultiplier:null,greenOffset:null,redMultiplier:null,redOffset:null,concat:function(e){this.redOffset=e.redOffset*this.redMultiplier+this.redOffset,this.greenOffset=e.greenOffset*this.greenMultiplier+this.greenOffset,this.blueOffset=e.blueOffset*this.blueMultiplier+this.blueOffset,this.alphaOffset=e.alphaOffset*this.alphaMultiplier+this.alphaOffset,this.redMultiplier*=e.redMultiplier,this.greenMultiplier*=e.greenMultiplier,this.blueMultiplier*=e.blueMultiplier,this.alphaMultiplier*=e.alphaMultiplier},toString:function(){return"(redMultiplier="+this.redMultiplier+", greenMultiplier="+this.greenMultiplier+", blueMultiplier="+this.blueMultiplier+", alphaMultiplier="+this.alphaMultiplier+", redOffset="+this.redOffset+", greenOffset="+this.greenOffset+", blueOffset="+this.blueOffset+", alphaOffset="+this.alphaOffset+")"},__clone:function(){return new Tb(this.redMultiplier,this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier,this.redOffset,this.greenOffset,this.blueOffset,this.alphaOffset)},__copyFrom:function(e){this.redMultiplier=e.redMultiplier,this.greenMultiplier=e.greenMultiplier,this.blueMultiplier=e.blueMultiplier,this.alphaMultiplier=e.alphaMultiplier,this.redOffset=e.redOffset,this.greenOffset=e.greenOffset,this.blueOffset=e.blueOffset,this.alphaOffset=e.alphaOffset},__combine:function(e){this.redMultiplier*=e.redMultiplier,this.greenMultiplier*=e.greenMultiplier,this.blueMultiplier*=e.blueMultiplier,this.alphaMultiplier*=e.alphaMultiplier,this.redOffset+=e.redOffset,this.greenOffset+=e.greenOffset,this.blueOffset+=e.blueOffset,this.alphaOffset+=e.alphaOffset},__identity:function(){this.alphaMultiplier=this.blueMultiplier=this.greenMultiplier=this.redMultiplier=1,this.alphaOffset=this.blueOffset=this.greenOffset=this.redOffset=0},__invert:function(){this.redMultiplier=0!=this.redMultiplier?1/this.redMultiplier:1,this.greenMultiplier=0!=this.greenMultiplier?1/this.greenMultiplier:1,this.blueMultiplier=0!=this.blueMultiplier?1/this.blueMultiplier:1,this.alphaMultiplier=0!=this.alphaMultiplier?1/this.alphaMultiplier:1,this.redOffset=-this.redOffset,this.greenOffset=-this.greenOffset,this.blueOffset=-this.blueOffset,this.alphaOffset=-this.alphaOffset},__equals:function(e,i){return!(null==e||this.redMultiplier!=e.redMultiplier||this.greenMultiplier!=e.greenMultiplier||this.blueMultiplier!=e.blueMultiplier||!i&&this.alphaMultiplier!=e.alphaMultiplier||this.redOffset!=e.redOffset||this.greenOffset!=e.greenOffset||this.blueOffset!=e.blueOffset)&&this.alphaOffset==e.alphaOffset},__isDefault:function(e){return e?1==this.redMultiplier&&1==this.greenMultiplier&&1==this.blueMultiplier&&0==this.redOffset&&0==this.greenOffset&&0==this.blueOffset&&0==this.alphaOffset:1==this.redMultiplier&&1==this.greenMultiplier&&1==this.blueMultiplier&&1==this.alphaMultiplier&&0==this.redOffset&&0==this.greenOffset&&0==this.blueOffset&&0==this.alphaOffset},__setArrays:function(e,i){e[0]=this.redMultiplier,e[1]=this.greenMultiplier,e[2]=this.blueMultiplier,e[3]=this.alphaMultiplier,i[0]=this.redOffset,i[1]=this.greenOffset,i[2]=this.blueOffset,i[3]=this.alphaOffset},get_color:function(){return(0|this.redOffset)<<16|(0|this.greenOffset)<<8|this.blueOffset|0},set_color:function(e){return this.redOffset=e>>16&255,this.greenOffset=e>>8&255,this.blueOffset=255&e,this.blueMultiplier=this.greenMultiplier=this.redMultiplier=0,this.get_color()},__toLimeColorMatrix:function(){if(null==Tb.__limeColorMatrix){var e=new Float32Array(20);Tb.__limeColorMatrix=e}return Tb.__limeColorMatrix[0]=this.redMultiplier,Tb.__limeColorMatrix[4]=this.redOffset/255,Tb.__limeColorMatrix[6]=this.greenMultiplier,Tb.__limeColorMatrix[9]=this.greenOffset/255,Tb.__limeColorMatrix[12]=this.blueMultiplier,Tb.__limeColorMatrix[14]=this.blueOffset/255,Tb.__limeColorMatrix[18]=this.alphaMultiplier,Tb.__limeColorMatrix[19]=this.alphaOffset/255,Tb.__limeColorMatrix},__class__:Tb,__properties__:{set_color:"set_color",get_color:"get_color"}};var N=function(){};k["com.stencyl.utils.Utils"]=N,N.__name__="com.stencyl.utils.Utils",N.__properties__={set_time:"set_time",set_pan:"set_pan",get_pan:"get_pan",set_volume:"set_volume",get_volume:"get_volume"},N.toBoolean=function(e){return"true"==e},N.clear=function(e){e.length=0},N.removeValueFromArray=function(e,i){for(var s=e.length-1;-1<s;)e[s]==i&&e.splice(s,1),--s},N.contains=function(e,i){if(null==e)return!1;for(var s=e.length-1;-1<s;){if(e[s]==i)return!0;--s}return!1},N.mapContainsValue=function(e,i){for(e=new bf(e,e.arrayKeys());e.hasNext();)if(e.next()==i)return!0;return!1},N.mapCount=function(e){var i=0;for(e=new bf(e,e.arrayKeys());e.hasNext();)e.next(),++i;return i},N.mapToList=function(e,i){var s=[];if("keys"==i)for(e=e.keys();e.hasNext();)i=e.next(),s.push(i);else for(e=new bf(e,e.arrayKeys());e.hasNext();)i=e.next(),s.push(i);return s},N.clone=function(e){return N.cloner.clone(e)},N.copyMap=function(e){for(var i=new va,s=e.keys();s.hasNext();){var n=s.next(),o=null!=t[n]?e.getReserved(n):e.h[n];null!=t[n]?i.setReserved(n,o):i.h[n]=o}return i},N.applyToAllChildren=function(e,i){for(var s=0,n=e.get_numChildren();s<n;){var o=s++;(o=e.getChildAt(o))instanceof Sa&&N.applyToAllChildren(o,i),i(o)}},N.removeAllChildren=function(e){for(;0<e.get_numChildren();){var i=e.getChildAt(0);i instanceof Sa&&N.removeAllChildren(T.__cast(i,Sa)),i instanceof Ig&&N.removeAllTiles(i),e.removeChild(i)}},N.removeAllTiles=function(e){for(;0<e.get_numTiles();){var i=e.getTileAt(0);T.__implements(i,yj)&&N.removeAllTiles(i),e.removeTile(i)}},N.demouse=function(e){for(var i=0,s=e.get_numChildren();i<s;){var n=i++;(n=e.getChildAt(n))instanceof Sa&&N.demouse(T.__cast(n,Sa)),e.mouseChildren=!1,e.mouseEnabled=!1}},N.getAnchorPoint=function(e){return e=e.getRect(e),new ra(-1*e.x,-1*e.y)},N.setCamera=function(e,i){null==i&&(i=0),null==e&&(e=0),N.camera.x=e,N.camera.y=i},N.resetCamera=function(){N.camera.x=N.camera.y=0},N.get_volume=function(){return N._volume},N.set_volume=function(e){return 0>e&&(e=0),N._volume==e?e:(N._soundTransform.volume=N._volume=e,N._volume)},N.get_pan=function(){return N._pan},N.set_pan=function(e){return-1>e&&(e=-1),1<e&&(e=1),N._pan==e?e:(N._soundTransform.pan=N._pan=e,N._pan)},N.sign=function(e){return 0>e?-1:0<e?1:0},N.approach=function(e,i,s){return e<i?i<e+s?i:e+s:i>e-s?i:e-s},N.lerp=function(e,i,s){return null==s&&(s=1),e+(i-e)*s},N.colorLerp=function(e,i,s){if(null==s&&(s=1),0>=s)return e;if(1<=s)return i;var n=e>>24&255,o=e>>16&255,l=e>>8&255;return n+(((i>>24&255)-n)*s|0)<<24|o+(((i>>16&255)-o)*s|0)<<16|l+(((i>>8&255)-l)*s|0)<<8|(e&=255)+(((255&i)-e)*s|0)},N.stepTowards=function(e,i,s,n){null==n&&(n=1),N.point.x=i-e.x,N.point.y=s-e.y,N.point.get_length()<=n?(e.x=i,e.y=s):(N.point.normalize(n),e.x+=N.point.x,e.y+=N.point.y)},N.anchorTo=function(e,i,s){null==s&&(s=0),N.point.x=e.x-i.x,N.point.y=e.y-i.y,N.point.get_length()>s&&N.point.normalize(s),e.x=i.x+N.point.x,e.y=i.y+N.point.y},N.angle=function(e,i,s,n){return 0>(e=57.29577951308402*Math.atan2(n-i,s-e))?e+360:e},N.angleXY=function(e,i,s,n,o){null==o&&(o=0),null==n&&(n=0),null==s&&(s=1),i*=.01745329251994278,e.x=Math.cos(i)*s+n,e.y=Math.sin(i)*s+o},N.rotateAround=function(e,i,s,n){null==n&&(n=!0),null==s&&(s=0),n&&(s+=0>(n=57.29577951308402*Math.atan2(e.y-i.y,e.x-i.x))?n+360:n),n=i.x;var o=i.y,l=e.x,_=e.y;null==_&&(_=0),null==l&&(l=0),n=Math.sqrt((l-n)*(l-n)+(_-o)*(_-o)),o=i.x,null==(i=i.y)&&(i=0),null==o&&(o=0),null==n&&(n=1),s*=.01745329251994278,e.x=Math.cos(s)*n+o,e.y=Math.sin(s)*n+i},N.distance=function(e,i,s,n){return null==n&&(n=0),null==s&&(s=0),Math.sqrt((s-e)*(s-e)+(n-i)*(n-i))},N.distanceSquared=function(e,i,s,n){return null==n&&(n=0),null==s&&(s=0),(s-e)*(s-e)+(n-i)*(n-i)},N.distanceRects=function(e,i,s,n,o,l,_,h){return e<o+_&&o<e+s?i<l+h&&l<i+n?0:i>l?i-(l+h):l-(i+n):i<l+h&&l<i+n?e>o?e-(o+_):o-(e+s):e>o?i>l?(null==(l+=h)&&(l=0),null==(o+=_)&&(o=0),Math.sqrt((o-e)*(o-e)+(l-i)*(l-i))):(i+=n,null==l&&(l=0),null==(o+=_)&&(o=0),Math.sqrt((o-e)*(o-e)+(l-i)*(l-i))):i>l?(e+=s,null==(l+=h)&&(l=0),null==o&&(o=0),Math.sqrt((o-e)*(o-e)+(l-i)*(l-i))):(e+=s,i+=n,null==l&&(l=0),null==o&&(o=0),Math.sqrt((o-e)*(o-e)+(l-i)*(l-i)))},N.distanceRectPoint=function(e,i,s,n,o,l){return e>=s&&e<=s+o?i>=n&&i<=n+l?0:i>n?i-(n+l):n-i:i>=n&&i<=n+l?e>s?e-(s+o):s-e:e>s?i>n?(null==(n+=l)&&(n=0),null==(s+=o)&&(s=0),Math.sqrt((s-e)*(s-e)+(n-i)*(n-i))):(null==n&&(n=0),null==(l=s+o)&&(l=0),Math.sqrt((l-e)*(l-e)+(n-i)*(n-i))):i>n?(null==(n+=l)&&(n=0),null==s&&(s=0),Math.sqrt((s-e)*(s-e)+(n-i)*(n-i))):(null==n&&(n=0),null==(l=s)&&(l=0),Math.sqrt((l-e)*(l-e)+(n-i)*(n-i)))},N.clamp=function(e,i,s){return s>i?(e=e<s?e:s)>i?e:i:(e=e<i?e:i)>s?e:s},N.clampInRect=function(e,i,s,n,o,l){null==l&&(l=0),e.x=N.clamp(e.x,i+l,i+n-l),e.y=N.clamp(e.y,s+l,s+o-l)},N.scale=function(e,i,s,n,o){return n+(e-i)/(s-i)*(o-n)},N.scaleClamp=function(e,i,s,n,o){return e=n+(e-i)/(s-i)*(o-n),o>n?(e=e<o?e:o)>n?e:n:(e=e<n?e:n)>o?e:o},N.indexOf=function(e,i){for(var s=0,n=0;n<e.length;){var o=e[n];if(++n,i==o)return s;++s}return-1},N.next=function(e,i,s){return null==s&&(s=!0),s?i[(N.indexOf(i,e)+1)%i.length]:i[0|Math.max(N.indexOf(i,e)+1,i.length-1)]},N.prev=function(e,i,s){return null==s&&(s=!0),s?i[(N.indexOf(i,e)-1+i.length)%i.length]:i[0|Math.max(N.indexOf(i,e)-1,0)]},N.swap=function(e,i,s){return e==i?s:i},N.getColorRGB=function(e,i,s){return null==s&&(s=0),null==i&&(i=0),null==e&&(e=0),e<<16|i<<8|s},N.getRed=function(e){return e>>16&255},N.getGreen=function(e){return e>>8&255},N.getBlue=function(e){return 255&e},N.convertColor=function(e){return 0>e?e+16777216:e},N.timeFlag=function(){var e=(new Date).getTime()/1e3,i=e-N._time;return N._time=e,i},N.frames=function(e,i,s){null==s&&(s=0);var n=[];if(++s,e<i)for(;e<=i;)n.push(e),e+=s;else for(;e>=i;)n.push(e),e-=s;return n},N.set_time=function(e){return N._time=e,N._time},N.printCallstackIfAvailable=function(){return"\n"+ha.toString(ha.callStack())},N.printExceptionstackIfAvailable=function(){return"\n"+ha.toString(ha.exceptionStack())},N.saveToSharedObject=function(e,i,s){try{e.data[i]=N.clone(s)}catch(n){if(ha.lastException=n,"string"!=typeof(e=n instanceof E?n.val:n))throw n;if("deep clone"!=e)throw new E(e)}},N.loadFromSharedObject=function(e,i){return N.cloner.clone(X.field(e.data,i))},N.flushSharedObject=function(e,i){var s=null;try{s=e.flush()}catch(n){return ha.lastException=n,void i?.(!1)}0==s&&null!=i&&i(!0)},N.saveMap=function(e,i,s){i=vd.getLocal(i);for(var n=e.keys();n.hasNext();){var o=n.next();i.data[o]=null!=t[o]?e.getReserved(o):e.h[o]}N.flushSharedObject(i,s)},N.loadMap=function(e,i,s){i=vd.getLocal(i);for(var n=0,o=X.fields(i.data);n<o.length;){var l=o[n];++n;var _=X.field(i.data,l);null!=t[l]?e.setReserved(l,_):e.h[l]=_}s?.(!0)},N.convertLegacySharedObject=function(e,i){},N.getFlatName=function(e){return e=aa.replace(e,"/","_"),e=aa.replace(e,".","_"),aa.replace(e,"-","_")},N.getAssetClass=function(e){return e="__ASSET__"+N.getFlatName(e),k[e]},N.getConfigBytes=function(e){return ei.getBytes(N.getFlatName(e))},N.getConfigText=function(e){return ei.getString(N.getFlatName(e))},N.getConfigBitmap=function(e){try{var i=N.getFlatName(aa.replace(e,".png",".txt")),s=ei.getString(i);return pa.loadFromBase64(s,"png").then(function(n){return wb.withValue(new Uc(n))})}catch(n){if(ha.lastException=n,"string"==typeof(e=n instanceof E?n.val:n))return wb.withError("(You probably have a old browser) Error occurred: "+e);throw n}},N.loadBytes=function(e){return e=rb.createInstance(N.getAssetClass(e),[]),Rc.ofData(ta.toArrayBuffer(e))},N.loadText=function(e){return(e=N.loadBytes(e)).getString(0,e.length)},N.loadBitmapData=function(e){return e=Lb.fromFile(e),pa.fromImage(e)},N.resetStatics=function(){N.width=0,N.height=0,N.elapsed=0,N.rate=1,N.bounds=null,N.camera=new ra,N._time=0,N._updateTime=0,N._renderTime=0,N._gameTime=0,N._flashTime=0,N._bitmap=new va,N._seed=0,N._getSeed=0,N._volume=1,N._pan=0,N._soundTransform=new Tf,N.stage=null,N.point=new ra,N.point2=new ra,N.zero=new ra,N.rect=new ia,N.matrix=new Fa,N.sprite=new qa,N.collision=new Fc};var Qa=function(){};k["com.stencyl.utils.motion.EasingFunction"]=Qa,Qa.__name__="com.stencyl.utils.motion.EasingFunction",Qa.prototype={apply:function(e){return 0},__class__:Qa};var an=function(){};k["com.stencyl.utils.motion.BackIn"]=an,an.__name__="com.stencyl.utils.motion.BackIn",an.__super__=Qa,an.prototype=x(Qa.prototype,{apply:function(e){return 0==e?0:1==e?1:e*e*(2.70158*e-1.70158)},__class__:an});var bn=function(){};k["com.stencyl.utils.motion.BackInOut"]=bn,bn.__name__="com.stencyl.utils.motion.BackInOut",bn.__super__=Qa,bn.prototype=x(Qa.prototype,{apply:function(e){return 0==e?0:1==e?1:1>(e*=2)?.5*e*e*(3.5949095*e-2.5949095):.5*((e-=2)*e*(3.5949095*e+2.5949095)+2)},__class__:bn});var cn=function(){};k["com.stencyl.utils.motion.BackOut"]=cn,cn.__name__="com.stencyl.utils.motion.BackOut",cn.__super__=Qa,cn.prototype=x(Qa.prototype,{apply:function(e){return 0==e?0:1==e?1:--e*e*(2.70158*e+1.70158)+1},__class__:cn});var dn=function(){};k["com.stencyl.utils.motion.BackOutIn"]=dn,dn.__name__="com.stencyl.utils.motion.BackOutIn",dn.__super__=Qa,dn.prototype=x(Qa.prototype,{apply:function(e){return 0==e?0:1==e?1:.5>e?.5*((e=2*e-1)*e*(2.70158*e+1.70158)+1):.5*(e=2*e-1)*e*(2.70158*e-1.70158)+.5},__class__:dn});var en=function(){};k["com.stencyl.utils.motion.BounceIn"]=en,en.__name__="com.stencyl.utils.motion.BounceIn",en.__super__=Qa,en.prototype=x(Qa.prototype,{apply:function(e){return.36363636363636365>(e=1-e)?1-7.5625*e*e:.7272727272727273>e?1-(7.5625*(e-=.5454545454545454)*e+.75):.9090909090909091>e?1-(7.5625*(e-=.8181818181818182)*e+.9375):1-(7.5625*(e-=.9545454545454546)*e+.984375)},__class__:en});var fn=function(){};k["com.stencyl.utils.motion.BounceInOut"]=fn,fn.__name__="com.stencyl.utils.motion.BounceInOut",fn.__super__=Qa,fn.prototype=x(Qa.prototype,{apply:function(e){return.5>e?.36363636363636365>(e=1-2*e)?.5*(1-7.5625*e*e):.7272727272727273>e?.5*(1-(7.5625*(e-=.5454545454545454)*e+.75)):.9090909090909091>e?.5*(1-(7.5625*(e-=.8181818181818182)*e+.9375)):.5*(1-(7.5625*(e-=.9545454545454546)*e+.984375)):.36363636363636365>(e=2*e-1)?7.5625*e*e*.5+.5:.7272727272727273>e?.5*(7.5625*(e-=.5454545454545454)*e+.75)+.5:.9090909090909091>e?.5*(7.5625*(e-=.8181818181818182)*e+.9375)+.5:.5*(7.5625*(e-=.9545454545454546)*e+.984375)+.5},__class__:fn});var gn=function(){};k["com.stencyl.utils.motion.BounceOut"]=gn,gn.__name__="com.stencyl.utils.motion.BounceOut",gn.__super__=Qa,gn.prototype=x(Qa.prototype,{apply:function(e){return.36363636363636365>e?7.5625*e*e:.7272727272727273>e?7.5625*(e-=.5454545454545454)*e+.75:.9090909090909091>e?7.5625*(e-=.8181818181818182)*e+.9375:7.5625*(e-=.9545454545454546)*e+.984375},__class__:gn});var hn=function(){};k["com.stencyl.utils.motion.BounceOutIn"]=hn,hn.__name__="com.stencyl.utils.motion.BounceOutIn",hn.__super__=Qa,hn.prototype=x(Qa.prototype,{apply:function(e){return.5>e?.36363636363636365>(e*=2)?3.78125*e*e:.7272727272727273>e?.5*(7.5625*(e-=.5454545454545454)*e+.75):.9090909090909091>e?.5*(7.5625*(e-=.8181818181818182)*e+.9375):.5*(7.5625*(e-=.9545454545454546)*e+.984375):.36363636363636365>(e=1-(2*e-1))?.5-3.78125*e*e+.5:.7272727272727273>e?.5-.5*(7.5625*(e-=.5454545454545454)*e+.75)+.5:.9090909090909091>e?.5-.5*(7.5625*(e-=.8181818181818182)*e+.9375)+.5:.5-.5*(7.5625*(e-=.9545454545454546)*e+.984375)+.5},__class__:hn});var jn=function(){};k["com.stencyl.utils.motion.CircIn"]=jn,jn.__name__="com.stencyl.utils.motion.CircIn",jn.__super__=Qa,jn.prototype=x(Qa.prototype,{apply:function(e){return-1>e||1<e?0:1-Math.sqrt(1-e*e)},__class__:jn});var kn=function(){};k["com.stencyl.utils.motion.CircInOut"]=kn,kn.__name__="com.stencyl.utils.motion.CircInOut",kn.__super__=Qa,kn.prototype=x(Qa.prototype,{apply:function(e){return-.5>e||1.5<e?.5:1>(e*=2)?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},__class__:kn});var ln=function(){};k["com.stencyl.utils.motion.CircOut"]=ln,ln.__name__="com.stencyl.utils.motion.CircOut",ln.__super__=Qa,ln.prototype=x(Qa.prototype,{apply:function(e){return 0>e||2<e?0:Math.sqrt(e*(2-e))},__class__:ln});var mn=function(){};k["com.stencyl.utils.motion.CircOutIn"]=mn,mn.__name__="com.stencyl.utils.motion.CircOutIn",mn.__super__=Qa,mn.prototype=x(Qa.prototype,{apply:function(e){return 0>e?0:1<e?1:.5>e?(e=2*e-1,.5*Math.sqrt(1-e*e)):(e=2*e-1,-.5*(Math.sqrt(1-e*e)-1-1))},__class__:mn});var nn=function(){};k["com.stencyl.utils.motion.CubicIn"]=nn,nn.__name__="com.stencyl.utils.motion.CubicIn",nn.__super__=Qa,nn.prototype=x(Qa.prototype,{apply:function(e){return e*e*e},__class__:nn});var on=function(){};k["com.stencyl.utils.motion.CubicInOut"]=on,on.__name__="com.stencyl.utils.motion.CubicInOut",on.__super__=Qa,on.prototype=x(Qa.prototype,{apply:function(e){return 1>(e*=2)?.5*e*e*e:.5*((e-=2)*e*e+2)},__class__:on});var pn=function(){};k["com.stencyl.utils.motion.CubicOut"]=pn,pn.__name__="com.stencyl.utils.motion.CubicOut",pn.__super__=Qa,pn.prototype=x(Qa.prototype,{apply:function(e){return--e*e*e+1},__class__:pn});var qn=function(){};k["com.stencyl.utils.motion.CubicOutIn"]=qn,qn.__name__="com.stencyl.utils.motion.CubicOutIn",qn.__super__=Qa,qn.prototype=x(Qa.prototype,{apply:function(e){return.5*((e=2*e-1)*e*e+1)},__class__:qn});var rn=function(){};k["com.stencyl.utils.motion.ElasticIn"]=rn,rn.__name__="com.stencyl.utils.motion.ElasticIn",rn.__super__=Qa,rn.prototype=x(Qa.prototype,{apply:function(e){return 0==e?0:1==e?1:-Math.exp(6.931471805599453*--e)*Math.sin(6.283185307179586*(.001*e-75e-6)/3e-4)},__class__:rn});var sn=function(){};k["com.stencyl.utils.motion.ElasticInOut"]=sn,sn.__name__="com.stencyl.utils.motion.ElasticInOut",sn.__super__=Qa,sn.prototype=x(Qa.prototype,{apply:function(e){return 0==e?0:1==e?1:1>(e*=2)?-.5*Math.exp(6.931471805599453*--e)*Math.sin(6.283185307179586*(.001*e-75e-6)/3e-4):Math.exp(-6.931471805599453*--e)*Math.sin(6.283185307179586*(.001*e-75e-6)/3e-4)*.5+1},__class__:sn});var tn=function(){};k["com.stencyl.utils.motion.ElasticOut"]=tn,tn.__name__="com.stencyl.utils.motion.ElasticOut",tn.__super__=Qa,tn.prototype=x(Qa.prototype,{apply:function(e){return 0==e?0:1==e?1:Math.exp(-6.931471805599453*e)*Math.sin(6.283185307179586*(.001*e-75e-6)/3e-4)+1},__class__:tn});var un=function(){};k["com.stencyl.utils.motion.ElasticOutIn"]=un,un.__name__="com.stencyl.utils.motion.ElasticOutIn",un.__super__=Qa,un.prototype=x(Qa.prototype,{apply:function(e){return.5>e?0==(e*=2)?0:.5*Math.exp(-6.931471805599453*e)*Math.sin(6.283185307179586*(.001*e-75e-6)/3e-4)+.5:.5==e?.5:1==e?1:(e=2*e-1,-.5*Math.exp(6.931471805599453*--e)*Math.sin(6.283185307179586*(.001*e-75e-6)/3e-4)+.5)},__class__:un});var vn=function(){};k["com.stencyl.utils.motion.ExpoIn"]=vn,vn.__name__="com.stencyl.utils.motion.ExpoIn",vn.__super__=Qa,vn.prototype=x(Qa.prototype,{apply:function(e){return 0==e?0:Math.exp(6.931471805599453*(e-1))},__class__:vn});var wn=function(){};k["com.stencyl.utils.motion.ExpoInOut"]=wn,wn.__name__="com.stencyl.utils.motion.ExpoInOut",wn.__super__=Qa,wn.prototype=x(Qa.prototype,{apply:function(e){return 0==e?0:1==e?1:1>(e*=2)?.5*Math.exp(6.931471805599453*(e-1)):.5*(2-Math.exp(-6.931471805599453*(e-1)))},__class__:wn});var xn=function(){};k["com.stencyl.utils.motion.ExpoOut"]=xn,xn.__name__="com.stencyl.utils.motion.ExpoOut",xn.__super__=Qa,xn.prototype=x(Qa.prototype,{apply:function(e){return 1==e?1:1-Math.exp(-6.931471805599453*e)},__class__:xn});var yn=function(){};k["com.stencyl.utils.motion.ExpoOutIn"]=yn,yn.__name__="com.stencyl.utils.motion.ExpoOutIn",yn.__super__=Qa,yn.prototype=x(Qa.prototype,{apply:function(e){return.5>e?.5*(1-Math.exp(-13.862943611198906*e)):.5==e?.5:.5*(Math.exp(13.862943611198906*(e-1))+1)},__class__:yn});var zn=function(){};k["com.stencyl.utils.motion.Linear"]=zn,zn.__name__="com.stencyl.utils.motion.Linear",zn.__super__=Qa,zn.prototype=x(Qa.prototype,{apply:function(e){return e},__class__:zn});var An=function(){};k["com.stencyl.utils.motion.QuadIn"]=An,An.__name__="com.stencyl.utils.motion.QuadIn",An.__super__=Qa,An.prototype=x(Qa.prototype,{apply:function(e){return e*e},__class__:An});var Bn=function(){};k["com.stencyl.utils.motion.QuadInOut"]=Bn,Bn.__name__="com.stencyl.utils.motion.QuadInOut",Bn.__super__=Qa,Bn.prototype=x(Qa.prototype,{apply:function(e){return.5>e?2*e*e:-2*--e*e+1},__class__:Bn});var Cn=function(){};k["com.stencyl.utils.motion.QuadOut"]=Cn,Cn.__name__="com.stencyl.utils.motion.QuadOut",Cn.__super__=Qa,Cn.prototype=x(Qa.prototype,{apply:function(e){return-e*(e-2)},__class__:Cn});var Dn=function(){};k["com.stencyl.utils.motion.QuadOutIn"]=Dn,Dn.__name__="com.stencyl.utils.motion.QuadOutIn",Dn.__super__=Qa,Dn.prototype=x(Qa.prototype,{apply:function(e){return.5>e?-.5*(e*=2)*(e-2):.5*(e=2*e-1)*e+.5},__class__:Dn});var En=function(){};k["com.stencyl.utils.motion.QuartIn"]=En,En.__name__="com.stencyl.utils.motion.QuartIn",En.__super__=Qa,En.prototype=x(Qa.prototype,{apply:function(e){return(e*=e)*e},__class__:En});var Fn=function(){};k["com.stencyl.utils.motion.QuartInOut"]=Fn,Fn.__name__="com.stencyl.utils.motion.QuartInOut",Fn.__super__=Qa,Fn.prototype=x(Qa.prototype,{apply:function(e){return 1>(e*=2)?.5*(e*=e)*e:-.5*((e*=e-=2)*e-2)},__class__:Fn});var Gn=function(){};k["com.stencyl.utils.motion.QuartOut"]=Gn,Gn.__name__="com.stencyl.utils.motion.QuartOut",Gn.__super__=Qa,Gn.prototype=x(Qa.prototype,{apply:function(e){return 1-(e*=--e)*e},__class__:Gn});var Hn=function(){};k["com.stencyl.utils.motion.QuartOutIn"]=Hn,Hn.__name__="com.stencyl.utils.motion.QuartOutIn",Hn.__super__=Qa,Hn.prototype=x(Qa.prototype,{apply:function(e){return.5>e?(e=2*e-1,-.5*(e*=e)*e+.5):(e=2*e-1,.5*(e*=e)*e+.5)},__class__:Hn});var In=function(){};k["com.stencyl.utils.motion.QuintIn"]=In,In.__name__="com.stencyl.utils.motion.QuintIn",In.__super__=Qa,In.prototype=x(Qa.prototype,{apply:function(e){return e*(e*=e)*e},__class__:In});var Jn=function(){};k["com.stencyl.utils.motion.QuintInOut"]=Jn,Jn.__name__="com.stencyl.utils.motion.QuintInOut",Jn.__super__=Qa,Jn.prototype=x(Qa.prototype,{apply:function(e){return 1>(e*=2)?.5*e*(e*=e)*e:.5*(e-=2)*(e*=e)*e+1},__class__:Jn});var Kn=function(){};k["com.stencyl.utils.motion.QuintOut"]=Kn,Kn.__name__="com.stencyl.utils.motion.QuintOut",Kn.__super__=Qa,Kn.prototype=x(Qa.prototype,{apply:function(e){return--e*(e*=e)*e+1},__class__:Kn});var Ln=function(){};k["com.stencyl.utils.motion.QuintOutIn"]=Ln,Ln.__name__="com.stencyl.utils.motion.QuintOutIn",Ln.__super__=Qa,Ln.prototype=x(Qa.prototype,{apply:function(e){return.5*((e=2*e-1)*(e*=e)*e+1)},__class__:Ln});var Mn=function(){};k["com.stencyl.utils.motion.SineIn"]=Mn,Mn.__name__="com.stencyl.utils.motion.SineIn",Mn.__super__=Qa,Mn.prototype=x(Qa.prototype,{apply:function(e){return 0==e?0:1==e?1:1-Math.cos(1.5707963267948966*e)},__class__:Mn});var Nn=function(){};k["com.stencyl.utils.motion.SineInOut"]=Nn,Nn.__name__="com.stencyl.utils.motion.SineInOut",Nn.__super__=Qa,Nn.prototype=x(Qa.prototype,{apply:function(e){return 0==e?0:1==e?1:-.5*(Math.cos(3.141592653589793*e)-1)},__class__:Nn});var On=function(){};k["com.stencyl.utils.motion.SineOut"]=On,On.__name__="com.stencyl.utils.motion.SineOut",On.__super__=Qa,On.prototype=x(Qa.prototype,{apply:function(e){return 0==e?0:1==e?1:Math.sin(1.5707963267948966*e)},__class__:On});var Pn=function(){};k["com.stencyl.utils.motion.SineOutIn"]=Pn,Pn.__name__="com.stencyl.utils.motion.SineOutIn",Pn.__super__=Qa,Pn.prototype=x(Qa.prototype,{apply:function(e){return 0==e?0:1==e?1:.5>e?.5*Math.sin(3.141592653589793*e):-.5*Math.cos(1.5707963267948966*(2*e-1))+1},__class__:Pn});var Qn=function(){};k["com.stencyl.utils.motion.WarpIn"]=Qn,Qn.__name__="com.stencyl.utils.motion.WarpIn",Qn.__super__=Qa,Qn.prototype=x(Qa.prototype,{apply:function(e){return 1>e?0:1},__class__:Qn});var Rn=function(){};k["com.stencyl.utils.motion.WarpInOut"]=Rn,Rn.__name__="com.stencyl.utils.motion.WarpInOut",Rn.__super__=Qa,Rn.prototype=x(Qa.prototype,{apply:function(e){return.5>e?0:1},__class__:Rn});var Sn=function(){};k["com.stencyl.utils.motion.WarpOut"]=Sn,Sn.__name__="com.stencyl.utils.motion.WarpOut",Sn.__super__=Qa,Sn.prototype=x(Qa.prototype,{apply:function(e){return 0>=e?0:1},__class__:Sn});var Tn=function(){};k["com.stencyl.utils.motion.WarpOutIn"]=Tn,Tn.__name__="com.stencyl.utils.motion.WarpOutIn",Tn.__super__=Qa,Tn.prototype=x(Qa.prototype,{apply:function(e){return 0>=e?0:1>e?.5:1},__class__:Tn});var sb=function(){};k["com.stencyl.utils.motion.Easing"]=sb,sb.__name__="com.stencyl.utils.motion.Easing";var Ki=function(){};k["com.stencyl.utils.motion.EasingConstants"]=Ki,Ki.__name__="com.stencyl.utils.motion.EasingConstants";var Kg=function(){this.paused=this.finished=this.active=!1};k["com.stencyl.utils.motion.TweenObject"]=Kg,Kg.__name__="com.stencyl.utils.motion.TweenObject",Kg.prototype={easing:null,time:null,duration:null,active:null,paused:null,updated:null,finished:null,onUpdate:null,onComplete:null,_tween:function(e,i){null==e&&(e=sb.linear),this.easing=e,this.duration=i,this.active||Eb.markActive(this),this.time=0,this.active=!0,this.paused=this.finished=this.updated=!1,0==i&&(this.duration=1,Eb.finish(this))},update:function(e){this.paused||(this.time+=e,this.time>this.duration&&(this.time=this.duration),this.updateValue(),this.updated=!0,this.time==this.duration?(this.active=!1,this.finished=!0,null!=this.onUpdate&&this.onUpdate(),null!=this.onComplete&&this.onComplete()):null!=this.onUpdate&&this.onUpdate())},updateValue:function(){},doOnUpdate:function(e){return this.onUpdate=e,this},doOnComplete:function(e){return this.onComplete=e,this},__class__:Kg};var Se=function(){Kg.call(this)};k["com.stencyl.utils.motion.TweenFloat"]=Se,Se.__name__="com.stencyl.utils.motion.TweenFloat",Se.__super__=Kg,Se.prototype=x(Kg.prototype,{startValue:null,endValue:null,value:null,tween:function(e,i,s,n){return this.startValue=e,this.endValue=i,this.value=e,this._tween(s,n),this},updateValue:function(){this.value=jb.lerp(this.easing.apply(this.time/this.duration),this.startValue,this.endValue)},__class__:Se});var bg=function(){Kg.call(this)};k["com.stencyl.utils.motion.TweenFloat2"]=bg,bg.__name__="com.stencyl.utils.motion.TweenFloat2",bg.__super__=Kg,bg.prototype=x(Kg.prototype,{startValue1:null,endValue1:null,value1:null,startValue2:null,endValue2:null,value2:null,tween:function(e,i,s,n,o,l){return this.startValue1=e,this.endValue1=i,this.value1=e,this.startValue2=s,this.endValue2=n,this.value2=s,this._tween(o,l),this},updateValue:function(){var e=this.easing.apply(this.time/this.duration);this.value1=jb.lerp(e,this.startValue1,this.endValue1),this.value2=jb.lerp(e,this.startValue2,this.endValue2)},__class__:bg});var Eb=function(){};k["com.stencyl.utils.motion.TweenManager"]=Eb,Eb.__name__="com.stencyl.utils.motion.TweenManager",Eb.resetStatics=function(){Eb.activeObjects=[],Eb.finishedObjects=[]},Eb.markActive=function(e){Eb.activeObjects.push(e)},Eb.cancel=function(e){var i=Eb.activeObjects.indexOf(e);-1!=i&&(e.active=!1,e.updated=!1,e.finished=!1,e.paused=!1,Eb.activeObjects[i]=Eb.activeObjects[Eb.activeObjects.length-1],Eb.activeObjects.pop())},Eb.finish=function(e){var i=Eb.activeObjects.indexOf(e);-1!=i&&(e.update(e.duration-e.time),Eb.activeObjects[i]=Eb.activeObjects[Eb.activeObjects.length-1],Eb.activeObjects.pop(),Eb.finishedObjects.push(e))},Eb.update=function(e){for(var i=Eb.finishedObjects.length;0<i--;)Eb.finishedObjects.pop().updated=!1;for(i=Eb.activeObjects.length;0<i--;){var s=Eb.activeObjects[i];s.update(e),s.finished&&(Eb.activeObjects[i]=Eb.activeObjects[Eb.activeObjects.length-1],Eb.activeObjects.pop(),Eb.finishedObjects.push(s))}},Eb.timer=function(e){return(new Un).tween(e)};var Un=function(){Kg.call(this)};k["com.stencyl.utils.motion.TweenTimer"]=Un,Un.__name__="com.stencyl.utils.motion.TweenTimer",Un.__super__=Kg,Un.prototype=x(Kg.prototype,{tween:function(e){return this._tween(sb.linear,e),this},updateValue:function(){},__class__:Un});var Vn=C["haxe.StackItem"]={__ename__:"haxe.StackItem",__constructs__:["CFunction","Module","FilePos","Method","LocalFunction"],CFunction:{_hx_index:0,__enum__:"haxe.StackItem",toString:v},Module:(w=function(e){return{_hx_index:1,m:e,__enum__:"haxe.StackItem",toString:v}},w.__params__=["m"],w),FilePos:(w=function(e,i,s,n){return{_hx_index:2,s:e,file:i,line:s,column:n,__enum__:"haxe.StackItem",toString:v}},w.__params__=["s","file","line","column"],w),Method:(w=function(e,i){return{_hx_index:3,classname:e,method:i,__enum__:"haxe.StackItem",toString:v}},w.__params__=["classname","method"],w),LocalFunction:(w=function(e){return{_hx_index:4,v:e,__enum__:"haxe.StackItem",toString:v}},w.__params__=["v"],w)},ha=function(){};k["haxe.CallStack"]=ha,ha.__name__="haxe.CallStack",ha.getStack=function(e){if(null==e)return[];var i=Error.prepareStackTrace;return Error.prepareStackTrace=function(s,n){s=[];for(var o=0;o<n.length;){var l=n[o];++o,null!=ha.wrapCallSite&&(l=ha.wrapCallSite(l));var _=null,h=l.getFunctionName();if(null!=h){var m=h.lastIndexOf(".");0<=m&&(_=B.substr(h,0,m),h=B.substr(h,m+1,null),_=Vn.Method(_,h))}m=null==(h=l.getFileName())?-1:h.indexOf("file:"),null!=ha.wrapCallSite&&0<m&&(h=B.substr(h,m+6,null)),s.push(Vn.FilePos(_,h,l.getLineNumber(),l.getColumnNumber()))}return s},e=ha.makeStack(e.stack),Error.prepareStackTrace=i,e},ha.callStack=function(){try{throw Error()}catch(i){ha.lastException=i;var e=ha.getStack(i);return e.shift(),e}},ha.exceptionStack=function(){return ha.getStack(ha.lastException)},ha.toString=function(e){for(var i=new $c,s=0;s<e.length;){var n=e[s];++s,i.b+="\nCalled from ",ha.itemToString(i,n)}return i.b},ha.itemToString=function(e,i){switch(i._hx_index){case 0:e.b+="a C function";break;case 1:i=i.m,e.b+="module ",e.b+=null==i?"null":""+i;break;case 2:var s=i.column,n=i.line,o=i.file;null!=(i=i.s)&&(ha.itemToString(e,i),e.b+=" ("),e.b+=null==o?"null":""+o,e.b+=" line ",e.b+=null==n?"null":""+n,null!=s&&(e.b+=" column ",e.b+=null==s?"null":""+s),null!=i&&(e.b+=")");break;case 3:s=i.method,e.b+=O.string((i=i.classname)??"<unknown>"),e.b+=".",e.b+=null==s?"null":""+s;break;case 4:i=i.v,e.b+="local function #",e.b+=null==i?"null":""+i}},ha.makeStack=function(e){if(null==e)return[];if("string"==typeof e){"Error"==(e=e.split("\n"))[0]&&e.shift();for(var i=[],s=new Ra("^   at ([A-Za-z0-9_. ]+) \\(([^)]+):([0-9]+):([0-9]+)\\)$",""),n=0;n<e.length;){var o=e[n];if(++n,s.match(o)){var l=(o=s.matched(1).split(".")).pop(),_=s.matched(2),h=O.parseInt(s.matched(3)),m=O.parseInt(s.matched(4));i.push(Vn.FilePos("Anonymous function"==l?Vn.LocalFunction():"Global code"==l?null:Vn.Method(o.join("."),l),_,h,m))}else i.push(Vn.Module(aa.trim(o)))}return i}return e};var zj={};k["haxe._Int32.Int32_Impl_"]=zj,zj.__name__="haxe._Int32.Int32_Impl_",zj.ucompare=function(e,i){return 0>e?0>i?~i-~e|0:1:0>i?-1:e-i|0};var Wn={};k["haxe._Int64.Int64_Impl_"]=Wn,Wn.__name__="haxe._Int64.Int64_Impl_",Wn.toString=function(e){var i=e;if(0==i.high&&0==i.low)return"0";e="";var s=!1;0>i.high&&(s=!0);for(var n=new Qb(0,10);0!=i.high||0!=i.low;)if(0>(i=Wn.divMod(i,n)).modulus.high){var o=i.modulus,l=~o.high;0==(o=1+~o.low|0)&&l++,e=o+e,i=~(l=i.quotient).high,0==(l=1+~l.low|0)&&(i++,i|=0),i=new Qb(i,l)}else e=i.modulus.low+e,i=i.quotient;return s&&(e="-"+e),e},Wn.divMod=function(e,i){if(0==i.high)switch(i.low){case 0:throw new E("divide by zero");case 1:e=new Qb(e.high,e.low);var s=new Qb(0,0);return{quotient:e,modulus:s}}var n=0>e.high!=0>i.high;if(0>e.high){s=~e.high;var o=1+~e.low|0;0==o&&(s++,s|=0),s=new Qb(s,o)}else s=new Qb(e.high,e.low);0>i.high&&(o=~i.high,0==(i=1+~i.low|0)&&(o++,o|=0),i=new Qb(o,i)),o=new Qb(0,0);for(var l=new Qb(0,1);!(0>i.high);){var _=zj.ucompare(i.high,s.high);_=0!=_?_:zj.ucompare(i.low,s.low);var h=1;if(i=0==(h&=63)?new Qb(i.high,i.low):32>h?new Qb(i.high<<h|i.low>>>32-h,i.low<<h):new Qb(i.low<<h-32,0),h=1,l=0==(h&=63)?new Qb(l.high,l.low):32>h?new Qb(l.high<<h|l.low>>>32-h,l.low<<h):new Qb(l.low<<h-32,0),0<=_)break}for(;0!=l.high||0!=l.low;)0<=(0!=(_=zj.ucompare(s.high,i.high))?_:zj.ucompare(s.low,i.low))&&(o=new Qb(o.high|l.high,o.low|l.low),_=s.high-i.high|0,h=s.low-i.low|0,0>zj.ucompare(s.low,i.low)&&(_--,_|=0),s=new Qb(_,h)),_=1,l=0==(_&=63)?new Qb(l.high,l.low):32>_?new Qb(l.high>>>_,l.high<<32-_|l.low>>>_):new Qb(0,l.high>>>_-32),_=1,i=0==(_&=63)?new Qb(i.high,i.low):32>_?new Qb(i.high>>>_,i.high<<32-_|i.low>>>_):new Qb(0,i.high>>>_-32);return n&&(n=~o.high,0==(i=1+~o.low|0)&&(n++,n|=0),o=new Qb(n,i)),0>e.high&&(e=~s.high,0==(s=1+~s.low|0)&&(e++,e|=0),s=new Qb(e,s)),{quotient:o,modulus:s}};var Qb=function(e,i){this.high=e,this.low=i};k["haxe._Int64.___Int64"]=Qb,Qb.__name__="haxe._Int64.___Int64",Qb.prototype={high:null,low:null,__class__:Qb};var sh=function(){};k["haxe.Log"]=sh,sh.__name__="haxe.Log",sh.formatOutput=function(e,i){if(e=O.string(e),null==i)return e;var s=i.fileName+":"+i.lineNumber;if(null!=i.customParams){var n=0;for(i=i.customParams;n<i.length;){var o=i[n];++n,e+=", "+O.string(o)}}return s+": "+e},sh.trace=function(e,i){e=sh.formatOutput(e,i),typeof console<"u"&&null!=console.log&&console.log(e)};var ei=function(){};k["haxe.Resource"]=ei,ei.__name__="haxe.Resource",ei.getString=function(e){for(var i=0,s=ei.content;i<s.length;){var n=s[i];if(++i,n.name==e)return null!=n.str?n.str:fi.decode(n.data).toString()}return null},ei.getBytes=function(e){for(var i=0,s=ei.content;i<s.length;){var n=s[i];if(++i,n.name==e)return null!=n.str?bb.ofString(n.str):fi.decode(n.data)}return null};var Me=function(){this.buf=new $c,this.cache=[],this.useCache=Me.USE_CACHE,this.useEnumIndex=Me.USE_ENUM_INDEX,this.shash=new va,this.scount=0};k["haxe.Serializer"]=Me,Me.__name__="haxe.Serializer",Me.run=function(e){var i=new Me;return i.serialize(e),i.toString()},Me.prototype={buf:null,cache:null,shash:null,scount:null,useCache:null,useEnumIndex:null,toString:function(){return this.buf.b},serializeString:function(e){var i=this.shash;if(null!=(i=null!=t[e]?i.getReserved(e):i.h[e]))this.buf.b+="R",this.buf.b+=null==i?"null":""+i;else{i=this.shash;var s=this.scount++;null!=t[e]?i.setReserved(e,s):i.h[e]=s,this.buf.b+="y",e=encodeURIComponent(e),this.buf.b+=O.string(e.length),this.buf.b+=":",this.buf.b+=null==e?"null":""+e}},serializeRef:function(e){for(var i=typeof e,s=0,n=this.cache.length;s<n;){var o=s++,l=this.cache[o];if(typeof l==i&&l==e)return this.buf.b+="r",this.buf.b+=null==o?"null":""+o,!0}return this.cache.push(e),!1},serializeFields:function(e){for(var i=0,s=X.fields(e);i<s.length;){var n=s[i];++i,this.serializeString(n),this.serialize(X.field(e,n))}this.buf.b+="g"},serialize:function(e){var i=rb.typeof(e);switch(i._hx_index){case 0:this.buf.b+="n";break;case 1:if(0==e){this.buf.b+="z";break}this.buf.b+="i",this.buf.b+=null==e?"null":""+e;break;case 2:isNaN(e)?this.buf.b+="k":isFinite(e)?(this.buf.b+="d",this.buf.b+=null==e?"null":""+e):this.buf.b+=0>e?"m":"p";break;case 3:this.buf.b+=e?"t":"f";break;case 4:T.__instanceof(e,as)?(e=e.__name__,this.buf.b+="A",this.serializeString(e)):T.__instanceof(e,gt)?(this.buf.b+="B",this.serializeString(e.__ename__)):this.useCache&&this.serializeRef(e)||(this.buf.b+="o",this.serializeFields(e));break;case 5:throw new E("Cannot serialize function");case 6:if((i=i.c)==String){this.serializeString(e);break}if(this.useCache&&this.serializeRef(e))break;switch(i){case Array:i=0,this.buf.b+="a";for(var s=0,n=e.length;s<n;){var o=s++;null==e[o]?++i:(0<i&&(1==i?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=null==i?"null":""+i),i=0),this.serialize(e[o]))}0<i&&(1==i?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=null==i?"null":""+i)),this.buf.b+="h";break;case Date:this.buf.b+="v",this.buf.b+=O.string(e.getTime());break;case Va:for(this.buf.b+="q",i=e.keys();i.hasNext();)s=i.next(),this.buf.b+=":",this.buf.b+=null==s?"null":""+s,this.serialize(e.h[s]);this.buf.b+="h";break;case ib:for(this.buf.b+="l",e=e.h;null!=e;)i=e.item,e=e.next,this.serialize(i);this.buf.b+="h";break;case Aa:for(this.buf.b+="M",i=e.keys();i.hasNext();)s=i.next(),n=X.field(s,"__id__"),X.deleteField(s,"__id__"),this.serialize(s),s.__id__=n,this.serialize(e.h[s.__id__]);this.buf.b+="h";break;case va:for(this.buf.b+="b",i=e.keys();i.hasNext();)s=i.next(),this.serializeString(s),this.serialize(null!=t[s]?e.getReserved(s):e.h[s]);this.buf.b+="h";break;case bb:if(this.buf.b+="s",this.buf.b+=O.string(Math.ceil(8*e.length/6)),this.buf.b+=":",s=0,n=e.length-2,null==(i=Me.BASE64_CODES)){i=Array(Me.BASE64.length),o=0;for(var l=Me.BASE64.length;o<l;){var _=o++;i[_]=B.cca(Me.BASE64,_)}Me.BASE64_CODES=i}for(;s<n;)o=e.b[s++],l=e.b[s++],_=e.b[s++],this.buf.b+=String.fromCodePoint(i[o>>2]),this.buf.b+=String.fromCodePoint(i[63&(o<<4|l>>4)]),this.buf.b+=String.fromCodePoint(i[63&(l<<2|_>>6)]),this.buf.b+=String.fromCodePoint(i[63&_]);s==n?(n=e.b[s++],e=e.b[s++],this.buf.b+=String.fromCodePoint(i[n>>2]),this.buf.b+=String.fromCodePoint(i[63&(n<<4|e>>4)]),this.buf.b+=String.fromCodePoint(i[e<<2&63])):s==n+1&&(e=e.b[s++],this.buf.b+=String.fromCodePoint(i[e>>2]),this.buf.b+=String.fromCodePoint(i[e<<4&63]));break;default:this.useCache&&this.cache.pop(),null!=e.hxSerialize?(this.buf.b+="C",this.serializeString(i.__name__),this.useCache&&this.cache.push(e),e.hxSerialize(this),this.buf.b+="g"):(this.buf.b+="c",this.serializeString(i.__name__),this.useCache&&this.cache.push(e),this.serializeFields(e))}break;case 7:if(i=i.e,this.useCache){if(this.serializeRef(e))break;this.cache.pop()}for(this.buf.b+=O.string(this.useEnumIndex?"j":"w"),this.serializeString(i.__ename__),this.useEnumIndex?(this.buf.b+=":",this.buf.b+=O.string(e._hx_index)):this.serializeString(C[e.__enum__].__constructs__[e._hx_index]),this.buf.b+=":",i=rb.enumParameters(e),this.buf.b+=O.string(i.length),s=0;s<i.length;)n=i[s],++s,this.serialize(n);this.useCache&&this.cache.push(e);break;default:throw new E("Cannot serialize "+O.string(e))}},__class__:Me};var of=function(e){var i=this;this.id=setInterval(function(){i.run()},e)};k["haxe.Timer"]=of,of.__name__="haxe.Timer",of.delay=function(e,i){var s=new of(i);return s.run=function(){s.stop(),e()},s},of.measure=function(e,i){var s=(new Date).getTime()/1e3;return e=e(),sh.trace((new Date).getTime()/1e3-s+"s",i),e},of.stamp=function(){return(new Date).getTime()/1e3},of.prototype={id:null,stop:function(){null!=this.id&&(clearInterval(this.id),this.id=null)},run:function(){},__class__:of};var Xn=function(){};k["haxe._Unserializer.DefaultResolver"]=Xn,Xn.__name__="haxe._Unserializer.DefaultResolver",Xn.prototype={resolveClass:function(e){return k[e]},resolveEnum:function(e){return C[e]},__class__:Xn};var Ue=function(e){this.buf=e,this.length=e.length,this.pos=0,this.scache=[],this.cache=[],null==(e=Ue.DEFAULT_RESOLVER)&&(e=new Xn,Ue.DEFAULT_RESOLVER=e),this.resolver=e};k["haxe.Unserializer"]=Ue,Ue.__name__="haxe.Unserializer",Ue.initCodes=function(){for(var e=[],i=0,s=Ue.BASE64.length;i<s;){var n=i++;e[Ue.BASE64.charCodeAt(n)]=n}return e},Ue.run=function(e){return new Ue(e).unserialize()},Ue.prototype={buf:null,pos:null,length:null,cache:null,scache:null,resolver:null,setResolver:function(e){null==e?(null==Aj.instance&&(Aj.instance=new Aj),this.resolver=Aj.instance):this.resolver=e},readDigits:function(){for(var e=0,i=!1,s=this.pos;;){var n=this.buf.charCodeAt(this.pos);if(n!=n)break;if(45==n){if(this.pos!=s)break;i=!0}else{if(48>n||57<n)break;e=10*e+(n-48)}this.pos++}return i&&(e*=-1),e},readFloat:function(){for(var e=this.pos;;){var i=this.buf.charCodeAt(this.pos);if(i!=i)break;if(!(43<=i&&58>i||101==i||69==i))break;this.pos++}return parseFloat(B.substr(this.buf,e,this.pos-e))},unserializeObject:function(e){for(;;){if(this.pos>=this.length)throw new E("Invalid object");if(103==this.buf.charCodeAt(this.pos))break;var i=this.unserialize();if("string"!=typeof i)throw new E("Invalid object key");var s=this.unserialize();e[i]=s}this.pos++},unserializeEnum:function(e,i){if(58!=this.buf.charCodeAt(this.pos++))throw new E("Invalid enum format");var s=this.readDigits();if(0==s)return rb.createEnum(e,i);for(var n=[];0<s--;)n.push(this.unserialize());return rb.createEnum(e,i,n)},unserialize:function(){switch(this.buf.charCodeAt(this.pos++)){case 65:var e=this.unserialize(),i=this.resolver.resolveClass(e);if(null==i)throw new E("Class not found "+e);return i;case 66:if(e=this.unserialize(),null==(i=this.resolver.resolveEnum(e)))throw new E("Enum not found "+e);return i;case 67:if(e=this.unserialize(),null==(i=this.resolver.resolveClass(e)))throw new E("Class not found "+e);if(e=Object.create(i.prototype),this.cache.push(e),e.hxUnserialize(this),103!=this.buf.charCodeAt(this.pos++))throw new E("Invalid custom data");return e;case 77:for(e=new Aa,this.cache.push(e);104!=this.buf.charCodeAt(this.pos);)i=this.unserialize(),e.set(i,this.unserialize());return this.pos++,e;case 82:if(0>(e=this.readDigits())||e>=this.scache.length)throw new E("Invalid string reference");return this.scache[e];case 97:for(this.cache.push(e=[]);;){if(104==(i=this.buf.charCodeAt(this.pos))){this.pos++;break}117==i?(this.pos++,i=this.readDigits(),e[e.length+i-1]=null):e.push(this.unserialize())}return e;case 98:for(e=new va,this.cache.push(e);104!=this.buf.charCodeAt(this.pos);){i=this.unserialize();var s=this.unserialize();null!=t[i]?e.setReserved(i,s):e.h[i]=s}return this.pos++,e;case 99:if(e=this.unserialize(),null==(i=this.resolver.resolveClass(e)))throw new E("Class not found "+e);return e=Object.create(i.prototype),this.cache.push(e),this.unserializeObject(e),e;case 100:return this.readFloat();case 102:return!1;case 105:return this.readDigits();case 106:if(e=this.unserialize(),null==(i=this.resolver.resolveEnum(e)))throw new E("Enum not found "+e);this.pos++,s=this.readDigits();var n=i.__constructs__.slice()[s];if(null==n)throw new E("Unknown enum index "+e+"@"+s);return e=this.unserializeEnum(i,n),this.cache.push(e),e;case 107:return NaN;case 108:for(e=new ib,this.cache.push(e);104!=this.buf.charCodeAt(this.pos);)e.add(this.unserialize());return this.pos++,e;case 109:return-1/0;case 110:return null;case 111:return this.cache.push(e={}),this.unserializeObject(e),e;case 112:return 1/0;case 113:for(e=new Va,this.cache.push(e),i=this.buf.charCodeAt(this.pos++);58==i;)i=this.readDigits(),s=this.unserialize(),e.h[i]=s,i=this.buf.charCodeAt(this.pos++);if(104!=i)throw new E("Invalid IntMap format");return e;case 114:if(0>(e=this.readDigits())||e>=this.cache.length)throw new E("Invalid reference");return this.cache[e];case 115:if(e=this.readDigits(),n=this.buf,58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<e)throw new E("Invalid bytes length");var o=Ue.CODES;null==o&&(o=Ue.initCodes(),Ue.CODES=o);var l=this.pos,_=3&e,h=l+(e-_);for(i=new bb(new ArrayBuffer(3*(e>>2)+(2<=_?_-1:0))),s=0;l<h;){var m=o[n.charCodeAt(l++)],f=o[n.charCodeAt(l++)];i.b[s++]=255&(m<<2|f>>4),m=o[n.charCodeAt(l++)],i.b[s++]=255&(f<<4|m>>2),f=o[n.charCodeAt(l++)],i.b[s++]=255&(m<<6|f)}return 2<=_&&(f=o[n.charCodeAt(l++)],h=o[n.charCodeAt(l++)],i.b[s++]=255&(f<<2|h>>4),3==_&&(n=o[n.charCodeAt(l++)],i.b[s++]=255&(h<<4|n>>2))),this.pos+=e,this.cache.push(i),i;case 116:return!0;case 118:return 48<=this.buf.charCodeAt(this.pos)&&57>=this.buf.charCodeAt(this.pos)&&48<=this.buf.charCodeAt(this.pos+1)&&57>=this.buf.charCodeAt(this.pos+1)&&48<=this.buf.charCodeAt(this.pos+2)&&57>=this.buf.charCodeAt(this.pos+2)&&48<=this.buf.charCodeAt(this.pos+3)&&57>=this.buf.charCodeAt(this.pos+3)&&45==this.buf.charCodeAt(this.pos+4)?(e=B.strDate(B.substr(this.buf,this.pos,19)),this.pos+=19):e=new Date(this.readFloat()),this.cache.push(e),e;case 119:if(e=this.unserialize(),null==(i=this.resolver.resolveEnum(e)))throw new E("Enum not found "+e);return e=this.unserializeEnum(i,this.unserialize()),this.cache.push(e),e;case 120:throw E.wrap(this.unserialize());case 121:if(e=this.readDigits(),58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<e)throw new E("Invalid string length");return i=B.substr(this.buf,this.pos,e),this.pos+=e,i=decodeURIComponent(i.split("+").join(" ")),this.scache.push(i),i;case 122:return 0}throw this.pos--,new E("Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos)},__class__:Ue};var Aj=function(){};k["haxe._Unserializer.NullResolver"]=Aj,Aj.__name__="haxe._Unserializer.NullResolver",Aj.prototype={resolveClass:function(e){return null},resolveEnum:function(e){return null},__class__:Aj};var Bj=function(){this.a1=1,this.a2=0};k["haxe.crypto.Adler32"]=Bj,Bj.__name__="haxe.crypto.Adler32",Bj.read=function(e){var i=new Bj,s=e.readByte(),n=e.readByte(),o=e.readByte();return e=e.readByte(),i.a1=o<<8|e,i.a2=s<<8|n,i},Bj.prototype={a1:null,a2:null,update:function(e,i,s){var n=this.a1,o=this.a2,l=i;for(i+=s;l<i;)s=l++,o=(o+(n=(n+e.b[s])%65521))%65521;this.a1=n,this.a2=o},equals:function(e){return e.a1==this.a1&&e.a2==this.a2},__class__:Bj};var bb=function(e){this.length=e.byteLength,this.b=new Uint8Array(e),this.b.bufferValue=e,e.hxBytes=this,e.bytes=this.b};k["haxe.io.Bytes"]=bb,bb.__name__="haxe.io.Bytes",bb.alloc=function(e){return new bb(new ArrayBuffer(e))},bb.ofString=function(e,i){i=[];for(var s=0;s<e.length;){var n=e.charCodeAt(s++);55296<=n&&56319>=n&&(n=n-55232<<10|1023&e.charCodeAt(s++)),127>=n?i.push(n):(2047>=n?i.push(192|n>>6):(65535>=n?i.push(224|n>>12):(i.push(240|n>>18),i.push(128|n>>12&63)),i.push(128|n>>6&63)),i.push(128|63&n))}return new bb(new Uint8Array(i).buffer)},bb.ofData=function(e){return e.hxBytes??new bb(e)},bb.ofHex=function(e){if(1&e.length)throw new E("Not a hex string (odd number of digits)");for(var i=[],s=0,n=e.length>>1;s<n;){var o=e.charCodeAt(2*s),l=e.charCodeAt(2*s+1);i.push(255&((o=(15&o)+9*((64&o)>>6))<<4|(l=(15&l)+9*((64&l)>>6)))),++s}return new bb(new Uint8Array(i).buffer)},bb.fastGet=function(e,i){return e.bytes[i]},bb.prototype={length:null,b:null,data:null,get:function(e){return this.b[e]},set:function(e,i){this.b[e]=255&i},blit:function(e,i,s,n){if(0>e||0>s||0>n||e+n>this.length||s+n>i.length)throw new E(Li.OutsideBounds);this.b.set(0==s&&n==i.b.byteLength?i.b:i.b.subarray(s,s+n),e)},fill:function(e,i,s){for(var n=0;n<i;)n++,this.b[e++]=255&s},sub:function(e,i){if(0>e||0>i||e+i>this.length)throw new E(Li.OutsideBounds);return new bb(this.b.buffer.slice(e+this.b.byteOffset,e+this.b.byteOffset+i))},compare:function(e){for(var i=this.b,s=e.b,n=0,o=this.length<e.length?this.length:e.length;n<o;){var l=n++;if(i[l]!=s[l])return i[l]-s[l]}return this.length-e.length},initData:function(){null==this.data&&(this.data=new DataView(this.b.buffer,this.b.byteOffset,this.b.byteLength))},getDouble:function(e){return null==this.data&&(this.data=new DataView(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.getFloat64(e,!0)},getFloat:function(e){return null==this.data&&(this.data=new DataView(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.getFloat32(e,!0)},setDouble:function(e,i){null==this.data&&(this.data=new DataView(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.setFloat64(e,i,!0)},setFloat:function(e,i){null==this.data&&(this.data=new DataView(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.setFloat32(e,i,!0)},getUInt16:function(e){return null==this.data&&(this.data=new DataView(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.getUint16(e,!0)},setUInt16:function(e,i){null==this.data&&(this.data=new DataView(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.setUint16(e,i,!0)},getInt32:function(e){return null==this.data&&(this.data=new DataView(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.getInt32(e,!0)},setInt32:function(e,i){null==this.data&&(this.data=new DataView(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.setInt32(e,i,!0)},getInt64:function(e){return new Qb(this.getInt32(e+4),this.getInt32(e))},setInt64:function(e,i){this.setInt32(e,i.low),this.setInt32(e+4,i.high)},getString:function(e,i,s){if(0>e||0>i||e+i>this.length)throw new E(Li.OutsideBounds);s="";var n=this.b,o=ve.fromCharCode,l=e;for(e+=i;l<e;)if(128>(i=n[l++])){if(0==i)break;s+=o(i)}else if(224>i)s+=o((63&i)<<6|127&n[l++]);else if(240>i){var _=n[l++];s+=o((31&i)<<12|(127&_)<<6|127&n[l++])}else s+=o(55232+((i=(15&i)<<18|(127&(_=n[l++]))<<12|(127&n[l++])<<6|127&n[l++])>>10)),s+=o(1023&i|56320);return s},readString:function(e,i){return this.getString(e,i)},toString:function(){return this.getString(0,this.length)},toHex:function(){for(var e="",i=[],s=0;16>s;){var n=s++;i.push(B.cca("0123456789abcdef",n))}for(s=0,n=this.length;s<n;){var o=s++;o=this.b[o],e+=String.fromCodePoint(i[o>>4]),e+=String.fromCodePoint(i[15&o])}return e},getData:function(){return this.b.bufferValue},__class__:bb};var fi=function(){};k["haxe.crypto.Base64"]=fi,fi.__name__="haxe.crypto.Base64",fi.decode=function(e,i){if(null==i&&(i=!0),i)for(;61==B.cca(e,e.length-1);)e=B.substr(e,0,-1);return new Wk(fi.BYTES).decodeBytes(bb.ofString(e))};var Wk=function(e){for(var i=e.length,s=1;i>1<<s;)++s;if(8<s||i!=1<<s)throw new E("BaseCode : base length must be a power of two.");this.base=e,this.nbits=s};k["haxe.crypto.BaseCode"]=Wk,Wk.__name__="haxe.crypto.BaseCode",Wk.prototype={base:null,nbits:null,tbl:null,encodeBytes:function(e){for(var i=this.nbits,s=this.base,n=8*e.length/i|0,o=new bb(new ArrayBuffer(n+(8*e.length%i==0?0:1))),l=0,_=0,h=(1<<i)-1,m=0,f=0;f<n;){for(;_<i;)_+=8,l<<=8,l|=e.b[m++];o.b[f++]=255&s.b[l>>(_-=i)&h]}return 0<_&&(o.b[f++]=255&s.b[l<<i-_&h]),o},initTable:function(){for(var e=[],i=0;256>i;){var s=i++;e[s]=-1}for(i=0,s=this.base.length;i<s;){var n=i++;e[this.base.b[n]]=n}this.tbl=e},decodeBytes:function(e){var i=this.nbits;null==this.tbl&&this.initTable();for(var s=this.tbl,n=e.length*i>>3,o=new bb(new ArrayBuffer(n)),l=0,_=0,h=0,m=0;m<n;){for(;8>_;){_+=i,l<<=i;var f=s[e.b[h++]];if(-1==f)throw new E("BaseCode : invalid encoded char");l|=f}o.b[m++]=l>>(_-=8)&255}return o},__class__:Wk};var Ae=function(){};k["haxe.ds.ArraySort"]=Ae,Ae.__name__="haxe.ds.ArraySort",Ae.sort=function(e,i){Ae.rec(e,i,0,e.length)},Ae.rec=function(e,i,s,n){var o=s+n>>1;if(12>n-s){if(!(n<=s))for(o=s+1;o<n;)for(var l=o++;l>s&&0>i(e[l],e[l-1]);)Ae.swap(e,l-1,l),--l}else Ae.rec(e,i,s,o),Ae.rec(e,i,o,n),Ae.doMerge(e,i,s,o,n,o-s,n-o)},Ae.doMerge=function(e,i,s,n,o,l,_){if(0!=l&&0!=_)if(l+_==2)0>i(e[n],e[s])&&Ae.swap(e,n,s);else{if(l>_)var h=l>>1,m=s+h,f=Ae.lower(e,i,n,o,m),y=f-n;else h=(m=Ae.upper(e,i,s,n,f=n+(y=_>>1)))-s;Ae.rotate(e,i,m,n,f),Ae.doMerge(e,i,s,m,n=m+y,h,y),Ae.doMerge(e,i,n,f,o,l-h,_-y)}},Ae.rotate=function(e,i,s,n,o){if(s!=n&&n!=o)for(i=Ae.gcd(o-s,n-s);0!=i--;){for(var l=e[s+i],_=n-s,h=s+i,m=s+i+_;m!=s+i;)e[h]=e[m],h=m,m=o-m>_?m+_:s+(_-(o-m));e[h]=l}},Ae.gcd=function(e,i){for(;0!=i;){var s=e%i;e=i,i=s}return e},Ae.upper=function(e,i,s,n,o){n-=s;for(var l,_;0<n;)0>i(e[o],e[_=s+(l=n>>1)])?n=l:(s=_+1,n=n-l-1);return s},Ae.lower=function(e,i,s,n,o){n-=s;for(var l,_;0<n;)0>i(e[_=s+(l=n>>1)],e[o])?(s=_+1,n=n-l-1):n=l;return s},Ae.swap=function(e,i,s){var n=e[i];e[i]=e[s],e[s]=n};var bl=function(){};k["haxe.ds.BalancedTree"]=bl,bl.__name__="haxe.ds.BalancedTree",bl.__interfaces__=[Gb],bl.prototype={root:null,set:function(e,i){this.root=this.setLoop(e,i,this.root)},get:function(e){for(var i=this.root;null!=i;){var s=this.compare(e,i.key);if(0==s)return i.value;i=0>s?i.left:i.right}return null},remove:function(e){try{return this.root=this.removeLoop(e,this.root),!0}catch(i){if(ha.lastException=i,"string"==typeof(i instanceof E?i.val:i))return!1;throw i}},exists:function(e){for(var i=this.root;null!=i;){var s=this.compare(e,i.key);if(0==s)return!0;i=0>s?i.left:i.right}return!1},iterator:function(){var e=[];return this.iteratorLoop(this.root,e),B.iter(e)},keyValueIterator:function(){return new rh(this)},keys:function(){var e=[];return this.keysLoop(this.root,e),B.iter(e)},setLoop:function(e,i,s){if(null==s)return new xf(null,e,i,null);var n=this.compare(e,s.key);return 0==n?new xf(s.left,e,i,s.right,null==s?0:s._height):0>n?(e=this.setLoop(e,i,s.left),this.balance(e,s.key,s.value,s.right)):(e=this.setLoop(e,i,s.right),this.balance(s.left,s.key,s.value,e))},removeLoop:function(e,i){if(null==i)throw new E("Not_found");var s=this.compare(e,i.key);return 0==s?this.merge(i.left,i.right):0>s?this.balance(this.removeLoop(e,i.left),i.key,i.value,i.right):this.balance(i.left,i.key,i.value,this.removeLoop(e,i.right))},iteratorLoop:function(e,i){null!=e&&(this.iteratorLoop(e.left,i),i.push(e.value),this.iteratorLoop(e.right,i))},keysLoop:function(e,i){null!=e&&(this.keysLoop(e.left,i),i.push(e.key),this.keysLoop(e.right,i))},merge:function(e,i){if(null==e)return i;if(null==i)return e;var s=this.minBinding(i);return this.balance(e,s.key,s.value,this.removeMinBinding(i))},minBinding:function(e){if(null==e)throw new E("Not_found");return null==e.left?e:this.minBinding(e.left)},removeMinBinding:function(e){return null==e.left?e.right:this.balance(this.removeMinBinding(e.left),e.key,e.value,e.right)},balance:function(e,i,s,n){var o=null==e?0:e._height,l=null==n?0:n._height;return o>l+2?(null==(o=e.left)?0:o._height)>=(null==(l=e.right)?0:l._height)?new xf(e.left,e.key,e.value,new xf(e.right,i,s,n)):new xf(new xf(e.left,e.key,e.value,e.right.left),e.right.key,e.right.value,new xf(e.right.right,i,s,n)):l>o+2?(null==(o=n.right)?0:o._height)>(null==(l=n.left)?0:l._height)?new xf(new xf(e,i,s,n.left),n.key,n.value,n.right):new xf(new xf(e,i,s,n.left.left),n.left.key,n.left.value,new xf(n.left.right,n.key,n.value,n.right)):new xf(e,i,s,n,(o>l?o:l)+1)},compare:function(e,i){return X.compare(e,i)},__class__:bl};var xf=function(e,i,s,n,o){null==o&&(o=-1),this.left=e,this.key=i,this.value=s,this.right=n,-1==o?(e=(null==(e=this.left)?0:e._height)>(null==(i=this.right)?0:i._height)?null==(e=this.left)?0:e._height:null==(e=this.right)?0:e._height,this._height=e+1):this._height=o};k["haxe.ds.TreeNode"]=xf,xf.__name__="haxe.ds.TreeNode",xf.prototype={left:null,right:null,key:null,value:null,_height:null,__class__:xf};var Cj=function(){};k["haxe.ds.EnumValueMap"]=Cj,Cj.__name__="haxe.ds.EnumValueMap",Cj.__interfaces__=[Gb],Cj.__super__=bl,Cj.prototype=x(bl.prototype,{compare:function(e,i){var s=e._hx_index-i._hx_index;return 0!=s?s:(e=rb.enumParameters(e),i=rb.enumParameters(i),0==e.length&&0==i.length?0:this.compareArgs(e,i))},compareArgs:function(e,i){var s=e.length-i.length;if(0!=s)return s;s=0;for(var n=e.length;s<n;){var o=s++;if(0!=(o=this.compareArg(e[o],i[o])))return o}return 0},compareArg:function(e,i){return X.isEnumValue(e)&&X.isEnumValue(i)?this.compare(e,i):e instanceof Array&&i instanceof Array?this.compareArgs(e,i):X.compare(e,i)},__class__:Cj});var rc=function(e,i){this.elt=e,this.next=i};k["haxe.ds.GenericCell"]=rc,rc.__name__="haxe.ds.GenericCell",rc.prototype={elt:null,next:null,__class__:rc};var tq=function(){};k["haxe.ds.GenericStack"]=tq,tq.__name__="haxe.ds.GenericStack",tq.prototype={head:null,__class__:tq};var gm=function(e,i){this.item=e,this.next=i};k["haxe.ds._List.ListNode"]=gm,gm.__name__="haxe.ds._List.ListNode",gm.prototype={item:null,next:null,__class__:gm};var Gp=function(e){this.head=e};k["haxe.ds._List.ListIterator"]=Gp,Gp.__name__="haxe.ds._List.ListIterator",Gp.prototype={head:null,hasNext:function(){return null!=this.head},next:function(){var e=this.head.item;return this.head=this.head.next,e},__class__:Gp};var bf=function(e,i){this.map=e,this.keys=i,this.index=0,this.count=i.length};k["haxe.ds._StringMap.StringMapIterator"]=bf,bf.__name__="haxe.ds._StringMap.StringMapIterator",bf.prototype={map:null,keys:null,index:null,count:null,hasNext:function(){return this.index<this.count},next:function(){var e=this.map,i=this.keys[this.index++];return null!=t[i]?e.getReserved(i):e.h[i]},__class__:bf};var cl=function(){this.size=this.pos=0};k["haxe.io.BytesBuffer"]=cl,cl.__name__="haxe.io.BytesBuffer",cl.prototype={buffer:null,view:null,u8:null,pos:null,size:null,addByte:function(e){this.pos==this.size&&this.grow(1),this.view.setUint8(this.pos++,e)},add:function(e){if(this.pos+e.length>this.size&&this.grow(e.length),0!=this.size){var i=new Uint8Array(e.b.buffer,e.b.byteOffset,e.length);this.u8.set(i,this.pos),this.pos+=e.length}},addBytes:function(e,i,s){if(0>i||0>s||i+s>e.length)throw new E(Li.OutsideBounds);this.pos+s>this.size&&this.grow(s),0!=this.size&&(e=new Uint8Array(e.b.buffer,e.b.byteOffset+i,s),this.u8.set(e,this.pos),this.pos+=s)},grow:function(e){var i=this.pos+e;for(e=0==this.size?16:this.size;e<i;)e=3*e>>1;i=new ArrayBuffer(e);var s=new Uint8Array(i);0<this.size&&s.set(this.u8),this.size=e,this.buffer=i,this.u8=s,this.view=new DataView(this.buffer)},getBytes:function(){if(0==this.size)return new bb(new ArrayBuffer(0));var e=new bb(this.buffer);return e.length=this.pos,e},__class__:cl};var Yn=function(){};k["haxe.io.Input"]=Yn,Yn.__name__="haxe.io.Input",Yn.prototype={bigEndian:null,readByte:function(){throw new E("Not implemented")},readBytes:function(e,i,s){var n=s,o=e.b;if(0>i||0>s||i+s>e.length)throw new E(Li.OutsideBounds);try{for(;0<n;)o[i]=this.readByte(),++i,--n}catch(l){if(ha.lastException=l,!((l instanceof E?l.val:l)instanceof dl))throw l}return s-n},readFullBytes:function(e,i,s){for(;0<s;){var n=this.readBytes(e,i,s);if(0==n)throw new E(Li.Blocked);i+=n,s-=n}},read:function(e){for(var i=new bb(new ArrayBuffer(e)),s=0;0<e;){var n=this.readBytes(i,s,e);if(0==n)throw new E(Li.Blocked);s+=n,e-=n}return i},readInt16:function(){var e=this.readByte(),i=this.readByte();return 32768&(e=this.bigEndian?i|e<<8:e|i<<8)?e-65536:e},readUInt16:function(){var e=this.readByte(),i=this.readByte();return this.bigEndian?i|e<<8:e|i<<8},readInt32:function(){var e=this.readByte(),i=this.readByte(),s=this.readByte(),n=this.readByte();return this.bigEndian?n|s<<8|i<<16|e<<24:e|i<<8|s<<16|n<<24},readString:function(e,i){var s=new bb(new ArrayBuffer(e));return this.readFullBytes(s,0,e),s.getString(0,e,i)},__class__:Yn};var Mi=function(e,i,s){if(null==i&&(i=0),null==s&&(s=e.length-i),0>i||0>s||i+s>e.length)throw new E(Li.OutsideBounds);this.b=e.b,this.pos=i,this.totlen=this.len=s};k["haxe.io.BytesInput"]=Mi,Mi.__name__="haxe.io.BytesInput",Mi.__super__=Yn,Mi.prototype=x(Yn.prototype,{b:null,pos:null,len:null,totlen:null,readByte:function(){if(0==this.len)throw new E(new dl);return this.len--,this.b[this.pos++]},readBytes:function(e,i,s){if(0>i||0>s||i+s>e.length)throw new E(Li.OutsideBounds);if(0==this.len&&0<s)throw new E(new dl);this.len<s&&(s=this.len);var n=this.b;e=e.b;for(var o=0,l=s;o<l;){var _=o++;e[i+_]=n[this.pos+_]}return this.pos+=s,this.len-=s,s},__class__:Mi});var bs=function(){};k["haxe.io.Output"]=bs,bs.__name__="haxe.io.Output";var Zn=function(){this.b=new cl};k["haxe.io.BytesOutput"]=Zn,Zn.__name__="haxe.io.BytesOutput",Zn.__super__=bs,Zn.prototype=x(bs.prototype,{b:null,writeByte:function(e){this.b.addByte(e)},getBytes:function(){return this.b.getBytes()},__class__:Zn}),C["haxe.io.Encoding"]={__ename__:"haxe.io.Encoding",__constructs__:["UTF8","RawNative"],UTF8:{_hx_index:0,__enum__:"haxe.io.Encoding",toString:v},RawNative:{_hx_index:1,__enum__:"haxe.io.Encoding",toString:v}};var dl=function(){};k["haxe.io.Eof"]=dl,dl.__name__="haxe.io.Eof",dl.prototype={toString:function(){return"Eof"},__class__:dl};var Li=C["haxe.io.Error"]={__ename__:"haxe.io.Error",__constructs__:["Blocked","Overflow","OutsideBounds","Custom"],Blocked:{_hx_index:0,__enum__:"haxe.io.Error",toString:v},Overflow:{_hx_index:1,__enum__:"haxe.io.Error",toString:v},OutsideBounds:{_hx_index:2,__enum__:"haxe.io.Error",toString:v},Custom:(w=function(e){return{_hx_index:3,e,__enum__:"haxe.io.Error",toString:v}},w.__params__=["e"],w)},re=function(){};k["haxe.io.FPHelper"]=re,re.__name__="haxe.io.FPHelper",re.i32ToFloat=function(e){return re.helper.setInt32(0,e,!0),re.helper.getFloat32(0,!0)},re.floatToI32=function(e){return re.helper.setFloat32(0,e,!0),re.helper.getInt32(0,!0)},re.i64ToDouble=function(e,i){return re.helper.setInt32(0,e,!0),re.helper.setInt32(4,i,!0),re.helper.getFloat64(0,!0)},re.doubleToI64=function(e){var i=re.i64tmp;return re.helper.setFloat64(0,e,!0),i.low=re.helper.getInt32(0,!0),i.high=re.helper.getInt32(4,!0),i};var gi=function(e){switch(e){case".":case"..":return this.dir=e,void(this.file="")}var i=e.lastIndexOf("/"),s=e.lastIndexOf("\\");i<s?(this.dir=B.substr(e,0,s),e=B.substr(e,s+1,null),this.backslash=!0):s<i?(this.dir=B.substr(e,0,i),e=B.substr(e,i+1,null)):this.dir=null,-1!=(i=e.lastIndexOf("."))?(this.ext=B.substr(e,i+1,null),this.file=B.substr(e,0,i)):(this.ext=null,this.file=e)};k["haxe.io.Path"]=gi,gi.__name__="haxe.io.Path",gi.directory=function(e){return null==(e=new gi(e)).dir?"":e.dir},gi.prototype={dir:null,file:null,ext:null,backslash:null,__class__:gi};var $n=function(e){Mi.call(this,bb.ofString(e))};k["haxe.io.StringInput"]=$n,$n.__name__="haxe.io.StringInput",$n.__super__=Mi,$n.prototype=x(Mi.prototype,{__class__:$n});var rh=function(e){this.map=e,this.keys=e.keys()};k["haxe.iterators.MapKeyValueIterator"]=rh,rh.__name__="haxe.iterators.MapKeyValueIterator",rh.prototype={map:null,keys:null,hasNext:function(){return this.keys.hasNext()},next:function(){var e=this.keys.next();return{value:this.map.get(e),key:e}},__class__:rh};var hq={};k["haxe.xml._Access.NodeAccess_Impl_"]=hq,hq.__name__="haxe.xml._Access.NodeAccess_Impl_",hq.resolve=function(e,i){var s=e.elementsNamed(i).next();if(null==s){if(e.nodeType==ka.Document)e="Document";else{if(e.nodeType!=ka.Element)throw new E("Bad node type, expected Element but found "+ea.toString(e.nodeType));e=e.nodeName}throw new E(e+" is missing element "+i)}if(s.nodeType!=ka.Document&&s.nodeType!=ka.Element)throw new E("Invalid nodeType "+ea.toString(s.nodeType));return s};var $r={};k["haxe.xml._Access.HasNodeAccess_Impl_"]=$r,$r.__name__="haxe.xml._Access.HasNodeAccess_Impl_",$r.resolve=function(e,i){return e.elementsNamed(i).hasNext()};var Xm={};k["haxe.xml._Access.Access_Impl_"]=Xm,Xm.__name__="haxe.xml._Access.Access_Impl_",Xm.__properties__={get_innerData:"get_innerData"},Xm.get_innerData=function(e){if(e.nodeType!=ka.Document&&e.nodeType!=ka.Element)throw new E("Bad node type, expected Element or Document but found "+ea.toString(e.nodeType));var i=B.iter(e.children);if(!i.hasNext()){if(e.nodeType==ka.Document)e="Document";else{if(e.nodeType!=ka.Element)throw new E("Bad node type, expected Element but found "+ea.toString(e.nodeType));e=e.nodeName}throw new E(e+" does not have data")}var s=i.next();if(i.hasNext()){var n=i.next();if(s.nodeType==ka.PCData&&n.nodeType==ka.CData){if(s.nodeType==ka.Document||s.nodeType==ka.Element)throw new E("Bad node type, unexpected "+ea.toString(s.nodeType));s=""==aa.trim(s.nodeValue)}else s=!1;if(s){if(!i.hasNext()){if(n.nodeType==ka.Document||n.nodeType==ka.Element)throw new E("Bad node type, unexpected "+ea.toString(n.nodeType));return n.nodeValue}if((s=i.next()).nodeType==ka.PCData){if(s.nodeType==ka.Document||s.nodeType==ka.Element)throw new E("Bad node type, unexpected "+ea.toString(s.nodeType));s=""==aa.trim(s.nodeValue)}else s=!1;if(s&&!i.hasNext()){if(n.nodeType==ka.Document||n.nodeType==ka.Element)throw new E("Bad node type, unexpected "+ea.toString(n.nodeType));return n.nodeValue}}if(e.nodeType==ka.Document)e="Document";else{if(e.nodeType!=ka.Element)throw new E("Bad node type, expected Element but found "+ea.toString(e.nodeType));e=e.nodeName}throw new E(e+" does not only have data")}if(s.nodeType!=ka.PCData&&s.nodeType!=ka.CData){if(e.nodeType==ka.Document)e="Document";else{if(e.nodeType!=ka.Element)throw new E("Bad node type, expected Element but found "+ea.toString(e.nodeType));e=e.nodeName}throw new E(e+" does not have data")}if(s.nodeType==ka.Document||s.nodeType==ka.Element)throw new E("Bad node type, unexpected "+ea.toString(s.nodeType));return s.nodeValue};var Be=function(e,i,s){for(this.xml=i,this.message=e,this.position=s,this.lineNumber=1,e=this.positionAtLine=0;e<s;){var n=e++;10==(n=i.charCodeAt(n))?(this.lineNumber++,this.positionAtLine=0):13!=n&&this.positionAtLine++}};k["haxe.xml.XmlParserException"]=Be,Be.__name__="haxe.xml.XmlParserException",Be.prototype={message:null,lineNumber:null,positionAtLine:null,position:null,xml:null,toString:function(){return T.getClass(this).__name__+": "+this.message+" at line "+this.lineNumber+" char "+this.positionAtLine},__class__:Be};var Ph=function(){};k["haxe.xml.Parser"]=Ph,Ph.__name__="haxe.xml.Parser",Ph.parse=function(e,i){null==i&&(i=!1);var s=ka.createDocument();return Ph.doParse(e,i,0,s),s},Ph.doParse=function(e,i,s,n){null==s&&(s=0);for(var o=null,l=1,_=1,h=null,m=0,f=0,y=0,g=e.charCodeAt(s),j=new $c,$=1,yt=-1;g==g;){switch(l){case 0:switch(g){case 9:case 10:case 13:case 32:break;default:l=_;continue}break;case 1:if(60!=g){m=s,l=13;continue}l=0,_=2;break;case 2:switch(g){case 33:if(91==e.charCodeAt(s+1)){if("CDATA["!=B.substr(e,s+=2,6).toUpperCase())throw new E(new Be("Expected <![CDATA[",e,s));s+=5,l=17}else if(68==e.charCodeAt(s+1)||100==e.charCodeAt(s+1)){if("OCTYPE"!=B.substr(e,s+2,6).toUpperCase())throw new E(new Be("Expected <!DOCTYPE",e,s));s+=8,l=16}else{if(45!=e.charCodeAt(s+1)||45!=e.charCodeAt(s+2))throw new E(new Be("Expected \x3c!--",e,s));s+=2,l=15}m=s+1;break;case 47:if(null==n)throw new E(new Be("Expected node name",e,s));m=s+1,l=0,_=10;break;case 63:l=14,m=s;break;default:l=3,m=s;continue}break;case 3:if(!(97<=g&&122>=g||65<=g&&90>=g||48<=g&&57>=g||58==g||46==g||95==g||45==g)){if(s==m)throw new E(new Be("Expected node name",e,s));o=ka.createElement(B.substr(e,m,s-m)),n.addChild(o),++f,l=0,_=4;continue}break;case 4:switch(g){case 47:l=11;break;case 62:l=9;break;default:l=5,m=s;continue}break;case 5:if(!(97<=g&&122>=g||65<=g&&90>=g||48<=g&&57>=g||58==g||46==g||95==g||45==g)){if(m==s)throw new E(new Be("Expected attribute name",e,s));if(h=B.substr(e,m,s-m),o.exists(h))throw new E(new Be("Duplicate attribute ["+h+"]",e,s));l=0,_=6;continue}break;case 6:if(61!=g)throw new E(new Be("Expected =",e,s));l=0,_=7;break;case 7:switch(g){case 34:case 39:j=new $c,l=8,m=s+1,yt=g;break;default:throw new E(new Be('Expected "',e,s))}break;case 8:switch(g){case 38:j.b+=B.substr(e,m,null==($=s-m)?null:$),l=18,$=8,m=s+1;break;case 60:case 62:if(i)throw new E(new Be("Invalid unescaped "+String.fromCodePoint(g)+" in attribute value",e,s));g==yt&&(j.b+=B.substr(e,m,null==(_=s-m)?null:_),_=j.b,j=new $c,o.set(h,_),l=0,_=4);break;default:g==yt&&(j.b+=B.substr(e,m,null==(_=s-m)?null:_),_=j.b,j=new $c,o.set(h,_),l=0,_=4)}break;case 9:m=s=Ph.doParse(e,i,s,o),l=1;break;case 10:if(!(97<=g&&122>=g||65<=g&&90>=g||48<=g&&57>=g||58==g||46==g||95==g||45==g)){if(m==s)throw new E(new Be("Expected node name",e,s));if(_=B.substr(e,m,s-m),null==n||0!=n.nodeType)throw new E(new Be("Unexpected </"+_+">, tag is not open",e,s));if(n.nodeType!=ka.Element)throw new E("Bad node type, expected Element but found "+ea.toString(n.nodeType));if(_!=n.nodeName)throw new E(n.nodeType!=ka.Element?"Bad node type, expected Element but found "+ea.toString(n.nodeType):new Be("Expected </"+n.nodeName+">",e,s));l=0,_=12;continue}break;case 11:if(62!=g)throw new E(new Be("Expected >",e,s));l=1;break;case 12:if(62==g)return 0==f&&n.addChild(ka.createPCData("")),s;throw new E(new Be("Expected >",e,s));case 13:60==g?(j.b+=B.substr(e,m,null==(_=s-m)?null:_),_=ka.createPCData(j.b),j=new $c,n.addChild(_),++f,l=0,_=2):38==g&&(j.b+=B.substr(e,m,null==($=s-m)?null:$),l=18,$=13,m=s+1);break;case 14:63==g&&62==e.charCodeAt(s+1)&&(++s,g=B.substr(e,m+1,s-m-2),n.addChild(ka.createProcessingInstruction(g)),++f,l=1);break;case 15:45==g&&45==e.charCodeAt(s+1)&&62==e.charCodeAt(s+2)&&(n.addChild(ka.createComment(B.substr(e,m,s-m))),++f,s+=2,l=1);break;case 16:91==g?++y:93==g?--y:62==g&&0==y&&(n.addChild(ka.createDocType(B.substr(e,m,s-m))),++f,l=1);break;case 17:93==g&&93==e.charCodeAt(s+1)&&62==e.charCodeAt(s+2)&&(g=ka.createCData(B.substr(e,m,s-m)),n.addChild(g),++f,s+=2,l=1);break;case 18:if(59==g){if(35==(m=B.substr(e,m,s-m)).charCodeAt(0))m=120==m.charCodeAt(1)?O.parseInt("0"+B.substr(m,1,m.length-1)):O.parseInt(B.substr(m,1,m.length-1)),j.b+=String.fromCodePoint(m);else if(g=Ph.escapes,null!=t[m]?g.existsReserved(m):g.h.hasOwnProperty(m))g=Ph.escapes,m=null!=t[m]?g.getReserved(m):g.h[m],j.b+=O.string(m);else{if(i)throw new E(new Be("Undefined entity: "+m,e,s));j.b+=O.string("&"+m+";")}m=s+1,l=$}else if(!(97<=g&&122>=g||65<=g&&90>=g||48<=g&&57>=g||58==g||46==g||95==g||45==g)&&35!=g){if(i)throw new E(new Be("Invalid character in entity: "+String.fromCodePoint(g),e,s));j.b+=String.fromCodePoint(38),j.b+=B.substr(e,m,null==(g=s-m)?null:g),m=1+--s,l=$}}g=e.charCodeAt(++s)}if(1==l&&(m=s,l=13),13==l){if(0==n.nodeType)throw new E(n.nodeType!=ka.Element?"Bad node type, expected Element but found "+ea.toString(n.nodeType):new Be("Unclosed node <"+n.nodeName+">",e,s));return(s!=m||0==f)&&(j.b+=B.substr(e,m,null==(i=s-m)?null:i),n.addChild(ka.createPCData(j.b))),s}if(!i&&18==l&&13==$)return j.b+=String.fromCodePoint(38),j.b+=B.substr(e,m,null==(i=s-m)?null:i),n.addChild(ka.createPCData(j.b)),s;throw new E(new Be("Unexpected end",e,s))};var Gk=function(e){this.output=new $c,this.pretty=e};k["haxe.xml.Printer"]=Gk,Gk.__name__="haxe.xml.Printer",Gk.print=function(e,i){return null==i&&(i=!1),(i=new Gk(i)).writeNode(e,""),i.output.b},Gk.prototype={output:null,pretty:null,writeNode:function(e,i){switch(e.nodeType){case 0:if(this.output.b+=O.string(i+"<"),e.nodeType!=ka.Element)throw new E("Bad node type, expected Element but found "+ea.toString(e.nodeType));this.output.b+=O.string(e.nodeName);for(var s=e.attributes();s.hasNext();){var n=s.next();this.output.b+=O.string(" "+n+'="'),n=aa.htmlEscape(e.get(n),!0),this.output.b+=O.string(n),this.output.b+='"'}if(this.hasChildren(e)){if(this.output.b+=">",this.pretty&&(this.output.b+="\n"),e.nodeType!=ka.Document&&e.nodeType!=ka.Element)throw new E("Bad node type, expected Element or Document but found "+ea.toString(e.nodeType));for(s=B.iter(e.children);s.hasNext();)n=s.next(),this.writeNode(n,this.pretty?i+"\t":i);if(this.output.b+=O.string(i+"</"),e.nodeType!=ka.Element)throw new E("Bad node type, expected Element but found "+ea.toString(e.nodeType));this.output.b+=O.string(e.nodeName),this.output.b+=">"}else this.output.b+="/>";this.pretty&&(this.output.b+="\n");break;case 1:if(e.nodeType==ka.Document||e.nodeType==ka.Element)throw new E("Bad node type, unexpected "+ea.toString(e.nodeType));0!=(e=e.nodeValue).length&&(i+=aa.htmlEscape(e),this.output.b+=O.string(i),this.pretty&&(this.output.b+="\n"));break;case 2:if(this.output.b+=O.string(i+"<![CDATA["),e.nodeType==ka.Document||e.nodeType==ka.Element)throw new E("Bad node type, unexpected "+ea.toString(e.nodeType));this.output.b+=O.string(e.nodeValue),this.output.b+="]]>",this.pretty&&(this.output.b+="\n");break;case 3:if(e.nodeType==ka.Document||e.nodeType==ka.Element)throw new E("Bad node type, unexpected "+ea.toString(e.nodeType));e=(e=e.nodeValue).replace(/[\n\r\t]+/g,""),this.output.b+=null==i?"null":""+i,i=aa.trim("\x3c!--"+e+"--\x3e"),this.output.b+=O.string(i),this.pretty&&(this.output.b+="\n");break;case 4:if(e.nodeType==ka.Document||e.nodeType==ka.Element)throw new E("Bad node type, unexpected "+ea.toString(e.nodeType));this.output.b+=O.string("<!DOCTYPE "+e.nodeValue+">"),this.pretty&&(this.output.b+="\n");break;case 5:if(e.nodeType==ka.Document||e.nodeType==ka.Element)throw new E("Bad node type, unexpected "+ea.toString(e.nodeType));this.output.b+=O.string("<?"+e.nodeValue+"?>"),this.pretty&&(this.output.b+="\n");break;case 6:if(e.nodeType!=ka.Document&&e.nodeType!=ka.Element)throw new E("Bad node type, expected Element or Document but found "+ea.toString(e.nodeType));for(e=B.iter(e.children);e.hasNext();)s=e.next(),this.writeNode(s,i)}},hasChildren:function(e){if(e.nodeType!=ka.Document&&e.nodeType!=ka.Element)throw new E("Bad node type, expected Element or Document but found "+ea.toString(e.nodeType));for(e=B.iter(e.children);e.hasNext();){var i=e.next();switch(i.nodeType){case 0:case 1:return!0;case 2:case 3:if(i.nodeType==ka.Document||i.nodeType==ka.Element)throw new E("Bad node type, unexpected "+ea.toString(i.nodeType));if(0!=aa.ltrim(i.nodeValue).length)return!0}}return!1},__class__:Gk};var cs=C["haxe.zip.ExtraField"]={__ename__:"haxe.zip.ExtraField",__constructs__:["FUnknown","FInfoZipUnicodePath","FUtf8"],FUnknown:(w=function(e,i){return{_hx_index:0,tag:e,bytes:i,__enum__:"haxe.zip.ExtraField",toString:v}},w.__params__=["tag","bytes"],w),FInfoZipUnicodePath:(w=function(e,i){return{_hx_index:1,name:e,crc:i,__enum__:"haxe.zip.ExtraField",toString:v}},w.__params__=["name","crc"],w),FUtf8:{_hx_index:2,__enum__:"haxe.zip.ExtraField",toString:v}},ao=C["haxe.zip.Huffman"]={__ename__:"haxe.zip.Huffman",__constructs__:["Found","NeedBit","NeedBits"],Found:(w=function(e){return{_hx_index:0,i:e,__enum__:"haxe.zip.Huffman",toString:v}},w.__params__=["i"],w),NeedBit:(w=function(e,i){return{_hx_index:1,left:e,right:i,__enum__:"haxe.zip.Huffman",toString:v}},w.__params__=["left","right"],w),NeedBits:(w=function(e,i){return{_hx_index:2,n:e,table:i,__enum__:"haxe.zip.Huffman",toString:v}},w.__params__=["n","table"],w)},uq=function(){};k["haxe.zip.HuffTools"]=uq,uq.__name__="haxe.zip.HuffTools",uq.prototype={treeDepth:function(e){switch(e._hx_index){case 0:return 0;case 1:var i=e.right;return 1+((e=this.treeDepth(e.left))<(i=this.treeDepth(i))?e:i);case 2:throw new E("assert")}},treeCompress:function(e){var i=this.treeDepth(e);if(0==i)return e;if(1==i){if(1==e._hx_index)return i=e.right,ao.NeedBit(this.treeCompress(e.left),this.treeCompress(i));throw new E("assert")}for(var s=[],n=0,o=1<<i;n<o;)n++,s.push(ao.Found(-1));return this.treeWalk(s,0,0,i,e),ao.NeedBits(i,s)},treeWalk:function(e,i,s,n,o){if(1==o._hx_index){var l=o.right;0<n?(this.treeWalk(e,i,s+1,n-1,o.left),this.treeWalk(e,i|1<<s,s+1,n-1,l)):e[i]=this.treeCompress(o)}else e[i]=this.treeCompress(o)},treeMake:function(e,i,s,n){if(n>i)throw new E("Invalid huffman");var o=s<<5|n;return e.h.hasOwnProperty(o)?ao.Found(e.h[o]):(++n,ao.NeedBit(this.treeMake(e,i,s<<=1,n),this.treeMake(e,i,1|s,n)))},make:function(e,i,s,n){var o=[],l=[];if(32<n)throw new E("Invalid huffman");for(var _=0;_<n;)_++,o.push(0),l.push(0);for(_=0;_<s;){var h=_++;if((h=e[h+i])>=n)throw new E("Invalid huffman");o[h]++}_=0,h=1;for(var m=n-1;h<m;){var f=h++;l[f]=_=_+o[f]<<1}for(o=new Va,_=0;_<s;)0!=(m=e[(h=_++)+i])&&(l[m-1]=(f=l[m-1])+1,o.h[f<<5|m]=h);return this.treeCompress(ao.NeedBit(this.treeMake(o,n,0,1),this.treeMake(o,n,1,1)))},__class__:uq};var vq=function(e){this.buffer=new bb(new ArrayBuffer(65536)),this.pos=0,e&&(this.crc=new Bj)};k["haxe.zip._InflateImpl.Window"]=vq,vq.__name__="haxe.zip._InflateImpl.Window",vq.prototype={buffer:null,pos:null,crc:null,slide:function(){null!=this.crc&&this.crc.update(this.buffer,0,32768);var e=new bb(new ArrayBuffer(65536));this.pos-=32768,e.blit(0,this.buffer,32768,this.pos),this.buffer=e},addBytes:function(e,i,s){65536<this.pos+s&&this.slide(),this.buffer.blit(this.pos,e,i,s),this.pos+=s},addByte:function(e){65536==this.pos&&this.slide(),this.buffer.b[this.pos]=255&e,this.pos++},getLastChar:function(){return this.buffer.b[this.pos-1]},available:function(){return this.pos},checksum:function(){return null!=this.crc&&this.crc.update(this.buffer,0,this.pos),this.crc},__class__:vq};var Hf=C["haxe.zip._InflateImpl.State"]={__ename__:"haxe.zip._InflateImpl.State",__constructs__:"Head Block CData Flat Crc Dist DistOne Done".split(" "),Head:{_hx_index:0,__enum__:"haxe.zip._InflateImpl.State",toString:v},Block:{_hx_index:1,__enum__:"haxe.zip._InflateImpl.State",toString:v},CData:{_hx_index:2,__enum__:"haxe.zip._InflateImpl.State",toString:v},Flat:{_hx_index:3,__enum__:"haxe.zip._InflateImpl.State",toString:v},Crc:{_hx_index:4,__enum__:"haxe.zip._InflateImpl.State",toString:v},Dist:{_hx_index:5,__enum__:"haxe.zip._InflateImpl.State",toString:v},DistOne:{_hx_index:6,__enum__:"haxe.zip._InflateImpl.State",toString:v},Done:{_hx_index:7,__enum__:"haxe.zip._InflateImpl.State",toString:v}},Ve=function(e,i,s){null==s&&(s=!0),null==i&&(i=!0),this.isFinal=!1,this.htools=new uq,this.huffman=this.buildFixedHuffman(),this.huffdist=null,this.dist=this.len=0,this.state=i?Hf.Head:Hf.Block,this.input=e,this.needed=this.nbits=this.bits=0,this.output=null,this.outpos=0,this.lengths=[],this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.window=new vq(s)};k["haxe.zip.InflateImpl"]=Ve,Ve.__name__="haxe.zip.InflateImpl",Ve.prototype={nbits:null,bits:null,state:null,isFinal:null,huffman:null,huffdist:null,htools:null,len:null,dist:null,needed:null,output:null,outpos:null,input:null,lengths:null,window:null,buildFixedHuffman:function(){if(null!=Ve.FIXED_HUFFMAN)return Ve.FIXED_HUFFMAN;for(var e=[],i=0;288>i;){var s=i++;e.push(143>=s?8:255>=s?9:279>=s?7:8)}return Ve.FIXED_HUFFMAN=this.htools.make(e,0,288,10),Ve.FIXED_HUFFMAN},readBytes:function(e,i,s){if(this.needed=s,this.outpos=i,this.output=e,0<s)for(;this.inflateLoop(););return s-this.needed},getBits:function(e){for(;this.nbits<e;)this.bits|=this.input.readByte()<<this.nbits,this.nbits+=8;var i=this.bits&(1<<e)-1;return this.nbits-=e,this.bits>>=e,i},getBit:function(){0==this.nbits&&(this.nbits=8,this.bits=this.input.readByte());var e=1==(1&this.bits);return this.nbits--,this.bits>>=1,e},getRevBits:function(e){return 0==e?0:this.getBit()?1<<e-1|this.getRevBits(e-1):this.getRevBits(e-1)},resetBits:function(){this.nbits=this.bits=0},addBytes:function(e,i,s){this.window.addBytes(e,i,s),this.output.blit(this.outpos,e,i,s),this.needed-=s,this.outpos+=s},addByte:function(e){this.window.addByte(e),this.output.b[this.outpos]=255&e,this.needed--,this.outpos++},addDistOne:function(e){for(var i=this.window.getLastChar(),s=0;s<e;)s++,this.addByte(i)},addDist:function(e,i){this.addBytes(this.window.buffer,this.window.pos-e,i)},applyHuffman:function(e){switch(e._hx_index){case 0:return e.i;case 1:var i=e.right;return e=e.left,this.applyHuffman(this.getBit()?i:e);case 2:return this.applyHuffman(e.table[this.getBits(e.n)])}},inflateLengths:function(e,i){for(var s=0,n=0;s<i;){var o=this.applyHuffman(this.huffman);switch(o){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:n=o,e[s]=o,++s;break;case 16:if((o=s+3+this.getBits(2))>i)throw new E("Invalid data");for(;s<o;)e[s]=n,++s;break;case 17:if((s+=3+this.getBits(3))>i)throw new E("Invalid data");break;case 18:if((s+=11+this.getBits(7))>i)throw new E("Invalid data");break;default:throw new E("Invalid data")}}},inflateLoop:function(){switch(this.state._hx_index){case 0:var e=this.input.readByte();if(8!=(15&e))throw new E("Invalid data");var i=this.input.readByte(),s=0!=(32&i);if(((e<<8)+i)%31!=0)throw new E("Invalid data");if(s)throw new E("Unsupported dictionary");return this.state=Hf.Block,!0;case 1:switch(this.isFinal=this.getBit(),this.getBits(2)){case 0:if(this.len=this.input.readUInt16(),this.input.readUInt16()!=65535-this.len)throw new E("Invalid data");return this.state=Hf.Flat,e=this.inflateLoop(),this.resetBits(),e;case 1:return this.huffman=this.buildFixedHuffman(),this.huffdist=null,this.state=Hf.CData,!0;case 2:e=this.getBits(5)+257,i=this.getBits(5)+1,s=this.getBits(4)+4;for(var n=0;n<s;){var o=n++;this.lengths[Ve.CODE_LENGTHS_POS[o]]=this.getBits(3)}for(;19>s;)n=s++,this.lengths[Ve.CODE_LENGTHS_POS[n]]=0;for(this.huffman=this.htools.make(this.lengths,0,19,8),s=[],n=0,o=e+i;n<o;)n++,s.push(0);return this.inflateLengths(s,e+i),this.huffdist=this.htools.make(s,e,i,16),this.huffman=this.htools.make(s,0,e,16),this.state=Hf.CData,!0;default:throw new E("Invalid data")}case 2:if(256>(i=this.applyHuffman(this.huffman)))return this.addByte(i),0<this.needed;if(256==i)this.state=this.isFinal?Hf.Crc:Hf.Block;else{if(-1==(e=Ve.LEN_EXTRA_BITS_TBL[i-=257]))throw new E("Invalid data");if(this.len=Ve.LEN_BASE_VAL_TBL[i]+this.getBits(e),i=null==this.huffdist?this.getRevBits(5):this.applyHuffman(this.huffdist),-1==(e=Ve.DIST_EXTRA_BITS_TBL[i]))throw new E("Invalid data");if(this.dist=Ve.DIST_BASE_VAL_TBL[i]+this.getBits(e),this.dist>this.window.available())throw new E("Invalid data");this.state=1==this.dist?Hf.DistOne:Hf.Dist}return!0;case 3:return i=this.input.read(e=this.len<this.needed?this.len:this.needed),this.len-=e,this.addBytes(i,0,e),0==this.len&&(this.state=this.isFinal?Hf.Crc:Hf.Block),0<this.needed;case 4:if(null==(e=this.window.checksum()))return this.state=Hf.Done,!0;if(i=Bj.read(this.input),!e.equals(i))throw new E("Invalid CRC");return this.state=Hf.Done,!0;case 5:for(;0<this.len&&0<this.needed;)this.addDist(this.dist,e=this.needed<(e=this.len<this.dist?this.len:this.dist)?this.needed:e),this.len-=e;return 0==this.len&&(this.state=Hf.CData),0<this.needed;case 6:return this.addDistOne(e=this.len<this.needed?this.len:this.needed),this.len-=e,0==this.len&&(this.state=Hf.CData),0<this.needed;case 7:return!1}},__class__:Ve};var Dj=function(e){this.i=e};k["haxe.zip.Reader"]=Dj,Dj.__name__="haxe.zip.Reader",Dj.readZip=function(e){return new Dj(e).read()},Dj.unzip=function(e){if(!e.compressed)return e.data;throw new E("No uncompress support")},Dj.prototype={i:null,readZipDate:function(){var e=this.i.readUInt16(),i=e>>11&31,s=e>>5&63;e&=31;var n=this.i.readUInt16();return new Date(1980+(n>>9),(n>>5&15)-1,31&n,i,s,e<<1)},readExtraFields:function(e){for(var i=new ib;0<e;){if(4>e)throw new E("Invalid extra fields data");var s=this.i.readUInt16(),n=this.i.readUInt16();if(e<n)throw new E("Invalid extra fields data");if(28789==s){var o=this.i.readByte();if(1!=o){var l=new cl;l.addByte(o),l.add(this.i.read(n-1)),i.add(cs.FUnknown(s,l.getBytes()))}else s=this.i.readInt32(),o=this.i.read(n-5).toString(),i.add(cs.FInfoZipUnicodePath(o,s))}else i.add(cs.FUnknown(s,this.i.read(n)));e-=4+n}return i},readEntryHeader:function(){var e=this.i,i=e.readInt32();if(33639248==i||101010256==i)return null;if(67324752!=i)throw new E("Invalid Zip Data");e.readUInt16();var s=0!=(2048&(i=e.readUInt16())),n=e.readUInt16(),o=0!=n;if(o&&8!=n)throw new E("Unsupported compression "+n);n=this.readZipDate();var l=e.readInt32(),_=e.readInt32(),h=e.readInt32(),m=e.readInt16(),f=e.readInt16();return e=e.readString(m),f=this.readExtraFields(f),s&&f.push(cs.FUtf8),8&i&&(_=-1),{fileName:e,fileSize:h,fileTime:n,compressed:o,dataSize:_,data:null,crc32:l,extraFields:f}},read:function(){for(var e=new ib,i=null;;){var s=this.readEntryHeader();if(null==s)break;if(0>s.dataSize){null==i&&(i=new bb(new ArrayBuffer(65536)));for(var n=new cl,o=new Ve(this.i,!1,!1);;){var l=o.readBytes(i,0,65536);if(n.addBytes(i,0,l),65536>l)break}s.data=n.getBytes(),s.crc32=this.i.readInt32(),134695760==s.crc32&&(s.crc32=this.i.readInt32()),s.dataSize=this.i.readInt32(),s.fileSize=this.i.readInt32(),s.dataSize=s.fileSize,s.compressed=!1}else s.data=this.i.read(s.dataSize);e.add(s)}return e},__class__:Dj};var Ni=C["hscript.Const"]={__ename__:"hscript.Const",__constructs__:["CInt","CFloat","CString"],CInt:(w=function(e){return{_hx_index:0,v:e,__enum__:"hscript.Const",toString:v}},w.__params__=["v"],w),CFloat:(w=function(e){return{_hx_index:1,f:e,__enum__:"hscript.Const",toString:v}},w.__params__=["f"],w),CString:(w=function(e){return{_hx_index:2,s:e,__enum__:"hscript.Const",toString:v}},w.__params__=["s"],w)},tb=C["hscript.Expr"]={__ename__:"hscript.Expr",__constructs__:"EConst EIdent EVar EParent EBlock EField EBinop EUnop ECall EIf EWhile EFor EBreak EContinue EFunction EReturn EArray EArrayDecl ENew EThrow ETry EObject ETernary ESwitch EDoWhile EMeta".split(" "),EConst:(w=function(e){return{_hx_index:0,c:e,__enum__:"hscript.Expr",toString:v}},w.__params__=["c"],w),EIdent:(w=function(e){return{_hx_index:1,v:e,__enum__:"hscript.Expr",toString:v}},w.__params__=["v"],w),EVar:(w=function(e,i,s){return{_hx_index:2,n:e,t:i,e:s,__enum__:"hscript.Expr",toString:v}},w.__params__=["n","t","e"],w),EParent:(w=function(e){return{_hx_index:3,e,__enum__:"hscript.Expr",toString:v}},w.__params__=["e"],w),EBlock:(w=function(e){return{_hx_index:4,e,__enum__:"hscript.Expr",toString:v}},w.__params__=["e"],w),EField:(w=function(e,i){return{_hx_index:5,e,f:i,__enum__:"hscript.Expr",toString:v}},w.__params__=["e","f"],w),EBinop:(w=function(e,i,s){return{_hx_index:6,op:e,e1:i,e2:s,__enum__:"hscript.Expr",toString:v}},w.__params__=["op","e1","e2"],w),EUnop:(w=function(e,i,s){return{_hx_index:7,op:e,prefix:i,e:s,__enum__:"hscript.Expr",toString:v}},w.__params__=["op","prefix","e"],w),ECall:(w=function(e,i){return{_hx_index:8,e,params:i,__enum__:"hscript.Expr",toString:v}},w.__params__=["e","params"],w),EIf:(w=function(e,i,s){return{_hx_index:9,cond:e,e1:i,e2:s,__enum__:"hscript.Expr",toString:v}},w.__params__=["cond","e1","e2"],w),EWhile:(w=function(e,i){return{_hx_index:10,cond:e,e:i,__enum__:"hscript.Expr",toString:v}},w.__params__=["cond","e"],w),EFor:(w=function(e,i,s){return{_hx_index:11,v:e,it:i,e:s,__enum__:"hscript.Expr",toString:v}},w.__params__=["v","it","e"],w),EBreak:{_hx_index:12,__enum__:"hscript.Expr",toString:v},EContinue:{_hx_index:13,__enum__:"hscript.Expr",toString:v},EFunction:(w=function(e,i,s,n){return{_hx_index:14,args:e,e:i,name:s,ret:n,__enum__:"hscript.Expr",toString:v}},w.__params__=["args","e","name","ret"],w),EReturn:(w=function(e){return{_hx_index:15,e,__enum__:"hscript.Expr",toString:v}},w.__params__=["e"],w),EArray:(w=function(e,i){return{_hx_index:16,e,index:i,__enum__:"hscript.Expr",toString:v}},w.__params__=["e","index"],w),EArrayDecl:(w=function(e){return{_hx_index:17,e,__enum__:"hscript.Expr",toString:v}},w.__params__=["e"],w),ENew:(w=function(e,i){return{_hx_index:18,cl:e,params:i,__enum__:"hscript.Expr",toString:v}},w.__params__=["cl","params"],w),EThrow:(w=function(e){return{_hx_index:19,e,__enum__:"hscript.Expr",toString:v}},w.__params__=["e"],w),ETry:(w=function(e,i,s,n){return{_hx_index:20,e,v:i,t:s,ecatch:n,__enum__:"hscript.Expr",toString:v}},w.__params__=["e","v","t","ecatch"],w),EObject:(w=function(e){return{_hx_index:21,fl:e,__enum__:"hscript.Expr",toString:v}},w.__params__=["fl"],w),ETernary:(w=function(e,i,s){return{_hx_index:22,cond:e,e1:i,e2:s,__enum__:"hscript.Expr",toString:v}},w.__params__=["cond","e1","e2"],w),ESwitch:(w=function(e,i,s){return{_hx_index:23,e,cases:i,defaultExpr:s,__enum__:"hscript.Expr",toString:v}},w.__params__=["e","cases","defaultExpr"],w),EDoWhile:(w=function(e,i){return{_hx_index:24,cond:e,e:i,__enum__:"hscript.Expr",toString:v}},w.__params__=["cond","e"],w),EMeta:(w=function(e,i,s){return{_hx_index:25,name:e,args:i,e:s,__enum__:"hscript.Expr",toString:v}},w.__params__=["name","args","e"],w)},ds=C["hscript.CType"]={__ename__:"hscript.CType",__constructs__:["CTPath","CTFun","CTAnon","CTParent"],CTPath:(w=function(e,i){return{_hx_index:0,path:e,params:i,__enum__:"hscript.CType",toString:v}},w.__params__=["path","params"],w),CTFun:(w=function(e,i){return{_hx_index:1,args:e,ret:i,__enum__:"hscript.CType",toString:v}},w.__params__=["args","ret"],w),CTAnon:(w=function(e){return{_hx_index:2,fields:e,__enum__:"hscript.CType",toString:v}},w.__params__=["fields"],w),CTParent:(w=function(e){return{_hx_index:3,t:e,__enum__:"hscript.CType",toString:v}},w.__params__=["t"],w)},Uf=C["hscript.Error"]={__ename__:"hscript.Error",__constructs__:"EInvalidChar EUnexpected EUnterminatedString EUnterminatedComment EUnknownVariable EInvalidIterator EInvalidOp EInvalidAccess".split(" "),EInvalidChar:(w=function(e){return{_hx_index:0,c:e,__enum__:"hscript.Error",toString:v}},w.__params__=["c"],w),EUnexpected:(w=function(e){return{_hx_index:1,s:e,__enum__:"hscript.Error",toString:v}},w.__params__=["s"],w),EUnterminatedString:{_hx_index:2,__enum__:"hscript.Error",toString:v},EUnterminatedComment:{_hx_index:3,__enum__:"hscript.Error",toString:v},EUnknownVariable:(w=function(e){return{_hx_index:4,v:e,__enum__:"hscript.Error",toString:v}},w.__params__=["v"],w),EInvalidIterator:(w=function(e){return{_hx_index:5,v:e,__enum__:"hscript.Error",toString:v}},w.__params__=["v"],w),EInvalidOp:(w=function(e){return{_hx_index:6,op:e,__enum__:"hscript.Error",toString:v}},w.__params__=["op"],w),EInvalidAccess:(w=function(e){return{_hx_index:7,f:e,__enum__:"hscript.Error",toString:v}},w.__params__=["f"],w)},Ej=C["hscript._Interp.Stop"]={__ename__:"hscript._Interp.Stop",__constructs__:["SBreak","SContinue","SReturn"],SBreak:{_hx_index:0,__enum__:"hscript._Interp.Stop",toString:v},SContinue:{_hx_index:1,__enum__:"hscript._Interp.Stop",toString:v},SReturn:(w=function(e){return{_hx_index:2,v:e,__enum__:"hscript._Interp.Stop",toString:v}},w.__params__=["v"],w)},bo=function(){var e=this;this.variables=new va,this.locals=new va,this.declared=[];var i=this.variables;null!=t.null?i.setReserved("null",null):i.h.null=null,i=this.variables,null!=t.true?i.setReserved("true",!0):i.h.true=!0,i=this.variables,null!=t.false?i.setReserved("false",!1):i.h.false=!1,i=this.variables;var s=function(n){sh.trace(O.string(n),e.posInfos())};null!=t.trace?i.setReserved("trace",s):i.h.trace=s,this.initOps()};k["hscript.Interp"]=bo,bo.__name__="hscript.Interp",bo.prototype={variables:null,locals:null,binops:null,depth:null,inTry:null,declared:null,posInfos:function(){return{fileName:"hscript",lineNumber:0}},initOps:function(){var e=this,i=this.binops=new va,s=function(n,o){return e.expr(n)+e.expr(o)};null!=t["+"]?i.setReserved("+",s):i.h["+"]=s,i=this.binops,s=function(n,o){return e.expr(n)-e.expr(o)},null!=t["-"]?i.setReserved("-",s):i.h["-"]=s,i=this.binops,s=function(n,o){return e.expr(n)*e.expr(o)},null!=t["*"]?i.setReserved("*",s):i.h["*"]=s,i=this.binops,s=function(n,o){return e.expr(n)/e.expr(o)},null!=t["/"]?i.setReserved("/",s):i.h["/"]=s,i=this.binops,s=function(n,o){return e.expr(n)%e.expr(o)},null!=t["%"]?i.setReserved("%",s):i.h["%"]=s,i=this.binops,s=function(n,o){return e.expr(n)&e.expr(o)},null!=t["&"]?i.setReserved("&",s):i.h["&"]=s,i=this.binops,s=function(n,o){return e.expr(n)|e.expr(o)},null!=t["|"]?i.setReserved("|",s):i.h["|"]=s,i=this.binops,s=function(n,o){return e.expr(n)^e.expr(o)},null!=t["^"]?i.setReserved("^",s):i.h["^"]=s,i=this.binops,s=function(n,o){return e.expr(n)<<e.expr(o)},null!=t["<<"]?i.setReserved("<<",s):i.h["<<"]=s,i=this.binops,s=function(n,o){return e.expr(n)>>e.expr(o)},null!=t[">>"]?i.setReserved(">>",s):i.h[">>"]=s,i=this.binops,s=function(n,o){return e.expr(n)>>>e.expr(o)},null!=t[">>>"]?i.setReserved(">>>",s):i.h[">>>"]=s,i=this.binops,s=function(n,o){return e.expr(n)==e.expr(o)},null!=t["=="]?i.setReserved("==",s):i.h["=="]=s,i=this.binops,s=function(n,o){return e.expr(n)!=e.expr(o)},null!=t["!="]?i.setReserved("!=",s):i.h["!="]=s,i=this.binops,s=function(n,o){return e.expr(n)>=e.expr(o)},null!=t[">="]?i.setReserved(">=",s):i.h[">="]=s,i=this.binops,s=function(n,o){return e.expr(n)<=e.expr(o)},null!=t["<="]?i.setReserved("<=",s):i.h["<="]=s,i=this.binops,s=function(n,o){return e.expr(n)>e.expr(o)},null!=t[">"]?i.setReserved(">",s):i.h[">"]=s,i=this.binops,s=function(n,o){return e.expr(n)<e.expr(o)},null!=t["<"]?i.setReserved("<",s):i.h["<"]=s,i=this.binops,s=function(n,o){return 1==e.expr(n)||1==e.expr(o)},null!=t["||"]?i.setReserved("||",s):i.h["||"]=s,i=this.binops,s=function(n,o){return 1==e.expr(n)&&1==e.expr(o)},null!=t["&&"]?i.setReserved("&&",s):i.h["&&"]=s,i=this.binops,s=r(this,this.assign),null!=t["="]?i.setReserved("=",s):i.h["="]=s,i=this.binops,s=function(n,o){return new V(e.expr(n),e.expr(o))},null!=t["..."]?i.setReserved("...",s):i.h["..."]=s,this.assignOp("+=",function(n,o){return n+o}),this.assignOp("-=",function(n,o){return n-o}),this.assignOp("*=",function(n,o){return n*o}),this.assignOp("/=",function(n,o){return n/o}),this.assignOp("%=",function(n,o){return n%o}),this.assignOp("&=",function(n,o){return n&o}),this.assignOp("|=",function(n,o){return n|o}),this.assignOp("^=",function(n,o){return n^o}),this.assignOp("<<=",function(n,o){return n<<o}),this.assignOp(">>=",function(n,o){return n>>o}),this.assignOp(">>>=",function(n,o){return n>>>o})},assign:function(e,i){switch(i=this.expr(i),e._hx_index){case 1:var s=this.locals;null==(s=null!=t[e=e.v]?s.getReserved(e):s.h[e])?(s=this.variables,null!=t[e]?s.setReserved(e,i):s.h[e]=i):s.r=i;break;case 5:s=e.f,i=this.set(this.expr(e.e),s,i);break;case 16:s=e.index,e=this.expr(e.e),s=this.expr(s),T.__implements(e,Gb)?T.__cast(e,Gb).set(s,i):e[s]=i;break;default:throw new E(Uf.EInvalidOp("="))}return i},assignOp:function(e,i){var s=this,n=this.binops,o=function(l,_){return s.evalAssignOp(e,i,l,_)};null!=t[e]?n.setReserved(e,o):n.h[e]=o},evalAssignOp:function(e,i,s,n){switch(s._hx_index){case 1:var o=this.locals;o=null!=t[e=s.v]?o.getReserved(e):o.h[e],i=i(this.expr(s),this.expr(n)),null==o?(n=this.variables,null!=t[e]?n.setReserved(e,i):n.h[e]=i):o.r=i;break;case 5:e=s.f,s=this.expr(s.e),i=i(this.get(s,e),this.expr(n)),i=this.set(s,e,i);break;case 16:e=s.index,s=this.expr(s.e),e=this.expr(e),T.__implements(s,Gb)?(i=i(T.__cast(s,Gb).get(e),this.expr(n)),T.__cast(s,Gb).set(e,i)):(i=i(s[e],this.expr(n)),s[e]=i);break;default:throw new E(Uf.EInvalidOp(e))}return i},increment:function(e,i,s){switch(e._hx_index){case 1:var n=e.v;e=this.locals;var o=null!=t[n]?e.getReserved(n):e.h[n];return null==o?(e=this.variables,e=null!=t[n]?e.getReserved(n):e.h[n]):e=o.r,i?(e+=s,null==o?(s=this.variables,i=e,null!=t[n]?s.setReserved(n,i):s.h[n]=i):o.r=e):null==o?(i=this.variables,s=e+s,null!=t[n]?i.setReserved(n,s):i.h[n]=s):o.r=e+s,e;case 5:return n=e.f,e=this.expr(e.e),o=this.get(e,n),this.set(e,n,i?o+=s:o+s),o;case 16:return o=e.index,n=this.expr(e.e),e=this.expr(o),T.__implements(n,Gb)?(o=T.__cast(n,Gb).get(e),i?(o+=s,T.__cast(n,Gb).set(e,o)):T.__cast(n,Gb).set(e,o+s),o):(o=n[e],n[e]=i?o+=s:o+s,o);default:throw new E(Uf.EInvalidOp(0<s?"++":"--"))}},execute:function(e){return this.depth=0,this.locals=new va,this.declared=[],this.exprReturn(e)},exprReturn:function(e){try{return this.expr(e)}catch(i){if(ha.lastException=i,!T.__instanceof(e=i instanceof E?i.val:i,Ej))throw i;switch(e._hx_index){case 0:throw new E("Invalid break");case 1:throw new E("Invalid continue");case 2:return e.v}}},duplicate:function(e){for(var i=new va,s=e.keys();s.hasNext();){var n=s.next(),o=null!=t[n]?e.getReserved(n):e.h[n];null!=t[n]?i.setReserved(n,o):i.h[n]=o}return i},restore:function(e){for(;this.declared.length>e;){var i=this.declared.pop(),s=i.n;i=i.old;var n=this.locals;null!=t[s]?n.setReserved(s,i):n.h[s]=i}},edef:function(e){return e},error:function(e){throw new E(e)},resolve:function(e){var i=this.locals;if(null!=(i=null!=t[e]?i.getReserved(e):i.h[e]))return i.r;if(i=this.variables,null==(i=null!=t[e]?i.getReserved(e):i.h[e])){var s=this.variables;s=!(null!=t[e]?s.existsReserved(e):s.h.hasOwnProperty(e))}else s=!1;if(s)throw new E(Uf.EUnknownVariable(e));return i},expr:function(e){var i=this;switch(e._hx_index){case 0:var s=e.c;switch(s._hx_index){case 0:return s.v;case 1:return s.f;case 2:return s.s}break;case 1:return this.resolve(e.v);case 2:var n=e.e,o=e.n,l=this.locals;this.declared.push({n:o,old:null!=t[o]?l.getReserved(o):l.h[o]});var _=this.locals,h={r:null==n?null:this.expr(n)};return null!=t[o]?_.setReserved(o,h):_.h[o]=h,null;case 3:return this.expr(e.e);case 4:for(var m=e.e,f=this.declared.length,y=null,g=0;g<m.length;){var j=m[g];++g,y=this.expr(j)}return this.restore(f),y;case 5:var $=e.f;return this.get(this.expr(e.e),$);case 6:var yt=e.e2,_t=e.e1,xt=e.op,Tt=this.binops,St=null!=t[xt]?Tt.getReserved(xt):Tt.h[xt];if(null==St)throw new E(Uf.EInvalidOp(xt));return St(_t,yt);case 7:var Mt=e.e,Et=e.prefix,Ct=e.op;switch(Ct){case"!":return 1!=this.expr(Mt);case"++":return this.increment(Mt,Et,1);case"-":return-this.expr(Mt);case"--":return this.increment(Mt,Et,-1);case"~":return~this.expr(Mt);default:throw new E(Uf.EInvalidOp(Ct))}case 8:for(var Dt=e.params,At=e.e,Nt=[],Ft=0;Ft<Dt.length;){var Lt=Dt[Ft];++Ft,Nt.push(this.expr(Lt))}if(5==At._hx_index){var Ot=At.f,Ht=this.expr(At.e);if(null==Ht)throw new E(Uf.EInvalidAccess(Ot));return this.fcall(Ht,Ot,Nt)}return this.call(null,this.expr(At),Nt);case 9:var $t=e.e2,zt=e.e1;return 1==this.expr(e.cond)?this.expr(zt):null==$t?null:this.expr($t);case 10:return this.whileLoop(e.cond,e.e),null;case 11:return this.forLoop(e.v,e.it,e.e),null;case 12:throw new E(Ej.SBreak);case 13:throw new E(Ej.SContinue);case 14:for(var Jt=e.name,Qt=e.e,Kt=e.args,_o=this.duplicate(this.locals),Bt=this,Xr=0,_l=0;_l<Kt.length;){var _n=Kt[_l];++_l,_n.opt||(Xr+=1)}var _r=X.makeVarArgs(function(s_){if(s_.length!=Kt.length){if(s_.length<Xr)throw s_="Invalid number of parameters. Got "+s_.length+", required "+Xr,null!=Jt&&(s_+=" for function '"+Jt+"'"),new E(s_);for(var o_=[],l_=s_.length-Xr,a_=0,__=0;__<Kt.length;){var w_=Kt[__];++__,w_.opt?0<l_?(o_.push(s_[a_++]),--l_):o_.push(null):o_.push(s_[a_++])}s_=o_}for(o_=Bt.locals,l_=Bt.depth,Bt.depth++,Bt.locals=Bt.duplicate(_o),a_=0,__=Kt.length;a_<__;){var Y_=a_++;w_=Kt[Y_].name;var B_=Bt.locals;Y_={r:s_[Y_]},null!=t[w_]?B_.setReserved(w_,Y_):B_.h[w_]=Y_}if(s_=null,i.inTry)try{s_=Bt.exprReturn(Qt)}catch(O_){throw ha.lastException=O_,s_=O_ instanceof E?O_.val:O_,Bt.locals=o_,Bt.depth=l_,E.wrap(s_)}else s_=Bt.exprReturn(Qt);return Bt.locals=o_,Bt.depth=l_,s_});if(null!=Jt)if(0==this.depth){var _i=this.variables;null!=t[Jt]?_i.setReserved(Jt,_r):_i.h[Jt]=_r}else{var _e=this.declared,Gt=this.locals,Vt=null!=t[Jt]?Gt.getReserved(Jt):Gt.h[Jt];_e.push({n:Jt,old:Vt});var n_={r:_r},Xa=this.locals;null!=t[Jt]?Xa.setReserved(Jt,n_):Xa.h[Jt]=n_,null!=t[Jt]?_o.setReserved(Jt,n_):_o.h[Jt]=n_}return _r;case 15:var Yr=e.e;throw new E(Ej.SReturn(null==Yr?null:this.expr(Yr)));case 16:var he=e.index,Pt=this.expr(e.e),Yt=this.expr(he);return T.__implements(Pt,Gb)?T.__cast(Pt,Gb).get(Yt):Pt[Yt];case 17:var It=e.e;if(0<It.length)var Rt=It[0],Ut=6==Rt._hx_index&&"=>"==Rt.op;else Ut=!1;if(Ut){for(var Wt=!0,Xt=!0,Zt=!0,_a=!0,_s=[],t_=[],e_=0;e_<It.length;){var r_=It[e_];if(++e_,6!=r_._hx_index)throw new E("=> expected");if("=>"!=r_.op)throw new E("=> expected");var ga=r_.e2,c_=this.expr(r_.e1),k_=this.expr(ga);Wt=Wt&&"string"==typeof c_,Xt=Xt&&"number"==typeof c_&&(0|c_)===c_,Zt=Zt&&X.isObject(c_),_a=_a&&X.isEnumValue(c_),_s.push(c_),t_.push(k_)}if(Xt)var p_=new Va;else if(Wt)p_=new va;else if(_a)p_=new Cj;else{if(!Zt)throw new E("Inconsistent key types");p_=new Aa}for(var d_=0,K_=_s.length;d_<K_;){var J_=d_++;T.__cast(p_,Gb).set(_s[J_],t_[J_])}return p_}for(var F_=[],N_=0;N_<It.length;){var Q_=It[N_];++N_,F_.push(this.expr(Q_))}return F_;case 18:for(var g_=e.params,I_=e.cl,h_=[],b_=0;b_<g_.length;){var m_=g_[b_];++b_,h_.push(this.expr(m_))}return this.cnew(I_,h_);case 19:throw E.wrap(this.expr(e.e));case 20:var S_=e.ecatch,P_=e.v,$_=e.e,U_=this.declared.length,th=this.inTry;try{this.inTry=!0;var _h=this.expr($_);return this.restore(U_),this.inTry=th,_h}catch(s_){ha.lastException=s_;var V_=s_ instanceof E?s_.val:s_;if(T.__instanceof(V_,Ej))throw this.inTry=th,new E(V_);this.restore(U_),this.inTry=th;var tu=this.locals;this.declared.push({n:P_,old:null!=t[P_]?tu.getReserved(P_):tu.h[P_]});var M_=this.locals,X_={r:V_};null!=t[P_]?M_.setReserved(P_,X_):M_.h[P_]=X_;var Z_=this.expr(S_);return this.restore(U_),Z_}case 21:for(var q_=e.fl,G_={},D_=0;D_<q_.length;){var W_=q_[D_];++D_,this.set(G_,W_.name,this.expr(W_.e))}return G_;case 22:var H_=e.e2,eu=e.e1;return 1==this.expr(e.cond)?this.expr(eu):this.expr(H_);case 23:for(var L_=e.defaultExpr,C_=e.cases,y_=this.expr(e.e),R_=!1,u_=0;u_<C_.length;){var x_=C_[u_];++u_;for(var v_=0,E_=x_.values;v_<E_.length;){var A_=E_[v_];if(++v_,this.expr(A_)==y_){R_=!0;break}}if(R_){y_=this.expr(x_.expr);break}}return R_||(y_=null==L_?null:this.expr(L_)),y_;case 24:return this.doWhileLoop(e.cond,e.e),null;case 25:return this.expr(e.e)}},doWhileLoop:function(e,i){var s=this.declared.length;t:for(;;){try{this.expr(i)}catch(o){ha.lastException=o;var n=o instanceof E?o.val:o;if(!T.__instanceof(n,Ej))throw o;switch(n._hx_index){case 0:break t;case 2:throw new E(n)}}if(1!=this.expr(e))break}this.restore(s)},whileLoop:function(e,i){var s=this.declared.length;t:for(;1==this.expr(e);)try{this.expr(i)}catch(o){ha.lastException=o;var n=o instanceof E?o.val:o;if(!T.__instanceof(n,Ej))throw o;switch(n._hx_index){case 0:break t;case 2:throw new E(n)}}this.restore(s)},makeIterator:function(e){try{e=S(e)}catch(i){ha.lastException=i}if(null==e.hasNext||null==e.next)throw new E(Uf.EInvalidIterator(e));return e},forLoop:function(e,i,s){var n=this.declared.length,o=this.locals;this.declared.push({n:e,old:null!=t[e]?o.getReserved(e):o.h[e]}),i=this.makeIterator(this.expr(i));t:for(;i.hasNext();){var l=this.locals;o={r:i.next()},null!=t[e]?l.setReserved(e,o):l.h[e]=o;try{this.expr(s)}catch(_){if(ha.lastException=_,!T.__instanceof(o=_ instanceof E?_.val:_,Ej))throw _;switch(o._hx_index){case 0:break t;case 2:throw new E(o)}}}this.restore(n)},isMap:function(e){return T.__implements(e,Gb)},getMapValue:function(e,i){return T.__cast(e,Gb).get(i)},setMapValue:function(e,i,s){T.__cast(e,Gb).set(i,s)},get:function(e,i){if(null==e)throw new E(Uf.EInvalidAccess(i));return X.getProperty(e,i)},set:function(e,i,s){if(null==e)throw new E(Uf.EInvalidAccess(i));return X.setProperty(e,i,s),s},fcall:function(e,i,s){return this.call(e,this.get(e,i),s)},call:function(e,i,s){return i.apply(e,s)},cnew:function(e,i){var s=k[e];return null==s&&(s=this.resolve(e)),rb.createInstance(s,i)},__class__:bo};var hb=C["hscript.Token"]={__ename__:"hscript.Token",__constructs__:"TEof TConst TId TOp TPOpen TPClose TBrOpen TBrClose TDot TComma TSemicolon TBkOpen TBkClose TQuestion TDoubleDot TMeta".split(" "),TEof:{_hx_index:0,__enum__:"hscript.Token",toString:v},TConst:(w=function(e){return{_hx_index:1,c:e,__enum__:"hscript.Token",toString:v}},w.__params__=["c"],w),TId:(w=function(e){return{_hx_index:2,s:e,__enum__:"hscript.Token",toString:v}},w.__params__=["s"],w),TOp:(w=function(e){return{_hx_index:3,s:e,__enum__:"hscript.Token",toString:v}},w.__params__=["s"],w),TPOpen:{_hx_index:4,__enum__:"hscript.Token",toString:v},TPClose:{_hx_index:5,__enum__:"hscript.Token",toString:v},TBrOpen:{_hx_index:6,__enum__:"hscript.Token",toString:v},TBrClose:{_hx_index:7,__enum__:"hscript.Token",toString:v},TDot:{_hx_index:8,__enum__:"hscript.Token",toString:v},TComma:{_hx_index:9,__enum__:"hscript.Token",toString:v},TSemicolon:{_hx_index:10,__enum__:"hscript.Token",toString:v},TBkOpen:{_hx_index:11,__enum__:"hscript.Token",toString:v},TBkClose:{_hx_index:12,__enum__:"hscript.Token",toString:v},TQuestion:{_hx_index:13,__enum__:"hscript.Token",toString:v},TDoubleDot:{_hx_index:14,__enum__:"hscript.Token",toString:v},TMeta:(w=function(e){return{_hx_index:15,s:e,__enum__:"hscript.Token",toString:v}},w.__params__=["s"],w)},hi=function(){this.uid=0,this.line=1,this.opChars="+*/-=!><&|^%~",this.identChars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_";var e=[["%"],["*","/"],["+","-"],["<<",">>",">>>"],["|","&","^"],"== != > < >= <=".split(" "),["..."],["&&"],["||"],"= += -= *= /= %= <<= >>= >>>= |= &= ^= =>".split(" ")];this.opPriority=new va,this.opRightAssoc=new va,this.unops=new va;for(var i=0,s=e.length;i<s;)for(var n=i++,o=0,l=e[n];o<l.length;){var _=l[o];++o;var h=this.opPriority;null!=t[_]?h.setReserved(_,n):h.h[_]=n,9==n&&(h=this.opRightAssoc,null!=t[_]?h.setReserved(_,!0):h.h[_]=!0)}e=this.unops,null!=t["!"]?e.setReserved("!",!1):e.h["!"]=!1,e=this.unops,null!=t["++"]?e.setReserved("++",!0):e.h["++"]=!0,e=this.unops,null!=t["--"]?e.setReserved("--",!0):e.h["--"]=!0,e=this.unops,null!=t["-"]?e.setReserved("-",!1):e.h["-"]=!1,e=this.unops,null!=t["~"]?e.setReserved("~",!1):e.h["~"]=!1};k["hscript.Parser"]=hi,hi.__name__="hscript.Parser",hi.prototype={line:null,opChars:null,identChars:null,opPriority:null,opRightAssoc:null,unops:null,allowJSON:null,allowTypes:null,allowMetadata:null,input:null,char:null,ops:null,idents:null,uid:null,tokens:null,error:function(e,i,s){throw new E(e)},invalidChar:function(e){throw new E(Uf.EInvalidChar(e))},parseString:function(e,i){return null==i&&(i="hscript"),this.uid=0,this.parse(new $n(e),i)},parse:function(e,i){for(this.line=1,this.tokens=new tq,this.char=-1,this.input=e,this.ops=[],this.idents=[],e=0,i=this.opChars.length;e<i;){var s=e++;this.ops[B.cca(this.opChars,s)]=!0}for(e=0,i=this.identChars.length;e<i;)s=e++,this.idents[B.cca(this.identChars,s)]=!0;for(e=[];(i=this.token())!=hb.TEof;)(s=this.tokens).head=new rc(i,s.head),e.push(this.parseFullExpr());return 1==e.length?e[0]:tb.EBlock(e)},unexpected:function(e){throw new E(Uf.EUnexpected(this.tokenString(e)))},push:function(e){var i=this.tokens;i.head=new rc(e,i.head)},ensure:function(e){var i=this.token();i!=e&&this.unexpected(i)},getIdent:function(){var e=this.token();return null==e?(this.unexpected(e),null):2==e._hx_index?e.s:(this.unexpected(e),null)},expr:function(e){return e},pmin:function(e){return 0},pmax:function(e){return 0},mk:function(e,i,s){return e},isBlock:function(e){switch(e._hx_index){case 2:case 15:return null!=(e=e.e)&&this.isBlock(e);case 4:case 21:case 23:return!0;case 6:return this.isBlock(e.e2);case 7:var i=e.e;return!e.prefix&&this.isBlock(i);case 9:return i=e.e2,e=e.e1,this.isBlock(null!=i?i:e);case 10:case 11:case 14:case 24:return this.isBlock(e.e);case 20:return this.isBlock(e.ecatch);default:return!1}},parseFullExpr:function(){var e=this.parseExpr(),i=this.token();if(i!=hb.TSemicolon&&i!=hb.TEof)if(this.isBlock(e)){var s=this.tokens;s.head=new rc(i,s.head)}else this.unexpected(i);return e},parseObject:function(e){e=[];t:for(;;){var i=this.token(),s=null;if(null==i)this.unexpected(i);else switch(i._hx_index){case 1:var n=i.c;this.allowJSON||this.unexpected(i),2==n._hx_index?s=n.s:this.unexpected(i);break;case 2:s=i.s;break;case 7:break t;default:this.unexpected(i)}if((i=this.token())!=hb.TDoubleDot&&this.unexpected(i),e.push({name:s,e:this.parseExpr()}),null==(i=this.token()))this.unexpected(i);else switch(i._hx_index){case 7:break t;case 9:break;default:this.unexpected(i)}}return this.parseExprNext(tb.EObject(e))},parseExpr:function(){var e=this.token();if(null==e)return this.unexpected(e);switch(e._hx_index){case 1:return this.parseExprNext(tb.EConst(e.c));case 2:var i=this.parseStructure(e=e.s);return null==i&&(i=tb.EIdent(e)),this.parseExprNext(i);case 3:var s=this.unops;return(null!=t[i=e.s]?s.existsReserved(i):s.h.hasOwnProperty(i))?this.makeUnop(i,this.parseExpr()):this.unexpected(e);case 4:return e=this.parseExpr(),(i=this.token())!=hb.TPClose&&this.unexpected(i),this.parseExprNext(tb.EParent(e));case 6:if(null==(e=this.token()))(i=this.tokens).head=new rc(e,i.head);else switch(e._hx_index){case 1:if(i=e.c,this.allowJSON)if(2==i._hx_index){if(i=this.token(),(s=this.tokens).head=new rc(i,s.head),(s=this.tokens).head=new rc(e,s.head),null!=i&&14==i._hx_index)return this.parseExprNext(this.parseObject(0))}else(i=this.tokens).head=new rc(e,i.head);else(i=this.tokens).head=new rc(e,i.head);break;case 2:if(i=this.token(),(s=this.tokens).head=new rc(i,s.head),(s=this.tokens).head=new rc(e,s.head),null!=i&&14==i._hx_index)return this.parseExprNext(this.parseObject(0));break;case 7:return this.parseExprNext(tb.EObject([]));default:(i=this.tokens).head=new rc(e,i.head)}for(i=[];i.push(this.parseFullExpr()),(e=this.token())!=hb.TBrClose;)(s=this.tokens).head=new rc(e,s.head);return tb.EBlock(i);case 11:for(i=[],e=this.token();e!=hb.TBkClose;)(s=this.tokens).head=new rc(e,s.head),i.push(this.parseExpr()),(e=this.token())==hb.TComma&&(e=this.token());if(1==i.length)switch(i[0]._hx_index){case 10:case 11:case 24:return e="__a_"+this.uid++,e=tb.EBlock([tb.EVar(e,null,tb.EArrayDecl([])),this.mapCompr(e,i[0]),tb.EIdent(e)]),this.parseExprNext(e)}return this.parseExprNext(tb.EArrayDecl(i));case 15:return i=e.s,this.allowMetadata?(e=this.parseMetaArgs(),tb.EMeta(i,e,this.parseExpr())):this.unexpected(e);default:return this.unexpected(e)}},parseMetaArgs:function(){var e=this.token();if(e!=hb.TPOpen){var i=this.tokens;return i.head=new rc(e,i.head),null}if(i=[],(e=this.token())!=hb.TPClose){var s=this.tokens;s.head=new rc(e,s.head);t:for(;;)if(i.push(this.parseExpr()),e=this.token(),null==e)this.unexpected(e);else switch(e._hx_index){case 5:break t;case 9:break;default:this.unexpected(e)}}return i},mapCompr:function(e,i){switch(i._hx_index){case 3:e=tb.EParent(this.mapCompr(e,i.e));break;case 4:var s=i.e;e=1==s.length?tb.EBlock([this.mapCompr(e,s[0])]):tb.ECall(tb.EField(tb.EIdent(e),"push"),[i]);break;case 9:s=i.e1,e=null==i.e2?tb.EIf(i.cond,this.mapCompr(e,s),null):tb.ECall(tb.EField(tb.EIdent(e),"push"),[i]);break;case 10:e=tb.EWhile(i.cond,this.mapCompr(e,i.e));break;case 11:e=tb.EFor(i.v,i.it,this.mapCompr(e,i.e));break;case 24:e=tb.EDoWhile(i.cond,this.mapCompr(e,i.e));break;default:e=tb.ECall(tb.EField(tb.EIdent(e),"push"),[i])}return e},makeUnop:function(e,i){switch(i._hx_index){case 6:var s=i.e2;return tb.EBinop(i.op,this.makeUnop(e,i.e1),s);case 22:s=i.e2;var n=i.e1;return tb.ETernary(this.makeUnop(e,i.cond),n,s);default:return tb.EUnop(e,!0,i)}},makeBinop:function(e,i,s){switch(s._hx_index){case 6:var n=s.e2,o=s.e1,l=s.op,_=this.opPriority;_=null!=t[e]?_.getReserved(e):_.h[e];var h=this.opPriority;return _<=(null!=t[l]?h.getReserved(l):h.h[l])?(_=this.opRightAssoc,_=!(null!=t[e]?_.existsReserved(e):_.h.hasOwnProperty(e))):_=!1,_?tb.EBinop(l,this.makeBinop(e,i,o),n):tb.EBinop(e,i,s);case 22:return n=s.e2,o=s.e1,l=s.cond,_=this.opRightAssoc,(null!=t[e]?_.existsReserved(e):_.h.hasOwnProperty(e))?tb.EBinop(e,i,s):tb.ETernary(this.makeBinop(e,i,l),o,n);default:return tb.EBinop(e,i,s)}},parseStructure:function(e){switch(e){case"break":return tb.EBreak;case"continue":return tb.EContinue;case"do":e=this.parseExpr();var i=this.token();return null==i?this.unexpected(i):2==i._hx_index?"while"!=i.s&&this.unexpected(i):this.unexpected(i),i=this.parseExpr(),tb.EDoWhile(i,e);case"else":return this.unexpected(hb.TId(e));case"for":(e=this.token())!=hb.TPOpen&&this.unexpected(e),e=this.getIdent(),i=this.token(),rb.enumEq(i,hb.TId("in"))||this.unexpected(i),i=this.parseExpr();var s=this.token();return s!=hb.TPClose&&this.unexpected(s),s=this.parseExpr(),tb.EFor(e,i,s);case"function":if(e=null,null==(i=this.token())?(s=this.tokens).head=new rc(i,s.head):2==i._hx_index?e=i.s:(s=this.tokens).head=new rc(i,s.head),(i=this.token())!=hb.TPOpen&&this.unexpected(i),s=[],(i=this.token())!=hb.TPClose)for(var n=!1;!n;){var o=null,l=!1;if(null!=i&&13==i._hx_index&&(l=!0,i=this.token()),null==i?this.unexpected(i):2==i._hx_index?o=i.s:this.unexpected(i),i=this.token(),s.push(o={name:o}),l&&(o.opt=!0),i==hb.TDoubleDot&&this.allowTypes&&(o.t=this.parseType(),i=this.token()),null==i)this.unexpected(i);else switch(i._hx_index){case 5:n=!0;break;case 9:i=this.token();break;default:this.unexpected(i)}}return n=null,this.allowTypes&&((i=this.token())!=hb.TDoubleDot?(l=this.tokens).head=new rc(i,l.head):n=this.parseType()),i=this.parseExpr(),tb.EFunction(s,i,e,n);case"if":return(e=this.token())!=hb.TPOpen&&this.unexpected(e),e=this.parseExpr(),(i=this.token())!=hb.TPClose&&this.unexpected(i),i=this.parseExpr(),s=null,n=!1,(l=this.token())==hb.TSemicolon&&(n=!0,l=this.token()),rb.enumEq(l,hb.TId("else"))?s=this.parseExpr():((o=this.tokens).head=new rc(l,o.head),n&&((n=this.tokens).head=new rc(hb.TSemicolon,n.head))),tb.EIf(e,i,s);case"new":for((e=[]).push(this.getIdent()),i=!0;i;)if(null==(s=this.token()))this.unexpected(s);else switch(s._hx_index){case 4:i=!1;break;case 8:e.push(this.getIdent());break;default:this.unexpected(s)}return i=this.parseExprList(hb.TPClose),tb.ENew(e.join("."),i);case"return":return e=this.token(),(i=this.tokens).head=new rc(e,i.head),e=e==hb.TSemicolon?null:this.parseExpr(),tb.EReturn(e);case"switch":e=this.parseExpr(),s=null,i=[],(n=this.token())!=hb.TBrOpen&&this.unexpected(n);t:for(;;)if(n=this.token(),null==n)this.unexpected(n);else switch(n._hx_index){case 2:switch(n.s){case"case":i.push(l={values:[],expr:null});e:for(;;)if(n=this.parseExpr(),l.values.push(n),n=this.token(),null==n)this.unexpected(n);else switch(n._hx_index){case 9:break;case 14:break e;default:this.unexpected(n)}o=[];e:for(;;){n=this.token();var _=this.tokens;if(_.head=new rc(n,_.head),null==n)o.push(this.parseFullExpr());else switch(n._hx_index){case 2:switch(n.s){case"case":case"default":break e;default:o.push(this.parseFullExpr())}break;case 7:break e;default:o.push(this.parseFullExpr())}}l.expr=1==o.length?o[0]:tb.EBlock(0==o.length?[]:o);break;case"default":null!=s&&this.unexpected(n),(s=this.token())!=hb.TDoubleDot&&this.unexpected(s),s=[];e:for(;;)if(n=this.token(),l=this.tokens,l.head=new rc(n,l.head),null==n)s.push(this.parseFullExpr());else switch(n._hx_index){case 2:switch(n.s){case"case":case"default":break e;default:s.push(this.parseFullExpr())}break;case 7:break e;default:s.push(this.parseFullExpr())}s=1==s.length?s[0]:tb.EBlock(0==s.length?[]:s);break;default:this.unexpected(n)}break;case 7:break t;default:this.unexpected(n)}return tb.ESwitch(e,i,s);case"throw":return e=this.parseExpr(),tb.EThrow(e);case"try":return e=this.parseExpr(),n=this.token(),rb.enumEq(n,hb.TId("catch"))||this.unexpected(n),(i=this.token())!=hb.TPOpen&&this.unexpected(i),i=this.getIdent(),(s=this.token())!=hb.TDoubleDot&&this.unexpected(s),s=null,this.allowTypes?s=this.parseType():(n=this.token(),rb.enumEq(n,hb.TId("Dynamic"))||this.unexpected(n)),(n=this.token())!=hb.TPClose&&this.unexpected(n),n=this.parseExpr(),tb.ETry(e,i,s,n);case"var":return e=this.getIdent(),s=null,(i=this.token())==hb.TDoubleDot&&this.allowTypes&&(s=this.parseType(),i=this.token()),n=null,rb.enumEq(i,hb.TOp("="))?n=this.parseExpr():(l=this.tokens).head=new rc(i,l.head),tb.EVar(e,s,n);case"while":return e=this.parseExpr(),i=this.parseExpr(),tb.EWhile(e,i);default:return null}},parseExprNext:function(e){var i=this.token();if(null==i){var s=this.tokens;return s.head=new rc(i,s.head),e}switch(i._hx_index){case 3:var n=this.unops;return(null!=t[s=i.s]?n.getReserved(s):n.h[s])?this.isBlock(e)||3==e._hx_index?((s=this.tokens).head=new rc(i,s.head),e):this.parseExprNext(tb.EUnop(s,!1,e)):this.makeBinop(s,e,this.parseExpr());case 4:return this.parseExprNext(tb.ECall(e,this.parseExprList(hb.TPClose)));case 8:return i=this.getIdent(),this.parseExprNext(tb.EField(e,i));case 11:return i=this.parseExpr(),(s=this.token())!=hb.TBkClose&&this.unexpected(s),this.parseExprNext(tb.EArray(e,i));case 13:return i=this.parseExpr(),(s=this.token())!=hb.TDoubleDot&&this.unexpected(s),s=this.parseExpr(),tb.ETernary(e,i,s);default:return(s=this.tokens).head=new rc(i,s.head),e}},parseType:function(){var e=this.token();if(null==e)return this.unexpected(e);switch(e._hx_index){case 2:for(var i=[e.s];(e=this.token())==hb.TDot;)i.push(this.getIdent());var s=null;if(null==e){var n=this.tokens;n.head=new rc(e,n.head)}else if(3==e._hx_index)if("<"==e.s)t:for(s=[];;){if(s.push(this.parseType()),null!=(e=this.token()))switch(e._hx_index){case 3:if(">"==(n=e.s))break t;if(62==B.cca(n,0)){(e=this.tokens).head=new rc(hb.TOp(B.substr(n,1,null)),e.head);break t}break;case 9:continue}this.unexpected(e)}else(n=this.tokens).head=new rc(e,n.head);else(n=this.tokens).head=new rc(e,n.head);return this.parseTypeNext(ds.CTPath(i,s));case 4:return i=this.parseType(),(s=this.token())!=hb.TPClose&&this.unexpected(s),this.parseTypeNext(ds.CTParent(i));case 6:i=[],s=null;t:for(;;)if(e=this.token(),null==e)this.unexpected(e);else switch(e._hx_index){case 2:if("var"==(e=e.s))e=this.getIdent(),(n=this.token())!=hb.TDoubleDot&&this.unexpected(n),i.push({name:e,t:this.parseType(),meta:s}),s=null,(e=this.token())!=hb.TSemicolon&&this.unexpected(e);else if((n=this.token())!=hb.TDoubleDot&&this.unexpected(n),i.push({name:e,t:this.parseType(),meta:s}),null==(e=this.token()))this.unexpected(e);else switch(e._hx_index){case 7:break t;case 9:break;default:this.unexpected(e)}break;case 7:break t;case 15:null==s&&(s=[]),s.push({name:e=e.s,params:this.parseMetaArgs()});break;default:this.unexpected(e)}return this.parseTypeNext(ds.CTAnon(i));default:return this.unexpected(e)}},parseTypeNext:function(e){var i=this.token();if(null==i){var s=this.tokens;return s.head=new rc(i,s.head),e}return 3!=i._hx_index||"->"!=i.s?((s=this.tokens).head=new rc(i,s.head),e):1==(i=this.parseType())._hx_index?(i.args.unshift(e),i):ds.CTFun([e],i)},parseExprList:function(e){var i=[],s=this.token();if(s==e)return i;var n=this.tokens;for(n.head=new rc(s,n.head);;)if(i.push(this.parseExpr()),null==(s=this.token())){if(s==e)break;this.unexpected(s)}else if(9!=s._hx_index){if(s==e)break;this.unexpected(s)}return i},incPos:function(){},readChar:function(){try{return this.input.readByte()}catch(e){return ha.lastException=e,0}},readString:function(e){for(var i=0,s=new Zn,n=!1,o=this.line,l=this.input;;){try{i=l.readByte()}catch(f){throw ha.lastException=f,this.line=o,new E(Uf.EUnterminatedString)}if(n)switch(n=!1,i){case 34:case 39:case 92:s.writeByte(i);break;case 47:this.allowJSON?s.writeByte(i):this.invalidChar(i);break;case 110:s.writeByte(10);break;case 114:s.writeByte(13);break;case 116:s.writeByte(9);break;case 117:this.allowJSON||this.invalidChar(i);var _=null;try{_=l.readString(4)}catch(f){throw ha.lastException=f,this.line=o,new E(Uf.EUnterminatedString)}var h=0;h<<=4;var m=B.cca(_,0);if(null==m)this.invalidChar(m);else switch(m){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:h+=m-48;break;case 65:case 66:case 67:case 68:case 69:case 70:h+=m-55;break;case 97:case 98:case 99:case 100:case 101:case 102:h+=m-87;break;default:this.invalidChar(m)}if(h<<=4,null==(m=B.cca(_,1)))this.invalidChar(m);else switch(m){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:h+=m-48;break;case 65:case 66:case 67:case 68:case 69:case 70:h+=m-55;break;case 97:case 98:case 99:case 100:case 101:case 102:h+=m-87;break;default:this.invalidChar(m)}if(h<<=4,null==(m=B.cca(_,2)))this.invalidChar(m);else switch(m){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:h+=m-48;break;case 65:case 66:case 67:case 68:case 69:case 70:h+=m-55;break;case 97:case 98:case 99:case 100:case 101:case 102:h+=m-87;break;default:this.invalidChar(m)}if(h<<=4,null==(_=B.cca(_,3)))this.invalidChar(_);else switch(_){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:h+=_-48;break;case 65:case 66:case 67:case 68:case 69:case 70:h+=_-55;break;case 97:case 98:case 99:case 100:case 101:case 102:h+=_-87;break;default:this.invalidChar(_)}127>=h?s.writeByte(h):(2047>=h?s.writeByte(192|h>>6):(s.writeByte(224|h>>12),s.writeByte(128|h>>6&63)),s.writeByte(128|63&h));break;default:this.invalidChar(i)}else if(92==i)n=!0;else{if(i==e)break;10==i&&this.line++,s.writeByte(i)}}return s.getBytes().toString()},token:function(){if(null!=this.tokens.head){var e=this.tokens,i=e.head;return null==i?null:(e.head=i.next,i.elt)}for(0>this.char?e=this.readChar():(e=this.char,this.char=-1);;){switch(e){case 0:return hb.TEof;case 10:this.line++;break;case 9:case 13:case 32:break;case 34:return hb.TConst(Ni.CString(this.readString(34)));case 39:return hb.TConst(Ni.CString(this.readString(39)));case 40:return hb.TPOpen;case 41:return hb.TPClose;case 44:return hb.TComma;case 46:switch(e=this.readChar()){case 46:return 46!=(e=this.readChar())&&this.invalidChar(e),hb.TOp("...");case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:i=e-48;for(var s=1;;)switch(e=this.readChar(),s*=10,e){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:i=10*i+(e-48);break;default:return this.char=e,hb.TConst(Ni.CFloat(i/s))}default:return this.char=e,hb.TDot}case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:for(i=e-48,s=0;;)switch(e=this.readChar(),s*=10,e){case 46:if(0<s){if(10==s&&46==this.readChar())return(e=this.tokens).head=new rc(hb.TOp("..."),e.head),hb.TConst((e=0|i)==i?Ni.CInt(e):Ni.CFloat(i));this.invalidChar(e)}s=1;break;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:i=10*i+(e-48);break;case 120:for((0<i||0<s)&&this.invalidChar(e),i=0;;)switch(e=this.readChar(),e){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:i=(i<<4)+e-48;break;case 65:case 66:case 67:case 68:case 69:case 70:i=e-55+(i<<4);break;case 97:case 98:case 99:case 100:case 101:case 102:i=e-87+(i<<4);break;default:return this.char=e,hb.TConst(Ni.CInt(i))}default:return this.char=e,e=0|i,hb.TConst(0<s?Ni.CFloat(10*i/s):e==i?Ni.CInt(e):Ni.CFloat(i))}case 58:return hb.TDoubleDot;case 59:return hb.TSemicolon;case 61:return 61==(e=this.readChar())?hb.TOp("=="):62==e?hb.TOp("=>"):(this.char=e,hb.TOp("="));case 63:return hb.TQuestion;case 64:if(e=this.readChar(),this.idents[e]||58==e)for(i=String.fromCodePoint(e);;){if(e=this.readChar(),!this.idents[e])return this.char=e,hb.TMeta(i);i+=String.fromCodePoint(e)}this.invalidChar(e);break;case 91:return hb.TBkOpen;case 93:return hb.TBkClose;case 123:return hb.TBrOpen;case 125:return hb.TBrClose;default:if(this.ops[e])for(i=String.fromCodePoint(e),s=-1;;){if(e=this.readChar(),!this.ops[e]||61==s)return 47==B.cca(i,0)?this.tokenComment(i,e):(this.char=e,hb.TOp(i));s=e,i+=String.fromCodePoint(e)}if(this.idents[e])for(i=String.fromCodePoint(e);;){if(e=this.readChar(),!this.idents[e])return this.char=e,hb.TId(i);i+=String.fromCodePoint(e)}this.invalidChar(e)}e=this.readChar()}},tokenComment:function(e,i){var s=B.cca(e,1),n=this.input;if(47==s){try{for(;13!=i&&10!=i;)i=n.readByte();this.char=i}catch(o){ha.lastException=o}return this.token()}if(42==s){if(s=this.line,"/**/"==e)return this.char=i,this.token();try{for(;;){for(;42!=i;)10==i&&this.line++,i=n.readByte();if(47==(i=n.readByte()))break}}catch(o){throw ha.lastException=o,this.line=s,new E(Uf.EUnterminatedComment)}return this.token()}return this.char=i,hb.TOp(e)},constString:function(e){switch(e._hx_index){case 0:return null==(e=e.v)?"null":""+e;case 1:return null==(e=e.f)?"null":""+e;case 2:return e.s}},tokenString:function(e){switch(e._hx_index){case 0:return"<eof>";case 1:return this.constString(e.c);case 2:case 3:return e.s;case 4:return"(";case 5:return")";case 6:return"{";case 7:return"}";case 8:return".";case 9:return",";case 10:return";";case 11:return"[";case 12:return"]";case 13:return"?";case 14:return":";case 15:return"@"+e.s}},__class__:hi};var E=function(e){Error.call(this),this.val=e,Error.captureStackTrace&&Error.captureStackTrace(this,E)};k["js._Boot.HaxeError"]=E,E.__name__="js._Boot.HaxeError",E.wrap=function(e){return e instanceof Error?e:new E(e)},E.__super__=Error,E.prototype=x(Error.prototype,{val:null,__class__:E});var T=function(){};k["js.Boot"]=T,T.__name__="js.Boot",T.getClass=function(e){return null==e?null:e instanceof Array?Array:e.__class__??(null!=(e=T.__nativeClassName(e))?T.__resolveNativeClass(e):null)},T.__string_rec=function(e,i){if(null==e)return"null";if(5<=i.length)return"<...>";var s=typeof e;switch("function"==s&&(e.__name__||e.__ename__)&&(s="object"),s){case"function":return"<function>";case"object":if(e.__enum__){var n=C[e.__enum__],o=n[s=n.__constructs__[e._hx_index]];if(o.__params__){i+="\t",n=[];var l=0;for(o=o.__params__;l<o.length;){var _=o[l];l+=1,n.push(T.__string_rec(e[_],i))}return s+"("+n.join(",")+")"}return s}if(e instanceof Array){for(s="[",i+="\t",n=0,l=e.length;n<l;)s+=(0<(o=n++)?",":"")+T.__string_rec(e[o],i);return s+"]"}try{n=e.toString}catch(h){return ha.lastException=h,"???"}if(null!=n&&n!=Object.toString&&"function"==typeof n&&"[object Object]"!=(s=e.toString()))return s;for(l in s="{\n",i+="\t",n=null!=e.hasOwnProperty,l=null,e)n&&!e.hasOwnProperty(l)||"prototype"==l||"__class__"==l||"__super__"==l||"__interfaces__"==l||"__properties__"==l||(2!=s.length&&(s+=", \n"),s+=i+l+" : "+T.__string_rec(e[l],i));return s+"\n"+(i=i.substring(1))+"}";case"string":return e;default:return String(e)}},T.__interfLoop=function(e,i){if(null==e)return!1;if(e==i)return!0;if(Object.prototype.hasOwnProperty.call(e,"__interfaces__"))for(var s=e.__interfaces__,n=0,o=s.length;n<o;){var l=n++;if((l=s[l])==i||T.__interfLoop(l,i))return!0}return T.__interfLoop(e.__super__,i)},T.__instanceof=function(e,i){if(null==i)return!1;switch(i){case Array:return e instanceof Array;case Ms:return"boolean"==typeof e;case rt:return null!=e;case Ls:return"number"==typeof e;case sj:return"number"==typeof e&&(0|e)===e;case String:return"string"==typeof e;default:if(null==e)return!1;if("function"==typeof i){if(T.__downcastCheck(e,i))return!0}else if("object"==typeof i&&T.__isNativeObj(i)&&e instanceof i)return!0;return i==as&&null!=e.__name__||i==gt&&null!=e.__ename__||null!=e.__enum__&&C[e.__enum__]==i}},T.__downcastCheck=function(e,i){return e instanceof i||!!i.__isInterface__&&T.__interfLoop(T.getClass(e),i)},T.__implements=function(e,i){return T.__interfLoop(T.getClass(e),i)},T.__cast=function(e,i){if(null==e||T.__instanceof(e,i))return e;throw new E("Cannot cast "+O.string(e)+" to "+O.string(i))},T.__nativeClassName=function(e){return"Object"==(e=T.__toStr.call(e).slice(8,-1))||"Function"==e||"Math"==e||"JSON"==e?null:e},T.__isNativeObj=function(e){return null!=T.__nativeClassName(e)},T.__resolveNativeClass=function(e){return J[e]};var co=function(){};k["js.Browser"]=co,co.__name__="js.Browser",co.getLocalStorage=function(){try{var e=window.localStorage;if(e.getItem(""),0==e.length){var i="_hx_"+Math.random();e.setItem(i,i),e.removeItem(i)}return e}catch(s){return ha.lastException=s,null}};var es=function(){};k["js.lib._ArrayBuffer.ArrayBufferCompat"]=es,es.__name__="js.lib._ArrayBuffer.ArrayBufferCompat",es.sliceImpl=function(e,i){return e=new Uint8Array(this,e,null==i?null:i-e),(i=new Uint8Array(e.byteLength)).set(e),i.buffer};var wq=function(e){this.gameDeviceCache=new Va,this.parent=e,this.nextUpdate=this.lastUpdate=this.currentUpdate=0,this.framePeriod=-1,Mc.init(),this.accelerometer=ng.registerSensor(st.ACCELEROMETER,0)};k["lime._internal.backend.html5.HTML5Application"]=wq,wq.__name__="lime._internal.backend.html5.HTML5Application",wq.prototype={gameDeviceCache:null,accelerometer:null,currentUpdate:null,deltaTime:null,framePeriod:null,lastUpdate:null,nextUpdate:null,parent:null,convertKeyCode:function(e){if(65<=e&&90>=e)return e+32;switch(e){case 12:return 1073741980;case 16:return 1073742049;case 17:return 1073742048;case 18:return 1073742050;case 19:return 1073741896;case 20:return 1073741881;case 33:return 1073741899;case 34:return 1073741902;case 35:return 1073741901;case 36:case 172:return 1073741898;case 37:return 1073741904;case 38:return 1073741906;case 39:return 1073741903;case 40:return 1073741905;case 41:return 1073741943;case 43:return 1073741940;case 44:return 1073741894;case 45:return 1073741897;case 46:return 127;case 91:case 224:return 1073742051;case 92:case 93:return 1073742055;case 95:return 1073742106;case 96:return 1073741922;case 97:return 1073741913;case 98:return 1073741914;case 99:return 1073741915;case 100:return 1073741916;case 101:return 1073741917;case 102:return 1073741918;case 103:return 1073741919;case 104:return 1073741920;case 105:return 1073741921;case 106:return 1073741909;case 107:return 1073741911;case 108:case 110:case 194:return 1073741923;case 109:return 1073741910;case 111:return 1073741908;case 112:return 1073741882;case 113:return 1073741883;case 114:return 1073741884;case 115:return 1073741885;case 116:return 1073741886;case 117:return 1073741887;case 118:return 1073741888;case 119:return 1073741889;case 120:return 1073741890;case 121:return 1073741891;case 122:return 1073741892;case 123:return 1073741893;case 124:return 1073741928;case 125:return 1073741929;case 126:return 1073741930;case 127:return 1073741931;case 128:return 1073741932;case 129:return 1073741933;case 130:return 1073741934;case 131:return 1073741935;case 132:return 1073741936;case 133:return 1073741937;case 134:return 1073741938;case 135:return 1073741939;case 144:return 1073741907;case 145:return 1073741895;case 160:return 94;case 161:return 33;case 163:return 35;case 164:return 36;case 166:return 1073742094;case 167:return 1073742095;case 168:return 1073742097;case 169:return 41;case 170:return 42;case 171:case 192:case 223:return 96;case 173:case 189:return 45;case 174:case 182:return 1073741953;case 175:case 183:return 1073741952;case 176:return 1073742082;case 177:return 1073742083;case 178:return 1073742084;case 179:return 1073742085;case 180:return 1073742089;case 181:return 1073742086;case 186:return 59;case 187:return 61;case 188:return 44;case 190:return 46;case 191:return 47;case 193:return 63;case 219:return 91;case 220:case 226:return 92;case 221:return 93;case 222:return 39}return e},exec:function(){if(window.addEventListener("keydown",r(this,this.handleKeyEvent),!1),window.addEventListener("keyup",r(this,this.handleKeyEvent),!1),window.addEventListener("focus",r(this,this.handleWindowEvent),!1),window.addEventListener("blur",r(this,this.handleWindowEvent),!1),window.addEventListener("resize",r(this,this.handleWindowEvent),!1),window.addEventListener("beforeunload",r(this,this.handleWindowEvent),!1),window.addEventListener("devicemotion",r(this,this.handleSensorEvent),!1),CanvasRenderingContext2D.prototype.isPointInStroke||(CanvasRenderingContext2D.prototype.isPointInStroke=function(o,l,_){return!1}),CanvasRenderingContext2D.prototype.isPointInPath||(CanvasRenderingContext2D.prototype.isPointInPath=function(o,l,_){return!1}),"performance"in window==0&&(window.performance={}),"now"in window.performance==0){var e=Date.now();performance.timing&&performance.timing.navigationStart&&(e=performance.timing.navigationStart),window.performance.now=function(){return Date.now()-e}}for(var i=0,s=["ms","moz","webkit","o"],n=0;n<s.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[s[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[s[n]+"CancelAnimationFrame"]||window[s[n]+"CancelRequestAnimationFrame"];return window.requestAnimationFrame||(window.requestAnimationFrame=function(o,l){var _=(new Date).getTime(),h=Math.max(0,16-(_-i));return l=window.setTimeout(function(){o(_+h)},h),i=_+h,l}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(o){clearTimeout(o)}),window.requestAnimFrame=window.requestAnimationFrame,this.lastUpdate=(new Date).getTime(),this.handleApplicationEvent(),0},exit:function(){},handleApplicationEvent:function(e){e=0;for(var i=this.parent.__windows;e<i.length;){var s=i[e];++e,s.__backend.updateSize()}if(this.updateGameDevices(),this.currentUpdate=(new Date).getTime(),this.currentUpdate>=this.nextUpdate){for(this.deltaTime=this.currentUpdate-this.lastUpdate,e=0,i=this.parent.__windows;e<i.length;)s=i[e],++e,this.parent.onUpdate.dispatch(0|this.deltaTime),null!=s.context&&s.onRender.dispatch(s.context);this.nextUpdate=0>this.framePeriod?this.currentUpdate:this.currentUpdate-this.currentUpdate%this.framePeriod+this.framePeriod,this.lastUpdate=this.currentUpdate}window.requestAnimationFrame(r(this,this.handleApplicationEvent))},handleKeyEvent:function(e){if(null!=this.parent.__window){var i=this.convertKeyCode(null!=e.keyCode?e.keyCode:e.which),s=(e.shiftKey?3:0)|(e.ctrlKey?192:0)|(e.altKey?768:0)|(e.metaKey?3072:0);"keydown"==e.type?(this.parent.__window.onKeyDown.dispatch(i,s),this.parent.__window.onKeyDown.canceled&&e.cancelable&&e.preventDefault()):(this.parent.__window.onKeyUp.dispatch(i,s),this.parent.__window.onKeyUp.canceled&&e.cancelable&&e.preventDefault())}},handleSensorEvent:function(e){this.accelerometer.onUpdate.dispatch(e.accelerationIncludingGravity.x,e.accelerationIncludingGravity.y,e.accelerationIncludingGravity.z)},handleWindowEvent:function(e){if(null!=this.parent.__window)switch(e.type){case"blur":this.parent.__window.onFocusOut.dispatch(),this.parent.__window.onDeactivate.dispatch();break;case"focus":this.parent.__window.onFocusIn.dispatch(),this.parent.__window.onActivate.dispatch();break;case"resize":this.parent.__window.__backend.handleResizeEvent(e)}},updateGameDevices:function(){var e=kd.__getDeviceData();if(null!=e)for(var i,s,n,o,l,_=0,h=e.length;_<h;)if(null!=(o=e[i=_++])){if(!this.gameDeviceCache.h.hasOwnProperty(i)){for((l=new xq).id=i,l.connected=o.connected,s=0,n=o.buttons.length;s<n;){var m=s++;l.buttons.push(o.buttons[m].value)}for(s=0,n=o.axes.length;s<n;)m=s++,l.axes.push(o.axes[m]);"standard"==o.mapping&&(l.isGamepad=!0),this.gameDeviceCache.h[i]=l,o.connected&&(kd.__connect(i),l.isGamepad&&ae.__connect(i))}if(l=this.gameDeviceCache.h[i],n=kd.devices.h[i],s=ae.devices.h[i],o.connected){for(var f=0,y=o.buttons.length;f<y;){var g=f++;if((m=o.buttons[g].value)!=l.buttons[g]){if(6==g)n.onAxisMove.dispatch(o.axes.length,m),s?.onAxisMove.dispatch(4,m);else if(7==g)n.onAxisMove.dispatch(o.axes.length+1,m),s?.onAxisMove.dispatch(5,m);else if(0<m?n.onButtonDown.dispatch(g):n.onButtonUp.dispatch(g),null!=s){switch(g){case 0:i=0;break;case 1:i=1;break;case 2:i=2;break;case 3:i=3;break;case 4:i=9;break;case 5:i=10;break;case 8:i=4;break;case 9:i=6;break;case 10:i=7;break;case 11:i=8;break;case 12:i=11;break;case 13:i=12;break;case 14:i=13;break;case 15:i=14;break;case 16:i=5;break;default:continue}0<m?s.onButtonDown.dispatch(i):s.onButtonUp.dispatch(i)}l.buttons[g]=m}}for(i=0,m=o.axes.length;i<m;)f=i++,o.axes[f]!=l.axes[f]&&(n.onAxisMove.dispatch(f,o.axes[f]),s?.onAxisMove.dispatch(f,o.axes[f]),l.axes[f]=o.axes[f])}else l.connected&&(l.connected=!1,kd.__disconnect(i),ae.__disconnect(i))}},__class__:wq};var xq=function(){this.connected=!0,this.buttons=[],this.axes=[]};k["lime._internal.backend.html5.GameDeviceData"]=xq,xq.__name__="lime._internal.backend.html5.GameDeviceData",xq.prototype={connected:null,id:null,isGamepad:null,buttons:null,axes:null,__class__:xq};var yq=function(e){this.parent=e,this.id=-1,this.gain=1};k["lime._internal.backend.html5.HTML5AudioSource"]=yq,yq.__name__="lime._internal.backend.html5.HTML5AudioSource",yq.prototype={completed:null,gain:null,id:null,length:null,loops:null,parent:null,playing:null,dispose:function(){},init:function(){},play:function(){if(!this.playing&&null!=this.parent.buffer&&null!=this.parent.buffer.__srcHowl){this.playing=!0;var e=this.getCurrentTime();this.completed=!1;var i=this.parent.buffer.__srcHowl._volume;this.parent.buffer.__srcHowl._volume=this.parent.get_gain(),this.id=this.parent.buffer.__srcHowl.play(),this.parent.buffer.__srcHowl._volume=i,null!=this.parent.get_pan()&&this.setPan(this.parent.get_pan()),null!=this.parent.get_position()&&this.setPosition(this.parent.get_position()),this.parent.buffer.__srcHowl.on("end",r(this,this.howl_onEnd),this.id),this.setCurrentTime(e)}},pause:function(){this.playing=!1,null!=this.parent.buffer&&null!=this.parent.buffer.__srcHowl&&this.parent.buffer.__srcHowl.pause(this.id)},stop:function(){this.playing=!1,null!=this.parent.buffer&&null!=this.parent.buffer.__srcHowl&&(this.parent.buffer.__srcHowl.stop(this.id),this.parent.buffer.__srcHowl.off("end",r(this,this.howl_onEnd),this.id))},update:function(){},howl_onEnd:function(){this.playing=!1,0<this.loops?(this.loops--,this.stop(),this.play()):(null!=this.parent.buffer&&null!=this.parent.buffer.__srcHowl&&(this.parent.buffer.__srcHowl.stop(this.id),this.parent.buffer.__srcHowl.off("end",r(this,this.howl_onEnd),this.id)),this.completed=!0,this.parent.onComplete.dispatch())},getCurrentTime:function(){if(-1==this.id)return 0;if(this.completed)return this.getLength();if(null!=this.parent.buffer&&null!=this.parent.buffer.__srcHowl){var e=(1e3*this.parent.buffer.__srcHowl.seek(this.id)|0)-this.parent.offset;return 0>e?0:e}return 0},setCurrentTime:function(e){if(null!=this.parent.buffer&&null!=this.parent.buffer.__srcHowl){var i=(e+this.parent.offset)/1e3;0>i&&(i=0),this.parent.buffer.__srcHowl.seek(i,this.id)}return e},getGain:function(){return this.gain},setGain:function(e){return null!=this.parent.buffer&&null!=this.parent.buffer.__srcHowl&&-1!=this.id&&this.parent.buffer.__srcHowl.volume(e,this.id),this.gain=e},getLength:function(){return 0!=this.length?this.length:null!=this.parent.buffer&&null!=this.parent.buffer.__srcHowl?1e3*this.parent.buffer.__srcHowl.duration()|0:0},setLength:function(e){return this.length=e},getLoops:function(){return this.loops},setLoops:function(e){return this.loops=e},setPan:function(e){return null!=this.parent.buffer.__srcHowl&&null!=this.parent.buffer.__srcHowl.stereo&&this.parent.buffer.__srcHowl.stereo(e,this.id),e},setPosition:function(e){return null!=this.parent.buffer.__srcHowl&&null!=this.parent.buffer.__srcHowl.pos&&this.parent.buffer.__srcHowl.pos(e.x,e.y,e.z,this.id),e},__class__:yq};var Ta=function(){this.validStatus0=new Ra("Tizen","gi").match(window.navigator.userAgent)};k["lime._internal.backend.html5.HTML5HTTPRequest"]=Ta,Ta.__name__="lime._internal.backend.html5.HTML5HTTPRequest",Ta.loadImage=function(e){var i=new Sd;return Ta.activeRequests<Ta.requestLimit?(Ta.activeRequests++,Ta.__loadImage(e,i,0)):Ta.requestQueue.add({instance:null,uri:e,promise:i,type:"IMAGE",options:0}),i.future},Ta.loadImageFromBytes=function(e,i){var s=URL.createObjectURL(new Blob([e.b.bufferValue],{type:i}));return null!=s?(e=new Sd,Ta.activeRequests<Ta.requestLimit?(Ta.activeRequests++,Ta.__loadImage(s,e,1)):Ta.requestQueue.add({instance:null,uri:s,promise:e,type:"IMAGE",options:1}),e.future):Ta.loadImage("data:"+i+";base64,"+og.encode(e))},Ta.processQueue=function(){if(Ta.activeRequests<Ta.requestLimit&&0<Ta.requestQueue.length){Ta.activeRequests++;var e=Ta.requestQueue.pop();switch(e.type){case"BINARY":e.instance.__loadData(e.uri,e.promise);break;case"IMAGE":Ta.__loadImage(e.uri,e.promise,e.options);break;case"TEXT":e.instance.__loadText(e.uri,e.promise);break;default:Ta.activeRequests--}}},Ta.__createBlobURIFromBytes=function(e,i){return URL.createObjectURL(new Blob([e.b.bufferValue],{type:i}))},Ta.__fixHostname=function(e){return e??""},Ta.__fixPort=function(e,i){if(null==e||""==e)switch(i){case"ftp:":return"21";case"gopher:":return"70";case"http:":case"ws:":return"80";case"https:":case"wss:":return"443";default:return""}return e},Ta.__fixProtocol=function(e){return null==e||""==e?"http:":e},Ta.__isInMemoryURI=function(e){return!!aa.startsWith(e,"data:")||aa.startsWith(e,"blob:")},Ta.__isSameOrigin=function(e){if(null==e||""==e||Ta.__isInMemoryURI(e))return!0;null==Ta.originElement&&(Ta.originElement=window.document.createElement("a"),Ta.originHostname=Ta.__fixHostname(window.location.hostname),Ta.originProtocol=Ta.__fixProtocol(window.location.protocol),Ta.originPort=Ta.__fixPort(window.location.port,Ta.originProtocol));var i=Ta.originElement;i.href=e,""==i.hostname&&(i.href=i.href);var s=Ta.__fixHostname(i.hostname);return e=Ta.__fixProtocol(i.protocol),i=Ta.__fixPort(i.port,e),s=""==s||s==Ta.originHostname,i=""==i||i==Ta.originPort,!("file:"==e||!s)&&i},Ta.__loadImage=function(e,i,s){var n=new Image;if(Ta.__isSameOrigin(e)||(n.crossOrigin="Anonymous"),null==Ta.supportsImageProgress&&(Ta.supportsImageProgress="onprogress"in n),Ta.supportsImageProgress||Ta.__isInMemoryURI(e))n.addEventListener("load",function(l){Ta.__revokeBlobURI(e,s),(l=new pg(null,n.width,n.height)).__srcImage=n,Ta.activeRequests--,Ta.processQueue(),i.complete(new Lb(l))},!1),n.addEventListener("progress",function(l){i.progress(l.loaded,l.total)},!1),n.addEventListener("error",function(l){Ta.__revokeBlobURI(e,s),Ta.activeRequests--,Ta.processQueue(),i.error(l.detail)},!1),n.src=e;else{var o=new XMLHttpRequest;o.onload=function(l){Ta.activeRequests--,Ta.processQueue(),(new Lb).__fromBytes(bb.ofData(o.response),function(_){i.complete(_)})},o.onerror=function(l){i.error(l.message)},o.onprogress=function(l){l.lengthComputable&&i.progress(l.loaded,l.total)},o.open("GET",e,!0),o.responseType="arraybuffer",o.overrideMimeType("text/plain; charset=x-user-defined"),o.send(null)}},Ta.__revokeBlobURI=function(e,i){1&i&&URL.revokeObjectURL(e)},Ta.prototype={binary:null,parent:null,request:null,validStatus0:null,cancel:function(){null!=this.request&&this.request.abort()},init:function(e){this.parent=e},load:function(e,i,s){if(this.request=new XMLHttpRequest,"POST"==this.parent.method?this.request.upload.addEventListener("progress",i,!1):this.request.addEventListener("progress",i,!1),this.request.onreadystatechange=s,i="",null==this.parent.data){for(s=this.parent.formData.keys();s.hasNext();){var n=s.next();0<i.length&&(i+="&");var o=this.parent.formData,l=null!=t[n]?o.getReserved(n):o.h[n];if(-1<n.indexOf("[]")&&l instanceof Array){for(o=[],l=S(l);l.hasNext();){var _=l.next();o.push(encodeURIComponent(_))}o=o.join("&amp;"+n+"="),i+=encodeURIComponent(n)+"="+o}else n=encodeURIComponent(n)+"=",o=O.string(l),i+=n+encodeURIComponent(o)}"GET"==this.parent.method&&""!=i&&(e=-1<e.indexOf("?")?e+"&"+i:e+"?"+i,i="")}for(this.request.open(O.string(this.parent.method),e,!0),0<this.parent.timeout&&(this.request.timeout=this.parent.timeout),this.binary&&(this.request.responseType="arraybuffer"),e=null,s=0,n=this.parent.headers;s<n.length;)o=n[s],++s,"Content-Type"==o.name?e=o.value:this.request.setRequestHeader(o.name,o.value);null!=this.parent.contentType&&(e=this.parent.contentType),null==e&&(null!=this.parent.data?e="application/octet-stream":""!=i&&(e="application/x-www-form-urlencoded")),null!=e&&this.request.setRequestHeader("Content-Type",e),this.parent.withCredentials&&(this.request.withCredentials=!0),this.request.send(null!=this.parent.data?this.parent.data.b.bufferValue:i)},loadData:function(e){var i=new Sd;return Ta.activeRequests<Ta.requestLimit?(Ta.activeRequests++,this.__loadData(e,i)):Ta.requestQueue.add({instance:this,uri:e,promise:i,type:"BINARY",options:0}),i.future},loadText:function(e){var i=new Sd;return Ta.activeRequests<Ta.requestLimit?(Ta.activeRequests++,this.__loadText(e,i)):Ta.requestQueue.add({instance:this,uri:e,promise:i,type:"TEXT",options:0}),i.future},processResponse:function(){if(this.parent.enableResponseHeaders){this.parent.responseHeaders=[];for(var e,i,s=0,n=this.request.getAllResponseHeaders().split("\n");s<n.length;)i=n[s],++s,e=aa.trim(B.substr(i,0,i.indexOf(":"))),i=aa.trim(B.substr(i,i.indexOf(":")+1,null)),""!=e&&this.parent.responseHeaders.push(new eo(e,i))}this.parent.responseStatus=this.request.status},__loadData:function(e,i){var s=this;this.binary=!0,this.load(e,function(n){i.progress(n.loaded,n.total)},function(n){4==s.request.readyState&&(null!=s.request.status&&(200<=s.request.status&&400>s.request.status||s.validStatus0&&0==s.request.status)?(n=null,""==s.request.responseType?null!=s.request.responseText&&(n=bb.ofString(s.request.responseText)):null!=s.request.response&&(n=bb.ofData(s.request.response)),s.processResponse(),i.complete(n)):(s.processResponse(),i.error(s.request.status)),s.request=null,Ta.activeRequests--,Ta.processQueue())})},__loadText:function(e,i){var s=this;this.binary=!1,this.load(e,function(n){i.progress(n.loaded,n.total)},function(n){4==s.request.readyState&&(null!=s.request.status&&(200<=s.request.status&&400>=s.request.status||s.validStatus0&&0==s.request.status)?(s.processResponse(),i.complete(s.request.responseText)):(s.processResponse(),i.error(s.request.status)),s.request=null,Ta.activeRequests--,Ta.processQueue())})},__class__:Ta};var vb=function(e){this.unusedTouchesPool=new ib,this.scale=1,this.currentTouches=new Va,this.parent=e,this.cursor=Hd.DEFAULT,this.cacheMouseY=this.cacheMouseX=0;var i=e.__attributes;Object.prototype.hasOwnProperty.call(i,"context")||(i.context={}),this.renderType=i.context.type,Object.prototype.hasOwnProperty.call(i,"element")&&(e.element=i.element);var s=e.element;if(Object.prototype.hasOwnProperty.call(i,"allowHighDPI")&&i.allowHighDPI&&"dom"!=this.renderType&&(this.scale=window.devicePixelRatio),e.__scale=this.scale,this.setWidth=Object.prototype.hasOwnProperty.call(i,"width")?i.width:0,this.setHeight=Object.prototype.hasOwnProperty.call(i,"height")?i.height:0,e.__width=this.setWidth,e.__height=this.setHeight,e.id=vb.windowID++,s instanceof HTMLCanvasElement?this.canvas=s:"dom"==this.renderType?this.div=window.document.createElement("div"):this.canvas=window.document.createElement("canvas"),null!=this.canvas){var n=this.canvas.style;n.setProperty("-webkit-transform","translateZ(0)",null),n.setProperty("transform","translateZ(0)",null)}else null!=this.div&&((n=this.div.style).setProperty("-webkit-transform","translate3D(0,0,0)",null),n.setProperty("transform","translate3D(0,0,0)",null),n.position="relative",n.overflow="hidden",n.setProperty("-webkit-user-select","none",null),n.setProperty("-moz-user-select","none",null),n.setProperty("-ms-user-select","none",null),n.setProperty("-o-user-select","none",null));if(0==e.__width&&0==e.__height&&(null!=s?(e.__width=s.clientWidth,e.__height=s.clientHeight):(e.__width=window.innerWidth,e.__height=window.innerHeight),this.cacheElementWidth=e.__width,this.cacheElementHeight=e.__height,this.resizeElement=!0),null!=this.canvas?(this.canvas.width=Math.round(e.__width*this.scale),this.canvas.height=Math.round(e.__height*this.scale),this.canvas.style.width=e.__width+"px",this.canvas.style.height=e.__height+"px"):(this.div.style.width=e.__width+"px",this.div.style.height=e.__height+"px"),(Object.prototype.hasOwnProperty.call(i,"resizable")&&i.resizable||!Object.prototype.hasOwnProperty.call(i,"width")&&0==this.setWidth&&0==this.setHeight)&&(e.__resizable=!0),this.updateSize(),null!=s){for(null!=this.canvas?s!=this.canvas&&s.appendChild(this.canvas):s.appendChild(this.div),i="mousedown mouseenter mouseleave mousemove mouseup wheel".split(" "),n=0;n<i.length;){var o=i[n];++n,s.addEventListener(o,r(this,this.handleMouseEvent),!0)}s.addEventListener("contextmenu",r(this,this.handleContextMenuEvent),!0),s.addEventListener("dragstart",r(this,this.handleDragEvent),!0),s.addEventListener("dragover",r(this,this.handleDragEvent),!0),s.addEventListener("drop",r(this,this.handleDragEvent),!0),s.addEventListener("touchstart",r(this,this.handleTouchEvent),!0),s.addEventListener("touchmove",r(this,this.handleTouchEvent),!0),s.addEventListener("touchend",r(this,this.handleTouchEvent),!0),s.addEventListener("touchcancel",r(this,this.handleTouchEvent),!0),s.addEventListener("gamepadconnected",r(this,this.handleGamepadEvent),!0),s.addEventListener("gamepaddisconnected",r(this,this.handleGamepadEvent),!0)}this.createContext(),"webgl"==e.context.type&&(this.canvas.addEventListener("webglcontextlost",r(this,this.handleContextEvent),!1),this.canvas.addEventListener("webglcontextrestored",r(this,this.handleContextEvent),!1))};k["lime._internal.backend.html5.HTML5Window"]=vb,vb.__name__="lime._internal.backend.html5.HTML5Window",vb.prototype={canvas:null,div:null,cacheElementHeight:null,cacheElementWidth:null,cacheMouseX:null,cacheMouseY:null,cursor:null,currentTouches:null,isFullscreen:null,parent:null,primaryTouch:null,renderType:null,requestedFullscreen:null,resizeElement:null,scale:null,setHeight:null,setWidth:null,textInputEnabled:null,unusedTouchesPool:null,alert:function(e,i){null!=e&&window.alert(O.string(e))},close:function(){this.parent.application.__removeWindow(this.parent)},createContext:function(){var e=new zq,i=this.parent.__attributes.context;if(e.window=this.parent,e.attributes=i,null!=this.div)e.dom=this.div,e.type="dom",e.version="";else if(null!=this.canvas){var s=null,n="canvas"==this.renderType,o="opengl"==this.renderType||"opengles"==this.renderType||"webgl"==this.renderType,l=!Object.prototype.hasOwnProperty.call(i,"version")||"1"!=i.version,_=!1;if(o||!n&&(!Object.prototype.hasOwnProperty.call(i,"hardware")||i.hardware))for(n=Object.prototype.hasOwnProperty.call(i,"background")&&null==i.background,o=Object.prototype.hasOwnProperty.call(i,"colorDepth")?i.colorDepth:16,i={alpha:n||16<o,antialias:Object.prototype.hasOwnProperty.call(i,"antialiasing")&&0<i.antialiasing,depth:!Object.prototype.hasOwnProperty.call(i,"depth")||i.depth,premultipliedAlpha:!0,stencil:i=Object.prototype.hasOwnProperty.call(i,"stencil")&&i.stencil,preserveDrawingBuffer:!1,failIfMajorPerformanceCaveat:!0},n=["webgl","experimental-webgl"],l&&n.unshift("webgl2"),l=0;l<n.length&&(o=n[l],++l,null!=(s=this.canvas.getContext(o,i))&&"webgl2"==o&&(_=!0),null==s););null==s?(e.canvas2D=this.canvas.getContext("2d"),e.type="canvas",e.version=""):(e.webgl=zb.fromWebGL2RenderContext(s),_&&(e.webgl2=s),null==q.context&&(q.context=s,q.type="webgl",q.version=_?2:1),e.type="webgl",e.version=_?"2":"1")}this.parent.context=e},focus:function(){},getCursor:function(){return this.cursor},getDisplay:function(){return Na.getDisplay(0)},getDisplayMode:function(){return Na.getDisplay(0).currentMode},getFrameRate:function(){return null==this.parent.application?0:0>this.parent.application.__backend.framePeriod?60:1e3==this.parent.application.__backend.framePeriod?0:1e3/this.parent.application.__backend.framePeriod},getMouseLock:function(){return!1},getTextInputEnabled:function(){return this.textInputEnabled},handleContextEvent:function(e){switch(e.type){case"webglcontextlost":e.cancelable&&e.preventDefault(),this.parent.context=null,this.parent.onRenderContextLost.dispatch();break;case"webglcontextrestored":this.createContext(),this.parent.onRenderContextRestored.dispatch(this.parent.context)}},handleContextMenuEvent:function(e){(this.parent.onMouseUp.canceled||this.parent.onMouseDown.canceled)&&e.cancelable&&e.preventDefault()},handleCutOrCopyEvent:function(e){e.clipboardData.setData("text/plain",Ce.get_text()),e.cancelable&&e.preventDefault()},handleDragEvent:function(e){switch(e.type){case"dragover":return e.preventDefault(),!1;case"dragstart":if("img"==T.__cast(e.target,HTMLElement).nodeName.toLowerCase()&&e.cancelable)return e.preventDefault(),!1;break;case"drop":if(null!=e.dataTransfer&&0<e.dataTransfer.files.length)return this.parent.onDropFile.dispatch(e.dataTransfer.files),e.preventDefault(),!1}return!0},handleFocusEvent:function(e){var i=this;this.textInputEnabled&&(null==e.relatedTarget||this.isDescendent(e.relatedTarget))&&of.delay(function(){i.textInputEnabled&&vb.textInput.focus()},20)},handleFullscreenEvent:function(e){if(null!=(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement))this.isFullscreen=!0,this.parent.__fullscreen=!0,this.requestedFullscreen&&(this.requestedFullscreen=!1,this.parent.onFullscreen.dispatch());else{this.isFullscreen=!1,this.parent.__fullscreen=!1,this.parent.onRestore.dispatch();for(var i=["fullscreenerror","mozfullscreenerror","webkitfullscreenerror","MSFullscreenError"],s=0,n=(e=["fullscreenchange","mozfullscreenchange","webkitfullscreenchange","MSFullscreenChange"]).length;s<n;){var o=s++;window.document.removeEventListener(e[o],r(this,this.handleFullscreenEvent),!1),window.document.removeEventListener(i[o],r(this,this.handleFullscreenEvent),!1)}}},handleGamepadEvent:function(e){switch(e.type){case"gamepadconnected":kd.__connect(e.gamepad.index),"standard"==e.gamepad.mapping&&ae.__connect(e.gamepad.index);break;case"gamepaddisconnected":kd.__disconnect(e.gamepad.index),ae.__disconnect(e.gamepad.index)}},handleInputEvent:function(e){vb.textInput.value!=vb.dummyCharacter&&(0<(e=aa.replace(vb.textInput.value,vb.dummyCharacter,"")).length&&this.parent.onTextInput.dispatch(e),vb.textInput.value=vb.dummyCharacter)},handleMouseEvent:function(e){if("wheel"!=e.type){if(null!=this.parent.element)if(null!=this.canvas){var i=this.canvas.getBoundingClientRect(),s=this.parent.__width/i.width*(e.clientX-i.left);i=this.parent.__height/i.height*(e.clientY-i.top)}else null!=this.div?(i=this.div.getBoundingClientRect(),s=e.clientX-i.left,i=e.clientY-i.top):(i=this.parent.element.getBoundingClientRect(),s=this.parent.__width/i.width*(e.clientX-i.left),i=this.parent.__height/i.height*(e.clientY-i.top));else s=e.clientX,i=e.clientY;switch(e.type){case"mousedown":e.currentTarget==this.parent.element&&window.addEventListener("mouseup",r(this,this.handleMouseEvent)),this.parent.onMouseDown.dispatch(s,i,e.button),this.parent.onMouseDown.canceled&&e.cancelable&&e.preventDefault();break;case"mouseenter":e.target==this.parent.element&&(this.parent.onEnter.dispatch(),this.parent.onEnter.canceled&&e.cancelable&&e.preventDefault());break;case"mouseleave":e.target==this.parent.element&&(this.parent.onLeave.dispatch(),this.parent.onLeave.canceled&&e.cancelable&&e.preventDefault());break;case"mousemove":(s!=this.cacheMouseX||i!=this.cacheMouseY)&&(this.parent.onMouseMove.dispatch(s,i),this.parent.onMouseMoveRelative.dispatch(s-this.cacheMouseX,i-this.cacheMouseY),(this.parent.onMouseMove.canceled||this.parent.onMouseMoveRelative.canceled)&&e.cancelable&&e.preventDefault());break;case"mouseup":window.removeEventListener("mouseup",r(this,this.handleMouseEvent)),e.currentTarget==this.parent.element&&e.stopPropagation(),this.parent.onMouseUp.dispatch(s,i,e.button),this.parent.onMouseUp.canceled&&e.cancelable&&e.preventDefault()}this.cacheMouseX=s,this.cacheMouseY=i}else{switch(e.deltaMode){case 0:s=Aq.PIXELS;break;case 1:s=Aq.LINES;break;case 2:s=Aq.PAGES;break;default:s=Aq.UNKNOWN}this.parent.onMouseWheel.dispatch(e.deltaX,-e.deltaY,s),this.parent.onMouseWheel.canceled&&e.cancelable&&e.preventDefault()}},handlePasteEvent:function(e){if(-1<e.clipboardData.types.indexOf("text/plain")){var i=e.clipboardData.getData("text/plain");Ce.set_text(i),this.textInputEnabled&&this.parent.onTextInput.dispatch(i),e.cancelable&&e.preventDefault()}},handleResizeEvent:function(e){this.primaryTouch=null,this.updateSize()},handleTouchEvent:function(e){e.cancelable&&e.preventDefault();var i=null;null!=this.parent.element&&(i=null!=this.canvas?this.canvas.getBoundingClientRect():null!=this.div?this.div.getBoundingClientRect():this.parent.element.getBoundingClientRect());var s=this.setWidth,n=this.setHeight;(0==s||0==n)&&(null!=i?(s=i.width,n=i.height):n=s=1);for(var o,l,_,h,m,f=0,y=e.changedTouches;f<y.length;){var g=y[f];if(++f,null!=i?(l=s/i.width*(g.clientX-i.left),_=n/i.height*(g.clientY-i.top)):(l=g.clientX,_=g.clientY),"touchstart"==e.type)null==(o=this.unusedTouchesPool.pop())?o=new xd(l/s,_/n,g.identifier,0,0,g.force,this.parent.id):(o.x=l/s,o.y=_/n,o.id=g.identifier,o.dx=0,o.dy=0,o.pressure=g.force,o.device=this.parent.id),this.currentTouches.h[g.identifier]=o,xd.onStart.dispatch(o),null==this.primaryTouch&&(this.primaryTouch=o),o==this.primaryTouch&&this.parent.onMouseDown.dispatch(l,_,0);else if(null!=(o=this.currentTouches.h[g.identifier]))switch(h=o.x,m=o.y,o.x=l/s,o.y=_/n,o.dx=o.x-h,o.dy=o.y-m,o.pressure=g.force,e.type){case"touchcancel":xd.onCancel.dispatch(o),this.currentTouches.remove(g.identifier),this.unusedTouchesPool.add(o),o==this.primaryTouch&&(this.primaryTouch=null);break;case"touchend":xd.onEnd.dispatch(o),this.currentTouches.remove(g.identifier),this.unusedTouchesPool.add(o),o==this.primaryTouch&&(this.parent.onMouseUp.dispatch(l,_,0),this.primaryTouch=null);break;case"touchmove":xd.onMove.dispatch(o),o==this.primaryTouch&&this.parent.onMouseMove.dispatch(l,_)}}},isDescendent:function(e){if(e==this.parent.element)return!0;for(;null!=e;){if(e.parentNode==this.parent.element)return!0;e=e.parentNode}return!1},move:function(e,i){},readPixels:function(e){if(null!=this.canvas){var i=new je(0,0,this.canvas.width,this.canvas.height);if(null==e?e=i:e.intersection(i,e),0<e.width&&0<e.height)return(i=window.document.createElement("canvas")).width=0|e.width,i.height=0|e.height,i.getContext("2d").drawImage(this.canvas,-e.x,-e.y),Lb.fromCanvas(i)}return null},resize:function(e,i){},setBorderless:function(e){return e},setClipboard:function(e){null==vb.textArea&&(vb.textArea=window.document.createElement("textarea"),vb.textArea.style.height="0px",vb.textArea.style.left="-100px",vb.textArea.style.opacity="0",vb.textArea.style.position="fixed",vb.textArea.style.top="-100px",vb.textArea.style.width="0px",window.document.body.appendChild(vb.textArea)),vb.textArea.value=e,vb.textArea.focus(),vb.textArea.select(),window.document.queryCommandEnabled("copy")&&window.document.execCommand("copy")},setCursor:function(e){if(this.cursor!=e){if(null==e)this.parent.element.style.cursor="none";else{switch(e._hx_index){case 0:var i="default";break;case 1:i="crosshair";break;case 3:i="move";break;case 4:i="pointer";break;case 5:i="nesw-resize";break;case 6:i="ns-resize";break;case 7:i="nwse-resize";break;case 8:i="ew-resize";break;case 9:i="text";break;case 10:case 11:i="wait";break;default:i="auto"}this.parent.element.style.cursor=i}this.cursor=e}return this.cursor},setDisplayMode:function(e){return e},setFrameRate:function(e){return null!=this.parent.application&&(60<=e?this.parent==this.parent.application.__window&&(this.parent.application.__backend.framePeriod=-1):0<e?this.parent==this.parent.application.__window&&(this.parent.application.__backend.framePeriod=1e3/e):this.parent==this.parent.application.__window&&(this.parent.application.__backend.framePeriod=1e3)),e},setFullscreen:function(e){return e?this.requestedFullscreen||this.isFullscreen||(this.requestedFullscreen=!0,r(w=this.parent.element,w.requestFullscreen)?(document.addEventListener("fullscreenchange",r(this,this.handleFullscreenEvent),!1),document.addEventListener("fullscreenerror",r(this,this.handleFullscreenEvent),!1),this.parent.element.requestFullscreen()):this.parent.element.mozRequestFullScreen?(document.addEventListener("mozfullscreenchange",r(this,this.handleFullscreenEvent),!1),document.addEventListener("mozfullscreenerror",r(this,this.handleFullscreenEvent),!1),this.parent.element.mozRequestFullScreen()):this.parent.element.webkitRequestFullscreen?(document.addEventListener("webkitfullscreenchange",r(this,this.handleFullscreenEvent),!1),document.addEventListener("webkitfullscreenerror",r(this,this.handleFullscreenEvent),!1),this.parent.element.webkitRequestFullscreen()):this.parent.element.msRequestFullscreen&&(document.addEventListener("MSFullscreenChange",r(this,this.handleFullscreenEvent),!1),document.addEventListener("MSFullscreenError",r(this,this.handleFullscreenEvent),!1),this.parent.element.msRequestFullscreen())):this.isFullscreen&&(this.requestedFullscreen=!1,document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()),e},setIcon:function(e){za.convertToCanvas(e);var i=window.document.querySelector("link[rel*='icon']");null==i&&(i=window.document.createElement("link")),i.type="image/x-icon",i.rel="shortcut icon",i.href=e.buffer.get_src().toDataURL("image/x-icon"),window.document.getElementsByTagName("head")[0].appendChild(i)},setMaximized:function(e){return!1},setMinimized:function(e){return!1},setMouseLock:function(e){},setResizable:function(e){return e},setTextInputEnabled:function(e){return e?(null==vb.textInput&&(vb.textInput=window.document.createElement("input"),vb.textInput.type="text",vb.textInput.style.position="absolute",vb.textInput.style.opacity="0",vb.textInput.style.color="transparent",vb.textInput.value=vb.dummyCharacter,vb.textInput.autocapitalize="off",vb.textInput.autocorrect="off",vb.textInput.autocomplete="off",vb.textInput.style.left="0px",vb.textInput.style.top="50%",new Ra("(iPad|iPhone|iPod).*OS 8_","gi").match(window.navigator.userAgent)?(vb.textInput.style.fontSize="0px",vb.textInput.style.width="0px",vb.textInput.style.height="0px"):(vb.textInput.style.width="1px",vb.textInput.style.height="1px"),vb.textInput.style.pointerEvents="none",vb.textInput.style.zIndex="-10000000"),null==vb.textInput.parentNode&&this.parent.element.appendChild(vb.textInput),this.textInputEnabled||(vb.textInput.addEventListener("input",r(this,this.handleInputEvent),!0),vb.textInput.addEventListener("blur",r(this,this.handleFocusEvent),!0),vb.textInput.addEventListener("cut",r(this,this.handleCutOrCopyEvent),!0),vb.textInput.addEventListener("copy",r(this,this.handleCutOrCopyEvent),!0),vb.textInput.addEventListener("paste",r(this,this.handlePasteEvent),!0)),vb.textInput.focus(),vb.textInput.select()):null!=vb.textInput&&(vb.textInput.removeEventListener("input",r(this,this.handleInputEvent),!0),vb.textInput.removeEventListener("blur",r(this,this.handleFocusEvent),!0),vb.textInput.removeEventListener("cut",r(this,this.handleCutOrCopyEvent),!0),vb.textInput.removeEventListener("copy",r(this,this.handleCutOrCopyEvent),!0),vb.textInput.removeEventListener("paste",r(this,this.handlePasteEvent),!0),vb.textInput.blur()),this.textInputEnabled=e},setTitle:function(e){return null!=e&&(window.document.title=e),e},updateSize:function(){if(this.parent.__resizable){if(null!=this.parent.element)var e=this.parent.element.clientWidth,i=this.parent.element.clientHeight;else e=window.innerWidth,i=window.innerHeight;if(e!=this.cacheElementWidth||i!=this.cacheElementHeight){this.cacheElementWidth=e,this.cacheElementHeight=i;var s=this.resizeElement||0==this.setWidth&&0==this.setHeight;if(null!=this.parent.element&&(null==this.div||null!=this.div&&s))if(s)(this.parent.__width!=e||this.parent.__height!=i)&&(this.parent.__width=e,this.parent.__height=i,null!=this.canvas?this.parent.element!=this.canvas&&(this.canvas.width=Math.round(e*this.scale),this.canvas.height=Math.round(i*this.scale),this.canvas.style.width=e+"px",this.canvas.style.height=i+"px"):(this.div.style.width=e+"px",this.div.style.height=i+"px"),this.parent.onResize.dispatch(e,i));else{var n=0!=this.setHeight?i/this.setHeight:1,o=e,l=i,_=0,h=0;(s=0!=this.setWidth?e/this.setWidth:1)<n?(l=Math.floor(this.setHeight*s),h=Math.floor((i-l)/2)):(o=Math.floor(this.setWidth*n),_=Math.floor((e-o)/2)),null!=this.canvas?this.parent.element!=this.canvas&&(this.canvas.style.width=o+"px",this.canvas.style.height=l+"px",this.canvas.style.marginLeft=_+"px",this.canvas.style.marginTop=h+"px"):(this.div.style.width=o+"px",this.div.style.height=l+"px",this.div.style.marginLeft=_+"px",this.div.style.marginTop=h+"px")}}}},warpMouse:function(e,i){},__class__:vb};var ht=function(){};k["lime._internal.backend.native.NativeCFFI"]=ht,ht.__name__="lime._internal.backend.native.NativeCFFI";var fs=function(){};k["lime._internal.format.BMP"]=fs,fs.__name__="lime._internal.format.BMP",fs.encode=function(e,i){(e.get_premultiplied()||0!=e.get_format())&&((e=e.clone()).set_premultiplied(!1),e.set_format(0)),null==i&&(i=Bq.RGB);var s=14,n=40,o=e.width*e.height*4;if(null!=i)switch(i._hx_index){case 0:o=(3*e.width+3*e.width%4)*e.height;break;case 1:n=108;break;case 2:s=0,o+=e.width*e.height}var l=new bb(new ArrayBuffer(s+n+o)),_=0;if(0<s&&(l.b[_++]=66,l.b[_++]=77,l.setInt32(_,l.length),l.setUInt16(_+=4,0),l.setUInt16(_+=2,0),l.setInt32(_+=2,s+n),_+=4),l.setInt32(_,n),l.setInt32(_+=4,e.width),l.setInt32(_+=4,i==Bq.ICO?2*e.height:e.height),l.setUInt16(_+=4,1),l.setUInt16(_+=2,i==Bq.RGB?24:32),l.setInt32(_+=2,i==Bq.BITFIELD?3:0),l.setInt32(_+=4,o),l.setInt32(_+=4,11824),l.setInt32(_+=4,11824),l.setInt32(_+=4,0),l.setInt32(_+=4,0),_+=4,i==Bq.BITFIELD)for(l.setInt32(_,16711680),l.setInt32(_+=4,65280),l.setInt32(_+=4,255),l.setInt32(_+=4,-16777216),_+=4,l.b[_++]=32,l.b[_++]=110,l.b[_++]=105,l.b[_++]=87,s=0;48>s;)s++,l.b[_++]=0;if(s=e.getPixels(new je(0,0,e.width,e.height),1),null!=i)switch(i._hx_index){case 0:for(var h=0,m=e.height;h<m;){i=h++,i=4*(e.height-1-i)*e.width;for(var f=0,y=e.width;f<y;){f++,i++,n=s.b[i++],o=s.b[i++];var g=s.b[i++];l.b[_++]=255&g,l.b[_++]=255&o,l.b[_++]=255&n}for(i=0,n=3*e.width%4;i<n;)i++,l.b[_++]=0}break;case 1:for(m=0,f=e.height;m<f;){i=m++,i=4*(e.height-1-i)*e.width,y=0;for(var j=e.width;y<j;)y++,h=s.b[i++],n=s.b[i++],o=s.b[i++],g=s.b[i++],l.b[_++]=255&g,l.b[_++]=255&o,l.b[_++]=255&n,l.b[_++]=255&h}break;case 2:for(m=new bb(new ArrayBuffer(e.width*e.height)),y=f=0,j=e.height;y<j;){i=y++,i=4*(e.height-1-i)*e.width;for(var $=0,yt=e.width;$<yt;)$++,h=s.b[i++],n=s.b[i++],o=s.b[i++],g=s.b[i++],l.b[_++]=255&g,l.b[_++]=255&o,l.b[_++]=255&n,l.b[_++]=255&h,m.b[f++]=0}l.blit(_,m,0,e.width*e.height)}return l};var Bq=C["lime._internal.format.BMPType"]={__ename__:"lime._internal.format.BMPType",__constructs__:["RGB","BITFIELD","ICO"],RGB:{_hx_index:0,__enum__:"lime._internal.format.BMPType",toString:v},BITFIELD:{_hx_index:1,__enum__:"lime._internal.format.BMPType",toString:v},ICO:{_hx_index:2,__enum__:"lime._internal.format.BMPType",toString:v}},og=function(){};k["lime._internal.format.Base64"]=og,og.__name__="lime._internal.format.Base64",og.decode=function(e){return fi.decode(e)},og.encode=function(e){var i=[],s=og.DICTIONARY,n=og.EXTENDED_DICTIONARY,o=e.length,l=Math.floor(o/3),_=2*l;i.length=2*Math.ceil(o/3);for(var f,h=0,m=0;m<_;)i[m]=n[(f=e.b[h]<<16|e.b[h+1]<<8|e.b[h+2])>>12&4095],i[m+1]=n[4095&f],h+=3,m+=2;switch(o-3*l){case 1:i[m]=n[(f=e.b[h]<<16)>>12&4095],i[m+1]="==";break;case 2:i[m]=n[(f=e.b[h]<<16|e.b[h+1]<<8)>>12&4095],i[m+1]=s[f>>6&63]+"="}return i.join("")};var fo=function(){};k["lime._internal.format.Deflate"]=fo,fo.__name__="lime._internal.format.Deflate",fo.compress=function(e){return e=pako.deflateRaw(e.b.bufferValue),bb.ofData(e)},fo.decompress=function(e){return e=pako.inflateRaw(e.b.bufferValue),bb.ofData(e)};var go=function(){};k["lime._internal.format.GZip"]=go,go.__name__="lime._internal.format.GZip",go.compress=function(e){return e=pako.gzip(e.b.bufferValue),bb.ofData(e)},go.decompress=function(e){return e=pako.ungzip(e.b.bufferValue),bb.ofData(e)};var ho=function(){};k["lime._internal.format.JPEG"]=ho,ho.__name__="lime._internal.format.JPEG",ho.decodeBytes=function(e,i){return null},ho.decodeFile=function(e,i){return null},ho.encode=function(e,i){if((e.get_premultiplied()||0!=e.get_format())&&((e=e.clone()).set_premultiplied(!1),e.set_format(0)),za.convertToCanvas(e,!1),null!=e.buffer.__srcCanvas){e=e.buffer.__srcCanvas.toDataURL("image/jpeg",i/100),e=window.atob(e.split(";base64,")[1]),i=new bb(new ArrayBuffer(e.length));for(var s=0,n=e.length;s<n;){var o=s++;i.b[o]=255&B.cca(e,o)}return i}return null};var io=function(){};k["lime._internal.format.LZMA"]=io,io.__name__="lime._internal.format.LZMA",io.compress=function(e){return null},io.decompress=function(e){return null};var el=function(){};k["lime._internal.format.PNG"]=el,el.__name__="lime._internal.format.PNG",el.decodeBytes=function(e,i){return null},el.decodeFile=function(e,i){return null},el.encode=function(e){if((e.get_premultiplied()||0!=e.get_format())&&((e=e.clone()).set_premultiplied(!1),e.set_format(0)),za.convertToCanvas(e,!1),null!=e.buffer.__srcCanvas){e=e.buffer.__srcCanvas.toDataURL("image/png"),e=window.atob(e.split(";base64,")[1]);for(var i=new bb(new ArrayBuffer(e.length)),s=0,n=e.length;s<n;){var o=s++;i.b[o]=255&B.cca(e,o)}return i}return null};var jo=function(){};k["lime._internal.format.Zlib"]=jo,jo.__name__="lime._internal.format.Zlib",jo.compress=function(e){return e=pako.deflate(e.b.bufferValue),bb.ofData(e)},jo.decompress=function(e){return e=pako.inflate(e.b.bufferValue),bb.ofData(e)};var za=function(){};k["lime._internal.graphics.ImageCanvasUtil"]=za,za.__name__="lime._internal.graphics.ImageCanvasUtil",za.colorTransform=function(e,i,s){za.convertToData(e),ab.colorTransform(e,i,s)},za.convertToCanvas=function(e,i){null==i&&(i=!1);var s=e.buffer;null!=s.__srcImage?(null==s.__srcCanvas&&(za.createCanvas(e,s.__srcImage.width,s.__srcImage.height),s.__srcContext.drawImage(s.__srcImage,0,0)),s.__srcImage=null):null==s.__srcCanvas&&null!=s.data?(e.set_transparent(!0),za.createCanvas(e,s.width,s.height),za.createImageData(e),s.__srcContext.putImageData(s.__srcImageData,0,0)):e.type==If.DATA&&null!=s.__srcImageData&&e.dirty&&(s.__srcContext.putImageData(s.__srcImageData,0,0),e.dirty=!1),i?(s.data=null,s.__srcImageData=null):null==s.data&&null!=s.__srcImageData&&(s.data=s.__srcImageData.data),e.type=If.CANVAS},za.convertToData=function(e,i){null==i&&(i=!1);var s=e.buffer;if(null!=s.__srcImage&&za.convertToCanvas(e),null!=s.__srcCanvas&&null==s.data)za.createImageData(e),e.type==If.CANVAS&&(e.dirty=!1);else if(e.type==If.CANVAS&&null!=s.__srcCanvas&&e.dirty){if(null==s.__srcImageData)za.createImageData(e);else{s.__srcImageData=s.__srcContext.getImageData(0,0,s.width,s.height);var n=s.__srcImageData.data.buffer;n=null!=n?new Uint8Array(n):null,s.data=n}e.dirty=!1}i&&(e.buffer.__srcCanvas=null,e.buffer.__srcContext=null),e.type=If.DATA},za.copyChannel=function(e,i,s,n,o,l){za.convertToData(i),za.convertToData(e),ab.copyChannel(e,i,s,n,o,l)},za.copyPixels=function(e,i,s,n,o,l,_){null==_&&(_=!1),null==n||n.x>=e.width||n.y>=e.height||null==s||1>s.width||1>s.height||(null!=o&&o.get_transparent()&&(null==l&&(l=new Fd),(i=i.clone()).copyChannel(o,new je(s.x+l.x,s.y+l.y,s.width,s.height),new Fd(s.x,s.y),yf.ALPHA,yf.ALPHA)),za.convertToCanvas(e,!0),_||e.get_transparent()&&i.get_transparent()&&e.buffer.__srcContext.clearRect(n.x+e.offsetX,n.y+e.offsetY,s.width+e.offsetX,s.height+e.offsetY),za.convertToCanvas(i),null!=i.buffer.get_src()&&(e.buffer.__srcContext.globalCompositeOperation="source-over",e.buffer.__srcContext.drawImage(i.buffer.get_src(),s.x+i.offsetX|0,s.y+i.offsetY|0,0|s.width,0|s.height,n.x+e.offsetX|0,n.y+e.offsetY|0,0|s.width,0|s.height)),e.dirty=!0,e.version++)},za.createCanvas=function(e,i,s){var n=e.buffer;null==n.__srcCanvas&&(n.__srcCanvas=window.document.createElement("canvas"),n.__srcCanvas.width=i,n.__srcCanvas.height=s,e.get_transparent()?n.__srcContext=n.__srcCanvas.getContext("2d"):(e.get_transparent()||n.__srcCanvas.setAttribute("moz-opaque","true"),n.__srcContext=n.__srcCanvas.getContext("2d",{alpha:!1})))},za.createImageData=function(e){if(null==(e=e.buffer).__srcImageData){null==e.data?e.__srcImageData=e.__srcContext.getImageData(0,0,e.width,e.height):(e.__srcImageData=e.__srcContext.createImageData(e.width,e.height),e.__srcImageData.data.set(e.data));var i=e.__srcImageData.data.buffer;i=null!=i?new Uint8Array(i):null,e.data=i}},za.fillRect=function(e,i,s,n){if(za.convertToCanvas(e),1==n){n=s>>16&255;var o=s>>8&255,l=255&s;s=e.get_transparent()?s>>24&255:255}else n=s>>24&255,o=s>>16&255,l=s>>8&255,s=e.get_transparent()?255&s:255;0==i.x&&0==i.y&&i.width==e.width&&i.height==e.height&&e.get_transparent()&&0==s?e.buffer.__srcCanvas.width=e.buffer.width:(255>s&&e.buffer.__srcContext.clearRect(i.x+e.offsetX,i.y+e.offsetY,i.width+e.offsetX,i.height+e.offsetY),0<s&&(e.buffer.__srcContext.fillStyle="rgba("+n+", "+o+", "+l+", "+s/255+")",e.buffer.__srcContext.fillRect(i.x+e.offsetX,i.y+e.offsetY,i.width+e.offsetX,i.height+e.offsetY)),e.dirty=!0,e.version++)},za.floodFill=function(e,i,s,n,o){za.convertToData(e),ab.floodFill(e,i,s,n,o)},za.getPixel=function(e,i,s,n){return za.convertToData(e),ab.getPixel(e,i,s,n)},za.getPixel32=function(e,i,s,n){return za.convertToData(e),ab.getPixel32(e,i,s,n)},za.getPixels=function(e,i,s){return za.convertToData(e),ab.getPixels(e,i,s)},za.merge=function(e,i,s,n,o,l,_,h){za.convertToData(i),za.convertToData(e),ab.merge(e,i,s,n,o,l,_,h)},za.resize=function(e,i,s){var n=e.buffer;if(null==n.__srcCanvas)za.createCanvas(e,i,s),n.__srcContext.drawImage(n.get_src(),0,0,i,s);else{za.convertToCanvas(e,!0);var o=n.__srcCanvas;n.__srcCanvas=null,za.createCanvas(e,i,s),n.__srcContext.drawImage(o,0,0,i,s)}n.__srcImageData=null,n.data=null,e.dirty=!0,e.version++},za.scroll=function(e,i,s){if(i%e.width!=0||s%e.height!=0){var n=e.clone();za.convertToCanvas(e,!0),e.buffer.__srcContext.clearRect(i,s,e.width,e.height),e.buffer.__srcContext.drawImage(n.get_src(),i,s),e.dirty=!0,e.version++}},za.setPixel=function(e,i,s,n,o){za.convertToData(e),ab.setPixel(e,i,s,n,o)},za.setPixel32=function(e,i,s,n,o){za.convertToData(e),ab.setPixel32(e,i,s,n,o)},za.setPixels=function(e,i,s,n,o){za.convertToData(e),ab.setPixels(e,i,s,n,o)},za.sync=function(e,i){null!=e&&(e.type!=If.CANVAS||null==e.buffer.__srcCanvas&&null==e.buffer.data?e.type==If.DATA&&za.convertToData(e,i):za.convertToCanvas(e,i))};var ab=function(){};k["lime._internal.graphics.ImageDataUtil"]=ab,ab.__name__="lime._internal.graphics.ImageDataUtil",ab.displaceMap=function(e,i,s,n,o,l,_){var h=e.buffer.data,m=i.buffer.data,f=s.buffer.data,y=e.buffer.format,g=i.buffer.format,j=s.buffer.format,$=e.get_premultiplied(),yt=i.get_premultiplied(),_t=s.get_premultiplied();i=new gf(i),s=new gf(s);for(var xt,Tt,St,Mt,Et,Ct,Dt,At,Nt,Ft,Lt,Ot,Ht=0,$t=i.height;Ht<$t;){var zt=Ht++;xt=i.byteOffset+i.stride*zt;for(var Jt=0,Qt=i.width;Jt<Qt;){var Kt=Jt++;if(Tt=xt+4*Kt,Dt=0|n.x,Et=0|n.y,_){switch(Mt=i.byteOffset+i.stride*(zt-Et+1)+4*(Kt-Dt),null==(Ot=_t)&&(Ot=!1),null==(Ct=j)&&(Ct=0),Ct){case 0:At=(255&f[Mt])<<24|(255&f[Mt+1])<<16|(255&f[Mt+2])<<8|255&f[Mt+3];break;case 1:At=(255&f[Mt+1])<<24|(255&f[Mt+2])<<16|(255&f[Mt+3])<<8|255&f[Mt];break;case 2:At=(255&f[Mt+2])<<24|(255&f[Mt+1])<<16|(255&f[Mt])<<8|255&f[Mt+3]}switch(Ot&&255&At&&255!=(255&At)&&(I.unmult=255/(255&At),At=(255&I.__clamp[Math.round((At>>>24&255)*I.unmult)])<<24|(255&I.__clamp[Math.round((At>>>16&255)*I.unmult)])<<16|(255&I.__clamp[Math.round((At>>>8&255)*I.unmult)])<<8|255&At),Mt=i.byteOffset+i.stride*(zt-Et)+4*(Kt-Dt+1),null==(Ot=_t)&&(Ot=!1),null==(Ct=j)&&(Ct=0),Ct){case 0:Nt=(255&f[Mt])<<24|(255&f[Mt+1])<<16|(255&f[Mt+2])<<8|255&f[Mt+3];break;case 1:Nt=(255&f[Mt+1])<<24|(255&f[Mt+2])<<16|(255&f[Mt+3])<<8|255&f[Mt];break;case 2:Nt=(255&f[Mt+2])<<24|(255&f[Mt+1])<<16|(255&f[Mt])<<8|255&f[Mt+3]}switch(Ot&&255&Nt&&255!=(255&Nt)&&(I.unmult=255/(255&Nt),Nt=(255&I.__clamp[Math.round((Nt>>>24&255)*I.unmult)])<<24|(255&I.__clamp[Math.round((Nt>>>16&255)*I.unmult)])<<16|(255&I.__clamp[Math.round((Nt>>>8&255)*I.unmult)])<<8|255&Nt),Mt=i.byteOffset+i.stride*(zt-Et+1)+4*(Kt-Dt+1),null==(Ot=_t)&&(Ot=!1),null==(Ct=j)&&(Ct=0),Ct){case 0:Ft=(255&f[Mt])<<24|(255&f[Mt+1])<<16|(255&f[Mt+2])<<8|255&f[Mt+3];break;case 1:Ft=(255&f[Mt+1])<<24|(255&f[Mt+2])<<16|(255&f[Mt+3])<<8|255&f[Mt];break;case 2:Ft=(255&f[Mt+2])<<24|(255&f[Mt+1])<<16|(255&f[Mt])<<8|255&f[Mt+3]}switch(Ot&&255&Ft&&255!=(255&Ft)&&(I.unmult=255/(255&Ft),Ft=(255&I.__clamp[Math.round((Ft>>>24&255)*I.unmult)])<<24|(255&I.__clamp[Math.round((Ft>>>16&255)*I.unmult)])<<16|(255&I.__clamp[Math.round((Ft>>>8&255)*I.unmult)])<<8|255&Ft),Mt=i.byteOffset+i.stride*(zt-Et)+4*(Kt-Dt),null==(Ot=_t)&&(Ot=!1),null==(Ct=j)&&(Ct=0),Ct){case 0:Lt=(255&f[Mt])<<24|(255&f[Mt+1])<<16|(255&f[Mt+2])<<8|255&f[Mt+3];break;case 1:Lt=(255&f[Mt+1])<<24|(255&f[Mt+2])<<16|(255&f[Mt+3])<<8|255&f[Mt];break;case 2:Lt=(255&f[Mt+2])<<24|(255&f[Mt+1])<<16|(255&f[Mt])<<8|255&f[Mt+3]}Ot&&255&Lt&&255!=(255&Lt)&&(I.unmult=255/(255&Lt),Lt=(255&I.__clamp[Math.round((Lt>>>24&255)*I.unmult)])<<24|(255&I.__clamp[Math.round((Lt>>>16&255)*I.unmult)])<<16|(255&I.__clamp[Math.round((Lt>>>8&255)*I.unmult)])<<8|255&Lt),Mt=ab.bilinear(At,Nt,Ft,Lt,n.x-Dt,n.y-Et)}else{switch(Dt=s.byteOffset+s.stride*(zt-Et)+4*(Kt-Dt),null==(Ct=_t)&&(Ct=!1),null==(Et=j)&&(Et=0),Et){case 0:Mt=(255&f[Dt])<<24|(255&f[Dt+1])<<16|(255&f[Dt+2])<<8|255&f[Dt+3];break;case 1:Mt=(255&f[Dt+1])<<24|(255&f[Dt+2])<<16|(255&f[Dt+3])<<8|255&f[Dt];break;case 2:Mt=(255&f[Dt+2])<<24|(255&f[Dt+1])<<16|(255&f[Dt])<<8|255&f[Dt+3]}Ct&&255&Mt&&255!=(255&Mt)&&(I.unmult=255/(255&Mt),Mt=(255&I.__clamp[Math.round((Mt>>>24&255)*I.unmult)])<<24|(255&I.__clamp[Math.round((Mt>>>16&255)*I.unmult)])<<16|(255&I.__clamp[Math.round((Mt>>>8&255)*I.unmult)])<<8|255&Mt)}if(Dt=(Et=((Mt>>>24&255)-128)/255*(Dt=(255&Mt)/255))*o.x+(Ct=((Mt>>>16&255)-128)/255*Dt)*l.x,Ot=Et*o.y+Ct*l.y,Et=Math.floor(Dt*i.width),Ct=Math.floor(Ot*i.height),_){St=i.byteOffset+i.stride*(zt+Ct+1)+4*(Kt+Et);var _o=g,Bt=yt;switch(null==Bt&&(Bt=!1),null==_o&&(_o=0),_o){case 0:At=(255&m[St])<<24|(255&m[St+1])<<16|(255&m[St+2])<<8|255&m[St+3];break;case 1:At=(255&m[St+1])<<24|(255&m[St+2])<<16|(255&m[St+3])<<8|255&m[St];break;case 2:At=(255&m[St+2])<<24|(255&m[St+1])<<16|(255&m[St])<<8|255&m[St+3]}switch(Bt&&255&At&&255!=(255&At)&&(I.unmult=255/(255&At),At=(255&I.__clamp[Math.round((At>>>24&255)*I.unmult)])<<24|(255&I.__clamp[Math.round((At>>>16&255)*I.unmult)])<<16|(255&I.__clamp[Math.round((At>>>8&255)*I.unmult)])<<8|255&At),St=i.byteOffset+i.stride*(zt+Ct)+4*(Kt+Et+1),null==(Bt=yt)&&(Bt=!1),null==(_o=g)&&(_o=0),_o){case 0:Nt=(255&m[St])<<24|(255&m[St+1])<<16|(255&m[St+2])<<8|255&m[St+3];break;case 1:Nt=(255&m[St+1])<<24|(255&m[St+2])<<16|(255&m[St+3])<<8|255&m[St];break;case 2:Nt=(255&m[St+2])<<24|(255&m[St+1])<<16|(255&m[St])<<8|255&m[St+3]}switch(Bt&&255&Nt&&255!=(255&Nt)&&(I.unmult=255/(255&Nt),Nt=(255&I.__clamp[Math.round((Nt>>>24&255)*I.unmult)])<<24|(255&I.__clamp[Math.round((Nt>>>16&255)*I.unmult)])<<16|(255&I.__clamp[Math.round((Nt>>>8&255)*I.unmult)])<<8|255&Nt),St=i.byteOffset+i.stride*(zt+Ct+1)+4*(Kt+Et+1),null==(Bt=yt)&&(Bt=!1),null==(_o=g)&&(_o=0),_o){case 0:Ft=(255&m[St])<<24|(255&m[St+1])<<16|(255&m[St+2])<<8|255&m[St+3];break;case 1:Ft=(255&m[St+1])<<24|(255&m[St+2])<<16|(255&m[St+3])<<8|255&m[St];break;case 2:Ft=(255&m[St+2])<<24|(255&m[St+1])<<16|(255&m[St])<<8|255&m[St+3]}switch(Bt&&255&Ft&&255!=(255&Ft)&&(I.unmult=255/(255&Ft),Ft=(255&I.__clamp[Math.round((Ft>>>24&255)*I.unmult)])<<24|(255&I.__clamp[Math.round((Ft>>>16&255)*I.unmult)])<<16|(255&I.__clamp[Math.round((Ft>>>8&255)*I.unmult)])<<8|255&Ft),Kt=i.byteOffset+i.stride*(zt+Ct)+4*(Kt+Et),null==(_o=yt)&&(_o=!1),null==(St=g)&&(St=0),St){case 0:Lt=(255&m[Kt])<<24|(255&m[Kt+1])<<16|(255&m[Kt+2])<<8|255&m[Kt+3];break;case 1:Lt=(255&m[Kt+1])<<24|(255&m[Kt+2])<<16|(255&m[Kt+3])<<8|255&m[Kt];break;case 2:Lt=(255&m[Kt+2])<<24|(255&m[Kt+1])<<16|(255&m[Kt])<<8|255&m[Kt+3]}_o&&255&Lt&&255!=(255&Lt)&&(I.unmult=255/(255&Lt),Lt=(255&I.__clamp[Math.round((Lt>>>24&255)*I.unmult)])<<24|(255&I.__clamp[Math.round((Lt>>>16&255)*I.unmult)])<<16|(255&I.__clamp[Math.round((Lt>>>8&255)*I.unmult)])<<8|255&Lt),St=ab.bilinear(At,Nt,Ft,Lt,Dt*i.width-Et,Ot*i.height-Ct)}else{switch(Kt=i.byteOffset+i.stride*(zt+Ct)+4*(Kt+Et),null==(Et=yt)&&(Et=!1),null==(Dt=g)&&(Dt=0),Dt){case 0:St=(255&m[Kt])<<24|(255&m[Kt+1])<<16|(255&m[Kt+2])<<8|255&m[Kt+3];break;case 1:St=(255&m[Kt+1])<<24|(255&m[Kt+2])<<16|(255&m[Kt+3])<<8|255&m[Kt];break;case 2:St=(255&m[Kt+2])<<24|(255&m[Kt+1])<<16|(255&m[Kt])<<8|255&m[Kt+3]}Et&&255&St&&255!=(255&St)&&(I.unmult=255/(255&St),St=(255&I.__clamp[Math.round((St>>>24&255)*I.unmult)])<<24|(255&I.__clamp[Math.round((St>>>16&255)*I.unmult)])<<16|(255&I.__clamp[Math.round((St>>>8&255)*I.unmult)])<<8|255&St)}switch(null==(Dt=$)&&(Dt=!1),null==(Kt=y)&&(Kt=0),Dt&&(255&St?255!=(255&St)&&(I.a16=I.__alpha16[255&St],St=((St>>>24&255)*I.a16>>16&255)<<24|((St>>>16&255)*I.a16>>16&255)<<16|((St>>>8&255)*I.a16>>16&255)<<8|255&St):0!=St&&(St=0)),Kt){case 0:h[Tt]=St>>>24&255,h[Tt+1]=St>>>16&255,h[Tt+2]=St>>>8&255,h[Tt+3]=255&St;break;case 1:h[Tt]=255&St,h[Tt+1]=St>>>24&255,h[Tt+2]=St>>>16&255,h[Tt+3]=St>>>8&255;break;case 2:h[Tt]=St>>>8&255,h[Tt+1]=St>>>16&255,h[Tt+2]=St>>>24&255,h[Tt+3]=255&St}}}e.dirty=!0,e.version++},ab.bilinear=function(e,i,s,n,o,l){return ab.lerpRGBA(ab.lerpRGBA(n,i,o),ab.lerpRGBA(e,s,o),l)},ab.lerpRGBA=function(e,i,s){var n=0;n=(255&Math.floor(ab.lerp(e>>>24&255,i>>>24&255,s)))<<24|(n>>>16&255)<<16|(n>>>8&255)<<8|255&n;var o=Math.floor(ab.lerp(e>>>16&255,i>>>16&255,s));return((n=((n=(n>>>24&255)<<24|(255&o)<<16|(n>>>8&255)<<8|255&n)>>>24&255)<<24|(n>>>16&255)<<16|(255&(o=Math.floor(ab.lerp(e>>>8&255,i>>>8&255,s))))<<8|255&n)>>>24&255)<<24|(n>>>16&255)<<16|(n>>>8&255)<<8|255&Math.floor(ab.lerp(255&e,255&i,s))},ab.lerp4f=function(e,i,s){return new Jc(ab.lerp(e.x,i.x,s),ab.lerp(e.y,i.y,s),ab.lerp(e.z,i.z,s),ab.lerp(e.w,i.w,s))},ab.lerp=function(e,i,s){return(1-s)*e+s*i},ab.colorTransform=function(e,i,s){var n=e.buffer.data;if(null!=n){var o=e.buffer.format,l=e.buffer.premultiplied;i=new gf(e,i);var _=Db.getAlphaTable(s),h=Db.getRedTable(s),m=Db.getGreenTable(s);s=Db.getBlueTable(s);for(var f,y,g,j=0,$=i.height;j<$;){f=j++,f=i.byteOffset+i.stride*f;for(var yt=0,_t=i.width;yt<_t;){y=f+4*(y=yt++);var xt=o,Tt=l;switch(null==Tt&&(Tt=!1),null==xt&&(xt=0),xt){case 0:g=(255&n[y])<<24|(255&n[y+1])<<16|(255&n[y+2])<<8|255&n[y+3];break;case 1:g=(255&n[y+1])<<24|(255&n[y+2])<<16|(255&n[y+3])<<8|255&n[y];break;case 2:g=(255&n[y+2])<<24|(255&n[y+1])<<16|(255&n[y])<<8|255&n[y+3]}switch(Tt&&255&g&&255!=(255&g)&&(I.unmult=255/(255&g),g=(255&I.__clamp[Math.round((g>>>24&255)*I.unmult)])<<24|(255&I.__clamp[Math.round((g>>>16&255)*I.unmult)])<<16|(255&I.__clamp[Math.round((g>>>8&255)*I.unmult)])<<8|255&g),g=(255&h[g>>>24&255])<<24|(255&m[g>>>16&255])<<16|(255&s[g>>>8&255])<<8|255&_[255&g],null==(Tt=l)&&(Tt=!1),null==(xt=o)&&(xt=0),Tt&&(255&g?255!=(255&g)&&(I.a16=I.__alpha16[255&g],g=((g>>>24&255)*I.a16>>16&255)<<24|((g>>>16&255)*I.a16>>16&255)<<16|((g>>>8&255)*I.a16>>16&255)<<8|255&g):0!=g&&(g=0)),xt){case 0:n[y]=g>>>24&255,n[y+1]=g>>>16&255,n[y+2]=g>>>8&255,n[y+3]=255&g;break;case 1:n[y]=255&g,n[y+1]=g>>>24&255,n[y+2]=g>>>16&255,n[y+3]=g>>>8&255;break;case 2:n[y]=g>>>8&255,n[y+1]=g>>>16&255,n[y+2]=g>>>24&255,n[y+3]=255&g}}}e.dirty=!0,e.version++}},ab.copyChannel=function(e,i,s,n,o,l){switch(l._hx_index){case 0:var _=0;break;case 1:_=1;break;case 2:_=2;break;case 3:_=3}switch(o._hx_index){case 0:var h=0;break;case 1:h=1;break;case 2:h=2;break;case 3:h=3}if(l=e.buffer.data,null!=(o=i.buffer.data)&&null!=l){s=new gf(i,s),n=new gf(e,new je(n.x,n.y,s.width,s.height));var m=i.buffer.format,f=e.buffer.format;i=i.buffer.premultiplied;for(var g,j,$,yt,y=e.buffer.premultiplied,_t=0,xt=0,Tt=n.height;xt<Tt;){j=xt++,g=s.byteOffset+s.stride*j,j=n.byteOffset+n.stride*j;for(var St=0,Mt=n.width;St<Mt;){St++;var Et=m,Ct=i;switch(null==Ct&&(Ct=!1),null==Et&&(Et=0),Et){case 0:$=(255&o[g])<<24|(255&o[g+1])<<16|(255&o[g+2])<<8|255&o[g+3];break;case 1:$=(255&o[g+1])<<24|(255&o[g+2])<<16|(255&o[g+3])<<8|255&o[g];break;case 2:$=(255&o[g+2])<<24|(255&o[g+1])<<16|(255&o[g])<<8|255&o[g+3]}switch(Ct&&255&$&&255!=(255&$)&&(I.unmult=255/(255&$),$=(255&I.__clamp[Math.round(($>>>24&255)*I.unmult)])<<24|(255&I.__clamp[Math.round(($>>>16&255)*I.unmult)])<<16|(255&I.__clamp[Math.round(($>>>8&255)*I.unmult)])<<8|255&$),null==(Ct=y)&&(Ct=!1),null==(Et=f)&&(Et=0),Et){case 0:yt=(255&l[j])<<24|(255&l[j+1])<<16|(255&l[j+2])<<8|255&l[j+3];break;case 1:yt=(255&l[j+1])<<24|(255&l[j+2])<<16|(255&l[j+3])<<8|255&l[j];break;case 2:yt=(255&l[j+2])<<24|(255&l[j+1])<<16|(255&l[j])<<8|255&l[j+3]}switch(Ct&&255&yt&&255!=(255&yt)&&(I.unmult=255/(255&yt),yt=(255&I.__clamp[Math.round((yt>>>24&255)*I.unmult)])<<24|(255&I.__clamp[Math.round((yt>>>16&255)*I.unmult)])<<16|(255&I.__clamp[Math.round((yt>>>8&255)*I.unmult)])<<8|255&yt),h){case 0:_t=$>>>24&255;break;case 1:_t=$>>>16&255;break;case 2:_t=$>>>8&255;break;case 3:_t=255&$}switch(_){case 0:yt=(255&_t)<<24|(yt>>>16&255)<<16|(yt>>>8&255)<<8|255&yt;break;case 1:yt=(yt>>>24&255)<<24|(255&_t)<<16|(yt>>>8&255)<<8|255&yt;break;case 2:yt=(yt>>>24&255)<<24|(yt>>>16&255)<<16|(255&_t)<<8|255&yt;break;case 3:yt=(yt>>>24&255)<<24|(yt>>>16&255)<<16|(yt>>>8&255)<<8|255&_t}switch(null==(Ct=y)&&(Ct=!1),null==(Et=f)&&(Et=0),Ct&&(255&yt?255!=(255&yt)&&(I.a16=I.__alpha16[255&yt],yt=((yt>>>24&255)*I.a16>>16&255)<<24|((yt>>>16&255)*I.a16>>16&255)<<16|((yt>>>8&255)*I.a16>>16&255)<<8|255&yt):0!=yt&&(yt=0)),Et){case 0:l[j]=yt>>>24&255,l[j+1]=yt>>>16&255,l[j+2]=yt>>>8&255,l[j+3]=255&yt;break;case 1:l[j]=255&yt,l[j+1]=yt>>>24&255,l[j+2]=yt>>>16&255,l[j+3]=yt>>>8&255;break;case 2:l[j]=yt>>>8&255,l[j+1]=yt>>>16&255,l[j+2]=yt>>>24&255,l[j+3]=255&yt}g+=4,j+=4}}e.dirty=!0,e.version++}},ab.copyPixels=function(e,i,s,n,o,l,_){if(null==_&&(_=!1),e.width==i.width&&e.height==i.height&&s.width==i.width&&s.height==i.height&&0==s.x&&0==s.y&&0==n.x&&0==n.y&&null==o&&null==l&&0==_&&e.get_format()==i.get_format())e.buffer.data.set(i.buffer.data);else{var h=i.buffer.data,m=e.buffer.data;if(null==h||null==m)return;s=new gf(i,s);var f=new je(n.x,n.y,s.width,s.height);f=new gf(e,f);var y=i.buffer.format,g=e.buffer.format,j=i.buffer.premultiplied,$=e.buffer.premultiplied,yt=i.buffer.bitsPerPixel/8|0,_t=e.buffer.bitsPerPixel/8|0,xt=null!=o&&o.get_transparent();if(_=_||xt&&!e.get_transparent()||!_&&!e.get_transparent()&&i.get_transparent(),xt)if(_t=o.buffer.data,i=o.buffer.format,l=new gf(o,new je(s.x+(null==l?0:l.x),s.y+(null==l?0:l.y),s.width,s.height)),f.clip(0|n.x,0|n.y,l.width,l.height),_)for(yt=0,xt=f.height;yt<xt;){_=yt++,n=s.byteOffset+s.stride*_,o=f.byteOffset+f.stride*_,_=l.byteOffset+l.stride*_;for(var Tt=0,St=f.width;Tt<St;){Tt++;var Mt=y,Et=j;switch(null==Et&&(Et=!1),null==Mt&&(Mt=0),Mt){case 0:var Ct=(255&h[n])<<24|(255&h[n+1])<<16|(255&h[n+2])<<8|255&h[n+3];break;case 1:Ct=(255&h[n+1])<<24|(255&h[n+2])<<16|(255&h[n+3])<<8|255&h[n];break;case 2:Ct=(255&h[n+2])<<24|(255&h[n+1])<<16|(255&h[n])<<8|255&h[n+3]}switch(Et&&255&Ct&&255!=(255&Ct)&&(I.unmult=255/(255&Ct),Ct=(255&I.__clamp[Math.round((Ct>>>24&255)*I.unmult)])<<24|(255&I.__clamp[Math.round((Ct>>>16&255)*I.unmult)])<<16|(255&I.__clamp[Math.round((Ct>>>8&255)*I.unmult)])<<8|255&Ct),null==(Et=$)&&(Et=!1),null==(Mt=g)&&(Mt=0),Mt){case 0:var Dt=(255&m[o])<<24|(255&m[o+1])<<16|(255&m[o+2])<<8|255&m[o+3];break;case 1:Dt=(255&m[o+1])<<24|(255&m[o+2])<<16|(255&m[o+3])<<8|255&m[o];break;case 2:Dt=(255&m[o+2])<<24|(255&m[o+1])<<16|(255&m[o])<<8|255&m[o+3]}switch(Et&&255&Dt&&255!=(255&Dt)&&(I.unmult=255/(255&Dt),Dt=(255&I.__clamp[Math.round((Dt>>>24&255)*I.unmult)])<<24|(255&I.__clamp[Math.round((Dt>>>16&255)*I.unmult)])<<16|(255&I.__clamp[Math.round((Dt>>>8&255)*I.unmult)])<<8|255&Dt),null==(Et=!1)&&(Et=!1),null==(Mt=i)&&(Mt=0),Mt){case 0:var At=(255&_t[_])<<24|(255&_t[_+1])<<16|(255&_t[_+2])<<8|255&_t[_+3];break;case 1:At=(255&_t[_+1])<<24|(255&_t[_+2])<<16|(255&_t[_+3])<<8|255&_t[_];break;case 2:At=(255&_t[_+2])<<24|(255&_t[_+1])<<16|(255&_t[_])<<8|255&_t[_+3]}if(Et&&255&At&&255!=(255&At)&&(I.unmult=255/(255&At),At=(255&I.__clamp[Math.round((At>>>24&255)*I.unmult)])<<24|(255&I.__clamp[Math.round((At>>>16&255)*I.unmult)])<<16|(255&I.__clamp[Math.round((At>>>8&255)*I.unmult)])<<8|255&At),0<(Mt=(255&At)/255*((255&Ct)/255))){var Nt=1-Mt,Ft=Mt+(Et=(255&Dt)/255)*Nt;switch(Dt=((Dt=((Dt=((Dt=(255&I.__clamp[Math.round(((Ct>>>24&255)*Mt+(Dt>>>24&255)*Et*Nt)/Ft)])<<24|(Dt>>>16&255)<<16|(Dt>>>8&255)<<8|255&Dt)>>>24&255)<<24|(255&I.__clamp[Math.round(((Ct>>>16&255)*Mt+(Dt>>>16&255)*Et*Nt)/Ft)])<<16|(Dt>>>8&255)<<8|255&Dt)>>>24&255)<<24|(Dt>>>16&255)<<16|(255&I.__clamp[Math.round(((Ct>>>8&255)*Mt+(Dt>>>8&255)*Et*Nt)/Ft)])<<8|255&Dt)>>>24&255)<<24|(Dt>>>16&255)<<16|(Dt>>>8&255)<<8|255&I.__clamp[Math.round(255*Ft)],null==(Et=$)&&(Et=!1),null==(Mt=g)&&(Mt=0),Et&&(255&Dt?255!=(255&Dt)&&(I.a16=I.__alpha16[255&Dt],Dt=((Dt>>>24&255)*I.a16>>16&255)<<24|((Dt>>>16&255)*I.a16>>16&255)<<16|((Dt>>>8&255)*I.a16>>16&255)<<8|255&Dt):0!=Dt&&(Dt=0)),Mt){case 0:m[o]=Dt>>>24&255,m[o+1]=Dt>>>16&255,m[o+2]=Dt>>>8&255,m[o+3]=255&Dt;break;case 1:m[o]=255&Dt,m[o+1]=Dt>>>24&255,m[o+2]=Dt>>>16&255,m[o+3]=Dt>>>8&255;break;case 2:m[o]=Dt>>>8&255,m[o+1]=Dt>>>16&255,m[o+2]=Dt>>>24&255,m[o+3]=255&Dt}}n+=4,o+=4,_+=4}}else for(Dt=0,yt=f.height;Dt<yt;)for(_=Dt++,n=s.byteOffset+s.stride*_,o=f.byteOffset+f.stride*_,_=l.byteOffset+l.stride*_,xt=0,Tt=f.width;xt<Tt;){switch(xt++,null==(Mt=j)&&(Mt=!1),null==(St=y)&&(St=0),St){case 0:Ct=(255&h[n])<<24|(255&h[n+1])<<16|(255&h[n+2])<<8|255&h[n+3];break;case 1:Ct=(255&h[n+1])<<24|(255&h[n+2])<<16|(255&h[n+3])<<8|255&h[n];break;case 2:Ct=(255&h[n+2])<<24|(255&h[n+1])<<16|(255&h[n])<<8|255&h[n+3]}switch(Mt&&255&Ct&&255!=(255&Ct)&&(I.unmult=255/(255&Ct),Ct=(255&I.__clamp[Math.round((Ct>>>24&255)*I.unmult)])<<24|(255&I.__clamp[Math.round((Ct>>>16&255)*I.unmult)])<<16|(255&I.__clamp[Math.round((Ct>>>8&255)*I.unmult)])<<8|255&Ct),null==(Mt=!1)&&(Mt=!1),null==(St=i)&&(St=0),St){case 0:At=(255&_t[_])<<24|(255&_t[_+1])<<16|(255&_t[_+2])<<8|255&_t[_+3];break;case 1:At=(255&_t[_+1])<<24|(255&_t[_+2])<<16|(255&_t[_+3])<<8|255&_t[_];break;case 2:At=(255&_t[_+2])<<24|(255&_t[_+1])<<16|(255&_t[_])<<8|255&_t[_+3]}switch(Mt&&255&At&&255!=(255&At)&&(I.unmult=255/(255&At),At=(255&I.__clamp[Math.round((At>>>24&255)*I.unmult)])<<24|(255&I.__clamp[Math.round((At>>>16&255)*I.unmult)])<<16|(255&I.__clamp[Math.round((At>>>8&255)*I.unmult)])<<8|255&At),Ct=(Ct>>>24&255)<<24|(Ct>>>16&255)<<16|(Ct>>>8&255)<<8|255&Math.round((255&At)/255*(255&Ct)),null==(Mt=$)&&(Mt=!1),null==(St=g)&&(St=0),Mt&&(255&Ct?255!=(255&Ct)&&(I.a16=I.__alpha16[255&Ct],Ct=((Ct>>>24&255)*I.a16>>16&255)<<24|((Ct>>>16&255)*I.a16>>16&255)<<16|((Ct>>>8&255)*I.a16>>16&255)<<8|255&Ct):0!=Ct&&(Ct=0)),St){case 0:m[o]=Ct>>>24&255,m[o+1]=Ct>>>16&255,m[o+2]=Ct>>>8&255,m[o+3]=255&Ct;break;case 1:m[o]=255&Ct,m[o+1]=Ct>>>24&255,m[o+2]=Ct>>>16&255,m[o+3]=Ct>>>8&255;break;case 2:m[o]=Ct>>>8&255,m[o+1]=Ct>>>16&255,m[o+2]=Ct>>>24&255,m[o+3]=255&Ct}n+=4,o+=4,_+=4}else if(_)for(At=0,_t=f.height;At<_t;)for(o=At++,n=s.byteOffset+s.stride*o,o=f.byteOffset+f.stride*o,i=0,l=f.width;i<l;){switch(i++,null==(yt=j)&&(yt=!1),null==(_=y)&&(_=0),_){case 0:Ct=(255&h[n])<<24|(255&h[n+1])<<16|(255&h[n+2])<<8|255&h[n+3];break;case 1:Ct=(255&h[n+1])<<24|(255&h[n+2])<<16|(255&h[n+3])<<8|255&h[n];break;case 2:Ct=(255&h[n+2])<<24|(255&h[n+1])<<16|(255&h[n])<<8|255&h[n+3]}switch(yt&&255&Ct&&255!=(255&Ct)&&(I.unmult=255/(255&Ct),Ct=(255&I.__clamp[Math.round((Ct>>>24&255)*I.unmult)])<<24|(255&I.__clamp[Math.round((Ct>>>16&255)*I.unmult)])<<16|(255&I.__clamp[Math.round((Ct>>>8&255)*I.unmult)])<<8|255&Ct),null==(yt=$)&&(yt=!1),null==(_=g)&&(_=0),_){case 0:Dt=(255&m[o])<<24|(255&m[o+1])<<16|(255&m[o+2])<<8|255&m[o+3];break;case 1:Dt=(255&m[o+1])<<24|(255&m[o+2])<<16|(255&m[o+3])<<8|255&m[o];break;case 2:Dt=(255&m[o+2])<<24|(255&m[o+1])<<16|(255&m[o])<<8|255&m[o+3]}switch(yt&&255&Dt&&255!=(255&Dt)&&(I.unmult=255/(255&Dt),Dt=(255&I.__clamp[Math.round((Dt>>>24&255)*I.unmult)])<<24|(255&I.__clamp[Math.round((Dt>>>16&255)*I.unmult)])<<16|(255&I.__clamp[Math.round((Dt>>>8&255)*I.unmult)])<<8|255&Dt),Dt=0==(Ft=(Mt=(255&Ct)/255)+(Et=(255&Dt)/255)*(Nt=1-Mt))?0:((Dt=((Dt=((Dt=(255&I.__clamp[Math.round(((Ct>>>24&255)*Mt+(Dt>>>24&255)*Et*Nt)/Ft)])<<24|(Dt>>>16&255)<<16|(Dt>>>8&255)<<8|255&Dt)>>>24&255)<<24|(255&I.__clamp[Math.round(((Ct>>>16&255)*Mt+(Dt>>>16&255)*Et*Nt)/Ft)])<<16|(Dt>>>8&255)<<8|255&Dt)>>>24&255)<<24|(Dt>>>16&255)<<16|(255&I.__clamp[Math.round(((Ct>>>8&255)*Mt+(Dt>>>8&255)*Et*Nt)/Ft)])<<8|255&Dt)>>>24&255)<<24|(Dt>>>16&255)<<16|(Dt>>>8&255)<<8|255&I.__clamp[Math.round(255*Ft)],null==(yt=$)&&(yt=!1),null==(_=g)&&(_=0),yt&&(255&Dt?255!=(255&Dt)&&(I.a16=I.__alpha16[255&Dt],Dt=((Dt>>>24&255)*I.a16>>16&255)<<24|((Dt>>>16&255)*I.a16>>16&255)<<16|((Dt>>>8&255)*I.a16>>16&255)<<8|255&Dt):0!=Dt&&(Dt=0)),_){case 0:m[o]=Dt>>>24&255,m[o+1]=Dt>>>16&255,m[o+2]=Dt>>>8&255,m[o+3]=255&Dt;break;case 1:m[o]=255&Dt,m[o+1]=Dt>>>24&255,m[o+2]=Dt>>>16&255,m[o+3]=Dt>>>8&255;break;case 2:m[o]=Dt>>>8&255,m[o+1]=Dt>>>16&255,m[o+2]=Dt>>>24&255,m[o+3]=255&Dt}n+=4,o+=4}else if(y==g&&j==$&&yt==_t)for(Ct=0,y=f.height;Ct<y;)g=Ct++,o=f.byteOffset+f.stride*g,m.set(h.subarray(n=s.byteOffset+s.stride*g,n+f.width*_t),o);else for(Dt=0,At=f.height;Dt<At;)for(o=Dt++,n=s.byteOffset+s.stride*o,o=f.byteOffset+f.stride*o,_t=0,i=f.width;_t<i;){switch(_t++,null==(_=j)&&(_=!1),null==(l=y)&&(l=0),l){case 0:Ct=(255&h[n])<<24|(255&h[n+1])<<16|(255&h[n+2])<<8|255&h[n+3];break;case 1:Ct=(255&h[n+1])<<24|(255&h[n+2])<<16|(255&h[n+3])<<8|255&h[n];break;case 2:Ct=(255&h[n+2])<<24|(255&h[n+1])<<16|(255&h[n])<<8|255&h[n+3]}switch(_&&255&Ct&&255!=(255&Ct)&&(I.unmult=255/(255&Ct),Ct=(255&I.__clamp[Math.round((Ct>>>24&255)*I.unmult)])<<24|(255&I.__clamp[Math.round((Ct>>>16&255)*I.unmult)])<<16|(255&I.__clamp[Math.round((Ct>>>8&255)*I.unmult)])<<8|255&Ct),null==(_=$)&&(_=!1),null==(l=g)&&(l=0),_&&(255&Ct?255!=(255&Ct)&&(I.a16=I.__alpha16[255&Ct],Ct=((Ct>>>24&255)*I.a16>>16&255)<<24|((Ct>>>16&255)*I.a16>>16&255)<<16|((Ct>>>8&255)*I.a16>>16&255)<<8|255&Ct):0!=Ct&&(Ct=0)),l){case 0:m[o]=Ct>>>24&255,m[o+1]=Ct>>>16&255,m[o+2]=Ct>>>8&255,m[o+3]=255&Ct;break;case 1:m[o]=255&Ct,m[o+1]=Ct>>>24&255,m[o+2]=Ct>>>16&255,m[o+3]=Ct>>>8&255;break;case 2:m[o]=Ct>>>8&255,m[o+1]=Ct>>>16&255,m[o+2]=Ct>>>24&255,m[o+3]=255&Ct}n+=4,o+=4}}e.dirty=!0,e.version++},ab.fillRect=function(e,i,s,n){switch(n){case 1:s=(s>>>16&255)<<24|(s>>>8&255)<<16|(255&s)<<8|s>>>24&255;break;case 2:s=(s>>>8&255)<<24|(s>>>16&255)<<16|(s>>>24&255)<<8|255&s}if(e.get_transparent()||(s=(s>>>24&255)<<24|(s>>>16&255)<<16|(s>>>8&255)<<8|255),null!=(n=e.buffer.data)){var o=e.buffer.format;e.buffer.premultiplied&&(255&s?255!=(255&s)&&(I.a16=I.__alpha16[255&s],s=((s>>>24&255)*I.a16>>16&255)<<24|((s>>>16&255)*I.a16>>16&255)<<16|((s>>>8&255)*I.a16>>16&255)<<8|255&s):0!=s&&(s=0));for(var l,_=0,h=(i=new gf(e,i)).height;_<h;){l=_++,l=i.byteOffset+i.stride*l;for(var m=0,f=i.width;m<f;){var y=m++;y=l+4*y;var g=o,j=!1;switch(null==j&&(j=!1),null==g&&(g=0),j&&(255&s?255!=(255&s)&&(I.a16=I.__alpha16[255&s],s=((s>>>24&255)*I.a16>>16&255)<<24|((s>>>16&255)*I.a16>>16&255)<<16|((s>>>8&255)*I.a16>>16&255)<<8|255&s):0!=s&&(s=0)),g){case 0:n[y]=s>>>24&255,n[y+1]=s>>>16&255,n[y+2]=s>>>8&255,n[y+3]=255&s;break;case 1:n[y]=255&s,n[y+1]=s>>>24&255,n[y+2]=s>>>16&255,n[y+3]=s>>>8&255;break;case 2:n[y]=s>>>8&255,n[y+1]=s>>>16&255,n[y+2]=s>>>24&255,n[y+3]=255&s}}}e.dirty=!0,e.version++}},ab.floodFill=function(e,i,s,n,o){var l=e.buffer.data;if(null!=l){1==o&&(n=(16777215&n)<<8|n>>24&255);var _=e.buffer.premultiplied,h=4*(s+e.offsetY)*e.buffer.width+4*(i+e.offsetX),m=o=e.buffer.format,f=_;switch(null==f&&(f=!1),null==m&&(m=0),m){case 0:var y=(255&l[h])<<24|(255&l[h+1])<<16|(255&l[h+2])<<8|255&l[h+3];break;case 1:y=(255&l[h+1])<<24|(255&l[h+2])<<16|(255&l[h+3])<<8|255&l[h];break;case 2:y=(255&l[h+2])<<24|(255&l[h+1])<<16|(255&l[h])<<8|255&l[h+3]}if(f&&255&y&&255!=(255&y)&&(I.unmult=255/(255&y),y=(255&I.__clamp[Math.round((y>>>24&255)*I.unmult)])<<24|(255&I.__clamp[Math.round((y>>>16&255)*I.unmult)])<<16|(255&I.__clamp[Math.round((y>>>8&255)*I.unmult)])<<8|255&y),e.get_transparent()||(n=(n>>>24&255)<<24|(n>>>16&255)<<16|(n>>>8&255)<<8|255,y=(y>>>24&255)<<24|(y>>>16&255)<<16|(y>>>8&255)<<8|255),n!=y){_&&(255&n?255!=(255&n)&&(I.a16=I.__alpha16[255&n],n=((n>>>24&255)*I.a16>>16&255)<<24|((n>>>16&255)*I.a16>>16&255)<<16|((n>>>8&255)*I.a16>>16&255)<<8|255&n):0!=n&&(n=0)),h=[0,-1,1,0],m=[-1,0,0,1];var _t,xt,Tt,St,g=-e.offsetY,j=(f=-e.offsetX)+e.width,$=g+e.height,yt=[];for(yt.push(i),yt.push(s);0<yt.length;){s=yt.pop(),i=yt.pop();for(var Mt=0;4>Mt;)if(_t=i+h[xt=Mt++],xt=s+m[xt],!(_t<f||xt<g||_t>=j||xt>=$)){Tt=4*(xt*e.width+_t);var Et=o,Ct=_;switch(null==Ct&&(Ct=!1),null==Et&&(Et=0),Et){case 0:St=(255&l[Tt])<<24|(255&l[Tt+1])<<16|(255&l[Tt+2])<<8|255&l[Tt+3];break;case 1:St=(255&l[Tt+1])<<24|(255&l[Tt+2])<<16|(255&l[Tt+3])<<8|255&l[Tt];break;case 2:St=(255&l[Tt+2])<<24|(255&l[Tt+1])<<16|(255&l[Tt])<<8|255&l[Tt+3]}if(Ct&&255&St&&255!=(255&St)&&(I.unmult=255/(255&St),St=(255&I.__clamp[Math.round((St>>>24&255)*I.unmult)])<<24|(255&I.__clamp[Math.round((St>>>16&255)*I.unmult)])<<16|(255&I.__clamp[Math.round((St>>>8&255)*I.unmult)])<<8|255&St),St==y){switch(null==(Ct=!1)&&(Ct=!1),null==(Et=o)&&(Et=0),Ct&&(255&n?255!=(255&n)&&(I.a16=I.__alpha16[255&n],n=((n>>>24&255)*I.a16>>16&255)<<24|((n>>>16&255)*I.a16>>16&255)<<16|((n>>>8&255)*I.a16>>16&255)<<8|255&n):0!=n&&(n=0)),Et){case 0:l[Tt]=n>>>24&255,l[Tt+1]=n>>>16&255,l[Tt+2]=n>>>8&255,l[Tt+3]=255&n;break;case 1:l[Tt]=255&n,l[Tt+1]=n>>>24&255,l[Tt+2]=n>>>16&255,l[Tt+3]=n>>>8&255;break;case 2:l[Tt]=n>>>8&255,l[Tt+1]=n>>>16&255,l[Tt+2]=n>>>24&255,l[Tt+3]=255&n}yt.push(_t),yt.push(xt)}}}e.dirty=!0,e.version++}}},ab.gaussianBlur=function(e,i,s,n,o,l,_,h,m){return null==_&&(_=1),null==l&&(l=4),null==o&&(o=4),(h=e.get_premultiplied())&&e.set_premultiplied(!1),zf.blur(e,i,s,n,o,l,_),e.dirty=!0,e.version++,h&&e.set_premultiplied(!0),e},ab.getColorBoundsRect=function(e,i,s,n,o){var l=e.width+1,_=0,h=e.height+1,m=0;switch(o){case 1:s=(s>>>16&255)<<24|(s>>>8&255)<<16|(255&s)<<8|s>>>24&255,i=(i>>>16&255)<<24|(i>>>8&255)<<16|(255&i)<<8|i>>>24&255;break;case 2:s=(s>>>8&255)<<24|(s>>>16&255)<<16|(s>>>24&255)<<8|255&s,i=(i>>>8&255)<<24|(i>>>16&255)<<16|(i>>>24&255)<<8|255&i}e.get_transparent()||(s=(s>>>24&255)<<24|(s>>>16&255)<<16|(s>>>8&255)<<8|255,i=(i>>>24&255)<<24|(i>>>16&255)<<16|(i>>>8&255)<<8|255);for(var f=0,y=e.width;f<y;){var g=f++;o=!1;for(var j=0,$=e.height;j<$;)if(o=j++,o=e.getPixel32(g,o,0),o=n?(o&i)==s:(o&i)!=s){g<l&&(l=g);break}if(o)break}for(f=0,y=e.width;f<y;){for(o=f++,g=e.width-1-o,o=!1,j=0,$=e.height;j<$;)if(o=j++,o=e.getPixel32(g,o,0),o=n?(o&i)==s:(o&i)!=s){g>_&&(_=g);break}if(o)break}for(f=0,y=e.height;f<y;){for(g=f++,o=!1,j=0,$=e.width;j<$;)if(o=j++,o=e.getPixel32(o,g,0),o=n?(o&i)==s:(o&i)!=s){g<h&&(h=g);break}if(o)break}for(f=0,y=e.height;f<y;){for(o=f++,g=e.height-1-o,o=!1,j=0,$=e.width;j<$;)if(o=j++,o=e.getPixel32(o,g,0),o=n?(o&i)==s:(o&i)!=s){g>m&&(m=g);break}if(o)break}return 0<(n=_-l)&&++n,0<(s=m-h)&&++s,0>n&&(n=0),0>s&&(s=0),l==_&&(n=1),h==m&&(s=1),l>e.width&&(l=0),h>e.height&&(h=0),new je(l,h,n,s)},ab.getPixel=function(e,i,s,n){var o=e.buffer.data;switch(i=4*(s+e.offsetY)*e.buffer.width+4*(i+e.offsetX),s=e.buffer.format,null==(e=e.buffer.premultiplied)&&(e=!1),null==s&&(s=0),s){case 0:var l=(255&o[i])<<24|(255&o[i+1])<<16|(255&o[i+2])<<8|255&o[i+3];break;case 1:l=(255&o[i+1])<<24|(255&o[i+2])<<16|(255&o[i+3])<<8|255&o[i];break;case 2:l=(255&o[i+2])<<24|(255&o[i+1])<<16|(255&o[i])<<8|255&o[i+3]}switch(e&&255&l&&255!=(255&l)&&(I.unmult=255/(255&l),l=(255&I.__clamp[Math.round((l>>>24&255)*I.unmult)])<<24|(255&I.__clamp[Math.round((l>>>16&255)*I.unmult)])<<16|(255&I.__clamp[Math.round((l>>>8&255)*I.unmult)])<<8|255&l),l=(l>>>24&255)<<24|(l>>>16&255)<<16|(l>>>8&255)<<8|0,n){case 1:return(255&l)<<24|(l>>>24&255)<<16|(l>>>16&255)<<8|l>>>8&255;case 2:return(l>>>8&255)<<24|(l>>>16&255)<<16|(l>>>24&255)<<8|255&l;default:return l}},ab.getPixel32=function(e,i,s,n){var o=e.buffer.data;switch(i=4*(s+e.offsetY)*e.buffer.width+4*(i+e.offsetX),s=e.buffer.format,null==(e=e.buffer.premultiplied)&&(e=!1),null==s&&(s=0),s){case 0:var l=(255&o[i])<<24|(255&o[i+1])<<16|(255&o[i+2])<<8|255&o[i+3];break;case 1:l=(255&o[i+1])<<24|(255&o[i+2])<<16|(255&o[i+3])<<8|255&o[i];break;case 2:l=(255&o[i+2])<<24|(255&o[i+1])<<16|(255&o[i])<<8|255&o[i+3]}switch(e&&255&l&&255!=(255&l)&&(I.unmult=255/(255&l),l=(255&I.__clamp[Math.round((l>>>24&255)*I.unmult)])<<24|(255&I.__clamp[Math.round((l>>>16&255)*I.unmult)])<<16|(255&I.__clamp[Math.round((l>>>8&255)*I.unmult)])<<8|255&l),n){case 1:return(255&l)<<24|(l>>>24&255)<<16|(l>>>16&255)<<8|l>>>8&255;case 2:return(l>>>8&255)<<24|(l>>>16&255)<<16|(l>>>24&255)<<8|255&l;default:return l}},ab.getPixels=function(e,i,s){if(null==e.buffer.data)return null;var n=new bb(new ArrayBuffer(4*(i.width*i.height|0))),o=e.buffer.data,l=e.buffer.format,_=e.buffer.premultiplied;e=new gf(e,i);for(var h,m,f=i=0,y=e.height;f<y;){h=f++,h=e.byteOffset+e.stride*h;for(var g=0,j=e.width;g<j;){g++;var $=l,yt=_;switch(null==yt&&(yt=!1),null==$&&($=0),$){case 0:m=(255&o[h])<<24|(255&o[h+1])<<16|(255&o[h+2])<<8|255&o[h+3];break;case 1:m=(255&o[h+1])<<24|(255&o[h+2])<<16|(255&o[h+3])<<8|255&o[h];break;case 2:m=(255&o[h+2])<<24|(255&o[h+1])<<16|(255&o[h])<<8|255&o[h+3]}switch(yt&&255&m&&255!=(255&m)&&(I.unmult=255/(255&m),m=(255&I.__clamp[Math.round((m>>>24&255)*I.unmult)])<<24|(255&I.__clamp[Math.round((m>>>16&255)*I.unmult)])<<16|(255&I.__clamp[Math.round((m>>>8&255)*I.unmult)])<<8|255&m),s){case 1:m=(255&m)<<24|(m>>>24&255)<<16|(m>>>16&255)<<8|m>>>8&255;break;case 2:m=(m>>>8&255)<<24|(m>>>16&255)<<16|(m>>>24&255)<<8|255&m}n.b[i++]=m>>>24&255,n.b[i++]=m>>>16&255,n.b[i++]=m>>>8&255,n.b[i++]=255&m,h+=4}}return n},ab.merge=function(e,i,s,n,o,l,_,h){if(null!=e.buffer.data&&null!=i.buffer.data){s=new gf(i,s),n=new gf(e,new je(n.x,n.y,s.width,s.height));var m=i.buffer.data,f=e.buffer.data,y=i.buffer.format,g=e.buffer.format;i=i.buffer.premultiplied;for(var $,yt,_t,xt,j=e.buffer.premultiplied,Tt=0,St=n.height;Tt<St;){yt=Tt++,$=s.byteOffset+s.stride*yt,yt=n.byteOffset+n.stride*yt;for(var Mt=0,Et=n.width;Mt<Et;){Mt++;var Ct=y,Dt=i;switch(null==Dt&&(Dt=!1),null==Ct&&(Ct=0),Ct){case 0:_t=(255&m[$])<<24|(255&m[$+1])<<16|(255&m[$+2])<<8|255&m[$+3];break;case 1:_t=(255&m[$+1])<<24|(255&m[$+2])<<16|(255&m[$+3])<<8|255&m[$];break;case 2:_t=(255&m[$+2])<<24|(255&m[$+1])<<16|(255&m[$])<<8|255&m[$+3]}switch(Dt&&255&_t&&255!=(255&_t)&&(I.unmult=255/(255&_t),_t=(255&I.__clamp[Math.round((_t>>>24&255)*I.unmult)])<<24|(255&I.__clamp[Math.round((_t>>>16&255)*I.unmult)])<<16|(255&I.__clamp[Math.round((_t>>>8&255)*I.unmult)])<<8|255&_t),null==(Dt=j)&&(Dt=!1),null==(Ct=g)&&(Ct=0),Ct){case 0:xt=(255&f[yt])<<24|(255&f[yt+1])<<16|(255&f[yt+2])<<8|255&f[yt+3];break;case 1:xt=(255&f[yt+1])<<24|(255&f[yt+2])<<16|(255&f[yt+3])<<8|255&f[yt];break;case 2:xt=(255&f[yt+2])<<24|(255&f[yt+1])<<16|(255&f[yt])<<8|255&f[yt+3]}switch(Dt&&255&xt&&255!=(255&xt)&&(I.unmult=255/(255&xt),xt=(255&I.__clamp[Math.round((xt>>>24&255)*I.unmult)])<<24|(255&I.__clamp[Math.round((xt>>>16&255)*I.unmult)])<<16|(255&I.__clamp[Math.round((xt>>>8&255)*I.unmult)])<<8|255&xt),xt=((xt=((xt=((xt=(255&(((_t>>>24&255)*o+(xt>>>24&255)*(256-o))/256|0))<<24|(xt>>>16&255)<<16|(xt>>>8&255)<<8|255&xt)>>>24&255)<<24|(255&(((_t>>>16&255)*l+(xt>>>16&255)*(256-l))/256|0))<<16|(xt>>>8&255)<<8|255&xt)>>>24&255)<<24|(xt>>>16&255)<<16|(255&(((_t>>>8&255)*_+(xt>>>8&255)*(256-_))/256|0))<<8|255&xt)>>>24&255)<<24|(xt>>>16&255)<<16|(xt>>>8&255)<<8|255&(((255&_t)*h+(255&xt)*(256-h))/256|0),null==(Dt=j)&&(Dt=!1),null==(Ct=g)&&(Ct=0),Dt&&(255&xt?255!=(255&xt)&&(I.a16=I.__alpha16[255&xt],xt=((xt>>>24&255)*I.a16>>16&255)<<24|((xt>>>16&255)*I.a16>>16&255)<<16|((xt>>>8&255)*I.a16>>16&255)<<8|255&xt):0!=xt&&(xt=0)),Ct){case 0:f[yt]=xt>>>24&255,f[yt+1]=xt>>>16&255,f[yt+2]=xt>>>8&255,f[yt+3]=255&xt;break;case 1:f[yt]=255&xt,f[yt+1]=xt>>>24&255,f[yt+2]=xt>>>16&255,f[yt+3]=xt>>>8&255;break;case 2:f[yt]=xt>>>8&255,f[yt+1]=xt>>>16&255,f[yt+2]=xt>>>24&255,f[yt+3]=255&xt}$+=4,yt+=4}}e.dirty=!0,e.version++}},ab.multiplyAlpha=function(e){var i=e.buffer.data;if(null!=i&&e.buffer.transparent){for(var n,s=e.buffer.format,o=0,l=i.length/4|0;o<l;){var _=o++,h=4*_,m=s,f=!1;switch(null==f&&(f=!1),null==m&&(m=0),m){case 0:n=(255&i[h])<<24|(255&i[h+1])<<16|(255&i[h+2])<<8|255&i[h+3];break;case 1:n=(255&i[h+1])<<24|(255&i[h+2])<<16|(255&i[h+3])<<8|255&i[h];break;case 2:n=(255&i[h+2])<<24|(255&i[h+1])<<16|(255&i[h])<<8|255&i[h+3]}switch(f&&255&n&&255!=(255&n)&&(I.unmult=255/(255&n),n=(255&I.__clamp[Math.round((n>>>24&255)*I.unmult)])<<24|(255&I.__clamp[Math.round((n>>>16&255)*I.unmult)])<<16|(255&I.__clamp[Math.round((n>>>8&255)*I.unmult)])<<8|255&n),_*=4,null==(m=!0)&&(m=!1),null==(h=s)&&(h=0),m&&(255&n?255!=(255&n)&&(I.a16=I.__alpha16[255&n],n=((n>>>24&255)*I.a16>>16&255)<<24|((n>>>16&255)*I.a16>>16&255)<<16|((n>>>8&255)*I.a16>>16&255)<<8|255&n):0!=n&&(n=0)),h){case 0:i[_]=n>>>24&255,i[_+1]=n>>>16&255,i[_+2]=n>>>8&255,i[_+3]=255&n;break;case 1:i[_]=255&n,i[_+1]=n>>>24&255,i[_+2]=n>>>16&255,i[_+3]=n>>>8&255;break;case 2:i[_]=n>>>8&255,i[_+1]=n>>>16&255,i[_+2]=n>>>24&255,i[_+3]=255&n}}e.buffer.premultiplied=!0,e.dirty=!0,e.version++}},ab.resize=function(e,i,s){var n=e.buffer;if(n.width!=i||n.height!=s){var o=i*s*4;o=null!=o?new Uint8Array(o):null,o=new pg(o,i,s);for(var f,y,g,j,$,yt,_t,xt,Tt,l=e.width,_=e.height,h=e.get_data(),m=o.data,St=0;St<s;)for(var Mt=St++,Et=0,Ct=i;Et<Ct;)f=4*((_t=0|(Tt=(Mt+.5)/s*_-.5))*l+(yt=0|(xt=(.5+($=Et++))/i*l-.5))),g=_t<_-1?f+4*l:f,j=(y=yt<l-1?f+4:f)!=f?g+4:g,_t=Tt-_t,Tt=1-(yt=xt-yt),xt=1-_t,m[$=4*(Mt*i+$)]=(Ga.toFloat(h[f])*Tt+Ga.toFloat(h[y])*yt)*xt+(Ga.toFloat(h[g])*Tt+Ga.toFloat(h[j])*yt)*_t|0,m[$+1]=(Ga.toFloat(h[f+1])*Tt+Ga.toFloat(h[y+1])*yt)*xt+(Ga.toFloat(h[g+1])*Tt+Ga.toFloat(h[j+1])*yt)*_t|0,m[$+2]=(Ga.toFloat(h[f+2])*Tt+Ga.toFloat(h[y+2])*yt)*xt+(Ga.toFloat(h[g+2])*Tt+Ga.toFloat(h[j+2])*yt)*_t|0,m[$+3]=0==h[y+3]||0==h[g+3]||0==h[j+3]?0:h[f+3];n.data=o.data,n.width=i,n.height=s,n.__srcImage=null,n.__srcImageData=null,n.__srcCanvas=null,n.__srcContext=null,e.dirty=!0,e.version++}},ab.resizeBuffer=function(e,i,s){var n=e.buffer,o=e.get_data(),l=i*s*4;l=null!=l?new Uint8Array(l):null;for(var _,h,m=0,f=n.height;m<f;)for(var y=m++,g=0,j=n.width;g<j;)h=g++,_=4*(y*n.width+h),l[h=4*(y*i+h)]=o[_],l[h+1]=o[_+1],l[h+2]=o[_+2],l[h+3]=o[_+3];n.data=l,n.width=i,n.height=s,n.__srcImage=null,n.__srcImageData=null,n.__srcCanvas=null,n.__srcContext=null,e.dirty=!0,e.version++},ab.setFormat=function(e,i){var s=e.buffer.data;if(null!=s){var n=s.length/4|0;switch(e.get_format()){case 0:var o=0,l=1,_=2,h=3;break;case 1:o=1,l=2,_=3,h=0;break;case 2:o=2,l=1,_=0,h=3}switch(i){case 0:var m=0,f=1,y=2,g=3;break;case 1:m=1,f=2,y=3,g=0;break;case 2:m=2,f=1,y=0,g=3}for(var j=0;j<n;){var $=4*j++,_t=s[$+l],xt=s[$+_],Tt=s[$+h];s[$+m]=s[$+o],s[$+f]=_t,s[$+y]=xt,s[$+g]=Tt}e.buffer.format=i,e.dirty=!0,e.version++}},ab.setPixel=function(e,i,s,n,o){switch(o){case 1:n=(n>>>16&255)<<24|(n>>>8&255)<<16|(255&n)<<8|n>>>24&255;break;case 2:n=(n>>>8&255)<<24|(n>>>16&255)<<16|(n>>>24&255)<<8|255&n}o=0;var l=e.buffer.data,_=4*(s+e.offsetY)*e.buffer.width+4*(i+e.offsetX),h=e.buffer.format,m=e.buffer.premultiplied;switch(null==m&&(m=!1),null==h&&(h=0),h){case 0:o=(255&l[_])<<24|(255&l[_+1])<<16|(255&l[_+2])<<8|255&l[_+3];break;case 1:o=(255&l[_+1])<<24|(255&l[_+2])<<16|(255&l[_+3])<<8|255&l[_];break;case 2:o=(255&l[_+2])<<24|(255&l[_+1])<<16|(255&l[_])<<8|255&l[_+3]}switch(m&&255&o&&255!=(255&o)&&(I.unmult=255/(255&o),o=(255&I.__clamp[Math.round((o>>>24&255)*I.unmult)])<<24|(255&I.__clamp[Math.round((o>>>16&255)*I.unmult)])<<16|(255&I.__clamp[Math.round((o>>>8&255)*I.unmult)])<<8|255&o),n=(n>>>24&255)<<24|(n>>>16&255)<<16|(n>>>8&255)<<8|255&o,o=e.buffer.data,i=4*(s+e.offsetY)*e.buffer.width+4*(i+e.offsetX),null==(l=e.buffer.premultiplied)&&(l=!1),null==(s=e.buffer.format)&&(s=0),l&&(255&n?255!=(255&n)&&(I.a16=I.__alpha16[255&n],n=((n>>>24&255)*I.a16>>16&255)<<24|((n>>>16&255)*I.a16>>16&255)<<16|((n>>>8&255)*I.a16>>16&255)<<8|255&n):0!=n&&(n=0)),s){case 0:o[i]=n>>>24&255,o[i+1]=n>>>16&255,o[i+2]=n>>>8&255,o[i+3]=255&n;break;case 1:o[i]=255&n,o[i+1]=n>>>24&255,o[i+2]=n>>>16&255,o[i+3]=n>>>8&255;break;case 2:o[i]=n>>>8&255,o[i+1]=n>>>16&255,o[i+2]=n>>>24&255,o[i+3]=255&n}e.dirty=!0,e.version++},ab.setPixel32=function(e,i,s,n,o){switch(o){case 1:n=(n>>>16&255)<<24|(n>>>8&255)<<16|(255&n)<<8|n>>>24&255;break;case 2:n=(n>>>8&255)<<24|(n>>>16&255)<<16|(n>>>24&255)<<8|255&n}e.get_transparent()||(n=(n>>>24&255)<<24|(n>>>16&255)<<16|(n>>>8&255)<<8|255),o=e.buffer.data,i=4*(s+e.offsetY)*e.buffer.width+4*(i+e.offsetX);var l=e.buffer.premultiplied;switch(null==l&&(l=!1),null==(s=e.buffer.format)&&(s=0),l&&(255&n?255!=(255&n)&&(I.a16=I.__alpha16[255&n],n=((n>>>24&255)*I.a16>>16&255)<<24|((n>>>16&255)*I.a16>>16&255)<<16|((n>>>8&255)*I.a16>>16&255)<<8|255&n):0!=n&&(n=0)),s){case 0:o[i]=n>>>24&255,o[i+1]=n>>>16&255,o[i+2]=n>>>8&255,o[i+3]=255&n;break;case 1:o[i]=255&n,o[i+1]=n>>>24&255,o[i+2]=n>>>16&255,o[i+3]=n>>>8&255;break;case 2:o[i]=n>>>8&255,o[i+1]=n>>>16&255,o[i+2]=n>>>24&255,o[i+3]=255&n}e.dirty=!0,e.version++},ab.setPixels=function(e,i,s,n,o){if(null!=e.buffer.data){var l=e.buffer.data,_=e.buffer.format,h=e.buffer.premultiplied;i=new gf(e,i);var m=e.get_transparent(),f=s.bytes;s=s.offset,o=o!=Oi.BIG_ENDIAN;for(var y=0,g=i.height;y<g;){var j=y++;j=i.byteOffset+i.stride*j;for(var $=0,yt=i.width;$<yt;){var _t=$++,xt=o?f.getInt32(s):f.b[s+3]|f.b[s+2]<<8|f.b[s+1]<<16|f.b[s]<<24;switch(s+=4,n){case 1:xt=(xt>>>16&255)<<24|(xt>>>8&255)<<16|(255&xt)<<8|xt>>>24&255;break;case 2:xt=(xt>>>8&255)<<24|(xt>>>16&255)<<16|(xt>>>24&255)<<8|255&xt}m||(xt=(xt>>>24&255)<<24|(xt>>>16&255)<<16|(xt>>>8&255)<<8|255),_t=j+4*_t;var Tt=_,St=h;switch(null==St&&(St=!1),null==Tt&&(Tt=0),St&&(255&xt?255!=(255&xt)&&(I.a16=I.__alpha16[255&xt],xt=((xt>>>24&255)*I.a16>>16&255)<<24|((xt>>>16&255)*I.a16>>16&255)<<16|((xt>>>8&255)*I.a16>>16&255)<<8|255&xt):0!=xt&&(xt=0)),Tt){case 0:l[_t]=xt>>>24&255,l[_t+1]=xt>>>16&255,l[_t+2]=xt>>>8&255,l[_t+3]=255&xt;break;case 1:l[_t]=255&xt,l[_t+1]=xt>>>24&255,l[_t+2]=xt>>>16&255,l[_t+3]=xt>>>8&255;break;case 2:l[_t]=xt>>>8&255,l[_t+1]=xt>>>16&255,l[_t+2]=xt>>>24&255,l[_t+3]=255&xt}}}e.dirty=!0,e.version++}},ab.threshold=function(e,i,s,n,o,l,_,h,m,f){switch(f){case 1:_=(_>>>16&255)<<24|(_>>>8&255)<<16|(255&_)<<8|_>>>24&255,h=(h>>>16&255)<<24|(h>>>8&255)<<16|(255&h)<<8|h>>>24&255,l=(l>>>16&255)<<24|(l>>>8&255)<<16|(255&l)<<8|l>>>24&255;break;case 2:_=(_>>>8&255)<<24|(_>>>16&255)<<16|(_>>>24&255)<<8|255&_,h=(h>>>8&255)<<24|(h>>>16&255)<<16|(h>>>24&255)<<8|255&h,l=(l>>>8&255)<<24|(l>>>16&255)<<16|(l>>>24&255)<<8|255&l}switch(o){case"!=":o=0;break;case"<":o=2;break;case"<=":o=3;break;case"==":o=1;break;case">":o=4;break;case">=":o=5;break;default:o=-1}if(-1==o)return 0;var y=e.buffer.data;if(null==(f=i.buffer.data)||null==y)return 0;var g=0;s=new gf(i,s),n=new gf(e,new je(n.x,n.y,s.width,s.height));var j=i.buffer.format,$=e.buffer.format;i=i.buffer.premultiplied;for(var _t,xt,Tt,St,yt=e.buffer.premultiplied,Mt=0,Et=n.height;Mt<Et;){xt=Mt++,_t=s.byteOffset+s.stride*xt,xt=n.byteOffset+n.stride*xt;for(var Ct=0,Dt=n.width;Ct<Dt;){Ct++;var At=i;switch(null==At&&(At=!1),null==(St=j)&&(St=0),St){case 0:Tt=(255&f[_t])<<24|(255&f[_t+1])<<16|(255&f[_t+2])<<8|255&f[_t+3];break;case 1:Tt=(255&f[_t+1])<<24|(255&f[_t+2])<<16|(255&f[_t+3])<<8|255&f[_t];break;case 2:Tt=(255&f[_t+2])<<24|(255&f[_t+1])<<16|(255&f[_t])<<8|255&f[_t+3]}At&&255&Tt&&255!=(255&Tt)&&(I.unmult=255/(255&Tt),Tt=(255&I.__clamp[Math.round((Tt>>>24&255)*I.unmult)])<<24|(255&I.__clamp[Math.round((Tt>>>16&255)*I.unmult)])<<16|(255&I.__clamp[Math.round((Tt>>>8&255)*I.unmult)])<<8|255&Tt);var Nt=l>>>24&255;switch(St=(At=(St=Tt&h)>>>24&255)!=Nt||(At=St>>>16&255)!=(Nt=l>>>16&255)||(At=St>>>8&255)!=(Nt=l>>>8&255)||(At=255&St)!=(Nt=255&l)?Ga.gt(At,Nt)?1:-1:0,o){case 0:St=0!=St;break;case 1:St=0==St;break;case 2:St=-1==St;break;case 3:St=0==St||-1==St;break;case 4:St=1==St;break;case 5:St=0==St||1==St;break;default:St=!1}if(St){switch(null==(At=yt)&&(At=!1),null==(St=$)&&(St=0),At&&(255&_?255!=(255&_)&&(I.a16=I.__alpha16[255&_],_=((_>>>24&255)*I.a16>>16&255)<<24|((_>>>16&255)*I.a16>>16&255)<<16|((_>>>8&255)*I.a16>>16&255)<<8|255&_):0!=_&&(_=0)),St){case 0:y[xt]=_>>>24&255,y[xt+1]=_>>>16&255,y[xt+2]=_>>>8&255,y[xt+3]=255&_;break;case 1:y[xt]=255&_,y[xt+1]=_>>>24&255,y[xt+2]=_>>>16&255,y[xt+3]=_>>>8&255;break;case 2:y[xt]=_>>>8&255,y[xt+1]=_>>>16&255,y[xt+2]=_>>>24&255,y[xt+3]=255&_}++g}else if(m)switch(St=$,At=yt,null==At&&(At=!1),null==St&&(St=0),At&&(255&Tt?255!=(255&Tt)&&(I.a16=I.__alpha16[255&Tt],Tt=((Tt>>>24&255)*I.a16>>16&255)<<24|((Tt>>>16&255)*I.a16>>16&255)<<16|((Tt>>>8&255)*I.a16>>16&255)<<8|255&Tt):0!=Tt&&(Tt=0)),St){case 0:y[xt]=Tt>>>24&255,y[xt+1]=Tt>>>16&255,y[xt+2]=Tt>>>8&255,y[xt+3]=255&Tt;break;case 1:y[xt]=255&Tt,y[xt+1]=Tt>>>24&255,y[xt+2]=Tt>>>16&255,y[xt+3]=Tt>>>8&255;break;case 2:y[xt]=Tt>>>8&255,y[xt+1]=Tt>>>16&255,y[xt+2]=Tt>>>24&255,y[xt+3]=255&Tt}_t+=4,xt+=4}}return 0<g&&(e.dirty=!0,e.version++),g},ab.unmultiplyAlpha=function(e){var i=e.buffer.data;if(null!=i){for(var n,s=e.buffer.format,o=0,l=i.length/4|0;o<l;){var _=o++,h=4*_,m=s,f=!0;switch(null==f&&(f=!1),null==m&&(m=0),m){case 0:n=(255&i[h])<<24|(255&i[h+1])<<16|(255&i[h+2])<<8|255&i[h+3];break;case 1:n=(255&i[h+1])<<24|(255&i[h+2])<<16|(255&i[h+3])<<8|255&i[h];break;case 2:n=(255&i[h+2])<<24|(255&i[h+1])<<16|(255&i[h])<<8|255&i[h+3]}switch(f&&255&n&&255!=(255&n)&&(I.unmult=255/(255&n),n=(255&I.__clamp[Math.round((n>>>24&255)*I.unmult)])<<24|(255&I.__clamp[Math.round((n>>>16&255)*I.unmult)])<<16|(255&I.__clamp[Math.round((n>>>8&255)*I.unmult)])<<8|255&n),_*=4,null==(m=!1)&&(m=!1),null==(h=s)&&(h=0),m&&(255&n?255!=(255&n)&&(I.a16=I.__alpha16[255&n],n=((n>>>24&255)*I.a16>>16&255)<<24|((n>>>16&255)*I.a16>>16&255)<<16|((n>>>8&255)*I.a16>>16&255)<<8|255&n):0!=n&&(n=0)),h){case 0:i[_]=n>>>24&255,i[_+1]=n>>>16&255,i[_+2]=n>>>8&255,i[_+3]=255&n;break;case 1:i[_]=255&n,i[_+1]=n>>>24&255,i[_+2]=n>>>16&255,i[_+3]=n>>>8&255;break;case 2:i[_]=n>>>8&255,i[_+1]=n>>>16&255,i[_+2]=n>>>24&255,i[_+3]=255&n}}e.buffer.premultiplied=!1,e.dirty=!0,e.version++}},ab.__boxBlur=function(e,i,s,n,o,l){i.set(e),l|=0,ab.__boxBlurH(i,e,s,n,o|=0,0),ab.__boxBlurH(i,e,s,n,o,1),ab.__boxBlurH(i,e,s,n,o,2),ab.__boxBlurH(i,e,s,n,o,3),o=1/(l+l+1);for(var h,m,f,y,g,j,_=4*s,$=0;$<s;){m=h=4*$++,f=h+l*_,g=e[h+_*(n-1)],j=(l+1)*(y=e[h]);for(var yt=0,_t=l;yt<_t;){var xt=yt++;j+=e[h+xt*_]}for(yt=0,_t=l+1;yt<_t;)yt++,j+=e[f]-y,i[h]=Math.round(Ga.toFloat(j)*o),f+=_,h+=_;for(y=l+1,yt=n-l;y<yt;)y++,j+=e[f]-e[m],i[h]=Math.round(Ga.toFloat(j)*o),m+=_,f+=_,h+=_;for(f=n-l,y=n;f<y;)f++,j+=g-e[m],i[h]=Math.round(Ga.toFloat(j)*o),m+=_,h+=_}for(o=1/(l+l+1),_=4*s,$=0;$<s;){for(m=h=4*$+++1,f=h+l*_,g=e[h+_*(n-1)],j=(l+1)*(y=e[h]),yt=0,_t=l;yt<_t;)j+=e[h+(xt=yt++)*_];for(yt=0,_t=l+1;yt<_t;)yt++,j+=e[f]-y,i[h]=Math.round(Ga.toFloat(j)*o),f+=_,h+=_;for(y=l+1,yt=n-l;y<yt;)y++,j+=e[f]-e[m],i[h]=Math.round(Ga.toFloat(j)*o),m+=_,f+=_,h+=_;for(f=n-l,y=n;f<y;)f++,j+=g-e[m],i[h]=Math.round(Ga.toFloat(j)*o),m+=_,h+=_}for(o=1/(l+l+1),_=4*s,$=0;$<s;){for(m=h=4*$+++2,f=h+l*_,g=e[h+_*(n-1)],j=(l+1)*(y=e[h]),yt=0,_t=l;yt<_t;)j+=e[h+(xt=yt++)*_];for(yt=0,_t=l+1;yt<_t;)yt++,j+=e[f]-y,i[h]=Math.round(Ga.toFloat(j)*o),f+=_,h+=_;for(y=l+1,yt=n-l;y<yt;)y++,j+=e[f]-e[m],i[h]=Math.round(Ga.toFloat(j)*o),m+=_,f+=_,h+=_;for(f=n-l,y=n;f<y;)f++,j+=g-e[m],i[h]=Math.round(Ga.toFloat(j)*o),m+=_,h+=_}for(o=1/(l+l+1),_=4*s,$=0;$<s;){for(m=h=4*$+++3,f=h+l*_,g=e[h+_*(n-1)],j=(l+1)*(y=e[h]),yt=0,_t=l;yt<_t;)j+=e[h+(xt=yt++)*_];for(yt=0,_t=l+1;yt<_t;)yt++,j+=e[f]-y,i[h]=Math.round(Ga.toFloat(j)*o),f+=_,h+=_;for(y=l+1,yt=n-l;y<yt;)y++,j+=e[f]-e[m],i[h]=Math.round(Ga.toFloat(j)*o),m+=_,f+=_,h+=_;for(f=n-l,y=n;f<y;)f++,j+=g-e[m],i[h]=Math.round(Ga.toFloat(j)*o),m+=_,h+=_}},ab.__boxBlurH=function(e,i,s,n,o,l){for(var h,m,f,y,g,j,_=1/(o+o+1),$=0;$<n;){m=h=$++*s,f=h+o,g=e[4*(h+s-1)+l],j=(o+1)*(y=e[4*h+l]);for(var yt=0,_t=o;yt<_t;)j+=e[4*(h+yt++)+l];for(yt=0,_t=o+1;yt<_t;)yt++,j+=e[4*f+l]-y,i[4*h+l]=Math.round(Ga.toFloat(j)*_),++f,++h;for(y=o+1,yt=s-o;y<yt;)y++,j+=e[4*f+l]-e[4*m+l],i[4*h+l]=Math.round(Ga.toFloat(j)*_),++f,++m,++h;for(f=s-o,y=s;f<y;)f++,j+=g-e[4*m+l],i[4*h+l]=Math.round(Ga.toFloat(j)*_),++m,++h}},ab.__boxBlurT=function(e,i,s,n,o,l){for(var m,f,y,g,j,$,_=1/(o+o+1),h=4*s,yt=0;yt<s;){f=m=4*yt+++l,y=m+o*h,j=e[m+h*(n-1)],$=(o+1)*(g=e[m]);for(var _t=0,xt=o;_t<xt;)$+=e[m+_t++*h];for(_t=0,xt=o+1;_t<xt;)_t++,$+=e[y]-g,i[m]=Math.round(Ga.toFloat($)*_),y+=h,m+=h;for(g=o+1,_t=n-o;g<_t;)g++,$+=e[y]-e[f],i[m]=Math.round(Ga.toFloat($)*_),f+=h,y+=h,m+=h;for(y=n-o,g=n;y<g;)y++,$+=j-e[f],i[m]=Math.round(Ga.toFloat($)*_),f+=h,m+=h}},ab.__calculateSourceOffset=function(e,i,s,n){return s-=0|i.x,i=n-(0|i.y),0>s||0>i||s>=e.width||i>=e.height?-1:4*(i*(0|e.width)+s)},ab.__getBoxesForGaussianBlur=function(e,i){var s=Math.floor(Math.sqrt(12*e*e/i+1));s%2==0&&--s;var n=s+2;e=Math.round((12*e*e-i*s*s-4*i*s-3*i)/(-4*s-4));for(var o=[],l=0;l<i;){var _=l++;o.push(_<e?s:n)}return o},ab.__pixelCompare=function(e,i){var s=e>>>24&255,n=i>>>24&255;return s!=n||(s=e>>>16&255)!=(n=i>>>16&255)||(s=e>>>8&255)!=(n=i>>>8&255)||(s=255&e)!=(n=255&i)?Ga.gt(s,n)?1:-1:0},ab.__translatePixel=function(e,i,s,n,o,l,_){s=4*(l*(0|s.width)+o),0>(i=ab.__calculateSourceOffset(i,n,o,l))?e[s]=e[s+1]=e[s+2]=e[s+3]=0:(e[s]=e[i],e[s+1]=e[i+1],e[s+2]=e[i+2],_=Ga.toFloat(e[i+3])*_|0,e[s+3]=0>_?0:255<_?255:_)};var gf=function(e,i){this.image=e,null==i?this.rect=e.get_rect():(0>i.x&&(i.x=0),0>i.y&&(i.y=0),i.x+i.width>e.width&&(i.width=e.width-i.x),i.y+i.height>e.height&&(i.height=e.height-i.y),0>i.width&&(i.width=0),0>i.height&&(i.height=0),this.rect=i),this.stride=e.buffer.get_stride(),this.__update()};k["lime._internal.graphics._ImageDataUtil.ImageDataView"]=gf,gf.__name__="lime._internal.graphics._ImageDataUtil.ImageDataView",gf.prototype={x:null,y:null,height:null,width:null,byteOffset:null,image:null,rect:null,stride:null,tempRect:null,clip:function(e,i,s,n){null==this.tempRect&&(this.tempRect=new je),this.tempRect.setTo(e,i,s,n),this.rect.intersection(this.tempRect,this.rect),this.__update()},hasRow:function(e){return 0<=e&&e<this.height},offset:function(e,i){0>e?(this.rect.x+=e,0>this.rect.x&&(this.rect.x=0)):(this.rect.x+=e,this.rect.width-=e),0>i?(this.rect.y+=i,0>this.rect.y&&(this.rect.y=0)):(this.rect.y+=i,this.rect.height-=i),this.__update()},row:function(e){return this.byteOffset+this.stride*e},__update:function(){this.x=Math.ceil(this.rect.x),this.y=Math.ceil(this.rect.y),this.width=Math.floor(this.rect.width),this.height=Math.floor(this.rect.height),this.byteOffset=this.stride*(this.y+this.image.offsetY)+4*(this.x+this.image.offsetX)},__class__:gf};var zf=function(){};k["lime._internal.graphics.StackBlur"]=zf,zf.__name__="lime._internal.graphics.StackBlur",zf.blur=function(e,i,s,n,o,l,_){e.copyPixels(i,s,n),zf.__stackBlurCanvasRGBA(e,0|s.width,0|s.height,o,l,_)},zf.__stackBlurCanvasRGBA=function(e,i,s,n,o,l){if(n=Math.round(n)>>1,o=Math.round(o)>>1,null!=zf.MUL_TABLE&&(n>=zf.MUL_TABLE.length&&(n=zf.MUL_TABLE.length-1),o>=zf.MUL_TABLE.length&&(o=zf.MUL_TABLE.length-1),!(0>n||0>o))){1>l&&(l=1),3<l&&(l=3),e=e.get_data();var _,h,m,f=n+n+1,y=o+o+1,g=i-1,j=s-1,$=n+1,yt=o+1,_t=new Fj,xt=_t;for(m=1;m<f;)m++,xt=xt.n=new Fj;xt.n=_t;var Tt=f=new Fj;for(m=1;m<y;)m++,Tt=Tt.n=new Fj;Tt.n=f;for(var St,Mt=zf.MUL_TABLE[n],Et=zf.SHG_TABLE[n],Ct=zf.MUL_TABLE[o],Dt=zf.SHG_TABLE[o];0<l;){--l;var At=h=0,Nt=Mt,Ft=Et;for(_=s;;){var Lt=e[h];y=$*Lt;var Ot=e[h+1];m=$*Ot;var Ht=e[h+2],$t=$*Ht,zt=e[h+3],Jt=$*zt;for(xt=_t,Tt=$;xt.r=Lt,xt.g=Ot,xt.b=Ht,xt.a=zt,xt=xt.n,-1<--Tt;);for(zt=1,St=$;zt<St;)Tt=zt++,y+=xt.r=e[Tt=h+((g<Tt?g:Tt)<<2)],m+=xt.g=e[Tt+1],$t+=xt.b=e[Tt+2],Jt+=xt.a=e[Tt+3],xt=xt.n;for(St=_t,xt=0,zt=i;xt<zt;)Tt=xt++,e[h++]=y*Nt>>>Ft,e[h++]=m*Nt>>>Ft,e[h++]=$t*Nt>>>Ft,e[h++]=Jt*Nt>>>Ft,y-=St.r-(St.r=e[Tt=At+((Tt=Tt+n+1)<g?Tt:g)<<2]),m-=St.g-(St.g=e[Tt+1]),$t-=St.b-(St.b=e[Tt+2]),Jt-=St.a-(St.a=e[Tt+3]),St=St.n;if(At+=i,!(0<--_))break}for(Nt=Ct,Ft=Dt,_=0,At=i;_<At;){for(y=yt*(Lt=e[h=(xt=_++)<<2]),m=yt*(Ot=e[h+1]),$t=yt*(Ht=e[h+2]),Jt=yt*(zt=e[h+3]),Tt=f,h=0,St=yt;h<St;)h++,Tt.r=Lt,Tt.g=Ot,Tt.b=Ht,Tt.a=zt,Tt=Tt.n;for(zt=i,St=1,Lt=o+1;St<Lt;)Ot=St++,y+=Tt.r=e[h=zt+xt<<2],m+=Tt.g=e[h+1],$t+=Tt.b=e[h+2],Jt+=Tt.a=e[h+3],Tt=Tt.n,Ot<j&&(zt+=i);if(h=xt,St=f,0<l)for(Lt=0,Ot=s;Lt<Ot;)Ht=Lt++,e[3+(Tt=h<<2)]=zt=Jt*Nt>>>Ft,0<zt?(e[Tt]=y*Nt>>>Ft,e[Tt+1]=m*Nt>>>Ft,e[Tt+2]=$t*Nt>>>Ft):e[Tt]=e[Tt+1]=e[Tt+2]=0,y-=St.r-(St.r=e[Tt=xt+((Tt=Ht+yt)<j?Tt:j)*i<<2]),m-=St.g-(St.g=e[Tt+1]),$t-=St.b-(St.b=e[Tt+2]),Jt-=St.a-(St.a=e[Tt+3]),St=St.n,h+=i;else for(var Qt=0,Kt=s;Qt<Kt;){var _o=Qt++;e[3+(Tt=h<<2)]=zt=Jt*Nt>>>Ft,0<zt?(Ot=(m*Nt>>>Ft)*(zt=255/zt)|0,Ht=($t*Nt>>>Ft)*zt|0,e[Tt]=255<(Lt=(y*Nt>>>Ft)*zt|0)?255:Lt,e[Tt+1]=255<Ot?255:Ot,e[Tt+2]=255<Ht?255:Ht):e[Tt]=e[Tt+1]=e[Tt+2]=0,y-=St.r-(St.r=e[Tt=xt+((Tt=_o+yt)<j?Tt:j)*i<<2]),m-=St.g-(St.g=e[Tt+1]),$t-=St.b-(St.b=e[Tt+2]),Jt-=St.a-(St.a=e[Tt+3]),St=St.n,h+=i}}}}};var Fj=function(){this.a=this.b=this.g=this.r=0,this.n=null};k["lime._internal.graphics.BlurStack"]=Fj,Fj.__name__="lime._internal.graphics.BlurStack",Fj.prototype={r:null,g:null,b:null,a:null,n:null,__class__:Fj};var it=function(){};k["lime._internal.macros.AssetsMacro"]=it,it.__name__="lime._internal.macros.AssetsMacro";var Ah={};k["lime._internal.unifill._CodePoint.CodePoint_Impl_"]=Ah,Ah.__name__="lime._internal.unifill._CodePoint.CodePoint_Impl_",Ah.fromInt=function(e){if(!(0<=e&&1114111>=e)||55296<=e&&56319>=e||56320<=e&&57343>=e)throw new E(new Gj(e));return e},Ah.cons=function(e,i){return(65535>=e?String.fromCodePoint(e):String.fromCodePoint(55232+(e>>10))+String.fromCodePoint(1023&e|56320))+i},Ah.snoc=function(e,i){return e+(65535>=i?String.fromCodePoint(i):String.fromCodePoint(55232+(i>>10))+String.fromCodePoint(1023&i|56320))},Ah.addInt=function(e,i){if(!(0<=(e+=i)&&1114111>=e)||55296<=e&&56319>=e||56320<=e&&57343>=e)throw new E(new Gj(e));return e},Ah.sub=function(e,i){return e-i},Ah.subInt=function(e,i){if(!(0<=(e-=i)&&1114111>=e)||55296<=e&&56319>=e||56320<=e&&57343>=e)throw new E(new Gj(e));return e},Ah._new=function(e){return e},Ah.toString=function(e){return 65535>=e?String.fromCodePoint(e):String.fromCodePoint(55232+(e>>10))+String.fromCodePoint(1023&e|56320)},Ah.toInt=function(e){return e};var Cq=function(e){this.i=0,this.string=e,this.index=0,this.endIndex=e.length};k["lime._internal.unifill.CodePointIter"]=Cq,Cq.__name__="lime._internal.unifill.CodePointIter",Cq.prototype={string:null,index:null,endIndex:null,hasNext:function(){return this.index<this.endIndex},i:null,next:function(){var e=this.i=this.index,i=this.string.charCodeAt(this.index);return this.index=e+(55296<=i&&56319>=i?2:1),Pc.codePointAt(this.string,this.i)},__class__:Cq};var Hj=function(){};k["lime._internal.unifill.Exception"]=Hj,Hj.__name__="lime._internal.unifill.Exception",Hj.prototype={toString:function(){throw new E(null)},__class__:Hj};var Gj=function(e){this.code=e};k["lime._internal.unifill.InvalidCodePoint"]=Gj,Gj.__name__="lime._internal.unifill.InvalidCodePoint",Gj.__super__=Hj,Gj.prototype=x(Hj.prototype,{code:null,toString:function(){return"InvalidCodePoint(code: "+this.code+")"},__class__:Gj});var ii=function(e){this.index=e};k["lime._internal.unifill.InvalidCodeUnitSequence"]=ii,ii.__name__="lime._internal.unifill.InvalidCodeUnitSequence",ii.__super__=Hj,ii.prototype=x(Hj.prototype,{index:null,toString:function(){return"InvalidCodeUnitSequence(index: "+this.index+")"},__class__:ii});var Af=function(){};k["lime._internal.unifill.InternalEncoding"]=Af,Af.__name__="lime._internal.unifill.InternalEncoding",Af.__properties__={get_internalEncoding:"get_internalEncoding"},Af.get_internalEncoding=function(){return"UTF-16"},Af.codeUnitAt=function(e,i){return e.charCodeAt(i)},Af.codePointAt=function(e,i){return Pc.codePointAt(e,i)},Af.charAt=function(e,i){var s=e.charCodeAt(i);return B.substr(e,i,55296<=s&&56319>=s?2:1)},Af.codePointCount=function(e,i,s){return Pc.codePointCount(e,i,s)},Af.codePointWidthAt=function(e,i){return 55296<=(e=e.charCodeAt(i))&&56319>=e?2:1},Af.codePointWidthBefore=function(e,i){return 56320<=(e=e.charCodeAt(i-1))&&57343>=e?2:1},Af.offsetByCodePoints=function(e,i,s){if(0<=s){for(var n=e.length,o=0;o<s&&i<n;){var l=e.charCodeAt(i);i+=55296<=l&&56319>=l?2:1,++o}return i}for(n=0;n<-s&&0<i;)i-=56320<=(o=e.charCodeAt(i-1))&&57343>=o?2:1,++n;return i},Af.backwardOffsetByCodePoints=function(e,i,s){if(0<=(s=-s)){for(var n=e.length,o=0;o<s&&i<n;){var l=e.charCodeAt(i);i+=55296<=l&&56319>=l?2:1,++o}return i}for(n=0;n<-s&&0<i;)i-=56320<=(o=e.charCodeAt(i-1))&&57343>=o?2:1,++n;return i},Af.fromCodePoint=function(e){return 65535>=e?String.fromCodePoint(e):String.fromCodePoint(55232+(e>>10))+String.fromCodePoint(1023&e|56320)},Af.fromCodePoints=function(e){var i="";for(e=S(e);e.hasNext();){var s=e.next();65535>=s?i+=String.fromCodePoint(s):(i+=String.fromCodePoint(55232+(s>>10)),i+=String.fromCodePoint(1023&s|56320))}return i},Af.validate=function(e){Pc.validate(e)},Af.isValidString=function(e){try{return Pc.validate(e),!0}catch(i){if(ha.lastException=i,(i instanceof E?i.val:i)instanceof ii)return!1;throw i}},Af.encodeWith=function(e,i){65535>=i?e(i):(e(55232+(i>>10)),e(1023&i|56320))};var gs=function(e,i,s){this.i=0,this.string=e,this.index=i,this.endIndex=s};k["lime._internal.unifill.InternalEncodingIter"]=gs,gs.__name__="lime._internal.unifill.InternalEncodingIter",gs.prototype={string:null,index:null,endIndex:null,hasNext:function(){return this.index<this.endIndex},i:null,next:function(){var e=this.i=this.index,i=this.string.charCodeAt(this.index);return this.index=e+(55296<=i&&56319>=i?2:1),this.i},__class__:gs};var qg=function(){};k["lime._internal.unifill.Unicode"]=qg,qg.__name__="lime._internal.unifill.Unicode",qg.decodeSurrogate=function(e,i){return e-55232<<10|1023&i},qg.encodeHighSurrogate=function(e){return 55232+(e>>10)},qg.encodeLowSurrogate=function(e){return 1023&e|56320},qg.isScalar=function(e){return 0<=e&&1114111>=e&&!(55296<=e&&56319>=e)&&!(56320<=e&&57343>=e)},qg.isHighSurrogate=function(e){return 55296<=e&&56319>=e},qg.isLowSurrogate=function(e){return 56320<=e&&57343>=e};var Vf=function(){};k["lime._internal.unifill.Unifill"]=Vf,Vf.__name__="lime._internal.unifill.Unifill",Vf.uLength=function(e){return Pc.codePointCount(e,0,e.length)},Vf.uCharAt=function(e,i){if(0<=i){for(var s=0,n=e.length,o=0;o<i&&s<n;){var l=e.charCodeAt(s);s+=55296<=l&&56319>=l?2:1,++o}i=s}else{for(n=s=0;n<-i&&0<s;)s-=56320<=(o=e.charCodeAt(s-1))&&57343>=o?2:1,++n;i=s}return s=e.charCodeAt(i),B.substr(e,i,55296<=s&&56319>=s?2:1)},Vf.uCharCodeAt=function(e,i){if(0<=i){for(var s=0,n=e.length,o=0;o<i&&s<n;){var l=e.charCodeAt(s);s+=55296<=l&&56319>=l?2:1,++o}i=s}else{for(n=s=0;n<-i&&0<s;)s-=56320<=(o=e.charCodeAt(s-1))&&57343>=o?2:1,++n;i=s}return Pc.codePointAt(e,i)},Vf.uCodePointAt=function(e,i){if(0<=i){for(var s=0,n=e.length,o=0;o<i&&s<n;){var l=e.charCodeAt(s);s+=55296<=l&&56319>=l?2:1,++o}i=s}else{for(n=s=0;n<-i&&0<s;)s-=56320<=(o=e.charCodeAt(s-1))&&57343>=o?2:1,++n;i=s}return Pc.codePointAt(e,i)},Vf.uIndexOf=function(e,i,s){if(null==s&&(s=0),0<=s){for(var n=0,o=e.length,l=0;l<s&&n<o;){var _=e.charCodeAt(n);n+=55296<=_&&56319>=_?2:1,++l}s=n}else{for(o=n=0;o<-s&&0<n;)n-=56320<=(l=e.charCodeAt(n-1))&&57343>=l?2:1,++o;s=n}return 0<=(i=e.indexOf(i,s))?Pc.codePointCount(e,0,i):-1},Vf.uLastIndexOf=function(e,i,s){if(null==s&&(s=e.length-1),0<=s){for(var n=0,o=e.length,l=0;l<s&&n<o;){var _=e.charCodeAt(n);n+=55296<=_&&56319>=_?2:1,++l}s=n}else{for(o=n=0;o<-s&&0<n;)n-=56320<=(l=e.charCodeAt(n-1))&&57343>=l?2:1,++o;s=n}return 0<=(i=e.lastIndexOf(i,s))?Pc.codePointCount(e,0,i):-1},Vf.uSplit=function(e,i){if(0==i.length){i=[];for(var s,n=0,o=e.length;n<o;){s=n;var l=e.charCodeAt(n);n+=55296<=l&&56319>=l?2:1;var _=(l=e).charCodeAt(s);s=B.substr(l,s,55296<=_&&56319>=_?2:1),i.push(s)}return i}return e.split(i)},Vf.uSubstr=function(e,i,s){var n=0<=i?0:e.length;if(0<=i){for(var o=e.length,l=0;l<i&&n<o;){var _=e.charCodeAt(n);n+=55296<=_&&56319>=_?2:1,++l}i=n}else{for(o=0;o<-i&&0<n;)n-=56320<=(l=e.charCodeAt(n-1))&&57343>=l?2:1,++o;i=n}if(null==s)s=e.length;else if(0>s)s=i;else if(0<=s){for(n=i,o=e.length,l=0;l<s&&n<o;)n+=55296<=(_=e.charCodeAt(n))&&56319>=_?2:1,++l;s=n}else{for(n=i,o=0;o<-s&&0<n;)n-=56320<=(l=e.charCodeAt(n-1))&&57343>=l?2:1,++o;s=n}return e.substring(i,s)},Vf.uSubstring=function(e,i,s){if(0>i)i=0;else if(0<=i){for(var n=0,o=e.length,l=0;l<i&&n<o;){var _=e.charCodeAt(n);n+=55296<=_&&56319>=_?2:1,++l}i=n}else{for(o=n=0;o<-i&&0<n;)n-=56320<=(l=e.charCodeAt(n-1))&&57343>=l?2:1,++o;i=n}if(null==s)s=e.length;else if(0>s)s=0;else if(0<=s){for(n=0,o=e.length,l=0;l<s&&n<o;)n+=55296<=(_=e.charCodeAt(n))&&56319>=_?2:1,++l;s=n}else{for(o=n=0;o<-s&&0<n;)n-=56320<=(l=e.charCodeAt(n-1))&&57343>=l?2:1,++o;s=n}return e.substring(i,s)},Vf.uIterator=function(e){return new Cq(e)},Vf.uCompare=function(e,i){for(var s,l,n=0,o=e.length,_=0,h=i.length;n<o&&_<h;){s=n,n+=55296<=(l=e.charCodeAt(n))&&56319>=l?2:1,s=Pc.codePointAt(e,s),l=_;var m=i.charCodeAt(_);if(_+=55296<=m&&56319>=m?2:1,s<(l=Pc.codePointAt(i,l)))return-1;if(s>l)return 1}return _<h?-1:n<o?1:0},Vf.uToString=function(e){var i="";for(e=S(e);e.hasNext();){var s=e.next();65535>=s?i+=String.fromCodePoint(s):(i+=String.fromCodePoint(55232+(s>>10)),i+=String.fromCodePoint(1023&s|56320))}return i},Vf.uAddChar=function(e,i){65535>=i?e.b+=String.fromCodePoint(i):(e.b+=String.fromCodePoint(55232+(i>>10)),e.b+=String.fromCodePoint(1023&i|56320))};var Pc={};k["lime._internal.unifill._Utf16.Utf16_Impl_"]=Pc,Pc.__name__="lime._internal.unifill._Utf16.Utf16_Impl_",Pc.__properties__={get_length:"get_length"},Pc.fromCodePoint=function(e){return 65535>=e?String.fromCodePoint(e):String.fromCodePoint(55232+(e>>10))+String.fromCodePoint(1023&e|56320)},Pc.fromCodePoints=function(e){var i="";for(e=S(e);e.hasNext();){var s=e.next();65535>=s?i+=String.fromCodePoint(s):(i+=String.fromCodePoint(55232+(s>>10)),i+=String.fromCodePoint(1023&s|56320))}return i},Pc.fromString=function(e){return e},Pc.fromArray=function(e){for(var i="",s=0;s<e.length;){var n=e[s];++s,i+=String.fromCodePoint(n)}return i},Pc.encodeWith=function(e,i){65535>=i?e(i):(e(55232+(i>>10)),e(1023&i|56320))},Pc.codeUnitAt=function(e,i){return e.charCodeAt(i)},Pc.codePointAt=function(e,i){return Ij.decode_code_point(e.length,function(s){return e.charCodeAt(s)},i)},Pc.charAt=function(e,i){var s=e.charCodeAt(i);return B.substr(e,i,55296<=s&&56319>=s?2:1)},Pc.codePointCount=function(e,i,s){for(var n=0;i<s;){var o=e.charCodeAt(i);i+=55296<=o&&56319>=o?2:1,++n}return n},Pc.codePointWidthAt=function(e,i){return 55296<=(e=e.charCodeAt(i))&&56319>=e?2:1},Pc.codePointWidthBefore=function(e,i){return 56320<=(e=e.charCodeAt(i-1))&&57343>=e?2:1},Pc.offsetByCodePoints=function(e,i,s){if(0<=s){for(var n=e.length,o=0;o<s&&i<n;){var l=e.charCodeAt(i);i+=55296<=l&&56319>=l?2:1,++o}return i}for(n=0;n<-s&&0<i;)i-=56320<=(o=e.charCodeAt(i-1))&&57343>=o?2:1,++n;return i},Pc.substr=function(e,i,s){return B.substr(e,i,s)},Pc.validate=function(e){for(var i=e.length,s=function(l){return e.charCodeAt(l)},n=0;n<i;){Ij.decode_code_point(i,s,n);var o=e.charCodeAt(n);n+=55296<=o&&56319>=o?2:1}},Pc.toString=function(e){return e},Pc.toArray=function(e){for(var i=0,s=e.length,n=[];i<s;)n.push(e.charCodeAt(i++));return n},Pc._new=function(e){return e},Pc.get_length=function(e){return e.length},Pc.forward_offset_by_code_points=function(e,i,s){for(var n=e.length,o=0;o<s&&i<n;){var l=e.charCodeAt(i);i+=55296<=l&&56319>=l?2:1,++o}return i},Pc.backward_offset_by_code_points=function(e,i,s){for(var n=0;n<s&&0<i;){var o=e.charCodeAt(i-1);i-=56320<=o&&57343>=o?2:1,++n}return i};var Ij=function(){};k["lime._internal.unifill._Utf16.Utf16Impl"]=Ij,Ij.__name__="lime._internal.unifill._Utf16.Utf16Impl",Ij.code_point_width=function(e){return 55296<=e&&56319>=e?2:1},Ij.find_prev_code_point=function(e,i){return 56320<=(e=e(i-1))&&57343>=e?2:1},Ij.encode_code_point=function(e,i){65535>=i?e(i):(e(55232+(i>>10)),e(1023&i|56320))},Ij.decode_code_point=function(e,i,s){if(0>s||e<=s)throw new E(new ii(s));var n=i(s);if(55296<=n&&56319>=n){if(0>s+1||e<=s+1)throw new E(new ii(s));if(56320<=(e=i(s+1))&&57343>=e)return n-55232<<10|1023&e;throw new E(new ii(s))}if(56320<=n&&57343>=n)throw new E(new ii(s));return n};var Dq={};k["lime._internal.unifill._Utf16.StringU16Buffer_Impl_"]=Dq,Dq.__name__="lime._internal.unifill._Utf16.StringU16Buffer_Impl_",Dq._new=function(){return new $c},Dq.addUnit=function(e,i){e.b+=String.fromCodePoint(i)},Dq.getStringU16=function(e){return e.b};var rg={};k["lime._internal.unifill._Utf16.StringU16_Impl_"]=rg,rg.__name__="lime._internal.unifill._Utf16.StringU16_Impl_",rg.__properties__={get_length:"get_length"},rg.fromString=function(e){return e},rg.fromCodeUnit=function(e){return String.fromCodePoint(e)},rg.fromTwoCodeUnits=function(e,i){return String.fromCodePoint(e)+String.fromCodePoint(i)},rg.ofArray=function(e){for(var i="",s=0;s<e.length;){var n=e[s];++s,i+=String.fromCodePoint(n)}return i},rg.fromArray=function(e){for(var i="",s=0;s<e.length;){var n=e[s];++s,i+=String.fromCodePoint(n)}return i},rg.codeUnitAt=function(e,i){return e.charCodeAt(i)},rg.substr=function(e,i,s){return B.substr(e,i,s)},rg.toString=function(e){return e},rg.toArray=function(e){for(var i=0,s=e.length,n=[];i<s;)n.push(e.charCodeAt(i++));return n},rg._new=function(e){return e},rg.get_length=function(e){return e.length};var fl=function(){};k["lime.app.IModule"]=fl,fl.__name__="lime.app.IModule",fl.__isInterface__=!0,fl.prototype={__registerLimeModule:null,__unregisterLimeModule:null,__class__:fl};var gl=function(){this.onExit=new Pi};k["lime.app.Module"]=gl,gl.__name__="lime.app.Module",gl.__interfaces__=[fl],gl.prototype={onExit:null,__registerLimeModule:function(e){},__unregisterLimeModule:function(e){},__class__:gl};var We=function(){this.onCreateWindow=new Eq,this.onUpdate=new Pi,this.onExit=new Pi,null==We.current&&(We.current=this),this.meta=new va,this.modules=[],this.__windowByID=new Va,this.__windows=[],this.__backend=new wq(this),this.__registerLimeModule(this),this.__preloader=new Fq,this.__preloader.onProgress.add(r(this,this.onPreloadProgress)),this.__preloader.onComplete.add(r(this,this.onPreloadComplete))};k["lime.app.Application"]=We,We.__name__="lime.app.Application",We.__super__=gl,We.prototype=x(gl.prototype,{meta:null,modules:null,onUpdate:null,onCreateWindow:null,preloader:null,window:null,windows:null,__backend:null,__preloader:null,__window:null,__windowByID:null,__windows:null,addModule:function(e){e.__registerLimeModule(this),this.modules.push(e)},createWindow:function(e){return e=this.__createWindow(e),this.__addWindow(e),e},exec:function(){return We.current=this,this.__backend.exec()},onGamepadAxisMove:function(e,i,s){},onGamepadButtonDown:function(e,i){},onGamepadButtonUp:function(e,i){},onGamepadConnect:function(e){},onGamepadDisconnect:function(e){},onJoystickAxisMove:function(e,i,s){},onJoystickButtonDown:function(e,i){},onJoystickButtonUp:function(e,i){},onJoystickConnect:function(e){},onJoystickDisconnect:function(e){},onJoystickHatMove:function(e,i,s){},onJoystickTrackballMove:function(e,i,s,n){},onKeyDown:function(e,i){},onKeyUp:function(e,i){},onModuleExit:function(e){},onMouseDown:function(e,i,s){},onMouseMove:function(e,i){},onMouseMoveRelative:function(e,i){},onMouseUp:function(e,i,s){},onMouseWheel:function(e,i,s){},onPreloadComplete:function(){},onPreloadProgress:function(e,i){},onRenderContextLost:function(){},onRenderContextRestored:function(e){},onTextEdit:function(e,i,s){},onTextInput:function(e){},onTouchCancel:function(e){},onTouchEnd:function(e){},onTouchMove:function(e){},onTouchStart:function(e){},onWindowActivate:function(){},onWindowClose:function(){},onWindowCreate:function(){},onWindowDeactivate:function(){},onWindowDropFile:function(e){},onWindowEnter:function(){},onWindowExpose:function(){},onWindowFocusIn:function(){},onWindowFocusOut:function(){},onWindowFullscreen:function(){},onWindowLeave:function(){},onWindowMove:function(e,i){},onWindowMinimize:function(){},onWindowResize:function(e,i){},onWindowRestore:function(){},removeModule:function(e){null!=e&&(e.__unregisterLimeModule(this),B.remove(this.modules,e))},render:function(e){},update:function(e){},__addWindow:function(e){if(null!=e){this.__windows.push(e),this.__windowByID.h[e.id]=e;var i=r(this,this.__onWindowClose);e.onClose.add(function(){i(e)},!1,-1e4),null==this.__window&&(this.__window=e,e.onActivate.add(r(this,this.onWindowActivate)),e.onRenderContextLost.add(r(this,this.onRenderContextLost)),e.onRenderContextRestored.add(r(this,this.onRenderContextRestored)),e.onDeactivate.add(r(this,this.onWindowDeactivate)),e.onDropFile.add(r(this,this.onWindowDropFile)),e.onEnter.add(r(this,this.onWindowEnter)),e.onExpose.add(r(this,this.onWindowExpose)),e.onFocusIn.add(r(this,this.onWindowFocusIn)),e.onFocusOut.add(r(this,this.onWindowFocusOut)),e.onFullscreen.add(r(this,this.onWindowFullscreen)),e.onKeyDown.add(r(this,this.onKeyDown)),e.onKeyUp.add(r(this,this.onKeyUp)),e.onLeave.add(r(this,this.onWindowLeave)),e.onMinimize.add(r(this,this.onWindowMinimize)),e.onMouseDown.add(r(this,this.onMouseDown)),e.onMouseMove.add(r(this,this.onMouseMove)),e.onMouseMoveRelative.add(r(this,this.onMouseMoveRelative)),e.onMouseUp.add(r(this,this.onMouseUp)),e.onMouseWheel.add(r(this,this.onMouseWheel)),e.onMove.add(r(this,this.onWindowMove)),e.onRender.add(r(this,this.render)),e.onResize.add(r(this,this.onWindowResize)),e.onRestore.add(r(this,this.onWindowRestore)),e.onTextEdit.add(r(this,this.onTextEdit)),e.onTextInput.add(r(this,this.onTextInput)),this.onWindowCreate()),this.onCreateWindow.dispatch(e)}},__createWindow:function(e){return-1==(e=new Jj(this,e)).id?null:e},__registerLimeModule:function(e){for(e.onUpdate.add(r(this,this.update)),e.onExit.add(r(this,this.onModuleExit),!1,0),e.onExit.add(r(this,this.__onModuleExit),!1,0),e=ae.devices.iterator();e.hasNext();){var i=e.next();this.__onGamepadConnect(i)}for(ae.onConnect.add(r(this,this.__onGamepadConnect)),e=kd.devices.iterator();e.hasNext();)i=e.next(),this.__onJoystickConnect(i);kd.onConnect.add(r(this,this.__onJoystickConnect)),xd.onCancel.add(r(this,this.onTouchCancel)),xd.onStart.add(r(this,this.onTouchStart)),xd.onMove.add(r(this,this.onTouchMove)),xd.onEnd.add(r(this,this.onTouchEnd))},__removeWindow:function(e){null!=e&&this.__windowByID.h.hasOwnProperty(e.id)&&(this.__window==e&&(this.__window=null),B.remove(this.__windows,e),this.__windowByID.remove(e.id),e.close(),0==this.__windows.length&&Na.exit(0))},__onGamepadConnect:function(e){this.onGamepadConnect(e);var i=r(this,this.onGamepadAxisMove);e.onAxisMove.add(function(l,_){i(e,l,_)});var s=r(this,this.onGamepadButtonDown);e.onButtonDown.add(function(l){s(e,l)});var n=r(this,this.onGamepadButtonUp);e.onButtonUp.add(function(l){n(e,l)});var o=r(this,this.onGamepadDisconnect);e.onDisconnect.add(function(){o(e)})},__onJoystickConnect:function(e){this.onJoystickConnect(e);var i=r(this,this.onJoystickAxisMove);e.onAxisMove.add(function(h,m){i(e,h,m)});var s=r(this,this.onJoystickButtonDown);e.onButtonDown.add(function(h){s(e,h)});var n=r(this,this.onJoystickButtonUp);e.onButtonUp.add(function(h){n(e,h)});var o=r(this,this.onJoystickDisconnect);e.onDisconnect.add(function(){o(e)});var l=r(this,this.onJoystickHatMove);e.onHatMove.add(function(h,m){l(e,h,m)});var _=r(this,this.onJoystickTrackballMove);e.onTrackballMove.add(function(h,m,f){_(e,h,m,f)})},__onModuleExit:function(e){this.__backend.exit()},__onWindowClose:function(e){this.__window==e&&this.onWindowClose(),this.__removeWindow(e)},__unregisterLimeModule:function(e){e.onUpdate.remove(r(this,this.update)),e.onExit.remove(r(this,this.__onModuleExit)),e.onExit.remove(r(this,this.onModuleExit)),ae.onConnect.remove(r(this,this.__onGamepadConnect)),kd.onConnect.remove(r(this,this.__onJoystickConnect)),xd.onCancel.remove(r(this,this.onTouchCancel)),xd.onStart.remove(r(this,this.onTouchStart)),xd.onMove.remove(r(this,this.onTouchMove)),xd.onEnd.remove(r(this,this.onTouchEnd)),this.onModuleExit(0)},get_preloader:function(){return this.__preloader},get_window:function(){return this.__window},get_windows:function(){return this.__windows},__class__:We,__properties__:{get_windows:"get_windows",get_window:"get_window",get_preloader:"get_preloader"}});var hs=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};k["lime.app.Event"]=hs,hs.__name__="lime.app.Event",hs.prototype={canceled:null,__listeners:null,__repeat:null,__priorities:null,add:function(e,i,s){null==s&&(s=0),null==i&&(i=!1);for(var n=0,o=this.__priorities.length;n<o;){var l=n++;if(s>this.__priorities[l])return this.__listeners.splice(l,0,e),this.__priorities.splice(l,0,s),void this.__repeat.splice(l,0,!i)}this.__listeners.push(e),this.__priorities.push(s),this.__repeat.push(!i)},cancel:function(){this.canceled=!0},dispatch:null,has:function(e){for(var i=0,s=this.__listeners;i<s.length;){var n=s[i];if(++i,X.compareMethods(n,e))return!0}return!1},remove:function(e){for(var i=this.__listeners.length;0<=--i;)X.compareMethods(this.__listeners[i],e)&&(this.__listeners.splice(i,1),this.__priorities.splice(i,1),this.__repeat.splice(i,1))},__class__:hs};var wb=function(e,i){if(null==i&&(i=!1),null!=e)if(i)(i=new Sd).future=this,pf.queue({promise:i,work:e});else try{this.value=e(),this.isComplete=!0}catch(s){ha.lastException=s,this.error=s instanceof E?s.val:s,this.isError=!0}};k["lime.app.Future"]=wb,wb.__name__="lime.app.Future",wb.ofEvents=function(e,i,s){var n=new Sd;return e.add(function(o){n.complete(o)},!0),i?.add(function(o){n.error(o)},!0),s?.add(function(o,l){n.progress(o,l)},!0),n.future},wb.withError=function(e){var i=new wb;return i.isError=!0,i.error=e,i},wb.withValue=function(e){var i=new wb;return i.isComplete=!0,i.value=e,i},wb.prototype={error:null,isComplete:null,isError:null,value:null,__completeListeners:null,__errorListeners:null,__progressListeners:null,onComplete:function(e){return null!=e&&(this.isComplete?e(this.value):this.isError||(null==this.__completeListeners&&(this.__completeListeners=[]),this.__completeListeners.push(e))),this},onError:function(e){return null!=e&&(this.isError?e(this.error):this.isComplete||(null==this.__errorListeners&&(this.__errorListeners=[]),this.__errorListeners.push(e))),this},onProgress:function(e){return null!=e&&(null==this.__progressListeners&&(this.__progressListeners=[]),this.__progressListeners.push(e)),this},ready:function(e){return this.isComplete||this.isError||Ua.warn("Cannot block thread in JavaScript",{fileName:"lime/app/Future.hx",lineNumber:209,className:"lime.app.Future",methodName:"ready"}),this},result:function(e){return null==e&&(e=-1),this.ready(e),this.isComplete?this.value:null},then:function(e){if(this.isComplete)return e(this.value);if(this.isError){var i=new wb;return i.isError=!0,i.error=this.error,i}var s=new Sd;return this.onError(r(s,s.error)),this.onProgress(r(s,s.progress)),this.onComplete(function(n){(n=e(n)).onError(r(s,s.error)),n.onComplete(r(s,s.complete))}),s.future},__class__:wb};var pf=function(){};k["lime.app._Future.FutureWork"]=pf,pf.__name__="lime.app._Future.FutureWork",pf.queue=function(e){null==pf.threadPool&&(pf.threadPool=new Gq,pf.threadPool.doWork.add(pf.threadPool_doWork),pf.threadPool.onComplete.add(pf.threadPool_onComplete),pf.threadPool.onError.add(pf.threadPool_onError)),pf.threadPool.queue(e)},pf.threadPool_doWork=function(e){try{var i=e.work();pf.threadPool.sendComplete({promise:e.promise,result:i})}catch(s){ha.lastException=s,pf.threadPool.sendError({promise:e.promise,error:s instanceof E?s.val:s})}},pf.threadPool_onComplete=function(e){e.promise.complete(e.result)},pf.threadPool_onError=function(e){e.promise.error(e.error)};var Sd=function(){this.future=new wb};k["lime.app.Promise"]=Sd,Sd.__name__="lime.app.Promise",Sd.prototype={future:null,isComplete:null,isError:null,complete:function(e){if(!this.future.isError&&(this.future.isComplete=!0,this.future.value=e,null!=this.future.__completeListeners)){for(var i=0,s=this.future.__completeListeners;i<s.length;){var n=s[i];++i,n(e)}this.future.__completeListeners=null}return this},completeWith:function(e){return e.onComplete(r(this,this.complete)),e.onError(r(this,this.error)),e.onProgress(r(this,this.progress)),this},error:function(e){if(!this.future.isComplete&&(this.future.isError=!0,this.future.error=e,null!=this.future.__errorListeners)){for(var i=0,s=this.future.__errorListeners;i<s.length;){var n=s[i];++i,n(e)}this.future.__errorListeners=null}return this},progress:function(e,i){if(!this.future.isError&&!this.future.isComplete&&null!=this.future.__progressListeners)for(var s=0,n=this.future.__progressListeners;s<n.length;){var o=n[s];++s,o(e,i)}return this},get_isComplete:function(){return this.future.isComplete},get_isError:function(){return this.future.isError},__class__:Sd,__properties__:{get_isError:"get_isError",get_isComplete:"get_isComplete"}};var Qi=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};k["lime.app._Event_Dynamic_Void"]=Qi,Qi.__name__="lime.app._Event_Dynamic_Void",Qi.prototype={canceled:null,__repeat:null,__priorities:null,add:function(e,i,s){null==s&&(s=0),null==i&&(i=!1);for(var n=0,o=this.__priorities.length;n<o;){var l=n++;if(s>this.__priorities[l])return this.__listeners.splice(l,0,e),this.__priorities.splice(l,0,s),void this.__repeat.splice(l,0,!i)}this.__listeners.push(e),this.__priorities.push(s),this.__repeat.push(!i)},cancel:function(){this.canceled=!0},has:function(e){for(var i=0,s=this.__listeners;i<s.length;){var n=s[i];if(++i,X.compareMethods(n,e))return!0}return!1},remove:function(e){for(var i=this.__listeners.length;0<=--i;)X.compareMethods(this.__listeners[i],e)&&(this.__listeners.splice(i,1),this.__priorities.splice(i,1),this.__repeat.splice(i,1))},__listeners:null,dispatch:function(e){this.canceled=!1;for(var i=this.__listeners,s=this.__repeat,n=0;n<i.length&&(i[n](e),s[n]?++n:this.remove(i[n]),!this.canceled););},__class__:Qi};var Hq=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};k["lime.app._Event_Float_Float_Float_Void"]=Hq,Hq.__name__="lime.app._Event_Float_Float_Float_Void",Hq.prototype={canceled:null,__repeat:null,__priorities:null,add:function(e,i,s){null==s&&(s=0),null==i&&(i=!1);for(var n=0,o=this.__priorities.length;n<o;){var l=n++;if(s>this.__priorities[l])return this.__listeners.splice(l,0,e),this.__priorities.splice(l,0,s),void this.__repeat.splice(l,0,!i)}this.__listeners.push(e),this.__priorities.push(s),this.__repeat.push(!i)},cancel:function(){this.canceled=!0},has:function(e){for(var i=0,s=this.__listeners;i<s.length;){var n=s[i];if(++i,X.compareMethods(n,e))return!0}return!1},remove:function(e){for(var i=this.__listeners.length;0<=--i;)X.compareMethods(this.__listeners[i],e)&&(this.__listeners.splice(i,1),this.__priorities.splice(i,1),this.__repeat.splice(i,1))},__listeners:null,dispatch:function(e,i,s){this.canceled=!1;for(var n=this.__listeners,o=this.__repeat,l=0;l<n.length&&(n[l](e,i,s),o[l]?++l:this.remove(n[l]),!this.canceled););},__class__:Hq};var Iq=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};k["lime.app._Event_Float_Float_Int_Void"]=Iq,Iq.__name__="lime.app._Event_Float_Float_Int_Void",Iq.prototype={canceled:null,__repeat:null,__priorities:null,add:function(e,i,s){null==s&&(s=0),null==i&&(i=!1);for(var n=0,o=this.__priorities.length;n<o;){var l=n++;if(s>this.__priorities[l])return this.__listeners.splice(l,0,e),this.__priorities.splice(l,0,s),void this.__repeat.splice(l,0,!i)}this.__listeners.push(e),this.__priorities.push(s),this.__repeat.push(!i)},cancel:function(){this.canceled=!0},has:function(e){for(var i=0,s=this.__listeners;i<s.length;){var n=s[i];if(++i,X.compareMethods(n,e))return!0}return!1},remove:function(e){for(var i=this.__listeners.length;0<=--i;)X.compareMethods(this.__listeners[i],e)&&(this.__listeners.splice(i,1),this.__priorities.splice(i,1),this.__repeat.splice(i,1))},__listeners:null,dispatch:function(e,i,s){this.canceled=!1;for(var n=this.__listeners,o=this.__repeat,l=0;l<n.length&&(n[l](e,i,s),o[l]?++l:this.remove(n[l]),!this.canceled););},__class__:Iq};var hl=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};k["lime.app._Event_Float_Float_Void"]=hl,hl.__name__="lime.app._Event_Float_Float_Void",hl.prototype={canceled:null,__repeat:null,__priorities:null,add:function(e,i,s){null==s&&(s=0),null==i&&(i=!1);for(var n=0,o=this.__priorities.length;n<o;){var l=n++;if(s>this.__priorities[l])return this.__listeners.splice(l,0,e),this.__priorities.splice(l,0,s),void this.__repeat.splice(l,0,!i)}this.__listeners.push(e),this.__priorities.push(s),this.__repeat.push(!i)},cancel:function(){this.canceled=!0},has:function(e){for(var i=0,s=this.__listeners;i<s.length;){var n=s[i];if(++i,X.compareMethods(n,e))return!0}return!1},remove:function(e){for(var i=this.__listeners.length;0<=--i;)X.compareMethods(this.__listeners[i],e)&&(this.__listeners.splice(i,1),this.__priorities.splice(i,1),this.__repeat.splice(i,1))},__listeners:null,dispatch:function(e,i){this.canceled=!1;for(var s=this.__listeners,n=this.__repeat,o=0;o<s.length&&(s[o](e,i),n[o]?++o:this.remove(s[o]),!this.canceled););},__class__:hl};var Jq=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};k["lime.app._Event_Float_Float_lime_ui_MouseButton_Void"]=Jq,Jq.__name__="lime.app._Event_Float_Float_lime_ui_MouseButton_Void",Jq.prototype={canceled:null,__repeat:null,__priorities:null,add:function(e,i,s){null==s&&(s=0),null==i&&(i=!1);for(var n=0,o=this.__priorities.length;n<o;){var l=n++;if(s>this.__priorities[l])return this.__listeners.splice(l,0,e),this.__priorities.splice(l,0,s),void this.__repeat.splice(l,0,!i)}this.__listeners.push(e),this.__priorities.push(s),this.__repeat.push(!i)},cancel:function(){this.canceled=!0},has:function(e){for(var i=0,s=this.__listeners;i<s.length;){var n=s[i];if(++i,X.compareMethods(n,e))return!0}return!1},remove:function(e){for(var i=this.__listeners.length;0<=--i;)X.compareMethods(this.__listeners[i],e)&&(this.__listeners.splice(i,1),this.__priorities.splice(i,1),this.__repeat.splice(i,1))},__listeners:null,dispatch:function(e,i,s){this.canceled=!1;for(var n=this.__listeners,o=this.__repeat,l=0;l<n.length&&(n[l](e,i,s),o[l]?++l:this.remove(n[l]),!this.canceled););},__class__:Jq};var Kq=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};k["lime.app._Event_Float_Float_lime_ui_MouseWheelMode_Void"]=Kq,Kq.__name__="lime.app._Event_Float_Float_lime_ui_MouseWheelMode_Void",Kq.prototype={canceled:null,__repeat:null,__priorities:null,add:function(e,i,s){null==s&&(s=0),null==i&&(i=!1);for(var n=0,o=this.__priorities.length;n<o;){var l=n++;if(s>this.__priorities[l])return this.__listeners.splice(l,0,e),this.__priorities.splice(l,0,s),void this.__repeat.splice(l,0,!i)}this.__listeners.push(e),this.__priorities.push(s),this.__repeat.push(!i)},cancel:function(){this.canceled=!0},has:function(e){for(var i=0,s=this.__listeners;i<s.length;){var n=s[i];if(++i,X.compareMethods(n,e))return!0}return!1},remove:function(e){for(var i=this.__listeners.length;0<=--i;)X.compareMethods(this.__listeners[i],e)&&(this.__listeners.splice(i,1),this.__priorities.splice(i,1),this.__repeat.splice(i,1))},__listeners:null,dispatch:function(e,i,s){this.canceled=!1;for(var n=this.__listeners,o=this.__repeat,l=0;l<n.length&&(n[l](e,i,s),o[l]?++l:this.remove(n[l]),!this.canceled););},__class__:Kq};var Lq=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};k["lime.app._Event_Int_Float_Float_Void"]=Lq,Lq.__name__="lime.app._Event_Int_Float_Float_Void",Lq.prototype={canceled:null,__repeat:null,__priorities:null,add:function(e,i,s){null==s&&(s=0),null==i&&(i=!1);for(var n=0,o=this.__priorities.length;n<o;){var l=n++;if(s>this.__priorities[l])return this.__listeners.splice(l,0,e),this.__priorities.splice(l,0,s),void this.__repeat.splice(l,0,!i)}this.__listeners.push(e),this.__priorities.push(s),this.__repeat.push(!i)},cancel:function(){this.canceled=!0},has:function(e){for(var i=0,s=this.__listeners;i<s.length;){var n=s[i];if(++i,X.compareMethods(n,e))return!0}return!1},remove:function(e){for(var i=this.__listeners.length;0<=--i;)X.compareMethods(this.__listeners[i],e)&&(this.__listeners.splice(i,1),this.__priorities.splice(i,1),this.__repeat.splice(i,1))},__listeners:null,dispatch:function(e,i,s){this.canceled=!1;for(var n=this.__listeners,o=this.__repeat,l=0;l<n.length&&(n[l](e,i,s),o[l]?++l:this.remove(n[l]),!this.canceled););},__class__:Lq};var Mq=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};k["lime.app._Event_Int_Float_Void"]=Mq,Mq.__name__="lime.app._Event_Int_Float_Void",Mq.prototype={canceled:null,__repeat:null,__priorities:null,add:function(e,i,s){null==s&&(s=0),null==i&&(i=!1);for(var n=0,o=this.__priorities.length;n<o;){var l=n++;if(s>this.__priorities[l])return this.__listeners.splice(l,0,e),this.__priorities.splice(l,0,s),void this.__repeat.splice(l,0,!i)}this.__listeners.push(e),this.__priorities.push(s),this.__repeat.push(!i)},cancel:function(){this.canceled=!0},has:function(e){for(var i=0,s=this.__listeners;i<s.length;){var n=s[i];if(++i,X.compareMethods(n,e))return!0}return!1},remove:function(e){for(var i=this.__listeners.length;0<=--i;)X.compareMethods(this.__listeners[i],e)&&(this.__listeners.splice(i,1),this.__priorities.splice(i,1),this.__repeat.splice(i,1))},__listeners:null,dispatch:function(e,i){this.canceled=!1;for(var s=this.__listeners,n=this.__repeat,o=0;o<s.length&&(s[o](e,i),n[o]?++o:this.remove(s[o]),!this.canceled););},__class__:Mq};var ko=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};k["lime.app._Event_Int_Int_Void"]=ko,ko.__name__="lime.app._Event_Int_Int_Void",ko.prototype={canceled:null,__repeat:null,__priorities:null,add:function(e,i,s){null==s&&(s=0),null==i&&(i=!1);for(var n=0,o=this.__priorities.length;n<o;){var l=n++;if(s>this.__priorities[l])return this.__listeners.splice(l,0,e),this.__priorities.splice(l,0,s),void this.__repeat.splice(l,0,!i)}this.__listeners.push(e),this.__priorities.push(s),this.__repeat.push(!i)},cancel:function(){this.canceled=!0},has:function(e){for(var i=0,s=this.__listeners;i<s.length;){var n=s[i];if(++i,X.compareMethods(n,e))return!0}return!1},remove:function(e){for(var i=this.__listeners.length;0<=--i;)X.compareMethods(this.__listeners[i],e)&&(this.__listeners.splice(i,1),this.__priorities.splice(i,1),this.__repeat.splice(i,1))},__listeners:null,dispatch:function(e,i){this.canceled=!1;for(var s=this.__listeners,n=this.__repeat,o=0;o<s.length&&(s[o](e,i),n[o]?++o:this.remove(s[o]),!this.canceled););},__class__:ko};var Pi=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};k["lime.app._Event_Int_Void"]=Pi,Pi.__name__="lime.app._Event_Int_Void",Pi.prototype={canceled:null,__repeat:null,__priorities:null,add:function(e,i,s){null==s&&(s=0),null==i&&(i=!1);for(var n=0,o=this.__priorities.length;n<o;){var l=n++;if(s>this.__priorities[l])return this.__listeners.splice(l,0,e),this.__priorities.splice(l,0,s),void this.__repeat.splice(l,0,!i)}this.__listeners.push(e),this.__priorities.push(s),this.__repeat.push(!i)},cancel:function(){this.canceled=!0},has:function(e){for(var i=0,s=this.__listeners;i<s.length;){var n=s[i];if(++i,X.compareMethods(n,e))return!0}return!1},remove:function(e){for(var i=this.__listeners.length;0<=--i;)X.compareMethods(this.__listeners[i],e)&&(this.__listeners.splice(i,1),this.__priorities.splice(i,1),this.__repeat.splice(i,1))},__listeners:null,dispatch:function(e){this.canceled=!1;for(var i=this.__listeners,s=this.__repeat,n=0;n<i.length&&(i[n](e),s[n]?++n:this.remove(i[n]),!this.canceled););},__class__:Pi};var Nq=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};k["lime.app._Event_Int_lime_ui_JoystickHatPosition_Void"]=Nq,Nq.__name__="lime.app._Event_Int_lime_ui_JoystickHatPosition_Void",Nq.prototype={canceled:null,__repeat:null,__priorities:null,add:function(e,i,s){null==s&&(s=0),null==i&&(i=!1);for(var n=0,o=this.__priorities.length;n<o;){var l=n++;if(s>this.__priorities[l])return this.__listeners.splice(l,0,e),this.__priorities.splice(l,0,s),void this.__repeat.splice(l,0,!i)}this.__listeners.push(e),this.__priorities.push(s),this.__repeat.push(!i)},cancel:function(){this.canceled=!0},has:function(e){for(var i=0,s=this.__listeners;i<s.length;){var n=s[i];if(++i,X.compareMethods(n,e))return!0}return!1},remove:function(e){for(var i=this.__listeners.length;0<=--i;)X.compareMethods(this.__listeners[i],e)&&(this.__listeners.splice(i,1),this.__priorities.splice(i,1),this.__repeat.splice(i,1))},__listeners:null,dispatch:function(e,i){this.canceled=!1;for(var s=this.__listeners,n=this.__repeat,o=0;o<s.length&&(s[o](e,i),n[o]?++o:this.remove(s[o]),!this.canceled););},__class__:Nq};var Oq=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};k["lime.app._Event_String_Int_Int_Void"]=Oq,Oq.__name__="lime.app._Event_String_Int_Int_Void",Oq.prototype={canceled:null,__repeat:null,__priorities:null,add:function(e,i,s){null==s&&(s=0),null==i&&(i=!1);for(var n=0,o=this.__priorities.length;n<o;){var l=n++;if(s>this.__priorities[l])return this.__listeners.splice(l,0,e),this.__priorities.splice(l,0,s),void this.__repeat.splice(l,0,!i)}this.__listeners.push(e),this.__priorities.push(s),this.__repeat.push(!i)},cancel:function(){this.canceled=!0},has:function(e){for(var i=0,s=this.__listeners;i<s.length;){var n=s[i];if(++i,X.compareMethods(n,e))return!0}return!1},remove:function(e){for(var i=this.__listeners.length;0<=--i;)X.compareMethods(this.__listeners[i],e)&&(this.__listeners.splice(i,1),this.__priorities.splice(i,1),this.__repeat.splice(i,1))},__listeners:null,dispatch:function(e,i,s){this.canceled=!1;for(var n=this.__listeners,o=this.__repeat,l=0;l<n.length&&(n[l](e,i,s),o[l]?++l:this.remove(n[l]),!this.canceled););},__class__:Oq};var lo=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};k["lime.app._Event_String_Void"]=lo,lo.__name__="lime.app._Event_String_Void",lo.prototype={canceled:null,__repeat:null,__priorities:null,add:function(e,i,s){null==s&&(s=0),null==i&&(i=!1);for(var n=0,o=this.__priorities.length;n<o;){var l=n++;if(s>this.__priorities[l])return this.__listeners.splice(l,0,e),this.__priorities.splice(l,0,s),void this.__repeat.splice(l,0,!i)}this.__listeners.push(e),this.__priorities.push(s),this.__repeat.push(!i)},cancel:function(){this.canceled=!0},has:function(e){for(var i=0,s=this.__listeners;i<s.length;){var n=s[i];if(++i,X.compareMethods(n,e))return!0}return!1},remove:function(e){for(var i=this.__listeners.length;0<=--i;)X.compareMethods(this.__listeners[i],e)&&(this.__listeners.splice(i,1),this.__priorities.splice(i,1),this.__repeat.splice(i,1))},__listeners:null,dispatch:function(e){this.canceled=!1;for(var i=this.__listeners,s=this.__repeat,n=0;n<i.length&&(i[n](e),s[n]?++n:this.remove(i[n]),!this.canceled););},__class__:lo};var be=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};k["lime.app._Event_Void_Void"]=be,be.__name__="lime.app._Event_Void_Void",be.prototype={canceled:null,__repeat:null,__priorities:null,add:function(e,i,s){null==s&&(s=0),null==i&&(i=!1);for(var n=0,o=this.__priorities.length;n<o;){var l=n++;if(s>this.__priorities[l])return this.__listeners.splice(l,0,e),this.__priorities.splice(l,0,s),void this.__repeat.splice(l,0,!i)}this.__listeners.push(e),this.__priorities.push(s),this.__repeat.push(!i)},cancel:function(){this.canceled=!0},has:function(e){for(var i=0,s=this.__listeners;i<s.length;){var n=s[i];if(++i,X.compareMethods(n,e))return!0}return!1},remove:function(e){for(var i=this.__listeners.length;0<=--i;)X.compareMethods(this.__listeners[i],e)&&(this.__listeners.splice(i,1),this.__priorities.splice(i,1),this.__repeat.splice(i,1))},__listeners:null,dispatch:function(){this.canceled=!1;for(var e=this.__listeners,i=this.__repeat,s=0;s<e.length&&(e[s](),i[s]?++s:this.remove(e[s]),!this.canceled););},__class__:be};var mo=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};k["lime.app._Event_lime_graphics_RenderContext_Void"]=mo,mo.__name__="lime.app._Event_lime_graphics_RenderContext_Void",mo.prototype={canceled:null,__repeat:null,__priorities:null,add:function(e,i,s){null==s&&(s=0),null==i&&(i=!1);for(var n=0,o=this.__priorities.length;n<o;){var l=n++;if(s>this.__priorities[l])return this.__listeners.splice(l,0,e),this.__priorities.splice(l,0,s),void this.__repeat.splice(l,0,!i)}this.__listeners.push(e),this.__priorities.push(s),this.__repeat.push(!i)},cancel:function(){this.canceled=!0},has:function(e){for(var i=0,s=this.__listeners;i<s.length;){var n=s[i];if(++i,X.compareMethods(n,e))return!0}return!1},remove:function(e){for(var i=this.__listeners.length;0<=--i;)X.compareMethods(this.__listeners[i],e)&&(this.__listeners.splice(i,1),this.__priorities.splice(i,1),this.__repeat.splice(i,1))},__listeners:null,dispatch:function(e){this.canceled=!1;for(var i=this.__listeners,s=this.__repeat,n=0;n<i.length&&(i[n](e),s[n]?++n:this.remove(i[n]),!this.canceled););},__class__:mo};var Pq=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};k["lime.app._Event_lime_ui_GamepadAxis_Float_Void"]=Pq,Pq.__name__="lime.app._Event_lime_ui_GamepadAxis_Float_Void",Pq.prototype={canceled:null,__repeat:null,__priorities:null,add:function(e,i,s){null==s&&(s=0),null==i&&(i=!1);for(var n=0,o=this.__priorities.length;n<o;){var l=n++;if(s>this.__priorities[l])return this.__listeners.splice(l,0,e),this.__priorities.splice(l,0,s),void this.__repeat.splice(l,0,!i)}this.__listeners.push(e),this.__priorities.push(s),this.__repeat.push(!i)},cancel:function(){this.canceled=!0},has:function(e){for(var i=0,s=this.__listeners;i<s.length;){var n=s[i];if(++i,X.compareMethods(n,e))return!0}return!1},remove:function(e){for(var i=this.__listeners.length;0<=--i;)X.compareMethods(this.__listeners[i],e)&&(this.__listeners.splice(i,1),this.__priorities.splice(i,1),this.__repeat.splice(i,1))},__listeners:null,dispatch:function(e,i){this.canceled=!1;for(var s=this.__listeners,n=this.__repeat,o=0;o<s.length&&(s[o](e,i),n[o]?++o:this.remove(s[o]),!this.canceled););},__class__:Pq};var no=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};k["lime.app._Event_lime_ui_GamepadButton_Void"]=no,no.__name__="lime.app._Event_lime_ui_GamepadButton_Void",no.prototype={canceled:null,__repeat:null,__priorities:null,add:function(e,i,s){null==s&&(s=0),null==i&&(i=!1);for(var n=0,o=this.__priorities.length;n<o;){var l=n++;if(s>this.__priorities[l])return this.__listeners.splice(l,0,e),this.__priorities.splice(l,0,s),void this.__repeat.splice(l,0,!i)}this.__listeners.push(e),this.__priorities.push(s),this.__repeat.push(!i)},cancel:function(){this.canceled=!0},has:function(e){for(var i=0,s=this.__listeners;i<s.length;){var n=s[i];if(++i,X.compareMethods(n,e))return!0}return!1},remove:function(e){for(var i=this.__listeners.length;0<=--i;)X.compareMethods(this.__listeners[i],e)&&(this.__listeners.splice(i,1),this.__priorities.splice(i,1),this.__repeat.splice(i,1))},__listeners:null,dispatch:function(e){this.canceled=!1;for(var i=this.__listeners,s=this.__repeat,n=0;n<i.length&&(i[n](e),s[n]?++n:this.remove(i[n]),!this.canceled););},__class__:no};var Qq=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};k["lime.app._Event_lime_ui_Gamepad_Void"]=Qq,Qq.__name__="lime.app._Event_lime_ui_Gamepad_Void",Qq.prototype={canceled:null,__repeat:null,__priorities:null,add:function(e,i,s){null==s&&(s=0),null==i&&(i=!1);for(var n=0,o=this.__priorities.length;n<o;){var l=n++;if(s>this.__priorities[l])return this.__listeners.splice(l,0,e),this.__priorities.splice(l,0,s),void this.__repeat.splice(l,0,!i)}this.__listeners.push(e),this.__priorities.push(s),this.__repeat.push(!i)},cancel:function(){this.canceled=!0},has:function(e){for(var i=0,s=this.__listeners;i<s.length;){var n=s[i];if(++i,X.compareMethods(n,e))return!0}return!1},remove:function(e){for(var i=this.__listeners.length;0<=--i;)X.compareMethods(this.__listeners[i],e)&&(this.__listeners.splice(i,1),this.__priorities.splice(i,1),this.__repeat.splice(i,1))},__listeners:null,dispatch:function(e){this.canceled=!1;for(var i=this.__listeners,s=this.__repeat,n=0;n<i.length&&(i[n](e),s[n]?++n:this.remove(i[n]),!this.canceled););},__class__:Qq};var Rq=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};k["lime.app._Event_lime_ui_Joystick_Void"]=Rq,Rq.__name__="lime.app._Event_lime_ui_Joystick_Void",Rq.prototype={canceled:null,__repeat:null,__priorities:null,add:function(e,i,s){null==s&&(s=0),null==i&&(i=!1);for(var n=0,o=this.__priorities.length;n<o;){var l=n++;if(s>this.__priorities[l])return this.__listeners.splice(l,0,e),this.__priorities.splice(l,0,s),void this.__repeat.splice(l,0,!i)}this.__listeners.push(e),this.__priorities.push(s),this.__repeat.push(!i)},cancel:function(){this.canceled=!0},has:function(e){for(var i=0,s=this.__listeners;i<s.length;){var n=s[i];if(++i,X.compareMethods(n,e))return!0}return!1},remove:function(e){for(var i=this.__listeners.length;0<=--i;)X.compareMethods(this.__listeners[i],e)&&(this.__listeners.splice(i,1),this.__priorities.splice(i,1),this.__repeat.splice(i,1))},__listeners:null,dispatch:function(e){this.canceled=!1;for(var i=this.__listeners,s=this.__repeat,n=0;n<i.length&&(i[n](e),s[n]?++n:this.remove(i[n]),!this.canceled););},__class__:Rq};var oo=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};k["lime.app._Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void"]=oo,oo.__name__="lime.app._Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void",oo.prototype={canceled:null,__repeat:null,__priorities:null,add:function(e,i,s){null==s&&(s=0),null==i&&(i=!1);for(var n=0,o=this.__priorities.length;n<o;){var l=n++;if(s>this.__priorities[l])return this.__listeners.splice(l,0,e),this.__priorities.splice(l,0,s),void this.__repeat.splice(l,0,!i)}this.__listeners.push(e),this.__priorities.push(s),this.__repeat.push(!i)},cancel:function(){this.canceled=!0},has:function(e){for(var i=0,s=this.__listeners;i<s.length;){var n=s[i];if(++i,X.compareMethods(n,e))return!0}return!1},remove:function(e){for(var i=this.__listeners.length;0<=--i;)X.compareMethods(this.__listeners[i],e)&&(this.__listeners.splice(i,1),this.__priorities.splice(i,1),this.__repeat.splice(i,1))},__listeners:null,dispatch:function(e,i){this.canceled=!1;for(var s=this.__listeners,n=this.__repeat,o=0;o<s.length&&(s[o](e,i),n[o]?++o:this.remove(s[o]),!this.canceled););},__class__:oo};var Kj=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};k["lime.app._Event_lime_ui_Touch_Void"]=Kj,Kj.__name__="lime.app._Event_lime_ui_Touch_Void",Kj.prototype={canceled:null,__repeat:null,__priorities:null,add:function(e,i,s){null==s&&(s=0),null==i&&(i=!1);for(var n=0,o=this.__priorities.length;n<o;){var l=n++;if(s>this.__priorities[l])return this.__listeners.splice(l,0,e),this.__priorities.splice(l,0,s),void this.__repeat.splice(l,0,!i)}this.__listeners.push(e),this.__priorities.push(s),this.__repeat.push(!i)},cancel:function(){this.canceled=!0},has:function(e){for(var i=0,s=this.__listeners;i<s.length;){var n=s[i];if(++i,X.compareMethods(n,e))return!0}return!1},remove:function(e){for(var i=this.__listeners.length;0<=--i;)X.compareMethods(this.__listeners[i],e)&&(this.__listeners.splice(i,1),this.__priorities.splice(i,1),this.__repeat.splice(i,1))},__listeners:null,dispatch:function(e){this.canceled=!1;for(var i=this.__listeners,s=this.__repeat,n=0;n<i.length&&(i[n](e),s[n]?++n:this.remove(i[n]),!this.canceled););},__class__:Kj};var Eq=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};k["lime.app._Event_lime_ui_Window_Void"]=Eq,Eq.__name__="lime.app._Event_lime_ui_Window_Void",Eq.prototype={canceled:null,__repeat:null,__priorities:null,add:function(e,i,s){null==s&&(s=0),null==i&&(i=!1);for(var n=0,o=this.__priorities.length;n<o;){var l=n++;if(s>this.__priorities[l])return this.__listeners.splice(l,0,e),this.__priorities.splice(l,0,s),void this.__repeat.splice(l,0,!i)}this.__listeners.push(e),this.__priorities.push(s),this.__repeat.push(!i)},cancel:function(){this.canceled=!0},has:function(e){for(var i=0,s=this.__listeners;i<s.length;){var n=s[i];if(++i,X.compareMethods(n,e))return!0}return!1},remove:function(e){for(var i=this.__listeners.length;0<=--i;)X.compareMethods(this.__listeners[i],e)&&(this.__listeners.splice(i,1),this.__priorities.splice(i,1),this.__repeat.splice(i,1))},__listeners:null,dispatch:function(e){this.canceled=!1;for(var i=this.__listeners,s=this.__repeat,n=0;n<i.length&&(i[n](e),s[n]?++n:this.remove(i[n]),!this.canceled););},__class__:Eq};var is=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};k["lime.app._Event_ofEvents_T_Void"]=is,is.__name__="lime.app._Event_ofEvents_T_Void",is.prototype={canceled:null,__repeat:null,__priorities:null,add:function(e,i,s){null==s&&(s=0),null==i&&(i=!1);for(var n=0,o=this.__priorities.length;n<o;){var l=n++;if(s>this.__priorities[l])return this.__listeners.splice(l,0,e),this.__priorities.splice(l,0,s),void this.__repeat.splice(l,0,!i)}this.__listeners.push(e),this.__priorities.push(s),this.__repeat.push(!i)},cancel:function(){this.canceled=!0},has:function(e){for(var i=0,s=this.__listeners;i<s.length;){var n=s[i];if(++i,X.compareMethods(n,e))return!0}return!1},remove:function(e){for(var i=this.__listeners.length;0<=--i;)X.compareMethods(this.__listeners[i],e)&&(this.__listeners.splice(i,1),this.__priorities.splice(i,1),this.__repeat.splice(i,1))},__listeners:null,dispatch:function(e){this.canceled=!1;for(var i=this.__listeners,s=this.__repeat,n=0;n<i.length&&(i[n](e),s[n]?++n:this.remove(i[n]),!this.canceled););},__class__:is};var Ns={};k["lime.graphics._CairoRenderContext.CairoRenderContext_Impl_"]=Ns,Ns.__name__="lime.graphics._CairoRenderContext.CairoRenderContext_Impl_",Ns.fromRenderContext=function(e){return e.cairo};var Os={};k["lime.graphics._Canvas2DRenderContext.Canvas2DRenderContext_Impl_"]=Os,Os.__name__="lime.graphics._Canvas2DRenderContext.Canvas2DRenderContext_Impl_",Os.fromRenderContext=function(e){return e.canvas2D};var Ps={};k["lime.graphics._DOMRenderContext.DOMRenderContext_Impl_"]=Ps,Ps.__name__="lime.graphics._DOMRenderContext.DOMRenderContext_Impl_",Ps.fromRenderContext=function(e){return e.dom};var Qs={};k["lime.graphics._FlashRenderContext.FlashRenderContext_Impl_"]=Qs,Qs.__name__="lime.graphics._FlashRenderContext.FlashRenderContext_Impl_",Qs.fromRenderContext=function(e){return null};var Lb=function(e,i,s,n,o,l,_){if(null==o&&(o=-1),null==n&&(n=-1),null==s&&(s=0),null==i&&(i=0),this.offsetX=i,this.offsetY=s,this.width=n,this.height=o,this.version=0,null==_&&(_=If.CANVAS),this.type=_,null==e){if(0<n&&0<o)switch(this.type._hx_index){case 0:this.buffer=new pg(null,n,o),za.createCanvas(this,n,o),null!=l&&0!=l&&this.fillRect(new je(0,0,n,o),l);break;case 1:e=null!=(e=n*o*4)?new Uint8Array(e):null,this.buffer=new pg(e,n,o),null!=l&&0!=l&&this.fillRect(new je(0,0,n,o),l)}}else this.__fromImageBuffer(e)};k["lime.graphics.Image"]=Lb,Lb.__name__="lime.graphics.Image",Lb.fromBase64=function(e,i){if(null==e)return null;var s=new Lb;return s.__fromBase64(e,i),s},Lb.fromBitmapData=function(e){return null==e?null:e.image},Lb.fromBytes=function(e){if(null==e)return null;var i=new Lb;return i.__fromBytes(e)?i:null},Lb.fromCanvas=function(e){if(null==e)return null;var i=new pg(null,e.width,e.height);return i.set_src(e),(e=new Lb(i)).type=If.CANVAS,e},Lb.fromFile=function(e){if(null==e)return null;var i=new Lb;return i.__fromFile(e)?i:null},Lb.fromImageElement=function(e){if(null==e)return null;var i=new pg(null,e.width,e.height);return i.set_src(e),(e=new Lb(i)).type=If.CANVAS,e},Lb.loadFromBase64=function(e,i){return null==e||null==i?wb.withValue(null):Ta.loadImage("data:"+i+";base64,"+e)},Lb.loadFromBytes=function(e){if(null==e)return wb.withValue(null);if(Lb.__isPNG(e))var i="image/png";else if(Lb.__isJPG(e))i="image/jpeg";else if(Lb.__isGIF(e))i="image/gif";else{if(!Lb.__isWebP(e))return wb.withValue(null);i="image/webp"}return Ta.loadImageFromBytes(e,i)},Lb.loadFromFile=function(e){return null==e?wb.withValue(null):Ta.loadImage(e)},Lb.__isGIF=function(e){return!(null==e||6>e.length||"GIF87a"!=(e=e.getString(0,6))&&"GIF89a"!=e)},Lb.__isJPG=function(e){return!(null==e||4>e.length)&&255==e.b[0]&&216==e.b[1]&&255==e.b[e.length-2]&&217==e.b[e.length-1]},Lb.__isPNG=function(e){return!(null==e||8>e.length)&&137==e.b[0]&&80==e.b[1]&&78==e.b[2]&&71==e.b[3]&&13==e.b[4]&&10==e.b[5]&&26==e.b[6]&&10==e.b[7]},Lb.__isWebP=function(e){return!(null==e||16>e.length)&&"RIFF"==e.getString(0,4)&&"WEBP"==e.getString(8,4)},Lb.prototype={buffer:null,dirty:null,height:null,offsetX:null,offsetY:null,rect:null,type:null,version:null,width:null,x:null,y:null,clone:function(){if(null!=this.buffer){this.type==If.CANVAS?za.convertToCanvas(this):za.convertToData(this);var e=new Lb(this.buffer.clone(),this.offsetX,this.offsetY,this.width,this.height,null,this.type);return e.version=this.version,e}return new Lb(null,this.offsetX,this.offsetY,this.width,this.height,null,this.type)},colorTransform:function(e,i){if(e=this.__clipRect(e),null!=this.buffer&&null!=e)switch(this.type._hx_index){case 0:za.colorTransform(this,e,i);break;case 1:za.convertToData(this),ab.colorTransform(this,e,i);break;case 2:e.offset(this.offsetX,this.offsetY),this.buffer.__srcBitmapData.colorTransform(e.__toFlashRectangle(),Db.__toFlashColorTransform(i))}},copyChannel:function(e,i,s,n,o){if(i=this.__clipRect(i),null!=this.buffer&&null!=i&&!(o==yf.ALPHA&&!this.get_transparent()||0>=i.width||0>=i.height))switch(i.x+i.width>e.width&&(i.width=e.width-i.x),i.y+i.height>e.height&&(i.height=e.height-i.y),this.type._hx_index){case 0:za.copyChannel(this,e,i,s,n,o);break;case 1:za.convertToData(this),za.convertToData(e),ab.copyChannel(this,e,i,s,n,o);break;case 2:switch(n._hx_index){case 0:var l=1;break;case 1:l=2;break;case 2:l=4;break;case 3:l=8}switch(o._hx_index){case 0:var _=1;break;case 1:_=2;break;case 2:_=4;break;case 3:_=8}i.offset(e.offsetX,e.offsetY),s.offset(this.offsetX,this.offsetY),this.buffer.__srcBitmapData.copyChannel(e.buffer.get_src(),i.__toFlashRectangle(),s.__toFlashPoint(),l,_)}},copyPixels:function(e,i,s,n,o,l){if(null==l&&(l=!1),null!=this.buffer&&null!=e&&!(0>=i.width||0>=i.height||0>=this.width||0>=this.height))switch(i.x+i.width>e.width&&(i.width=e.width-i.x),i.y+i.height>e.height&&(i.height=e.height-i.y),0>i.x&&(i.width+=i.x,i.x=0),0>i.y&&(i.height+=i.y,i.y=0),s.x+i.width>this.width&&(i.width=this.width-s.x),s.y+i.height>this.height&&(i.height=this.height-s.y),0>s.x&&(i.width+=s.x,i.x-=s.x,s.x=0),0>s.y&&(i.height+=s.y,i.y-=s.y,s.y=0),e==this&&s.x<i.get_right()&&s.y<i.get_bottom()&&(e=this.clone()),n==e&&(null==o||0==o.x&&0==o.y)&&(o=n=null),this.type._hx_index){case 0:null!=n?(za.convertToData(this),za.convertToData(e),null!=n&&za.convertToData(n),ab.copyPixels(this,e,i,s,n,o,l)):(za.convertToCanvas(this),za.convertToCanvas(e),za.copyPixels(this,e,i,s,n,o,l));break;case 1:za.convertToData(this),za.convertToData(e),null!=n&&za.convertToData(n),ab.copyPixels(this,e,i,s,n,o,l);break;case 2:i.offset(e.offsetX,e.offsetY),s.offset(this.offsetX,this.offsetY),null!=n&&null!=o&&o.offset(n.offsetX,n.offsetY),this.buffer.__srcBitmapData.copyPixels(e.buffer.__srcBitmapData,i.__toFlashRectangle(),s.__toFlashPoint(),null!=n?n.buffer.get_src():null,null!=o?o.__toFlashPoint():null,l)}},encode:function(e,i){if(null==i&&(i=90),null==e)return el.encode(this);switch(e._hx_index){case 0:return fs.encode(this);case 1:return ho.encode(this,i);case 2:return el.encode(this)}},fillRect:function(e,i,s){if(e=this.__clipRect(e),null!=this.buffer&&null!=e)switch(this.type._hx_index){case 0:za.fillRect(this,e,i,s);break;case 1:if(za.convertToData(this),0==this.buffer.data.length)break;ab.fillRect(this,e,i,s);break;case 2:if(e.offset(this.offsetX,this.offsetY),null==s)i=(255&i)<<24|(i>>>24&255)<<16|(i>>>16&255)<<8|i>>>8&255;else switch(s){case 1:break;case 2:i=(255&i)<<24|(i>>>8&255)<<16|(i>>>16&255)<<8|i>>>24&255;break;default:i=(255&i)<<24|(i>>>24&255)<<16|(i>>>16&255)<<8|i>>>8&255}this.buffer.__srcBitmapData.fillRect(e.__toFlashRectangle(),i)}},floodFill:function(e,i,s,n){if(null!=this.buffer)switch(this.type._hx_index){case 0:za.floodFill(this,e,i,s,n);break;case 1:za.convertToData(this),ab.floodFill(this,e,i,s,n);break;case 2:if(null==n)s=(255&s)<<24|(s>>>24&255)<<16|(s>>>16&255)<<8|s>>>8&255;else switch(n){case 1:break;case 2:s=(255&s)<<24|(s>>>8&255)<<16|(s>>>16&255)<<8|s>>>24&255;break;default:s=(255&s)<<24|(s>>>24&255)<<16|(s>>>16&255)<<8|s>>>8&255}this.buffer.__srcBitmapData.floodFill(e+this.offsetX,i+this.offsetY,s)}},getColorBoundsRect:function(e,i,s,n){if(null==s&&(s=!0),null==this.buffer)return null;switch(this.type._hx_index){case 0:return za.convertToData(this),ab.getColorBoundsRect(this,e,i,s,n);case 1:return ab.getColorBoundsRect(this,e,i,s,n);case 2:return e=this.buffer.__srcBitmapData.getColorBoundsRect(e,i,s),new je(e.x,e.y,e.width,e.height);default:return null}},getPixel:function(e,i,s){if(null==this.buffer||0>e||0>i||e>=this.width||i>=this.height)return 0;switch(this.type._hx_index){case 0:return za.getPixel(this,e,i,s);case 1:return za.convertToData(this),ab.getPixel(this,e,i,s);case 2:if(e=this.buffer.__srcBitmapData.getPixel(e+this.offsetX,i+this.offsetY),null==s)return(e>>>16&255)<<24|(e>>>8&255)<<16|(255&e)<<8|e>>>24&255;switch(s){case 1:return e;case 2:return(255&e)<<24|(e>>>8&255)<<16|(e>>>16&255)<<8|e>>>24&255;default:return(e>>>16&255)<<24|(e>>>8&255)<<16|(255&e)<<8|e>>>24&255}default:return 0}},getPixel32:function(e,i,s){if(null==this.buffer||0>e||0>i||e>=this.width||i>=this.height)return 0;switch(this.type._hx_index){case 0:return za.getPixel32(this,e,i,s);case 1:return za.convertToData(this),ab.getPixel32(this,e,i,s);case 2:if(e=this.buffer.__srcBitmapData.getPixel32(e+this.offsetX,i+this.offsetY),null==s)return(e>>>16&255)<<24|(e>>>8&255)<<16|(255&e)<<8|e>>>24&255;switch(s){case 1:return e;case 2:return(255&e)<<24|(e>>>8&255)<<16|(e>>>16&255)<<8|e>>>24&255;default:return(e>>>16&255)<<24|(e>>>8&255)<<16|(255&e)<<8|e>>>24&255}default:return 0}},getPixels:function(e,i){if(null==this.buffer)return null;switch(this.type._hx_index){case 0:return za.getPixels(this,e,i);case 1:return za.convertToData(this),ab.getPixels(this,e,i);default:return null}},merge:function(e,i,s,n,o,l,_){if(null!=this.buffer&&null!=e)switch(this.type._hx_index){case 0:za.convertToCanvas(this),za.merge(this,e,i,s,n,o,l,_);break;case 1:za.convertToData(this),za.convertToData(e),ab.merge(this,e,i,s,n,o,l,_);break;case 2:i.offset(this.offsetX,this.offsetY),this.buffer.__srcBitmapData.merge(e.buffer.__srcBitmapData,i.__toFlashRectangle(),s.__toFlashPoint(),n,o,l,_)}},resize:function(e,i){switch(this.type._hx_index){case 0:za.resize(this,e,i);break;case 1:ab.resize(this,e,i)}this.buffer.width=e,this.buffer.height=i,this.offsetY=this.offsetX=0,this.width=e,this.height=i},scroll:function(e,i){if(null!=this.buffer)switch(this.type._hx_index){case 0:za.scroll(this,e,i);break;case 1:this.copyPixels(this,this.get_rect(),new Fd(e,i));break;case 2:this.buffer.__srcBitmapData.scroll(e+this.offsetX,i+this.offsetX)}},setPixel:function(e,i,s,n){if(!(null==this.buffer||0>e||0>i||e>=this.width||i>=this.height))switch(this.type._hx_index){case 0:za.setPixel(this,e,i,s,n);break;case 1:za.convertToData(this),ab.setPixel(this,e,i,s,n);break;case 2:if(null==n)s=(255&s)<<24|(s>>>24&255)<<16|(s>>>16&255)<<8|s>>>8&255;else switch(n){case 1:break;case 2:s=(255&s)<<24|(s>>>8&255)<<16|(s>>>16&255)<<8|s>>>24&255;break;default:s=(255&s)<<24|(s>>>24&255)<<16|(s>>>16&255)<<8|s>>>8&255}this.buffer.__srcBitmapData.setPixel(e+this.offsetX,i+this.offsetX,s)}},setPixel32:function(e,i,s,n){if(!(null==this.buffer||0>e||0>i||e>=this.width||i>=this.height))switch(this.type._hx_index){case 0:za.setPixel32(this,e,i,s,n);break;case 1:za.convertToData(this),ab.setPixel32(this,e,i,s,n);break;case 2:if(null==n)s=(255&s)<<24|(s>>>24&255)<<16|(s>>>16&255)<<8|s>>>8&255;else switch(n){case 1:break;case 2:s=(255&s)<<24|(s>>>8&255)<<16|(s>>>16&255)<<8|s>>>24&255;break;default:s=(255&s)<<24|(s>>>24&255)<<16|(s>>>16&255)<<8|s>>>8&255}this.buffer.__srcBitmapData.setPixel32(e+this.offsetX,i+this.offsetY,s)}},setPixels:function(e,i,s,n){if(e=this.__clipRect(e),null!=this.buffer&&null!=e)switch(null==n&&(n=Oi.BIG_ENDIAN),this.type._hx_index){case 0:za.setPixels(this,e,i,s,n);break;case 1:za.convertToData(this),ab.setPixels(this,e,i,s,n)}},threshold:function(e,i,s,n,o,l,_,h,m){if(null==h&&(h=!1),null==_&&(_=-1),null==l&&(l=0),null==this.buffer||null==e||null==i)return 0;switch(this.type._hx_index){case 0:case 1:return za.convertToData(this),za.convertToData(e),ab.threshold(this,e,i,s,n,o,l,_,h,m);case 2:if(null==m)l=(255&l)<<24|(l>>>24&255)<<16|(l>>>16&255)<<8|l>>>8&255;else switch(m){case 1:break;case 2:l=(255&l)<<24|(l>>>8&255)<<16|(l>>>16&255)<<8|l>>>24&255;break;default:l=(255&l)<<24|(l>>>24&255)<<16|(l>>>16&255)<<8|l>>>8&255}if(null==m)_=(255&_)<<24|(_>>>24&255)<<16|(_>>>16&255)<<8|_>>>8&255;else switch(m){case 1:break;case 2:_=(255&_)<<24|(_>>>8&255)<<16|(_>>>16&255)<<8|_>>>24&255;break;default:_=(255&_)<<24|(_>>>24&255)<<16|(_>>>16&255)<<8|_>>>8&255}return i.offset(e.offsetX,e.offsetY),s.offset(this.offsetX,this.offsetY),this.buffer.__srcBitmapData.threshold(e.buffer.get_src(),i.__toFlashRectangle(),s.__toFlashPoint(),n,o,l,_,h)}return 0},__clipRect:function(e){return null==e||0>e.x&&(e.width-=-e.x,e.x=0,0>=e.x+e.width)||0>e.y&&(e.height-=-e.y,e.y=0,0>=e.y+e.height)||e.x+e.width>=this.width&&(e.width-=e.x+e.width-this.width,0>=e.width)||e.y+e.height>=this.height&&(e.height-=e.y+e.height-this.height,0>=e.height)?null:e},__fromBase64:function(e,i,s){var n=this,o=new Image;o.addEventListener("load",function(l){n.buffer=new pg(null,o.width,o.height),n.buffer.__srcImage=o,n.offsetX=0,n.offsetY=0,n.width=n.buffer.width,n.height=n.buffer.height,s?.(n)},!1),o.src="data:"+i+";base64,"+e},__fromBytes:function(e,i){if(Lb.__isPNG(e))var s="image/png";else if(Lb.__isJPG(e))s="image/jpeg";else{if(!Lb.__isGIF(e))return!1;s="image/gif"}return this.__fromBase64(og.encode(e),s,i),!0},__fromFile:function(e,i,s){var n=this,o=new Image;return Ta.__isSameOrigin(e)||(o.crossOrigin="Anonymous"),o.onload=function(l){n.buffer=new pg(null,o.width,o.height),n.buffer.__srcImage=o,n.width=o.width,n.height=o.height,i?.(n)},o.onerror=function(l){s?.()},o.src=e,!0},__fromImageBuffer:function(e){this.buffer=e,null!=e&&(-1==this.width&&(this.width=e.width),-1==this.height&&(this.height=e.height))},get_data:function(){return null==this.buffer.data&&0<this.buffer.width&&0<this.buffer.height&&za.convertToData(this),this.buffer.data},set_data:function(e){return this.buffer.data=e},get_format:function(){return this.buffer.format},set_format:function(e){return this.buffer.format!=e&&1==this.type._hx_index&&ab.setFormat(this,e),this.buffer.format=e},get_powerOfTwo:function(){return 0!=this.buffer.width&&(this.buffer.width&1+~this.buffer.width)==this.buffer.width&&0!=this.buffer.height&&(this.buffer.height&1+~this.buffer.height)==this.buffer.height},set_powerOfTwo:function(e){if(e!=this.get_powerOfTwo()){for(var i=1,s=1;i<this.buffer.width;)i<<=1;for(;s<this.buffer.height;)s<<=1;if(i==this.buffer.width&&s==this.buffer.height)return e;switch(this.type._hx_index){case 0:za.convertToData(this),ab.resizeBuffer(this,i,s);break;case 1:ab.resizeBuffer(this,i,s)}}return e},get_premultiplied:function(){return this.buffer.premultiplied},set_premultiplied:function(e){if(e&&!this.buffer.premultiplied)switch(this.type._hx_index){case 0:case 1:za.convertToData(this),ab.multiplyAlpha(this)}else!e&&this.buffer.premultiplied&&1==this.type._hx_index&&(za.convertToData(this),ab.unmultiplyAlpha(this));return e},get_rect:function(){return new je(0,0,this.width,this.height)},get_src:function(){return null!=this.buffer.__srcCanvas||null==this.buffer.data&&this.type!=If.DATA||za.convertToCanvas(this),this.buffer.get_src()},set_src:function(e){return this.buffer.set_src(e)},get_transparent:function(){return null!=this.buffer&&this.buffer.transparent},set_transparent:function(e){return null!=this.buffer&&(this.buffer.transparent=e)},__class__:Lb,__properties__:{set_transparent:"set_transparent",get_transparent:"get_transparent",set_src:"set_src",get_src:"get_src",get_rect:"get_rect",set_premultiplied:"set_premultiplied",get_premultiplied:"get_premultiplied",set_powerOfTwo:"set_powerOfTwo",get_powerOfTwo:"get_powerOfTwo",set_format:"set_format",get_format:"get_format",set_data:"set_data",get_data:"get_data"}};var pg=function(e,i,s,n,o){null==n&&(n=32),null==s&&(s=0),null==i&&(i=0),this.data=e,this.width=i,this.height=s,this.bitsPerPixel=n,this.format=o??0,this.premultiplied=!1,this.transparent=!0};k["lime.graphics.ImageBuffer"]=pg,pg.__name__="lime.graphics.ImageBuffer",pg.prototype={bitsPerPixel:null,data:null,format:null,height:null,premultiplied:null,transparent:null,width:null,__srcBitmapData:null,__srcCanvas:null,__srcContext:null,__srcCustom:null,__srcImage:null,__srcImageData:null,clone:function(){var e=new pg(this.data,this.width,this.height,this.bitsPerPixel);if(null!=this.data){var i=this.data.byteLength;i=null!=i?new Uint8Array(i):null,e.data=i,i=null!=(i=this.data)?new Uint8Array(i):null,e.data.set(i)}else null!=this.__srcImageData?(e.__srcCanvas=window.document.createElement("canvas"),e.__srcContext=e.__srcCanvas.getContext("2d"),e.__srcCanvas.width=this.__srcImageData.width,e.__srcCanvas.height=this.__srcImageData.height,e.__srcImageData=e.__srcContext.createImageData(this.__srcImageData.width,this.__srcImageData.height),i=new Uint8ClampedArray(this.__srcImageData.data),e.__srcImageData.data.set(i)):null!=this.__srcCanvas?(e.__srcCanvas=window.document.createElement("canvas"),e.__srcContext=e.__srcCanvas.getContext("2d"),e.__srcCanvas.width=this.__srcCanvas.width,e.__srcCanvas.height=this.__srcCanvas.height,e.__srcContext.drawImage(this.__srcCanvas,0,0)):e.__srcImage=this.__srcImage;return e.bitsPerPixel=this.bitsPerPixel,e.format=this.format,e.premultiplied=this.premultiplied,e.transparent=this.transparent,e},get_src:function(){return null!=this.__srcImage?this.__srcImage:this.__srcCanvas},set_src:function(e){return e instanceof Image?this.__srcImage=e:e instanceof HTMLCanvasElement&&(this.__srcCanvas=e,this.__srcContext=this.__srcCanvas.getContext("2d")),e},get_stride:function(){return this.width*(this.bitsPerPixel/8|0)},__class__:pg,__properties__:{get_stride:"get_stride",set_src:"set_src",get_src:"get_src"}};var yf=C["lime.graphics.ImageChannel"]={__ename__:"lime.graphics.ImageChannel",__constructs__:["RED","GREEN","BLUE","ALPHA"],RED:{_hx_index:0,__enum__:"lime.graphics.ImageChannel",toString:v},GREEN:{_hx_index:1,__enum__:"lime.graphics.ImageChannel",toString:v},BLUE:{_hx_index:2,__enum__:"lime.graphics.ImageChannel",toString:v},ALPHA:{_hx_index:3,__enum__:"lime.graphics.ImageChannel",toString:v}},jt=C["lime.graphics.ImageFileFormat"]={__ename__:"lime.graphics.ImageFileFormat",__constructs__:["BMP","JPEG","PNG"],BMP:{_hx_index:0,__enum__:"lime.graphics.ImageFileFormat",toString:v},JPEG:{_hx_index:1,__enum__:"lime.graphics.ImageFileFormat",toString:v},PNG:{_hx_index:2,__enum__:"lime.graphics.ImageFileFormat",toString:v}},If=C["lime.graphics.ImageType"]={__ename__:"lime.graphics.ImageType",__constructs__:["CANVAS","DATA","FLASH","CUSTOM"],CANVAS:{_hx_index:0,__enum__:"lime.graphics.ImageType",toString:v},DATA:{_hx_index:1,__enum__:"lime.graphics.ImageType",toString:v},FLASH:{_hx_index:2,__enum__:"lime.graphics.ImageType",toString:v},CUSTOM:{_hx_index:3,__enum__:"lime.graphics.ImageType",toString:v}},po={};k["lime.graphics._OpenGLES2RenderContext.OpenGLES2RenderContext_Impl_"]=po,po.__name__="lime.graphics._OpenGLES2RenderContext.OpenGLES2RenderContext_Impl_",po.fromGL=function(e){return null},po.fromOpenGLES3RenderContext=function(e){return null},po.fromRenderContext=function(e){return null},po.fromWebGLRenderContext=function(e){return null};var il={};k["lime.graphics._OpenGLES3RenderContext.OpenGLES3RenderContext_Impl_"]=il,il.__name__="lime.graphics._OpenGLES3RenderContext.OpenGLES3RenderContext_Impl_",il.fromRenderContext=function(e){return null},il.fromGL=function(e){return null},il.fromOpenGLES2RenderContext=function(e){return null},il.fromWebGLRenderContext=function(e){return null},il.fromWebGL2RenderContext=function(e){return null};var Rs={};k["lime.graphics._OpenGLRenderContext.OpenGLRenderContext_Impl_"]=Rs,Rs.__name__="lime.graphics._OpenGLRenderContext.OpenGLRenderContext_Impl_",Rs.fromRenderContext=function(e){return null};var zq=function(){};k["lime.graphics.RenderContext"]=zq,zq.__name__="lime.graphics.RenderContext",zq.prototype={attributes:null,cairo:null,canvas2D:null,dom:null,flash:null,gl:null,gles2:null,gles3:null,type:null,version:null,webgl:null,webgl2:null,window:null,__class__:zq};var ce={};k["lime.graphics._WebGL2RenderContext.WebGL2RenderContext_Impl_"]=ce,ce.__name__="lime.graphics._WebGL2RenderContext.WebGL2RenderContext_Impl_",ce.bufferData=function(e,i,s,n,o,l){null!=o?e.bufferData(i,s,n,o,l):e.bufferData(i,s,n)},ce.bufferSubData=function(e,i,s,n,o,l){null!=o?e.bufferSubData(i,s,n,o,l):e.bufferSubData(i,s,n)},ce.compressedTexImage2D=function(e,i,s,n,o,l,_,h,m,f){null!=m?e.compressedTexImage2D(i,s,n,o,l,_,h,m,f):e.compressedTexImage2D(i,s,n,o,l,_,h)},ce.compressedTexSubImage2D=function(e,i,s,n,o,l,_,h,m,f,y){null!=f?e.compressedTexSubImage2D(i,s,n,o,l,_,h,m,f,y):e.compressedTexSubImage2D(i,s,n,o,l,_,h,m)},ce.getBufferSubData=function(e,i,s,n,o,l){null!=o?e.getBufferSubData(i,s,n,o,l):e.getBufferSubData(i,s,n)},ce.readPixels=function(e,i,s,n,o,l,_,h,m){null!=m?e.readPixels(i,s,n,o,l,_,h,m):e.readPixels(i,s,n,o,l,_,h)},ce.texImage2D=function(e,i,s,n,o,l,_,h,m,f,y){null!=y?e.texImage2D(i,s,n,o,l,_,h,m,f,y):null!=h?e.texImage2D(i,s,n,o,l,_,h,m,f):e.texImage2D(i,s,n,o,l,_)},ce.texSubImage2D=function(e,i,s,n,o,l,_,h,m,f,y){null!=y?e.texSubImage2D(i,s,n,o,l,_,h,m,f,y):null!=m?e.texSubImage2D(i,s,n,o,l,_,h,m,f):e.texSubImage2D(i,s,n,o,l,_,h)},ce.uniform1fv=function(e,i,s,n,o){null!=n?e.uniform1fv(i,s,n,o):e.uniform1fv(i,s)},ce.uniform1iv=function(e,i,s,n,o){null!=n?e.uniform1iv(i,s,n,o):e.uniform1iv(i,s)},ce.uniform2fv=function(e,i,s,n,o){null!=n?e.uniform2fv(i,s,n,o):e.uniform2fv(i,s)},ce.uniform2iv=function(e,i,s,n,o){null!=n?e.uniform2iv(i,s,n,o):e.uniform2iv(i,s)},ce.uniform3fv=function(e,i,s,n,o){null!=n?e.uniform3fv(i,s,n,o):e.uniform3fv(i,s)},ce.uniform3iv=function(e,i,s,n,o){null!=n?e.uniform3iv(i,s,n,o):e.uniform3iv(i,s)},ce.uniform4fv=function(e,i,s,n,o){null!=n?e.uniform4fv(i,s,n,o):e.uniform4fv(i,s)},ce.uniform4iv=function(e,i,s,n,o){null!=n?e.uniform4iv(i,s,n,o):e.uniform4iv(i,s)},ce.uniformMatrix2fv=function(e,i,s,n,o,l){null!=o?e.uniformMatrix2fv(i,s,n,o,l):e.uniformMatrix2fv(i,s,n)},ce.uniformMatrix3fv=function(e,i,s,n,o,l){null!=o?e.uniformMatrix3fv(i,s,n,o,l):e.uniformMatrix3fv(i,s,n)},ce.uniformMatrix4fv=function(e,i,s,n,o,l){null!=o?e.uniformMatrix4fv(i,s,n,o,l):e.uniformMatrix4fv(i,s,n)},ce.fromGL=function(e){return null},ce.fromRenderContext=function(e){return e.webgl2},ce.toWebGLRenderContext=function(e){return e};var zb={};k["lime.graphics._WebGLRenderContext.WebGLRenderContext_Impl_"]=zb,zb.__name__="lime.graphics._WebGLRenderContext.WebGLRenderContext_Impl_",zb.bufferData=function(e,i,s,n){e.bufferData(i,s,n)},zb.bufferSubData=function(e,i,s,n){e.bufferSubData(i,s,n)},zb.compressedTexImage2D=function(e,i,s,n,o,l,_,h){e.compressedTexImage2D(i,s,n,o,l,_,h)},zb.compressedTexSubImage2D=function(e,i,s,n,o,l,_,h,m){e.compressedTexSubImage2D(i,s,n,o,l,_,h,m)},zb.readPixels=function(e,i,s,n,o,l,_,h){e.readPixels(i,s,n,o,l,_,h)},zb.texImage2D=function(e,i,s,n,o,l,_,h,m,f){null!=h?e.texImage2D(i,s,n,o,l,_,h,m,f):e.texImage2D(i,s,n,o,l,_)},zb.texSubImage2D=function(e,i,s,n,o,l,_,h,m,f){null!=m?e.texSubImage2D(i,s,n,o,l,_,h,m,f):e.texSubImage2D(i,s,n,o,l,_,h)},zb.uniformMatrix2fv=function(e,i,s,n){e.uniformMatrix2fv(i,s,n)},zb.uniformMatrix3fv=function(e,i,s,n){e.uniformMatrix3fv(i,s,n)},zb.uniformMatrix4fv=function(e,i,s,n){e.uniformMatrix4fv(i,s,n)},zb.fromWebGL2RenderContext=function(e){return e},zb.fromRenderContext=function(e){return e.webgl},zb.fromGL=function(e){return q.context};var Lj=function(e){};k["lime.graphics.cairo.Cairo"]=Lj,Lj.__name__="lime.graphics.cairo.Cairo",Lj.__properties__={get_versionString:"get_versionString",get_version:"get_version"},Lj.get_version=function(){return 0},Lj.get_versionString=function(){return""},Lj.prototype={target:null,userData:null,handle:null,arc:function(e,i,s,n,o){},arcNegative:function(e,i,s,n,o){},clip:function(){},clipExtents:function(e,i,s,n){},clipPreserve:function(){},closePath:function(){},copyPage:function(){},curveTo:function(e,i,s,n,o,l){},fill:function(){},fillExtents:function(e,i,s,n){},fillPreserve:function(){},getOperator:function(){return 0},identityMatrix:function(){},inClip:function(e,i){return!1},inFill:function(e,i){return!1},inStroke:function(e,i){return!1},lineTo:function(e,i){},mask:function(e){},maskSurface:function(e,i,s){},moveTo:function(e,i){},newPath:function(){},paint:function(){},paintWithAlpha:function(e){},popGroup:function(){return null},popGroupToSource:function(){},pushGroup:function(){},pushGroupWithContent:function(e){},recreate:function(e){},rectangle:function(e,i,s,n){},relCurveTo:function(e,i,s,n,o,l){},relLineTo:function(e,i){},relMoveTo:function(e,i){},resetClip:function(){},restore:function(){},rotate:function(e){},save:function(){},scale:function(e,i){},setFontSize:function(e){},setOperator:function(e){return e},setSourceRGB:function(e,i,s){},setSourceRGBA:function(e,i,s,n){},setSourceSurface:function(e,i,s){},showGlyphs:function(e){},showPage:function(){},showText:function(e){},status:function(){return 0},stroke:function(){},strokeExtents:function(e,i,s,n){},strokePreserve:function(){},textPath:function(e){},transform:function(e){},translate:function(e,i){},get_antialias:function(){return 0},set_antialias:function(e){return e},get_currentPoint:function(){return null},get_dash:function(){return[]},set_dash:function(e){return e},get_dashCount:function(){return 0},get_fillRule:function(){return 0},set_fillRule:function(e){return e},get_fontFace:function(){return 0},set_fontFace:function(e){return e},get_fontOptions:function(){return null},set_fontOptions:function(e){return e},get_groupTarget:function(){return 0},get_hasCurrentPoint:function(){return!1},get_lineCap:function(){return 0},set_lineCap:function(e){return e},get_lineJoin:function(){return 0},set_lineJoin:function(e){return e},get_lineWidth:function(){return 0},set_lineWidth:function(e){return e},get_matrix:function(){return null},set_matrix:function(e){return e},get_miterLimit:function(){return 0},set_miterLimit:function(e){return e},get_source:function(){return 0},set_source:function(e){return e},get_target:function(){return 0},get_tolerance:function(){return 0},set_tolerance:function(e){return e},__class__:Lj,__properties__:{set_tolerance:"set_tolerance",get_tolerance:"get_tolerance",get_target:"get_target",set_source:"set_source",get_source:"get_source",set_miterLimit:"set_miterLimit",get_miterLimit:"get_miterLimit",set_matrix:"set_matrix",get_matrix:"get_matrix",set_lineWidth:"set_lineWidth",get_lineWidth:"get_lineWidth",set_lineJoin:"set_lineJoin",get_lineJoin:"get_lineJoin",set_lineCap:"set_lineCap",get_lineCap:"get_lineCap",get_hasCurrentPoint:"get_hasCurrentPoint",get_groupTarget:"get_groupTarget",set_fontOptions:"set_fontOptions",get_fontOptions:"get_fontOptions",set_fontFace:"set_fontFace",get_fontFace:"get_fontFace",set_fillRule:"set_fillRule",get_fillRule:"get_fillRule",get_dashCount:"get_dashCount",set_dash:"set_dash",get_dash:"get_dash",get_currentPoint:"get_currentPoint",set_antialias:"set_antialias",get_antialias:"get_antialias"}};var Sq={};k["lime.graphics.cairo._CairoFTFontFace.CairoFTFontFace_Impl_"]=Sq,Sq.__name__="lime.graphics.cairo._CairoFTFontFace.CairoFTFontFace_Impl_",Sq._new=function(){return 0},Sq.create=function(e,i){return 0};var js={};k["lime.graphics.cairo._CairoFontFace.CairoFontFace_Impl_"]=js,js.__name__="lime.graphics.cairo._CairoFontFace.CairoFontFace_Impl_",js._new=function(){return null},js.status=function(e){return 0};var ah={};k["lime.graphics.cairo._CairoFontOptions.CairoFontOptions_Impl_"]=ah,ah.__name__="lime.graphics.cairo._CairoFontOptions.CairoFontOptions_Impl_",ah.__properties__={set_subpixelOrder:"set_subpixelOrder",get_subpixelOrder:"get_subpixelOrder",set_hintStyle:"set_hintStyle",get_hintStyle:"get_hintStyle",set_hintMetrics:"set_hintMetrics",get_hintMetrics:"get_hintMetrics",set_antialias:"set_antialias",get_antialias:"get_antialias"},ah._new=function(){return null},ah.get_antialias=function(e){return 0},ah.set_antialias=function(e,i){return i},ah.get_hintMetrics=function(e){return 0},ah.set_hintMetrics=function(e,i){return i},ah.get_hintStyle=function(e){return 0},ah.set_hintStyle=function(e,i){return i},ah.get_subpixelOrder=function(e){return 0},ah.set_subpixelOrder=function(e,i){return i};var ks=function(e,i,s){null==s&&(s=0),null==i&&(i=0),this.index=e,this.x=i,this.y=s};k["lime.graphics.cairo.CairoGlyph"]=ks,ks.__name__="lime.graphics.cairo.CairoGlyph",ks.prototype={index:null,x:null,y:null,__class__:ks};var bh={};k["lime.graphics.cairo._CairoImageSurface.CairoImageSurface_Impl_"]=bh,bh.__name__="lime.graphics.cairo._CairoImageSurface.CairoImageSurface_Impl_",bh.__properties__={get_width:"get_width",get_stride:"get_stride",get_height:"get_height",get_format:"get_format",get_data:"get_data"},bh._new=function(e,i,s){return 0},bh.create=function(e,i,s,n,o){return 0},bh.fromImage=function(e){return null},bh.get_data=function(e){return ec.fromFloat(0)},bh.get_format=function(e){return 0},bh.get_height=function(e){return 0},bh.get_stride=function(e){return 0},bh.get_width=function(e){return 0};var Kc={};k["lime.graphics.cairo._CairoPattern.CairoPattern_Impl_"]=Kc,Kc.__name__="lime.graphics.cairo._CairoPattern.CairoPattern_Impl_",Kc.__properties__={set_matrix:"set_matrix",get_matrix:"get_matrix",set_filter:"set_filter",get_filter:"get_filter",set_extend:"set_extend",get_extend:"get_extend",get_colorStopCount:"get_colorStopCount"},Kc._new=function(e){return e},Kc.addColorStopRGB=function(e,i,s,n,o){},Kc.addColorStopRGBA=function(e,i,s,n,o,l){},Kc.createForSurface=function(e){return 0},Kc.createLinear=function(e,i,s,n){return 0},Kc.createRadial=function(e,i,s,n,o,l){return 0},Kc.createRGB=function(e,i,s){return 0},Kc.createRGBA=function(e,i,s,n){return 0},Kc.get_colorStopCount=function(e){return 0},Kc.get_extend=function(e){return 0},Kc.set_extend=function(e,i){return i},Kc.get_filter=function(e){return 0},Kc.set_filter=function(e,i){return i},Kc.get_matrix=function(e){return null},Kc.set_matrix=function(e,i){return i};var Tq={};k["lime.graphics.cairo._CairoSurface.CairoSurface_Impl_"]=Tq,Tq.__name__="lime.graphics.cairo._CairoSurface.CairoSurface_Impl_",Tq.flush=function(e){};var q=function(){};k["lime.graphics.opengl.GL"]=q,q.__name__="lime.graphics.opengl.GL",q.activeTexture=function(e){q.context.activeTexture(e)},q.attachShader=function(e,i){q.context.attachShader(e,i)},q.beginQuery=function(e,i){q.context.beginQuery(e,i)},q.beginTransformFeedback=function(e){q.context.beginTransformFeedback(e)},q.bindAttribLocation=function(e,i,s){q.context.bindAttribLocation(e,i,s)},q.bindBuffer=function(e,i){q.context.bindBuffer(e,i)},q.bindBufferBase=function(e,i,s){q.context.bindBufferBase(e,i,s)},q.bindBufferRange=function(e,i,s,n,o){q.context.bindBufferRange(e,i,s,n,ec.fromFloat(o))},q.bindFramebuffer=function(e,i){q.context.bindFramebuffer(e,i)},q.bindRenderbuffer=function(e,i){q.context.bindRenderbuffer(e,i)},q.bindSampler=function(e,i){q.context.bindSampler(e,i)},q.bindTexture=function(e,i){q.context.bindTexture(e,i)},q.bindTransformFeedback=function(e,i){q.context.bindTransformFeedback(e,i)},q.bindVertexArray=function(e){q.context.bindVertexArray(e)},q.blitFramebuffer=function(e,i,s,n,o,l,_,h,m,f){q.context.blitFramebuffer(e,i,s,n,o,l,_,h,m,f)},q.blendColor=function(e,i,s,n){q.context.blendColor(e,i,s,n)},q.blendEquation=function(e){q.context.blendEquation(e)},q.blendEquationSeparate=function(e,i){q.context.blendEquationSeparate(e,i)},q.blendFunc=function(e,i){q.context.blendFunc(e,i)},q.blendFuncSeparate=function(e,i,s,n){q.context.blendFuncSeparate(e,i,s,n)},q.bufferDataWEBGL=function(e,i,s,n,o){var l=q.context;null!=n?l.bufferData(e,i,s,n,o):l.bufferData(e,i,s)},q.bufferSubDataWEBGL=function(e,i,s,n,o){var l=q.context;null!=n?l.bufferSubData(e,i,s,n,o):l.bufferSubData(e,i,s)},q.checkFramebufferStatus=function(e){return q.context.checkFramebufferStatus(e)},q.clear=function(e){q.context.clear(e)},q.clearBufferfi=function(e,i,s,n){q.context.clearBufferfi(e,i,s,n)},q.clearBufferfvWEBGL=function(e,i,s,n){q.context.clearBufferfv(e,i,s,n)},q.clearBufferivWEBGL=function(e,i,s,n){q.context.clearBufferiv(e,i,s,n)},q.clearBufferuivWEBGL=function(e,i,s,n){q.context.clearBufferuiv(e,i,s,n)},q.clearColor=function(e,i,s,n){q.context.clearColor(e,i,s,n)},q.clearDepth=function(e){q.context.clearDepth(e)},q.clearStencil=function(e){q.context.clearStencil(e)},q.clientWaitSync=function(e,i,s){return q.context.clientWaitSync(e,i,s)},q.colorMask=function(e,i,s,n){q.context.colorMask(e,i,s,n)},q.compileShader=function(e){q.context.compileShader(e)},q.compressedTexImage2DWEBGL=function(e,i,s,n,o,l,_,h,m){var f=q.context;null!=h?f.compressedTexImage2D(e,i,s,n,o,l,_,h,m):f.compressedTexImage2D(e,i,s,n,o,l,_)},q.compressedTexImage3DWEBGL=function(e,i,s,n,o,l,_,h,m,f){q.context.compressedTexImage3D(e,i,s,n,o,l,_,h,m,f)},q.compressedTexSubImage2DWEBGL=function(e,i,s,n,o,l,_,h,m,f){var y=q.context;null!=m?y.compressedTexSubImage2D(e,i,s,n,o,l,_,h,m,f):y.compressedTexSubImage2D(e,i,s,n,o,l,_,h)},q.compressedTexSubImage3DWEBGL=function(e,i,s,n,o,l,_,h,m,f,y,g){q.context.compressedTexSubImage3D(e,i,s,n,o,l,_,h,m,f,y,g)},q.copyTexImage2D=function(e,i,s,n,o,l,_,h){q.context.copyTexImage2D(e,i,s,n,o,l,_,h)},q.copyTexSubImage2D=function(e,i,s,n,o,l,_,h){q.context.copyTexSubImage2D(e,i,s,n,o,l,_,h)},q.copyTexSubImage3D=function(e,i,s,n,o,l,_,h,m){q.context.copyTexSubImage3D(e,i,s,n,o,l,_,h,m)},q.createBuffer=function(){return q.context.createBuffer()},q.createFramebuffer=function(){return q.context.createFramebuffer()},q.createProgram=function(){return q.context.createProgram()},q.createQuery=function(){return q.context.createQuery()},q.createRenderbuffer=function(){return q.context.createRenderbuffer()},q.createSampler=function(){return q.context.createSampler()},q.createShader=function(e){return q.context.createShader(e)},q.createTexture=function(){return q.context.createTexture()},q.createTransformFeedback=function(){return q.context.createTransformFeedback()},q.createVertexArray=function(){return q.context.createVertexArray()},q.cullFace=function(e){q.context.cullFace(e)},q.deleteBuffer=function(e){q.context.deleteBuffer(e)},q.deleteFramebuffer=function(e){q.context.deleteFramebuffer(e)},q.deleteProgram=function(e){q.context.deleteProgram(e)},q.deleteQuery=function(e){q.context.deleteQuery(e)},q.deleteRenderbuffer=function(e){q.context.deleteRenderbuffer(e)},q.deleteSampler=function(e){q.context.deleteSampler(e)},q.deleteShader=function(e){q.context.deleteShader(e)},q.deleteSync=function(e){q.context.deleteSync(e)},q.deleteTexture=function(e){q.context.deleteTexture(e)},q.deleteTransformFeedback=function(e){q.context.deleteTransformFeedback(e)},q.deleteVertexArray=function(e){q.context.deleteVertexArray(e)},q.depthFunc=function(e){q.context.depthFunc(e)},q.depthMask=function(e){q.context.depthMask(e)},q.depthRange=function(e,i){q.context.depthRange(e,i)},q.detachShader=function(e,i){q.context.detachShader(e,i)},q.disable=function(e){q.context.disable(e)},q.disableVertexAttribArray=function(e){q.context.disableVertexAttribArray(e)},q.drawArrays=function(e,i,s){q.context.drawArrays(e,i,s)},q.drawArraysInstanced=function(e,i,s,n){q.context.drawArraysInstanced(e,i,s,n)},q.drawBuffers=function(e){q.context.drawBuffers(e)},q.drawElements=function(e,i,s,n){q.context.drawElements(e,i,s,n)},q.drawElementsInstanced=function(e,i,s,n,o){q.context.drawElementsInstanced(e,i,s,n,o)},q.drawRangeElements=function(e,i,s,n,o,l){q.context.drawRangeElements(e,i,s,n,o,l)},q.enable=function(e){q.context.enable(e)},q.enableVertexAttribArray=function(e){q.context.enableVertexAttribArray(e)},q.endQuery=function(e){q.context.endQuery(e)},q.endTransformFeedback=function(){q.context.endTransformFeedback()},q.fenceSync=function(e,i){return q.context.fenceSync(e,i)},q.finish=function(){q.context.finish()},q.flush=function(){q.context.flush()},q.framebufferRenderbuffer=function(e,i,s,n){q.context.framebufferRenderbuffer(e,i,s,n)},q.framebufferTexture2D=function(e,i,s,n,o){q.context.framebufferTexture2D(e,i,s,n,o)},q.framebufferTextureLayer=function(e,i,s,n,o){q.context.framebufferTextureLayer(e,i,s,n,o)},q.frontFace=function(e){q.context.frontFace(e)},q.generateMipmap=function(e){q.context.generateMipmap(e)},q.getActiveAttrib=function(e,i){return q.context.getActiveAttrib(e,i)},q.getActiveUniform=function(e,i){return q.context.getActiveUniform(e,i)},q.getActiveUniformBlockName=function(e,i){return q.context.getActiveUniformBlockName(e,i)},q.getActiveUniformBlockParameter=function(e,i,s){return q.context.getActiveUniformBlockParameter(e,i,s)},q.getActiveUniforms=function(e,i,s){return q.context.getActiveUniforms(e,i,s)},q.getAttachedShaders=function(e){return q.context.getAttachedShaders(e)},q.getAttribLocation=function(e,i){return q.context.getAttribLocation(e,i)},q.getBufferParameter=function(e,i){return q.context.getBufferParameter(e,i)},q.getBufferSubDataWEBGL=function(e,i,s,n,o){var l=q.context;null!=n?l.getBufferSubData(e,i,s,n,o):l.getBufferSubData(e,i,s)},q.getContextAttributes=function(){return q.context.getContextAttributes()},q.getError=function(){return q.context.getError()},q.getExtension=function(e){return q.context.getExtension(e)},q.getFragDataLocation=function(e,i){return q.context.getFragDataLocation(e,i)},q.getFramebufferAttachmentParameter=function(e,i,s){return q.context.getFramebufferAttachmentParameter(e,i,s)},q.getIndexedParameter=function(e,i){return q.context.getIndexedParameter(e,i)},q.getInternalformatParameter=function(e,i,s){return q.context.getInternalformatParameter(e,i,s)},q.getParameter=function(e){return q.context.getParameter(e)},q.getProgramInfoLog=function(e){return q.context.getProgramInfoLog(e)},q.getProgramParameter=function(e,i){return q.context.getProgramParameter(e,i)},q.getQuery=function(e,i){return q.context.getQuery(e,i)},q.getQueryParameter=function(e,i){return q.context.getQueryParameter(e,i)},q.getRenderbufferParameter=function(e,i){return q.context.getRenderbufferParameter(e,i)},q.getSamplerParameter=function(e,i){return q.context.getSamplerParameter(e,i)},q.getShaderInfoLog=function(e){return q.context.getShaderInfoLog(e)},q.getShaderParameter=function(e,i){return q.context.getShaderParameter(e,i)},q.getShaderPrecisionFormat=function(e,i){return q.context.getShaderPrecisionFormat(e,i)},q.getShaderSource=function(e){return q.context.getShaderSource(e)},q.getSupportedExtensions=function(){return q.context.getSupportedExtensions()},q.getSyncParameter=function(e,i){return q.context.getSyncParameter(e,i)},q.getTexParameter=function(e,i){return q.context.getTexParameter(e,i)},q.getTransformFeedbackVarying=function(e,i){return q.context.getTransformFeedbackVarying(e,i)},q.getUniform=function(e,i){return q.context.getUniform(e,i)},q.getUniformBlockIndex=function(e,i){return q.context.getUniformBlockIndex(e,i)},q.getUniformIndices=function(e,i){return q.context.getUniformIndices(e,i)},q.getUniformLocation=function(e,i){return q.context.getUniformLocation(e,i)},q.getVertexAttrib=function(e,i){return q.context.getVertexAttrib(e,i)},q.getVertexAttribOffset=function(e,i){return ec.fromFloat(q.context.getVertexAttribOffset(e,i))},q.hint=function(e,i){q.context.hint(e,i)},q.invalidateFramebuffer=function(e,i){q.context.invalidateFramebuffer(e,i)},q.invalidateSubFramebuffer=function(e,i,s,n,o,l){q.context.invalidateSubFramebuffer(e,i,s,n,o,l)},q.isBuffer=function(e){return q.context.isBuffer(e)},q.isContextLost=function(){return q.context.isContextLost()},q.isEnabled=function(e){return q.context.isEnabled(e)},q.isFramebuffer=function(e){return q.context.isFramebuffer(e)},q.isProgram=function(e){return q.context.isProgram(e)},q.isQuery=function(e){return q.context.isQuery(e)},q.isRenderbuffer=function(e){return q.context.isRenderbuffer(e)},q.isSampler=function(e){return q.context.isSampler(e)},q.isShader=function(e){return q.context.isShader(e)},q.isSync=function(e){return q.context.isSync(e)},q.isTexture=function(e){return q.context.isTexture(e)},q.isTransformFeedback=function(e){return q.context.isTransformFeedback(e)},q.isVertexArray=function(e){return q.context.isVertexArray(e)},q.lineWidth=function(e){q.context.lineWidth(e)},q.linkProgram=function(e){q.context.linkProgram(e)},q.pauseTransformFeedback=function(){q.context.pauseTransformFeedback()},q.pixelStorei=function(e,i){q.context.pixelStorei(e,i)},q.polygonOffset=function(e,i){q.context.polygonOffset(e,i)},q.readBuffer=function(e){q.context.readBuffer(e)},q.readPixelsWEBGL=function(e,i,s,n,o,l,_,h){var m=q.context;null!=h?m.readPixels(e,i,s,n,o,l,_,h):m.readPixels(e,i,s,n,o,l,_)},q.renderbufferStorage=function(e,i,s,n){q.context.renderbufferStorage(e,i,s,n)},q.renderbufferStorageMultisample=function(e,i,s,n,o){q.context.renderbufferStorageMultisample(e,i,s,n,o)},q.resumeTransformFeedback=function(){q.context.resumeTransformFeedback()},q.sampleCoverage=function(e,i){q.context.sampleCoverage(e,i)},q.samplerParameterf=function(e,i,s){q.context.samplerParameterf(e,i,s)},q.samplerParameteri=function(e,i,s){q.context.samplerParameteri(e,i,s)},q.scissor=function(e,i,s,n){q.context.scissor(e,i,s,n)},q.shaderSource=function(e,i){q.context.shaderSource(e,i)},q.stencilFunc=function(e,i,s){q.context.stencilFunc(e,i,s)},q.stencilFuncSeparate=function(e,i,s,n){q.context.stencilFuncSeparate(e,i,s,n)},q.stencilMask=function(e){q.context.stencilMask(e)},q.stencilMaskSeparate=function(e,i){q.context.stencilMaskSeparate(e,i)},q.stencilOp=function(e,i,s){q.context.stencilOp(e,i,s)},q.stencilOpSeparate=function(e,i,s,n){q.context.stencilOpSeparate(e,i,s,n)},q.texImage2DWEBGL=function(e,i,s,n,o,l,_,h,m,f){var y=q.context;null!=f?y.texImage2D(e,i,s,n,o,l,_,h,m,f):null!=_?y.texImage2D(e,i,s,n,o,l,_,h,m):y.texImage2D(e,i,s,n,o,l)},q.texImage3DWEBGL=function(e,i,s,n,o,l,_,h,m,f,y){q.context.texImage3D(e,i,s,n,o,l,_,h,m,f,y)},q.texStorage2D=function(e,i,s,n,o){q.context.texStorage2D(e,i,s,n,o)},q.texStorage3D=function(e,i,s,n,o,l){q.context.texStorage3D(e,i,s,n,o,l)},q.texParameterf=function(e,i,s){q.context.texParameterf(e,i,s)},q.texParameteri=function(e,i,s){q.context.texParameteri(e,i,s)},q.texSubImage2DWEBGL=function(e,i,s,n,o,l,_,h,m,f){var y=q.context;null!=f?y.texSubImage2D(e,i,s,n,o,l,_,h,m,f):null!=h?y.texSubImage2D(e,i,s,n,o,l,_,h,m):y.texSubImage2D(e,i,s,n,o,l,_)},q.texSubImage3DWEBGL=function(e,i,s,n,o,l,_,h,m,f,y,g){q.context.texSubImage3D(e,i,s,n,o,l,_,h,m,f,y,g)},q.transformFeedbackVaryings=function(e,i,s){q.context.transformFeedbackVaryings(e,i,s)},q.uniform1f=function(e,i){q.context.uniform1f(e,i)},q.uniform1fvWEBGL=function(e,i,s,n){var o=q.context;null!=s?o.uniform1fv(e,i,s,n):o.uniform1fv(e,i)},q.uniform1i=function(e,i){q.context.uniform1i(e,i)},q.uniform1ivWEBGL=function(e,i,s,n){var o=q.context;null!=s?o.uniform1iv(e,i,s,n):o.uniform1iv(e,i)},q.uniform1ui=function(e,i){q.context.uniform1ui(e,i)},q.uniform1uivWEBGL=function(e,i,s,n){q.context.uniform1uiv(e,i,s,n)},q.uniform2f=function(e,i,s){q.context.uniform2f(e,i,s)},q.uniform2fvWEBGL=function(e,i,s,n){ce.uniform2fv(q.context,e,i,s,n)},q.uniform2i=function(e,i,s){q.context.uniform2i(e,i,s)},q.uniform2ivWEBGL=function(e,i,s,n){var o=q.context;null!=s?o.uniform2iv(e,i,s,n):o.uniform2iv(e,i)},q.uniform2ui=function(e,i,s){q.context.uniform2ui(e,i,s)},q.uniform2uivWEBGL=function(e,i,s,n){q.context.uniform2uiv(e,i,s,n)},q.uniform3f=function(e,i,s,n){q.context.uniform3f(e,i,s,n)},q.uniform3fvWEBGL=function(e,i,s,n){var o=q.context;null!=s?o.uniform3fv(e,i,s,n):o.uniform3fv(e,i)},q.uniform3i=function(e,i,s,n){q.context.uniform3i(e,i,s,n)},q.uniform3ivWEBGL=function(e,i,s,n){var o=q.context;null!=s?o.uniform3iv(e,i,s,n):o.uniform3iv(e,i)},q.uniform3ui=function(e,i,s,n){q.context.uniform3ui(e,i,s,n)},q.uniform3uivWEBGL=function(e,i,s,n){q.context.uniform3uiv(e,i,s,n)},q.uniform4f=function(e,i,s,n,o){q.context.uniform4f(e,i,s,n,o)},q.uniform4fvWEBGL=function(e,i,s,n){var o=q.context;null!=s?o.uniform4fv(e,i,s,n):o.uniform4fv(e,i)},q.uniform4i=function(e,i,s,n,o){q.context.uniform4i(e,i,s,n,o)},q.uniform4ivWEBGL=function(e,i,s,n){var o=q.context;null!=s?o.uniform4iv(e,i,s,n):o.uniform4iv(e,i)},q.uniform4ui=function(e,i,s,n,o){q.context.uniform4ui(e,i,s,n,o)},q.uniform4uivWEBGL=function(e,i,s,n){q.context.uniform4uiv(e,i,s,n)},q.uniformBlockBinding=function(e,i,s){q.context.uniformBlockBinding(e,i,s)},q.uniformMatrix2fvWEBGL=function(e,i,s,n,o){var l=q.context;null!=n?l.uniformMatrix2fv(e,i,s,n,o):l.uniformMatrix2fv(e,i,s)},q.uniformMatrix2x3fvWEBGL=function(e,i,s,n,o){q.context.uniformMatrix2x3fv(e,i,s,n,o)},q.uniformMatrix2x4fvWEBGL=function(e,i,s,n,o){q.context.uniformMatrix2x4fv(e,i,s,n,o)},q.uniformMatrix3fvWEBGL=function(e,i,s,n,o){var l=q.context;null!=n?l.uniformMatrix3fv(e,i,s,n,o):l.uniformMatrix3fv(e,i,s)},q.uniformMatrix3x2fvWEBGL=function(e,i,s,n,o){q.context.uniformMatrix3x2fv(e,i,s,n,o)},q.uniformMatrix3x4fvWEBGL=function(e,i,s,n,o){q.context.uniformMatrix3x4fv(e,i,s,n,o)},q.uniformMatrix4fvWEBGL=function(e,i,s,n,o){var l=q.context;null!=n?l.uniformMatrix4fv(e,i,s,n,o):l.uniformMatrix4fv(e,i,s)},q.uniformMatrix4x2fvWEBGL=function(e,i,s,n,o){q.context.uniformMatrix4x2fv(e,i,s,n,o)},q.uniformMatrix4x3fvWEBGL=function(e,i,s,n,o){q.context.uniformMatrix4x3fv(e,i,s,n,o)},q.useProgram=function(e){q.context.useProgram(e)},q.validateProgram=function(e){q.context.validateProgram(e)},q.vertexAttrib1f=function(e,i){q.context.vertexAttrib1f(e,i)},q.vertexAttrib1fv=function(e,i){q.context.vertexAttrib1fv(e,i)},q.vertexAttrib1fvWEBGL=function(e,i){q.context.vertexAttrib1fv(e,i)},q.vertexAttrib2f=function(e,i,s){q.context.vertexAttrib2f(e,i,s)},q.vertexAttrib2fv=function(e,i){q.context.vertexAttrib2fv(e,i)},q.vertexAttrib2fvWEBGL=function(e,i){q.context.vertexAttrib2fv(e,i)},q.vertexAttrib3f=function(e,i,s,n){q.context.vertexAttrib3f(e,i,s,n)},q.vertexAttrib3fv=function(e,i){q.context.vertexAttrib3fv(e,i)},q.vertexAttrib3fvWEBGL=function(e,i){q.context.vertexAttrib3fv(e,i)},q.vertexAttrib4f=function(e,i,s,n,o){q.context.vertexAttrib4f(e,i,s,n,o)},q.vertexAttrib4fv=function(e,i){q.context.vertexAttrib4fv(e,i)},q.vertexAttrib4fvWEBGL=function(e,i){q.context.vertexAttrib4fv(e,i)},q.vertexAttribDivisor=function(e,i){q.context.vertexAttribDivisor(e,i)},q.vertexAttribI4i=function(e,i,s,n,o){q.context.vertexAttribI4i(e,i,s,n,o)},q.vertexAttribI4iv=function(e,i){q.context.vertexAttribI4iv(e,i)},q.vertexAttribI4ivWEBGL=function(e,i){q.context.vertexAttribI4iv(e,i)},q.vertexAttribI4ui=function(e,i,s,n,o){q.context.vertexAttribI4ui(e,i,s,n,o)},q.vertexAttribI4uiv=function(e,i){q.context.vertexAttribI4uiv(e,i)},q.vertexAttribI4uivWEBGL=function(e,i){q.context.vertexAttribI4uiv(e,i)},q.vertexAttribIPointer=function(e,i,s,n,o){q.context.vertexAttribIPointer(e,i,s,n,o)},q.vertexAttribPointer=function(e,i,s,n,o,l){q.context.vertexAttribPointer(e,i,s,n,o,l)},q.viewport=function(e,i,s,n){q.context.viewport(e,i,s,n)},q.waitSync=function(e,i,s){q.context.waitSync(e,i,s)},q.__getObjectID=function(e){return null==e?0:e.id};var Ss={};k["lime.graphics.opengl._GLProgram.GLProgram_Impl_"]=Ss,Ss.__name__="lime.graphics.opengl._GLProgram.GLProgram_Impl_",Ss.fromSources=function(e,i,s){i=Uq.fromSource(e,i,e.VERTEX_SHADER);var n=Uq.fromSource(e,s,e.FRAGMENT_SHADER);return s=e.createProgram(),e.attachShader(s,i),e.attachShader(s,n),e.linkProgram(s),0==e.getProgramParameter(s,35714)&&(e="Unable to initialize the shader program\n"+q.context.getProgramInfoLog(s),Ua.error(e,{fileName:"lime/graphics/opengl/GLProgram.hx",lineNumber:39,className:"lime.graphics.opengl._GLProgram.GLProgram_Impl_",methodName:"fromSources"})),s};var Uq={};k["lime.graphics.opengl._GLShader.GLShader_Impl_"]=Uq,Uq.__name__="lime.graphics.opengl._GLShader.GLShader_Impl_",Uq.fromSource=function(e,i,s){var n=e.createShader(s);return e.shaderSource(n,i),e.compileShader(n),0==e.getShaderParameter(n,e.COMPILE_STATUS)&&(i=s==e.VERTEX_SHADER?"Error compiling vertex shader":s==e.FRAGMENT_SHADER?"Error compiling fragment shader":"Error compiling unknown shader type",i+="\n"+e.getShaderInfoLog(n),Ua.error(i,{fileName:"lime/graphics/opengl/GLShader.hx",lineNumber:40,className:"lime.graphics.opengl._GLShader.GLShader_Impl_",methodName:"fromSource"})),n};var ls=function(){this.STACK_UNDERFLOW=1284,this.STACK_OVERFLOW=1283,this.CONTEXT_FLAG_DEBUG_BIT=2,this.DEBUG_OUTPUT=37600,this.DEBUG_SEVERITY_LOW=37192,this.DEBUG_SEVERITY_MEDIUM=37191,this.DEBUG_SEVERITY_HIGH=37190,this.DEBUG_LOGGED_MESSAGES=37189,this.MAX_DEBUG_LOGGED_MESSAGES=37188,this.MAX_DEBUG_MESSAGE_LENGTH=37187,this.MAX_LABEL_LENGTH=33512,this.SAMPLER=33510,this.QUERY=33507,this.PROGRAM=33506,this.SHADER=33505,this.BUFFER=33504,this.DEBUG_GROUP_STACK_DEPTH=33389,this.MAX_DEBUG_GROUP_STACK_DEPTH=33388,this.DEBUG_SEVERITY_NOTIFICATION=33387,this.DEBUG_TYPE_POP_GROUP=33386,this.DEBUG_TYPE_PUSH_GROUP=33385,this.DEBUG_TYPE_MARKER=33384,this.DEBUG_TYPE_OTHER=33361,this.DEBUG_TYPE_PERFORMANCE=33360,this.DEBUG_TYPE_PORTABILITY=33359,this.DEBUG_TYPE_UNDEFINED_BEHAVIOR=33358,this.DEBUG_TYPE_DEPRECATED_BEHAVIOR=33357,this.DEBUG_TYPE_ERROR=33356,this.DEBUG_SOURCE_OTHER=33355,this.DEBUG_SOURCE_APPLICATION=33354,this.DEBUG_SOURCE_THIRD_PARTY=33353,this.DEBUG_SOURCE_SHADER_COMPILER=33352,this.DEBUG_SOURCE_WINDOW_SYSTEM=33351,this.DEBUG_SOURCE_API=33350,this.DEBUG_CALLBACK_USER_PARAM=33349,this.DEBUG_CALLBACK_FUNCTION=33348,this.DEBUG_NEXT_LOGGED_MESSAGE_LENGTH=33347,this.DEBUG_OUTPUT_SYNCHRONOUS=33346};k["lime.graphics.opengl.ext.KHR_debug"]=ls,ls.__name__="lime.graphics.opengl.ext.KHR_debug",ls.prototype={DEBUG_OUTPUT_SYNCHRONOUS:null,DEBUG_NEXT_LOGGED_MESSAGE_LENGTH:null,DEBUG_CALLBACK_FUNCTION:null,DEBUG_CALLBACK_USER_PARAM:null,DEBUG_SOURCE_API:null,DEBUG_SOURCE_WINDOW_SYSTEM:null,DEBUG_SOURCE_SHADER_COMPILER:null,DEBUG_SOURCE_THIRD_PARTY:null,DEBUG_SOURCE_APPLICATION:null,DEBUG_SOURCE_OTHER:null,DEBUG_TYPE_ERROR:null,DEBUG_TYPE_DEPRECATED_BEHAVIOR:null,DEBUG_TYPE_UNDEFINED_BEHAVIOR:null,DEBUG_TYPE_PORTABILITY:null,DEBUG_TYPE_PERFORMANCE:null,DEBUG_TYPE_OTHER:null,DEBUG_TYPE_MARKER:null,DEBUG_TYPE_PUSH_GROUP:null,DEBUG_TYPE_POP_GROUP:null,DEBUG_SEVERITY_NOTIFICATION:null,MAX_DEBUG_GROUP_STACK_DEPTH:null,DEBUG_GROUP_STACK_DEPTH:null,BUFFER:null,SHADER:null,PROGRAM:null,QUERY:null,SAMPLER:null,MAX_LABEL_LENGTH:null,MAX_DEBUG_MESSAGE_LENGTH:null,MAX_DEBUG_LOGGED_MESSAGES:null,DEBUG_LOGGED_MESSAGES:null,DEBUG_SEVERITY_HIGH:null,DEBUG_SEVERITY_MEDIUM:null,DEBUG_SEVERITY_LOW:null,DEBUG_OUTPUT:null,CONTEXT_FLAG_DEBUG_BIT:null,STACK_OVERFLOW:null,STACK_UNDERFLOW:null,__class__:ls};var Td={};k["lime.math._ARGB.ARGB_Impl_"]=Td,Td.__name__="lime.math._ARGB.ARGB_Impl_",Td.__properties__={set_r:"set_r",get_r:"get_r",set_g:"set_g",get_g:"get_g",set_b:"set_b",get_b:"get_b",set_a:"set_a",get_a:"get_a"},Td._new=function(e){return null==e&&(e=0),e},Td.create=function(e,i,s,n){return(255&e)<<24|(255&i)<<16|(255&s)<<8|255&n},Td.multiplyAlpha=function(e){e>>>24&255&&255!=(e>>>24&255)&&(Td.a16=I.__alpha16[e>>>24&255])},Td.readUInt8=function(e,i,s,n,o){switch(null==o&&(o=!1),null==n&&(n=0),n){case 0:e=(255&i[s+1])<<24|(255&i[s+2])<<16|(255&i[s+3])<<8|255&i[s];break;case 1:e=(255&i[s+2])<<24|(255&i[s+3])<<16|(255&i[s])<<8|255&i[s+1];break;case 2:e=(255&i[s+1])<<24|(255&i[s])<<16|(255&i[s+3])<<8|255&i[s+2]}o&&e>>>24&255&&255!=(e>>>24&255)&&(Td.unmult=255/(e>>>24&255))},Td.set=function(e,i,s,n,o){},Td.unmultiplyAlpha=function(e){e>>>24&255&&255!=(e>>>24&255)&&(Td.unmult=255/(e>>>24&255))},Td.writeUInt8=function(e,i,s,n,o){switch(null==o&&(o=!1),null==n&&(n=0),o&&(e>>>24&255?255!=(e>>>24&255)&&(Td.a16=I.__alpha16[e>>>24&255],e=(e>>>24&255)<<24|((e>>>16&255)*Td.a16>>16&255)<<16|((e>>>8&255)*Td.a16>>16&255)<<8|(255&e)*Td.a16>>16&255):e=0),n){case 0:i[s]=e>>>16&255,i[s+1]=e>>>8&255,i[s+2]=255&e,i[s+3]=e>>>24&255;break;case 1:i[s]=e>>>24&255,i[s+1]=e>>>16&255,i[s+2]=e>>>8&255,i[s+3]=255&e;break;case 2:i[s]=255&e,i[s+1]=e>>>8&255,i[s+2]=e>>>16&255,i[s+3]=e>>>24&255}},Td.__fromBGRA=function(e){return(255&e)<<24|(e>>>8&255)<<16|(e>>>16&255)<<8|e>>>24&255},Td.__fromRGBA=function(e){return(255&e)<<24|(e>>>24&255)<<16|(e>>>16&255)<<8|e>>>8&255},Td.get_a=function(e){return e>>>24&255},Td.set_a=function(e,i){return i},Td.get_b=function(e){return 255&e},Td.set_b=function(e,i){return i},Td.get_g=function(e){return e>>>8&255},Td.set_g=function(e,i){return i},Td.get_r=function(e){return e>>>16&255},Td.set_r=function(e,i){return i};var Ud={};k["lime.math._BGRA.BGRA_Impl_"]=Ud,Ud.__name__="lime.math._BGRA.BGRA_Impl_",Ud.__properties__={set_r:"set_r",get_r:"get_r",set_g:"set_g",get_g:"get_g",set_b:"set_b",get_b:"get_b",set_a:"set_a",get_a:"get_a"},Ud._new=function(e){return null==e&&(e=0),e},Ud.create=function(e,i,s,n){return(255&e)<<24|(255&i)<<16|(255&s)<<8|255&n},Ud.multiplyAlpha=function(e){255&e&&255!=(255&e)&&(Ud.a16=I.__alpha16[255&e])},Ud.readUInt8=function(e,i,s,n,o){switch(null==o&&(o=!1),null==n&&(n=0),n){case 0:e=(255&i[s+2])<<24|(255&i[s+1])<<16|(255&i[s])<<8|255&i[s+3];break;case 1:e=(255&i[s+3])<<24|(255&i[s+2])<<16|(255&i[s+1])<<8|255&i[s];break;case 2:e=(255&i[s])<<24|(255&i[s+1])<<16|(255&i[s+2])<<8|255&i[s+3]}o&&255&e&&255!=(255&e)&&(Ud.unmult=255/(255&e))},Ud.set=function(e,i,s,n,o){},Ud.unmultiplyAlpha=function(e){255&e&&255!=(255&e)&&(Ud.unmult=255/(255&e))},Ud.writeUInt8=function(e,i,s,n,o){switch(null==o&&(o=!1),null==n&&(n=0),o&&(255&e?255!=(255&e)&&(Ud.a16=I.__alpha16[255&e],e=((e>>>24&255)*Ud.a16>>16&255)<<24|((e>>>16&255)*Ud.a16>>16&255)<<16|((e>>>8&255)*Ud.a16>>16&255)<<8|255&e):e=0),n){case 0:i[s]=e>>>8&255,i[s+1]=e>>>16&255,i[s+2]=e>>>24&255,i[s+3]=255&e;break;case 1:i[s]=255&e,i[s+1]=e>>>8&255,i[s+2]=e>>>16&255,i[s+3]=e>>>24&255;break;case 2:i[s]=e>>>24&255,i[s+1]=e>>>16&255,i[s+2]=e>>>8&255,i[s+3]=255&e}},Ud.__fromARGB=function(e){return(255&e)<<24|(e>>>8&255)<<16|(e>>>16&255)<<8|e>>>24&255},Ud.__fromRGBA=function(e){return(e>>>8&255)<<24|(e>>>16&255)<<16|(e>>>24&255)<<8|255&e},Ud.get_a=function(e){return 255&e},Ud.set_a=function(e,i){return i},Ud.get_b=function(e){return e>>>24&255},Ud.set_b=function(e,i){return i},Ud.get_g=function(e){return e>>>16&255},Ud.set_g=function(e,i){return i},Ud.get_r=function(e){return e>>>8&255},Ud.set_r=function(e,i){return i};var Db={};k["lime.math._ColorMatrix.ColorMatrix_Impl_"]=Db,Db.__name__="lime.math._ColorMatrix.ColorMatrix_Impl_",Db.__properties__={set_redOffset:"set_redOffset",get_redOffset:"get_redOffset",set_redMultiplier:"set_redMultiplier",get_redMultiplier:"get_redMultiplier",set_greenOffset:"set_greenOffset",get_greenOffset:"get_greenOffset",set_greenMultiplier:"set_greenMultiplier",get_greenMultiplier:"get_greenMultiplier",set_color:"set_color",get_color:"get_color",set_blueOffset:"set_blueOffset",get_blueOffset:"get_blueOffset",set_blueMultiplier:"set_blueMultiplier",get_blueMultiplier:"get_blueMultiplier",set_alphaOffset:"set_alphaOffset",get_alphaOffset:"get_alphaOffset",set_alphaMultiplier:"set_alphaMultiplier",get_alphaMultiplier:"get_alphaMultiplier"},Db._new=function(e){return(null==e||20!=e.length)&&(e=null!=(e=Db.__identity)?new Float32Array(e):null),e},Db.clone=function(e){return e=null!=(e=Bf.toArrayBufferView(e))?new Float32Array(e):null,Db._new(e)},Db.concat=function(e,i){e[0]+=i[0],e[6]+=i[6],e[12]+=i[12],e[18]+=i[18]},Db.copyFrom=function(e,i){e.set(i)},Db.identity=function(e){e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=0,e[6]=1,e[7]=0,e[8]=0,e[9]=0,e[10]=0,e[11]=0,e[12]=1,e[13]=0,e[14]=0,e[15]=0,e[16]=0,e[17]=0,e[18]=1,e[19]=0},Db.getAlphaTable=function(e){if(null==Db.__alphaTable){var i=new Uint8Array(256);Db.__alphaTable=i}Db.__alphaTable[0]=0;for(var s=1;256>s;){var n=s++;255<(i=Math.floor(n*e[18]+255*e[19]))&&(i=255),0>i&&(i=0),Db.__alphaTable[n]=i}return Db.__alphaTable},Db.getBlueTable=function(e){if(null==Db.__blueTable){var i=new Uint8Array(256);Db.__blueTable=i}for(var s=0;256>s;){var n=s++;255<(i=Math.floor(n*e[12]+255*e[14]))&&(i=255),0>i&&(i=0),Db.__blueTable[n]=i}return Db.__blueTable},Db.getGreenTable=function(e){if(null==Db.__greenTable){var i=new Uint8Array(256);Db.__greenTable=i}for(var s=0;256>s;){var n=s++;255<(i=Math.floor(n*e[6]+255*e[9]))&&(i=255),0>i&&(i=0),Db.__greenTable[n]=i}return Db.__greenTable},Db.getRedTable=function(e){if(null==Db.__redTable){var i=new Uint8Array(256);Db.__redTable=i}for(var s=0;256>s;){var n=s++;255<(i=Math.floor(n*e[0]+255*e[4]))&&(i=255),0>i&&(i=0),Db.__redTable[n]=i}return Db.__redTable},Db.__toFlashColorTransform=function(e){return null},Db.get_alphaMultiplier=function(e){return e[18]},Db.set_alphaMultiplier=function(e,i){return e[18]=i},Db.get_alphaOffset=function(e){return 255*e[19]},Db.set_alphaOffset=function(e,i){return e[19]=i/255},Db.get_blueMultiplier=function(e){return e[12]},Db.set_blueMultiplier=function(e,i){return e[12]=i},Db.get_blueOffset=function(e){return 255*e[14]},Db.set_blueOffset=function(e,i){return e[14]=i/255},Db.get_color=function(e){return(255*e[4]|0)<<16|(255*e[9]|0)<<8|255*e[14]|0},Db.set_color=function(e,i){return e[4]=(i>>16&255)/255,e[9]=(i>>8&255)/255,e[14]=(255&i)/255,e[0]=0,e[6]=0,e[12]=0,Db.get_color(e)},Db.get_greenMultiplier=function(e){return e[6]},Db.set_greenMultiplier=function(e,i){return e[6]=i},Db.get_greenOffset=function(e){return 255*e[9]},Db.set_greenOffset=function(e,i){return e[9]=i/255},Db.get_redMultiplier=function(e){return e[0]},Db.set_redMultiplier=function(e,i){return e[0]=i},Db.get_redOffset=function(e){return 255*e[4]},Db.set_redOffset=function(e,i){return e[4]=i/255},Db.get=function(e,i){return e[i]},Db.set=function(e,i,s){return e[i]=s};var oa={};k["lime.math._Matrix4.Matrix4_Impl_"]=oa,oa.__name__="lime.math._Matrix4.Matrix4_Impl_",oa.__properties__={set_position:"set_position",get_position:"get_position",get_determinant:"get_determinant"},oa._new=function(e){return(null==e||16!=e.length)&&(e=null!=(e=oa.__identity)?new Float32Array(e):null),e},oa.append=function(e,i){var s=e[0],n=e[4],o=e[8],l=e[12],_=e[1],h=e[5],m=e[9],f=e[13],y=e[2],g=e[6],j=e[10],$=e[14],yt=e[3],_t=e[7],xt=e[11],Tt=e[15],St=oa.get(i,0),Mt=oa.get(i,4),Et=oa.get(i,8),Ct=oa.get(i,12),Dt=oa.get(i,1),At=oa.get(i,5),Nt=oa.get(i,9),Ft=oa.get(i,13),Lt=oa.get(i,2),Ot=oa.get(i,6),Ht=oa.get(i,10),$t=oa.get(i,14),zt=oa.get(i,3),Jt=oa.get(i,7),Qt=oa.get(i,11);i=oa.get(i,15),e[0]=s*St+_*Mt+y*Et+yt*Ct,e[1]=s*Dt+_*At+y*Nt+yt*Ft,e[2]=s*Lt+_*Ot+y*Ht+yt*$t,e[3]=s*zt+_*Jt+y*Qt+yt*i,e[4]=n*St+h*Mt+g*Et+_t*Ct,e[5]=n*Dt+h*At+g*Nt+_t*Ft,e[6]=n*Lt+h*Ot+g*Ht+_t*$t,e[7]=n*zt+h*Jt+g*Qt+_t*i,e[8]=o*St+m*Mt+j*Et+xt*Ct,e[9]=o*Dt+m*At+j*Nt+xt*Ft,e[10]=o*Lt+m*Ot+j*Ht+xt*$t,e[11]=o*zt+m*Jt+j*Qt+xt*i,e[12]=l*St+f*Mt+$*Et+Tt*Ct,e[13]=l*Dt+f*At+$*Nt+Tt*Ft,e[14]=l*Lt+f*Ot+$*Ht+Tt*$t,e[15]=l*zt+f*Jt+$*Qt+Tt*i},oa.appendRotation=function(e,i,s,n){i=oa.__getAxisRotation(e,s.x,s.y,s.z,i),null!=n&&oa.appendTranslation(i,n.x,n.y,n.z),oa.append(e,i)},oa.appendScale=function(e,i,s,n){i=null!=(i=[i,0,0,0,0,s,0,0,0,0,n,0,0,0,0,1])?new Float32Array(i):null,oa.append(e,oa._new(i))},oa.appendTranslation=function(e,i,s,n){e[12]+=i,e[13]+=s,e[14]+=n},oa.clone=function(e){return e=null!=(e=Bf.toArrayBufferView(e))?new Float32Array(e):null,oa._new(e)},oa.copyColumnFrom=function(e,i,s){switch(i){case 0:e[0]=s.x,e[1]=s.y,e[2]=s.z,e[3]=s.w;break;case 1:e[4]=s.x,e[5]=s.y,e[6]=s.z,e[7]=s.w;break;case 2:e[8]=s.x,e[9]=s.y,e[10]=s.z,e[11]=s.w;break;case 3:e[12]=s.x,e[13]=s.y,e[14]=s.z,e[15]=s.w;break;default:Ua.error("Column "+i+" out of bounds [0, ..., 3]",{fileName:"lime/math/Matrix4.hx",lineNumber:187,className:"lime.math._Matrix4.Matrix4_Impl_",methodName:"copyColumnFrom"})}},oa.copyColumnTo=function(e,i,s){switch(i){case 0:s.x=e[0],s.y=e[1],s.z=e[2],s.w=e[3];break;case 1:s.x=e[4],s.y=e[5],s.z=e[6],s.w=e[7];break;case 2:s.x=e[8],s.y=e[9],s.z=e[10],s.w=e[11];break;case 3:s.x=e[12],s.y=e[13],s.z=e[14],s.w=e[15];break;default:Ua.error("Column "+i+" out of bounds [0, ..., 3]",{fileName:"lime/math/Matrix4.hx",lineNumber:225,className:"lime.math._Matrix4.Matrix4_Impl_",methodName:"copyColumnTo"})}},oa.copyFrom=function(e,i){e.set(i)},oa.copyRowFrom=function(e,i,s){switch(i){case 0:e[0]=s.x,e[4]=s.y,e[8]=s.z,e[12]=s.w;break;case 1:e[1]=s.x,e[5]=s.y,e[9]=s.z,e[13]=s.w;break;case 2:e[2]=s.x,e[6]=s.y,e[10]=s.z,e[14]=s.w;break;case 3:e[3]=s.x,e[7]=s.y,e[11]=s.z,e[15]=s.w;break;default:Ua.error("Row "+i+" out of bounds [0, ..., 3]",{fileName:"lime/math/Matrix4.hx",lineNumber:272,className:"lime.math._Matrix4.Matrix4_Impl_",methodName:"copyRowFrom"})}},oa.copyRowTo=function(e,i,s){switch(i){case 0:s.x=e[0],s.y=e[4],s.z=e[8],s.w=e[12];break;case 1:s.x=e[1],s.y=e[5],s.z=e[9],s.w=e[13];break;case 2:s.x=e[2],s.y=e[6],s.z=e[10],s.w=e[14];break;case 3:s.x=e[3],s.y=e[7],s.z=e[11],s.w=e[15];break;default:Ua.error("Row "+i+" out of bounds [0, ..., 3]",{fileName:"lime/math/Matrix4.hx",lineNumber:310,className:"lime.math._Matrix4.Matrix4_Impl_",methodName:"copyRowTo"})}},oa.create2D=function(e,i,s,n,o,l,_){null==_&&(_=0),null==l&&(l=0),e[0]=i,e[1]=s,e[2]=0,e[3]=0,e[4]=n,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=l,e[13]=_,e[14]=0,e[15]=1},oa.createOrtho=function(e,i,s,n,o,l,_){var h=1/(s-i),m=1/(o-n),f=1/(_-l);e[0]=2*h,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*m,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=-2*f,e[11]=0,e[12]=-(i+s)*h,e[13]=-(n+o)*m,e[14]=-(l+_)*f,e[15]=1},oa.deltaTransformVector=function(e,i,s){null==s&&(s=new Jc);var n=i.x,o=i.y;return s.x=n*e[0]+o*e[4]+(i=i.z)*e[8]+e[3],s.y=n*e[1]+o*e[5]+i*e[9]+e[7],s.z=n*e[2]+o*e[6]+i*e[10]+e[11],s},oa.fromMatrix3=function(e){var i=oa._new();return oa.create2D(i,e.a,e.b,e.c,e.d,e.tx,e.ty),i},oa.identity=function(e){e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1},oa.interpolate=function(e,i,s,n){null==n&&(n=oa._new());for(var o=0;16>o;){var l=o++;oa.set(n,l,oa.get(e,l)+(oa.get(i,l)-oa.get(e,l))*s)}return n},oa.interpolateTo=function(e,i,s){for(var n=0;16>n;){var o=n++;e[o]+=(oa.get(i,o)-e[o])*s}},oa.invert=function(e){var i=oa.get_determinant(e),s=1e-11<Math.abs(i);if(s){var n=e[0],o=e[4],l=e[8],_=e[12],h=e[1],m=e[5],f=e[9],y=e[13],g=e[2],j=e[6],$=e[10],yt=e[14],_t=e[3],xt=e[7],Tt=e[11],St=e[15];e[0]=(i=1/i)*(m*($*St-yt*Tt)-f*(j*St-yt*xt)+y*(j*Tt-$*xt)),e[1]=-i*(h*($*St-yt*Tt)-f*(g*St-yt*_t)+y*(g*Tt-$*_t)),e[2]=i*(h*(j*St-yt*xt)-m*(g*St-yt*_t)+y*(g*xt-j*_t)),e[3]=-i*(h*(j*Tt-$*xt)-m*(g*Tt-$*_t)+f*(g*xt-j*_t)),e[4]=-i*(o*($*St-yt*Tt)-l*(j*St-yt*xt)+_*(j*Tt-$*xt)),e[5]=i*(n*($*St-yt*Tt)-l*(g*St-yt*_t)+_*(g*Tt-$*_t)),e[6]=-i*(n*(j*St-yt*xt)-o*(g*St-yt*_t)+_*(g*xt-j*_t)),e[7]=i*(n*(j*Tt-$*xt)-o*(g*Tt-$*_t)+l*(g*xt-j*_t)),e[8]=i*(o*(f*St-y*Tt)-l*(m*St-y*xt)+_*(m*Tt-f*xt)),e[9]=-i*(n*(f*St-y*Tt)-l*(h*St-y*_t)+_*(h*Tt-f*_t)),e[10]=i*(n*(m*St-y*xt)-o*(h*St-y*_t)+_*(h*xt-m*_t)),e[11]=-i*(n*(m*Tt-f*xt)-o*(h*Tt-f*_t)+l*(h*xt-m*_t)),e[12]=-i*(o*(f*yt-y*$)-l*(m*yt-y*j)+_*(m*$-f*j)),e[13]=i*(n*(f*yt-y*$)-l*(h*yt-y*g)+_*(h*$-f*g)),e[14]=-i*(n*(m*yt-y*j)-o*(h*yt-y*g)+_*(h*j-m*g)),e[15]=i*(n*(m*$-f*j)-o*(h*$-f*g)+l*(h*j-m*g))}return s},oa.pointAt=function(e,i,s,n){null==s&&(s=new Jc(0,0,1)),null==n&&(n=new Jc(0,1,0));var o=null;null==o&&(o=new Jc),o.x=i.x-s.x,o.y=i.y-s.y,o.z=i.z-s.z,s=o,n=new Jc(n.x,n.y,n.z,n.w),0!=(o=Math.sqrt(s.x*s.x+s.y*s.y+s.z*s.z))&&(s.x/=o,s.y/=o,s.z/=o),0!=(o=Math.sqrt(n.x*n.x+n.y*n.y+n.z*n.z))&&(n.x/=o,n.y/=o,n.z/=o),o=new Jc(s.x,s.y,s.z,s.w);var l=n.x*s.x+n.y*s.y+n.z*s.z;o.x*=l,o.y*=l,o.z*=l,null==(l=null)&&(l=new Jc),l.x=n.x-o.x,l.y=n.y-o.y,l.z=n.z-o.z,n=l,0<Math.sqrt(n.x*n.x+n.y*n.y+n.z*n.z)?0!=(o=Math.sqrt(n.x*n.x+n.y*n.y+n.z*n.z))&&(n.x/=o,n.y/=o,n.z/=o):n=0!=s.x?new Jc(-s.y,s.x,0):new Jc(1,0,0),null==(o=null)&&(o=new Jc),l=n.z*s.x-n.x*s.z;var _=n.x*s.y-n.y*s.x;o.x=n.y*s.z-n.z*s.y,o.y=l,o.z=_,o.w=1,0!=(l=Math.sqrt(o.x*o.x+o.y*o.y+o.z*o.z))&&(o.x/=l,o.y/=l,o.z/=l),e[0]=o.x,e[4]=o.y,e[8]=o.z,e[12]=0,e[1]=n.x,e[5]=n.y,e[9]=n.z,e[13]=0,e[2]=s.x,e[6]=s.y,e[10]=s.z,e[14]=0,e[3]=i.x,e[7]=i.y,e[11]=i.z,e[15]=1},oa.prepend=function(e,i){var s=oa.get(i,0),n=oa.get(i,4),o=oa.get(i,8),l=oa.get(i,12),_=oa.get(i,1),h=oa.get(i,5),m=oa.get(i,9),f=oa.get(i,13),y=oa.get(i,2),g=oa.get(i,6),j=oa.get(i,10),$=oa.get(i,14),yt=oa.get(i,3),_t=oa.get(i,7),xt=oa.get(i,11);i=oa.get(i,15);var Tt=e[0],St=e[4],Mt=e[8],Et=e[12],Ct=e[1],Dt=e[5],At=e[9],Nt=e[13],Ft=e[2],Lt=e[6],Ot=e[10],Ht=e[14],$t=e[3],zt=e[7],Jt=e[11],Qt=e[15];e[0]=s*Tt+_*St+y*Mt+yt*Et,e[1]=s*Ct+_*Dt+y*At+yt*Nt,e[2]=s*Ft+_*Lt+y*Ot+yt*Ht,e[3]=s*$t+_*zt+y*Jt+yt*Qt,e[4]=n*Tt+h*St+g*Mt+_t*Et,e[5]=n*Ct+h*Dt+g*At+_t*Nt,e[6]=n*Ft+h*Lt+g*Ot+_t*Ht,e[7]=n*$t+h*zt+g*Jt+_t*Qt,e[8]=o*Tt+m*St+j*Mt+xt*Et,e[9]=o*Ct+m*Dt+j*At+xt*Nt,e[10]=o*Ft+m*Lt+j*Ot+xt*Ht,e[11]=o*$t+m*zt+j*Jt+xt*Qt,e[12]=l*Tt+f*St+$*Mt+i*Et,e[13]=l*Ct+f*Dt+$*At+i*Nt,e[14]=l*Ft+f*Lt+$*Ot+i*Ht,e[15]=l*$t+f*zt+$*Jt+i*Qt},oa.prependRotation=function(e,i,s,n){i=oa.__getAxisRotation(e,s.x,s.y,s.z,i),null!=n&&oa.appendTranslation(i,n.x,n.y,n.z),oa.prepend(e,i)},oa.prependScale=function(e,i,s,n){i=null!=(i=[i,0,0,0,0,s,0,0,0,0,n,0,0,0,0,1])?new Float32Array(i):null,oa.prepend(e,oa._new(i))},oa.prependTranslation=function(e,i,s,n){var o=oa._new();oa.set_position(o,new Jc(i,s,n)),oa.prepend(e,o)},oa.transformVector=function(e,i,s){null==s&&(s=new Jc);var n=i.x,o=i.y;return s.x=n*e[0]+o*e[4]+(i=i.z)*e[8]+e[12],s.y=n*e[1]+o*e[5]+i*e[9]+e[13],s.z=n*e[2]+o*e[6]+i*e[10]+e[14],s.w=n*e[3]+o*e[7]+i*e[11]+e[15],s},oa.transformVectors=function(e,i,s){for(var o,l,_,n=0;n+3<=i.length;)s[n]=(o=i[n])*e[0]+(l=i[n+1])*e[4]+(_=i[n+2])*e[8]+e[12],s[n+1]=o*e[1]+l*e[5]+_*e[9]+e[13],s[n+2]=o*e[2]+l*e[6]+_*e[10]+e[14],n+=3},oa.transpose=function(e){var i=e[1];e[1]=e[4],e[4]=i,i=e[2],e[2]=e[8],e[8]=i,i=e[3],e[3]=e[12],e[12]=i,i=e[6],e[6]=e[9],e[9]=i,i=e[7],e[7]=e[13],e[13]=i,i=e[11],e[11]=e[14],e[14]=i},oa.__getAxisRotation=function(e,i,s,n,o){e=oa._new(),i=new Jc(i,s,n),o=Math.PI/180*-o,n=Math.cos(o),o=Math.sin(o),oa.set(e,0,n+i.x*i.x*(s=1-n)),oa.set(e,5,n+i.y*i.y*s),oa.set(e,10,n+i.z*i.z*s);var l=i.z*o;return oa.set(e,4,(n=i.x*i.y*s)+l),oa.set(e,1,n-l),oa.set(e,8,(n=i.x*i.z*s)-(l=i.y*o)),oa.set(e,2,n+l),oa.set(e,9,(n=i.y*i.z*s)+(l=i.x*o)),oa.set(e,6,n-l),e},oa.__swap=function(e,i,s){var n=e[i];e[i]=e[s],e[s]=n},oa.get_determinant=function(e){return(e[0]*e[5]-e[4]*e[1])*(e[10]*e[15]-e[14]*e[11])-(e[0]*e[9]-e[8]*e[1])*(e[6]*e[15]-e[14]*e[7])+(e[0]*e[13]-e[12]*e[1])*(e[6]*e[11]-e[10]*e[7])+(e[4]*e[9]-e[8]*e[5])*(e[2]*e[15]-e[14]*e[3])-(e[4]*e[13]-e[12]*e[5])*(e[2]*e[11]-e[10]*e[3])+(e[8]*e[13]-e[12]*e[9])*(e[2]*e[7]-e[6]*e[3])},oa.get_position=function(e){return new Jc(e[12],e[13],e[14])},oa.set_position=function(e,i){return e[12]=i.x,e[13]=i.y,e[14]=i.z,i},oa.get=function(e,i){return e[i]},oa.set=function(e,i,s){return e[i]=s};var I={};k["lime.math._RGBA.RGBA_Impl_"]=I,I.__name__="lime.math._RGBA.RGBA_Impl_",I.__properties__={set_r:"set_r",get_r:"get_r",set_g:"set_g",get_g:"get_g",set_b:"set_b",get_b:"get_b",set_a:"set_a",get_a:"get_a"},I._new=function(e){return null==e&&(e=0),e},I.create=function(e,i,s,n){return(255&e)<<24|(255&i)<<16|(255&s)<<8|255&n},I.multiplyAlpha=function(e){255&e&&255!=(255&e)&&(I.a16=I.__alpha16[255&e])},I.readUInt8=function(e,i,s,n,o){switch(null==o&&(o=!1),null==n&&(n=0),n){case 0:e=(255&i[s])<<24|(255&i[s+1])<<16|(255&i[s+2])<<8|255&i[s+3];break;case 1:e=(255&i[s+1])<<24|(255&i[s+2])<<16|(255&i[s+3])<<8|255&i[s];break;case 2:e=(255&i[s+2])<<24|(255&i[s+1])<<16|(255&i[s])<<8|255&i[s+3]}o&&255&e&&255!=(255&e)&&(I.unmult=255/(255&e))},I.set=function(e,i,s,n,o){},I.unmultiplyAlpha=function(e){255&e&&255!=(255&e)&&(I.unmult=255/(255&e))},I.writeUInt8=function(e,i,s,n,o){switch(null==o&&(o=!1),null==n&&(n=0),o&&(255&e?255!=(255&e)&&(I.a16=I.__alpha16[255&e],e=((e>>>24&255)*I.a16>>16&255)<<24|((e>>>16&255)*I.a16>>16&255)<<16|((e>>>8&255)*I.a16>>16&255)<<8|255&e):0!=e&&(e=0)),n){case 0:i[s]=e>>>24&255,i[s+1]=e>>>16&255,i[s+2]=e>>>8&255,i[s+3]=255&e;break;case 1:i[s]=255&e,i[s+1]=e>>>24&255,i[s+2]=e>>>16&255,i[s+3]=e>>>8&255;break;case 2:i[s]=e>>>8&255,i[s+1]=e>>>16&255,i[s+2]=e>>>24&255,i[s+3]=255&e}},I.__fromARGB=function(e){return(e>>>16&255)<<24|(e>>>8&255)<<16|(255&e)<<8|e>>>24&255},I.__fromBGRA=function(e){return(e>>>8&255)<<24|(e>>>16&255)<<16|(e>>>24&255)<<8|255&e},I.get_a=function(e){return 255&e},I.set_a=function(e,i){return i},I.get_b=function(e){return e>>>8&255},I.set_b=function(e,i){return i},I.get_g=function(e){return e>>>16&255},I.set_g=function(e,i){return i},I.get_r=function(e){return e>>>24&255},I.set_r=function(e,i){return i};var je=function(e,i,s,n){null==n&&(n=0),null==s&&(s=0),null==i&&(i=0),null==e&&(e=0),this.x=e,this.y=i,this.width=s,this.height=n};k["lime.math.Rectangle"]=je,je.__name__="lime.math.Rectangle",je.prototype={height:null,width:null,x:null,y:null,clone:function(){return new je(this.x,this.y,this.width,this.height)},contains:function(e,i){return e>=this.x&&i>=this.y&&e<this.get_right()&&i<this.get_bottom()},containsPoint:function(e){return this.containsVector(e)},containsRect:function(e){return 0>=e.width||0>=e.height?e.x>this.x&&e.y>this.y&&e.get_right()<this.get_right()&&e.get_bottom()<this.get_bottom():e.x>=this.x&&e.y>=this.y&&e.get_right()<=this.get_right()&&e.get_bottom()<=this.get_bottom()},containsVector:function(e){return this.contains(e.x,e.y)},copyFrom:function(e){this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height},equals:function(e){return null!=e&&this.x==e.x&&this.y==e.y&&this.width==e.width&&this.height==e.height},inflate:function(e,i){this.x-=e,this.width+=2*e,this.y-=i,this.height+=2*i},inflateVector:function(e){this.inflate(e.x,e.y)},intersection:function(e,i){null==i&&(i=new je);var s=this.x<e.x?e.x:this.x,n=this.get_right()>e.get_right()?e.get_right():this.get_right();if(n<=s)return i.setEmpty(),i;var o=this.y<e.y?e.y:this.y;return(e=this.get_bottom()>e.get_bottom()?e.get_bottom():this.get_bottom())<=o?(i.setEmpty(),i):(i.x=s,i.y=o,i.width=n-s,i.height=e-o,i)},intersects:function(e){var i=this.x<e.x?e.x:this.x;return!((this.get_right()>e.get_right()?e.get_right():this.get_right())<=i)&&(i=this.y<e.y?e.y:this.y,(this.get_bottom()>e.get_bottom()?e.get_bottom():this.get_bottom())>i)},isEmpty:function(){return 0>=this.width||0>=this.height},offset:function(e,i){this.x+=e,this.y+=i},offsetVector:function(e){this.x+=e.x,this.y+=e.y},setEmpty:function(){this.x=this.y=this.width=this.height=0},setTo:function(e,i,s,n){this.x=e,this.y=i,this.width=s,this.height=n},union:function(e,i){if(null==i&&(i=new je),0==this.width||0==this.height)i.copyFrom(e);else if(0==e.width||0==e.height)i.copyFrom(this);else{var s=this.x>e.x?e.x:this.x,n=this.get_right()<e.get_right()?e.get_right():this.get_right(),o=this.y>e.y?e.y:this.y;e=this.get_bottom()<e.get_bottom()?e.get_bottom():this.get_bottom(),i.setTo(s,o,n-s,e-o)}return i},__toFlashRectangle:function(){return null},get_bottom:function(){return this.y+this.height},set_bottom:function(e){return this.height=e-this.y,e},get_bottomRight:function(){return new Fd(this.x+this.width,this.y+this.height)},set_bottomRight:function(e){return this.width=e.x-this.x,this.height=e.y-this.y,e.clone()},get_left:function(){return this.x},set_left:function(e){return this.width-=e-this.x,this.x=e},get_right:function(){return this.x+this.width},set_right:function(e){return this.width=e-this.x,e},get_size:function(){return new Fd(this.width,this.height)},set_size:function(e){return this.width=e.x,this.height=e.y,e.clone()},get_top:function(){return this.y},set_top:function(e){return this.height-=e-this.y,this.y=e},get_topLeft:function(){return new Fd(this.x,this.y)},set_topLeft:function(e){return this.x=e.x,this.y=e.y,e.clone()},__class__:je,__properties__:{set_topLeft:"set_topLeft",get_topLeft:"get_topLeft",set_top:"set_top",get_top:"get_top",set_size:"set_size",get_size:"get_size",set_right:"set_right",get_right:"get_right",set_left:"set_left",get_left:"get_left",set_bottomRight:"set_bottomRight",get_bottomRight:"get_bottomRight",set_bottom:"set_bottom",get_bottom:"get_bottom"}};var Fd=function(e,i){null==i&&(i=0),null==e&&(e=0),this.x=e,this.y=i};k["lime.math.Vector2"]=Fd,Fd.__name__="lime.math.Vector2",Fd.distance=function(e,i){var s=e.x-i.x;return e=e.y-i.y,Math.sqrt(s*s+e*e)},Fd.interpolate=function(e,i,s,n){return null==n&&(n=new Fd),n.x=i.x+s*(e.x-i.x),n.y=i.y+s*(e.y-i.y),n},Fd.polar=function(e,i,s){null==s&&(s=new Fd);var n=e*Math.sin(i);return s.x=e*Math.cos(i),s.y=n,s},Fd.prototype={x:null,y:null,add:function(e,i){return null==i&&(i=new Fd),i.x=e.x+this.x,i.y=e.y+this.y,i},clone:function(){return new Fd(this.x,this.y)},equals:function(e){return null!=e&&e.x==this.x&&e.y==this.y},normalize:function(e){(0!=this.x||0!=this.y)&&(e/=Math.sqrt(this.x*this.x+this.y*this.y),this.x*=e,this.y*=e)},offset:function(e,i){this.x+=e,this.y+=i},setTo:function(e,i){this.x=e,this.y=i},subtract:function(e,i){return null==i&&(i=new Fd),i.x=this.x-e.x,i.y=this.y-e.y,i},__toFlashPoint:function(){return null},get_length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},get_lengthSquared:function(){return this.x*this.x+this.y*this.y},__class__:Fd,__properties__:{get_lengthSquared:"get_lengthSquared",get_length:"get_length"}};var Jc=function(e,i,s,n){null==n&&(n=0),null==s&&(s=0),null==i&&(i=0),null==e&&(e=0),this.w=n,this.x=e,this.y=i,this.z=s};k["lime.math.Vector4"]=Jc,Jc.__name__="lime.math.Vector4",Jc.__properties__={get_Z_AXIS:"get_Z_AXIS",get_Y_AXIS:"get_Y_AXIS",get_X_AXIS:"get_X_AXIS"},Jc.angleBetween=function(e,i){e=new Jc(e.x,e.y,e.z,e.w);var s=Math.sqrt(e.x*e.x+e.y*e.y+e.z*e.z);return 0!=s&&(e.x/=s,e.y/=s,e.z/=s),i=new Jc(i.x,i.y,i.z,i.w),0!=(s=Math.sqrt(i.x*i.x+i.y*i.y+i.z*i.z))&&(i.x/=s,i.y/=s,i.z/=s),Math.acos(e.x*i.x+e.y*i.y+e.z*i.z)},Jc.distance=function(e,i){var s=i.x-e.x,n=i.y-e.y;return e=i.z-e.z,Math.sqrt(s*s+n*n+e*e)},Jc.distanceSquared=function(e,i){var s=i.x-e.x,n=i.y-e.y;return s*s+n*n+(e=i.z-e.z)*e},Jc.get_X_AXIS=function(){return new Jc(1,0,0)},Jc.get_Y_AXIS=function(){return new Jc(0,1,0)},Jc.get_Z_AXIS=function(){return new Jc(0,0,1)},Jc.prototype={w:null,x:null,y:null,z:null,add:function(e,i){return null==i&&(i=new Jc),i.x=this.x+e.x,i.y=this.y+e.y,i.z=this.z+e.z,i},clone:function(){return new Jc(this.x,this.y,this.z,this.w)},copyFrom:function(e){this.x=e.x,this.y=e.y,this.z=e.z},crossProduct:function(e,i){null==i&&(i=new Jc);var s=this.z*e.x-this.x*e.z,n=this.x*e.y-this.y*e.x;return i.x=this.y*e.z-this.z*e.y,i.y=s,i.z=n,i.w=1,i},decrementBy:function(e){this.x-=e.x,this.y-=e.y,this.z-=e.z},dotProduct:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},equals:function(e,i){return null==i&&(i=!1),this.x==e.x&&this.y==e.y&&this.z==e.z&&(!i||this.w==e.w)},incrementBy:function(e){this.x+=e.x,this.y+=e.y,this.z+=e.z},nearEquals:function(e,i,s){return null==s&&(s=!1),Math.abs(this.x-e.x)<i&&Math.abs(this.y-e.y)<i&&Math.abs(this.z-e.z)<i&&(!s||Math.abs(this.w-e.w)<i)},negate:function(){this.x*=-1,this.y*=-1,this.z*=-1},normalize:function(){var e=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z);return 0!=e&&(this.x/=e,this.y/=e,this.z/=e),e},project:function(){this.x/=this.w,this.y/=this.w,this.z/=this.w},scaleBy:function(e){this.x*=e,this.y*=e,this.z*=e},setTo:function(e,i,s){this.x=e,this.y=i,this.z=s},subtract:function(e,i){return null==i&&(i=new Jc),i.x=this.x-e.x,i.y=this.y-e.y,i.z=this.z-e.z,i},toString:function(){return"Vector4("+this.x+", "+this.y+", "+this.z+")"},get_length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},get_lengthSquared:function(){return this.x*this.x+this.y*this.y+this.z*this.z},__class__:Jc,__properties__:{get_lengthSquared:"get_lengthSquared",get_length:"get_length"}};var id=function(){};k["lime.media.AudioBuffer"]=id,id.__name__="lime.media.AudioBuffer",id.fromBase64=function(e){if(null==e)return null;-1==e.indexOf(",")&&(e="data:"+id.__getCodec(og.decode(e))+";base64,"+e);var i=new id;return i.set_src(new Howl({src:[e],html5:!0,preload:!1})),i},id.fromBytes=function(e){if(null==e)return null;var i=new id;return i.set_src(new Howl({src:["data:"+id.__getCodec(e)+";base64,"+og.encode(e)],html5:!0,preload:!1})),i},id.fromFile=function(e){if(null==e)return null;var i=new id;return i.__srcHowl=new Howl({src:[e],preload:!1}),i},id.fromFiles=function(e){var i=new id;return i.__srcHowl=new Howl({src:e,preload:!1}),i},id.fromVorbisFile=function(e){return null},id.loadFromFile=function(e){var i=new Sd,s=id.fromFile(e);return null!=s?null!=s&&(s.__srcHowl.on("load",function(){i.complete(s)}),s.__srcHowl.on("loaderror",function(n,o){i.error(o)}),s.__srcHowl.load()):i.error(null),i.future},id.loadFromFiles=function(e){var i=new Sd,s=id.fromFiles(e);return null!=s?(s.__srcHowl.on("load",function(){i.complete(s)}),s.__srcHowl.on("loaderror",function(){i.error(null)}),s.__srcHowl.load()):i.error(null),i.future},id.__getCodec=function(e){switch(e.getString(0,4)){case"OggS":return"audio/ogg";case"RIFF":if("WAVE"==e.getString(8,4))return"audio/wav";var i=e.b[2],s=e.b[1];switch(e.b[0]){case 73:if(68==s&&51==i)return"audio/mp3";break;case 255:switch(s){case 243:case 250:case 251:return"audio/mp3"}}break;case"fLaC":return"audio/flac";default:switch(i=e.b[2],s=e.b[1],e.b[0]){case 73:if(68==s&&51==i)return"audio/mp3";break;case 255:switch(s){case 243:case 250:case 251:return"audio/mp3"}}}return Ua.error("Unsupported sound format",{fileName:"lime/media/AudioBuffer.hx",lineNumber:362,className:"lime.media.AudioBuffer",methodName:"__getCodec"}),null},id.prototype={bitsPerSample:null,channels:null,data:null,sampleRate:null,__srcAudio:null,__srcBuffer:null,__srcCustom:null,__srcHowl:null,__srcSound:null,__srcVorbisFile:null,dispose:function(){this.__srcHowl.unload()},get_src:function(){return this.__srcHowl},set_src:function(e){return this.__srcHowl=e},__class__:id,__properties__:{set_src:"set_src",get_src:"get_src"}};var Wq=function(e){if("custom"!=e){if(null==e||"web"==e)try{window.AudioContext=window.AudioContext||window.webkitAudioContext,this.web=new window.AudioContext,this.type="web"}catch(i){ha.lastException=i}null==this.web&&"web"!=e&&(this.html5=new Vq,this.type="html5")}else this.type="custom"};k["lime.media.AudioContext"]=Wq,Wq.__name__="lime.media.AudioContext",Wq.prototype={custom:null,flash:null,html5:null,openal:null,type:null,web:null,__class__:Wq};var Mc=function(){};k["lime.media.AudioManager"]=Mc,Mc.__name__="lime.media.AudioManager",Mc.init=function(e){if(null==Mc.context){if(null==e&&(Mc.context=new Wq,"openal"==(e=Mc.context).type)){var i=e.openal,s=i.openDevice();s=i.createContext(s),i.makeContextCurrent(s),i.processContext(s)}Mc.context=e}},Mc.resume=function(){if(null!=Mc.context&&"openal"==Mc.context.type){var e=Mc.context.openal,i=e.getCurrentContext();if(null!=i){var s=e.getContextsDevice(i);e.resumeDevice(s),e.processContext(i)}}},Mc.addAudioSource=function(e){-1==Mc.audioSources.indexOf(e)&&Mc.audioSources.push(e)},Mc.removeAudioSource=function(e){0<=Mc.audioSources.indexOf(e)&&Mc.sourcesToRemove.push(e)},Mc.update=function(){for(var e=0,i=Mc.audioSources;e<i.length;){var s=i[e];++e,s.update()}for(;0<Mc.sourcesToRemove.length;)e=Mc.sourcesToRemove.pop(),-1!=Mc.audioSources.indexOf(e)&&B.remove(Mc.audioSources,e)},Mc.shutdown=function(){if(null!=Mc.context&&"openal"==Mc.context.type){var e=Mc.context.openal,i=e.getCurrentContext();if(null!=i){var s=e.getContextsDevice(i);e.makeContextCurrent(null),e.destroyContext(i),null!=s&&e.closeDevice(s)}}Mc.context=null},Mc.suspend=function(){if(null!=Mc.context&&"openal"==Mc.context.type){var e=Mc.context.openal,i=e.getCurrentContext();null!=i&&(e.suspendContext(i),null!=(i=e.getContextsDevice(i))&&e.pauseDevice(i))}};var jl=function(e,i,s,n){null==n&&(n=0),null==i&&(i=0),this.id=jl.ID++,this.onComplete=new be,this.buffer=e,this.offset=i,this.__backend=new yq(this),null!=s&&0!=s&&this.set_length(s),this.set_loops(n),null!=e&&this.init()};k["lime.media.AudioSource"]=jl,jl.__name__="lime.media.AudioSource",jl.prototype={onComplete:null,id:null,buffer:null,offset:null,_pan:null,_position:null,__backend:null,dispose:function(){this.__backend.dispose(),Mc.removeAudioSource(this)},init:function(){this.__backend.init(),Mc.addAudioSource(this)},play:function(){this.__backend.play()},pause:function(){this.__backend.pause()},stop:function(){this.__backend.stop()},update:function(){this.__backend.update()},get_currentTime:function(){return this.__backend.getCurrentTime()},set_currentTime:function(e){return this.__backend.setCurrentTime(e)},get_gain:function(){return this.__backend.getGain()},set_gain:function(e){return this.__backend.setGain(e)},get_length:function(){return this.__backend.getLength()},set_length:function(e){return this.__backend.setLength(e)},get_loops:function(){return this.__backend.getLoops()},set_loops:function(e){return this.__backend.setLoops(e)},get_pan:function(){return this._pan},set_pan:function(e){return null!=this._position?this._pan:(null==e&&(this._pan=this.__backend.setPan(0)),this._pan=this.__backend.setPan(e))},get_position:function(){return this._position},set_position:function(e){return null!=this._pan?this._position:(null==e&&(this._position=this.__backend.setPosition(new Jc(0,0,0,0))),this._position=this.__backend.setPosition(e))},__class__:jl,__properties__:{set_position:"set_position",get_position:"get_position",set_pan:"set_pan",get_pan:"get_pan",set_loops:"set_loops",get_loops:"get_loops",set_length:"set_length",get_length:"get_length",set_gain:"set_gain",get_gain:"get_gain",set_currentTime:"set_currentTime",get_currentTime:"get_currentTime"}};var ms=function(){};k["lime.media.FlashAudioContext"]=ms,ms.__name__="lime.media.FlashAudioContext",ms.prototype={createBuffer:function(e,i){return null},getBytesLoaded:function(e){return 0},getBytesTotal:function(e){return 0},getID3:function(e){return null},getIsBuffering:function(e){return!1},getIsURLInaccessible:function(e){return!1},getLength:function(e){return 0},getURL:function(e){return null},close:function(e){},extract:function(e,i,s,n){return 0},load:function(e,i,s){},loadCompressedDataFromByteArray:function(e,i,s){},loadPCMFromByteArray:function(e,i,s,n,o,l){},play:function(e,i,s,n){return null},__class__:ms};var Vq=function(){this.NETWORK_NO_SOURCE=3,this.NETWORK_LOADING=2,this.NETWORK_IDLE=1,this.HAVE_NOTHING=this.NETWORK_EMPTY=0,this.HAVE_METADATA=1,this.HAVE_FUTURE_DATA=3,this.HAVE_ENOUGH_DATA=4,this.HAVE_CURRENT_DATA=2};k["lime.media.HTML5AudioContext"]=Vq,Vq.__name__="lime.media.HTML5AudioContext",Vq.prototype={HAVE_CURRENT_DATA:null,HAVE_ENOUGH_DATA:null,HAVE_FUTURE_DATA:null,HAVE_METADATA:null,HAVE_NOTHING:null,NETWORK_EMPTY:null,NETWORK_IDLE:null,NETWORK_LOADING:null,NETWORK_NO_SOURCE:null,canPlayType:function(e,i){return null!=e.__srcAudio?e.__srcAudio.canPlayType(i):null},createBuffer:function(e){var i=new id;return i.__srcAudio=new Audio,i.__srcAudio.src=e,i},getAutoplay:function(e){return null!=e.__srcAudio&&e.__srcAudio.autoplay},getBuffered:function(e){return null!=e.__srcAudio?e.__srcAudio.buffered:null},getCurrentSrc:function(e){return null!=e.__srcAudio?e.__srcAudio.currentSrc:null},getCurrentTime:function(e){return null!=e.__srcAudio?e.__srcAudio.currentTime:0},getDefaultPlaybackRate:function(e){return null!=e.__srcAudio?e.__srcAudio.defaultPlaybackRate:1},getDuration:function(e){return null!=e.__srcAudio?e.__srcAudio.duration:0},getEnded:function(e){return null!=e.__srcAudio&&e.__srcAudio.ended},getError:function(e){return null!=e.__srcAudio?e.__srcAudio.error:null},getLoop:function(e){return null!=e.__srcAudio&&e.__srcAudio.loop},getMuted:function(e){return null!=e.__srcAudio&&e.__srcAudio.muted},getNetworkState:function(e){return null!=e.__srcAudio?e.__srcAudio.networkState:0},getPaused:function(e){return null!=e.__srcAudio&&e.__srcAudio.paused},getPlaybackRate:function(e){return null!=e.__srcAudio?e.__srcAudio.playbackRate:1},getPlayed:function(e){return null!=e.__srcAudio?e.__srcAudio.played:null},getPreload:function(e){return null!=e.__srcAudio?e.__srcAudio.preload:null},getReadyState:function(e){return null!=e.__srcAudio?e.__srcAudio.readyState:0},getSeekable:function(e){return null!=e.__srcAudio?e.__srcAudio.seekable:null},getSeeking:function(e){return null!=e.__srcAudio&&e.__srcAudio.seeking},getSrc:function(e){return null!=e.__srcAudio?e.__srcAudio.src:null},getStartTime:function(e){return null!=e.__srcAudio?e.__srcAudio.playbackRate:0},getVolume:function(e){return null!=e.__srcAudio?e.__srcAudio.volume:1},load:function(e){null!=e.__srcAudio&&e.__srcAudio.load()},pause:function(e){null!=e.__srcAudio&&e.__srcAudio.pause()},play:function(e){null!=e.__srcAudio&&e.__srcAudio.play()},setAutoplay:function(e,i){null!=e.__srcAudio&&(e.__srcAudio.autoplay=i)},setCurrentTime:function(e,i){null!=e.__srcAudio&&(e.__srcAudio.currentTime=i)},setDefaultPlaybackRate:function(e,i){null!=e.__srcAudio&&(e.__srcAudio.defaultPlaybackRate=i)},setLoop:function(e,i){null!=e.__srcAudio&&(e.__srcAudio.loop=i)},setMuted:function(e,i){null!=e.__srcAudio&&(e.__srcAudio.muted=i)},setPlaybackRate:function(e,i){null!=e.__srcAudio&&(e.__srcAudio.playbackRate=i)},setPreload:function(e,i){null!=e.__srcAudio&&(e.__srcAudio.preload=i)},setSrc:function(e,i){null!=e.__srcAudio&&(e.__srcAudio.src=i)},setVolume:function(e,i){null!=e.__srcAudio&&(e.__srcAudio.volume=i)},__class__:Vq};var ns=function(){this.ALL_DEVICES_SPECIFIER=4115,this.DEFAULT_ALL_DEVICES_SPECIFIER=4114,this.ENUMERATE_ALL_EXT=1,this.DEVICE_SPECIFIER=4101,this.DEFAULT_DEVICE_SPECIFIER=4100,this.ALL_ATTRIBUTES=4099,this.ATTRIBUTES_SIZE=4098,this.INVALID_CONTEXT=40962,this.INVALID_DEVICE=40961,this.STEREO_SOURCES=4113,this.MONO_SOURCES=4112,this.SYNC=4105,this.REFRESH=4104,this.EXPONENT_DISTANCE_CLAMPED=53254,this.EXPONENT_DISTANCE=53253,this.LINEAR_DISTANCE_CLAMPED=53252,this.LINEAR_DISTANCE=53251,this.INVERSE_DISTANCE_CLAMPED=53250,this.INVERSE_DISTANCE=53249,this.DISTANCE_MODEL=53248,this.DOPPLER_VELOCITY=49153,this.SPEED_OF_SOUND=49155,this.DOPPLER_FACTOR=49152,this.EXTENSIONS=45060,this.RENDERER=45059,this.VERSION=45058,this.VENDOR=45057,this.OUT_OF_MEMORY=40965,this.INVALID_OPERATION=40964,this.INVALID_VALUE=40963,this.INVALID_ENUM=40962,this.INVALID_NAME=40961,this.NO_ERROR=0,this.SIZE=8196,this.CHANNELS=8195,this.BITS=8194,this.FREQUENCY=8193,this.FORMAT_STEREO16=4355,this.FORMAT_STEREO8=4354,this.FORMAT_MONO16=4353,this.FORMAT_MONO8=4352,this.UNDETERMINED=4144,this.STREAMING=4137,this.STATIC=4136,this.SOURCE_TYPE=4135,this.BYTE_OFFSET=4134,this.SAMPLE_OFFSET=4133,this.SEC_OFFSET=4132,this.MAX_DISTANCE=4131,this.CONE_OUTER_GAIN=4130,this.ROLLOFF_FACTOR=4129,this.REFERENCE_DISTANCE=4128,this.BUFFERS_PROCESSED=4118,this.BUFFERS_QUEUED=4117,this.STOPPED=4116,this.PAUSED=4115,this.PLAYING=4114,this.INITIAL=4113,this.SOURCE_STATE=4112,this.ORIENTATION=4111,this.MAX_GAIN=4110,this.MIN_GAIN=4109,this.GAIN=4106,this.BUFFER=4105,this.LOOPING=4103,this.VELOCITY=4102,this.DIRECTION=4101,this.POSITION=4100,this.PITCH=4099,this.CONE_OUTER_ANGLE=4098,this.CONE_INNER_ANGLE=4097,this.SOURCE_RELATIVE=514,this.TRUE=1,this.NONE=this.FALSE=0};k["lime.media.OpenALAudioContext"]=ns,ns.__name__="lime.media.OpenALAudioContext",ns.prototype={NONE:null,FALSE:null,TRUE:null,SOURCE_RELATIVE:null,CONE_INNER_ANGLE:null,CONE_OUTER_ANGLE:null,PITCH:null,POSITION:null,DIRECTION:null,VELOCITY:null,LOOPING:null,BUFFER:null,GAIN:null,MIN_GAIN:null,MAX_GAIN:null,ORIENTATION:null,SOURCE_STATE:null,INITIAL:null,PLAYING:null,PAUSED:null,STOPPED:null,BUFFERS_QUEUED:null,BUFFERS_PROCESSED:null,REFERENCE_DISTANCE:null,ROLLOFF_FACTOR:null,CONE_OUTER_GAIN:null,MAX_DISTANCE:null,SEC_OFFSET:null,SAMPLE_OFFSET:null,BYTE_OFFSET:null,SOURCE_TYPE:null,STATIC:null,STREAMING:null,UNDETERMINED:null,FORMAT_MONO8:null,FORMAT_MONO16:null,FORMAT_STEREO8:null,FORMAT_STEREO16:null,FREQUENCY:null,BITS:null,CHANNELS:null,SIZE:null,NO_ERROR:null,INVALID_NAME:null,INVALID_ENUM:null,INVALID_VALUE:null,INVALID_OPERATION:null,OUT_OF_MEMORY:null,VENDOR:null,VERSION:null,RENDERER:null,EXTENSIONS:null,DOPPLER_FACTOR:null,SPEED_OF_SOUND:null,DOPPLER_VELOCITY:null,DISTANCE_MODEL:null,INVERSE_DISTANCE:null,INVERSE_DISTANCE_CLAMPED:null,LINEAR_DISTANCE:null,LINEAR_DISTANCE_CLAMPED:null,EXPONENT_DISTANCE:null,EXPONENT_DISTANCE_CLAMPED:null,REFRESH:null,SYNC:null,MONO_SOURCES:null,STEREO_SOURCES:null,INVALID_DEVICE:null,INVALID_CONTEXT:null,ATTRIBUTES_SIZE:null,ALL_ATTRIBUTES:null,DEFAULT_DEVICE_SPECIFIER:null,DEVICE_SPECIFIER:null,ENUMERATE_ALL_EXT:null,DEFAULT_ALL_DEVICES_SPECIFIER:null,ALL_DEVICES_SPECIFIER:null,bufferData:function(e,i,s,n,o){H.bufferData(e,i,s,n,o)},buffer3f:function(e,i,s,n,o){H.buffer3f(e,i,s,n,o)},buffer3i:function(e,i,s,n,o){H.buffer3i(e,i,s,n,o)},bufferf:function(e,i,s){H.bufferf(e,i,s)},bufferfv:function(e,i,s){H.bufferfv(e,i,s)},bufferi:function(e,i,s){H.bufferi(e,i,s)},bufferiv:function(e,i,s){H.bufferiv(e,i,s)},closeDevice:function(e){return Mb.closeDevice(e)},createContext:function(e,i){return Mb.createContext(e,i)},createBuffer:function(){return H.createBuffer()},createSource:function(){return H.createSource()},deleteBuffer:function(e){H.deleteBuffer(e)},deleteBuffers:function(e){H.deleteBuffers(e)},deleteSource:function(e){H.deleteSource(e)},deleteSources:function(e){H.deleteSources(e)},destroyContext:function(e){null!=e&&Mb.destroyContext(e)},disable:function(e){H.disable(e)},distanceModel:function(e){H.distanceModel(e)},dopplerFactor:function(e){H.dopplerFactor(e)},dopplerVelocity:function(e){H.dopplerVelocity(e)},enable:function(e){H.enable(e)},genSource:function(){return this.createSource()},genSources:function(e){return H.genSources(e)},genBuffer:function(){return this.createBuffer()},genBuffers:function(e){return H.genBuffers(e)},getBoolean:function(e){return H.getBoolean(e)},getBooleanv:function(e,i){return null==i&&(i=1),H.getBooleanv(e,i)},getBuffer3f:function(e,i){return H.getBuffer3f(e,i)},getBuffer3i:function(e,i){return H.getBuffer3i(e,i)},getBufferf:function(e,i){return H.getBufferf(e,i)},getBufferfv:function(e,i,s){return null==s&&(s=1),H.getBufferfv(e,i,s)},getBufferi:function(e,i){return H.getBufferi(e,i)},getBufferiv:function(e,i,s){return null==s&&(s=1),H.getBufferiv(e,i,s)},getContextsDevice:function(e){return null==e?null:Mb.getContextsDevice(e)},getCurrentContext:function(){return Mb.getCurrentContext()},getDouble:function(e){return H.getDouble(e)},getDoublev:function(e,i){return null==i&&(i=1),H.getDoublev(e,i)},getEnumValue:function(e){return H.getEnumValue(e)},getError:function(e){return null==e?H.getError():Mb.getError(e)},getErrorString:function(e){return null==e?H.getErrorString():Mb.getErrorString(e)},getFloat:function(e){return H.getFloat(e)},getFloatv:function(e,i){return null==i&&(i=1),H.getFloatv(e,i)},getInteger:function(e){return H.getInteger(e)},getIntegerv:function(e,i,s){return null==i&&(i=1),null==s?H.getIntegerv(e,i):Mb.getIntegerv(s,e,i)},getListener3f:function(e){return H.getListener3f(e)},getListener3i:function(e){return H.getListener3i(e)},getListenerf:function(e){return H.getListenerf(e)},getListenerfv:function(e,i){return null==i&&(i=1),H.getListenerfv(e,i)},getListeneri:function(e){return H.getListeneri(e)},getListeneriv:function(e,i){return null==i&&(i=1),H.getListeneriv(e,i)},getProcAddress:function(e){return H.getProcAddress(e)},getSource3f:function(e,i){return H.getSource3f(e,i)},getSourcef:function(e,i){return H.getSourcef(e,i)},getSource3i:function(e,i){return H.getSource3i(e,i)},getSourcefv:function(e,i,s){return H.getSourcefv(e,i)},getSourcei:function(e,i){return H.getSourcei(e,i)},getSourceiv:function(e,i,s){return null==s&&(s=1),H.getSourceiv(e,i,s)},getString:function(e,i){return null==i?H.getString(e):Mb.getString(i,e)},isBuffer:function(e){return H.isBuffer(e)},isEnabled:function(e){return H.isEnabled(e)},isExtensionPresent:function(e){return H.isExtensionPresent(e)},isSource:function(e){return H.isSource(e)},listener3f:function(e,i,s,n){H.listener3f(e,i,s,n)},listener3i:function(e,i,s,n){H.listener3i(e,i,s,n)},listenerf:function(e,i){H.listenerf(e,i)},listenerfv:function(e,i){H.listenerfv(e,i)},listeneri:function(e,i){H.listeneri(e,i)},listeneriv:function(e,i){H.listeneriv(e,i)},makeContextCurrent:function(e){return Mb.makeContextCurrent(e)},openDevice:function(e){return Mb.openDevice(e)},pauseDevice:function(e){Mb.pauseDevice(e)},processContext:function(e){Mb.processContext(e)},resumeDevice:function(e){Mb.resumeDevice(e)},source3f:function(e,i,s,n,o){H.source3f(e,i,s,n,o)},source3i:function(e,i,s,n,o){H.source3i(e,i,s,n,o)},sourcef:function(e,i,s){H.sourcef(e,i,s)},sourcefv:function(e,i,s){H.sourcefv(e,i,s)},sourcei:function(e,i,s){H.sourcei(e,i,s)},sourceiv:function(e,i,s){H.sourceiv(e,i,s)},sourcePlay:function(e){H.sourcePlay(e)},sourcePlayv:function(e){H.sourcePlayv(e)},sourceStop:function(e){H.sourceStop(e)},sourceStopv:function(e){H.sourceStopv(e)},sourceRewind:function(e){H.sourceRewind(e)},sourceRewindv:function(e){H.sourceRewindv(e)},sourcePause:function(e){H.sourcePause(e)},sourcePausev:function(e){H.sourcePausev(e)},sourceQueueBuffer:function(e,i){H.sourceQueueBuffer(e,i)},sourceQueueBuffers:function(e,i,s){H.sourceQueueBuffers(e,i,s)},sourceUnqueueBuffer:function(e){return H.sourceUnqueueBuffer(e)},sourceUnqueueBuffers:function(e,i){return H.sourceUnqueueBuffers(e,i)},speedOfSound:function(e){H.speedOfSound(e)},suspendContext:function(e){Mb.suspendContext(e)},__class__:ns};var H=function(){};k["lime.media.openal.AL"]=H,H.__name__="lime.media.openal.AL",H.removeDirectFilter=function(e){},H.removeSend=function(e,i){},H.auxf=function(e,i,s){},H.auxfv=function(e,i,s){},H.auxi=function(e,i,s){},H.auxiv=function(e,i,s){},H.bufferData=function(e,i,s,n,o){},H.buffer3f=function(e,i,s,n,o){},H.buffer3i=function(e,i,s,n,o){},H.bufferf=function(e,i,s){},H.bufferfv=function(e,i,s){},H.bufferi=function(e,i,s){},H.bufferiv=function(e,i,s){},H.createAux=function(){return null},H.createBuffer=function(){return null},H.createEffect=function(){return null},H.createFilter=function(){return null},H.createSource=function(){return null},H.deleteBuffer=function(e){},H.deleteBuffers=function(e){},H.deleteSource=function(e){},H.deleteSources=function(e){},H.disable=function(e){},H.distanceModel=function(e){},H.dopplerFactor=function(e){},H.dopplerVelocity=function(e){},H.effectf=function(e,i,s){},H.effectfv=function(e,i,s){},H.effecti=function(e,i,s){},H.effectiv=function(e,i,s){},H.enable=function(e){},H.genSource=function(){return null},H.genSources=function(e){return null},H.genBuffer=function(){return null},H.genBuffers=function(e){return null},H.getBoolean=function(e){return!1},H.getBooleanv=function(e,i){return null},H.getBuffer3f=function(e,i){return null},H.getBuffer3i=function(e,i){return null},H.getBufferf=function(e,i){return 0},H.getBufferfv=function(e,i,s){return null},H.getBufferi=function(e,i){return 0},H.getBufferiv=function(e,i,s){return null},H.getDouble=function(e){return 0},H.getDoublev=function(e,i){return null},H.getEnumValue=function(e){return 0},H.getError=function(){return 0},H.getErrorString=function(){switch(H.getError()){case 40961:return"INVALID_NAME: Invalid parameter name";case 40962:return"INVALID_ENUM: Invalid enum value";case 40963:return"INVALID_VALUE: Invalid parameter value";case 40964:return"INVALID_OPERATION: Illegal operation or call";case 40965:return"OUT_OF_MEMORY: OpenAL has run out of memory";default:return""}},H.getFilteri=function(e,i){return 0},H.getFloat=function(e){return 0},H.getFloatv=function(e,i){return null},H.getInteger=function(e){return 0},H.getIntegerv=function(e,i){return null},H.getListener3f=function(e){return null},H.getListener3i=function(e){return null},H.getListenerf=function(e){return 0},H.getListenerfv=function(e,i){return null},H.getListeneri=function(e){return 0},H.getListeneriv=function(e,i){return null},H.getParameter=function(e){return null},H.getProcAddress=function(e){return null},H.getSource3f=function(e,i){return null},H.getSourcef=function(e,i){return 0},H.getSource3i=function(e,i){return null},H.getSourcefv=function(e,i,s){return null},H.getSourcei=function(e,i){return 0},H.getSourceiv=function(e,i,s){return null},H.getString=function(e){return null},H.isBuffer=function(e){return!1},H.isEnabled=function(e){return!1},H.isExtensionPresent=function(e){return!1},H.isAux=function(e){return!1},H.isEffect=function(e){return!1},H.isFilter=function(e){return!1},H.isSource=function(e){return!1},H.listener3f=function(e,i,s,n){},H.listener3i=function(e,i,s,n){},H.listenerf=function(e,i){},H.listenerfv=function(e,i){},H.listeneri=function(e,i){},H.listeneriv=function(e,i){},H.source3f=function(e,i,s,n,o){},H.source3i=function(e,i,s,n,o){},H.sourcef=function(e,i,s){},H.sourcefv=function(e,i,s){},H.sourcei=function(e,i,s){},H.filteri=function(e,i,s){},H.filterf=function(e,i,s){},H.sourceiv=function(e,i,s){},H.sourcePlay=function(e){},H.sourcePlayv=function(e){},H.sourceStop=function(e){},H.sourceStopv=function(e){},H.sourceRewind=function(e){},H.sourceRewindv=function(e){},H.sourcePause=function(e){},H.sourcePausev=function(e){},H.sourceQueueBuffer=function(e,i){},H.sourceQueueBuffers=function(e,i,s){},H.sourceUnqueueBuffer=function(e){return 0},H.sourceUnqueueBuffers=function(e,i){return null},H.speedOfSound=function(e){};var Ts={};k["lime.media.openal._ALAuxiliaryEffectSlot.ALAuxiliaryEffectSlot_Impl_"]=Ts,Ts.__name__="lime.media.openal._ALAuxiliaryEffectSlot.ALAuxiliaryEffectSlot_Impl_",Ts._new=function(e){return e};var Us={};k["lime.media.openal._ALBuffer.ALBuffer_Impl_"]=Us,Us.__name__="lime.media.openal._ALBuffer.ALBuffer_Impl_",Us._new=function(e){return e};var Mb=function(){};k["lime.media.openal.ALC"]=Mb,Mb.__name__="lime.media.openal.ALC",Mb.closeDevice=function(e){return!1},Mb.createContext=function(e,i){return null},Mb.destroyContext=function(e){},Mb.getContextsDevice=function(e){return null},Mb.getCurrentContext=function(){return null},Mb.getError=function(e){return 0},Mb.getErrorString=function(e){switch(Mb.getError(e)){case 40961:return"INVALID_DEVICE: Invalid device (or no device?)";case 40962:return"INVALID_CONTEXT: Invalid context (or no context?)";case 40963:return"INVALID_ENUM: Invalid enum value";case 40964:return"INVALID_VALUE: Invalid param value";case 40965:return"OUT_OF_MEMORY: OpenAL has run out of memory";default:return""}},Mb.getIntegerv=function(e,i,s){return null},Mb.getString=function(e,i){return null},Mb.makeContextCurrent=function(e){return!1},Mb.openDevice=function(e){return null},Mb.pauseDevice=function(e){},Mb.processContext=function(e){},Mb.resumeDevice=function(e){},Mb.suspendContext=function(e){};var Vs={};k["lime.media.openal._ALContext.ALContext_Impl_"]=Vs,Vs.__name__="lime.media.openal._ALContext.ALContext_Impl_",Vs._new=function(e){return e};var Ws={};k["lime.media.openal._ALDevice.ALDevice_Impl_"]=Ws,Ws.__name__="lime.media.openal._ALDevice.ALDevice_Impl_",Ws._new=function(e){return e};var Xs={};k["lime.media.openal._ALEffect.ALEffect_Impl_"]=Xs,Xs.__name__="lime.media.openal._ALEffect.ALEffect_Impl_",Xs._new=function(e){return e};var Ys={};k["lime.media.openal._ALFilter.ALFilter_Impl_"]=Ys,Ys.__name__="lime.media.openal._ALFilter.ALFilter_Impl_",Ys._new=function(e){return e};var Zs={};k["lime.media.openal._ALSource.ALSource_Impl_"]=Zs,Zs.__name__="lime.media.openal._ALSource.ALSource_Impl_",Zs._new=function(e){return e};var os=function(){};k["lime.media.vorbis.VorbisComment"]=os,os.__name__="lime.media.vorbis.VorbisComment",os.prototype={userComments:null,vendor:null,__class__:os};var qo=function(e){this.handle=e};k["lime.media.vorbis.VorbisFile"]=qo,qo.__name__="lime.media.vorbis.VorbisFile",qo.fromBytes=function(e){return null},qo.fromFile=function(e){return null},qo.prototype={bitstream:null,handle:null,bitrate:function(e){return 0},bitrateInstant:function(){return 0},clear:function(){},comment:function(e){return null},crosslap:function(e){return 0},info:function(e){return null},pcmSeek:function(e){return 0},pcmSeekLap:function(e){return 0},pcmSeekPage:function(e){return 0},pcmSeekPageLap:function(e){return 0},pcmTell:function(){return new Qb(0,0)},pcmTotal:function(e){return new Qb(0,0)},rawSeek:function(e){return 0},rawSeekLap:function(e){return 0},rawTell:function(){return new Qb(0,0)},rawTotal:function(e){return new Qb(0,0)},read:function(e,i,s,n,o,l){return 0},readFloat:function(e,i){return 0},seekable:function(){return!1},serialNumber:function(e){return 0},streams:function(){return 0},timeSeek:function(e){return 0},timeSeekLap:function(e){return 0},timeSeekPage:function(e){return 0},timeSeekPageLap:function(e){return 0},timeTell:function(){return 0},timeTotal:function(e){return 0},__class__:qo};var ps=function(){};k["lime.media.vorbis.VorbisInfo"]=ps,ps.__name__="lime.media.vorbis.VorbisInfo",ps.prototype={bitrateLower:null,bitrateNominal:null,bitrateUpper:null,channels:null,rate:null,version:null,__class__:ps};var ro=function(){};k["lime.net._IHTTPRequest"]=ro,ro.__name__="lime.net._IHTTPRequest",ro.__isInterface__=!0,ro.prototype={contentType:null,data:null,enableResponseHeaders:null,followRedirects:null,formData:null,headers:null,method:null,responseHeaders:null,responseStatus:null,timeout:null,uri:null,userAgent:null,withCredentials:null,cancel:null,__class__:ro};var Cf=function(e){this.uri=e,this.contentType="application/x-www-form-urlencoded",this.followRedirects=!0,this.enableResponseHeaders=!1,this.formData=new va,this.headers=[],this.method="GET",this.timeout=3e4,this.withCredentials=!1,this.__backend=new Ta,this.__backend.init(this)};k["lime.net._HTTPRequest.AbstractHTTPRequest"]=Cf,Cf.__name__="lime.net._HTTPRequest.AbstractHTTPRequest",Cf.__interfaces__=[ro],Cf.prototype={contentType:null,data:null,enableResponseHeaders:null,followRedirects:null,formData:null,headers:null,method:null,responseData:null,responseHeaders:null,responseStatus:null,timeout:null,uri:null,userAgent:null,withCredentials:null,__backend:null,cancel:function(){this.__backend.cancel()},load:function(e){return null},__class__:Cf};var Xq=function(e){Cf.call(this,e)};k["lime.net.HTTPRequest"]=Xq,Xq.__name__="lime.net.HTTPRequest",Xq.__super__=Cf,Xq.prototype=x(Cf.prototype,{__class__:Xq});var Bh=function(e){Cf.call(this,e)};k["lime.net._HTTPRequest_Bytes"]=Bh,Bh.__name__="lime.net._HTTPRequest_Bytes",Bh.__super__=Cf,Bh.prototype=x(Cf.prototype,{fromBytes:function(e){return e},load:function(e){var i=this;null!=e&&(this.uri=e);var s=new Sd;return(e=this.__backend.loadData(this.uri)).onProgress(r(s,s.progress)),e.onError(r(s,s.error)),e.onComplete(function(n){i.responseData=i.fromBytes(n),s.complete(i.responseData)}),s.future},__class__:Bh});var kl=function(e){Cf.call(this,e)};k["lime.net._HTTPRequest_String"]=kl,kl.__name__="lime.net._HTTPRequest_String",kl.__super__=Cf,kl.prototype=x(Cf.prototype,{load:function(e){var i=this;null!=e&&(this.uri=e);var s=new Sd;return(e=this.__backend.loadText(this.uri)).onProgress(r(s,s.progress)),e.onError(r(s,s.error)),e.onComplete(function(n){i.responseData=n,s.complete(i.responseData)}),s.future},__class__:kl});var eo=function(e,i){null==i&&(i=""),this.name=e,this.value=i};k["lime.net.HTTPRequestHeader"]=eo,eo.__name__="lime.net.HTTPRequestHeader",eo.prototype={name:null,value:null,__class__:eo};var so=function(e){Cf.call(this,e)};k["lime.net._HTTPRequest_lime_text_Font"]=so,so.__name__="lime.net._HTTPRequest_lime_text_Font",so.__super__=Bh,so.prototype=x(Bh.prototype,{fromBytes:function(e){return de.fromBytes(e)},__class__:so});var to=function(e){Cf.call(this,e)};k["lime.net._HTTPRequest_lime_utils_Bytes"]=to,to.__name__="lime.net._HTTPRequest_lime_utils_Bytes",to.__super__=Bh,to.prototype=x(Bh.prototype,{fromBytes:function(e){return Rc.fromBytes(e)},__class__:to});var uo=function(e){Cf.call(this,e)};k["lime.net._HTTPRequest_openfl_utils_ByteArray"]=uo,uo.__name__="lime.net._HTTPRequest_openfl_utils_ByteArray",uo.__super__=Bh,uo.prototype=x(Bh.prototype,{fromBytes:function(e){return ta.fromBytes(e)},__class__:uo});var Ch=function(){};k["lime.system.CFFI"]=Ch,Ch.__name__="lime.system.CFFI",Ch.load=function(e,i,s,n){return null==n&&(n=!1),null==s&&(s=0),Ch.enabled?null:X.makeVarArgs(function(o){return{}})},Ch.__findHaxelib=function(e){return""},Ch.__loaderTrace=function(e){},Ch.__sysName=function(){return null},Ch.__tryLoad=function(e,i,s,n){return null};var sc={};k["lime.system._CFFIPointer.CFFIPointer_Impl_"]=sc,sc.__name__="lime.system._CFFIPointer.CFFIPointer_Impl_",sc._new=function(e){return e},sc.get=function(e){return 0},sc.equals=function(e,i){return sc.get(e)==i},sc.equalsPointer=function(e,i){return sc.get(e)==sc.get(i)},sc.greaterThan=function(e,i){return sc.get(e)>i},sc.greaterThanPointer=function(e,i){return sc.get(e)>sc.get(i)},sc.greaterThanOrEqual=function(e,i){return sc.get(e)>=i},sc.greaterThanOrEqualPointer=function(e,i){return sc.get(e)>=sc.get(i)},sc.lessThan=function(e,i){return sc.get(e)<i},sc.lessThanPointer=function(e,i){return sc.get(e)<sc.get(i)},sc.lessThanOrEqual=function(e,i){return sc.get(e)<=i},sc.lessThanOrEqualPointer=function(e,i){return sc.get(e)<=sc.get(i)},sc.notEquals=function(e,i){return sc.get(e)!=i},sc.notEqualsPointer=function(e,i){return sc.get(e)!=sc.get(i)};var Ce=function(){};k["lime.system.Clipboard"]=Ce,Ce.__name__="lime.system.Clipboard",Ce.__properties__={set_text:"set_text",get_text:"get_text"},Ce.__update=function(){var e=Ce._text;Ce._text=null,Ce._text!=e&&Ce.onUpdate.dispatch()},Ce.get_text=function(){return Ce.__update(),Ce._text},Ce.set_text=function(e){var i=Ce._text;Ce._text=e;var s=We.current.__window;return s?.__backend.setClipboard(e),Ce._text!=i&&Ce.onUpdate.dispatch(),e};var Yq=function(){};k["lime.system.Display"]=Yq,Yq.__name__="lime.system.Display",Yq.prototype={bounds:null,currentMode:null,id:null,dpi:null,name:null,supportedModes:null,__class__:Yq};var Zq=function(e,i,s,n){this.width=e,this.height=i,this.refreshRate=s,this.pixelFormat=n};k["lime.system.DisplayMode"]=Zq,Zq.__name__="lime.system.DisplayMode",Zq.prototype={height:null,pixelFormat:null,refreshRate:null,width:null,__class__:Zq};var Oi=C["lime.system.Endian"]={__ename__:"lime.system.Endian",__constructs__:["LITTLE_ENDIAN","BIG_ENDIAN"],LITTLE_ENDIAN:{_hx_index:0,__enum__:"lime.system.Endian",toString:v},BIG_ENDIAN:{_hx_index:1,__enum__:"lime.system.Endian",toString:v}},Ne=function(){};k["lime.system.JNI"]=Ne,Ne.__name__="lime.system.JNI",Ne.callMember=function(e,i,s){switch(s.length){case 0:return e(i);case 1:return e(i,s[0]);case 2:return e(i,s[0],s[1]);case 3:return e(i,s[0],s[1],s[2]);case 4:return e(i,s[0],s[1],s[2],s[3]);case 5:return e(i,s[0],s[1],s[2],s[3],s[4]);case 6:return e(i,s[0],s[1],s[2],s[3],s[4],s[5]);case 7:return e(i,s[0],s[1],s[2],s[3],s[4],s[5],s[6]);default:return null}},Ne.callStatic=function(e,i){switch(i.length){case 0:return e();case 1:return e(i[0]);case 2:return e(i[0],i[1]);case 3:return e(i[0],i[1],i[2]);case 4:return e(i[0],i[1],i[2],i[3]);case 5:return e(i[0],i[1],i[2],i[3],i[4]);case 6:return e(i[0],i[1],i[2],i[3],i[4],i[5]);case 7:return e(i[0],i[1],i[2],i[3],i[4],i[5],i[6]);default:return null}},Ne.createMemberField=function(e,i,s){return Ne.init(),null},Ne.createMemberMethod=function(e,i,s,n,o){return Ne.init(),null},Ne.createStaticField=function(e,i,s){return Ne.init(),null},Ne.createStaticMethod=function(e,i,s,n,o){return Ne.init(),null},Ne.getEnv=function(){return Ne.init(),null},Ne.init=function(){Ne.initialized||(Ne.initialized=!0)},Ne.onCallback=function(e,i,s){return null!=(i=X.field(e,i))?(null==s&&(s=[]),i.apply(e,s)):null},Ne.postUICallback=function(e){e()};var qs=function(e){this.field=e};k["lime.system.JNIMemberField"]=qs,qs.__name__="lime.system.JNIMemberField",qs.prototype={field:null,get:function(e){return null},set:function(e,i){return i},__class__:qs};var rs=function(e){this.field=e};k["lime.system.JNIStaticField"]=rs,rs.__name__="lime.system.JNIStaticField",rs.prototype={field:null,get:function(){return null},set:function(e){return e},__class__:rs};var ss=function(e){this.method=e};k["lime.system.JNIMethod"]=ss,ss.__name__="lime.system.JNIMethod",ss.prototype={method:null,callMember:function(e){return null},callStatic:function(e){return null},getMemberMethod:function(e){return e?r(this,this.callMember):X.makeVarArgs(r(this,this.callMember))},getStaticMethod:function(e){return e?r(this,this.callStatic):X.makeVarArgs(r(this,this.callStatic))},__class__:ss};var yd={};k["lime.system._Locale.Locale_Impl_"]=yd,yd.__name__="lime.system._Locale.Locale_Impl_",yd.__properties__={get_region:"get_region",get_language:"get_language",get_systemLocale:"get_systemLocale",set_currentLocale:"set_currentLocale",get_currentLocale:"get_currentLocale"},yd._new=function(e){return e},yd.equals=function(e,i){var s=yd.get_language(e);e=yd.get_region(e);var n=yd.get_language(i),o=s==n,l=e==(i=yd.get_region(i));return o||null==s||null==n||(o=s.toLowerCase()==n.toLowerCase()),l||null==e||null==i||(l=e.toLowerCase()==i.toLowerCase()),!!o&&l},yd.__init=function(){if(null==yd.__systemLocale){var e=navigator.language;yd.__systemLocale=e??"en-US",yd.set_currentLocale(yd.__systemLocale)}},yd.get_language=function(e){if(null!=e){var i=e.indexOf("_");if(-1<i){var s=e.indexOf("-");return-1<s&&s<i&&(i=s),e.substring(0,i)}if(-1<(i=e.indexOf("-")))return e.substring(0,i)}return e},yd.get_region=function(e){if(null!=e){var i=e.indexOf("_"),s=e.indexOf("."),n=e.indexOf("-");if(-1<i)return-1<s?e.substring(i+1,s):e.substring(i+1);if(-1<n)return-1<s?e.substring(n+1,s):e.substring(n+1)}return null},yd.get_currentLocale=function(){return yd.__init(),yd.currentLocale},yd.set_currentLocale=function(e){return yd.__init(),yd.currentLocale=e},yd.get_systemLocale=function(){return yd.__init(),yd.__systemLocale};var ng=function(e,i){this.onUpdate=new Hq,this.type=e,this.id=i};k["lime.system.Sensor"]=ng,ng.__name__="lime.system.Sensor",ng.getSensors=function(e){if(null==e)return ng.sensors.slice();for(var i=[],s=0,n=ng.sensors;s<n.length;){var o=n[s];++s,o.type==e&&i.push(o)}return i},ng.registerSensor=function(e,i){return e=new ng(e,i),ng.sensors.push(e),ng.sensorByID.h[i]=e},ng.prototype={id:null,onUpdate:null,type:null,__class__:ng};var st=C["lime.system.SensorType"]={__ename__:"lime.system.SensorType",__constructs__:["ACCELEROMETER"],ACCELEROMETER:{_hx_index:0,__enum__:"lime.system.SensorType",toString:v}},Na=function(){};k["lime.system.System"]=Na,Na.__name__="lime.system.System",Na.__properties__={get_userDirectory:"get_userDirectory",get_platformVersion:"get_platformVersion",get_platformName:"get_platformName",get_platformLabel:"get_platformLabel",get_numDisplays:"get_numDisplays",get_fontsDirectory:"get_fontsDirectory",get_endianness:"get_endianness",get_documentsDirectory:"get_documentsDirectory",get_deviceVendor:"get_deviceVendor",get_deviceModel:"get_deviceModel",get_desktopDirectory:"get_desktopDirectory",get_applicationStorageDirectory:"get_applicationStorageDirectory",get_applicationDirectory:"get_applicationDirectory",set_allowScreenTimeout:"set_allowScreenTimeout",get_allowScreenTimeout:"get_allowScreenTimeout"},Na.embed=z.lime.embed=function(e,i,s,n,o){if(null!=Na.__applicationEntryPoint){var l=Na.__applicationEntryPoint;(null!=t[e]?l.existsReserved(e):l.h.hasOwnProperty(e))&&(null==(l="string"==typeof i?window.document.getElementById(i):i??window.document.createElement("div"))?window.console.log("[lime.embed] ERROR: Cannot find target element: "+O.string(i)):(null==s&&(s=0),null==n&&(n=0),null==o&&(o={}),Object.prototype.hasOwnProperty.call(o,"background")&&"string"==typeof o.background&&(i=aa.replace(O.string(o.background),"#",""),o.background=-1<i.indexOf("0x")?O.parseInt(i):O.parseInt("0x"+i)),o.element=l,o.width=s,o.height=n,s=Na.__applicationEntryPoint,(null!=t[e]?s.getReserved(e):s.h[e])(o)))}},Na.exit=function(e){},Na.getDisplay=function(e){return 0==e?((e=new Yq).id=0,e.name="Generic Display",e.dpi=96*window.devicePixelRatio,e.currentMode=new Zq(window.screen.width,window.screen.height,60,1),e.supportedModes=[e.currentMode],e.bounds=new je(0,0,e.currentMode.width,e.currentMode.height),e):null},Na.getTimer=function(){return 0|window.performance.now()},Na.load=function(e,i,s,n){return null==n&&(n=!1),null==s&&(s=0),Ch.load(e,i,s,n)},Na.openFile=function(e){null!=e&&window.open(e,"_blank")},Na.openURL=function(e,i){null==i&&(i="_blank"),null!=e&&window.open(e,i)},Na.__copyMissingFields=function(e,i){if(null!=i&&null!=e)for(var s=0,n=X.fields(i);s<n.length;){var o=n[s];++s,Object.prototype.hasOwnProperty.call(e,o)||(e[o]=X.field(i,o))}},Na.__getDirectory=function(e){return null},Na.__parseBool=function(e){return"true"==e},Na.__registerEntryPoint=function(e,i){null==Na.__applicationEntryPoint&&(Na.__applicationEntryPoint=new va);var s=Na.__applicationEntryPoint;null!=t[e]?s.setReserved(e,i):s.h[e]=i},Na.__runProcess=function(e,i){return null},Na.get_allowScreenTimeout=function(){return!0},Na.set_allowScreenTimeout=function(e){return!0},Na.get_applicationDirectory=function(){return null==Na.__applicationDirectory&&(Na.__applicationDirectory=Na.__getDirectory(0)),Na.__applicationDirectory},Na.get_applicationStorageDirectory=function(){return null==Na.__applicationStorageDirectory&&(Na.__applicationStorageDirectory=Na.__getDirectory(1)),Na.__applicationStorageDirectory},Na.get_deviceModel=function(){return Na.__deviceModel},Na.get_deviceVendor=function(){return Na.__deviceVendor},Na.get_desktopDirectory=function(){return null==Na.__desktopDirectory&&(Na.__desktopDirectory=Na.__getDirectory(2)),Na.__desktopDirectory},Na.get_documentsDirectory=function(){return null==Na.__documentsDirectory&&(Na.__documentsDirectory=Na.__getDirectory(3)),Na.__documentsDirectory},Na.get_endianness=function(){if(null==Na.__endianness){var e=new ArrayBuffer(2),i=null!=e?new Uint8Array(e,0):null;e=null!=e?new Uint16Array(e,0):null,i[0]=170,i[1]=187,Na.__endianness=43707==e[0]?Oi.BIG_ENDIAN:Oi.LITTLE_ENDIAN}return Na.__endianness},Na.get_fontsDirectory=function(){return null==Na.__fontsDirectory&&(Na.__fontsDirectory=Na.__getDirectory(4)),Na.__fontsDirectory},Na.get_numDisplays=function(){return 1},Na.get_platformLabel=function(){if(null==Na.__platformLabel){var e=Na.get_platformName(),i=Na.get_platformVersion();null!=e&&null!=i?Na.__platformLabel=e+" "+i:null!=e&&(Na.__platformLabel=e)}return Na.__platformLabel},Na.get_platformName=function(){return null==Na.__platformName&&(Na.__platformName="HTML5"),Na.__platformName},Na.get_platformVersion=function(){return Na.__platformVersion},Na.get_userDirectory=function(){return null==Na.__userDirectory&&(Na.__userDirectory=Na.__getDirectory(5)),Na.__userDirectory};var Gq=function(e,i){null==i&&(i=1),null==e&&(e=0),this.onRun=new Qi,this.onProgress=new Qi,this.onError=new Qi,this.onComplete=new Qi,this.doWork=new Qi,this.minThreads=e,this.maxThreads=i,this.currentThreads=0};k["lime.system.ThreadPool"]=Gq,Gq.__name__="lime.system.ThreadPool",Gq.prototype={currentThreads:null,doWork:null,maxThreads:null,minThreads:null,onComplete:null,onError:null,onProgress:null,onRun:null,queue:function(e){this.runWork(e)},sendComplete:function(e){this.onComplete.dispatch(e)},sendError:function(e){this.onError.dispatch(e)},sendProgress:function(e){this.onProgress.dispatch(e)},runWork:function(e){this.onRun.dispatch(e),this.doWork.dispatch(e)},__class__:Gq},C["lime.system._ThreadPool.ThreadPoolMessageType"]={__ename__:"lime.system._ThreadPool.ThreadPoolMessageType",__constructs__:["COMPLETE","ERROR","EXIT","PROGRESS","WORK"],COMPLETE:{_hx_index:0,__enum__:"lime.system._ThreadPool.ThreadPoolMessageType",toString:v},ERROR:{_hx_index:1,__enum__:"lime.system._ThreadPool.ThreadPoolMessageType",toString:v},EXIT:{_hx_index:2,__enum__:"lime.system._ThreadPool.ThreadPoolMessageType",toString:v},PROGRESS:{_hx_index:3,__enum__:"lime.system._ThreadPool.ThreadPoolMessageType",toString:v},WORK:{_hx_index:4,__enum__:"lime.system._ThreadPool.ThreadPoolMessageType",toString:v}};var ts=function(e,i){this.type=e,this.state=i};k["lime.system._ThreadPool.ThreadPoolMessage"]=ts,ts.__name__="lime.system._ThreadPool.ThreadPoolMessage",ts.prototype={state:null,type:null,__class__:ts};var de=function(e){null!=e&&(this.name=e),this.__init||(null==this.ascender&&(this.ascender=0),null==this.descender&&(this.descender=0),null==this.height&&(this.height=0),null==this.numGlyphs&&(this.numGlyphs=0),null==this.underlinePosition&&(this.underlinePosition=0),null==this.underlineThickness&&(this.underlineThickness=0),null==this.unitsPerEM&&(this.unitsPerEM=0),null!=this.__fontID?wa.isLocal(this.__fontID)&&this.__fromBytes(wa.getBytes(this.__fontID)):null!=this.__fontPath&&this.__fromFile(this.__fontPath))};k["lime.text.Font"]=de,de.__name__="lime.text.Font",de.fromBytes=function(e){if(null==e)return null;var i=new de;return i.__fromBytes(e),i},de.fromFile=function(e){if(null==e)return null;var i=new de;return i.__fromFile(e),i},de.loadFromBytes=function(e){return wb.withValue(de.fromBytes(e))},de.loadFromFile=function(e){return(new so).load(e).then(function(i){return null!=i?wb.withValue(i):wb.withError("")})},de.loadFromName=function(e){return(new de).__loadFromName(e)},de.__measureFontNode=function(e){var i=window.document.createElement("span");i.setAttribute("aria-hidden","true");var s=window.document.createTextNode("BESbswy");return i.appendChild(s),(s=i.style).display="block",s.position="absolute",s.top="-9999px",s.left="-9999px",s.fontSize="300px",s.width="auto",s.height="auto",s.lineHeight="normal",s.margin="0",s.padding="0",s.fontVariant="normal",s.whiteSpace="nowrap",s.fontFamily=e,window.document.body.appendChild(i),i},de.prototype={ascender:null,descender:null,height:null,name:null,numGlyphs:null,src:null,underlinePosition:null,underlineThickness:null,unitsPerEM:null,__fontID:null,__fontPath:null,__init:null,decompose:function(){return null},getGlyph:function(e){return-1},getGlyphs:function(e){return null},getGlyphMetrics:function(e){return null},renderGlyph:function(e,i){return null},renderGlyphs:function(e,i){return null},__copyFrom:function(e){null!=e&&(this.ascender=e.ascender,this.descender=e.descender,this.height=e.height,this.name=e.name,this.numGlyphs=e.numGlyphs,this.src=e.src,this.underlinePosition=e.underlinePosition,this.underlineThickness=e.underlineThickness,this.unitsPerEM=e.unitsPerEM,this.__fontID=e.__fontID,this.__fontPath=e.__fontPath,this.__init=!0)},__fromBytes:function(e){this.__fontPath=null},__fromFile:function(e){this.__fontPath=e},__initializeSource:function(){this.__init=!0},__loadFromName:function(e){var i=this,s=new Sd;this.name=e;var n=window.navigator.userAgent.toLowerCase(),o=0<=n.indexOf(" safari/")&&0>n.indexOf(" chrome/");if(n=new Ra("(iPhone|iPod|iPad).*AppleWebKit(?!.*Version)","i").match(n),!o&&!n&&window.document.fonts&&r(w=window.document.fonts,w.load))window.document.fonts.load("1em '"+e+"'").then(function($){s.complete(i)},function($){Ua.warn('Could not load web font "'+e+'"',{fileName:"lime/text/Font.hx",lineNumber:513,className:"lime.text.Font",methodName:"__loadFromName"}),s.complete(i)});else{var j,l=de.__measureFontNode("'"+e+"', sans-serif"),_=de.__measureFontNode("'"+e+"', serif"),h=l.offsetWidth,m=_.offsetWidth,f=-1,y=0;f=window.setInterval(function(){j=3e3<=50*(y+=1),(l.offsetWidth!=h||_.offsetWidth!=m||j)&&(window.clearInterval(f),l.parentNode.removeChild(l),_.parentNode.removeChild(_),_=l=null,j&&Ua.warn('Could not load web font "'+e+'"',{fileName:"lime/text/Font.hx",lineNumber:548,className:"lime.text.Font",methodName:"__loadFromName"}),s.complete(i))},50)}return s.future},__setSize:function(e){},__class__:de};var $s={};k["lime.text._Glyph.Glyph_Impl_"]=$s,$s.__name__="lime.text._Glyph.Glyph_Impl_",$s._new=function(e){return e};var us=function(){};k["lime.text.GlyphMetrics"]=us,us.__name__="lime.text.GlyphMetrics",us.prototype={advance:null,height:null,horizontalBearing:null,verticalBearing:null,__class__:us};var at=function(){};k["lime.text.harfbuzz.HB"]=at,at.__name__="lime.text.harfbuzz.HB",at.shape=function(e,i,s){};var Dh={};k["lime.text.harfbuzz._HBBlob.HBBlob_Impl_"]=Dh,Dh.__name__="lime.text.harfbuzz._HBBlob.HBBlob_Impl_",Dh.__properties__={get_length:"get_length",get_immutable:"get_immutable",get_dataWritable:"get_dataWritable",get_data:"get_data",get_empty:"get_empty"},Dh._new=function(e,i,s){return null},Dh.createSubBlob=function(e,i,s){return null},Dh.makeImmutable=function(e){},Dh.get_data=function(e){return 0},Dh.get_dataWritable=function(e){return 0},Dh.get_empty=function(){return null},Dh.get_immutable=function(e){return!1},Dh.get_length=function(e){return 0};var Cc={};k["lime.text.harfbuzz._HBBuffer.HBBuffer_Impl_"]=Cc,Cc.__name__="lime.text.harfbuzz._HBBuffer.HBBuffer_Impl_",Cc.__properties__={set_segmentProperties:"set_segmentProperties",get_segmentProperties:"get_segmentProperties",set_script:"set_script",get_script:"get_script",set_replacementCodepoint:"set_replacementCodepoint",get_replacementCodepoint:"get_replacementCodepoint",set_length:"set_length",get_length:"get_length",set_language:"set_language",get_language:"get_language",set_flags:"set_flags",get_flags:"get_flags",set_direction:"set_direction",get_direction:"get_direction",set_contentType:"set_contentType",get_contentType:"get_contentType",set_clusterLevel:"set_clusterLevel",get_clusterLevel:"get_clusterLevel",get_allocationSuccessful:"get_allocationSuccessful"},Cc._new=function(){return null},Cc.add=function(e,i,s){},Cc.addCodepoints=function(e,i,s,n,o){},Cc.addUTF8=function(e,i,s,n){},Cc.addUTF16=function(e,i,s,n,o){},Cc.addUTF32=function(e,i,s,n,o){},Cc.clearContents=function(e){},Cc.getGlyphInfo=function(e){return null},Cc.getGlyphPositions=function(e){return null},Cc.guessSegmentProperties=function(e){},Cc.normalizeGlyphs=function(e){},Cc.preallocate=function(e,i){return!1},Cc.reset=function(e){},Cc.reverse=function(e){},Cc.reverseClusters=function(e){},Cc.get_allocationSuccessful=function(e){return!1},Cc.get_clusterLevel=function(e){return 0},Cc.set_clusterLevel=function(e,i){return i},Cc.get_contentType=function(e){return 0},Cc.set_contentType=function(e,i){return i},Cc.get_direction=function(e){return 0},Cc.set_direction=function(e,i){return i},Cc.get_empty=function(){return null},Cc.get_flags=function(e){return 0},Cc.set_flags=function(e,i){return i},Cc.get_language=function(e){return null},Cc.set_language=function(e,i){return i},Cc.get_length=function(e){return 0},Cc.set_length=function(e,i){return i},Cc.get_replacementCodepoint=function(e){return 0},Cc.set_replacementCodepoint=function(e,i){return i},Cc.get_script=function(e){return 0},Cc.set_script=function(e,i){return i},Cc.get_segmentProperties=function(e){return null},Cc.set_segmentProperties=function(e,i){return i};var vo={};k["lime.text.harfbuzz._HBFTFont.HBFTFont_Impl_"]=vo,vo.__name__="lime.text.harfbuzz._HBFTFont.HBFTFont_Impl_",vo.__properties__={set_loadFlags:"set_loadFlags",get_loadFlags:"get_loadFlags"},vo._new=function(e){return null},vo.get_loadFlags=function(e){return 0},vo.set_loadFlags=function(e,i){return i};var ch={};k["lime.text.harfbuzz._HBFace.HBFace_Impl_"]=ch,ch.__name__="lime.text.harfbuzz._HBFace.HBFace_Impl_",ch.__properties__={set_upem:"set_upem",get_upem:"get_upem",set_index:"set_index",get_index:"get_index",get_immutable:"get_immutable",set_glyphCount:"set_glyphCount",get_glyphCount:"get_glyphCount",get_empty:"get_empty"},ch._new=function(e,i){return null},ch.get_empty=function(){return null},ch.get_glyphCount=function(e){return 0},ch.set_glyphCount=function(e,i){return i},ch.get_immutable=function(e){return!1},ch.get_index=function(e){return 0},ch.set_index=function(e,i){return i},ch.get_upem=function(e){return 0},ch.set_upem=function(e,i){return i};var vs=function(){};k["lime.text.harfbuzz.HBFeature"]=vs,vs.__name__="lime.text.harfbuzz.HBFeature",vs.prototype={__class__:vs};var Oe={};k["lime.text.harfbuzz._HBFont.HBFont_Impl_"]=Oe,Oe.__name__="lime.text.harfbuzz._HBFont.HBFont_Impl_",Oe.__properties__={set_scale:"set_scale",get_scale:"get_scale",set_ppem:"set_ppem",get_ppem:"get_ppem",get_parent:"get_parent",get_immutable:"get_immutable",get_face:"get_face",get_empty:"get_empty"},Oe._new=function(e){return null},Oe.addGlyphOriginForDirection=function(e,i,s,n,o){},Oe.createSubFont=function(e){return null},Oe.getGlyphAdvanceForDirection=function(e,i,s){return null},Oe.getGlyphKerningForDirection=function(e,i,s,n,o){return null},Oe.getGlyphOriginForDirection=function(e,i,s){return null},Oe.glyphFromString=function(e,i){return 0},Oe.glyphToString=function(e,i){return null},Oe.makeImmutable=function(e){},Oe.subtractGlyphOriginForDirection=function(e,i,s,n,o){},Oe.get_empty=function(){return null},Oe.get_face=function(e){return null},Oe.get_immutable=function(e){return!1},Oe.get_parent=function(e){return null},Oe.get_ppem=function(e){return null},Oe.set_ppem=function(e,i){return i},Oe.get_scale=function(e){return null},Oe.set_scale=function(e,i){return i};var ws=function(){};k["lime.text.harfbuzz.HBGlyphInfo"]=ws,ws.__name__="lime.text.harfbuzz.HBGlyphInfo",ws.prototype={codepoint:null,mask:null,cluster:null,__class__:ws};var xs=function(){};k["lime.text.harfbuzz.HBGlyphPosition"]=xs,xs.__name__="lime.text.harfbuzz.HBGlyphPosition",xs.prototype={xAdvance:null,xOffset:null,yAdvance:null,yOffset:null,__class__:xs};var ll={};k["lime.text.harfbuzz._HBLanguage.HBLanguage_Impl_"]=ll,ll.__name__="lime.text.harfbuzz._HBLanguage.HBLanguage_Impl_",ll._new=function(e){return null},ll.toString=function(e){return null},ll.fromString=function(e){return ll._new(e)};var ys=function(){};k["lime.text.harfbuzz.HBSegmentProperties"]=ys,ys.__name__="lime.text.harfbuzz.HBSegmentProperties",ys.prototype={__class__:ys};var ae=function(e){this.onDisconnect=new be,this.onButtonUp=new no,this.onButtonDown=new no,this.onAxisMove=new Pq,this.id=e,this.connected=!0};k["lime.ui.Gamepad"]=ae,ae.__name__="lime.ui.Gamepad",ae.addMappings=function(e){},ae.__connect=function(e){if(!ae.devices.h.hasOwnProperty(e)){var i=new ae(e);ae.devices.h[e]=i,ae.onConnect.dispatch(i)}},ae.__disconnect=function(e){var i=ae.devices.h[e];null!=i&&(i.connected=!1),ae.devices.remove(e),i?.onDisconnect.dispatch()},ae.prototype={connected:null,id:null,onAxisMove:null,onButtonDown:null,onButtonUp:null,onDisconnect:null,get_guid:function(){return kd.__getDeviceData()[this.id].id},get_name:function(){return kd.__getDeviceData()[this.id].id},__class__:ae,__properties__:{get_name:"get_name",get_guid:"get_guid"}};var Ri={};k["lime.ui._GamepadAxis.GamepadAxis_Impl_"]=Ri,Ri.__name__="lime.ui._GamepadAxis.GamepadAxis_Impl_",Ri.toString=function(e){switch(e){case 0:return"LEFT_X";case 1:return"LEFT_Y";case 2:return"RIGHT_X";case 3:return"RIGHT_Y";case 4:return"TRIGGER_LEFT";case 5:return"TRIGGER_RIGHT";default:return"UNKNOWN ("+e+")"}};var qf={};k["lime.ui._GamepadButton.GamepadButton_Impl_"]=qf,qf.__name__="lime.ui._GamepadButton.GamepadButton_Impl_",qf.toString=function(e){switch(e){case 0:return"A";case 1:return"B";case 2:return"X";case 3:return"Y";case 4:return"BACK";case 5:return"GUIDE";case 6:return"START";case 7:return"LEFT_STICK";case 8:return"RIGHT_STICK";case 9:return"LEFT_SHOULDER";case 10:return"RIGHT_SHOULDER";case 11:return"DPAD_UP";case 12:return"DPAD_DOWN";case 13:return"DPAD_LEFT";case 14:return"DPAD_RIGHT";default:return"UNKNOWN ("+e+")"}};var kd=function(e){this.onTrackballMove=new Lq,this.onHatMove=new Nq,this.onDisconnect=new be,this.onButtonUp=new Pi,this.onButtonDown=new Pi,this.onAxisMove=new Mq,this.id=e,this.connected=!0};k["lime.ui.Joystick"]=kd,kd.__name__="lime.ui.Joystick",kd.__connect=function(e){if(!kd.devices.h.hasOwnProperty(e)){var i=new kd(e);kd.devices.h[e]=i,kd.onConnect.dispatch(i)}},kd.__disconnect=function(e){var i=kd.devices.h[e];null!=i&&(i.connected=!1),kd.devices.remove(e),i?.onDisconnect.dispatch()},kd.__getDeviceData=function(){return navigator.getGamepads?navigator.getGamepads():navigator.webkitGetGamepads?navigator.webkitGetGamepads():null},kd.prototype={connected:null,id:null,onAxisMove:null,onButtonDown:null,onButtonUp:null,onDisconnect:null,onHatMove:null,onTrackballMove:null,get_guid:function(){return kd.__getDeviceData()[this.id].id},get_name:function(){return kd.__getDeviceData()[this.id].id},get_numAxes:function(){return kd.__getDeviceData()[this.id].axes.length},get_numButtons:function(){return kd.__getDeviceData()[this.id].buttons.length},get_numHats:function(){return 0},get_numTrackballs:function(){return 0},__class__:kd,__properties__:{get_numTrackballs:"get_numTrackballs",get_numHats:"get_numHats",get_numButtons:"get_numButtons",get_numAxes:"get_numAxes",get_name:"get_name",get_guid:"get_guid"}};var De={};k["lime.ui._JoystickHatPosition.JoystickHatPosition_Impl_"]=De,De.__name__="lime.ui._JoystickHatPosition.JoystickHatPosition_Impl_",De.__properties__={set_up:"set_up",get_up:"get_up",set_right:"set_right",get_right:"get_right",set_left:"set_left",get_left:"get_left",set_down:"set_down",get_down:"get_down",set_center:"set_center",get_center:"get_center"},De._new=function(e){return e},De.get_center=function(e){return 0==e},De.set_center=function(e,i){return i},De.get_down=function(e){return 0<(4&e)},De.set_down=function(e,i){return i},De.get_left=function(e){return 0<(8&e)},De.set_left=function(e,i){return i},De.get_right=function(e){return 0<(2&e)},De.set_right=function(e,i){return i},De.get_up=function(e){return 0<(1&e)},De.set_up=function(e,i){return i};var U={};k["lime.ui._KeyCode.KeyCode_Impl_"]=U,U.__name__="lime.ui._KeyCode.KeyCode_Impl_",U.fromScanCode=function(e){return 0},U.toScanCode=function(e){return 0},U.gt=function(e,i){return e>i},U.gte=function(e,i){return e>=i},U.lt=function(e,i){return e<i},U.lte=function(e,i){return e<=i},U.plus=function(e,i){return e+i};var yb={};k["lime.ui._KeyModifier.KeyModifier_Impl_"]=yb,yb.__name__="lime.ui._KeyModifier.KeyModifier_Impl_",yb.__properties__={set_shiftKey:"set_shiftKey",get_shiftKey:"get_shiftKey",set_numLock:"set_numLock",get_numLock:"get_numLock",set_metaKey:"set_metaKey",get_metaKey:"get_metaKey",set_ctrlKey:"set_ctrlKey",get_ctrlKey:"get_ctrlKey",set_capsLock:"set_capsLock",get_capsLock:"get_capsLock",set_altKey:"set_altKey",get_altKey:"get_altKey"},yb.get_altKey=function(e){return!(0>=(256&e))||0<(512&e)},yb.set_altKey=function(e,i){return i},yb.get_capsLock=function(e){return!(0>=(8192&e))||0<(8192&e)},yb.set_capsLock=function(e,i){return i},yb.get_ctrlKey=function(e){return!(0>=(64&e))||0<(128&e)},yb.set_ctrlKey=function(e,i){return i},yb.get_metaKey=function(e){return!(0>=(1024&e))||0<(2048&e)},yb.set_metaKey=function(e,i){return i},yb.get_numLock=function(e){return!(0>=(4096&e))||0<(4096&e)},yb.set_numLock=function(e,i){return i},yb.get_shiftKey=function(e){return!(0>=(1&e))||0<(2&e)},yb.set_shiftKey=function(e,i){return i};var Hd=C["lime.ui.MouseCursor"]={__ename__:"lime.ui.MouseCursor",__constructs__:"ARROW CROSSHAIR DEFAULT MOVE POINTER RESIZE_NESW RESIZE_NS RESIZE_NWSE RESIZE_WE TEXT WAIT WAIT_ARROW CUSTOM".split(" "),ARROW:{_hx_index:0,__enum__:"lime.ui.MouseCursor",toString:v},CROSSHAIR:{_hx_index:1,__enum__:"lime.ui.MouseCursor",toString:v},DEFAULT:{_hx_index:2,__enum__:"lime.ui.MouseCursor",toString:v},MOVE:{_hx_index:3,__enum__:"lime.ui.MouseCursor",toString:v},POINTER:{_hx_index:4,__enum__:"lime.ui.MouseCursor",toString:v},RESIZE_NESW:{_hx_index:5,__enum__:"lime.ui.MouseCursor",toString:v},RESIZE_NS:{_hx_index:6,__enum__:"lime.ui.MouseCursor",toString:v},RESIZE_NWSE:{_hx_index:7,__enum__:"lime.ui.MouseCursor",toString:v},RESIZE_WE:{_hx_index:8,__enum__:"lime.ui.MouseCursor",toString:v},TEXT:{_hx_index:9,__enum__:"lime.ui.MouseCursor",toString:v},WAIT:{_hx_index:10,__enum__:"lime.ui.MouseCursor",toString:v},WAIT_ARROW:{_hx_index:11,__enum__:"lime.ui.MouseCursor",toString:v},CUSTOM:{_hx_index:12,__enum__:"lime.ui.MouseCursor",toString:v}},Aq=C["lime.ui.MouseWheelMode"]={__ename__:"lime.ui.MouseWheelMode",__constructs__:["PIXELS","LINES","PAGES","UNKNOWN"],PIXELS:{_hx_index:0,__enum__:"lime.ui.MouseWheelMode",toString:v},LINES:{_hx_index:1,__enum__:"lime.ui.MouseWheelMode",toString:v},PAGES:{_hx_index:2,__enum__:"lime.ui.MouseWheelMode",toString:v},UNKNOWN:{_hx_index:3,__enum__:"lime.ui.MouseWheelMode",toString:v}},W={};k["lime.ui._ScanCode.ScanCode_Impl_"]=W,W.__name__="lime.ui._ScanCode.ScanCode_Impl_",W.fromKeyCode=function(e){return U.toScanCode(e)},W.toKeyCode=function(e){return U.fromScanCode(e)},W.gt=function(e,i){return e>i},W.gte=function(e,i){return e>=i},W.lt=function(e,i){return e<i},W.lte=function(e,i){return e<=i},W.plus=function(e,i){return e+i};var xd=function(e,i,s,n,o,l,_){this.x=e,this.y=i,this.id=s,this.dx=n,this.dy=o,this.pressure=l,this.device=_};k["lime.ui.Touch"]=xd,xd.__name__="lime.ui.Touch",xd.prototype={device:null,dx:null,dy:null,id:null,pressure:null,x:null,y:null,__class__:xd};var Jj=function(e,i){this.onTextInput=new lo,this.onTextEdit=new Oq,this.onRestore=new be,this.onResize=new ko,this.onRenderContextRestored=new mo,this.onRenderContextLost=new be,this.onRender=new mo,this.onMove=new hl,this.onMouseWheel=new Kq,this.onMouseUp=new Iq,this.onMouseMoveRelative=new hl,this.onMouseMove=new hl,this.onMouseDown=new Jq,this.onMinimize=new be,this.onMaximize=new be,this.onLeave=new be,this.onKeyUp=new oo,this.onKeyDown=new oo,this.onFullscreen=new be,this.onFocusOut=new be,this.onFocusIn=new be,this.onExpose=new be,this.onEnter=new be,this.onDropFile=new lo,this.onDeactivate=new be,this.onClose=new be,this.onActivate=new be,this.application=e,this.__attributes=i??{},Object.prototype.hasOwnProperty.call(this.__attributes,"parameters")&&(this.parameters=this.__attributes.parameters),this.__height=this.__width=0,this.__fullscreen=!1,this.__scale=1,this.__y=this.__x=0,this.__title="",this.id=-1,this.__backend=new vb(this)};k["lime.ui.Window"]=Jj,Jj.__name__="lime.ui.Window",Jj.prototype={application:null,context:null,display:null,element:null,hidden:null,id:null,onActivate:null,onClose:null,onDeactivate:null,onDropFile:null,onEnter:null,onExpose:null,onFocusIn:null,onFocusOut:null,onFullscreen:null,onKeyDown:null,onKeyUp:null,onLeave:null,onMaximize:null,onMinimize:null,onMouseDown:null,onMouseMove:null,onMouseMoveRelative:null,onMouseUp:null,onMouseWheel:null,onMove:null,onRender:null,onRenderContextLost:null,onRenderContextRestored:null,onResize:null,onRestore:null,onTextEdit:null,onTextInput:null,parameters:null,scale:null,stage:null,__attributes:null,__backend:null,__borderless:null,__fullscreen:null,__height:null,__hidden:null,__maximized:null,__minimized:null,__resizable:null,__scale:null,__title:null,__width:null,__x:null,__y:null,alert:function(e,i){this.__backend.alert(e,i)},close:function(){this.__backend.close()},focus:function(){this.__backend.focus()},move:function(e,i){this.__backend.move(e,i),this.__x=e,this.__y=i},readPixels:function(e){return this.__backend.readPixels(e)},resize:function(e,i){this.__backend.resize(e,i),this.__width=e,this.__height=i},setIcon:function(e){null!=e&&this.__backend.setIcon(e)},toString:function(){return"[object Window]"},warpMouse:function(e,i){this.__backend.warpMouse(e,i)},get_cursor:function(){return this.__backend.getCursor()},set_cursor:function(e){return this.__backend.setCursor(e)},get_display:function(){return this.__backend.getDisplay()},get_displayMode:function(){return this.__backend.getDisplayMode()},set_displayMode:function(e){return this.__backend.setDisplayMode(e)},get_borderless:function(){return this.__borderless},set_borderless:function(e){return this.__borderless=this.__backend.setBorderless(e)},get_frameRate:function(){return this.__backend.getFrameRate()},set_frameRate:function(e){return this.__backend.setFrameRate(e)},get_fullscreen:function(){return this.__fullscreen},set_fullscreen:function(e){return this.__fullscreen=this.__backend.setFullscreen(e)},get_height:function(){return this.__height},set_height:function(e){return this.resize(this.__width,e),this.__height},get_hidden:function(){return this.__hidden},get_maximized:function(){return this.__maximized},set_maximized:function(e){return this.__minimized=!1,this.__maximized=this.__backend.setMaximized(e)},get_minimized:function(){return this.__minimized},set_minimized:function(e){return this.__maximized=!1,this.__minimized=this.__backend.setMinimized(e)},get_mouseLock:function(){return this.__backend.getMouseLock()},set_mouseLock:function(e){return this.__backend.setMouseLock(e),e},get_resizable:function(){return this.__resizable},set_resizable:function(e){return this.__resizable=this.__backend.setResizable(e)},get_scale:function(){return this.__scale},get_textInputEnabled:function(){return this.__backend.getTextInputEnabled()},set_textInputEnabled:function(e){return this.__backend.setTextInputEnabled(e)},get_title:function(){return this.__title},set_title:function(e){return this.__title=this.__backend.setTitle(e)},get_width:function(){return this.__width},set_width:function(e){return this.resize(e,this.__height),this.__width},get_x:function(){return this.__x},set_x:function(e){return this.move(e,this.__y),this.__x},get_y:function(){return this.__y},set_y:function(e){return this.move(this.__x,e),this.__y},__class__:Jj,__properties__:{set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x",set_width:"set_width",get_width:"get_width",set_title:"set_title",get_title:"get_title",set_textInputEnabled:"set_textInputEnabled",get_textInputEnabled:"get_textInputEnabled",get_scale:"get_scale",set_resizable:"set_resizable",get_resizable:"get_resizable",set_mouseLock:"set_mouseLock",get_mouseLock:"get_mouseLock",set_minimized:"set_minimized",get_minimized:"get_minimized",set_maximized:"set_maximized",get_maximized:"get_maximized",get_hidden:"get_hidden",set_height:"set_height",get_height:"get_height",set_fullscreen:"set_fullscreen",get_fullscreen:"get_fullscreen",set_frameRate:"set_frameRate",get_frameRate:"get_frameRate",set_displayMode:"set_displayMode",get_displayMode:"get_displayMode",get_display:"get_display",set_cursor:"set_cursor",get_cursor:"get_cursor",set_borderless:"set_borderless",get_borderless:"get_borderless"}},C["lime.utils.TAError"]={__ename__:"lime.utils.TAError",__constructs__:["RangeError"],RangeError:{_hx_index:0,__enum__:"lime.utils.TAError",toString:v}};var sg=function(){this.data=new va,this.paths=[]};k["lime.utils.AssetBundle"]=sg,sg.__name__="lime.utils.AssetBundle",sg.fromBytes=function(e){return e=new Mi(e),sg.__extractBundle(e)},sg.fromFile=function(e){return null},sg.loadFromBytes=function(e){return wb.withValue(sg.fromBytes(e))},sg.loadFromFile=function(e){return Rc.loadFromFile(e).then(sg.loadFromBytes)},sg.__extractBundle=function(e){var i=Dj.readZip(e);for(e=new sg,i=i.h;null!=i;){var s=i.item;if(i=i.next,s.compressed){var n=e.data,o=s.fileName,l=Rc.decompress(s.data,ml.DEFLATE);null!=t[o]?n.setReserved(o,l):n.h[o]=l}else l=s.data,n=e.data,null!=t[o=s.fileName]?n.setReserved(o,l):n.h[o]=l;e.paths.push(s.fileName)}return e},sg.prototype={data:null,paths:null,__class__:sg};var $q=function(){this.enabled=!0,this.audio=new va,this.font=new va,this.image=new va,this.version=586762};k["lime.utils.AssetCache"]=$q,$q.__name__="lime.utils.AssetCache",$q.prototype={audio:null,enabled:null,image:null,font:null,version:null,exists:function(e,i){if("IMAGE"==i||null==i){var s=this.image;if(null!=t[e]?s.existsReserved(e):s.h.hasOwnProperty(e))return!0}return!(("FONT"!=i&&null!=i||(s=this.font,!(null!=t[e]?s.existsReserved(e):s.h.hasOwnProperty(e))))&&("SOUND"!=i&&"MUSIC"!=i&&null!=i||(i=this.audio,!(null!=t[e]?i.existsReserved(e):i.h.hasOwnProperty(e)))))},set:function(e,i,s){switch(i){case"FONT":i=this.font,null!=t[e]?i.setReserved(e,s):i.h[e]=s;break;case"IMAGE":if(!(s instanceof Lb))throw new E("Cannot cache non-Image asset: "+O.string(s)+" as Image");i=this.image,null!=t[e]?i.setReserved(e,s):i.h[e]=s;break;case"MUSIC":case"SOUND":if(!(s instanceof id))throw new E("Cannot cache non-AudioBuffer asset: "+O.string(s)+" as AudioBuffer");i=this.audio,null!=t[e]?i.setReserved(e,s):i.h[e]=s;break;default:throw new E(i+" assets are not cachable")}},clear:function(e){if(null==e)this.audio=new va,this.font=new va,this.image=new va;else{for(var i=this.audio.keys();i.hasNext();){var s=i.next();aa.startsWith(s,e)&&this.audio.remove(s)}for(i=this.font.keys();i.hasNext();)s=i.next(),aa.startsWith(s,e)&&this.font.remove(s);for(i=this.image.keys();i.hasNext();)s=i.next(),aa.startsWith(s,e)&&this.image.remove(s)}},__class__:$q};var Wb=function(){this.types=new va,this.sizes=new va,this.preload=new va,this.paths=new va,this.pathGroups=new va,this.classTypes=new va,this.cachedText=new va,this.cachedImages=new va,this.cachedFonts=new va,this.cachedBytes=new va,this.cachedAudioBuffers=new va,this.onChange=new be,this.bytesTotal=this.bytesLoaded=0};k["lime.utils.AssetLibrary"]=Wb,Wb.__name__="lime.utils.AssetLibrary",Wb.fromBytes=function(e,i){return Wb.fromManifest(gd.fromBytes(e,i))},Wb.fromFile=function(e,i){return Wb.fromManifest(gd.fromFile(e,i))},Wb.fromBundle=function(e){var i=e.data;if(!(null!=t["library.json"]?i.existsReserved("library.json"):i.h.hasOwnProperty("library.json")))return(i=new Wb).__fromBundle(e),i;if(i=e.data,null!=(i=gd.fromBytes(null!=t["library.json"]?i.getReserved("library.json"):i.h["library.json"]))){if(null==i.libraryType)var s=new Wb;else{if(null==(s=k[i.libraryType]))return Ua.warn("Could not find library type: "+i.libraryType,{fileName:"lime/utils/AssetLibrary.hx",lineNumber:122,className:"lime.utils.AssetLibrary",methodName:"fromBundle"}),null;s=rb.createInstance(s,i.libraryArgs)}return s.__fromBundle(e,i),s}return null},Wb.fromManifest=function(e){if(null==e)return null;if(null==e.libraryType)var i=new Wb;else{if(null==(i=k[e.libraryType]))return Ua.warn("Could not find library type: "+e.libraryType,{fileName:"lime/utils/AssetLibrary.hx",lineNumber:160,className:"lime.utils.AssetLibrary",methodName:"fromManifest"}),null;i=rb.createInstance(i,e.libraryArgs)}return i.__fromManifest(e),i},Wb.loadFromBytes=function(e,i){return gd.loadFromBytes(e,i).then(function(s){return Wb.loadFromManifest(s)})},Wb.loadFromFile=function(e,i){return gd.loadFromFile(e,i).then(function(s){return Wb.loadFromManifest(s)})},Wb.loadFromManifest=function(e){return null!=(e=Wb.fromManifest(e))?e.load():wb.withError("Could not load asset manifest")},Wb.prototype={onChange:null,assetsLoaded:null,assetsTotal:null,bytesLoaded:null,bytesLoadedCache:null,bytesTotal:null,cachedAudioBuffers:null,cachedBytes:null,cachedFonts:null,cachedImages:null,cachedText:null,classTypes:null,loaded:null,pathGroups:null,paths:null,preload:null,promise:null,sizes:null,types:null,exists:function(e,i){i=null!=i?T.__cast(i,String):null;var s=this.types;return!(null==(e=null!=t[e]?s.getReserved(e):s.h[e])||e!=i&&("SOUND"!=i&&"MUSIC"!=i||"MUSIC"!=e&&"SOUND"!=e)&&"BINARY"!=i&&null!=i&&("BINARY"!=e||"TEXT"!=i))},getAsset:function(e,i){switch(i){case"BINARY":return this.getBytes(e);case"FONT":return this.getFont(e);case"IMAGE":return this.getImage(e);case"MUSIC":case"SOUND":return this.getAudioBuffer(e);case"TEMPLATE":throw new E("Not sure how to get template: "+e);case"TEXT":return this.getText(e);default:throw new E("Unknown asset type: "+i)}},getAudioBuffer:function(e){var i=this.cachedAudioBuffers;return(null!=t[e]?i.existsReserved(e):i.h.hasOwnProperty(e))?(i=this.cachedAudioBuffers,null!=t[e]?i.getReserved(e):i.h[e]):(i=this.classTypes,(null!=t[e]?i.existsReserved(e):i.h.hasOwnProperty(e))?(i=this.classTypes,id.fromBytes(T.__cast(rb.createInstance(null!=t[e]?i.getReserved(e):i.h[e],[]),bb))):(i=this.paths,id.fromFile(null!=t[e]?i.getReserved(e):i.h[e])))},getBytes:function(e){var i=this.cachedBytes;if(null!=t[e]?i.existsReserved(e):i.h.hasOwnProperty(e))return i=this.cachedBytes,null!=t[e]?i.getReserved(e):i.h[e];if(i=this.cachedText,null!=t[e]?i.existsReserved(e):i.h.hasOwnProperty(e)){i=this.cachedText,i=Rc.ofString(null!=t[e]?i.getReserved(e):i.h[e]);var s=this.cachedBytes;return null!=t[e]?s.setReserved(e,i):s.h[e]=i,i}return i=this.classTypes,(null!=t[e]?i.existsReserved(e):i.h.hasOwnProperty(e))?(i=this.classTypes,T.__cast(rb.createInstance(null!=t[e]?i.getReserved(e):i.h[e],[]),bb)):(i=this.paths,Rc.fromFile(null!=t[e]?i.getReserved(e):i.h[e]))},getFont:function(e){var i=this.cachedFonts;return(null!=t[e]?i.existsReserved(e):i.h.hasOwnProperty(e))?(i=this.cachedFonts,null!=t[e]?i.getReserved(e):i.h[e]):(i=this.classTypes,(null!=t[e]?i.existsReserved(e):i.h.hasOwnProperty(e))?(i=this.classTypes,T.__cast(rb.createInstance(null!=t[e]?i.getReserved(e):i.h[e],[]),de)):(i=this.paths,de.fromFile(null!=t[e]?i.getReserved(e):i.h[e])))},getImage:function(e){var i=this.cachedImages;return(null!=t[e]?i.existsReserved(e):i.h.hasOwnProperty(e))?(i=this.cachedImages,null!=t[e]?i.getReserved(e):i.h[e]):(i=this.classTypes,(null!=t[e]?i.existsReserved(e):i.h.hasOwnProperty(e))?(i=this.classTypes,T.__cast(rb.createInstance(null!=t[e]?i.getReserved(e):i.h[e],[]),Lb)):(i=this.paths,Lb.fromFile(null!=t[e]?i.getReserved(e):i.h[e])))},getPath:function(e){var i=this.paths;return(null!=t[e]?i.existsReserved(e):i.h.hasOwnProperty(e))?(i=this.paths,null!=t[e]?i.getReserved(e):i.h[e]):(i=this.pathGroups,(null!=t[e]?i.existsReserved(e):i.h.hasOwnProperty(e))?(i=this.pathGroups,(null!=t[e]?i.getReserved(e):i.h[e])[0]):null)},getText:function(e){var i=this.cachedText;return(null!=t[e]?i.existsReserved(e):i.h.hasOwnProperty(e))?(i=this.cachedText,null!=t[e]?i.getReserved(e):i.h[e]):null==(e=this.getBytes(e))?null:e.getString(0,e.length)},isLocal:function(e,i){var s=this.classTypes;if(null!=t[e]?s.existsReserved(e):s.h.hasOwnProperty(e))return!0;if(null==(i=null!=i?T.__cast(i,String):null))return i=this.cachedBytes,!!(null!=t[e]?i.existsReserved(e):i.h.hasOwnProperty(e))||(i=this.cachedText,null!=t[e]?i.existsReserved(e):i.h.hasOwnProperty(e));switch(i){case"FONT":return i=this.cachedFonts,null!=t[e]?i.existsReserved(e):i.h.hasOwnProperty(e);case"IMAGE":return i=this.cachedImages,null!=t[e]?i.existsReserved(e):i.h.hasOwnProperty(e);case"MUSIC":case"SOUND":return i=this.cachedAudioBuffers,null!=t[e]?i.existsReserved(e):i.h.hasOwnProperty(e);default:return i=this.cachedBytes,!!(null!=t[e]?i.existsReserved(e):i.h.hasOwnProperty(e))||(i=this.cachedText,null!=t[e]?i.existsReserved(e):i.h.hasOwnProperty(e))}},list:function(e){for(var i=null!=e?T.__cast(e,String):null,s=[],n=this.types.keys();n.hasNext();){var o=n.next();(null==i||this.exists(o,e))&&s.push(o)}return s},loadAsset:function(e,i){switch(i){case"BINARY":return this.loadBytes(e);case"FONT":return this.loadFont(e);case"IMAGE":return this.loadImage(e);case"MUSIC":case"SOUND":return this.loadAudioBuffer(e);case"TEMPLATE":throw new E("Not sure how to load template: "+e);case"TEXT":return this.loadText(e);default:throw new E("Unknown asset type: "+i)}},load:function(){if(this.loaded)return wb.withValue(this);if(null==this.promise){this.promise=new Sd,this.bytesLoadedCache=new va,this.assetsLoaded=0,this.assetsTotal=1;for(var e=this.preload.keys();e.hasNext();){var i=e.next(),s=this.preload;if((null!=t[i]?s.getReserved(i):s.h[i])&&(s=this.types,Ua.verbose("Preloading asset: "+i+" ["+(null!=t[i]?s.getReserved(i):s.h[i])+"]",{fileName:"lime/utils/AssetLibrary.hx",lineNumber:405,className:"lime.utils.AssetLibrary",methodName:"load"}),s=this.types,null!=(s=null!=t[i]?s.getReserved(i):s.h[i])))switch(s){case"BINARY":this.assetsTotal++,(s=this.loadBytes(i)).onProgress(function(n,o){return function(l,_){o[0](n[0],l,_)}}([i],[r(this,this.load_onProgress)])),s.onError(function(n,o){return function(l){o[0](n[0],l)}}([i],[r(this,this.load_onError)])),s.onComplete(function(n,o){return function(l){o[0](n[0],l)}}([i],[r(this,this.loadBytes_onComplete)]));break;case"FONT":this.assetsTotal++,(s=this.loadFont(i)).onProgress(function(n,o){return function(l,_){o[0](n[0],l,_)}}([i],[r(this,this.load_onProgress)])),s.onError(function(n,o){return function(l){o[0](n[0],l)}}([i],[r(this,this.load_onError)])),s.onComplete(function(n,o){return function(l){o[0](n[0],l)}}([i],[r(this,this.loadFont_onComplete)]));break;case"IMAGE":this.assetsTotal++,(s=this.loadImage(i)).onProgress(function(n,o){return function(l,_){o[0](n[0],l,_)}}([i],[r(this,this.load_onProgress)])),s.onError(function(n,o){return function(l){o[0](n[0],l)}}([i],[r(this,this.load_onError)])),s.onComplete(function(n,o){return function(l){o[0](n[0],l)}}([i],[r(this,this.loadImage_onComplete)]));break;case"MUSIC":case"SOUND":this.assetsTotal++,(s=this.loadAudioBuffer(i)).onProgress(function(n,o){return function(l,_){o[0](n[0],l,_)}}([i],[r(this,this.load_onProgress)])),s.onError(function(n,o){return function(l){o[0](n[0],l)}}([i],[r(this,this.loadAudioBuffer_onError)])),s.onComplete(function(n,o){return function(l){o[0](n[0],l)}}([i],[r(this,this.loadAudioBuffer_onComplete)]));break;case"TEXT":this.assetsTotal++,(s=this.loadText(i)).onProgress(function(n,o){return function(l,_){o[0](n[0],l,_)}}([i],[r(this,this.load_onProgress)])),s.onError(function(n,o){return function(l){o[0](n[0],l)}}([i],[r(this,this.load_onError)])),s.onComplete(function(n,o){return function(l){o[0](n[0],l)}}([i],[r(this,this.loadText_onComplete)]))}}this.__assetLoaded(null)}return this.promise.future},loadAudioBuffer:function(e){var i=this.cachedAudioBuffers;return(null!=t[e]?i.existsReserved(e):i.h.hasOwnProperty(e))?(i=this.cachedAudioBuffers,wb.withValue(null!=t[e]?i.getReserved(e):i.h[e])):(i=this.classTypes,(null!=t[e]?i.existsReserved(e):i.h.hasOwnProperty(e))?(i=this.classTypes,wb.withValue(rb.createInstance(null!=t[e]?i.getReserved(e):i.h[e],[]))):(i=this.pathGroups,(null!=t[e]?i.existsReserved(e):i.h.hasOwnProperty(e))?(i=this.pathGroups,id.loadFromFiles(null!=t[e]?i.getReserved(e):i.h[e])):(i=this.paths,id.loadFromFile(null!=t[e]?i.getReserved(e):i.h[e]))))},loadBytes:function(e){var i=this.cachedBytes;return(null!=t[e]?i.existsReserved(e):i.h.hasOwnProperty(e))?(i=this.cachedBytes,wb.withValue(null!=t[e]?i.getReserved(e):i.h[e])):(i=this.classTypes,(null!=t[e]?i.existsReserved(e):i.h.hasOwnProperty(e))?(i=this.classTypes,wb.withValue(rb.createInstance(null!=t[e]?i.getReserved(e):i.h[e],[]))):(i=this.paths,Rc.loadFromFile(null!=t[e]?i.getReserved(e):i.h[e])))},loadFont:function(e){var i=this.cachedFonts;return(null!=t[e]?i.existsReserved(e):i.h.hasOwnProperty(e))?(i=this.cachedFonts,wb.withValue(null!=t[e]?i.getReserved(e):i.h[e])):(i=this.classTypes,(null!=t[e]?i.existsReserved(e):i.h.hasOwnProperty(e))?(i=this.classTypes,(e=rb.createInstance(null!=t[e]?i.getReserved(e):i.h[e],[])).__loadFromName(e.name)):(i=this.paths,de.loadFromName(null!=t[e]?i.getReserved(e):i.h[e])))},loadImage:function(e){var i=this,s=this.cachedImages;return(null!=t[e]?s.existsReserved(e):s.h.hasOwnProperty(e))?(s=this.cachedImages,wb.withValue(null!=t[e]?s.getReserved(e):s.h[e])):(s=this.classTypes,(null!=t[e]?s.existsReserved(e):s.h.hasOwnProperty(e))?(s=this.classTypes,wb.withValue(rb.createInstance(null!=t[e]?s.getReserved(e):s.h[e],[]))):(s=this.cachedBytes,(null!=t[e]?s.existsReserved(e):s.h.hasOwnProperty(e))?(s=this.cachedBytes,Lb.loadFromBytes(null!=t[e]?s.getReserved(e):s.h[e]).then(function(n){i.cachedBytes.remove(e);var o=i.cachedImages;return null!=t[e]?o.setReserved(e,n):o.h[e]=n,wb.withValue(n)})):(s=this.paths,Lb.loadFromFile(null!=t[e]?s.getReserved(e):s.h[e]))))},loadText:function(e){var i=this.cachedText;if(null!=t[e]?i.existsReserved(e):i.h.hasOwnProperty(e))return i=this.cachedText,wb.withValue(null!=t[e]?i.getReserved(e):i.h[e]);if(i=this.cachedBytes,(null!=t[e]?i.existsReserved(e):i.h.hasOwnProperty(e))?i=!0:(i=this.classTypes,i=null!=t[e]?i.existsReserved(e):i.h.hasOwnProperty(e)),i){if(null==(i=this.getBytes(e)))return wb.withValue(null);i=i.getString(0,i.length);var s=this.cachedText;return null!=t[e]?s.setReserved(e,i):s.h[e]=i,wb.withValue(i)}return i=new kl,s=this.paths,i.load(null!=t[e]?s.getReserved(e):s.h[e])},unload:function(){},__assetLoaded:function(e){if(this.assetsLoaded++,null!=e){var i=this.types;Ua.verbose("Loaded asset: "+e+" ["+(null!=t[e]?i.getReserved(e):i.h[e])+"] ("+(this.assetsLoaded-1)+"/"+(this.assetsTotal-1)+")",{fileName:"lime/utils/AssetLibrary.hx",lineNumber:619,className:"lime.utils.AssetLibrary",methodName:"__assetLoaded"})}if(null!=e){i=this.sizes,(null!=t[e]?i.existsReserved(e):i.h.hasOwnProperty(e))?(i=this.sizes,i=null!=t[e]?i.getReserved(e):i.h[e]):i=0;var s=this.bytesLoadedCache;(null!=t[e]?s.existsReserved(e):s.h.hasOwnProperty(e))?(s=this.bytesLoadedCache,(s=null!=t[e]?s.getReserved(e):s.h[e])<i&&(this.bytesLoaded+=i-s)):this.bytesLoaded+=i,s=this.bytesLoadedCache,null!=t[e]?s.setReserved(e,i):s.h[e]=i}this.assetsLoaded<this.assetsTotal?this.promise.progress(this.bytesLoaded,this.bytesTotal):(this.loaded=!0,this.promise.progress(this.bytesTotal,this.bytesTotal),this.promise.complete(this))},__cacheBreak:function(e){return wa.__cacheBreak(e)},__fromBundle:function(e,i){if(null!=i)for(var s,n,o=0,l=i.assets;o<l.length;){var _=l[o];++o,i=Object.prototype.hasOwnProperty.call(_,"id")?_.id:_.path,n=e.data,s=null!=t[s=_.path]?n.getReserved(s):n.h[s],Object.prototype.hasOwnProperty.call(_,"type")?("TEXT"==(n=_.type)?(s=null!=s?O.string(s):null,n=this.cachedText,null!=t[i]?n.setReserved(i,s):n.h[i]=s):(n=this.cachedBytes,null!=t[i]?n.setReserved(i,s):n.h[i]=s),_=_.type,s=this.types,null!=t[i]?s.setReserved(i,_):s.h[i]=_):(_=this.cachedBytes,null!=t[i]?_.setReserved(i,s):_.h[i]=s,_=this.types,null!=t[i]?_.setReserved(i,"BINARY"):_.h[i]="BINARY")}else for(o=0,i=e.paths;o<i.length;)l=i[o],++o,_=this.cachedBytes,s=e.data,s=null!=t[l]?s.getReserved(l):s.h[l],null!=t[l]?_.setReserved(l,s):_.h[l]=s,_=this.types,null!=t[l]?_.setReserved(l,"BINARY"):_.h[l]="BINARY"},__fromManifest:function(e){var i=2<=e.version,s=e.rootPath;null==s&&(s=""),""!=s&&(s+="/");for(var n=0,o=e.assets;n<o.length;){var l=o[n];++n;var _=i&&Object.prototype.hasOwnProperty.call(l,"size")?l.size:100,h=Object.prototype.hasOwnProperty.call(l,"id")?l.id:l.path;if(Object.prototype.hasOwnProperty.call(l,"path")){var m=this.paths,f=this.__cacheBreak(this.__resolvePath(s+O.string(X.field(l,"path"))));null!=t[h]?m.setReserved(h,f):m.h[h]=f}if(Object.prototype.hasOwnProperty.call(l,"pathGroup")){m=0;for(var y=(f=X.field(l,"pathGroup")).length;m<y;){var g=m++;f[g]=this.__cacheBreak(this.__resolvePath(s+f[g]))}m=this.pathGroups,null!=t[h]?m.setReserved(h,f):m.h[h]=f}f=this.sizes,null!=t[h]?f.setReserved(h,_):f.h[h]=_,_=l.type,f=this.types,null!=t[h]?f.setReserved(h,_):f.h[h]=_,Object.prototype.hasOwnProperty.call(l,"preload")&&(_=X.field(l,"preload"),f=this.preload,null!=t[h]?f.setReserved(h,_):f.h[h]=_),Object.prototype.hasOwnProperty.call(l,"className")&&(l=X.field(l,"className"),l=k[l],_=this.classTypes,null!=t[h]?_.setReserved(h,l):_.h[h]=l)}for(i=this.bytesTotal=0,e=e.assets;i<e.length;)h=e[i],++i,h=Object.prototype.hasOwnProperty.call(h,"id")?h.id:h.path,s=this.preload,(null!=t[h]?s.existsReserved(h):s.h.hasOwnProperty(h))?(s=this.preload,s=null!=t[h]?s.getReserved(h):s.h[h]):s=!1,s?(s=this.sizes,s=null!=t[h]?s.existsReserved(h):s.h.hasOwnProperty(h)):s=!1,s&&(s=this.sizes,this.bytesTotal+=null!=t[h]?s.getReserved(h):s.h[h])},__resolvePath:function(e){var i=(e=aa.replace(e,"\\","/")).indexOf(":");if(-1<(e=aa.startsWith(e,"http")&&0<i?B.substr(e,0,i+=3)+aa.replace(B.substr(e,i,null),"//","/"):aa.replace(e,"//","/")).indexOf("./")){i=[];for(var s=0,n=(e=e.split("/")).length;s<n;){var o=s++;".."==e[o]?0==o||".."==i[o-1]?i.push(".."):i.pop():"."==e[o]?0==o&&i.push("."):i.push(e[o])}e=i.join("/")}return e},loadAudioBuffer_onComplete:function(e,i){var s=this.cachedAudioBuffers;if(null!=t[e]?s.setReserved(e,i):s.h[e]=i,s=this.pathGroups,null!=t[e]?s.existsReserved(e):s.h.hasOwnProperty(e)){s=this.pathGroups,s=null!=t[e]?s.getReserved(e):s.h[e];for(var n=this.pathGroups.keys();n.hasNext();){var o=n.next();if(o!=e)for(var l=0;l<s.length;){var _=s[l];++l;var h=this.pathGroups;if(-1<(null!=t[o]?h.getReserved(o):h.h[o]).indexOf(_)){l=this.cachedAudioBuffers,null!=t[o]?l.setReserved(o,i):l.h[o]=i;break}}}}this.__assetLoaded(e)},loadAudioBuffer_onError:function(e,i){null!=i&&""!=i?Ua.warn('Could not load "'+e+'": '+O.string(i),{fileName:"lime/utils/AssetLibrary.hx",lineNumber:865,className:"lime.utils.AssetLibrary",methodName:"loadAudioBuffer_onError"}):Ua.warn('Could not load "'+e+'"',{fileName:"lime/utils/AssetLibrary.hx",lineNumber:869,className:"lime.utils.AssetLibrary",methodName:"loadAudioBuffer_onError"}),this.loadAudioBuffer_onComplete(e,new id)},loadBytes_onComplete:function(e,i){var s=this.cachedBytes;null!=t[e]?s.setReserved(e,i):s.h[e]=i,this.__assetLoaded(e)},loadFont_onComplete:function(e,i){var s=this.cachedFonts;null!=t[e]?s.setReserved(e,i):s.h[e]=i,this.__assetLoaded(e)},loadImage_onComplete:function(e,i){var s=this.cachedImages;null!=t[e]?s.setReserved(e,i):s.h[e]=i,this.__assetLoaded(e)},loadText_onComplete:function(e,i){var s=this.cachedText;null!=t[e]?s.setReserved(e,i):s.h[e]=i,this.__assetLoaded(e)},load_onError:function(e,i){this.promise.error(null!=i&&""!=i?'Error loading asset "'+e+'": '+O.string(i):'Error loading asset "'+e+'"')},load_onProgress:function(e,i,s){if(0<i){var n=this.sizes;n=null!=t[e]?n.getReserved(e):n.h[e],0<s?(1<(i/=s)&&(i=1),i=Math.floor(i*n)):i>n&&(i=n),s=this.bytesLoadedCache,(null!=t[e]?s.existsReserved(e):s.h.hasOwnProperty(e))?(s=this.bytesLoadedCache,i!=(s=null!=t[e]?s.getReserved(e):s.h[e])&&(this.bytesLoaded+=i-s)):this.bytesLoaded+=i,s=this.bytesLoadedCache,null!=t[e]?s.setReserved(e,i):s.h[e]=i,this.promise.progress(this.bytesLoaded,this.bytesTotal)}},__class__:Wb};var gd=function(){this.assets=[],this.libraryArgs=[],this.version=2};k["lime.utils.AssetManifest"]=gd,gd.__name__="lime.utils.AssetManifest",gd.fromBytes=function(e,i){return null!=e?gd.parse(e.getString(0,e.length),i):null},gd.fromFile=function(e,i){return e=gd.__resolvePath(e),i=gd.__resolveRootPath(i,e),null==e?null:gd.fromBytes(Rc.fromFile(e),i)},gd.loadFromBytes=function(e,i){return wb.withValue(gd.fromBytes(e,i))},gd.loadFromFile=function(e,i){return e=gd.__resolvePath(e),i=gd.__resolveRootPath(i,e),null==e?null:Rc.loadFromFile(e).then(function(s){return wb.withValue(gd.fromBytes(s,i))})},gd.parse=function(e,i){if(null==e||""==e)return null;e=JSON.parse(e);var s=new gd;if(Object.prototype.hasOwnProperty.call(e,"name")&&(s.name=e.name),Object.prototype.hasOwnProperty.call(e,"libraryType")&&(s.libraryType=e.libraryType),Object.prototype.hasOwnProperty.call(e,"libraryArgs")&&(s.libraryArgs=e.libraryArgs),Object.prototype.hasOwnProperty.call(e,"assets")){var n=e.assets;s.assets=Object.prototype.hasOwnProperty.call(e,"version")&&2>=e.version?Ue.run(n):n}return Object.prototype.hasOwnProperty.call(e,"rootPath")&&(s.rootPath=e.rootPath),null!=i&&""!=i&&(s.rootPath=null==s.rootPath||""==s.rootPath?i:i+"/"+s.rootPath),s},gd.__resolvePath=function(e){if(null==e)return null;var i=e.indexOf("?"),s=-1<i?B.substr(e,0,i):e;for(s=aa.replace(s,"\\","/");aa.endsWith(s,"/");)s=B.substr(s,0,s.length-1);return aa.endsWith(s,".bundle")?-1<i?s+"/library.json"+B.substr(e,i,null):s+"/library.json":e},gd.__resolveRootPath=function(e,i){if(null!=e)return e;for(e=-1<(e=i.indexOf("?"))?B.substr(i,0,e):i,e=aa.replace(e,"\\","/");aa.endsWith(e,"/");){if("/"==e)return e;e=B.substr(e,0,e.length-1)}return aa.endsWith(e,".bundle")?e:gi.directory(e)},gd.prototype={assets:null,libraryArgs:null,libraryType:null,name:null,rootPath:null,version:null,serialize:function(){var e={};return e.version=this.version,e.libraryType=this.libraryType,e.libraryArgs=this.libraryArgs,e.name=this.name,e.assets=Me.run(this.assets),e.rootPath=this.rootPath,JSON.stringify(e)},__class__:gd};var wa=function(){};k["lime.utils.Assets"]=wa,wa.__name__="lime.utils.Assets",wa.exists=function(e,i){null==i&&(i="BINARY");var s=e.indexOf(":"),n=e.substring(0,s);return e=e.substring(s+1),null!=(n=wa.getLibrary(n))&&n.exists(e,i)},wa.getAsset=function(e,i,s){if(s&&wa.cache.enabled)switch(i){case"BINARY":case"TEXT":s=!1;break;case"FONT":var n=wa.cache.font;if(null!=(n=null!=t[e]?n.getReserved(e):n.h[e]))return n;break;case"IMAGE":if(n=wa.cache.image,n=null!=t[e]?n.getReserved(e):n.h[e],wa.isValidImage(n))return n;break;case"MUSIC":case"SOUND":if(n=wa.cache.audio,n=null!=t[e]?n.getReserved(e):n.h[e],wa.isValidAudio(n))return n;break;case"TEMPLATE":throw new E("Not sure how to get template: "+e);default:return null}var o=e.indexOf(":");n=e.substring(0,o),o=e.substring(o+1);var l=wa.getLibrary(n);if(null!=l)if(l.exists(o,i)){if(l.isLocal(o,i))return n=l.getAsset(o,i),s&&wa.cache.enabled&&wa.cache.set(e,i,n),n;Ua.error(i+' asset "'+e+'" exists, but only asynchronously',{fileName:"lime/utils/Assets.hx",lineNumber:133,className:"lime.utils.Assets",methodName:"getAsset"})}else Ua.error("There is no "+i+' asset with an ID of "'+e+'"',{fileName:"lime/utils/Assets.hx",lineNumber:138,className:"lime.utils.Assets",methodName:"getAsset"});else Ua.error(wa.__libraryNotFound(n),{fileName:"lime/utils/Assets.hx",lineNumber:143,className:"lime.utils.Assets",methodName:"getAsset"});return null},wa.getAudioBuffer=function(e,i){return null==i&&(i=!0),wa.getAsset(e,"SOUND",i)},wa.getBytes=function(e){return wa.getAsset(e,"BINARY",!1)},wa.getFont=function(e,i){return null==i&&(i=!0),wa.getAsset(e,"FONT",i)},wa.getImage=function(e,i){return null==i&&(i=!0),wa.getAsset(e,"IMAGE",i)},wa.getLibrary=function(e){(null==e||""==e)&&(e="default");var i=wa.libraries;return null!=t[e]?i.getReserved(e):i.h[e]},wa.getPath=function(e){var i=e.indexOf(":"),s=e.substring(0,i);i=e.substring(i+1);var n=wa.getLibrary(s);if(null!=n){if(n.exists(i,null))return n.getPath(i);Ua.error('There is no asset with an ID of "'+e+'"',{fileName:"lime/utils/Assets.hx",lineNumber:224,className:"lime.utils.Assets",methodName:"getPath"})}else Ua.error(wa.__libraryNotFound(s),{fileName:"lime/utils/Assets.hx",lineNumber:229,className:"lime.utils.Assets",methodName:"getPath"});return null},wa.getText=function(e){return wa.getAsset(e,"TEXT",!1)},wa.hasLibrary=function(e){(null==e||""==e)&&(e="default");var i=wa.libraries;return null!=t[e]?i.existsReserved(e):i.h.hasOwnProperty(e)},wa.isLocal=function(e,i,s){if(null==s&&(s=!0),s&&wa.cache.enabled&&wa.cache.exists(e,i))return!0;var n=e.indexOf(":");return s=e.substring(0,n),e=e.substring(n+1),null!=(s=wa.getLibrary(s))&&s.isLocal(e,i)},wa.isValidAudio=function(e){return null!=e},wa.isValidImage=function(e){return null!=e&&null!=e.buffer},wa.list=function(e){var i=[],s=wa.libraries;for(s=new bf(s,s.arrayKeys());s.hasNext();){var n=s.next().list(e);null!=n&&(i=i.concat(n))}return i},wa.loadAsset=function(e,i,s){if(s&&wa.cache.enabled)switch(i){case"BINARY":case"TEXT":s=!1;break;case"FONT":var n=wa.cache.font;if(null!=(n=null!=t[e]?n.getReserved(e):n.h[e]))return wb.withValue(n);break;case"IMAGE":if(n=wa.cache.image,n=null!=t[e]?n.getReserved(e):n.h[e],wa.isValidImage(n))return wb.withValue(n);break;case"MUSIC":case"SOUND":if(n=wa.cache.audio,n=null!=t[e]?n.getReserved(e):n.h[e],wa.isValidAudio(n))return wb.withValue(n);break;case"TEMPLATE":throw new E("Not sure how to get template: "+e);default:return null}var o=e.indexOf(":");n=e.substring(0,o),o=e.substring(o+1);var l=wa.getLibrary(n);return null!=l?l.exists(o,i)?(n=l.loadAsset(o,i),s&&wa.cache.enabled&&n.onComplete(function(_){wa.cache.set(e,i,_)}),n):wb.withError("There is no "+i+' asset with an ID of "'+e+'"'):wb.withError(wa.__libraryNotFound(n))},wa.loadAudioBuffer=function(e,i){return null==i&&(i=!0),wa.loadAsset(e,"SOUND",i)},wa.loadBytes=function(e){return wa.loadAsset(e,"BINARY",!1)},wa.loadFont=function(e,i){return null==i&&(i=!0),wa.loadAsset(e,"FONT",i)},wa.loadImage=function(e,i){return null==i&&(i=!0),wa.loadAsset(e,"IMAGE",i)},wa.loadLibrary=function(e){var i=new Sd,s=wa.getLibrary(e);if(null!=s)return s.load();s=e;var n=null;return n=wa.bundlePaths,(null!=t[e]?n.existsReserved(e):n.h.hasOwnProperty(e))?(s=wa.bundlePaths,sg.loadFromFile(null!=t[e]?s.getReserved(e):s.h[e]).onComplete(function(o){if(null==o)i.error('Cannot load bundle for library "'+e+'"');else if(null==(o=Wb.fromBundle(o)))i.error('Cannot open library "'+e+'"');else{var l=wa.libraries;null!=t[e]?l.setReserved(e,o):l.h[e]=o,o.onChange.add(r(w=wa.onChange,w.dispatch)),o=o.load(),i.completeWith(o)}}).onError(function(o){i.error('There is no asset library with an ID of "'+e+'"')})):(n=wa.libraryPaths,(null!=t[e]?n.existsReserved(e):n.h.hasOwnProperty(e))?(s=wa.libraryPaths,s=null!=t[e]?s.getReserved(e):s.h[e],n=gi.directory(s)):(aa.endsWith(s,".bundle")?(n=s,s+="/library.json"):n=gi.directory(s),s=wa.__cacheBreak(s)),gd.loadFromFile(s,n).onComplete(function(o){if(null==o)i.error('Cannot parse asset manifest for library "'+e+'"');else if(null==(o=Wb.fromManifest(o)))i.error('Cannot open library "'+e+'"');else{var l=wa.libraries;null!=t[e]?l.setReserved(e,o):l.h[e]=o,o.onChange.add(r(w=wa.onChange,w.dispatch)),o=o.load(),i.completeWith(o)}}).onError(function(o){i.error('There is no asset library with an ID of "'+e+'"')})),i.future},wa.loadText=function(e){return wa.loadAsset(e,"TEXT",!1)},wa.registerLibrary=function(e,i){var s=wa.libraries;if(null!=t[e]?s.existsReserved(e):s.h.hasOwnProperty(e)){if(s=wa.libraries,(null!=t[e]?s.getReserved(e):s.h[e])==i)return;wa.unloadLibrary(e)}i?.onChange.add(wa.library_onChange),s=wa.libraries,null!=t[e]?s.setReserved(e,i):s.h[e]=i},wa.unloadLibrary=function(e){(null==e||""==e)&&(e="default");var i=wa.libraries;null!=(i=null!=t[e]?i.getReserved(e):i.h[e])&&(wa.cache.clear(e+":"),i.onChange.remove(wa.library_onChange),i.unload()),wa.libraries.remove(e)},wa.__cacheBreak=function(e){return 0<wa.cache.version&&(e=-1<e.indexOf("?")?e+"&"+wa.cache.version:e+"?"+wa.cache.version),e},wa.__libraryNotFound=function(e){return(null==e||""==e)&&(e="default"),null==We.current||null==We.current.__preloader||We.current.__preloader.complete?'There is no asset library named "'+e+'"':'There is no asset library named "'+e+'", or it is not yet preloaded'},wa.library_onChange=function(){wa.cache.clear(),wa.onChange.dispatch()};var zs=function(e){var i=e.indexOf(":");this.libraryName=e.substring(0,i),this.symbolName=e.substring(i+1),this.library=wa.getLibrary(this.libraryName)};k["lime.utils._Assets.LibrarySymbol"]=zs,zs.__name__="lime.utils._Assets.LibrarySymbol",zs.prototype={library:null,libraryName:null,symbolName:null,isLocal:function(e){return this.library.isLocal(this.symbolName,e)},exists:function(e){return this.library.exists(this.symbolName,e)},__class__:zs};var Je={};k["lime.utils._BytePointer.BytePointer_Impl_"]=Je,Je.__name__="lime.utils._BytePointer.BytePointer_Impl_",Je._new=function(e,i){return null==i&&(i=0),new tg(e,i)},Je.set=function(e,i,s,n,o){null!=n&&(i=bb.ofData(n)),null!=i||null==s?(e.bytes=i,e.offset=o??0):(e.bytes=bb.ofData(s.buffer),e.offset=null!=o?s.byteOffset+o:s.byteOffset)},Je.__arrayGet=function(e,i){return null!=e.bytes?e.bytes.b[i+e.offset]:0},Je.__arraySet=function(e,i,s){return null==e.bytes&&(e.bytes.b[i+e.offset]=255&s),s},Je.fromArrayBufferView=function(e){return null==e?null:new tg(bb.ofData(e.buffer),e.byteOffset)},Je.fromArrayBuffer=function(e){return null==e?null:new tg(bb.ofData(e),0)},Je.fromBytes=function(e){return new tg(e,0)},Je.fromBytesData=function(e){return new tg(null==e?null:bb.ofData(e),0)},Je.fromFile=function(e){return new tg(Rc.fromFile(e),0)},Je.fromLimeBytes=function(e){return new tg(e,0)},Je.toUInt8Array=function(e){var i=e.bytes.b.bufferValue;return null==(e=e.offset/8|0)&&(e=0),null!=i?new Uint8Array(i,e):null},Je.toUInt8ClampedArray=function(e){if(null==e||null==e.bytes)return null;var i=e.bytes.b.bufferValue;return null==(e=e.offset/8|0)&&(e=0),null!=i?new Uint8ClampedArray(i,e):null},Je.toInt8Array=function(e){if(null==e||null==e.bytes)return null;var i=e.bytes.b.bufferValue;return null==(e=e.offset/8|0)&&(e=0),null!=i?new Int8Array(i,e):null},Je.toUInt16Array=function(e){if(null==e||null==e.bytes)return null;var i=e.bytes.b.bufferValue;return null==(e=e.offset/16|0)&&(e=0),null!=i?new Uint16Array(i,e):null},Je.toInt16Array=function(e){if(null==e||null==e.bytes)return null;var i=e.bytes.b.bufferValue;return null==(e=e.offset/16|0)&&(e=0),null!=i?new Int16Array(i,e):null},Je.toUInt32Array=function(e){if(null==e||null==e.bytes)return null;var i=e.bytes.b.bufferValue;return null==(e=e.offset/32|0)&&(e=0),null!=i?new Uint32Array(i,e):null},Je.toInt32Array=function(e){if(null==e||null==e.bytes)return null;var i=e.bytes.b.bufferValue;return null==(e=e.offset/32|0)&&(e=0),null!=i?new Int32Array(i,e):null},Je.toFloat32Array=function(e){if(null==e||null==e.bytes)return null;var i=e.bytes.b.bufferValue;return null==(e=e.offset/32|0)&&(e=0),null!=i?new Float32Array(i,e):null},Je.toFloat64Array=function(e){if(null==e||null==e.bytes)return null;var i=e.bytes.b.bufferValue;return null==(e=e.offset/64|0)&&(e=0),null!=i?new Float64Array(i,e):null};var tg=function(e,i){this.bytes=e,this.offset=i};k["lime.utils.BytePointerData"]=tg,tg.__name__="lime.utils.BytePointerData",tg.prototype={bytes:null,offset:null,__class__:tg};var Rc={};k["lime.utils._Bytes.Bytes_Impl_"]=Rc,Rc.__name__="lime.utils._Bytes.Bytes_Impl_",Rc._new=function(e,i){return new bb(i)},Rc.alloc=function(e){return new bb(new ArrayBuffer(e))},Rc.compress=function(e,i){switch(i._hx_index){case 0:return fo.compress(e);case 1:return go.compress(e);case 2:return io.compress(e);case 3:return jo.compress(e)}},Rc.decompress=function(e,i){switch(i._hx_index){case 0:return fo.decompress(e);case 1:return go.decompress(e);case 2:return io.decompress(e);case 3:return jo.decompress(e)}},Rc.fastGet=function(e,i){return e.bytes[i]},Rc.fromBytes=function(e){return null==e?null:Rc._new(e.length,e.b.bufferValue)},Rc.fromFile=function(e){return null},Rc.loadFromBytes=function(e){return wb.withValue(Rc.fromBytes(e))},Rc.loadFromFile=function(e){return(new to).load(e)},Rc.ofData=function(e){return e=bb.ofData(e),Rc._new(e.length,e.b.bufferValue)},Rc.ofString=function(e){return e=bb.ofString(e),Rc._new(e.length,e.b.bufferValue)};var ml=C["lime.utils.CompressionAlgorithm"]={__ename__:"lime.utils.CompressionAlgorithm",__constructs__:["DEFLATE","GZIP","LZMA","ZLIB"],DEFLATE:{_hx_index:0,__enum__:"lime.utils.CompressionAlgorithm",toString:v},GZIP:{_hx_index:1,__enum__:"lime.utils.CompressionAlgorithm",toString:v},LZMA:{_hx_index:2,__enum__:"lime.utils.CompressionAlgorithm",toString:v},ZLIB:{_hx_index:3,__enum__:"lime.utils.CompressionAlgorithm",toString:v}},ec={};k["lime.utils._DataPointer.DataPointer_Impl_"]=ec,ec.__name__="lime.utils._DataPointer.DataPointer_Impl_",ec._new=function(e){return e},ec.fromFloat=function(e){return e},ec.fromBytesPointer=function(e){return ec.fromFloat(0)},ec.fromArrayBufferView=function(e){return ec.fromFloat(0)},ec.fromArrayBuffer=function(e){return ec.fromFloat(0)},ec.fromBytes=function(e){return ec.fromFloat(0)},ec.fromBytesData=function(e){return ec.fromFloat(0)},ec.fromLimeBytes=function(e){return ec.fromBytes(e)},ec.fromCFFIPointer=function(e){return ec.fromFloat(0)},ec.fromFile=function(e){return ec.fromFloat(0)},ec.__withOffset=function(e,i){return ec.fromFloat(0)},ec.equals=function(e,i){return e==i},ec.equalsPointer=function(e,i){return e==i},ec.greaterThan=function(e,i){return e>i},ec.greaterThanPointer=function(e,i){return sc.get(e)>sc.get(i)},ec.greaterThanOrEqual=function(e,i){return e>=i},ec.greaterThanOrEqualPointer=function(e,i){return sc.get(e)>=sc.get(i)},ec.lessThan=function(e,i){return e<i},ec.lessThanPointer=function(e,i){return sc.get(e)<sc.get(i)},ec.lessThanOrEqual=function(e,i){return e<=i},ec.lessThanOrEqualPointer=function(e,i){return sc.get(e)<=sc.get(i)},ec.notEquals=function(e,i){return e!=i},ec.notEqualsPointer=function(e,i){return e!=i},ec.plus=function(e,i){return ec.__withOffset(e,i)},ec.plusPointer=function(e,i){return ec.__withOffset(e,0|i)},ec.minus=function(e,i){return ec.__withOffset(e,-i)},ec.minusPointer=function(e,i){return ec.__withOffset(e,-(0|i))};var Bf={};k["lime.utils._Float32Array.Float32Array_Impl_"]=Bf,Bf.__name__="lime.utils._Float32Array.Float32Array_Impl_",Bf.toArrayBufferView=function(e){return e},Bf.fromBytes=function(e,i,s){return null==i&&(i=0),null==i?new Float32Array(e.b.bufferValue):null==s?new Float32Array(e.b.bufferValue,i):new Float32Array(e.b.bufferValue,i,s)},Bf.toBytes=function(e){return new bb(new Uint8Array(e.buffer))},Bf.toString=function(e){return null!=e?"Float32Array [byteLength:"+e.byteLength+", length:"+e.length+"]":null};var nl={};k["lime.utils._Float64Array.Float64Array_Impl_"]=nl,nl.__name__="lime.utils._Float64Array.Float64Array_Impl_",nl.toArrayBufferView=function(e){return e},nl.fromBytes=function(e,i,s){return null==i&&(i=0),null==i?new Float64Array(e.b.bufferValue):null==s?new Float64Array(e.b.bufferValue,i):new Float64Array(e.b.bufferValue,i,s)},nl.toBytes=function(e){return new bb(new Uint8Array(e.buffer))},nl.toString=function(e){return null!=e?"Float64Array [byteLength:"+e.byteLength+", length:"+e.length+"]":null};var ol={};k["lime.utils._Int16Array.Int16Array_Impl_"]=ol,ol.__name__="lime.utils._Int16Array.Int16Array_Impl_",ol.toArrayBufferView=function(e){return e},ol.fromBytes=function(e,i,s){return null==i&&(i=0),null==i?new Int16Array(e.b.bufferValue):null==s?new Int16Array(e.b.bufferValue,i):new Int16Array(e.b.bufferValue,i,s)},ol.toBytes=function(e){return new bb(new Uint8Array(e.buffer))},ol.toString=function(e){return null!=e?"Int16Array [byteLength:"+e.byteLength+", length:"+e.length+"]":null};var pl={};k["lime.utils._Int32Array.Int32Array_Impl_"]=pl,pl.__name__="lime.utils._Int32Array.Int32Array_Impl_",pl.toArrayBufferView=function(e){return e},pl.fromBytes=function(e,i,s){return null==i&&(i=0),null==i?new Int32Array(e.b.bufferValue):null==s?new Int32Array(e.b.bufferValue,i):new Int32Array(e.b.bufferValue,i,s)},pl.toBytes=function(e){return new bb(new Uint8Array(e.buffer))},pl.toString=function(e){return null!=e?"Int32Array [byteLength:"+e.byteLength+", length:"+e.length+"]":null};var ql={};k["lime.utils._Int8Array.Int8Array_Impl_"]=ql,ql.__name__="lime.utils._Int8Array.Int8Array_Impl_",ql.toArrayBufferView=function(e){return e},ql.fromBytes=function(e,i,s){return null==i&&(i=0),new Int8Array(e.b.bufferValue,i,s)},ql.toBytes=function(e){return new bb(new Uint8Array(e.buffer))},ql.toString=function(e){return null!=e?"Int8Array [byteLength:"+e.byteLength+", length:"+e.length+"]":null};var Ua=function(){};k["lime.utils.Log"]=Ua,Ua.__name__="lime.utils.Log",Ua.debug=function(e,i){4<=Ua.level&&console.debug("["+i.className+"] "+O.string(e))},Ua.error=function(e,i){if(1<=Ua.level){if(e="["+i.className+"] ERROR: "+O.string(e),Ua.throwErrors)throw new E(e);console.error(e)}},Ua.info=function(e,i){3<=Ua.level&&console.info("["+i.className+"] "+O.string(e))},Ua.print=function(e){console.log(e)},Ua.println=function(e){console.log(e)},Ua.verbose=function(e,i){5<=Ua.level&&(e="["+i.className+"] "+O.string(e),console.log(e))},Ua.warn=function(e,i){2<=Ua.level&&console.warn("["+i.className+"] WARNING: "+O.string(e))};var dh={};k["lime.utils._LogLevel.LogLevel_Impl_"]=dh,dh.__name__="lime.utils._LogLevel.LogLevel_Impl_",dh.gt=function(e,i){return e>i},dh.gte=function(e,i){return e>=i},dh.lt=function(e,i){return e<i},dh.lte=function(e,i){return e<=i};var Fq=function(){this.bytesTotalCache=new va,this.bytesLoadedCache2=new va,this.bytesLoadedCache=new Aa,this.onProgress=new ko,this.onComplete=new be,this.bytesTotal=this.bytesLoaded=0,this.libraries=[],this.libraryNames=[],this.onProgress.add(r(this,this.update))};k["lime.utils.Preloader"]=Fq,Fq.__name__="lime.utils.Preloader",Fq.prototype={complete:null,onComplete:null,onProgress:null,bytesLoaded:null,bytesLoadedCache:null,bytesLoadedCache2:null,bytesTotal:null,bytesTotalCache:null,initLibraryNames:null,libraries:null,libraryNames:null,loadedLibraries:null,loadedStage:null,preloadComplete:null,preloadStarted:null,simulateProgress:null,addLibrary:function(e){this.libraries.push(e)},addLibraryName:function(e){-1==this.libraryNames.indexOf(e)&&this.libraryNames.push(e)},load:function(){for(var e=this,i=0,s=this.libraries;i<s.length;){var n=s[i];++i,this.bytesTotal+=n.bytesTotal}for(this.loadedLibraries=-1,this.preloadStarted=!1,i=0,s=this.libraries;i<s.length;)n=[s[i]],++i,Ua.verbose("Preloading asset library",{fileName:"lime/utils/Preloader.hx",lineNumber:132,className:"lime.utils.Preloader",methodName:"load"}),n[0].load().onProgress(function(o){return function(l,_){e.bytesLoaded=null==e.bytesLoadedCache.h.__keys__[o[0].__id__]?e.bytesLoaded+l:e.bytesLoaded+(l-e.bytesLoadedCache.h[o[0].__id__]),e.bytesLoadedCache.set(o[0],l),e.simulateProgress||e.onProgress.dispatch(e.bytesLoaded,e.bytesTotal)}}(n)).onComplete(function(o){return function(l){e.bytesLoaded=null==e.bytesLoadedCache.h.__keys__[o[0].__id__]?e.bytesLoaded+o[0].bytesTotal:e.bytesLoaded+(o[0].bytesTotal-e.bytesLoadedCache.h[o[0].__id__]),e.loadedAssetLibrary()}}(n)).onError(function(o){Ua.error(o,{fileName:"lime/utils/Preloader.hx",lineNumber:168,className:"lime.utils.Preloader",methodName:"load"})});for(i=0,s=this.libraryNames;i<s.length;)++i,this.bytesTotal+=200;this.loadedLibraries++,this.preloadStarted=!0,this.updateProgress()},loadedAssetLibrary:function(e){this.loadedLibraries++;var i=this.loadedLibraries;this.preloadStarted||++i;var s=this.libraries.length+this.libraryNames.length;null!=e?Ua.verbose("Loaded asset library: "+e+" ["+i+"/"+s+"]",{fileName:"lime/utils/Preloader.hx",lineNumber:195,className:"lime.utils.Preloader",methodName:"loadedAssetLibrary"}):Ua.verbose("Loaded asset library ["+i+"/"+s+"]",{fileName:"lime/utils/Preloader.hx",lineNumber:199,className:"lime.utils.Preloader",methodName:"loadedAssetLibrary"}),this.updateProgress()},start:function(){this.complete||this.simulateProgress||!this.preloadComplete||(this.complete=!0,this.onComplete.dispatch())},update:function(e,i){},updateProgress:function(){var e=this;if(this.simulateProgress||this.onProgress.dispatch(this.bytesLoaded,this.bytesTotal),this.loadedLibraries==this.libraries.length&&!this.initLibraryNames){this.initLibraryNames=!0;for(var i=0,s=this.libraryNames;i<s.length;){var n=[s[i]];++i,Ua.verbose("Preloading asset library: "+n[0],{fileName:"lime/utils/Preloader.hx",lineNumber:236,className:"lime.utils.Preloader",methodName:"updateProgress"}),wa.loadLibrary(n[0]).onProgress(function(o){return function(l,_){if(0<_){var h=e.bytesTotalCache;(null!=t[o[0]]?h.existsReserved(o[0]):h.h.hasOwnProperty(o[0]))||(h=e.bytesTotalCache,null!=t[o[0]]?h.setReserved(o[0],_):h.h[o[0]]=_,e.bytesTotal+=_-200),l>_&&(l=_),_=e.bytesLoadedCache2,(null!=t[o[0]]?_.existsReserved(o[0]):_.h.hasOwnProperty(o[0]))?(_=e.bytesLoadedCache2,e.bytesLoaded+=l-(null!=t[o[0]]?_.getReserved(o[0]):_.h[o[0]])):e.bytesLoaded+=l,_=e.bytesLoadedCache2,null!=t[o[0]]?_.setReserved(o[0],l):_.h[o[0]]=l,e.simulateProgress||e.onProgress.dispatch(e.bytesLoaded,e.bytesTotal)}}}(n)).onComplete(function(o){return function(l){l=200;var _=e.bytesTotalCache;(null!=t[o[0]]?_.existsReserved(o[0]):_.h.hasOwnProperty(o[0]))&&(l=e.bytesTotalCache,l=null!=t[o[0]]?l.getReserved(o[0]):l.h[o[0]]),_=e.bytesLoadedCache2,(null!=t[o[0]]?_.existsReserved(o[0]):_.h.hasOwnProperty(o[0]))?(_=e.bytesLoadedCache2,e.bytesLoaded+=l-(null!=t[o[0]]?_.getReserved(o[0]):_.h[o[0]])):e.bytesLoaded+=l,e.loadedAssetLibrary(o[0])}}(n)).onError(function(o){Ua.error(o,{fileName:"lime/utils/Preloader.hx",lineNumber:290,className:"lime.utils.Preloader",methodName:"updateProgress"})})}}this.simulateProgress||this.loadedLibraries!=this.libraries.length+this.libraryNames.length||(this.preloadComplete||(this.preloadComplete=!0,Ua.verbose("Preload complete",{fileName:"lime/utils/Preloader.hx",lineNumber:301,className:"lime.utils.Preloader",methodName:"updateProgress"})),this.start())},__class__:Fq};var rl={};k["lime.utils._UInt16Array.UInt16Array_Impl_"]=rl,rl.__name__="lime.utils._UInt16Array.UInt16Array_Impl_",rl.toArrayBufferView=function(e){return e},rl.fromBytes=function(e,i,s){return null==i&&(i=0),null==i?new Uint16Array(e.b.bufferValue):null==s?new Uint16Array(e.b.bufferValue,i):new Uint16Array(e.b.bufferValue,i,s)},rl.toBytes=function(e){return new bb(new Uint8Array(e.buffer))},rl.toString=function(e){return null!=e?"UInt16Array [byteLength:"+e.byteLength+", length:"+e.length+"]":null};var sl={};k["lime.utils._UInt32Array.UInt32Array_Impl_"]=sl,sl.__name__="lime.utils._UInt32Array.UInt32Array_Impl_",sl.toArrayBufferView=function(e){return e},sl.fromBytes=function(e,i,s){return null==i&&(i=0),null==i?new Uint32Array(e.b.bufferValue):null==s?new Uint32Array(e.b.bufferValue,i):new Uint32Array(e.b.bufferValue,i,s)},sl.toBytes=function(e){return new bb(new Uint8Array(e.buffer))},sl.toString=function(e){return null!=e?"UInt32Array [byteLength:"+e.byteLength+", length:"+e.length+"]":null};var tl={};k["lime.utils._UInt8Array.UInt8Array_Impl_"]=tl,tl.__name__="lime.utils._UInt8Array.UInt8Array_Impl_",tl.toArrayBufferView=function(e){return e},tl.fromBytes=function(e,i,s){return null==i?new Uint8Array(e.b.bufferValue):null==s?new Uint8Array(e.b.bufferValue,i):new Uint8Array(e.b.bufferValue,i,s)},tl.toBytes=function(e){return new bb(new Uint8Array(e.buffer))},tl.toString=function(e){return null!=e?"UInt8Array [byteLength:"+e.byteLength+", length:"+e.length+"]":null};var Mj={};k["lime.utils._UInt8ClampedArray.UInt8ClampedArray_Impl_"]=Mj,Mj.__name__="lime.utils._UInt8ClampedArray.UInt8ClampedArray_Impl_",Mj.toArrayBufferView=function(e){return e},Mj.fromBytes=function(e,i,s){return null==i&&(i=0),null==i?new Uint8ClampedArray(e.b.bufferValue):null==s?new Uint8ClampedArray(e.b.bufferValue,i):new Uint8ClampedArray(e.b.bufferValue,i,s)},Mj.toBytes=function(e){return new bb(new Uint8Array(e.buffer))},Mj.toString=function(e){return null!=e?"UInt8ClampedArray [byteLength:"+e.byteLength+", length:"+e.length+"]":null},Mj._clamp=function(e){return 0>(e=255<(e|=0)?255:e)?0:e};var vj=function(e,i,s){this.name=e,this.type=i,this.address=s};k["mbs.core.MbsField"]=vj,vj.__name__="mbs.core.MbsField",vj.prototype={name:null,type:null,address:null,getName:function(){return this.name},getType:function(){return this.type},getAddress:function(){return this.address},__class__:vj};var wo=function(e,i,s){vj.call(this,e,null,s),this.typeName=i};k["mbs.core.reflect.SubstituteField"]=wo,wo.__name__="mbs.core.reflect.SubstituteField",wo.__super__=vj,wo.prototype=x(vj.prototype,{typeName:null,toString:function(){return"MbsField [name="+this.getName()+", typeName="+this.typeName+", address="+this.address+"]"},__class__:wo});var Nj=function(e,i,s,n){Cb.call(this,e),this.parentName=i,this.fields=s.slice(0),this.size=n};k["mbs.core.reflect.SubstituteType"]=Nj,Nj.__name__="mbs.core.reflect.SubstituteType",Nj.__super__=Cb,Nj.prototype=x(Cb.prototype,{parentName:null,mapTypes:function(e){var i=this.parentName;if(this.parent=null!=t[i]?e.getReserved(i):e.h[i],null!=this.fields){i=0;for(var s=this.fields.length;i<s;){var n=i++,o=(n=this.fields[n]).typeName;n.type=null!=t[o]?e.getReserved(o):e.h[o]}}},__class__:Nj});var we=function(){};k["mbs.io.MbsDynamicHelper"]=we,we.__name__="mbs.io.MbsDynamicHelper",we.writeDynamic=function(e,i,s){"boolean"==typeof s?(e.writeTypecode(i,M.BOOLEAN),e.writeBool(i+M.INTEGER.getSize(),s)):"number"==typeof s?(e.writeTypecode(i,M.FLOAT),e.writeFloat(i+M.INTEGER.getSize(),s)):"number"==typeof s&&(0|s)===s?(e.writeTypecode(i,M.INTEGER),e.writeInt(i+M.INTEGER.getSize(),s)):"string"==typeof s?(e.writeTypecode(i,M.STRING),e.writeString(i+M.INTEGER.getSize(),s)):(e.writeTypecode(i,s.getMbsType()),e.writeInt(i+M.INTEGER.getSize(),s.getAddress()))},we.readDynamic=function(e,i){var s=e.readTypecode(i);return s==M.BOOLEAN?e.readBool(i+M.INTEGER.getSize()):s==M.FLOAT?e.readFloat(i+M.INTEGER.getSize()):s==M.INTEGER?e.readInt(i+M.INTEGER.getSize()):s==M.STRING?e.readString(i+M.INTEGER.getSize()):s==M.LIST?0!=(i=e.readInt(i+M.INTEGER.getSize()))?(s=e.readTypecode(i+M.INTEGER.getSize()),(e=s==M.BOOLEAN?new ul(e):s==M.FLOAT?new vl(e):s==M.INTEGER?new kg(e):s==M.STRING?new wl(e):s==M.DYNAMIC?new ai(e):new cb(e,s,s.createInstance(e))).setAddress(i),e):null:((s=s.createInstance(e)).setAddress(e.readInt(i+M.INTEGER.getSize())),s)},we.createObjectPool=function(e){return new Aa},we.readDynamicUsingPool=function(e,i,s){var n=e.readTypecode(i);if(n==M.BOOLEAN)return e.readBool(i+M.INTEGER.getSize());if(n==M.FLOAT)return e.readFloat(i+M.INTEGER.getSize());if(n==M.INTEGER)return e.readInt(i+M.INTEGER.getSize());if(n==M.STRING)return e.readString(i+M.INTEGER.getSize());if(n==M.LIST)return 0!=(i=e.readInt(i+M.INTEGER.getSize()))?(n=e.readTypecode(i+M.INTEGER.getSize()),(e=n==M.BOOLEAN?new ul(e):n==M.FLOAT?new vl(e):n==M.INTEGER?new kg(e):n==M.STRING?new wl(e):n==M.DYNAMIC?new ai(e):new cb(e,n,n.createInstance(e))).setAddress(i),e):null;var o=s.h[n.__id__];return null==o&&(o=n.createInstance(e),s.set(n,o)),o.setAddress(e.readInt(i+M.INTEGER.getSize())),o};var xo=function(){};k["mbs.io.MbsIO"]=xo,xo.__name__="mbs.io.MbsIO",xo.__isInterface__=!0,xo.prototype={readBool:null,readFloat:null,readInt:null,readString:null,writeInt:null,writeBool:null,writeFloat:null,writeString:null,isReader:null,isWriter:null,allocate:null,writeTypecode:null,readTypecode:null,__class__:xo};var Ee=function(e,i){this.data=e,null!=i&&(this.type=i,this.elementSize=i.getSize())};k["mbs.io.MbsListBase"]=Ee,Ee.__name__="mbs.io.MbsListBase",Ee.__super__=lb,Ee.prototype=x(lb.prototype,{type:null,elementAddress:null,elementSize:null,_length:null,setAddress:function(e){lb.prototype.setAddress.call(this,e),this.data.isReader()&&(0!=e?(this._length=this.data.readInt(e),this.type=this.data.readTypecode(e+M.INTEGER.getSize()),this.elementSize=this.type.getSize(),this.elementAddress=e+2*M.INTEGER.getSize()):(this.type=null,this.elementAddress=this.elementSize=this._length=0))},allocateNew:function(e){if(this.data.isWriter())return this._length=e,this.address=this.data.allocate(2*M.INTEGER.getSize()+this.elementSize*e),this.data.writeInt(this.address,e),this.data.writeTypecode(this.address+M.INTEGER.getSize(),this.type),this.elementAddress=this.address+2*M.INTEGER.getSize(),this.address;throw new E("Can't allocate new objects when reading")},length:function(){return this._length},__class__:Ee});var cb=function(e,i,s){Ee.call(this,e,i),this.obj=s};k["mbs.io.MbsList"]=cb,cb.__name__="mbs.io.MbsList",cb.__super__=Ee,cb.prototype=x(Ee.prototype,{obj:null,getNextObject:function(){return this.obj.setAddress(this.elementAddress),this.elementAddress+=this.elementSize,this.obj},__class__:cb});var ul=function(e){Ee.call(this,e,M.BOOLEAN)};k["mbs.io.MbsBoolList"]=ul,ul.__name__="mbs.io.MbsBoolList",ul.__super__=Ee,ul.prototype=x(Ee.prototype,{readBool:function(){var e=this.data.readBool(this.elementAddress);return this.elementAddress+=this.elementSize,e},writeBool:function(e){this.data.writeBool(this.elementAddress,e),this.elementAddress+=this.elementSize},__class__:ul});var vl=function(e){Ee.call(this,e,M.FLOAT)};k["mbs.io.MbsFloatList"]=vl,vl.__name__="mbs.io.MbsFloatList",vl.__super__=Ee,vl.prototype=x(Ee.prototype,{readFloat:function(){var e=this.data.readFloat(this.elementAddress);return this.elementAddress+=this.elementSize,e},writeFloat:function(e){this.data.writeFloat(this.elementAddress,e),this.elementAddress+=this.elementSize},__class__:vl});var kg=function(e){Ee.call(this,e,M.INTEGER)};k["mbs.io.MbsIntList"]=kg,kg.__name__="mbs.io.MbsIntList",kg.__super__=Ee,kg.prototype=x(Ee.prototype,{readInt:function(){var e=this.data.readInt(this.elementAddress);return this.elementAddress+=this.elementSize,e},writeInt:function(e){this.data.writeInt(this.elementAddress,e),this.elementAddress+=this.elementSize},__class__:kg});var wl=function(e){Ee.call(this,e,M.STRING)};k["mbs.io.MbsStringList"]=wl,wl.__name__="mbs.io.MbsStringList",wl.__super__=Ee,wl.prototype=x(Ee.prototype,{readString:function(){var e=this.data.readString(this.elementAddress);return this.elementAddress+=this.elementSize,e},writeString:function(e){this.data.writeString(this.elementAddress,e),this.elementAddress+=this.elementSize},__class__:wl});var ai=function(e){Ee.call(this,e,M.DYNAMIC)};k["mbs.io.MbsDynamicList"]=ai,ai.__name__="mbs.io.MbsDynamicList",ai.__super__=Ee,ai.prototype=x(Ee.prototype,{readObject:function(){var e=we.readDynamic(this.data,this.elementAddress);return this.elementAddress+=this.elementSize,e},readObjectUsingPool:function(e){return e=we.readDynamicUsingPool(this.data,this.elementAddress,e),this.elementAddress+=this.elementSize,e},writeObject:function(e){we.writeDynamic(this.data,this.elementAddress,e),this.elementAddress+=this.elementSize},__class__:ai});var Xh=function(e,i,s){this.typedefSet=e,this.readStoredTypeInformation=i,this.initStringList=s,this.header=new Hc(this),this.header.setAddress(0)};k["mbs.io.MbsReader"]=Xh,Xh.__name__="mbs.io.MbsReader",Xh.__interfaces__=[xo],Xh.prototype={data:null,stringTable:null,typeTable:null,rootAddress:null,subTypeMap:null,initStringList:null,stringTableAddress:null,readStoredTypeInformation:null,typedefSet:null,header:null,canRead:function(e){var i=null;return(null==e||e.length<this.header.getMbsType().getSize())&&(i="Missing header"),this.data=e,1!=this.header.getVersion()&&(i="Mismatched version -- "+this.header.getVersion()),this.header.getTypeTableHash()!=this.typedefSet.getHash()&&(i="Mismatched typetable"),this.readStoredTypeInformation&&0==this.header.getTypeTablePointer()&&(i="Missing required type information"),this.data=null,i},readData:function(e){if(this.data=e,1!=this.header.getVersion())throw new E("Can't read mbs. Wrong version.");if(this.header.getTypeTableHash()!=this.typedefSet.getHash())throw new E("Can't read mbs. Wrong typedef info.");var i=M.INTEGER.getSize();if(this.stringTableAddress=this.header.getStringTablePointer(),this.stringTable=Array(this.readInt(this.stringTableAddress)),this.initStringList)for(var s=this.stringTableAddress+i,n=0,o=this.stringTable.length;n<o;){var l=n++,_=this.readInt(s),h=this.readInt(_);this.stringTable[l]=e.getString(_+4,h),s+=i}if(this.readStoredTypeInformation){for(e=new ed(this),s=this.header.getTypeTablePointer(),this.typeTable=Array(this.readInt(s)),s+=i,this.subTypeMap=new va,n=new va,l=(o=M.BOOLEAN).getName(),null!=t[l]?n.setReserved(l,o):n.h[l]=o,l=(o=M.INTEGER).getName(),null!=t[l]?n.setReserved(l,o):n.h[l]=o,l=(o=M.FLOAT).getName(),null!=t[l]?n.setReserved(l,o):n.h[l]=o,l=(o=M.STRING).getName(),null!=t[l]?n.setReserved(l,o):n.h[l]=o,l=(o=M.DYNAMIC).getName(),null!=t[l]?n.setReserved(l,o):n.h[l]=o,l=(o=M.LIST).getName(),null!=t[l]?n.setReserved(l,o):n.h[l]=o,o=0,l=this.typeTable.length;o<l;){h=o++,e.setAddress(this.readInt(s)),s+=i,_=e.getName();var m=e.getParent(),f=e.getSize(),y=null,g=e.getFieldsPointer();if(0!=g){var j=this.readInt(g);g+=i,y=Array(j);for(var $=new nd(this),yt=0;yt<j;){var _t=yt++;$.setAddress(g),g+=nd.MBS_FIELD_INFO.getSize();var xt=$.getName(),Tt=$.getType(),St=$.getFieldAddress();y[_t]=new wo(xt,Tt,St)}}this.typeTable[h]=(null!=t[_]?n.existsReserved(_):n.h.hasOwnProperty(_))?null!=t[_]?n.getReserved(_):n.h[_]:new Nj(_,m,y,f),h=this.typeTable[h],m=this.subTypeMap,null!=t[_]?m.setReserved(_,h):m.h[_]=h}for(i=0,s=this.typeTable.length;i<s;)e=i++,this.typeTable[e]instanceof Nj&&T.__cast(this.typeTable[e],Nj).mapTypes(this.subTypeMap)}else for(this.typeTable=Array(this.typedefSet.getTypes().length),i=0,s=this.typedefSet.getTypes();i<s.length;)e=s[i],++i,this.typeTable[this.typedefSet.getTypecode(e)]=e},reconfigureComposition:function(e){var i=this.subTypeMap,s=e.getName();if(null!=t[s]?i.existsReserved(s):i.h.hasOwnProperty(s)){i=this.subTypeMap,s=e.getName();var n=null!=t[s]?i.getReserved(s):i.h[s];for(i=new va,s=0,n=n.getFields();s<n.length;){var o=n[s];++s;var l=o.getName();null!=t[l]?i.setReserved(l,o):i.h[l]=o}for(s=0,e=e.getFields();s<e.length;)n=e[s],++s,o=n.getName(),n.address=(null!=t[o]?i.getReserved(o):i.h[o]).address}},getRoot:function(){return this.header.getRoot()},readInt:function(e){return this.data.b[e]<<24|this.data.b[e+1]<<16|this.data.b[e+2]<<8|this.data.b[e+3]},readBool:function(e){return 0!=this.data.b[e]},readFloat:function(e){return re.i32ToFloat(this.readInt(e))},readString:function(e){if(this.initStringList)return this.stringTable[this.readInt(e)];if(e=this.readInt(e),null==this.stringTable[e]){var i=this.readInt(this.stringTableAddress+M.INTEGER.getSize()*(e+1)),s=this.readInt(i);this.stringTable[e]=this.data.getString(i+4,s)}return this.stringTable[e]},readTypecode:function(e){return this.typeTable[this.readInt(e)]},getTypeTable:function(){return this.typeTable},writeInt:function(e,i){throw new E("Can't write on an MBS reader")},writeBool:function(e,i){throw new E("Can't write on an MBS reader")},writeFloat:function(e,i){throw new E("Can't write on an MBS reader")},writeString:function(e,i){throw new E("Can't write on an MBS reader")},isReader:function(){return!0},isWriter:function(){return!1},allocate:function(e){throw new E("Can't allocate on an MBS reader")},writeTypecode:function(e,i){throw new E("Can't write on an MBS reader")},__class__:Xh};var Ya=function(){};k["openfl.Lib"]=Ya,Ya.__name__="openfl.Lib",Ya.__properties__={get_current:"get_current",get_application:"get_application"},Ya.as=function(e,i){return T.__instanceof(e,i)?e:null},Ya.attach=function(e){return new se},Ya.clearInterval=function(e){Ya.__timers.h.hasOwnProperty(e)&&(Ya.__timers.h[e].stop(),Ya.__timers.remove(e))},Ya.clearTimeout=function(e){Ya.__timers.h.hasOwnProperty(e)&&(Ya.__timers.h[e].stop(),Ya.__timers.remove(e))},Ya.getDefinitionByName=function(e){return null==e?null:k[e]},Ya.getQualifiedClassName=function(e){if(null==e)return null;var i=T.__instanceof(e,as)?e:T.getClass(e);return null==i?"boolean"==typeof e||e==Ms?"Bool":"number"==typeof e&&(0|e)===e||e==sj?"Int":"number"==typeof e||e==Ls?"Float":null:i.__name__},Ya.getQualifiedSuperclassName=function(e){return null==e||null==(e=T.__instanceof(e,as)?e:T.getClass(e))||null==(e=e.__super__)?null:e.__name__},Ya.getTimer=function(){return Na.getTimer()},Ya.getURL=function(e,i){Ya.navigateToURL(e,i)},Ya.navigateToURL=function(e,i){null==i&&(i="_blank");var s=e.url;if(rb.typeof(e.data)==Ad.TObject){for(var n="",o=X.fields(e.data),l=0;l<o.length;){var _=o[l];++l,0<n.length&&(n+="&");var h=encodeURIComponent(_)+"=";_=O.string(X.field(e.data,_)),n+=h+encodeURIComponent(_)}s=-1<s.indexOf("?")?s+"&"+n:s+"?"+n}Na.openURL(s,i)},Ya.notImplemented=function(e){var i=e.className+"."+e.methodName,s=Ya.__sentWarnings;(null!=t[i]?s.existsReserved(i):s.h.hasOwnProperty(i))||(s=Ya.__sentWarnings,null!=t[i]?s.setReserved(i,!0):s.h[i]=!0,Ua.warn(e.methodName+" is not implemented",e))},Ya.preventDefaultTouchMove=function(){window.document.addEventListener("touchmove",function(e){e.preventDefault()},!1)},Ya.sendToURL=function(e){(new Zg).load(e)},Ya.setInterval=function(e,i,s){var n=++Ya.__lastTimerID;return i=new of(i),Ya.__timers.h[n]=i,i.run=function(){e.apply(e,s??[])},n},Ya.setTimeout=function(e,i,s){var n=++Ya.__lastTimerID,o=Ya.__timers;return i=of.delay(function(){e.apply(e,s??[])},i),o.h[n]=i,n},Ya.trace=function(e){sh.trace(e,{fileName:"openfl/Lib.hx",lineNumber:575,className:"openfl.Lib",methodName:"trace"})},Ya.get_application=function(){return Sc.application},Ya.get_current=function(){return null==Sc.current&&(Sc.current=new se),Sc.current};var Eh=function(){};k["openfl._Vector.IVector"]=Eh,Eh.__name__="openfl._Vector.IVector",Eh.__isInterface__=!0,Eh.prototype={get_length:null,set_length:null,fixed:null,concat:null,copy:null,filter:null,get:null,indexOf:null,insertAt:null,iterator:null,join:null,lastIndexOf:null,pop:null,push:null,removeAt:null,reverse:null,set:null,shift:null,slice:null,sort:null,splice:null,toString:null,unshift:null,__class__:Eh,__properties__:{set_length:"set_length",get_length:"get_length"}};var cg=function(e,i,s){null==i&&(i=!1),null==e&&(e=0),null==s&&(s=[]),this.__array=s,0<e&&this.set_length(e),this.fixed=i};k["openfl._Vector.BoolVector"]=cg,cg.__name__="openfl._Vector.BoolVector",cg.__interfaces__=[Eh],cg.prototype={fixed:null,__array:null,concat:function(e){return new cg(0,!1,null==e?this.__array.slice():0<e.__array.length?this.__array.concat(e.__array):this.__array.slice())},copy:function(){return new cg(0,this.fixed,this.__array.slice())},filter:function(e){for(var i=this.fixed,s=[],n=0,o=this.__array;n<o.length;){var l=o[n];++n,e(l)&&s.push(l)}return new cg(0,i,s)},get:function(e){return!(e>=this.__array.length)&&this.__array[e]},indexOf:function(e,i){null==i&&(i=0);for(var s=this.__array.length;i<s;){var n=i++;if(this.__array[n]==e)return n}return-1},insertAt:function(e,i){(!this.fixed||e<this.__array.length)&&this.__array.splice(e,0,i)},iterator:function(){return B.iter(this.__array)},join:function(e){return null==e&&(e=","),this.__array.join(e)},lastIndexOf:function(e,i){for(i=null==i||i>=this.__array.length?this.__array.length-1:i;0<=i;){if(this.__array[i]==e)return i;--i}return-1},pop:function(){return this.fixed?null:this.__array.pop()},push:function(e){return this.fixed?this.__array.length:this.__array.push(e)},removeAt:function(e){return(!this.fixed||e<this.__array.length)&&this.__array.splice(e,1)[0]},reverse:function(){return this.__array.reverse(),this},set:function(e,i){return!this.fixed||e<this.__array.length?this.__array[e]=i:i},shift:function(){return this.fixed?null:this.__array.shift()},slice:function(e,i){return null==e&&(e=0),null==i&&(i=16777215),new cg(0,!1,this.__array.slice(e,i))},sort:function(e){this.__array.sort(e)},splice:function(e,i){return new cg(0,!1,this.__array.splice(e,i))},toJSON:function(){return this.__array},toString:function(){return null!=this.__array?this.__array.toString():null},unshift:function(e){this.fixed||this.__array.unshift(e)},get_length:function(){return this.__array.length},set_length:function(e){if(!this.fixed){var i=this.__array.length;if(0>e&&(e=0),e>i)for(;i<e;){var s=i++;this.__array[s]=!1}else for(;this.__array.length>e;)this.__array.pop()}return this.__array.length},__class__:cg,__properties__:{set_length:"set_length",get_length:"get_length"}};var eg=function(e,i,s,n){if(null==n&&(n=!1),null==i&&(i=!1),null==e&&(e=0),n){if(this.__array=[],null!=s){n=0;for(var o=s.length;n<o;){var l=n++;this.__array[l]=s[l]}}}else null==s&&(s=[]),this.__array=s;0<e&&this.set_length(e),this.fixed=i};k["openfl._Vector.FloatVector"]=eg,eg.__name__="openfl._Vector.FloatVector",eg.__interfaces__=[Eh],eg.prototype={fixed:null,__array:null,concat:function(e){return new eg(0,!1,null==e?this.__array.slice():0<e.__array.length?this.__array.concat(e.__array):this.__array.slice())},copy:function(){return new eg(0,this.fixed,this.__array.slice())},filter:function(e){for(var i=this.fixed,s=[],n=0,o=this.__array;n<o.length;){var l=o[n];++n,e(l)&&s.push(l)}return new eg(0,i,s)},get:function(e){return this.__array[e]},indexOf:function(e,i){null==i&&(i=0);for(var s=this.__array.length;i<s;){var n=i++;if(this.__array[n]==e)return n}return-1},insertAt:function(e,i){(!this.fixed||e<this.__array.length)&&this.__array.splice(e,0,i)},iterator:function(){return B.iter(this.__array)},join:function(e){return null==e&&(e=","),this.__array.join(e)},lastIndexOf:function(e,i){for(i=null==i||i>=this.__array.length?this.__array.length-1:i;0<=i;){if(this.__array[i]==e)return i;--i}return-1},pop:function(){return this.fixed?null:this.__array.pop()},push:function(e){return this.fixed?this.__array.length:this.__array.push(e)},removeAt:function(e){return!this.fixed||e<this.__array.length?this.__array.splice(e,1)[0]:0},reverse:function(){return this.__array.reverse(),this},set:function(e,i){return!this.fixed||e<this.__array.length?this.__array[e]=i:i},shift:function(){return this.fixed?null:this.__array.shift()},slice:function(e,i){return null==e&&(e=0),null==i&&(i=16777215),new eg(0,!1,this.__array.slice(e,i))},sort:function(e){this.__array.sort(e)},splice:function(e,i){return new eg(0,!1,this.__array.splice(e,i))},toJSON:function(){return this.__array},toString:function(){return null!=this.__array?this.__array.toString():null},unshift:function(e){this.fixed||this.__array.unshift(e)},get_length:function(){return this.__array.length},set_length:function(e){if(e!=this.__array.length&&!this.fixed){var i=this.__array.length;if(0>e&&(e=0),e>i)for(;i<e;){var s=i++;this.__array[s]=0}else for(;this.__array.length>e;)this.__array.pop()}return this.__array.length},__class__:eg,__properties__:{set_length:"set_length",get_length:"get_length"}};var fg=function(e,i,s){null==i&&(i=!1),null==e&&(e=0),null==s&&(s=[]),this.__array=s,0<e&&this.set_length(e),this.fixed=i};k["openfl._Vector.FunctionVector"]=fg,fg.__name__="openfl._Vector.FunctionVector",fg.__interfaces__=[Eh],fg.prototype={fixed:null,__array:null,concat:function(e){return new fg(0,!1,null==e?this.__array.slice():0<e.__array.length?this.__array.concat(e.__array):this.__array.slice())},copy:function(){return new fg(0,this.fixed,this.__array.slice())},filter:function(e){for(var i=this.fixed,s=[],n=0,o=this.__array;n<o.length;){var l=o[n];++n,e(l)&&s.push(l)}return new fg(0,i,s)},get:function(e){return e>=this.__array.length?null:this.__array[e]},indexOf:function(e,i){null==i&&(i=0);for(var s=this.__array.length;i<s;){var n=i++;if(X.compareMethods(this.__array[n],e))return n}return-1},insertAt:function(e,i){(!this.fixed||e<this.__array.length)&&this.__array.splice(e,0,i)},iterator:function(){return B.iter(this.__array)},join:function(e){return null==e&&(e=","),this.__array.join(e)},lastIndexOf:function(e,i){for(i=null==i||i>=this.__array.length?this.__array.length-1:i;0<=i;){if(X.compareMethods(this.__array[i],e))return i;--i}return-1},pop:function(){return this.fixed?null:this.__array.pop()},push:function(e){return this.fixed?this.__array.length:this.__array.push(e)},removeAt:function(e){return!this.fixed||e<this.__array.length?this.__array.splice(e,1)[0]:null},reverse:function(){return this.__array.reverse(),this},set:function(e,i){return!this.fixed||e<this.__array.length?this.__array[e]=i:i},shift:function(){return this.fixed?null:this.__array.shift()},slice:function(e,i){return null==e&&(e=0),null==i&&(i=16777215),new fg(0,!1,this.__array.slice(e,i))},sort:function(e){this.__array.sort(e)},splice:function(e,i){return new fg(0,!1,this.__array.splice(e,i))},toJSON:function(){return this.__array},toString:function(){return null!=this.__array?this.__array.toString():null},unshift:function(e){this.fixed||this.__array.unshift(e)},get_length:function(){return this.__array.length},set_length:function(e){if(!this.fixed){var i=this.__array.length;if(0>e&&(e=0),e>i)for(;i<e;){var s=i++;this.__array[s]=null}else for(;this.__array.length>e;)this.__array.pop()}return this.__array.length},__class__:fg,__properties__:{set_length:"set_length",get_length:"get_length"}};var dg=function(e,i,s){null==i&&(i=!1),null==e&&(e=0),null==s&&(s=[]),this.__array=s,0<e&&this.set_length(e),this.fixed=i};k["openfl._Vector.IntVector"]=dg,dg.__name__="openfl._Vector.IntVector",dg.__interfaces__=[Eh],dg.prototype={fixed:null,__array:null,concat:function(e){return new dg(0,!1,null==e?this.__array.slice():0<e.__array.length?this.__array.concat(e.__array):this.__array.slice())},copy:function(){return new dg(0,this.fixed,this.__array.slice())},filter:function(e){for(var i=this.fixed,s=[],n=0,o=this.__array;n<o.length;){var l=o[n];++n,e(l)&&s.push(l)}return new dg(0,i,s)},get:function(e){return this.__array[e]},indexOf:function(e,i){null==i&&(i=0);for(var s=this.__array.length;i<s;){var n=i++;if(this.__array[n]==e)return n}return-1},insertAt:function(e,i){(!this.fixed||e<this.__array.length)&&this.__array.splice(e,0,i)},iterator:function(){return B.iter(this.__array)},join:function(e){return null==e&&(e=","),this.__array.join(e)},lastIndexOf:function(e,i){for(i=null==i||i>=this.__array.length?this.__array.length-1:i;0<=i;){if(this.__array[i]==e)return i;--i}return-1},pop:function(){return this.fixed?null:this.__array.pop()},push:function(e){return this.fixed?this.__array.length:this.__array.push(e)},removeAt:function(e){return!this.fixed||e<this.__array.length?this.__array.splice(e,1)[0]:0},reverse:function(){return this.__array.reverse(),this},set:function(e,i){return!this.fixed||e<this.__array.length?this.__array[e]=i:i},shift:function(){return this.fixed?null:this.__array.shift()},slice:function(e,i){return null==e&&(e=0),null==i&&(i=16777215),new dg(0,!1,this.__array.slice(e,i))},sort:function(e){this.__array.sort(e)},splice:function(e,i){return new dg(0,!1,this.__array.splice(e,i))},toJSON:function(){return this.__array},toString:function(){return null!=this.__array?this.__array.toString():null},unshift:function(e){this.fixed||this.__array.unshift(e)},get_length:function(){return this.__array.length},set_length:function(e){if(!this.fixed){var i=this.__array.length;if(0>e&&(e=0),e>i)for(;i<e;){var s=i++;this.__array[s]=0}else for(;this.__array.length>e;)this.__array.pop()}return this.__array.length},__class__:dg,__properties__:{set_length:"set_length",get_length:"get_length"}};var Pf=function(e,i,s,n){if(null==n&&(n=!1),null==i&&(i=!1),null==e&&(e=0),n){if(this.__array=[],null!=s){n=0;for(var o=s.length;n<o;){var l=n++;this.__array[l]=s[l]}}}else null==s&&(s=[]),this.__array=s;0<e&&this.set_length(e),this.fixed=i};k["openfl._Vector.ObjectVector"]=Pf,Pf.__name__="openfl._Vector.ObjectVector",Pf.__interfaces__=[Eh],Pf.prototype={fixed:null,__array:null,concat:function(e){return new Pf(0,!1,null==e?this.__array.slice():0<e.__array.length?this.__array.concat(e.__array):this.__array.slice())},copy:function(){return new Pf(0,this.fixed,this.__array.slice())},filter:function(e){for(var i=this.fixed,s=[],n=0,o=this.__array;n<o.length;){var l=o[n];++n,e(l)&&s.push(l)}return new Pf(0,i,s)},get:function(e){return this.__array[e]},indexOf:function(e,i){null==i&&(i=0);for(var s=this.__array.length;i<s;){var n=i++;if(this.__array[n]==e)return n}return-1},insertAt:function(e,i){(!this.fixed||e<this.__array.length)&&this.__array.splice(e,0,i)},iterator:function(){return B.iter(this.__array)},join:function(e){return null==e&&(e=","),this.__array.join(e)},lastIndexOf:function(e,i){for(i=null==i||i>=this.__array.length?this.__array.length-1:i;0<=i;){if(this.__array[i]==e)return i;--i}return-1},pop:function(){return this.fixed?null:this.__array.pop()},push:function(e){return this.fixed?this.__array.length:this.__array.push(e)},removeAt:function(e){return!this.fixed||e<this.__array.length?this.__array.splice(e,1)[0]:null},reverse:function(){return this.__array.reverse(),this},set:function(e,i){return!this.fixed||e<this.__array.length?this.__array[e]=i:i},shift:function(){return this.fixed?null:this.__array.shift()},slice:function(e,i){return null==e&&(e=0),null==i&&(i=16777215),new Pf(0,!1,this.__array.slice(e,i))},sort:function(e){this.__array.sort(e)},splice:function(e,i){return new Pf(0,!1,this.__array.splice(e,i))},toJSON:function(){return this.__array},toString:function(){return null!=this.__array?this.__array.toString():null},unshift:function(e){this.fixed||this.__array.unshift(e)},get_length:function(){return this.__array.length},set_length:function(e){if(!this.fixed){var i=this.__array.length;if(0>e&&(e=0),e>i)for(;i<e;)i++,this.__array.push(null);else for(;this.__array.length>e;)this.__array.pop()}return this.__array.length},__class__:Pf,__properties__:{set_length:"set_length",get_length:"get_length"}};var Sc=function(){};k["openfl._internal.Lib"]=Sc,Sc.__name__="openfl._internal.Lib",Sc.notImplemented=function(e){var i=e.className+"."+e.methodName,s=Sc.__sentWarnings;(null!=t[i]?s.existsReserved(i):s.h.hasOwnProperty(i))||(s=Sc.__sentWarnings,null!=t[i]?s.setReserved(i,!0):s.h[i]=!0,Ua.warn(e.methodName+" is not implemented",e))};var Xe=function(){};k["openfl._internal.formats.agal.AGALConverter"]=Xe,Xe.__name__="openfl._internal.formats.agal.AGALConverter",Xe.prefixFromType=function(e,i){switch(e){case 0:return"va";case 1:return i==Si.VERTEX?"vc":"fc";case 2:return i==Si.VERTEX?"vt":"ft";case 3:return"output_";case 4:return"v";case 5:return"sampler";default:throw new E(new td("Invalid data!"))}},Xe.readUInt64=function(e){var i=e.readInt();return e=e.readInt(),new Qb(e,i)},Xe.convertToGLSL=function(e,i){e.position=0,e.__endian=1;var s=255&e.readByte();if(176==s)return e.readUTF();if(160!=s)throw new E(new td("Magic value must be 0xA0, may not be AGAL"));if(1!=e.readInt())throw new E(new td("Version must be 1"));if(161!=(255&e.readByte()))throw new E(new td("Shader type ID must be 0xA1"));s=255&e.readByte()?Si.FRAGMENT:Si.VERTEX;for(var n=new yo,o="";;){var l=e.position;if(!Ga.gt(ta.get_length(e),l))break;var _=e.readInt();l=e.readUnsignedInt();var h=Xe.readUInt64(e),m=Xe.readUInt64(e);l=Oj.parse(l,s),h=Ti.parse(h,s,l.mask);var f=Ti.parse(m,s,l.mask);switch(o+="\t",_){case 0:o+=O.string(l.toGLSL()+" = "+h.toGLSL()+"; // mov"),n.addDR(l,Da.VECTOR_4),n.addSR(h,Da.VECTOR_4);break;case 1:o+=O.string(l.toGLSL()+" = "+h.toGLSL()+" + "+f.toGLSL()+"; // add"),n.addDR(l,Da.VECTOR_4),n.addSR(h,Da.VECTOR_4),n.addSR(f,Da.VECTOR_4);break;case 2:o+=O.string(l.toGLSL()+" = "+h.toGLSL()+" - "+f.toGLSL()+"; // sub"),n.addDR(l,Da.VECTOR_4),n.addSR(h,Da.VECTOR_4),n.addSR(f,Da.VECTOR_4);break;case 3:o+=O.string(l.toGLSL()+" = "+h.toGLSL()+" * "+f.toGLSL()+"; // mul"),n.addDR(l,Da.VECTOR_4),n.addSR(h,Da.VECTOR_4),n.addSR(f,Da.VECTOR_4);break;case 4:o+=O.string(l.toGLSL()+" = "+h.toGLSL()+" / "+f.toGLSL()+"; // div"),n.addDR(l,Da.VECTOR_4),n.addSR(h,Da.VECTOR_4),n.addSR(f,Da.VECTOR_4);break;case 5:o=-1<h.toGLSL().indexOf(".")?o+O.string(l.toGLSL()+" = 1.0 / "+h.toGLSL()+"; // rcp"):o+O.string(l.toGLSL()+" = vec4(1) / "+h.toGLSL()+"; // rcp"),n.addDR(l,Da.VECTOR_4),n.addSR(h,Da.VECTOR_4);break;case 6:o+=O.string(l.toGLSL()+" = min("+h.toGLSL()+", "+f.toGLSL()+"); // min"),n.addDR(l,Da.VECTOR_4),n.addSR(h,Da.VECTOR_4),n.addSR(f,Da.VECTOR_4);break;case 7:o+=O.string(l.toGLSL()+" = max("+h.toGLSL()+", "+f.toGLSL()+"); // max"),n.addDR(l,Da.VECTOR_4),n.addSR(h,Da.VECTOR_4),n.addSR(f,Da.VECTOR_4);break;case 8:o+=O.string(l.toGLSL()+" = fract("+h.toGLSL()+"); // frc"),n.addDR(l,Da.VECTOR_4),n.addSR(h,Da.VECTOR_4);break;case 9:o+=O.string(l.toGLSL()+" = sqrt("+h.toGLSL()+"); // sqrt"),n.addDR(l,Da.VECTOR_4),n.addSR(h,Da.VECTOR_4);break;case 10:o+=O.string(l.toGLSL()+" = inversesqrt("+h.toGLSL()+"); // rsq"),n.addDR(l,Da.VECTOR_4),n.addSR(h,Da.VECTOR_4);break;case 11:o+=O.string(l.toGLSL()+" = pow("+h.toGLSL()+", "+f.toGLSL()+"); // pow"),n.addDR(l,Da.VECTOR_4),n.addSR(h,Da.VECTOR_4),n.addSR(f,Da.VECTOR_4);break;case 12:o+=O.string(l.toGLSL()+" = log2("+h.toGLSL()+"); // log"),n.addDR(l,Da.VECTOR_4),n.addSR(h,Da.VECTOR_4);break;case 13:o+=O.string(l.toGLSL()+" = exp2("+h.toGLSL()+"); // exp"),n.addDR(l,Da.VECTOR_4),n.addSR(h,Da.VECTOR_4);break;case 14:o+=O.string(l.toGLSL()+" = normalize("+h.toGLSL()+"); // normalize"),n.addDR(l,Da.VECTOR_4),n.addSR(h,Da.VECTOR_4);break;case 15:o+=O.string(l.toGLSL()+" = sin("+h.toGLSL()+"); // sin"),n.addDR(l,Da.VECTOR_4),n.addSR(h,Da.VECTOR_4);break;case 16:o+=O.string(l.toGLSL()+" = cos("+h.toGLSL()+"); // cos"),n.addDR(l,Da.VECTOR_4),n.addSR(h,Da.VECTOR_4);break;case 17:h.sourceMask=f.sourceMask=7,o+=O.string(l.toGLSL()+" = cross(vec3("+h.toGLSL()+"), vec3("+f.toGLSL()+")); // crs"),n.addDR(l,Da.VECTOR_4),n.addSR(h,Da.VECTOR_4),n.addSR(f,Da.VECTOR_4);break;case 18:h.sourceMask=f.sourceMask=7,o+=O.string(l.toGLSL()+" = vec4(dot(vec3("+h.toGLSL()+"), vec3("+f.toGLSL()+")))"+l.getWriteMask()+"; // dp3"),n.addDR(l,Da.VECTOR_4),n.addSR(h,Da.VECTOR_4),n.addSR(f,Da.VECTOR_4);break;case 19:h.sourceMask=f.sourceMask=15,o+=O.string(l.toGLSL()+" = vec4(dot(vec4("+h.toGLSL()+"), vec4("+f.toGLSL()+")))"+l.getWriteMask()+"; // dp4"),n.addDR(l,Da.VECTOR_4),n.addSR(h,Da.VECTOR_4),n.addSR(f,Da.VECTOR_4);break;case 20:o+=O.string(l.toGLSL()+" = abs("+h.toGLSL()+"); // abs"),n.addDR(l,Da.VECTOR_4),n.addSR(h,Da.VECTOR_4);break;case 21:o+=O.string(l.toGLSL()+" = -"+h.toGLSL()+"; // neg"),n.addDR(l,Da.VECTOR_4),n.addSR(h,Da.VECTOR_4);break;case 22:o+=O.string(l.toGLSL()+" = clamp("+h.toGLSL()+", 0.0, 1.0); // saturate"),n.addDR(l,Da.VECTOR_4),n.addSR(h,Da.VECTOR_4);break;case 23:(_=n.getRegisterUsage(f))!=Da.VECTOR_4&&_!=Da.VECTOR_4_ARRAY?(o+=O.string(l.toGLSL()+" = "+h.toGLSL()+" * mat3("+f.toGLSL(!1)+"); // m33"),n.addDR(l,Da.VECTOR_4),n.addSR(h,Da.VECTOR_4),n.addSR(f,Da.MATRIX_4_4)):(h.sourceMask=f.sourceMask=7,o+=O.string(l.toGLSL()+" = vec3(dot("+h.toGLSL(!0)+","+f.toGLSL(!0,0)+"), dot("+h.toGLSL(!0)+","+f.toGLSL(!0,1)+"),dot("+h.toGLSL(!0)+","+f.toGLSL(!0,2)+")); // m33"),n.addDR(l,Da.VECTOR_4),n.addSR(h,Da.VECTOR_4),n.addSR(f,Da.VECTOR_4,0),n.addSR(f,Da.VECTOR_4,1),n.addSR(f,Da.VECTOR_4,2));break;case 24:(_=n.getRegisterUsage(f))!=Da.VECTOR_4&&_!=Da.VECTOR_4_ARRAY?(o+=O.string(l.toGLSL()+" = "+h.toGLSL()+" * "+f.toGLSL(!1)+"; // m44"),n.addDR(l,Da.VECTOR_4),n.addSR(h,Da.VECTOR_4),n.addSR(f,Da.MATRIX_4_4)):(h.sourceMask=f.sourceMask=15,o+=O.string(l.toGLSL()+" = vec4(dot("+h.toGLSL(!0)+","+f.toGLSL(!0,0)+"), dot("+h.toGLSL(!0)+","+f.toGLSL(!0,1)+"), dot("+h.toGLSL(!0)+","+f.toGLSL(!0,2)+"), dot("+h.toGLSL(!0)+","+f.toGLSL(!0,3)+")); // m44"),n.addDR(l,Da.VECTOR_4),n.addSR(h,Da.VECTOR_4),n.addSR(f,Da.VECTOR_4,0),n.addSR(f,Da.VECTOR_4,1),n.addSR(f,Da.VECTOR_4,2),n.addSR(f,Da.VECTOR_4,3));break;case 25:l.mask&=7,(_=n.getRegisterUsage(f))!=Da.VECTOR_4&&_!=Da.VECTOR_4_ARRAY?(o+=O.string(l.toGLSL()+" = "+h.toGLSL()+" * "+f.toGLSL(!1)+"; // m34"),n.addDR(l,Da.VECTOR_4),n.addSR(h,Da.VECTOR_4),n.addSR(f,Da.MATRIX_4_4)):(h.sourceMask=f.sourceMask=15,o+=O.string(l.toGLSL()+" = vec3(dot("+h.toGLSL(!0)+","+f.toGLSL(!0,0)+"), dot("+h.toGLSL(!0)+","+f.toGLSL(!0,1)+"),dot("+h.toGLSL(!0)+","+f.toGLSL(!0,2)+")); // m34"),n.addDR(l,Da.VECTOR_4),n.addSR(h,Da.VECTOR_4),n.addSR(f,Da.VECTOR_4,0),n.addSR(f,Da.VECTOR_4,1),n.addSR(f,Da.VECTOR_4,2));break;case 39:h.sourceMask=15,o+=O.string("if (any(lessThan("+h.toGLSL()+", vec4(0)))) discard;"),n.addSR(h,Da.VECTOR_4);break;case 40:switch((f=Pj.parse(m,s)).d){case 0:2==f.t?(h.sourceMask=3,n.addSaR(f,Da.SAMPLER_2D_ALPHA),o+=O.string("if ("+f.toGLSL()+"_alphaEnabled) {\n"),o+=O.string("\t\t"+l.toGLSL()+" = vec4(texture2D("+f.toGLSL()+", "+h.toGLSL()+").xyz, texture2D("+f.toGLSL()+"_alpha, "+h.toGLSL()+").x); // tex + alpha\n"),o+="\t} else {\n",o+=O.string("\t\t"+l.toGLSL()+" = texture2D("+f.toGLSL()+", "+h.toGLSL()+"); // tex\n"),o+="\t}"):(h.sourceMask=3,n.addSaR(f,Da.SAMPLER_2D),o+=O.string(l.toGLSL()+" = texture2D("+f.toGLSL()+", "+h.toGLSL()+"); // tex"));break;case 1:2==f.t?(h.sourceMask=7,n.addSaR(f,Da.SAMPLER_CUBE_ALPHA),o+=O.string("if ("+f.toGLSL()+"_alphaEnabled) {\n"),o+=O.string("\t\t"+l.toGLSL()+" = vec4(textureCube("+f.toGLSL()+", "+h.toGLSL()+").xyz, textureCube("+f.toGLSL()+"_alpha, "+h.toGLSL()+").x); // tex + alpha\n"),o+="\t} else {\n",o+=O.string("\t\t"+l.toGLSL()+" = textureCube("+f.toGLSL()+", "+h.toGLSL()+"); // tex"),o+="\t}"):(h.sourceMask=7,o+=O.string(l.toGLSL()+" = textureCube("+f.toGLSL()+", "+h.toGLSL()+"); // tex"),n.addSaR(f,Da.SAMPLER_CUBE))}n.addDR(l,Da.VECTOR_4),n.addSR(h,Da.VECTOR_4),null!=i&&(i[f.n]=f.toSamplerState());break;case 41:h.sourceMask=f.sourceMask=15,o+=O.string(l.toGLSL()+" = vec4(greaterThanEqual("+h.toGLSL()+", "+f.toGLSL()+"))"+l.getWriteMask()+"; // ste"),n.addDR(l,Da.VECTOR_4),n.addSR(h,Da.VECTOR_4),n.addSR(f,Da.VECTOR_4);break;case 42:h.sourceMask=f.sourceMask=15,o+=O.string(l.toGLSL()+" = vec4(lessThan("+h.toGLSL()+", "+f.toGLSL()+"))"+l.getWriteMask()+"; // slt"),n.addDR(l,Da.VECTOR_4),n.addSR(h,Da.VECTOR_4),n.addSR(f,Da.VECTOR_4);break;case 44:h.sourceMask=f.sourceMask=15,o+=O.string(l.toGLSL()+" = vec4(equal("+h.toGLSL()+", "+f.toGLSL()+"))"+l.getWriteMask()+"; // seq"),n.addDR(l,Da.VECTOR_4),n.addSR(h,Da.VECTOR_4),n.addSR(f,Da.VECTOR_4);break;case 45:h.sourceMask=f.sourceMask=15,o+=O.string(l.toGLSL()+" = vec4(notEqual("+h.toGLSL()+", "+f.toGLSL()+"))"+l.getWriteMask()+"; // sne"),n.addDR(l,Da.VECTOR_4),n.addSR(h,Da.VECTOR_4),n.addSR(f,Da.VECTOR_4);break;default:throw new E(new td("Opcode "+_))}o+="\n"}return null==Xe.limitedProfile&&(e=q.context.getParameter(7938),Xe.limitedProfile=-1<e.indexOf("OpenGL ES")||-1<e.indexOf("WebGL")),e=""+O.string("// AGAL "+(s==Si.VERTEX?"vertex":"fragment")+" shader\n"),e=Xe.limitedProfile?e+"#version 100\nprecision highp float;\n":e+"#version 120\n",e+=O.string(n.toGLSL(!1)),s==Si.VERTEX&&(e+="uniform vec4 vcPositionScale;\n"),e=e+"void main() {\n"+O.string(n.toGLSL(!0)),e+=O.string(o),s==Si.VERTEX&&(e+="\tgl_Position *= vcPositionScale;\n"),e+"}\n"};var Oj=function(){};k["openfl._internal.formats.agal._AGALConverter.DestRegister"]=Oj,Oj.__name__="openfl._internal.formats.agal._AGALConverter.DestRegister",Oj.parse=function(e,i){var s=new Oj;return s.programType=i,s.type=e>>>24&15,s.mask=e>>>16&15,s.n=65535&e,s},Oj.prototype={mask:null,n:null,programType:null,type:null,getWriteMask:function(){var e=".";return 1&this.mask&&(e+="x"),2&this.mask&&(e+="y"),4&this.mask&&(e+="z"),8&this.mask&&(e+="w"),e},toGLSL:function(e){null==e&&(e=!0);var i=3==this.type?this.programType==Si.VERTEX?"gl_Position":"gl_FragColor":Xe.prefixFromType(this.type,this.programType)+this.n;return e&&15!=this.mask&&(i+=this.getWriteMask()),i},__class__:Oj};var Si=C["openfl._internal.formats.agal._AGALConverter.ProgramType"]={__ename__:"openfl._internal.formats.agal._AGALConverter.ProgramType",__constructs__:["VERTEX","FRAGMENT"],VERTEX:{_hx_index:0,__enum__:"openfl._internal.formats.agal._AGALConverter.ProgramType",toString:v},FRAGMENT:{_hx_index:1,__enum__:"openfl._internal.formats.agal._AGALConverter.ProgramType",toString:v}},yo=function(){this.mEntries=[]};k["openfl._internal.formats.agal.RegisterMap"]=yo,yo.__name__="openfl._internal.formats.agal.RegisterMap",yo.prototype={mEntries:null,add:function(e,i,s,n){for(var o=0,l=this.mEntries;o<l.length;){var _=l[o];if(++o,_.type==e&&_.name==i&&_.number==s){if(_.usage!=n)throw new E(new td("Cannot use register in multiple ways yet (mat4/vec4)"));return}}(o=new ar).type=e,o.name=i,o.number=s,o.usage=n,this.mEntries.push(o)},addDR:function(e,i){this.add(e.type,e.toGLSL(!1),e.n,i)},addSaR:function(e,i){this.add(e.type,e.toGLSL(),e.n,i)},addSR:function(e,i,s){null==s&&(s=0),0!=e.d?(this.add(e.itype,Xe.prefixFromType(e.itype,e.programType)+e.n,e.n,Da.VECTOR_4),this.add(e.type,Xe.prefixFromType(e.type,e.programType)+e.o,e.o,Da.VECTOR_4_ARRAY)):this.add(e.type,e.toGLSL(!1,s),e.n+s,i)},getRegisterUsage:function(e){return 0!=e.d?Da.VECTOR_4_ARRAY:this.getUsage(e.type,e.toGLSL(!1),e.n)},getUsage:function(e,i,s){for(var n=0,o=this.mEntries;n<o.length;){var l=o[n];if(++n,l.type==e&&l.name==i&&l.number==s)return l.usage}return Da.UNUSED},toGLSL:function(e){this.mEntries.sort(function(l,_){return l.number-_.number}),this.mEntries.sort(function(l,_){return T.__cast(l.type,sj)-T.__cast(_.type,sj)});for(var i="",s=0,n=this.mEntries.length;s<n;){var o=s++;if(o=this.mEntries[o],!(e&&2!=o.type||!e&&2==o.type)&&3!=o.type){switch(o.type){case 0:i+="attribute ";break;case 1:case 5:i+="uniform ";break;case 2:i+="\t";break;case 3:break;case 4:i+="varying ";break;default:throw new E(new td)}switch(o.usage._hx_index){case 0:Ua.info("Missing switch patten: RegisterUsage.UNUSED",{fileName:"openfl/_internal/formats/agal/AGALConverter.hx",lineNumber:746,className:"openfl._internal.formats.agal.RegisterMap",methodName:"toGLSL"});break;case 1:case 7:i+="vec4 ";break;case 2:i+="mat4 ";break;case 3:i+="sampler2D ";break;case 5:i+="samplerCube "}o.usage==Da.SAMPLER_2D_ALPHA?(i+="sampler2D ",i+=O.string(o.name),i+=";\n",i+="uniform ",i+="sampler2D ",i+=O.string(o.name+"_alpha"),i+=";\n",i+="uniform ",i+="bool ",i+=O.string(o.name+"_alphaEnabled")):o.usage==Da.SAMPLER_CUBE_ALPHA?(i+="samplerCube ",i+=O.string(o.name),i+=";\n",i+="uniform ",i+="samplerCube ",i+=O.string(o.name+"_alpha"),i+=";\n",i+="uniform ",i+="bool ",i+=O.string(o.name+"_alphaEnabled")):i=o.usage==Da.VECTOR_4_ARRAY?i+O.string(o.name+"[32]"):i+O.string(o.name),i+=";\n"}}return i},__class__:yo};var ar=function(){};k["openfl._internal.formats.agal._AGALConverter.RegisterMapEntry"]=ar,ar.__name__="openfl._internal.formats.agal._AGALConverter.RegisterMapEntry",ar.prototype={name:null,number:null,type:null,usage:null,__class__:ar};var Da=C["openfl._internal.formats.agal._AGALConverter.RegisterUsage"]={__ename__:"openfl._internal.formats.agal._AGALConverter.RegisterUsage",__constructs__:"UNUSED VECTOR_4 MATRIX_4_4 SAMPLER_2D SAMPLER_2D_ALPHA SAMPLER_CUBE SAMPLER_CUBE_ALPHA VECTOR_4_ARRAY".split(" "),UNUSED:{_hx_index:0,__enum__:"openfl._internal.formats.agal._AGALConverter.RegisterUsage",toString:v},VECTOR_4:{_hx_index:1,__enum__:"openfl._internal.formats.agal._AGALConverter.RegisterUsage",toString:v},MATRIX_4_4:{_hx_index:2,__enum__:"openfl._internal.formats.agal._AGALConverter.RegisterUsage",toString:v},SAMPLER_2D:{_hx_index:3,__enum__:"openfl._internal.formats.agal._AGALConverter.RegisterUsage",toString:v},SAMPLER_2D_ALPHA:{_hx_index:4,__enum__:"openfl._internal.formats.agal._AGALConverter.RegisterUsage",toString:v},SAMPLER_CUBE:{_hx_index:5,__enum__:"openfl._internal.formats.agal._AGALConverter.RegisterUsage",toString:v},SAMPLER_CUBE_ALPHA:{_hx_index:6,__enum__:"openfl._internal.formats.agal._AGALConverter.RegisterUsage",toString:v},VECTOR_4_ARRAY:{_hx_index:7,__enum__:"openfl._internal.formats.agal._AGALConverter.RegisterUsage",toString:v}},Pj=function(){};k["openfl._internal.formats.agal._AGALConverter.SamplerRegister"]=Pj,Pj.__name__="openfl._internal.formats.agal._AGALConverter.SamplerRegister",Pj.parse=function(e,i){var s=new Pj;return s.programType=i,i=new Qb(e.high>>31,e.high>>28),s.f=15&i.low,i=new Qb(e.high>>31,e.high>>24),s.m=15&i.low,i=new Qb(e.high>>31,e.high>>20),s.w=15&i.low,i=new Qb(e.high>>31,e.high>>16),s.s=15&i.low,i=new Qb(e.high>>31,e.high>>12),s.d=15&i.low,i=new Qb(e.high>>31,e.high>>8),s.t=15&i.low,i=new Qb(e.high>>31,e.high>>0),s.type=15&i.low,i=new Qb(e.high>>16,e.high<<16|e.low>>>16),s.b=255&i.low,s.n=65535&e.low,s},Pj.prototype={b:null,d:null,f:null,m:null,n:null,programType:null,s:null,t:null,type:null,w:null,toGLSL:function(){return Xe.prefixFromType(this.type,this.programType)+this.n},toSamplerState:function(){switch(this.f){case 0:var e=5;break;case 1:e=4;break;default:throw new E(new td)}switch(this.m){case 0:var i=2;break;case 1:i=1;break;case 2:i=0;break;default:throw new E(new td)}switch(this.w){case 0:var s=0;break;case 1:s=2;break;default:throw new E(new td)}return new yh(s,e,i,(this.b<<24>>24)/8,4==(4&this.s),1==(1&this.s),2==this.t)},__class__:Pj};var Ti=function(){};k["openfl._internal.formats.agal._AGALConverter.SourceRegister"]=Ti,Ti.__name__="openfl._internal.formats.agal._AGALConverter.SourceRegister",Ti.parse=function(e,i,s){var n=new Ti;return n.programType=i,i=new Qb(e.high>>31,e.high>>31),n.d=1&i.low,i=new Qb(e.high>>31,e.high>>16),n.q=3&i.low,i=new Qb(e.high>>31,e.high>>8),n.itype=15&i.low,i=new Qb(e.high>>31,e.high>>0),n.type=15&i.low,i=new Qb(e.high>>24,e.high<<8|e.low>>>24),n.s=255&i.low,i=new Qb(e.high>>16,e.high<<16|e.low>>>16),n.o=255&i.low,n.n=65535&e.low,n.sourceMask=s,n},Ti.prototype={d:null,itype:null,n:null,o:null,programType:null,q:null,s:null,sourceMask:null,type:null,toGLSL:function(e,i){if(null==i&&(i=0),null==e&&(e=!0),3==this.type)return this.programType==Si.VERTEX?"gl_Position":"gl_FragColor";var s=228==this.s&&15==this.sourceMask,n="";if(5!=this.type&&!s){if(1&this.sourceMask)switch(3&this.s){case 0:n+="x";break;case 1:n+="y";break;case 2:n+="z";break;case 3:n+="w"}if(2&this.sourceMask)switch(this.s>>2&3){case 0:n+="x";break;case 1:n+="y";break;case 2:n+="z";break;case 3:n+="w"}if(4&this.sourceMask)switch(this.s>>4&3){case 0:n+="x";break;case 1:n+="y";break;case 2:n+="z";break;case 3:n+="w"}if(8&this.sourceMask)switch(this.s>>6&3){case 0:n+="x";break;case 1:n+="y";break;case 2:n+="z";break;case 3:n+="w"}}if(s=Xe.prefixFromType(this.type,this.programType),0==this.d)s+=this.n+i;else{s+=this.o;var o="";switch(this.q){case 0:o="x";break;case 1:o="y";break;case 2:o="z";break;case 3:o="w"}s+="[ int("+(o=Xe.prefixFromType(this.itype,this.programType)+this.n+"."+o)+") +"+i+"]"}return e&&""!=n&&(s+="."+n),s},__class__:Ti};var rf=function(){};k["openfl._internal.formats.animate.AnimateSymbol"]=rf,rf.__name__="openfl._internal.formats.animate.AnimateSymbol",rf.prototype={className:null,id:null,__createObject:function(e){return null},__initObject:function(e,i){},__class__:rf};var zo=function(){};k["openfl._internal.formats.animate.AnimateBitmapSymbol"]=zo,zo.__name__="openfl._internal.formats.animate.AnimateBitmapSymbol",zo.__super__=rf,zo.prototype=x(rf.prototype,{alpha:null,path:null,smooth:null,__createObject:function(e){return new Uc(pa.fromImage(e.getImage(this.path)),1,0!=this.smooth)},__class__:zo});var Ao=function(){};k["openfl._internal.formats.animate.AnimateButtonSymbol"]=Ao,Ao.__name__="openfl._internal.formats.animate.AnimateButtonSymbol",Ao.__super__=rf,Ao.prototype=x(rf.prototype,{downState:null,hitState:null,overState:null,upState:null,library:null,__constructor:function(e){null!=this.downState&&e.set_downState(this.downState.__createObject(this.library)),null!=this.hitState&&e.set_hitTestState(this.hitState.__createObject(this.library)),null!=this.overState&&e.set_overState(this.overState.__createObject(this.library)),null!=this.upState&&e.set_upState(this.upState.__createObject(this.library))},__createObject:function(e){var i=null;return sf.__constructor=r(this,this.__constructor),this.library=e,null!=this.className&&null!=(e=k[this.className])&&(i=rb.createInstance(e,[])),null==i&&(i=new sf),i},__initObject:function(e,i){this.library=e,this.__constructor(i)},__class__:Ao});var Bo=function(){};k["openfl._internal.formats.animate.AnimateDynamicTextSymbol"]=Bo,Bo.__name__="openfl._internal.formats.animate.AnimateDynamicTextSymbol",Bo.__super__=rf,Bo.prototype=x(rf.prototype,{align:null,border:null,color:null,fontHeight:null,fontID:null,fontName:null,height:null,html:null,indent:null,input:null,leading:null,leftMargin:null,multiline:null,password:null,rightMargin:null,selectable:null,text:null,width:null,wordWrap:null,x:null,y:null,__createObject:function(e){var i=new ie;i.set_width(this.width),i.set_height(this.height),i.__offsetX=this.x,i.__offsetY=this.y,i.set_multiline(this.multiline),i.set_wordWrap(this.wordWrap),i.set_displayAsPassword(this.password),this.border&&(i.set_border(!0),i.set_background(!0)),i.set_selectable(this.selectable),this.input&&i.set_type(1);var s=new Cg;null!=this.color&&(s.color=16777215&this.color),s.size=Math.round(this.fontHeight/20),null!=(e=e.symbols.h[this.fontID])&&(s.__ascent=e.ascent/20/1024,s.__descent=e.descent/20/1024),s.font=this.fontName,e=!1;var n=s.font;if(null==n)e=!0;else switch(n){case"":case"_sans":case"_serif":case"_typewriter":e=!0;break;default:n=0;for(var o=Ac.enumerateFonts();n<o.length;){var l=o[n];if(++n,l.name==s.font){e=!0;break}}}if(!e)for(n=/[^a-zA-Z]+/g,o=0,l=Ac.enumerateFonts();o<l.length;){var _=l[o];if(++o,B.substr(_.name.replace(n,""),0,this.fontName.length)==this.fontName){s.font=_.name,e=!0;break}}return e?i.set_embedFonts(!0):(n=ie.__missingFontWarning,(null!=t[e=s.font]?n.existsReserved(e):n.h.hasOwnProperty(e))||(n=ie.__missingFontWarning,null!=t[e=s.font]?n.setReserved(e,!0):n.h[e]=!0,Ua.warn('Could not find required font "'+s.font+'", it has not been embedded',{fileName:"openfl/_internal/formats/animate/AnimateDynamicTextSymbol.hx",lineNumber:145,className:"openfl._internal.formats.animate.AnimateDynamicTextSymbol",methodName:"__createObject"}))),null!=this.align&&("center"==this.align?s.align=0:"right"==this.align?s.align=4:"justify"==this.align&&(s.align=2),s.leftMargin=this.leftMargin/20|0,s.rightMargin=this.rightMargin/20|0,s.indent=this.indent/20|0,s.leading=this.leading/20|0),i.set_defaultTextFormat(s),null!=this.text&&(this.html?i.set_htmlText(this.text):i.set_text(this.text)),i},__class__:Bo});var Co=function(){};k["openfl._internal.formats.animate.AnimateFontSymbol"]=Co,Co.__name__="openfl._internal.formats.animate.AnimateFontSymbol",Co.__super__=rf,Co.prototype=x(rf.prototype,{advances:null,ascent:null,bold:null,codes:null,descent:null,glyphs:null,italic:null,leading:null,name:null,__class__:Co});var br=function(){};k["openfl._internal.formats.animate.AnimateFrame"]=br,br.__name__="openfl._internal.formats.animate.AnimateFrame",br.prototype={label:null,objects:null,script:null,scriptSource:null,__class__:br};var cr=function(){};k["openfl._internal.formats.animate.AnimateFrameObject"]=cr,cr.__name__="openfl._internal.formats.animate.AnimateFrameObject",cr.prototype={blendMode:null,cacheAsBitmap:null,clipDepth:null,colorTransform:null,depth:null,filters:null,id:null,matrix:null,name:null,symbol:null,type:null,visible:null,__class__:cr};var kc=function(){Wb.call(this)};k["openfl.utils.AssetLibrary"]=kc,kc.__name__="openfl.utils.AssetLibrary",kc.fromBundle=function(e){if(null!=(e=Wb.fromBundle(e))){if(e instanceof kc)return e;var i=new kc;return i.__proxy=e,i}return null},kc.fromBytes=function(e,i){return kc.fromManifest(gd.fromBytes(ta.toBytes(e),i))},kc.fromFile=function(e,i){return kc.fromManifest(gd.fromFile(e,i))},kc.fromManifest=function(e){if(null!=(e=Wb.fromManifest(e))){if(e instanceof kc)return e;var i=new kc;return i.__proxy=e,i}return null},kc.loadFromBytes=function(e,i){return gd.loadFromBytes(ta.toBytes(e),i).then(function(s){return kc.loadFromManifest(s)})},kc.loadFromFile=function(e,i){return gd.loadFromFile(e,i).then(function(s){return kc.loadFromManifest(s)})},kc.loadFromManifest=function(e){return null!=(e=kc.fromManifest(e))?e.load().then(function(i){return wb.withValue(i)}):wb.withError("Could not load asset manifest")},kc.__super__=Wb,kc.prototype=x(Wb.prototype,{__proxy:null,exists:function(e,i){return null!=this.__proxy?this.__proxy.exists(e,i):Wb.prototype.exists.call(this,e,i)},getAsset:function(e,i){return null!=this.__proxy?this.__proxy.getAsset(e,i):Wb.prototype.getAsset.call(this,e,i)},getAudioBuffer:function(e){return null!=this.__proxy?this.__proxy.getAudioBuffer(e):Wb.prototype.getAudioBuffer.call(this,e)},getBytes:function(e){return null!=this.__proxy?this.__proxy.getBytes(e):Wb.prototype.getBytes.call(this,e)},getFont:function(e){return null!=this.__proxy?this.__proxy.getFont(e):Wb.prototype.getFont.call(this,e)},getImage:function(e){return null!=this.__proxy?this.__proxy.getImage(e):Wb.prototype.getImage.call(this,e)},getMovieClip:function(e){return null},getPath:function(e){return null!=this.__proxy?this.__proxy.getPath(e):Wb.prototype.getPath.call(this,e)},getText:function(e){return null!=this.__proxy?this.__proxy.getText(e):Wb.prototype.getText.call(this,e)},isLocal:function(e,i){return null!=this.__proxy?this.__proxy.isLocal(e,i):Wb.prototype.isLocal.call(this,e,i)},list:function(e){return null!=this.__proxy?this.__proxy.list(e):Wb.prototype.list.call(this,e)},loadAsset:function(e,i){return null!=this.__proxy?this.__proxy.loadAsset(e,i):Wb.prototype.loadAsset.call(this,e,i)},load:function(){return null!=this.__proxy?this.__proxy.load():Wb.prototype.load.call(this)},loadAudioBuffer:function(e){return null!=this.__proxy?this.__proxy.loadAudioBuffer(e):Wb.prototype.loadAudioBuffer.call(this,e)},loadBytes:function(e){return null!=this.__proxy?this.__proxy.loadBytes(e):Wb.prototype.loadBytes.call(this,e)},loadFont:function(e){return null!=this.__proxy?this.__proxy.loadFont(e):Wb.prototype.loadFont.call(this,e)},loadImage:function(e){return null!=this.__proxy?this.__proxy.loadImage(e):Wb.prototype.loadImage.call(this,e)},loadMovieClip:function(e){return wb.withValue(this.getMovieClip(e))},loadText:function(e){return null!=this.__proxy?this.__proxy.loadText(e):Wb.prototype.loadText.call(this,e)},unload:function(){null!=this.__proxy?this.__proxy.unload():Wb.prototype.unload.call(this)},__class__:kc});var Lg=function(e,i){Wb.call(this),this.id=e,this.instanceID=i??e,this.alphaCheck=new va,this.bitmapClassNames=new va,this.rootPath="",null==Lg.instances&&(Lg.instances=new va),e=Lg.instances,null!=t[i]?e.setReserved(i,this):e.h[i]=this};k["openfl._internal.formats.animate.AnimateLibrary"]=Lg,Lg.__name__="openfl._internal.formats.animate.AnimateLibrary",Lg.get=function(e){if(null==Lg.instances)return null;var i=Lg.instances;return null!=t[e]?i.getReserved(e):i.h[e]},Lg.__super__=kc,Lg.prototype=x(kc.prototype,{alphaCheck:null,bitmapClassNames:null,bitmapSymbols:null,frameRate:null,id:null,instanceID:null,preloading:null,root:null,rootPath:null,symbols:null,symbolsByClassName:null,uuid:null,exists:function(e,i){if(null!=this.symbols){if(""==e&&"MOVIE_CLIP"==i)return!0;if("IMAGE"==i||"MOVIE_CLIP"==i)return null!=this.symbolsByClassName&&(i=this.symbolsByClassName,null!=t[e]?i.existsReserved(e):i.h.hasOwnProperty(e))}return kc.prototype.exists.call(this,e,i)},getImage:function(e){var i=this.bitmapClassNames;if((null!=t[e]?i.existsReserved(e):i.h.hasOwnProperty(e))&&(i=this.bitmapClassNames,e=null!=t[e]?i.getReserved(e):i.h[e]),i=this.alphaCheck,null!=t[e]?!i.existsReserved(e):!i.h.hasOwnProperty(e)){for(var s=0,n=this.bitmapSymbols;s<n.length;)if(i=n[s],++s,i.path==e&&null!=i.alpha)return s=kc.prototype.getImage.call(this,e),n=kc.prototype.getImage.call(this,i.alpha),this.__copyChannel(s,n),n=this.cachedImages,null!=t[e]?n.setReserved(e,s):n.h[e]=s,this.cachedImages.remove(i.alpha),i=this.alphaCheck,null!=t[e]?i.setReserved(e,!0):i.h[e]=!0,s;i=this.alphaCheck,null!=t[e]?i.setReserved(e,!0):i.h[e]=!0}return kc.prototype.getImage.call(this,e)},getMovieClip:function(e){if(null==this.symbols)return null;if(""==e)return this.root.__createObject(this);var i=this.symbolsByClassName;return null!=(e=null!=t[e]?i.getReserved(e):i.h[e])&&e instanceof Qj?T.__cast(e,Qj).__createObject(this):null},isLocal:function(e,i){return!0},load:function(){var e=this;if(null!=this.id){var i=this.id,s=this.preload;null!=t[i]?s.setReserved(i,!0):s.h[i]=!0}var n=new Sd;this.preloading=!0;var o=function(h){var m=e.id,f=e.cachedText;null!=t[m]?f.setReserved(m,h):f.h[m]=h,m=JSON.parse(h),e.frameRate=m.frameRate,h=m.root,m=m.symbols;var y=null;e.symbols=new Va,e.symbolsByClassName=new va,e.bitmapSymbols=[],f=0;for(var g=m.length;f<g;){var j=f++,$=m[j];if(null!=$){var yt=$.type;switch(yt){case 0:y=e.__parseBitmap($),e.bitmapSymbols.push(y),null!=y.className&&($=y.path,yt=e.bitmapClassNames,null!=t[j=y.className]?yt.setReserved(j,$):yt.h[j]=$);break;case 1:y=e.__parseButton($);break;case 2:y=e.__parseDynamicText($);break;case 3:y=e.__parseFont($);break;case 4:y=e.__parseShape($);break;case 5:y=e.__parseSprite($),j==h&&(e.root=y);break;case 6:y=e.__parseStaticText($)}null!=y&&(e.symbols.h[y.id]=y,null!=y.className&&($=e.symbolsByClassName,null!=t[j=y.className]?$.setReserved(j,y):$.h[j]=y))}}e.__load().onProgress(r(n,n.progress)).onError(r(n,n.error)).onComplete(function(_t){e.preloading=!1,n.complete(e)})};if(this.exists(this.id,"TEXT")||this.exists(this.id,"BINARY")){for(i=this.paths.keys();i.hasNext();){s=i.next();var l=this.preload;null!=t[s]?l.setReserved(s,!0):l.h[s]=!0}for(i=this.types.keys();i.hasNext();)s=i.next(),l=this.types,"IMAGE"==(null!=t[s]?l.getReserved(s):l.h[s])&&(l=this.preload,null!=t[s]?l.setReserved(s,!0):l.h[s]=!0);this.loadText(this.id).onError(r(n,n.error)).onComplete(o)}else{for(i=this.paths.keys();i.hasNext();)s=i.next(),l=this.preload,null!=t[s]?l.setReserved(s,!0):l.h[s]=!0;i=null,s=this.paths,(null!=t[i=this.id]?s.existsReserved(i):s.h.hasOwnProperty(i))?(s=this.paths,i=null!=t[i=this.id]?s.getReserved(i):s.h[i]):i=null!=this.rootPath&&""!=this.rootPath?this.rootPath+"/"+this.id:this.id;var _=new Zg;_.addEventListener("complete",function(h){o(_.data)}),_.addEventListener("ioError",function(h){n.error(h)}),_.load(new Gg(i))}return n.future},loadImage:function(e){var i=this,s=this.bitmapClassNames;if((null!=t[e]?s.existsReserved(e):s.h.hasOwnProperty(e))&&(s=this.bitmapClassNames,e=null!=t[e]?s.getReserved(e):s.h[e]),this.preloading?s=!1:(s=this.alphaCheck,s=!(null!=t[e]?s.existsReserved(e):s.h.hasOwnProperty(e))),s){s=0;for(var n=this.bitmapSymbols;s<n.length;){var o=[n[s]];if(++s,o[0].path==e&&null!=o[0].alpha)return s=[new Sd],this.__loadImage(e).onError((w=s[0],r(w,w.error))).onComplete(function(l,_){return function(h){var m,f;i.__loadImage(_[0].alpha).onError((w=l[0],r(w,w.error))).onComplete((m=l,f=_,function(y){i.__copyChannel(h,y),y=i.cachedImages,null!=t[e]?y.setReserved(e,h):y.h[e]=h,i.cachedImages.remove(f[0].alpha),y=i.alphaCheck,null!=t[e]?y.setReserved(e,!0):y.h[e]=!0,m[0].complete(h)}))}}(s,o)),s[0].future;o=this.alphaCheck,null!=t[e]?o.setReserved(e,!0):o.h[e]=!0}}return kc.prototype.loadImage.call(this,e)},unload:function(){if(Lg.instances.remove(this.uuid),null!=this.symbols)for(var e=0,i=this.bitmapSymbols;e<i.length;){var s=i[e];++e,Ba.cache.removeBitmapData(s.path)}},__copyChannel:function(e,i){null!=i&&e.copyChannel(i,i.get_rect(),new Fd,yf.RED,yf.ALPHA),e.buffer.premultiplied=!0,e.set_premultiplied(!1)},__fromManifest:function(e){for(this.rootPath=e.rootPath,kc.prototype.__fromManifest.call(this,e),this.bytesTotal=0,e=this.paths.keys();e.hasNext();){var i=e.next(),s=this.sizes;this.bytesTotal+=null!=t[i]?s.getReserved(i):s.h[i]}},__load:function(){return kc.prototype.load.call(this)},__loadImage:function(e){return kc.prototype.loadImage.call(this,e)},__parseBitmap:function(e){var i=new zo;return i.id=e.id,i.className=e.className,i.alpha=e.alpha,i.path=e.path,i.smooth=e.smooth,i},__parseButton:function(e){var i=new Ao;return i.id=e.id,i.className=e.className,i.downState=this.__parseSprite(e.downState),i.hitState=this.__parseSprite(e.hitState),i.overState=this.__parseSprite(e.overState),i.upState=this.__parseSprite(e.upState),i},__parseDynamicText:function(e){var i=new Bo;return i.id=e.id,i.align=e.align,i.border=e.border,i.color=e.color,i.fontHeight=e.fontHeight,i.fontID=e.fontID,i.fontName=e.fontName,i.html=e.html,i.indent=e.indent,i.input=e.input,i.leading=e.leading,i.leftMargin=e.leftMargin,i.multiline=e.multiline,i.password=e.password,i.rightMargin=e.rightMargin,i.selectable=e.selectable,i.text=e.text,i.wordWrap=e.wordWrap,i.x=e.rect[0]/20,i.y=e.rect[1]/20,i.width=e.rect[2]/20,i.height=e.rect[3]/20,i},__parseFont:function(e){var i=new Co;if(i.id=e.id,i.advances=e.advances,i.ascent=e.ascent,i.bold=e.bold,i.codes=e.codes,i.descent=e.descent,i.italic=e.italic,i.leading=e.leading,i.name=e.name,Object.prototype.hasOwnProperty.call(e,"glyphs")){i.glyphs=[];for(var s=0,n=(e=e.glyphs).length;s<n;){var o=s++,l=e[o];if(null!=l){var _=[];for(i.glyphs[o]=_,o=0;o<l.length;)switch(l[o]){case 0:_.push(tf.BeginBitmapFill(l[o+1],this.__parseMatrix(l[o+2]),l[o+3],l[o+4])),o+=5;break;case 1:_.push(tf.BeginFill(l[o+1],l[o+2])),o+=3;break;case 2:_.push(tf.BeginGradientFill(l[o+1],l[o+2],l[o+3],l[o+4],this.__parseMatrix(l[o+5]),l[o+6],l[o+7],l[o+8])),o+=9;break;case 3:_.push(tf.LineStyle(null,null,null,null,null,null,null,null)),++o;break;case 4:_.push(tf.CurveTo(l[o+1]/20,l[o+2]/20,l[o+3]/20,l[o+4]/20)),o+=5;break;case 5:_.push(tf.EndFill),++o;break;case 6:_.push(tf.LineStyle(l[o+1],l[o+2],l[o+3],l[o+4],l[o+5],l[o+6],l[o+7],l[o+8])),o+=9;break;case 7:_.push(tf.LineTo(l[o+1]/20,l[o+2]/20)),o+=3;break;case 8:_.push(tf.MoveTo(l[o+1]/20,l[o+2]/20)),o+=3;break;default:++o}}}}return i},__parseMatrix:function(e){return null!=e?new Fa(e[0],e[1],e[2],e[3],e[4]/20,e[5]/20):null},__parseShape:function(e){var i=new Do;i.id=e.id,i.commands=[],e=e.commands;for(var s=i.commands,n=0;n<e.length;)switch(e[n]){case 0:s.push(tf.BeginBitmapFill(e[n+1],this.__parseMatrix(e[n+2]),e[n+3],e[n+4])),n+=5;break;case 1:s.push(tf.BeginFill(e[n+1],e[n+2])),n+=3;break;case 2:s.push(tf.BeginGradientFill(e[n+1],e[n+2],e[n+3],e[n+4],this.__parseMatrix(e[n+5]),e[n+6],e[n+7],e[n+8])),n+=9;break;case 3:s.push(tf.LineStyle(null,null,null,null,null,null,null,null)),++n;break;case 4:s.push(tf.CurveTo(e[n+1]/20,e[n+2]/20,e[n+3]/20,e[n+4]/20)),n+=5;break;case 5:s.push(tf.EndFill),++n;break;case 6:s.push(tf.LineStyle(e[n+1],e[n+2],e[n+3],e[n+4],e[n+5],e[n+6],e[n+7],e[n+8])),n+=9;break;case 7:s.push(tf.LineTo(e[n+1]/20,e[n+2]/20)),n+=3;break;case 8:s.push(tf.MoveTo(e[n+1]/20,e[n+2]/20)),n+=3;break;default:++n}return i},__parseSprite:function(e){var i=new Qj;i.id=e.id,i.className=e.className,i.baseClassName=e.baseClassName,i.scale9Grid=null!=e.scale9Grid?new ia(e.scale9Grid[0]/20,e.scale9Grid[1]/20,e.scale9Grid[2]/20,e.scale9Grid[3]/20):null,e=e.frames;for(var s,n,o,l=0;l<e.length;){if(n=e[l],++l,(s=new br).label=n.label,null!=(n=n.objects)&&0<n.length){s.objects=[];for(var _=0;_<n.length;){var h=n[_];++_,(o=new cr).blendMode=h.blendMode,o.cacheAsBitmap=h.cacheAsBitmap,o.clipDepth=h.clipDepth,o.colorTransform=null!=h.colorTransform?new Tb(h.colorTransform[0]/20,h.colorTransform[1]/20,h.colorTransform[2]/20,h.colorTransform[3]/20,h.colorTransform[4]/20,h.colorTransform[5]/20,h.colorTransform[6]/20,h.colorTransform[7]/20):null,o.depth=h.depth,o.filters=h.filters,o.id=h.id,o.matrix=this.__parseMatrix(h.matrix),o.name=h.name,o.symbol=h.symbol,o.type=h.type,o.visible=h.visible,s.objects.push(o)}}i.frames.push(s)}return i},__parseStaticText:function(e){var i=new Eo;return i.id=e.id,i.matrix=this.__parseMatrix(e.matrix),i.records=e.records,i},__pixel:function(e){return e/20},__class__:Lg});var Do=function(){};k["openfl._internal.formats.animate.AnimateShapeSymbol"]=Do,Do.__name__="openfl._internal.formats.animate.AnimateShapeSymbol",Do.__super__=rf,Do.prototype=x(rf.prototype,{commands:null,rendered:null,__createObject:function(e){var i=new Pe,s=i.get_graphics();if(null!=this.rendered)return s.copyFrom(this.rendered.get_graphics()),i;for(var n=0,o=this.commands;n<o.length;){var l=o[n];switch(++n,l._hx_index){case 0:var _=l.smooth,h=l.repeat,m=l.matrix;null!=(l=e.getImage(e.symbols.h[l.bitmap].path))&&s.beginBitmapFill(pa.fromImage(l),m,h,_);break;case 1:s.beginFill(l.color,l.alpha);break;case 2:s.beginGradientFill(l.fillType,l.colors,l.alphas,l.ratios,l.matrix,l.spreadMethod,l.interpolationMethod,l.focalPointRatio);break;case 3:s.curveTo(l.controlX,l.controlY,l.anchorX,l.anchorY);break;case 4:s.endFill();break;case 5:_=l.miterLimit,h=l.joints,m=l.caps;var f=l.scaleMode,y=l.pixelHinting,g=l.alpha,j=l.color;null!=(l=l.thickness)?s.lineStyle(l,j,g,y,f,m,h,_):s.lineStyle();break;case 6:s.lineTo(l.x,l.y);break;case 7:s.moveTo(l.x,l.y)}}return this.commands=null,this.rendered=new Pe,this.rendered.get_graphics().copyFrom(i.get_graphics()),i},__class__:Do});var Qj=function(){this.frames=[]};k["openfl._internal.formats.animate.AnimateSpriteSymbol"]=Qj,Qj.__name__="openfl._internal.formats.animate.AnimateSpriteSymbol",Qj.__super__=rf,Qj.prototype=x(rf.prototype,{baseClassName:null,frames:null,scale9Grid:null,library:null,__constructor:function(e){e.__timeline=new xl(e,this.library,this),e.set_scale9Grid(this.scale9Grid)},__createObject:function(e){return se.__constructor=r(this,this.__constructor),this.library=e,e=null,null!=this.className&&(e=k[this.className]),null==e&&null!=this.baseClassName&&(e=k[this.baseClassName]),null!=e?rb.createInstance(e,[]):new se},__initObject:function(e,i){this.library=e,this.__constructor(i)},__class__:Qj});var Eo=function(){};k["openfl._internal.formats.animate.AnimateStaticTextSymbol"]=Eo,Eo.__name__="openfl._internal.formats.animate.AnimateStaticTextSymbol",Eo.__super__=rf,Eo.prototype=x(rf.prototype,{matrix:null,records:null,rendered:null,__createObject:function(e){var i=new Ui,s=i.__graphics;if(null!=this.rendered)return i.text=this.rendered.text,s.copyFrom(this.rendered.__graphics),i;var n="";if(null!=this.records)for(var m,f,o=null,l=16777215,_=this.matrix.tx,h=this.matrix.ty,y=0,g=this.records;y<g.length;){var j=g[y];if(++y,null!=j.fontID&&(o=e.symbols.h[j.fontID]),null!=j.offset&&(_=this.matrix.tx+.05*j.offset[0],h=this.matrix.ty+.05*j.offset[1]),null!=j.color&&(l=j.color),null!=o){m=j.fontHeight/1024*.05;for(var $=0,yt=j.glyphs.length;$<yt;){var _t=$++;f=j.glyphs[_t],n+=String.fromCodePoint(o.codes[f]);var xt=0;for(f=o.glyphs[f];xt<f.length;){var Tt=f[xt];switch(++xt,Tt._hx_index){case 1:s.beginFill(16777215&l,(l>>24&255)/255);break;case 3:s.curveTo(Tt.controlX*m+_,Tt.controlY*m+h,Tt.anchorX*m+_,Tt.anchorY*m+h);break;case 4:s.endFill();break;case 5:var St=Tt.miterLimit,Mt=Tt.joints,Et=Tt.caps,Ct=Tt.scaleMode,Dt=Tt.pixelHinting,At=Tt.alpha,Nt=Tt.color;null!=(Tt=Tt.thickness)?s.lineStyle(Tt,Nt,At,Dt,Ct,Et,Mt,St):s.lineStyle();break;case 6:s.lineTo(Tt.x*m+_,Tt.y*m+h);break;case 7:s.moveTo(Tt.x*m+_,Tt.y*m+h)}}_+=.05*j.advances[_t]}}}return i.text=n,this.records=null,this.rendered=new Ui,this.rendered.text=n,this.rendered.__graphics.copyFrom(i.__graphics),i},__class__:Eo});var Fo=function(){};k["openfl._internal.utils.ITimeline"]=Fo,Fo.__name__="openfl._internal.utils.ITimeline",Fo.__isInterface__=!0,Fo.prototype={addFrameScript:null,enterFrame:null,gotoAndPlay:null,gotoAndStop:null,nextFrame:null,play:null,prevFrame:null,stop:null,__class__:Fo};var xl=function(e,i,s){this.__movieClip=e,this.__library=i,this.__symbol=s,this.__currentFrame=1,this.__currentLabels=[],this.__instanceFields=[],this.__totalFrames=0,this.__enabled=!0,this.init()};k["openfl._internal.formats.animate.AnimateTimeline"]=xl,xl.__name__="openfl._internal.formats.animate.AnimateTimeline",xl.__interfaces__=[Fo],xl.prototype={__activeInstances:null,__activeInstancesByFrameObjectID:null,__currentFrame:null,__currentFrameLabel:null,__currentLabel:null,__currentLabels:null,__enabled:null,__frameScripts:null,__frameTime:null,__hasDown:null,__hasOver:null,__hasUp:null,__instanceFields:null,__lastFrameScriptEval:null,__lastFrameUpdate:null,__library:null,__mouseIsDown:null,__movieClip:null,__playing:null,__symbol:null,__timeElapsed:null,__totalFrames:null,addFrameScript:function(e,i){0>e||(e+=1,null!=i?(null==this.__frameScripts&&(this.__frameScripts=new Va),this.__frameScripts.h[e]=i):null!=this.__frameScripts&&this.__frameScripts.remove(e))},gotoAndPlay:function(e,i){this.play(),this.__goto(this.__resolveFrameReference(e))},gotoAndStop:function(e,i){this.stop(),this.__goto(this.__resolveFrameReference(e))},init:function(){if(null==this.__activeInstances){this.__activeInstances=[],this.__activeInstancesByFrameObjectID=new Va,this.__currentFrame=1,this.__lastFrameUpdate=this.__lastFrameScriptEval=-1,this.__totalFrames=this.__symbol.frames.length;for(var e,i,s=null,n=0,o=this.__symbol.frames.length;n<o;){var l=n++;if(e=l+1,null!=(i=this.__symbol.frames[l]).label&&this.__currentLabels.push(new yl(i.label,l+1)),null!=i.script)null==this.__frameScripts&&(this.__frameScripts=new Va),this.__frameScripts.h[e]=i.script;else if(null!=i.scriptSource){null==this.__frameScripts&&(this.__frameScripts=new Va);try{null==s&&((s=new hi).allowTypes=!0);var _=[s.parseString(i.scriptSource)],h=[new bo],m=h[0].variables;null!=t.this?m.setReserved("this",this):m.h.this=this;var f=function(g,j){return function(){g[0].execute(j[0])}}(h,_);this.__frameScripts.h[e]=f}catch(g){ha.lastException=g,null!=this.__symbol.className?Ua.warn('Unable to evaluate frame script source for symbol "'+this.__symbol.className+'" frame '+e+"\n"+i.scriptSource,{fileName:"openfl/_internal/formats/animate/AnimateTimeline.hx",lineNumber:267,className:"openfl._internal.formats.animate.AnimateTimeline",methodName:"init"}):Ua.warn("Unable to evaluate frame script source:\n"+i.scriptSource,{fileName:"openfl/_internal/formats/animate/AnimateTimeline.hx",lineNumber:272,className:"openfl._internal.formats.animate.AnimateTimeline",methodName:"init"})}}}for(i=0,s=this.__totalFrames;i<s;)if(e=1+(n=i++),null!=(o=this.__symbol.frames[n]).objects)for(n=0,_=o.objects;n<_.length;)if(h=_[n],++n,0==h.type&&!this.__activeInstancesByFrameObjectID.h.hasOwnProperty(h.id)){for(o=null,l=!1,m=0,f=this.__activeInstances;m<f.length;){var y=f[m];if(++m,null!=y.displayObject&&y.characterID==h.symbol&&y.depth==h.depth){o=y,l=!0;break}}null==o&&null!=(m=this.__library.symbols.h[h.symbol])&&null!=(m=m.__createObject(this.__library))&&(m.parent=this.__movieClip,m.stage=this.__movieClip.stage,null!=this.__movieClip.stage&&m.dispatchEvent(new fa("addedToStage",!1,!1)),o=new dr(e,h.id,h.symbol,h.depth,m,h.clipDepth)),null!=o&&(this.__activeInstancesByFrameObjectID.h[h.id]=o,l||(this.__activeInstances.push(o),this.__updateDisplayObject(o.displayObject,h)))}1<this.__totalFrames&&this.play(),this.enterFrame(0),this.__instanceFields=rb.getInstanceFields(T.getClass(this.__movieClip)),this.__updateInstanceFields()}},nextFrame:function(){this.stop(),this.__goto(this.__currentFrame+1)},play:function(){null==this.__symbol||this.__playing||2>this.__totalFrames||(this.__playing=!0,this.__frameTime=1e3/this.__library.frameRate|0,this.__timeElapsed=0)},prevFrame:function(){this.stop(),this.__goto(this.__currentFrame-1)},stop:function(){this.__playing=!1},enterFrame:function(e){this.__updateFrameScript(e),this.__updateSymbol(this.__currentFrame)},__updateFrameScript:function(e){if(null!=this.__symbol&&this.__playing&&(e=this.__getNextFrame(e),this.__lastFrameScriptEval!=e))if(null!=this.__frameScripts){if(e<this.__currentFrame){if(!this.__evaluateFrameScripts(this.__totalFrames))return;this.__currentFrame=1}this.__evaluateFrameScripts(e)}else this.__currentFrame=e},__updateSymbol:function(e){if(null!=this.__symbol&&this.__currentFrame!=this.__lastFrameUpdate){this.__updateFrameLabel();for(var s,i=new Va,n=0;n<e;)if(s=n++,null!=(s=this.__symbol.frames[s]).objects)for(var o=0,l=s.objects;o<l.length;){var _=l[o];switch(++o,_.type){case 0:null!=(s=this.__activeInstancesByFrameObjectID.h[_.id])&&(i.h[_.id]=s,this.__updateDisplayObject(s.displayObject,_,!0));break;case 1:null!=(s=i.h[_.id])&&null!=s.displayObject&&this.__updateDisplayObject(s.displayObject,_);break;case 2:i.remove(_.id)}}for(e=[],n=[],s=i.iterator();s.hasNext();)i=s.next(),-1==e.indexOf(i)&&(e.push(i),0<i.clipDepth&&n.push(i));for(e.sort(r(this,this.__sortDepths)),o=0,l=e.length;o<l;){_=o++;var h=this.__movieClip.__children[_];i=(s=e[_]).depth;var m=s.displayObject;for(h!=m?(s=m,this.__movieClip.addChildAt(m,_)):s=this.__movieClip.__children[_],_=!1,h=0;h<n.length;)if(m=n[h],++h,i>m.depth&&i<=m.clipDepth){s.set_mask(m.displayObject),_=!0;break}0<n.length&&!_&&null!=s.get_mask()&&s.set_mask(null)}for(n=e.length,s=this.__movieClip.__children.length;n<s;){for(e=this.__movieClip.__children[n],i=0,o=this.__activeInstances;i<o.length;)l=o[i],++i,l.displayObject==e&&(e instanceof se&&e.gotoAndPlay(1),this.__movieClip.removeChild(e),--n,--s);++n}this.__lastFrameUpdate=this.__currentFrame,this.__updateInstanceFields()}},__evaluateFrameScripts:function(e){var i=this.__currentFrame;for(e+=1;i<e;){var s=i++;if(s!=this.__lastFrameScriptEval&&(this.__currentFrame=this.__lastFrameScriptEval=s,this.__frameScripts.h.hasOwnProperty(s)&&(this.__updateSymbol(s),(0,this.__frameScripts.h[s])(),this.__currentFrame!=s)||!this.__playing))return!1}return!0},__fromSymbol:function(e,i){},__getNextFrame:function(e){return this.__timeElapsed+=e,1>(e=this.__currentFrame+Math.floor(this.__timeElapsed/this.__frameTime))&&(e=1),e>this.__totalFrames&&(e=Math.floor((e-1)%this.__totalFrames)+1),this.__timeElapsed%=this.__frameTime,e},__goto:function(e){null!=this.__symbol&&(1>e?e=1:e>this.__totalFrames&&(e=this.__totalFrames),this.__currentFrame=e,this.enterFrame(0))},__resolveFrameReference:function(e){if("number"==typeof e&&(0|e)===e)return e;if("string"==typeof e){for(var i=0,s=this.__currentLabels;i<s.length;){var n=s[i];if(++i,n.get_name()==e)return n.get_frame()}throw new E(new yi("Error #2109: Frame label "+e+" not found in scene."))}throw new E("Invalid type for frame "+e.__name__)},__sortDepths:function(e,i){return e.depth-i.depth},__updateDisplayObject:function(e,i,s){if(null==s&&(s=!1),null!=e){if(null!=i.name&&e.set_name(i.name),null!=i.matrix&&e.get_transform().set_matrix(i.matrix),null!=i.colorTransform?e.get_transform().set_colorTransform(i.colorTransform):s&&!e.get_transform().get_colorTransform().__isDefault(!0)&&e.get_transform().set_colorTransform(new Tb),e.set_transform(e.get_transform()),null!=i.filters){s=[];for(var n=0,o=i.filters;n<o.length;){var l=o[n];switch(++n,l._hx_index){case 0:s.push(new ug(l.blurX,l.blurY,l.quality));break;case 1:s.push(new Sf(l.matrix));break;case 2:s.push(new ji(l.distance,l.angle,l.color,l.alpha,l.blurX,l.blurY,l.strength,l.quality,l.inner,l.knockout,l.hideObject));break;case 3:s.push(new ee(l.color,l.alpha,l.blurX,l.blurY,l.strength,l.quality,l.inner,l.knockout))}}e.set_filters(s)}else e.set_filters(null);null!=i.visible&&e.set_visible(i.visible),null!=i.blendMode&&e.set_blendMode(i.blendMode),null!=i.cacheAsBitmap&&e.set_cacheAsBitmap(i.cacheAsBitmap)}},__updateFrameLabel:function(){if(this.__currentFrameLabel=this.__symbol.frames[this.__currentFrame-1].label,null!=this.__currentFrameLabel)this.__currentLabel=this.__currentFrameLabel;else{this.__currentLabel=null;for(var e=0,i=this.__currentLabels;e<i.length;){var s=i[e];if(++e,!(s.get_frame()<this.__currentFrame))break;this.__currentLabel=s.get_name()}}},__updateInstanceFields:function(){for(var e=0,i=this.__instanceFields;e<i.length;){var s=i[e];++e;for(var n=0,o=this.__movieClip.__children.length;n<o;){var l=n++;if((l=this.__movieClip.__children[l]).get_name()==s){this.__movieClip[s]=l;break}}}},__class__:xl};var dr=function(e,i,s,n,o,l){this.initFrame=e,this.initFrameObjectID=i,this.characterID=s,this.depth=n,this.displayObject=o,this.clipDepth=l};k["openfl._internal.formats.animate._AnimateTimeline.FrameSymbolInstance"]=dr,dr.__name__="openfl._internal.formats.animate._AnimateTimeline.FrameSymbolInstance",dr.prototype={characterID:null,clipDepth:null,depth:null,displayObject:null,initFrame:null,initFrameObjectID:null,__class__:dr};var zl=function(e,i){this.version=0,e.position=i;var s=e.readUTFBytes(3);if(e.position=i,"ATF"!=s)throw new E(new td("ATF signature not found"));if(255==e.b[i+6]?(this.version=e.b[i+7],e.position=i+8,s=this.__readUInt32(e)):(this.version=0,e.position=i+3,s=this.__readUInt24(e)),Ga.gt(T.__cast(i+s,sj),ta.get_length(e)))throw new E(new td("ATF length exceeds byte array length"));this.data=e};k["openfl._internal.formats.atf.ATFReader"]=zl,zl.__name__="openfl._internal.formats.atf.ATFReader",zl.prototype={atfFormat:null,cubeMap:null,data:null,height:null,mipCount:null,version:null,width:null,readHeader:function(e,i,s){var n=this.data.readUnsignedByte(),o=n>>>7;if(!s&&0!=o)throw new E(new td("ATF Cube map not expected"));if(s&&1!=o)throw new E(new td("ATF Cube map expected"));if(this.cubeMap=s,this.atfFormat=127&n,3!=this.atfFormat&&5!=this.atfFormat&&Ua.warn("Only ATF block compressed textures without JPEG-XR+LZMA are supported",{fileName:"openfl/_internal/formats/atf/ATFReader.hx",lineNumber:96,className:"openfl._internal.formats.atf.ATFReader",methodName:"readHeader"}),this.width=1<<this.data.readUnsignedByte(),this.height=1<<this.data.readUnsignedByte(),this.width!=e||this.height!=i)throw new E(new td("ATF width and height dont match"));return this.mipCount=this.data.readUnsignedByte(),5==this.atfFormat},readTextures:function(e){for(var i=3>this.version?3:4,s=0,n=this.cubeMap?6:1;s<n;)for(var o=s++,l=0,_=this.mipCount;l<_;)for(var h=l++,m=0,f=i;m<f;){var y=m++,g=0==this.version?this.__readUInt24(this.data):this.__readUInt32(this.data);if(Ga.gt(this.data.position+g,ta.get_length(this.data)))throw new E(new td("Block length exceeds ATF file length"));if(Ga.gt(g,0)){var j=new bb(new ArrayBuffer(g)),$=this.data,yt=ta.fromBytes(j),_t=0,xt=g;null==xt&&(xt=0),null==_t&&(_t=0),$.readBytes(yt,_t,xt),e(o,h,y,this.width>>h,this.height>>h,g,j)}}},__readUInt24:function(e){var i=e.readUnsignedByte()<<16;return(i|=e.readUnsignedByte()<<8)|e.readUnsignedByte()},__readUInt32:function(e){var i=e.readUnsignedByte()<<24;return i|=e.readUnsignedByte()<<16,(i|=e.readUnsignedByte()<<8)|e.readUnsignedByte()},__class__:zl};var ub=function(){};k["openfl._internal.formats.html.HTMLParser"]=ub,ub.__name__="openfl._internal.formats.html.HTMLParser",ub.parse=function(e,i,s){var n=(e=(e=(e=(e=(e=e.replace(ub.__regexBreakTag.r,"\n")).replace(ub.__regexEntities[0].r,'"')).replace(ub.__regexEntities[1].r,"'")).replace(ub.__regexEntities[2].r,"&")).replace(ub.__regexEntities[5].r," ")).split("<");if(1==n.length)e=e.replace(ub.__regexHTMLTag.r,""),1<s.get_length()&&s.splice(1,s.get_length()-1),e=(e=e.replace(ub.__regexEntities[3].r,"<")).replace(ub.__regexEntities[4].r,">"),(s=s.get(0)).format=i,s.start=0,s.end=e.length;else{s.splice(0,s.get_length()),e="";for(var o,l=0,_=n.length;l<_;){var h=l++;o=(o=(o=n[h]).replace(ub.__regexEntities[3].r,"<")).replace(ub.__regexEntities[4].r,">"),n[h]=o}for(o=[i.clone()],l=[],h=!1,_=0;_<n.length;){var m=n[_];if(++_,""!=m){var f="/"==B.substr(m,0,1),y=m.indexOf(">"),g=y+1,j=m.indexOf(" ");if(j=m.substring(f?1:0,-1<j&&j<y?j:y),f)0==l.length||j.toLowerCase()!=l[l.length-1].toLowerCase()?Ua.info("Invalid HTML, unexpected closing tag ignored: "+j,{fileName:"openfl/_internal/formats/html/HTMLParser.hx",lineNumber:97,className:"openfl._internal.formats.html.HTMLParser",methodName:"parse"}):(l.pop(),o.pop(),f=o[o.length-1].clone(),"p"==j.toLowerCase()&&0<s.get_length()&&(e+="\n",h=!0,s.get(s.get_length()-1).end++),g<m.length&&(h=B.substr(m,g,null),s.push(new Fh(f,e.length,e.length+h.length)),e+=h,h=!1));else if(f=o[o.length-1].clone(),-1<y){switch(j.toLowerCase()){case"a":ub.__regexHref.match(m)&&(f.url=ub.__getAttributeMatch(ub.__regexHref));break;case"b":f.bold=!0;break;case"em":case"i":f.italic=!0;break;case"font":if(ub.__regexFace.match(m)&&(f.font=ub.__getAttributeMatch(ub.__regexFace)),ub.__regexColor.match(m)&&(f.color=O.parseInt("0x"+ub.__getAttributeMatch(ub.__regexColor))),ub.__regexSize.match(m)){y=ub.__getAttributeMatch(ub.__regexSize);var $=B.cca(y,0);f.size=43==$||45==$?(2<=o.length?o[o.length-2]:i).size+O.parseInt(y):O.parseInt(y)}break;case"p":0<s.get_length()&&!h&&(e+="\n"),ub.__regexAlign.match(m)&&(y=ub.__getAttributeMatch(ub.__regexAlign).toLowerCase(),f.align=Gh.fromString(y));break;case"textformat":if(ub.__regexBlockIndent.match(m)&&(f.blockIndent=O.parseInt(ub.__getAttributeMatch(ub.__regexBlockIndent))),ub.__regexIndent.match(m)&&(f.indent=O.parseInt(ub.__getAttributeMatch(ub.__regexIndent))),ub.__regexLeading.match(m)&&(f.leading=O.parseInt(ub.__getAttributeMatch(ub.__regexLeading))),ub.__regexLeftMargin.match(m)&&(f.leftMargin=O.parseInt(ub.__getAttributeMatch(ub.__regexLeftMargin))),ub.__regexRightMargin.match(m)&&(f.rightMargin=O.parseInt(ub.__getAttributeMatch(ub.__regexRightMargin))),ub.__regexTabStops.match(m)){y=ub.__getAttributeMatch(ub.__regexTabStops).split(" "),$=[];for(var yt=0;yt<y.length;){var _t=y[yt];++yt,$.push(O.parseInt(_t))}f.tabStops=$}break;case"u":f.underline=!0}o.push(f),l.push(j),g<m.length&&(h=m.substring(g),s.push(new Fh(f,e.length,e.length+h.length)),e+=h,h=!1)}else s.push(new Fh(f,e.length,e.length+m.length)),e+=m,h=!1}}0==s.get_length()&&s.push(new Fh(o[0],0,0))}return e},ub.__getAttributeMatch=function(e){return null!=e.matched(2)?e.matched(2):e.matched(3)},C["openfl._internal.formats.swf.FilterType"]={__ename__:"openfl._internal.formats.swf.FilterType",__constructs__:["BlurFilter","ColorMatrixFilter","DropShadowFilter","GlowFilter"],BlurFilter:(w=function(e,i,s){return{_hx_index:0,blurX:e,blurY:i,quality:s,__enum__:"openfl._internal.formats.swf.FilterType",toString:v}},w.__params__=["blurX","blurY","quality"],w),ColorMatrixFilter:(w=function(e){return{_hx_index:1,matrix:e,__enum__:"openfl._internal.formats.swf.FilterType",toString:v}},w.__params__=["matrix"],w),DropShadowFilter:(w=function(e,i,s,n,o,l,_,h,m,f,y){return{_hx_index:2,distance:e,angle:i,color:s,alpha:n,blurX:o,blurY:l,strength:_,quality:h,inner:m,knockout:f,hideObject:y,__enum__:"openfl._internal.formats.swf.FilterType",toString:v}},w.__params__="distance angle color alpha blurX blurY strength quality inner knockout hideObject".split(" "),w),GlowFilter:(w=function(e,i,s,n,o,l,_,h){return{_hx_index:3,color:e,alpha:i,blurX:s,blurY:n,strength:o,quality:l,inner:_,knockout:h,__enum__:"openfl._internal.formats.swf.FilterType",toString:v}},w.__params__="color alpha blurX blurY strength quality inner knockout".split(" "),w)};var Jf=function(){this.symbols=new Va,this.symbolsByClassName=new va};k["openfl._internal.formats.swf.SWFLite"]=Jf,Jf.__name__="openfl._internal.formats.swf.SWFLite",Jf.resolveClass=function(e){var i=k[e];return null==i&&(i=aa.replace(e,"openfl._legacy","openfl"),i=k[i]),null==i&&(e=aa.replace(e,"openfl._v2","openfl"),i=k[e]),i},Jf.resolveEnum=function(e){var i=C[e];return null==i&&(i=aa.replace(e,"openfl._legacy","openfl"),i=C[i]),null==i&&(e=aa.replace(e,"openfl._v2","openfl"),i=C[e]),i},Jf.unserialize=function(e){return null==e?null:((e=new Ue(e)).setResolver({resolveClass:Jf.resolveClass,resolveEnum:Jf.resolveEnum}),e=e.unserialize(),e?.__init(),e)},Jf.prototype={frameRate:null,library:null,root:null,symbols:null,symbolsByClassName:null,createButton:function(e){return null},createMovieClip:function(e){if(null==e&&(e=""),""==e)return this.root.__createObject(this);var i=this.symbolsByClassName;return null!=(e=null!=t[e]?i.getReserved(e):i.h[e])&&e instanceof Al?T.__cast(e,Al).__createObject(this):null},getBitmapData:function(e){var i=this.symbolsByClassName;return null!=(e=null!=t[e]?i.getReserved(e):i.h[e])&&e instanceof eh?Ba.getBitmapData(e.path):null},hasSymbol:function(e){var i=this.symbolsByClassName;return null!=t[e]?i.existsReserved(e):i.h.hasOwnProperty(e)},serialize:function(){var e=new Me;return e.serialize(this),e.toString()},__init:function(){if(null!=this.symbols){null==this.symbolsByClassName&&(this.symbolsByClassName=new va);for(var e=this.symbols.iterator();e.hasNext();){var i=e.next();if(null!=i&&null!=i.className){var s=i.className,n=this.symbolsByClassName;null!=t[s]?n.setReserved(s,i):n.h[s]=i}}}},__class__:Jf};var Go=function(e,i){Wb.call(this),this.id=e,this.instanceID=i??e,this.alphaCheck=new va,this.imageClassNames=new va,this.rootPath=""};k["openfl._internal.formats.swf.SWFLiteLibrary"]=Go,Go.__name__="openfl._internal.formats.swf.SWFLiteLibrary",Go.__super__=kc,Go.prototype=x(kc.prototype,{alphaCheck:null,id:null,imageClassNames:null,instanceID:null,preloading:null,rootPath:null,swf:null,exists:function(e,i){return null!=this.swf&&(""==e&&"MOVIE_CLIP"==i||("IMAGE"==i||"MOVIE_CLIP"==i)&&null!=this.swf&&this.swf.hasSymbol(e))},getImage:function(e){var i=this.imageClassNames;if((null!=t[e]?i.existsReserved(e):i.h.hasOwnProperty(e))&&(i=this.imageClassNames,e=null!=t[e]?i.getReserved(e):i.h[e]),i=this.alphaCheck,null!=t[e]?!i.existsReserved(e):!i.h.hasOwnProperty(e)){for(var s=this.swf.symbols.iterator();s.hasNext();)if((i=s.next())instanceof eh&&T.__cast(i,eh).path==e&&null!=i.alpha){s=kc.prototype.getImage.call(this,e);var n=kc.prototype.getImage.call(this,i.alpha);return this.__copyChannel(s,n),n=this.cachedImages,null!=t[e]?n.setReserved(e,s):n.h[e]=s,this.cachedImages.remove(i.alpha),i=this.alphaCheck,null!=t[e]?i.setReserved(e,!0):i.h[e]=!0,s}i=this.alphaCheck,null!=t[e]?i.setReserved(e,!0):i.h[e]=!0}return kc.prototype.getImage.call(this,e)},getMovieClip:function(e){return null!=this.swf?this.swf.createMovieClip(e):null},isLocal:function(e,i){return!0},load:function(){var e=this;if(null!=this.id){var i=this.id,s=this.preload;null!=t[i]?s.setReserved(i,!0):s.h[i]=!0}var n=new Sd;this.preloading=!0;var o=function(h){var m=e.id,f=e.cachedText;for(null!=t[m]?f.setReserved(m,h):f.h[m]=h,e.swf=Jf.unserialize(h),e.swf.library=e,h=e.swf.symbols.iterator();h.hasNext();)if((m=h.next())instanceof eh&&null!=(f=m).className){m=f.className,f=f.path;var y=e.imageClassNames;null!=t[m]?y.setReserved(m,f):y.h[m]=f}m=e.swf,f=Jf.instances,null!=t[h=e.instanceID]?f.setReserved(h,m):f.h[h]=m,e.__load().onProgress(r(n,n.progress)).onError(r(n,n.error)).onComplete(function(g){e.preloading=!1,n.complete(e)})};if(Ba.exists(this.id)){for(i=this.paths.keys();i.hasNext();){s=i.next();var l=this.preload;null!=t[s]?l.setReserved(s,!0):l.h[s]=!0}this.loadText(this.id).onError(r(n,n.error)).onComplete(o)}else{for(i=this.paths.keys();i.hasNext();)s=i.next(),l=this.preload,null!=t[s]?l.setReserved(s,!0):l.h[s]=!0;i=null,s=this.paths,(null!=t[i=this.id]?s.existsReserved(i):s.h.hasOwnProperty(i))?(s=this.paths,i=null!=t[i=this.id]?s.getReserved(i):s.h[i]):i=null!=this.rootPath&&""!=this.rootPath?this.rootPath+"/"+this.id:this.id;var _=new Zg;_.addEventListener("complete",function(h){o(_.data)}),_.addEventListener("ioError",function(h){n.error(h)}),_.load(new Gg(i))}return n.future},loadImage:function(e){var i=this,s=this.imageClassNames;if((null!=t[e]?s.existsReserved(e):s.h.hasOwnProperty(e))&&(s=this.imageClassNames,e=null!=t[e]?s.getReserved(e):s.h[e]),this.preloading?s=!1:(s=this.alphaCheck,s=!(null!=t[e]?s.existsReserved(e):s.h.hasOwnProperty(e))),s)for(s=this.swf.symbols.iterator();s.hasNext();){var n=s.next();if(n instanceof eh&&T.__cast(n,eh).path==e){if(null!=(n=[n])[0].alpha)return s=[new Sd],this.__loadImage(e).onError((w=s[0],r(w,w.error))).onComplete(function(o,l){return function(_){var h,m;i.__loadImage(l[0].alpha).onError((w=o[0],r(w,w.error))).onComplete((h=o,m=l,function(f){i.__copyChannel(_,f),f=i.cachedImages,null!=t[e]?f.setReserved(e,_):f.h[e]=_,i.cachedImages.remove(m[0].alpha),f=i.alphaCheck,null!=t[e]?f.setReserved(e,!0):f.h[e]=!0,h[0].complete(_)}))}}(s,n)),s[0].future;n=this.alphaCheck,null!=t[e]?n.setReserved(e,!0):n.h[e]=!0}}return kc.prototype.loadImage.call(this,e)},unload:function(){if(null!=this.swf){var e=this.instanceID,i=Jf.instances;for((null!=t[e]?i.existsReserved(e):i.h.hasOwnProperty(e))?(i=Jf.instances,e=(null!=t[e=this.instanceID]?i.getReserved(e):i.h[e])==this.swf):e=!1,e&&Jf.instances.remove(this.instanceID),e=this.swf.symbols.iterator();e.hasNext();)(i=e.next())instanceof eh&&Ba.cache.removeBitmapData(i.path)}},__copyChannel:function(e,i){null!=i&&e.copyChannel(i,i.get_rect(),new Fd,yf.RED,yf.ALPHA),e.buffer.premultiplied=!0,e.set_premultiplied(!1)},__fromManifest:function(e){for(this.rootPath=e.rootPath,kc.prototype.__fromManifest.call(this,e),this.bytesTotal=0,e=this.paths.keys();e.hasNext();){var i=e.next(),s=this.sizes;this.bytesTotal+=null!=t[i]?s.getReserved(i):s.h[i]}},__load:function(){return kc.prototype.load.call(this)},__loadImage:function(e){return kc.prototype.loadImage.call(this,e)},__class__:Go});var tf=C["openfl._internal.formats.swf.ShapeCommand"]={__ename__:"openfl._internal.formats.swf.ShapeCommand",__constructs__:"BeginBitmapFill BeginFill BeginGradientFill CurveTo EndFill LineStyle LineTo MoveTo".split(" "),BeginBitmapFill:(w=function(e,i,s,n){return{_hx_index:0,bitmap:e,matrix:i,repeat:s,smooth:n,__enum__:"openfl._internal.formats.swf.ShapeCommand",toString:v}},w.__params__=["bitmap","matrix","repeat","smooth"],w),BeginFill:(w=function(e,i){return{_hx_index:1,color:e,alpha:i,__enum__:"openfl._internal.formats.swf.ShapeCommand",toString:v}},w.__params__=["color","alpha"],w),BeginGradientFill:(w=function(e,i,s,n,o,l,_,h){return{_hx_index:2,fillType:e,colors:i,alphas:s,ratios:n,matrix:o,spreadMethod:l,interpolationMethod:_,focalPointRatio:h,__enum__:"openfl._internal.formats.swf.ShapeCommand",toString:v}},w.__params__="fillType colors alphas ratios matrix spreadMethod interpolationMethod focalPointRatio".split(" "),w),CurveTo:(w=function(e,i,s,n){return{_hx_index:3,controlX:e,controlY:i,anchorX:s,anchorY:n,__enum__:"openfl._internal.formats.swf.ShapeCommand",toString:v}},w.__params__=["controlX","controlY","anchorX","anchorY"],w),EndFill:{_hx_index:4,__enum__:"openfl._internal.formats.swf.ShapeCommand",toString:v},LineStyle:(w=function(e,i,s,n,o,l,_,h){return{_hx_index:5,thickness:e,color:i,alpha:s,pixelHinting:n,scaleMode:o,caps:l,joints:_,miterLimit:h,__enum__:"openfl._internal.formats.swf.ShapeCommand",toString:v}},w.__params__="thickness color alpha pixelHinting scaleMode caps joints miterLimit".split(" "),w),LineTo:(w=function(e,i){return{_hx_index:6,x:e,y:i,__enum__:"openfl._internal.formats.swf.ShapeCommand",toString:v}},w.__params__=["x","y"],w),MoveTo:(w=function(e,i){return{_hx_index:7,x:e,y:i,__enum__:"openfl._internal.formats.swf.ShapeCommand",toString:v}},w.__params__=["x","y"],w)},Ho=function(e,i){null==e&&(e=2),this.__lifetime=e,this.__context=i,this.__bitmapData=new Va,this.__bitmapDataAge=new Aa,this.__bitmapDataList=[]};k["openfl._internal.renderer.BitmapDataPool"]=Ho,Ho.__name__="openfl._internal.renderer.BitmapDataPool",Ho.prototype={__bitmapData:null,__bitmapDataAge:null,__bitmapDataList:null,__context:null,__lifetime:null,cleanup:function(){for(var e=0,i=this.__bitmapDataList;e<i.length;){var s=i[e];++e;var n=this.__bitmapDataAge.h[s.__id__];n>=this.__lifetime?(this.__bitmapData.h[s.width].h[s.height].remove(s),s.dispose(),this.__bitmapDataAge.remove(s),B.remove(this.__bitmapDataList,s)):-1<n&&this.__bitmapDataAge.set(s,n+1)}},get:function(e,i){var s=this.__bitmapData.h[e];if(null==s){s=this.__bitmapData;var n=new Va;s=s.h[e]=n}if(null==(n=s.h[i])){var o=r(this,this.__createBitmapData);n=new Ia(function(){return o(e,i)},r(this,this.__cleanBitmapData)),s.h[i]=n}return null==(s=n.get())?null:(null==this.__bitmapDataAge.h.__keys__[s.__id__]&&this.__bitmapDataList.push(s),this.__bitmapDataAge.set(s,-1),s)},release:function(e){null!=this.__bitmapDataAge.h.__keys__[e.__id__]&&(this.__bitmapData.h[e.width].h[e.height].release(e),this.__bitmapDataAge.set(e,0))},__cleanBitmapData:function(e){e.fillRect(e.rect,0)},__createBitmapData:function(e,i){return null!=this.__context?(e=this.__context.createRectangleTexture(e,i,1,!0),pa.fromTexture(e)):new pa(e,i,!0,0)},__class__:Ho};var Ye=function(){this.__dirty=!0,this.t_i=this.b_i=this.f_i=this.ff_i=this.i_i=this.ii_i=this.o_i=this.__lastLength=0,null==Ye.empty?(this.types=[],this.b=[],this.i=[],this.f=[],this.o=[],this.ff=[],this.ii=[],this.objVersions=[],this.copyOnWrite=!0):this.__initFromEmpty()};k["openfl._internal.renderer.DrawCommandBuffer"]=Ye,Ye.__name__="openfl._internal.renderer.DrawCommandBuffer",Ye.prototype={__replace_openfl_display_TriangleCulling:function(e,i,s){!this.__dirty&&(i>=e.length||e[i]!=s)&&(this.__dirty=!0),e[i]=s},__replace_openfl_Vector_Int:function(e,i,s){!this.__dirty&&(i>=e.length||e[i]!=s)&&(this.__dirty=!0),e[i]=s},__replace_openfl_Vector_Float:function(e,i,s){!this.__dirty&&(i>=e.length||e[i]!=s)&&(this.__dirty=!0),e[i]=s},__replace_openfl__internal_renderer_ShaderBuffer:function(e,i,s){!this.__dirty&&(i>=e.length||e[i]!=s)&&(this.__dirty=!0),e[i]=s},__replace_openfl_display_JointStyle:function(e,i,s){!this.__dirty&&(i>=e.length||e[i]!=s)&&(this.__dirty=!0),e[i]=s},__replace_openfl_display_CapsStyle:function(e,i,s){!this.__dirty&&(i>=e.length||e[i]!=s)&&(this.__dirty=!0),e[i]=s},__replace_openfl_display_LineScaleMode:function(e,i,s){!this.__dirty&&(i>=e.length||e[i]!=s)&&(this.__dirty=!0),e[i]=s},__replace_Bool:function(e,i,s){!this.__dirty&&(i>=e.length||e[i]!=s)&&(this.__dirty=!0),e[i]=s},__replace_openfl_display_InterpolationMethod:function(e,i,s){!this.__dirty&&(i>=e.length||e[i]!=s)&&(this.__dirty=!0),e[i]=s},__replace_openfl_display_SpreadMethod:function(e,i,s){!this.__dirty&&(i>=e.length||e[i]!=s)&&(this.__dirty=!0),e[i]=s},__replace_Array_Float:function(e,i,s){!this.__dirty&&(i>=e.length||e[i]!=s)&&(this.__dirty=!0),e[i]=s},__replace_Array_Int:function(e,i,s){!this.__dirty&&(i>=e.length||e[i]!=s)&&(this.__dirty=!0),e[i]=s},__replace_openfl_display_GradientType:function(e,i,s){!this.__dirty&&(i>=e.length||e[i]!=s)&&(this.__dirty=!0),e[i]=s},__replace_Int:function(e,i,s){!this.__dirty&&(i>=e.length||e[i]!=s)&&(this.__dirty=!0),e[i]=s},__replace_Float:function(e,i,s){!this.__dirty&&(i>=e.length||e[i]!=s)&&(this.__dirty=!0),e[i]=s},__replace_openfl__internal_renderer_DrawCommandType:function(e,i,s){!this.__dirty&&(i>=e.length||e[i]!=s)&&(this.__dirty=!0),e[i]=s},dirty:null,types:null,b:null,copyOnWrite:null,f:null,ff:null,i:null,ii:null,o:null,t_i:null,b_i:null,f_i:null,ff_i:null,i_i:null,ii_i:null,o_i:null,objVersions:null,__lastLength:null,__dirty:null,append:function(e){if(0==this.get_length())return this.types=e.types,this.b=e.b,this.i=e.i,this.f=e.f,this.o=e.o,this.ff=e.ff,this.ii=e.ii,this.t_i=e.t_i,this.b_i=e.b_i,this.f_i=e.f_i,this.ff_i=e.ff_i,this.i_i=e.i_i,this.ii_i=e.ii_i,this.o_i=e.o_i,this.objVersions=e.objVersions,this.copyOnWrite=e.copyOnWrite=!0,e;for(var i=new vg(e),s=0,n=e.types;s<n.length;){var o=n[s];switch(++s,o._hx_index){case 0:switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=ma.BEGIN_BITMAP_FILL,this.beginBitmapFill((o=i).buffer.o[o.oPos],o.buffer.o[o.oPos+1],o.buffer.b[o.bPos],o.buffer.b[o.bPos+1]);break;case 1:switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=ma.BEGIN_FILL,this.beginFill((o=i).buffer.i[o.iPos],o.buffer.f[o.fPos]);break;case 2:switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=ma.BEGIN_GRADIENT_FILL,this.beginGradientFill((o=i).buffer.o[o.oPos],o.buffer.ii[o.iiPos],o.buffer.ff[o.ffPos],o.buffer.ii[o.iiPos+1],o.buffer.o[o.oPos+1],o.buffer.o[o.oPos+2],o.buffer.o[o.oPos+3],o.buffer.f[o.fPos]);break;case 3:switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=ma.BEGIN_SHADER_FILL,this.beginShaderFill((o=i).buffer.o[o.oPos]);break;case 4:switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=ma.CUBIC_CURVE_TO,this.cubicCurveTo((o=i).buffer.f[o.fPos],o.buffer.f[o.fPos+1],o.buffer.f[o.fPos+2],o.buffer.f[o.fPos+3],o.buffer.f[o.fPos+4],o.buffer.f[o.fPos+5]);break;case 5:switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=ma.CURVE_TO,this.curveTo((o=i).buffer.f[o.fPos],o.buffer.f[o.fPos+1],o.buffer.f[o.fPos+2],o.buffer.f[o.fPos+3]);break;case 6:switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=ma.DRAW_CIRCLE,this.drawCircle((o=i).buffer.f[o.fPos],o.buffer.f[o.fPos+1],o.buffer.f[o.fPos+2]);break;case 7:switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=ma.DRAW_ELLIPSE,this.drawEllipse((o=i).buffer.f[o.fPos],o.buffer.f[o.fPos+1],o.buffer.f[o.fPos+2],o.buffer.f[o.fPos+3]);break;case 8:switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=ma.DRAW_QUADS,this.drawQuads((o=i).buffer.o[o.oPos],o.buffer.o[o.oPos+1],o.buffer.o[o.oPos+2]);break;case 9:switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=ma.DRAW_RECT,this.drawRect((o=i).buffer.f[o.fPos],o.buffer.f[o.fPos+1],o.buffer.f[o.fPos+2],o.buffer.f[o.fPos+3]);break;case 10:switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=ma.DRAW_ROUND_RECT,this.drawRoundRect((o=i).buffer.f[o.fPos],o.buffer.f[o.fPos+1],o.buffer.f[o.fPos+2],o.buffer.f[o.fPos+3],o.buffer.f[o.fPos+4],o.buffer.o[o.oPos]);break;case 12:switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=ma.DRAW_TRIANGLES,this.drawTriangles((o=i).buffer.o[o.oPos],o.buffer.o[o.oPos+1],o.buffer.o[o.oPos+2],o.buffer.o[o.oPos+3]);break;case 13:switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=ma.END_FILL,this.endFill();break;case 14:switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=ma.LINE_BITMAP_STYLE,this.lineBitmapStyle((o=i).buffer.o[o.oPos],o.buffer.o[o.oPos+1],o.buffer.b[o.bPos],o.buffer.b[o.bPos+1]);break;case 15:switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=ma.LINE_GRADIENT_STYLE,this.lineGradientStyle((o=i).buffer.o[o.oPos],o.buffer.ii[o.iiPos],o.buffer.ff[o.ffPos],o.buffer.ii[o.iiPos+1],o.buffer.o[o.oPos+1],o.buffer.o[o.oPos+2],o.buffer.o[o.oPos+3],o.buffer.f[o.fPos]);break;case 16:switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=ma.LINE_STYLE,this.lineStyle((o=i).buffer.o[o.oPos],o.buffer.i[o.iPos],o.buffer.f[o.fPos],o.buffer.b[o.bPos],o.buffer.o[o.oPos+1],o.buffer.o[o.oPos+2],o.buffer.o[o.oPos+3],o.buffer.f[o.fPos+1]);break;case 17:switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=ma.LINE_TO,this.lineTo((o=i).buffer.f[o.fPos],o.buffer.f[o.fPos+1]);break;case 18:switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=ma.MOVE_TO,this.moveTo((o=i).buffer.f[o.fPos],o.buffer.f[o.fPos+1]);break;case 20:switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=ma.OVERRIDE_MATRIX,this.overrideMatrix((o=i).buffer.o[o.oPos]);break;case 21:switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=ma.WINDING_EVEN_ODD,this.windingEvenOdd();break;case 22:switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=ma.WINDING_NON_ZERO,this.windingNonZero()}}return i.destroy(),e},beginBitmapFill:function(e,i,s,n){this.prepareWrite();var o=this.types,l=this.t_i++,_=ma.BEGIN_BITMAP_FILL;for(!this.__dirty&&(l>=o.length||o[l]!=_)&&(this.__dirty=!0),o[l]=_,o=this.o,l=this.o_i++,!this.__dirty&&(l>=o.length||e!=o[l]||e.image.version!=this.objVersions[l])&&(this.__dirty=!0),o[l]=e;this.objVersions.length<l;)this.objVersions.push(0);this.objVersions[l]=e.image.version,e=this.o,o=this.o_i++,this.__dirty||!(o>=e.length)&&i.equals(e[o])||(this.__dirty=!0),e[o]=i,i=this.b,e=this.b_i++,!this.__dirty&&(e>=i.length||i[e]!=s)&&(this.__dirty=!0),i[e]=s,s=this.b,i=this.b_i++,!this.__dirty&&(i>=s.length||s[i]!=n)&&(this.__dirty=!0),s[i]=n},beginFill:function(e,i){this.prepareWrite();var s=this.types,n=this.t_i++,o=ma.BEGIN_FILL;!this.__dirty&&(n>=s.length||s[n]!=o)&&(this.__dirty=!0),s[n]=o,s=this.i,n=this.i_i++,!this.__dirty&&(n>=s.length||s[n]!=e)&&(this.__dirty=!0),s[n]=e,e=this.f,s=this.f_i++,!this.__dirty&&(s>=e.length||e[s]!=i)&&(this.__dirty=!0),e[s]=i},beginGradientFill:function(e,i,s,n,o,l,_,h){this.prepareWrite();var m=this.types,f=this.t_i++,y=ma.BEGIN_GRADIENT_FILL;!this.__dirty&&(f>=m.length||m[f]!=y)&&(this.__dirty=!0),m[f]=y,m=this.o,f=this.o_i++,!this.__dirty&&(f>=m.length||m[f]!=e)&&(this.__dirty=!0),m[f]=e,e=this.ii,m=this.ii_i++,!this.__dirty&&(m>=e.length||e[m]!=i)&&(this.__dirty=!0),e[m]=i,i=this.ff,e=this.ff_i++,!this.__dirty&&(e>=i.length||i[e]!=s)&&(this.__dirty=!0),i[e]=s,s=this.ii,i=this.ii_i++,!this.__dirty&&(i>=s.length||s[i]!=n)&&(this.__dirty=!0),s[i]=n,n=this.o,s=this.o_i++,this.__dirty||!(s>=n.length)&&o.equals(n[s])||(this.__dirty=!0),n[s]=o,o=this.o,n=this.o_i++,!this.__dirty&&(n>=o.length||o[n]!=l)&&(this.__dirty=!0),o[n]=l,l=this.o,o=this.o_i++,!this.__dirty&&(o>=l.length||l[o]!=_)&&(this.__dirty=!0),l[o]=_,_=this.f,l=this.f_i++,!this.__dirty&&(l>=_.length||_[l]!=h)&&(this.__dirty=!0),_[l]=h},beginShaderFill:function(e){this.prepareWrite();var i=this.types,s=this.t_i++,n=ma.BEGIN_SHADER_FILL;!this.__dirty&&(s>=i.length||i[s]!=n)&&(this.__dirty=!0),i[s]=n,i=this.o,s=this.o_i++,!this.__dirty&&(s>=i.length||i[s]!=e)&&(this.__dirty=!0),i[s]=e},clear:function(){this.o_i=this.ii_i=this.i_i=this.ff_i=this.f_i=this.b_i=this.t_i=0},copy:function(){var e=new Ye;return e.append(this),e},cubicCurveTo:function(e,i,s,n,o,l){this.prepareWrite();var _=this.types,h=this.t_i++,m=ma.CUBIC_CURVE_TO;!this.__dirty&&(h>=_.length||_[h]!=m)&&(this.__dirty=!0),_[h]=m,_=this.f,h=this.f_i++,!this.__dirty&&(h>=_.length||_[h]!=e)&&(this.__dirty=!0),_[h]=e,e=this.f,_=this.f_i++,!this.__dirty&&(_>=e.length||e[_]!=i)&&(this.__dirty=!0),e[_]=i,i=this.f,e=this.f_i++,!this.__dirty&&(e>=i.length||i[e]!=s)&&(this.__dirty=!0),i[e]=s,s=this.f,i=this.f_i++,!this.__dirty&&(i>=s.length||s[i]!=n)&&(this.__dirty=!0),s[i]=n,n=this.f,s=this.f_i++,!this.__dirty&&(s>=n.length||n[s]!=o)&&(this.__dirty=!0),n[s]=o,o=this.f,n=this.f_i++,!this.__dirty&&(n>=o.length||o[n]!=l)&&(this.__dirty=!0),o[n]=l},curveTo:function(e,i,s,n){this.prepareWrite();var o=this.types,l=this.t_i++,_=ma.CURVE_TO;!this.__dirty&&(l>=o.length||o[l]!=_)&&(this.__dirty=!0),o[l]=_,o=this.f,l=this.f_i++,!this.__dirty&&(l>=o.length||o[l]!=e)&&(this.__dirty=!0),o[l]=e,e=this.f,o=this.f_i++,!this.__dirty&&(o>=e.length||e[o]!=i)&&(this.__dirty=!0),e[o]=i,i=this.f,e=this.f_i++,!this.__dirty&&(e>=i.length||i[e]!=s)&&(this.__dirty=!0),i[e]=s,s=this.f,i=this.f_i++,!this.__dirty&&(i>=s.length||s[i]!=n)&&(this.__dirty=!0),s[i]=n},destroy:function(){this.ii=this.ff=this.o=this.f=this.i=this.b=this.types=null},drawCircle:function(e,i,s){this.prepareWrite();var n=this.types,o=this.t_i++,l=ma.DRAW_CIRCLE;!this.__dirty&&(o>=n.length||n[o]!=l)&&(this.__dirty=!0),n[o]=l,n=this.f,o=this.f_i++,!this.__dirty&&(o>=n.length||n[o]!=e)&&(this.__dirty=!0),n[o]=e,e=this.f,n=this.f_i++,!this.__dirty&&(n>=e.length||e[n]!=i)&&(this.__dirty=!0),e[n]=i,i=this.f,e=this.f_i++,!this.__dirty&&(e>=i.length||i[e]!=s)&&(this.__dirty=!0),i[e]=s},drawEllipse:function(e,i,s,n){this.prepareWrite();var o=this.types,l=this.t_i++,_=ma.DRAW_ELLIPSE;!this.__dirty&&(l>=o.length||o[l]!=_)&&(this.__dirty=!0),o[l]=_,o=this.f,l=this.f_i++,!this.__dirty&&(l>=o.length||o[l]!=e)&&(this.__dirty=!0),o[l]=e,e=this.f,o=this.f_i++,!this.__dirty&&(o>=e.length||e[o]!=i)&&(this.__dirty=!0),e[o]=i,i=this.f,e=this.f_i++,!this.__dirty&&(e>=i.length||i[e]!=s)&&(this.__dirty=!0),i[e]=s,s=this.f,i=this.f_i++,!this.__dirty&&(i>=s.length||s[i]!=n)&&(this.__dirty=!0),s[i]=n},drawQuads:function(e,i,s){this.prepareWrite();var n=this.types,o=this.t_i++,l=ma.DRAW_QUADS;!this.__dirty&&(o>=n.length||n[o]!=l)&&(this.__dirty=!0),n[o]=l,n=this.o,o=this.o_i++,!this.__dirty&&(o>=n.length||n[o]!=e)&&(this.__dirty=!0),n[o]=e,e=this.o,n=this.o_i++,!this.__dirty&&(n>=e.length||e[n]!=i)&&(this.__dirty=!0),e[n]=i,i=this.o,e=this.o_i++,!this.__dirty&&(e>=i.length||i[e]!=s)&&(this.__dirty=!0),i[e]=s},drawRect:function(e,i,s,n){this.prepareWrite();var o=this.types,l=this.t_i++,_=ma.DRAW_RECT;!this.__dirty&&(l>=o.length||o[l]!=_)&&(this.__dirty=!0),o[l]=_,o=this.f,l=this.f_i++,!this.__dirty&&(l>=o.length||o[l]!=e)&&(this.__dirty=!0),o[l]=e,e=this.f,o=this.f_i++,!this.__dirty&&(o>=e.length||e[o]!=i)&&(this.__dirty=!0),e[o]=i,i=this.f,e=this.f_i++,!this.__dirty&&(e>=i.length||i[e]!=s)&&(this.__dirty=!0),i[e]=s,s=this.f,i=this.f_i++,!this.__dirty&&(i>=s.length||s[i]!=n)&&(this.__dirty=!0),s[i]=n},drawRoundRect:function(e,i,s,n,o,l){this.prepareWrite();var _=this.types,h=this.t_i++,m=ma.DRAW_ROUND_RECT;!this.__dirty&&(h>=_.length||_[h]!=m)&&(this.__dirty=!0),_[h]=m,_=this.f,h=this.f_i++,!this.__dirty&&(h>=_.length||_[h]!=e)&&(this.__dirty=!0),_[h]=e,e=this.f,_=this.f_i++,!this.__dirty&&(_>=e.length||e[_]!=i)&&(this.__dirty=!0),e[_]=i,i=this.f,e=this.f_i++,!this.__dirty&&(e>=i.length||i[e]!=s)&&(this.__dirty=!0),i[e]=s,s=this.f,i=this.f_i++,!this.__dirty&&(i>=s.length||s[i]!=n)&&(this.__dirty=!0),s[i]=n,n=this.f,s=this.f_i++,!this.__dirty&&(s>=n.length||n[s]!=o)&&(this.__dirty=!0),n[s]=o,!this.__dirty&&(this.o_i>=this.o.length||this.o[this.o_i]!=l)&&(this.__dirty=!0),this.o[this.o_i++]=l},drawTriangles:function(e,i,s,n){this.prepareWrite();var o=this.types,l=this.t_i++,_=ma.DRAW_TRIANGLES;!this.__dirty&&(l>=o.length||o[l]!=_)&&(this.__dirty=!0),o[l]=_,o=this.o,l=this.o_i++,!this.__dirty&&(l>=o.length||o[l]!=e)&&(this.__dirty=!0),o[l]=e,e=this.o,o=this.o_i++,!this.__dirty&&(o>=e.length||e[o]!=i)&&(this.__dirty=!0),e[o]=i,i=this.o,e=this.o_i++,!this.__dirty&&(e>=i.length||i[e]!=s)&&(this.__dirty=!0),i[e]=s,s=this.o,i=this.o_i++,!this.__dirty&&(i>=s.length||s[i]!=n)&&(this.__dirty=!0),s[i]=n},endFill:function(){this.prepareWrite();var e=this.types,i=this.t_i++,s=ma.END_FILL;!this.__dirty&&(i>=e.length||e[i]!=s)&&(this.__dirty=!0),e[i]=s},lineBitmapStyle:function(e,i,s,n){this.prepareWrite();var o=this.types,l=this.t_i++,_=ma.LINE_BITMAP_STYLE;for(!this.__dirty&&(l>=o.length||o[l]!=_)&&(this.__dirty=!0),o[l]=_,o=this.o,l=this.o_i++,!this.__dirty&&(l>=o.length||e!=o[l]||e.image.version!=this.objVersions[l])&&(this.__dirty=!0),o[l]=e;this.objVersions.length<l;)this.objVersions.push(0);this.objVersions[l]=e.image.version,e=this.o,o=this.o_i++,this.__dirty||!(o>=e.length)&&i.equals(e[o])||(this.__dirty=!0),e[o]=i,i=this.b,e=this.b_i++,!this.__dirty&&(e>=i.length||i[e]!=s)&&(this.__dirty=!0),i[e]=s,s=this.b,i=this.b_i++,!this.__dirty&&(i>=s.length||s[i]!=n)&&(this.__dirty=!0),s[i]=n},lineGradientStyle:function(e,i,s,n,o,l,_,h){this.prepareWrite();var m=this.types,f=this.t_i++,y=ma.LINE_GRADIENT_STYLE;!this.__dirty&&(f>=m.length||m[f]!=y)&&(this.__dirty=!0),m[f]=y,m=this.o,f=this.o_i++,!this.__dirty&&(f>=m.length||m[f]!=e)&&(this.__dirty=!0),m[f]=e,e=this.ii,m=this.ii_i++,!this.__dirty&&(m>=e.length||e[m]!=i)&&(this.__dirty=!0),e[m]=i,i=this.ff,e=this.ff_i++,!this.__dirty&&(e>=i.length||i[e]!=s)&&(this.__dirty=!0),i[e]=s,s=this.ii,i=this.ii_i++,!this.__dirty&&(i>=s.length||s[i]!=n)&&(this.__dirty=!0),s[i]=n,n=this.o,s=this.o_i++,this.__dirty||!(s>=n.length)&&o.equals(n[s])||(this.__dirty=!0),n[s]=o,o=this.o,n=this.o_i++,!this.__dirty&&(n>=o.length||o[n]!=l)&&(this.__dirty=!0),o[n]=l,l=this.o,o=this.o_i++,!this.__dirty&&(o>=l.length||l[o]!=_)&&(this.__dirty=!0),l[o]=_,_=this.f,l=this.f_i++,!this.__dirty&&(l>=_.length||_[l]!=h)&&(this.__dirty=!0),_[l]=h},lineStyle:function(e,i,s,n,o,l,_,h){this.prepareWrite();var m=this.types,f=this.t_i++,y=ma.LINE_STYLE;!this.__dirty&&(f>=m.length||m[f]!=y)&&(this.__dirty=!0),m[f]=y,!this.__dirty&&(this.o_i>=this.o.length||this.o[this.o_i]!=e)&&(this.__dirty=!0),this.o[this.o_i++]=e,e=this.i,m=this.i_i++,!this.__dirty&&(m>=e.length||e[m]!=i)&&(this.__dirty=!0),e[m]=i,i=this.f,e=this.f_i++,!this.__dirty&&(e>=i.length||i[e]!=s)&&(this.__dirty=!0),i[e]=s,s=this.b,i=this.b_i++,!this.__dirty&&(i>=s.length||s[i]!=n)&&(this.__dirty=!0),s[i]=n,n=this.o,s=this.o_i++,!this.__dirty&&(s>=n.length||n[s]!=o)&&(this.__dirty=!0),n[s]=o,o=this.o,n=this.o_i++,!this.__dirty&&(n>=o.length||o[n]!=l)&&(this.__dirty=!0),o[n]=l,l=this.o,o=this.o_i++,!this.__dirty&&(o>=l.length||l[o]!=_)&&(this.__dirty=!0),l[o]=_,_=this.f,l=this.f_i++,!this.__dirty&&(l>=_.length||_[l]!=h)&&(this.__dirty=!0),_[l]=h},lineTo:function(e,i){this.prepareWrite();var s=this.types,n=this.t_i++,o=ma.LINE_TO;!this.__dirty&&(n>=s.length||s[n]!=o)&&(this.__dirty=!0),s[n]=o,s=this.f,n=this.f_i++,!this.__dirty&&(n>=s.length||s[n]!=e)&&(this.__dirty=!0),s[n]=e,e=this.f,s=this.f_i++,!this.__dirty&&(s>=e.length||e[s]!=i)&&(this.__dirty=!0),e[s]=i},markAsClean:function(){this.__dirty=!1},moveTo:function(e,i){this.prepareWrite();var s=this.types,n=this.t_i++,o=ma.MOVE_TO;!this.__dirty&&(n>=s.length||s[n]!=o)&&(this.__dirty=!0),s[n]=o,s=this.f,n=this.f_i++,!this.__dirty&&(n>=s.length||s[n]!=e)&&(this.__dirty=!0),s[n]=e,e=this.f,s=this.f_i++,!this.__dirty&&(s>=e.length||e[s]!=i)&&(this.__dirty=!0),e[s]=i},prepareWrite:function(){this.copyOnWrite&&(this.types=this.types.slice(),this.b=this.b.slice(),this.i=this.i.slice(),this.f=this.f.slice(),this.o=this.o.slice(),this.ff=this.ff.slice(),this.ii=this.ii.slice(),this.objVersions=this.objVersions.slice(),this.copyOnWrite=!1)},overrideBlendMode:function(e){this.prepareWrite(),this.types.push(ma.OVERRIDE_BLEND_MODE),this.o.push(e)},overrideMatrix:function(e){this.prepareWrite();var i=this.types,s=this.t_i++,n=ma.OVERRIDE_MATRIX;!this.__dirty&&(s>=i.length||i[s]!=n)&&(this.__dirty=!0),i[s]=n,i=this.o,s=this.o_i++,this.__dirty||!(s>=i.length)&&e.equals(i[s])||(this.__dirty=!0),i[s]=e},windingEvenOdd:function(){this.prepareWrite();var e=this.types,i=this.t_i++,s=ma.WINDING_EVEN_ODD;!this.__dirty&&(i>=e.length||e[i]!=s)&&(this.__dirty=!0),e[i]=s},windingNonZero:function(){this.prepareWrite();var e=this.types,i=this.t_i++,s=ma.WINDING_NON_ZERO;!this.__dirty&&(i>=e.length||e[i]!=s)&&(this.__dirty=!0),e[i]=s},get_dirty:function(){return this.__dirty},get_length:function(){return this.t_i},__initFromEmpty:function(){this.types=Ye.empty.types,this.b=Ye.empty.b,this.i=Ye.empty.i,this.f=Ye.empty.f,this.o=Ye.empty.o,this.ff=Ye.empty.ff,this.ii=Ye.empty.ii,this.objVersions=Ye.empty.objVersions,this.copyOnWrite=!0},__endBuffer:function(){this.__lastLength!=this.t_i&&(this.__dirty=!0),this.__lastLength=this.t_i},__replaceMtx:function(e,i,s){this.__dirty||!(i>=e.length)&&s.equals(e[i])||(this.__dirty=!0),e[i]=s},__replaceBmp:function(e,i,s){for(!this.__dirty&&(i>=e.length||s!=e[i]||s.image.version!=this.objVersions[i])&&(this.__dirty=!0),e[i]=s;this.objVersions.length<i;)this.objVersions.push(0);this.objVersions[i]=s.image.version},__class__:Ye,__properties__:{get_length:"get_length",get_dirty:"get_dirty"}};var vg=function(e){this.buffer=e,this.bPos=this.iPos=this.fPos=this.oPos=this.ffPos=this.iiPos=this.tsPos=0,this.prev=ma.UNKNOWN};k["openfl._internal.renderer.DrawCommandReader"]=vg,vg.__name__="openfl._internal.renderer.DrawCommandReader",vg.prototype={buffer:null,bPos:null,iiPos:null,iPos:null,ffPos:null,fPos:null,oPos:null,prev:null,tsPos:null,advance:function(){switch(this.prev._hx_index){case 0:case 14:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:case 19:case 20:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:case 7:case 9:this.fPos+=4;break;case 6:this.fPos+=3;break;case 8:this.oPos+=3;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2}},bool:function(e){return this.buffer.b[this.bPos+e]},destroy:function(){this.buffer=null,this.reset()},fArr:function(e){return this.buffer.ff[this.ffPos+e]},float:function(e){return this.buffer.f[this.fPos+e]},iArr:function(e){return this.buffer.ii[this.iiPos+e]},int:function(e){return this.buffer.i[this.iPos+e]},obj:function(e){return this.buffer.o[this.oPos+e]},readBeginBitmapFill:function(){switch(this.prev._hx_index){case 0:case 14:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:case 19:case 20:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:case 7:case 9:this.fPos+=4;break;case 6:this.fPos+=3;break;case 8:this.oPos+=3;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2}return this.prev=ma.BEGIN_BITMAP_FILL,this},readBeginFill:function(){switch(this.prev._hx_index){case 0:case 14:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:case 19:case 20:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:case 7:case 9:this.fPos+=4;break;case 6:this.fPos+=3;break;case 8:this.oPos+=3;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2}return this.prev=ma.BEGIN_FILL,this},readBeginGradientFill:function(){switch(this.prev._hx_index){case 0:case 14:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:case 19:case 20:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:case 7:case 9:this.fPos+=4;break;case 6:this.fPos+=3;break;case 8:this.oPos+=3;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2}return this.prev=ma.BEGIN_GRADIENT_FILL,this},readBeginShaderFill:function(){switch(this.prev._hx_index){case 0:case 14:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:case 19:case 20:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:case 7:case 9:this.fPos+=4;break;case 6:this.fPos+=3;break;case 8:this.oPos+=3;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2}return this.prev=ma.BEGIN_SHADER_FILL,this},readCubicCurveTo:function(){switch(this.prev._hx_index){case 0:case 14:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:case 19:case 20:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:case 7:case 9:this.fPos+=4;break;case 6:this.fPos+=3;break;case 8:this.oPos+=3;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2}return this.prev=ma.CUBIC_CURVE_TO,this},readCurveTo:function(){switch(this.prev._hx_index){case 0:case 14:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:case 19:case 20:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:case 7:case 9:this.fPos+=4;break;case 6:this.fPos+=3;break;case 8:this.oPos+=3;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2}return this.prev=ma.CURVE_TO,this},readDrawCircle:function(){switch(this.prev._hx_index){case 0:case 14:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:case 19:case 20:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:case 7:case 9:this.fPos+=4;break;case 6:this.fPos+=3;break;case 8:this.oPos+=3;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2}return this.prev=ma.DRAW_CIRCLE,this},readDrawEllipse:function(){switch(this.prev._hx_index){case 0:case 14:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:case 19:case 20:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:case 7:case 9:this.fPos+=4;break;case 6:this.fPos+=3;break;case 8:this.oPos+=3;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2}return this.prev=ma.DRAW_ELLIPSE,this},readDrawQuads:function(){switch(this.prev._hx_index){case 0:case 14:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:case 19:case 20:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:case 7:case 9:this.fPos+=4;break;case 6:this.fPos+=3;break;case 8:this.oPos+=3;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2}return this.prev=ma.DRAW_QUADS,this},readDrawRect:function(){switch(this.prev._hx_index){case 0:case 14:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:case 19:case 20:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:case 7:case 9:this.fPos+=4;break;case 6:this.fPos+=3;break;case 8:this.oPos+=3;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2}return this.prev=ma.DRAW_RECT,this},readDrawRoundRect:function(){switch(this.prev._hx_index){case 0:case 14:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:case 19:case 20:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:case 7:case 9:this.fPos+=4;break;case 6:this.fPos+=3;break;case 8:this.oPos+=3;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2}return this.prev=ma.DRAW_ROUND_RECT,this},readDrawTriangles:function(){switch(this.prev._hx_index){case 0:case 14:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:case 19:case 20:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:case 7:case 9:this.fPos+=4;break;case 6:this.fPos+=3;break;case 8:this.oPos+=3;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2}return this.prev=ma.DRAW_TRIANGLES,this},readEndFill:function(){switch(this.prev._hx_index){case 0:case 14:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:case 19:case 20:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:case 7:case 9:this.fPos+=4;break;case 6:this.fPos+=3;break;case 8:this.oPos+=3;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2}return this.prev=ma.END_FILL,this},readLineBitmapStyle:function(){switch(this.prev._hx_index){case 0:case 14:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:case 19:case 20:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:case 7:case 9:this.fPos+=4;break;case 6:this.fPos+=3;break;case 8:this.oPos+=3;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2}return this.prev=ma.LINE_BITMAP_STYLE,this},readLineGradientStyle:function(){switch(this.prev._hx_index){case 0:case 14:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:case 19:case 20:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:case 7:case 9:this.fPos+=4;break;case 6:this.fPos+=3;break;case 8:this.oPos+=3;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2}return this.prev=ma.LINE_GRADIENT_STYLE,this},readLineStyle:function(){switch(this.prev._hx_index){case 0:case 14:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:case 19:case 20:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:case 7:case 9:this.fPos+=4;break;case 6:this.fPos+=3;break;case 8:this.oPos+=3;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2}return this.prev=ma.LINE_STYLE,this},readLineTo:function(){switch(this.prev._hx_index){case 0:case 14:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:case 19:case 20:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:case 7:case 9:this.fPos+=4;break;case 6:this.fPos+=3;break;case 8:this.oPos+=3;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2}return this.prev=ma.LINE_TO,this},readMoveTo:function(){switch(this.prev._hx_index){case 0:case 14:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:case 19:case 20:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:case 7:case 9:this.fPos+=4;break;case 6:this.fPos+=3;break;case 8:this.oPos+=3;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2}return this.prev=ma.MOVE_TO,this},readOverrideBlendMode:function(){switch(this.prev._hx_index){case 0:case 14:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:case 19:case 20:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:case 7:case 9:this.fPos+=4;break;case 6:this.fPos+=3;break;case 8:this.oPos+=3;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2}return this.prev=ma.OVERRIDE_BLEND_MODE,this},readOverrideMatrix:function(){switch(this.prev._hx_index){case 0:case 14:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:case 19:case 20:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:case 7:case 9:this.fPos+=4;break;case 6:this.fPos+=3;break;case 8:this.oPos+=3;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2}return this.prev=ma.OVERRIDE_MATRIX,this},readWindingEvenOdd:function(){switch(this.prev._hx_index){case 0:case 14:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:case 19:case 20:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:case 7:case 9:this.fPos+=4;break;case 6:this.fPos+=3;break;case 8:this.oPos+=3;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2}return this.prev=ma.WINDING_EVEN_ODD,this},readWindingNonZero:function(){switch(this.prev._hx_index){case 0:case 14:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:case 19:case 20:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:case 7:case 9:this.fPos+=4;break;case 6:this.fPos+=3;break;case 8:this.oPos+=3;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2}return this.prev=ma.WINDING_NON_ZERO,this},reset:function(){this.bPos=this.iPos=this.fPos=this.oPos=this.ffPos=this.iiPos=this.tsPos=0},skip:function(e){switch(this.prev._hx_index){case 0:case 14:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:case 19:case 20:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:case 7:case 9:this.fPos+=4;break;case 6:this.fPos+=3;break;case 8:this.oPos+=3;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2}this.prev=e},__class__:vg};var Rj={};k["openfl._internal.renderer._DrawCommandReader.BeginBitmapFillView_Impl_"]=Rj,Rj.__name__="openfl._internal.renderer._DrawCommandReader.BeginBitmapFillView_Impl_",Rj.__properties__={get_smooth:"get_smooth",get_repeat:"get_repeat",get_matrix:"get_matrix",get_bitmap:"get_bitmap"},Rj._new=function(e){return e},Rj.get_bitmap=function(e){return e.buffer.o[e.oPos]},Rj.get_matrix=function(e){return e.buffer.o[e.oPos+1]},Rj.get_repeat=function(e){return e.buffer.b[e.bPos]},Rj.get_smooth=function(e){return e.buffer.b[e.bPos+1]};var Io={};k["openfl._internal.renderer._DrawCommandReader.BeginFillView_Impl_"]=Io,Io.__name__="openfl._internal.renderer._DrawCommandReader.BeginFillView_Impl_",Io.__properties__={get_alpha:"get_alpha",get_color:"get_color"},Io._new=function(e){return e},Io.get_color=function(e){return e.buffer.i[e.iPos]},Io.get_alpha=function(e){return e.buffer.f[e.fPos]};var fh={};k["openfl._internal.renderer._DrawCommandReader.BeginGradientFillView_Impl_"]=fh,fh.__name__="openfl._internal.renderer._DrawCommandReader.BeginGradientFillView_Impl_",fh.__properties__={get_focalPointRatio:"get_focalPointRatio",get_interpolationMethod:"get_interpolationMethod",get_spreadMethod:"get_spreadMethod",get_matrix:"get_matrix",get_ratios:"get_ratios",get_alphas:"get_alphas",get_colors:"get_colors",get_type:"get_type"},fh._new=function(e){return e},fh.get_type=function(e){return e.buffer.o[e.oPos]},fh.get_colors=function(e){return e.buffer.ii[e.iiPos]},fh.get_alphas=function(e){return e.buffer.ff[e.ffPos]},fh.get_ratios=function(e){return e.buffer.ii[e.iiPos+1]},fh.get_matrix=function(e){return e.buffer.o[e.oPos+1]},fh.get_spreadMethod=function(e){return e.buffer.o[e.oPos+2]},fh.get_interpolationMethod=function(e){return e.buffer.o[e.oPos+3]},fh.get_focalPointRatio=function(e){return e.buffer.f[e.fPos]};var er={};k["openfl._internal.renderer._DrawCommandReader.BeginShaderFillView_Impl_"]=er,er.__name__="openfl._internal.renderer._DrawCommandReader.BeginShaderFillView_Impl_",er.__properties__={get_shaderBuffer:"get_shaderBuffer"},er._new=function(e){return e},er.get_shaderBuffer=function(e){return e.buffer.o[e.oPos]};var ki={};k["openfl._internal.renderer._DrawCommandReader.CubicCurveToView_Impl_"]=ki,ki.__name__="openfl._internal.renderer._DrawCommandReader.CubicCurveToView_Impl_",ki.__properties__={get_anchorY:"get_anchorY",get_anchorX:"get_anchorX",get_controlY2:"get_controlY2",get_controlX2:"get_controlX2",get_controlY1:"get_controlY1",get_controlX1:"get_controlX1"},ki._new=function(e){return e},ki.get_controlX1=function(e){return e.buffer.f[e.fPos]},ki.get_controlY1=function(e){return e.buffer.f[e.fPos+1]},ki.get_controlX2=function(e){return e.buffer.f[e.fPos+2]},ki.get_controlY2=function(e){return e.buffer.f[e.fPos+3]},ki.get_anchorX=function(e){return e.buffer.f[e.fPos+4]},ki.get_anchorY=function(e){return e.buffer.f[e.fPos+5]};var Sj={};k["openfl._internal.renderer._DrawCommandReader.CurveToView_Impl_"]=Sj,Sj.__name__="openfl._internal.renderer._DrawCommandReader.CurveToView_Impl_",Sj.__properties__={get_anchorY:"get_anchorY",get_anchorX:"get_anchorX",get_controlY:"get_controlY",get_controlX:"get_controlX"},Sj._new=function(e){return e},Sj.get_controlX=function(e){return e.buffer.f[e.fPos]},Sj.get_controlY=function(e){return e.buffer.f[e.fPos+1]},Sj.get_anchorX=function(e){return e.buffer.f[e.fPos+2]},Sj.get_anchorY=function(e){return e.buffer.f[e.fPos+3]};var Bl={};k["openfl._internal.renderer._DrawCommandReader.DrawCircleView_Impl_"]=Bl,Bl.__name__="openfl._internal.renderer._DrawCommandReader.DrawCircleView_Impl_",Bl.__properties__={get_radius:"get_radius",get_y:"get_y",get_x:"get_x"},Bl._new=function(e){return e},Bl.get_x=function(e){return e.buffer.f[e.fPos]},Bl.get_y=function(e){return e.buffer.f[e.fPos+1]},Bl.get_radius=function(e){return e.buffer.f[e.fPos+2]};var Tj={};k["openfl._internal.renderer._DrawCommandReader.DrawEllipseView_Impl_"]=Tj,Tj.__name__="openfl._internal.renderer._DrawCommandReader.DrawEllipseView_Impl_",Tj.__properties__={get_height:"get_height",get_width:"get_width",get_y:"get_y",get_x:"get_x"},Tj._new=function(e){return e},Tj.get_x=function(e){return e.buffer.f[e.fPos]},Tj.get_y=function(e){return e.buffer.f[e.fPos+1]},Tj.get_width=function(e){return e.buffer.f[e.fPos+2]},Tj.get_height=function(e){return e.buffer.f[e.fPos+3]};var Cl={};k["openfl._internal.renderer._DrawCommandReader.DrawQuadsView_Impl_"]=Cl,Cl.__name__="openfl._internal.renderer._DrawCommandReader.DrawQuadsView_Impl_",Cl.__properties__={get_transforms:"get_transforms",get_indices:"get_indices",get_rects:"get_rects"},Cl._new=function(e){return e},Cl.get_rects=function(e){return e.buffer.o[e.oPos]},Cl.get_indices=function(e){return e.buffer.o[e.oPos+1]},Cl.get_transforms=function(e){return e.buffer.o[e.oPos+2]};var Uj={};k["openfl._internal.renderer._DrawCommandReader.DrawRectView_Impl_"]=Uj,Uj.__name__="openfl._internal.renderer._DrawCommandReader.DrawRectView_Impl_",Uj.__properties__={get_height:"get_height",get_width:"get_width",get_y:"get_y",get_x:"get_x"},Uj._new=function(e){return e},Uj.get_x=function(e){return e.buffer.f[e.fPos]},Uj.get_y=function(e){return e.buffer.f[e.fPos+1]},Uj.get_width=function(e){return e.buffer.f[e.fPos+2]},Uj.get_height=function(e){return e.buffer.f[e.fPos+3]};var li={};k["openfl._internal.renderer._DrawCommandReader.DrawRoundRectView_Impl_"]=li,li.__name__="openfl._internal.renderer._DrawCommandReader.DrawRoundRectView_Impl_",li.__properties__={get_ellipseHeight:"get_ellipseHeight",get_ellipseWidth:"get_ellipseWidth",get_height:"get_height",get_width:"get_width",get_y:"get_y",get_x:"get_x"},li._new=function(e){return e},li.get_x=function(e){return e.buffer.f[e.fPos]},li.get_y=function(e){return e.buffer.f[e.fPos+1]},li.get_width=function(e){return e.buffer.f[e.fPos+2]},li.get_height=function(e){return e.buffer.f[e.fPos+3]},li.get_ellipseWidth=function(e){return e.buffer.f[e.fPos+4]},li.get_ellipseHeight=function(e){return e.buffer.o[e.oPos]};var Vj={};k["openfl._internal.renderer._DrawCommandReader.DrawTrianglesView_Impl_"]=Vj,Vj.__name__="openfl._internal.renderer._DrawCommandReader.DrawTrianglesView_Impl_",Vj.__properties__={get_culling:"get_culling",get_uvtData:"get_uvtData",get_indices:"get_indices",get_vertices:"get_vertices"},Vj._new=function(e){return e},Vj.get_vertices=function(e){return e.buffer.o[e.oPos]},Vj.get_indices=function(e){return e.buffer.o[e.oPos+1]},Vj.get_uvtData=function(e){return e.buffer.o[e.oPos+2]},Vj.get_culling=function(e){return e.buffer.o[e.oPos+3]};var bt={};k["openfl._internal.renderer._DrawCommandReader.EndFillView_Impl_"]=bt,bt.__name__="openfl._internal.renderer._DrawCommandReader.EndFillView_Impl_",bt._new=function(e){return e};var Wj={};k["openfl._internal.renderer._DrawCommandReader.LineBitmapStyleView_Impl_"]=Wj,Wj.__name__="openfl._internal.renderer._DrawCommandReader.LineBitmapStyleView_Impl_",Wj.__properties__={get_smooth:"get_smooth",get_repeat:"get_repeat",get_matrix:"get_matrix",get_bitmap:"get_bitmap"},Wj._new=function(e){return e},Wj.get_bitmap=function(e){return e.buffer.o[e.oPos]},Wj.get_matrix=function(e){return e.buffer.o[e.oPos+1]},Wj.get_repeat=function(e){return e.buffer.b[e.bPos]},Wj.get_smooth=function(e){return e.buffer.b[e.bPos+1]};var gh={};k["openfl._internal.renderer._DrawCommandReader.LineGradientStyleView_Impl_"]=gh,gh.__name__="openfl._internal.renderer._DrawCommandReader.LineGradientStyleView_Impl_",gh.__properties__={get_focalPointRatio:"get_focalPointRatio",get_interpolationMethod:"get_interpolationMethod",get_spreadMethod:"get_spreadMethod",get_matrix:"get_matrix",get_ratios:"get_ratios",get_alphas:"get_alphas",get_colors:"get_colors",get_type:"get_type"},gh._new=function(e){return e},gh.get_type=function(e){return e.buffer.o[e.oPos]},gh.get_colors=function(e){return e.buffer.ii[e.iiPos]},gh.get_alphas=function(e){return e.buffer.ff[e.ffPos]},gh.get_ratios=function(e){return e.buffer.ii[e.iiPos+1]},gh.get_matrix=function(e){return e.buffer.o[e.oPos+1]},gh.get_spreadMethod=function(e){return e.buffer.o[e.oPos+2]},gh.get_interpolationMethod=function(e){return e.buffer.o[e.oPos+3]},gh.get_focalPointRatio=function(e){return e.buffer.f[e.fPos]};var hh={};k["openfl._internal.renderer._DrawCommandReader.LineStyleView_Impl_"]=hh,hh.__name__="openfl._internal.renderer._DrawCommandReader.LineStyleView_Impl_",hh.__properties__={get_miterLimit:"get_miterLimit",get_joints:"get_joints",get_caps:"get_caps",get_scaleMode:"get_scaleMode",get_pixelHinting:"get_pixelHinting",get_alpha:"get_alpha",get_color:"get_color",get_thickness:"get_thickness"},hh._new=function(e){return e},hh.get_thickness=function(e){return e.buffer.o[e.oPos]},hh.get_color=function(e){return e.buffer.i[e.iPos]},hh.get_alpha=function(e){return e.buffer.f[e.fPos]},hh.get_pixelHinting=function(e){return e.buffer.b[e.bPos]},hh.get_scaleMode=function(e){return e.buffer.o[e.oPos+1]},hh.get_caps=function(e){return e.buffer.o[e.oPos+2]},hh.get_joints=function(e){return e.buffer.o[e.oPos+3]},hh.get_miterLimit=function(e){return e.buffer.f[e.fPos+1]};var Jo={};k["openfl._internal.renderer._DrawCommandReader.LineToView_Impl_"]=Jo,Jo.__name__="openfl._internal.renderer._DrawCommandReader.LineToView_Impl_",Jo.__properties__={get_y:"get_y",get_x:"get_x"},Jo._new=function(e){return e},Jo.get_x=function(e){return e.buffer.f[e.fPos]},Jo.get_y=function(e){return e.buffer.f[e.fPos+1]};var Ko={};k["openfl._internal.renderer._DrawCommandReader.MoveToView_Impl_"]=Ko,Ko.__name__="openfl._internal.renderer._DrawCommandReader.MoveToView_Impl_",Ko.__properties__={get_y:"get_y",get_x:"get_x"},Ko._new=function(e){return e},Ko.get_x=function(e){return e.buffer.f[e.fPos]},Ko.get_y=function(e){return e.buffer.f[e.fPos+1]};var fr={};k["openfl._internal.renderer._DrawCommandReader.OverrideBlendModeView_Impl_"]=fr,fr.__name__="openfl._internal.renderer._DrawCommandReader.OverrideBlendModeView_Impl_",fr.__properties__={get_blendMode:"get_blendMode"},fr._new=function(e){return e},fr.get_blendMode=function(e){return e.buffer.o[e.oPos]};var gr={};k["openfl._internal.renderer._DrawCommandReader.OverrideMatrixView_Impl_"]=gr,gr.__name__="openfl._internal.renderer._DrawCommandReader.OverrideMatrixView_Impl_",gr.__properties__={get_matrix:"get_matrix"},gr._new=function(e){return e},gr.get_matrix=function(e){return e.buffer.o[e.oPos]};var ct={};k["openfl._internal.renderer._DrawCommandReader.WindingEvenOddView_Impl_"]=ct,ct.__name__="openfl._internal.renderer._DrawCommandReader.WindingEvenOddView_Impl_",ct._new=function(e){return e};var dt={};k["openfl._internal.renderer._DrawCommandReader.WindingNonZeroView_Impl_"]=dt,dt.__name__="openfl._internal.renderer._DrawCommandReader.WindingNonZeroView_Impl_",dt._new=function(e){return e};var ma=C["openfl._internal.renderer.DrawCommandType"]={__ename__:"openfl._internal.renderer.DrawCommandType",__constructs__:"BEGIN_BITMAP_FILL BEGIN_FILL BEGIN_GRADIENT_FILL BEGIN_SHADER_FILL CUBIC_CURVE_TO CURVE_TO DRAW_CIRCLE DRAW_ELLIPSE DRAW_QUADS DRAW_RECT DRAW_ROUND_RECT DRAW_TILES DRAW_TRIANGLES END_FILL LINE_BITMAP_STYLE LINE_GRADIENT_STYLE LINE_STYLE LINE_TO MOVE_TO OVERRIDE_BLEND_MODE OVERRIDE_MATRIX WINDING_EVEN_ODD WINDING_NON_ZERO UNKNOWN".split(" "),BEGIN_BITMAP_FILL:{_hx_index:0,__enum__:"openfl._internal.renderer.DrawCommandType",toString:v},BEGIN_FILL:{_hx_index:1,__enum__:"openfl._internal.renderer.DrawCommandType",toString:v},BEGIN_GRADIENT_FILL:{_hx_index:2,__enum__:"openfl._internal.renderer.DrawCommandType",toString:v},BEGIN_SHADER_FILL:{_hx_index:3,__enum__:"openfl._internal.renderer.DrawCommandType",toString:v},CUBIC_CURVE_TO:{_hx_index:4,__enum__:"openfl._internal.renderer.DrawCommandType",toString:v},CURVE_TO:{_hx_index:5,__enum__:"openfl._internal.renderer.DrawCommandType",toString:v},DRAW_CIRCLE:{_hx_index:6,__enum__:"openfl._internal.renderer.DrawCommandType",toString:v},DRAW_ELLIPSE:{_hx_index:7,__enum__:"openfl._internal.renderer.DrawCommandType",toString:v},DRAW_QUADS:{_hx_index:8,__enum__:"openfl._internal.renderer.DrawCommandType",toString:v},DRAW_RECT:{_hx_index:9,__enum__:"openfl._internal.renderer.DrawCommandType",toString:v},DRAW_ROUND_RECT:{_hx_index:10,__enum__:"openfl._internal.renderer.DrawCommandType",toString:v},DRAW_TILES:{_hx_index:11,__enum__:"openfl._internal.renderer.DrawCommandType",toString:v},DRAW_TRIANGLES:{_hx_index:12,__enum__:"openfl._internal.renderer.DrawCommandType",toString:v},END_FILL:{_hx_index:13,__enum__:"openfl._internal.renderer.DrawCommandType",toString:v},LINE_BITMAP_STYLE:{_hx_index:14,__enum__:"openfl._internal.renderer.DrawCommandType",toString:v},LINE_GRADIENT_STYLE:{_hx_index:15,__enum__:"openfl._internal.renderer.DrawCommandType",toString:v},LINE_STYLE:{_hx_index:16,__enum__:"openfl._internal.renderer.DrawCommandType",toString:v},LINE_TO:{_hx_index:17,__enum__:"openfl._internal.renderer.DrawCommandType",toString:v},MOVE_TO:{_hx_index:18,__enum__:"openfl._internal.renderer.DrawCommandType",toString:v},OVERRIDE_BLEND_MODE:{_hx_index:19,__enum__:"openfl._internal.renderer.DrawCommandType",toString:v},OVERRIDE_MATRIX:{_hx_index:20,__enum__:"openfl._internal.renderer.DrawCommandType",toString:v},WINDING_EVEN_ODD:{_hx_index:21,__enum__:"openfl._internal.renderer.DrawCommandType",toString:v},WINDING_NON_ZERO:{_hx_index:22,__enum__:"openfl._internal.renderer.DrawCommandType",toString:v},UNKNOWN:{_hx_index:23,__enum__:"openfl._internal.renderer.DrawCommandType",toString:v}},yh=function(e,i,s,n,o,l,_){null==_&&(_=!1),null==l&&(l=!1),null==o&&(o=!1),null==n&&(n=0),null==s&&(s=2),null==i&&(i=5),null==e&&(e=0),this.wrap=e,this.filter=i,this.mipfilter=s,this.lodBias=n,this.ignoreSampler=o,this.centroid=l,this.textureAlpha=_};k["openfl._internal.renderer.SamplerState"]=yh,yh.__name__="openfl._internal.renderer.SamplerState",yh.prototype={centroid:null,filter:null,ignoreSampler:null,lodBias:null,mipfilter:null,mipmapGenerated:null,textureAlpha:null,wrap:null,clone:function(){var e=new yh(this.wrap,this.filter,this.mipfilter,this.lodBias,this.ignoreSampler,this.centroid,this.textureAlpha);return e.mipmapGenerated=this.mipmapGenerated,e},copyFrom:function(e){null==e||e.ignoreSampler||(this.wrap=e.wrap,this.filter=e.filter,this.mipfilter=e.mipfilter,this.lodBias=e.lodBias,this.centroid=e.centroid,this.textureAlpha=e.textureAlpha)},equals:function(e){return null!=e&&this.wrap==e.wrap&&this.filter==e.filter&&this.mipfilter==e.mipfilter&&this.lodBias==e.lodBias&&this.textureAlpha==e.textureAlpha},__class__:yh};var Lo=function(){this.inputRefs=[],this.inputFilter=[],this.inputMipFilter=[],this.inputs=[],this.inputWrap=[],this.overrideIntNames=[],this.overrideIntValues=[],this.overrideFloatNames=[],this.overrideFloatValues=[],this.overrideBoolNames=[],this.overrideBoolValues=[],this.paramLengths=[],this.paramPositions=[],this.paramRefs_Bool=[],this.paramRefs_Float=[],this.paramRefs_Int=[],this.paramTypes=[]};k["openfl._internal.renderer.ShaderBuffer"]=Lo,Lo.__name__="openfl._internal.renderer.ShaderBuffer",Lo.prototype={inputCount:null,inputRefs:null,inputFilter:null,inputMipFilter:null,inputs:null,inputWrap:null,overrideBoolCount:null,overrideBoolNames:null,overrideBoolValues:null,overrideFloatCount:null,overrideFloatNames:null,overrideFloatValues:null,overrideIntCount:null,overrideIntNames:null,overrideIntValues:null,paramBoolCount:null,paramCount:null,paramData:null,paramDataBuffer:null,paramDataLength:null,paramFloatCount:null,paramIntCount:null,paramLengths:null,paramPositions:null,paramRefs_Bool:null,paramRefs_Float:null,paramRefs_Int:null,paramTypes:null,shader:null,addBoolOverride:function(e,i){this.overrideBoolNames[this.overrideBoolCount]=e,this.overrideBoolValues[this.overrideBoolCount]=i,this.overrideBoolCount++},addFloatOverride:function(e,i){this.overrideFloatNames[this.overrideFloatCount]=e,this.overrideFloatValues[this.overrideFloatCount]=i,this.overrideFloatCount++},addIntOverride:function(e,i){this.overrideIntNames[this.overrideIntCount]=e,this.overrideIntValues[this.overrideIntCount]=i,this.overrideIntCount++},clearOverride:function(){this.overrideBoolCount=this.overrideFloatCount=this.overrideIntCount=0},update:function(e){if(this.paramIntCount=this.paramFloatCount=this.paramDataLength=this.paramCount=this.paramBoolCount=this.overrideBoolCount=this.overrideFloatCount=this.overrideIntCount=this.inputCount=0,this.shader=null,null!=e){e.__init(),this.inputCount=e.__inputBitmapData.length;for(var i,s=0,n=this.inputCount;s<n;){var o=s++;this.inputs[o]=(i=e.__inputBitmapData[o]).input,this.inputFilter[o]=i.filter,this.inputMipFilter[o]=i.mipFilter,this.inputRefs[o]=i,this.inputWrap[o]=i.wrap}this.paramCount=(i=e.__paramBool.length)+(s=e.__paramFloat.length)+(n=e.__paramInt.length),this.paramBoolCount=i,this.paramFloatCount=s,this.paramIntCount=n;for(var _,l=0,h=0;h<i;){var m=h++;_=e.__paramBool[m],this.paramPositions[l]=this.paramDataLength,this.paramLengths[l]=o=null!=_.value?_.value.length:0,this.paramDataLength+=o,this.paramTypes[l]=0,this.paramRefs_Bool[m]=_,++l}for(h=0;h<s;)m=h++,_=e.__paramFloat[m],this.paramPositions[l]=this.paramDataLength,this.paramLengths[l]=o=null!=_.value?_.value.length:0,this.paramDataLength+=o,this.paramTypes[l]=1,this.paramRefs_Float[m]=_,++l;for(h=0;h<n;)m=h++,_=e.__paramInt[m],this.paramPositions[l]=this.paramDataLength,this.paramLengths[l]=o=null!=_.value?_.value.length:0,this.paramDataLength+=o,this.paramTypes[l]=2,this.paramRefs_Int[m]=_,++l;for(0<this.paramDataLength&&(null==this.paramData?this.paramData=null!=(n=this.paramDataLength)?new Float32Array(n):null:this.paramDataLength>this.paramData.length&&((n=null!=(n=this.paramDataLength)?new Float32Array(n):null).set(this.paramData),this.paramData=n)),_=l=o=n=0,h=0,m=this.paramCount;h<m;){var f=h++,y=this.paramLengths[f];if(f<i){f=this.paramRefs_Bool[n],++n;for(var g=0;g<y;){var j=g++;this.paramData[_]=f.value[j]?1:0,++_}}else if(f<i+s)for(f=this.paramRefs_Float[o],++o,g=0;g<y;)j=g++,this.paramData[_]=f.value[j],++_;else for(f=this.paramRefs_Int[l],++l,g=0;g<y;)j=g++,this.paramData[_]=f.value[j],++_}this.shader=e}},__class__:Lo};var As=function(){};k["openfl._internal.renderer.cairo.CairoBitmap"]=As,As.__name__="openfl._internal.renderer.cairo.CairoBitmap",As.render=function(e,i){if(e.__renderable){var s=i.__getAlpha(e.__worldAlpha);if(0<s&&null!=e.__bitmapData&&e.__bitmapData.__isValid){var n=i.cairo;i.__setBlendMode(e.__worldBlendMode),i.__pushMaskObject(e),i.applyMatrix(e.__renderTransform,n);var o=e.__bitmapData.getSurface();null!=o&&(o=Kc.createForSurface(o),Kc.set_filter(o,i.__allowSmoothing&&e.smoothing?1:3),n.set_source(o),1==s?n.paint():n.paintWithAlpha(s)),i.__popMaskObject(e),i.__setBlendMode(10)}}};var Vi=function(){};k["openfl._internal.renderer.cairo.CairoDisplayObject"]=Vi,Vi.__name__="openfl._internal.renderer.cairo.CairoDisplayObject",Vi.render=function(e,i){};var Xj=function(){};k["openfl._internal.renderer.cairo.CairoGraphics"]=Xj,Xj.__name__="openfl._internal.renderer.cairo.CairoGraphics",Xj.hitTest=function(e,i,s){return!1},Xj.render=function(e,i){},Xj.renderMask=function(e,i){};var hf=function(){A.call(this),this.__allowSmoothing=!0,this.__worldAlpha=1};k["openfl.display.DisplayObjectRenderer"]=hf,hf.__name__="openfl.display.DisplayObjectRenderer",hf.__super__=A,hf.prototype=x(A.prototype,{__allowSmoothing:null,__blendMode:null,__cleared:null,__overrideBlendMode:null,__roundPixels:null,__stage:null,__transparent:null,__type:null,__worldAlpha:null,__worldColorTransform:null,__worldTransform:null,__clear:function(){},__drawBitmapData:function(e,i,s){},__render:function(e){},__resize:function(e,i){},__class__:hf});var Wi=function(e){hf.call(this),this.cairo=e};k["openfl.display.CairoRenderer"]=Wi,Wi.__name__="openfl.display.CairoRenderer",Wi.__super__=hf,Wi.prototype=x(hf.prototype,{cairo:null,applyMatrix:function(e,i){},__class__:Wi});var Yj=function(e){Wi.call(this,e),this.__colorTransform=new Tb,this.__matrix=new Fa,this.__matrix3=new di,this.__type="cairo"};k["openfl._internal.renderer.cairo.CairoRenderer"]=Yj,Yj.__name__="openfl._internal.renderer.cairo.CairoRenderer",Yj.__super__=Wi,Yj.prototype=x(Wi.prototype,{__matrix:null,__matrix3:null,__colorTransform:null,applyMatrix:function(e,i){null==i&&(i=this.cairo),this.__matrix.copyFrom(e),this.cairo==i&&null!=this.__worldTransform&&this.__matrix.concat(this.__worldTransform),this.__matrix3.a=this.__matrix.a,this.__matrix3.b=this.__matrix.b,this.__matrix3.c=this.__matrix.c,this.__matrix3.d=this.__matrix.d,this.__roundPixels?(this.__matrix3.tx=Math.round(this.__matrix.tx),this.__matrix3.ty=Math.round(this.__matrix.ty)):(this.__matrix3.tx=this.__matrix.tx,this.__matrix3.ty=this.__matrix.ty),i.set_matrix(this.__matrix3)},__clear:function(){if(null!=this.cairo&&(this.cairo.identityMatrix(),null!=this.__stage&&this.__stage.__clearBeforeRender)){var e=this.__blendMode;this.__setBlendMode(10),this.cairo.setSourceRGB(this.__stage.__colorSplit[0],this.__stage.__colorSplit[1],this.__stage.__colorSplit[2]),this.cairo.paint(),this.__setBlendMode(e)}},__drawBitmapData:function(e,i,s){null!=s&&this.__pushMaskRect(s,i.__renderTransform),i==e&&(i=e.clone()),this.__allowSmoothing||this.cairo.set_antialias(1),this.__render(i),this.__allowSmoothing||this.cairo.set_antialias(5),Tq.flush(this.cairo.get_target()),e.image.dirty=!0,e.image.version++,null!=s&&this.__popMaskRect()},__getAlpha:function(e){return e*this.__worldAlpha},__getColorTransform:function(e){return null!=this.__worldColorTransform?(this.__colorTransform.__copyFrom(this.__worldColorTransform),this.__colorTransform.__combine(e),this.__colorTransform):e},__popMask:function(){this.cairo.restore()},__popMaskObject:function(e,i){null==i&&(i=!0),e.__isCacheBitmapRender||null==e.__mask||this.__popMask(),i&&null!=e.__scrollRect&&this.__popMaskRect()},__popMaskRect:function(){this.cairo.restore()},__pushMask:function(e){this.cairo.save(),this.applyMatrix(e.__renderTransform,this.cairo),this.cairo.newPath(),this.__renderMask(e),this.cairo.clip()},__pushMaskObject:function(e,i){null==i&&(i=!0),i&&null!=e.__scrollRect&&this.__pushMaskRect(e.__scrollRect,e.__renderTransform),e.__isCacheBitmapRender||null==e.__mask||this.__pushMask(e.__mask)},__pushMaskRect:function(e,i){this.cairo.save(),this.applyMatrix(i,this.cairo),this.cairo.newPath(),this.cairo.rectangle(e.x,e.y,e.width,e.height),this.cairo.clip()},__render:function(e){null!=this.cairo&&null!=e&&(null!=e.__type?this.__renderDisplayObject(e):this.__renderBitmapData(e))},__renderBitmap:function(e){if(this.__updateCacheBitmap(e,!1),null!=e.__bitmapData&&null!=e.__bitmapData.image&&(e.__imageVersion=e.__bitmapData.image.version),null==e.__cacheBitmap||e.__isCacheBitmapRender){if(Vi.render(e,this),e.__renderable){var i=this.__getAlpha(e.__worldAlpha);if(0<i&&null!=e.__bitmapData&&e.__bitmapData.__isValid){var s=this.cairo;this.__setBlendMode(e.__worldBlendMode),this.__pushMaskObject(e),this.applyMatrix(e.__renderTransform,s);var n=e.__bitmapData.getSurface();null!=n&&(n=Kc.createForSurface(n),Kc.set_filter(n,this.__allowSmoothing&&e.smoothing?1:3),s.set_source(n),1==i?s.paint():s.paintWithAlpha(i)),this.__popMaskObject(e),this.__setBlendMode(10)}}}else(e=e.__cacheBitmap).__renderable&&0<(i=this.__getAlpha(e.__worldAlpha))&&null!=e.__bitmapData&&e.__bitmapData.__isValid&&(s=this.cairo,this.__setBlendMode(e.__worldBlendMode),this.__pushMaskObject(e),this.applyMatrix(e.__renderTransform,s),null!=(n=e.__bitmapData.getSurface())&&(n=Kc.createForSurface(n),Kc.set_filter(n,this.__allowSmoothing&&e.smoothing?1:3),s.set_source(n),1==i?s.paint():s.paintWithAlpha(i)),this.__popMaskObject(e),this.__setBlendMode(10))},__renderBitmapData:function(e){e.readable&&(this.applyMatrix(e.__renderTransform,this.cairo),null!=(e=e.getSurface())&&(e=Kc.createForSurface(e),this.__allowSmoothing&&1!=this.cairo.get_antialias()?Kc.set_filter(e,1):Kc.set_filter(e,3),this.cairo.set_source(e),this.cairo.paint()))},__renderDisplayObject:function(e){if(null!=e&&null!=e.__type){switch(e.__type._hx_index){case 0:this.__renderBitmap(e);break;case 2:this.__renderDisplayObjectContainer(e);break;case 1:case 4:this.__renderShape(e);break;case 5:this.__renderSimpleButton(e);break;case 6:this.__renderTextField(e);break;case 7:this.__renderTilemap(e);break;case 8:this.__renderVideo(e)}if(null!=e.__customRenderEvent){var i=e.__customRenderEvent;i.allowSmoothing=this.__allowSmoothing,i.objectMatrix.copyFrom(e.__renderTransform),i.objectColorTransform.__copyFrom(e.__worldColorTransform),i.renderer=this,i.type="renderCairo",this.__setBlendMode(e.__worldBlendMode),this.__pushMaskObject(e),e.dispatchEvent(i),this.__popMaskObject(e)}}},__renderDisplayObjectContainer:function(e){for(var i=e.__removedChildren.iterator();i.hasNext();){var s=i.next();null==s.stage&&s.__cleanup()}if(e.__removedChildren.set_length(0),e.__renderable&&!(0>=e.__worldAlpha)){if(this.__updateCacheBitmap(e,!1),null==e.__cacheBitmap||e.__isCacheBitmapRender)Vi.render(e,this);else if((i=e.__cacheBitmap).__renderable&&0<(s=this.__getAlpha(i.__worldAlpha))&&null!=i.__bitmapData&&i.__bitmapData.__isValid){var n=this.cairo;this.__setBlendMode(i.__worldBlendMode),this.__pushMaskObject(i),this.applyMatrix(i.__renderTransform,n);var o=i.__bitmapData.getSurface();null!=o&&(o=Kc.createForSurface(o),Kc.set_filter(o,this.__allowSmoothing&&i.smoothing?1:3),n.set_source(o),1==s?n.paint():n.paintWithAlpha(s)),this.__popMaskObject(i),this.__setBlendMode(10)}if(null==e.__cacheBitmap||e.__isCacheBitmapRender){if(this.__pushMaskObject(e),null!=this.__stage){for(i=0,s=e.__children;i<s.length;)n=s[i],++i,this.__renderDisplayObject(n),n.__renderDirty=!1;e.__renderDirty=!1}else for(i=0,s=e.__children;i<s.length;)n=s[i],++i,this.__renderDisplayObject(n);this.__popMaskObject(e)}}},__renderMask:function(e){if(null!=e)switch(e.__type._hx_index){case 0:this.cairo.rectangle(0,0,e.get_width(),e.get_height());break;case 2:for(var i=e.__removedChildren.iterator();i.hasNext();){var s=i.next();null==s.stage&&s.__cleanup()}for(e.__removedChildren.set_length(0),null!=e.__graphics&&Xj.renderMask(e.__graphics,this),i=0,e=e.__children;i<e.length;)s=e[i],++i,this.__renderMask(s);break;case 3:break;case 5:this.__renderMask(e.__currentState);break;default:null!=e.__graphics&&Xj.renderMask(e.__graphics,this)}},__renderShape:function(e){if(this.__updateCacheBitmap(e,!1),null==e.__cacheBitmap||e.__isCacheBitmapRender)Vi.render(e,this);else if((e=e.__cacheBitmap).__renderable){var i=this.__getAlpha(e.__worldAlpha);if(0<i&&null!=e.__bitmapData&&e.__bitmapData.__isValid){var s=this.cairo;this.__setBlendMode(e.__worldBlendMode),this.__pushMaskObject(e),this.applyMatrix(e.__renderTransform,s);var n=e.__bitmapData.getSurface();null!=n&&(n=Kc.createForSurface(n),Kc.set_filter(n,this.__allowSmoothing&&e.smoothing?1:3),s.set_source(n),1==i?s.paint():s.paintWithAlpha(i)),this.__popMaskObject(e),this.__setBlendMode(10)}}},__renderSimpleButton:function(e){!e.__renderable||0>=e.__worldAlpha||null==e.__currentState||(this.__pushMaskObject(e),this.__renderDisplayObject(e.__currentState),this.__popMaskObject(e))},__renderTextField:function(e){if(this.__updateCacheBitmap(e,!1),null==e.__cacheBitmap||e.__isCacheBitmapRender)hr.render(e,this,e.__worldTransform),Vi.render(e,this);else if((e=e.__cacheBitmap).__renderable){var i=this.__getAlpha(e.__worldAlpha);if(0<i&&null!=e.__bitmapData&&e.__bitmapData.__isValid){var s=this.cairo;this.__setBlendMode(e.__worldBlendMode),this.__pushMaskObject(e),this.applyMatrix(e.__renderTransform,s);var n=e.__bitmapData.getSurface();null!=n&&(n=Kc.createForSurface(n),Kc.set_filter(n,this.__allowSmoothing&&e.smoothing?1:3),s.set_source(n),1==i?s.paint():s.paintWithAlpha(i)),this.__popMaskObject(e),this.__setBlendMode(10)}}},__renderTilemap:function(e){if(this.__updateCacheBitmap(e,!1),null==e.__cacheBitmap||e.__isCacheBitmapRender)Vi.render(e,this),Zj.render(e,this);else if((e=e.__cacheBitmap).__renderable){var i=this.__getAlpha(e.__worldAlpha);if(0<i&&null!=e.__bitmapData&&e.__bitmapData.__isValid){var s=this.cairo;this.__setBlendMode(e.__worldBlendMode),this.__pushMaskObject(e),this.applyMatrix(e.__renderTransform,s);var n=e.__bitmapData.getSurface();null!=n&&(n=Kc.createForSurface(n),Kc.set_filter(n,this.__allowSmoothing&&e.smoothing?1:3),s.set_source(n),1==i?s.paint():s.paintWithAlpha(i)),this.__popMaskObject(e),this.__setBlendMode(10)}}},__renderVideo:function(e){},__setBlendMode:function(e){null!=this.__overrideBlendMode&&(e=this.__overrideBlendMode),this.__blendMode!=e&&(this.__blendMode=e,this.__setBlendModeCairo(this.cairo,e))},__setBlendModeCairo:function(e,i){switch(i){case 0:e.setOperator(12);break;case 2:e.setOperator(17);break;case 3:e.setOperator(23);break;case 5:e.setOperator(21);break;case 7:default:e.setOperator(2);break;case 8:e.setOperator(18);break;case 9:e.setOperator(14);break;case 11:e.setOperator(16);break;case 12:e.setOperator(15)}},__updateCacheBitmap:function(e,i){if(e.__isCacheBitmapRender)return!1;var s=!1;if(e.get_cacheAsBitmap()||!e.__worldColorTransform.__isDefault(!0)||null!=this.__worldColorTransform&&!this.__worldColorTransform.__isDefault(!0)){null==e.__cacheBitmapMatrix&&(e.__cacheBitmapMatrix=new Fa);var n=null!=e.__filters,o=null!=e.__cacheAsBitmapMatrix?e.__cacheAsBitmapMatrix:e.__renderTransform;s=null;var l=Tb.__pool.get();l.__copyFrom(e.__worldColorTransform),null!=this.__worldColorTransform&&l.__combine(this.__worldColorTransform);var _=null==e.__cacheBitmap||e.__renderDirty&&(i||null!=e.__children&&0<e.__children.length)||e.opaqueBackground!=e.__cacheBitmapBackground||null!=e.__graphics&&e.__graphics.__softwareDirty||null!=e.__cacheBitmapColorTransform&&!e.__cacheBitmapColorTransform.__equals(l,!0);if(_||o.a==e.__cacheBitmapMatrix.a&&o.b==e.__cacheBitmapMatrix.b&&o.c==e.__cacheBitmapMatrix.c&&o.d==e.__cacheBitmapMatrix.d||(_=!0),n&&!_){i=0;for(var h=e.__filters;i<h.length;){var m=h[i];if(++i,m.__renderDirty){_=!0;break}}}!_&&null!=e.__cacheBitmapData&&null!=e.__cacheBitmapData.image&&e.__cacheBitmapData.image.version<e.__cacheBitmapData.__textureVersion&&(_=!0),i=_||!e.__cacheBitmap.__worldTransform.equals(e.__worldTransform),e.__cacheBitmapMatrix.copyFrom(o),e.__cacheBitmapMatrix.tx=0;var f=m=h=e.__cacheBitmapMatrix.ty=0,y=0,g=0,j=0;if(i&&(s=ia.__pool.get(),e.__getFilterBounds(s,e.__cacheBitmapMatrix),f=Math.ceil(s.width),y=Math.ceil(s.height),g=0<s.x?Math.ceil(s.x):Math.floor(s.x),j=0<s.y?Math.ceil(s.y):Math.floor(s.y),null!=e.__cacheBitmapData?f>e.__cacheBitmapData.width||y>e.__cacheBitmapData.height?(h=Math.ceil(Math.max(1.25*f,e.__cacheBitmapData.width)),m=Math.ceil(Math.max(1.25*y,e.__cacheBitmapData.height)),_=!0):(h=e.__cacheBitmapData.width,m=e.__cacheBitmapData.height):(h=f,m=y)),_){if(e.__cacheBitmapBackground=e.opaqueBackground,!(.5<=f&&.5<=y))return Tb.__pool.release(l),e.__cacheBitmap=null,e.__cacheBitmapData=null,e.__cacheBitmapData2=null,e.__cacheBitmapData3=null,e.__cacheBitmapRendererSW=null,!0;var $=null!=e.opaqueBackground&&(h!=f||m!=y),yt=null!=e.opaqueBackground?-16777216|e.opaqueBackground:0,_t=$?0:yt;null==e.__cacheBitmapData||h>e.__cacheBitmapData.width||m>e.__cacheBitmapData.height?(e.__cacheBitmapData=new pa(h,m,!0,_t),null==e.__cacheBitmap&&(e.__cacheBitmap=new Uc),e.__cacheBitmap.__bitmapData=e.__cacheBitmapData,e.__cacheBitmapRendererSW=null):e.__cacheBitmapData.fillRect(e.__cacheBitmapData.rect,_t),$&&(s.setTo(0,0,f,y),e.__cacheBitmapData.fillRect(s,yt))}else e.__cacheBitmapData=e.__cacheBitmap.get_bitmapData(),e.__cacheBitmapData2=null,e.__cacheBitmapData3=null;if(i&&(e.__cacheBitmap.__worldTransform.copyFrom(e.__worldTransform),o==e.__renderTransform?(e.__cacheBitmap.__renderTransform.identity(),e.__cacheBitmap.__renderTransform.tx=e.__renderTransform.tx+g,e.__cacheBitmap.__renderTransform.ty=e.__renderTransform.ty+j):(e.__cacheBitmap.__renderTransform.copyFrom(e.__cacheBitmapMatrix),e.__cacheBitmap.__renderTransform.invert(),e.__cacheBitmap.__renderTransform.concat(e.__renderTransform),e.__cacheBitmap.__renderTransform.tx+=g,e.__cacheBitmap.__renderTransform.ty+=j)),e.__cacheBitmap.smoothing=this.__allowSmoothing,e.__cacheBitmap.__renderable=e.__renderable,e.__cacheBitmap.__worldAlpha=e.__worldAlpha,e.__cacheBitmap.__worldBlendMode=e.__worldBlendMode,e.__cacheBitmap.__worldShader=e.__worldShader,e.__cacheBitmap.set_mask(e.__mask),_){if((null==e.__cacheBitmapRendererSW||"cairo"!=e.__cacheBitmapRendererSW.__type)&&(null==e.__cacheBitmapData.image&&(e.__cacheBitmapData=new pa(h,m,!0,null!=e.opaqueBackground?-16777216|e.opaqueBackground:0),e.__cacheBitmap.__bitmapData=e.__cacheBitmapData),e.__cacheBitmapRendererSW=new Yj(new Lj(e.__cacheBitmapData.getSurface())),e.__cacheBitmapRendererSW.__worldTransform=new Fa,e.__cacheBitmapRendererSW.__worldColorTransform=new Tb),null==e.__cacheBitmapColorTransform&&(e.__cacheBitmapColorTransform=new Tb),e.__cacheBitmapRendererSW.__stage=e.stage,e.__cacheBitmapRendererSW.__allowSmoothing=this.__allowSmoothing,T.__cast(e.__cacheBitmapRendererSW,Yj).__setBlendMode(10),e.__cacheBitmapRendererSW.__worldAlpha=1/e.__worldAlpha,e.__cacheBitmapRendererSW.__worldTransform.copyFrom(e.__renderTransform),e.__cacheBitmapRendererSW.__worldTransform.invert(),e.__cacheBitmapRendererSW.__worldTransform.concat(e.__cacheBitmapMatrix),e.__cacheBitmapRendererSW.__worldTransform.tx-=g,e.__cacheBitmapRendererSW.__worldTransform.ty-=j,e.__cacheBitmapRendererSW.__worldColorTransform.__copyFrom(l),e.__cacheBitmapRendererSW.__worldColorTransform.__invert(),e.__isCacheBitmapRender=!0,e.__cacheBitmapRendererSW.__drawBitmapData(e.__cacheBitmapData,e,null),n){for(y=n=!1,o=0,_=e.__filters;o<_.length;)f=_[o],++o,f.__needSecondBitmapData&&(n=!0),f.__preserveObject&&(y=!0);for(o=e.__cacheBitmapData,f=null,n?(null==e.__cacheBitmapData2||null==e.__cacheBitmapData2.image||h>e.__cacheBitmapData2.width||m>e.__cacheBitmapData2.height?e.__cacheBitmapData2=new pa(h,m,!0,0):e.__cacheBitmapData2.fillRect(e.__cacheBitmapData2.rect,0),_=e.__cacheBitmapData2):_=o,y&&(null==e.__cacheBitmapData3||null==e.__cacheBitmapData3.image||h>e.__cacheBitmapData3.width||m>e.__cacheBitmapData3.height?e.__cacheBitmapData3=new pa(h,m,!0,0):e.__cacheBitmapData3.fillRect(e.__cacheBitmapData3.rect,0),f=e.__cacheBitmapData3),null==e.__tempPoint&&(e.__tempPoint=new ra),h=e.__tempPoint,m=0,y=e.__filters;m<y.length;)j=y[m],++m,j.__preserveObject&&f.copyPixels(o,o.rect,h),g=j.__applyFilter(_,o,o.rect,h),j.__preserveObject&&g.draw(f,null,null!=e.__objectTransform?e.__objectTransform.get_colorTransform():null),j.__renderDirty=!1,n&&g==_&&(g=o,o=_,_=g);e.__cacheBitmapData!=o&&(g=e.__cacheBitmapData,e.__cacheBitmapData=o,e.__cacheBitmapData2=g,e.__cacheBitmap.__bitmapData=e.__cacheBitmapData,e.__cacheBitmapRendererSW=null),e.__cacheBitmap.__imageVersion=e.__cacheBitmapData.__textureVersion}e.__cacheBitmapColorTransform.__copyFrom(l),e.__cacheBitmapColorTransform.__isDefault(!0)||(e.__cacheBitmapColorTransform.alphaMultiplier=1,e.__cacheBitmapData.colorTransform(e.__cacheBitmapData.rect,e.__cacheBitmapColorTransform)),e.__isCacheBitmapRender=!1}i&&ia.__pool.release(s),s=i,Tb.__pool.release(l)}else null!=e.__cacheBitmap&&(e.__cacheBitmap=null,e.__cacheBitmapData=null,e.__cacheBitmapData2=null,e.__cacheBitmapData3=null,e.__cacheBitmapColorTransform=null,e.__cacheBitmapRendererSW=null,s=!0);return s},__class__:Yj});var hr=function(){};k["openfl._internal.renderer.cairo.CairoTextField"]=hr,hr.__name__="openfl._internal.renderer.cairo.CairoTextField",hr.render=function(e,i,s){};var Zj=function(){};k["openfl._internal.renderer.cairo.CairoTilemap"]=Zj,Zj.__name__="openfl._internal.renderer.cairo.CairoTilemap",Zj.render=function(e,i){if(e.__renderable&&0!=e.__group.__tiles.length){var s=i.__getAlpha(e.__worldAlpha);if(!(0>=s)){i.__setBlendMode(e.__worldBlendMode),i.__pushMaskObject(e);var n=ia.__pool.get();n.setTo(0,0,e.__width,e.__height),i.__pushMaskRect(n,e.__renderTransform),Zj.renderTileContainer(e.__group,i,e.__renderTransform,e.__tileset,i.__allowSmoothing&&e.smoothing,e.tileAlphaEnabled,s,e.tileBlendModeEnabled,e.__worldBlendMode,null,null,null,n,new di),i.__popMaskRect(),i.__popMaskObject(e),ia.__pool.release(n)}}},Zj.renderTileContainer=function(e,i,s,n,o,l,_,h,m,f,y,g,j,$){var yt=i.cairo,_t=Fa.__pool.get();e=e.__tiles;for(var xt,Tt,St,Et,Mt=null,Ct=0;Ct<e.length;)if(Et=e[Ct],++Ct,_t.setTo(1,0,0,1,-Et.get_originX(),-Et.get_originY()),_t.concat(Et.get_matrix()),_t.concat(s),xt=null!=Et.get_tileset()?Et.get_tileset():n,Tt=Et.get_alpha()*_,(St=Et.get_visible())&&!(0>=Tt))if(l||(Tt=1),h&&(Mt=null!=Et.__blendMode?Et.__blendMode:m),0<Et.__length)Zj.renderTileContainer(Et,i,_t,xt,o,l,Tt,h,Mt,f,y,g,j,$);else if(null!=xt){if(-1==(St=Et.get_id())){if(null==(Et=Et.__rect)||0>=Et.width||0>=Et.height)continue}else{if(null==(Et=xt.__data[St]))continue;j.setTo(Et.x,Et.y,Et.width,Et.height),Et=j}null!=(xt=xt.__bitmapData)&&(xt!=f&&(y=xt.getSurface(),g=Kc.createForSurface(y),Kc.set_filter(g,o?1:3),yt.set_source(g),f=xt),h&&i.__setBlendMode(Mt),i.applyMatrix(_t,yt),$.tx=Et.x,$.ty=Et.y,Kc.set_matrix(g,$),yt.set_source(g),yt.save(),yt.newPath(),yt.rectangle(0,0,Et.width,Et.height),yt.clip(),1==Tt?yt.paint():yt.paintWithAlpha(Tt),yt.restore())}Fa.__pool.release(_t)};var Bs=function(){};k["openfl._internal.renderer.canvas.CanvasBitmap"]=Bs,Bs.__name__="openfl._internal.renderer.canvas.CanvasBitmap",Bs.render=function(e,i){if(e.__renderable){var s=i.__getAlpha(e.__worldAlpha);if(0<s&&null!=e.__bitmapData&&e.__bitmapData.__isValid&&e.__bitmapData.readable){var n=i.context;i.__setBlendMode(e.__worldBlendMode),i.__pushMaskObject(e,!1),za.convertToCanvas(e.__bitmapData.image),n.globalAlpha=s,s=e.__scrollRect,i.setTransform(e.__renderTransform,n),i.__allowSmoothing&&e.smoothing||(n.imageSmoothingEnabled=!1),null==s?n.drawImage(e.__bitmapData.image.get_src(),0,0,e.__bitmapData.image.width,e.__bitmapData.image.height):n.drawImage(e.__bitmapData.image.get_src(),s.x,s.y,s.width,s.height),i.__allowSmoothing&&e.smoothing||(n.imageSmoothingEnabled=!0),i.__popMaskObject(e,!1)}}};var Cs=function(){};k["openfl._internal.renderer.canvas.CanvasDisplayObject"]=Cs,Cs.__name__="openfl._internal.renderer.canvas.CanvasDisplayObject",Cs.render=function(e,i){if(!(null==e.opaqueBackground&&null==e.__graphics||!e.__renderable||0>=i.__getAlpha(e.__worldAlpha))){if(null!=e.opaqueBackground&&!e.__isCacheBitmapRender&&0<e.get_width()&&0<e.get_height()){i.__setBlendMode(e.__worldBlendMode),i.__pushMaskObject(e);var s=i.context;i.setTransform(e.__renderTransform,s);var n=e.opaqueBackground;s.fillStyle="rgb("+(n>>>16&255)+","+(n>>>8&255)+","+(255&n)+")",s.fillRect(0,0,e.get_width(),e.get_height()),i.__popMaskObject(e)}if(null!=e.__graphics&&e.__renderable){var o=i.__getAlpha(e.__worldAlpha);if(!(0>=o)){var l=e.__graphics;if(null!=l){D.render(l,i);var _=l.__width,h=l.__height;if(null!=(s=l.__canvas)&&l.__visible&&1<=_&&1<=h){var m=l.__worldTransform;n=i.context;var f=e.__scrollRect,y=e.__worldScale9Grid;if(null==f||0<f.width&&0<f.height){if(i.__setBlendMode(e.__worldBlendMode),i.__pushMaskObject(e),n.globalAlpha=o,null!=y&&0==m.b&&0==m.c){n.setTransform(1,0,0,1,m.tx,m.ty);var g=l.__bounds,j=l.__renderTransform.a,$=l.__renderTransform.d,yt=m.a,_t=m.d;m=Math.max(1,Math.round(y.x*j)),l=Math.round(y.y*$),o=Math.max(1,Math.round((g.get_right()-y.get_right())*j)),f=Math.round((g.get_bottom()-y.get_bottom())*$),j=Math.round(y.width*j),$=Math.round(y.height*$);var xt=Math.round(y.x*yt),Tt=Math.round(y.y*_t),St=Math.round((g.get_right()-y.get_right())*yt);y=Math.round((g.get_bottom()-y.get_bottom())*_t),g=Math.round(_*yt)-xt-St,yt=Math.round(h*_t)-Tt-y,i.applySmoothing(n,!1),0!=j&&0!=$?(n.drawImage(s,0,0,m,l,0,0,xt,Tt),n.drawImage(s,m,0,j,l,xt,0,g,Tt),n.drawImage(s,m+j,0,o,l,xt+g,0,St,Tt),n.drawImage(s,0,l,m,$,0,Tt,xt,yt),n.drawImage(s,m,l,j,$,xt,Tt,g,yt),n.drawImage(s,m+j,l,o,$,xt+g,Tt,St,yt),n.drawImage(s,0,l+$,m,f,0,Tt+yt,xt,y),n.drawImage(s,m,l+$,j,f,xt,Tt+yt,g,y),n.drawImage(s,m+j,l+$,o,f,xt+g,Tt+yt,St,y)):0==j&&0!=$?(n.drawImage(s,0,0,_,l,0,0,h=xt+g+St,Tt),n.drawImage(s,0,l,_,$,0,Tt,h,yt),n.drawImage(s,0,l+$,_,f,0,Tt+yt,h,y)):0==$&&0!=j&&(n.drawImage(s,0,0,m,h,0,0,xt,_=Tt+yt+y),n.drawImage(s,m,0,j,h,xt,0,g,_),n.drawImage(s,m+j,0,o,h,xt+g,0,St,_))}else i.setTransform(m,n),null!=i.__domRenderer&&n.scale(y=1/i.pixelRatio,y),n.drawImage(s,0,0,_,h);i.__popMaskObject(e)}}}}}}};var D=function(){};k["openfl._internal.renderer.canvas.CanvasGraphics"]=D,D.__name__="openfl._internal.renderer.canvas.CanvasGraphics",D.closePath=function(e){null==e&&(e=!1),null!=D.context.strokeStyle&&(e||D.context.closePath(),D.context.stroke(),e&&D.context.closePath(),D.context.beginPath())},D.createBitmapFill=function(e,i,s){return za.convertToCanvas(e.image),D.setSmoothing(s),D.context.createPattern(e.image.get_src(),i?"repeat":"no-repeat")},D.createGradientPattern=function(e,i,s,n,o,l,_,h){var m=null;switch(h=l=null,_=!1,null==o&&(o=Fa.__pool.get(),_=!0),e){case 0:(l=ra.__pool.get()).setTo(-819.2,0),l.x=(h=l.x)*o.a+(m=l.y)*o.c+o.tx,l.y=h*o.b+m*o.d+o.ty,(h=ra.__pool.get()).setTo(819.2,0),h.x=(m=h.x)*o.a+(e=h.y)*o.c+o.tx,h.y=m*o.b+e*o.d+o.ty,m=D.context.createLinearGradient(l.x,l.y,h.x,h.y);break;case 1:(l=ra.__pool.get()).setTo(1638.4,0),l.x=(m=l.x)*o.a+(e=l.y)*o.c+o.tx,l.y=m*o.b+e*o.d+o.ty,m=D.context.createRadialGradient(o.tx,o.ty,0,o.tx,o.ty,Math.abs((l.x-o.tx)/2))}for(var f,j,$=0,yt=i.length;$<yt;)f=i[j=$++],e=s[j],0>(j=n[j]/255)&&(j=0),1<j&&(j=1),m.addColorStop(j,"rgba("+((16711680&f)>>>16)+", "+((65280&f)>>>8)+", "+(f&=255)+", "+e+")");return null!=l&&ra.__pool.release(l),null!=h&&ra.__pool.release(h),_&&Fa.__pool.release(o),m},D.createTempPatternCanvas=function(e,i,s,n){var o=window.document.createElement("canvas"),l=o.getContext("2d");return o.width=s,o.height=n,e=e.image.get_src(),l.fillStyle=l.createPattern(e,i?"repeat":"no-repeat"),l.beginPath(),l.moveTo(0,0),l.lineTo(0,n),l.lineTo(s,n),l.lineTo(s,0),l.lineTo(0,0),l.closePath(),D.hitTesting||l.fill(D.windingRule),o},D.drawRoundRect=function(e,i,s,n,o,l){null==l&&(l=o),(o*=.5)>s/2&&(o=s/2),(l*=.5)>n/2&&(l=n/2);var _=.7071067811865476*o-o,h=.41421356237309503*o-o,m=.7071067811865476*l-l,f=.41421356237309503*l-l;D.context.moveTo(s=e+s,(n=i+n)-l),D.context.quadraticCurveTo(s,n+f,s+_,n+m),D.context.quadraticCurveTo(s+h,n,s-o,n),D.context.lineTo(e+o,n),D.context.quadraticCurveTo(e-h,n,e-_,n+m),D.context.quadraticCurveTo(e,n+f,e,n-l),D.context.lineTo(e,i+l),D.context.quadraticCurveTo(e,i-f,e-_,i-m),D.context.quadraticCurveTo(e-h,i,e+o,i),D.context.lineTo(s-o,i),D.context.quadraticCurveTo(s+h,i,s+_,i-m),D.context.quadraticCurveTo(s,i-f,s,i+l),D.context.lineTo(s,n-l)},D.endFill=function(){D.context.beginPath(),D.playCommands(D.fillCommands,!1),D.fillCommands.clear()},D.endStroke=function(){D.context.beginPath(),D.playCommands(D.strokeCommands,!0),D.context.closePath(),D.strokeCommands.clear()},D.hitTest=function(e,i,s){if(D.bounds=e.__bounds,D.graphics=e,0==e.__commands.get_length()||null==D.bounds||0>=D.bounds.width||0>=D.bounds.height)return!1;D.hitTesting=!0;var n=e.__renderTransform,o=i*n.b+s*n.d+n.ty;i=i*n.a+s*n.c+n.tx-(D.bounds.x*n.a+D.bounds.y*n.c+n.tx),s=o-(D.bounds.x*n.b+D.bounds.y*n.d+n.ty),o=e.__canvas;var l=e.__context;e.__canvas=D.hitTestCanvas,e.__context=D.hitTestContext,D.context=e.__context,D.context.setTransform(n.a,n.b,n.c,n.d,n.tx,n.ty),D.fillCommands.clear(),D.strokeCommands.clear(),D.hasFill=!1,D.hasStroke=!1,D.bitmapFill=null,D.bitmapRepeat=!1,D.windingRule="evenodd",n=new vg(e.__commands);for(var _=e.__commands.types,h=0,m=e.__commands.get_length();h<m;){var f=h++;switch((f=_[f])._hx_index){case 0:case 1:case 2:case 3:if(D.endFill(),D.hasFill&&D.context.isPointInPath(i,s,D.windingRule)||(D.endStroke(),D.hasStroke&&D.context.isPointInStroke(i,s)))return n.destroy(),e.__canvas=o,e.__context=l,!0;if(f==ma.BEGIN_BITMAP_FILL){switch(n.prev._hx_index){case 0:case 14:n.oPos+=2,n.bPos+=2;break;case 1:n.iPos+=1,n.fPos+=1;break;case 2:case 15:n.oPos+=4,n.iiPos+=2,n.ffPos+=1,n.fPos+=1;break;case 3:case 19:case 20:n.oPos+=1;break;case 4:n.fPos+=6;break;case 5:case 7:case 9:n.fPos+=4;break;case 6:n.fPos+=3;break;case 8:n.oPos+=3;break;case 10:n.fPos+=5,n.oPos+=1;break;case 12:n.oPos+=4;break;case 16:n.oPos+=4,n.iPos+=1,n.fPos+=2,n.bPos+=1;break;case 17:case 18:n.fPos+=2}n.prev=ma.BEGIN_BITMAP_FILL,D.fillCommands.beginBitmapFill((f=n).buffer.o[f.oPos],f.buffer.o[f.oPos+1],f.buffer.b[f.bPos],f.buffer.b[f.bPos+1]),D.strokeCommands.beginBitmapFill(f.buffer.o[f.oPos],f.buffer.o[f.oPos+1],f.buffer.b[f.bPos],f.buffer.b[f.bPos+1])}else if(f==ma.BEGIN_GRADIENT_FILL){switch(n.prev._hx_index){case 0:case 14:n.oPos+=2,n.bPos+=2;break;case 1:n.iPos+=1,n.fPos+=1;break;case 2:case 15:n.oPos+=4,n.iiPos+=2,n.ffPos+=1,n.fPos+=1;break;case 3:case 19:case 20:n.oPos+=1;break;case 4:n.fPos+=6;break;case 5:case 7:case 9:n.fPos+=4;break;case 6:n.fPos+=3;break;case 8:n.oPos+=3;break;case 10:n.fPos+=5,n.oPos+=1;break;case 12:n.oPos+=4;break;case 16:n.oPos+=4,n.iPos+=1,n.fPos+=2,n.bPos+=1;break;case 17:case 18:n.fPos+=2}n.prev=ma.BEGIN_GRADIENT_FILL,D.fillCommands.beginGradientFill((f=n).buffer.o[f.oPos],f.buffer.ii[f.iiPos],f.buffer.ff[f.ffPos],f.buffer.ii[f.iiPos+1],f.buffer.o[f.oPos+1],f.buffer.o[f.oPos+2],f.buffer.o[f.oPos+3],f.buffer.f[f.fPos]),D.strokeCommands.beginGradientFill(f.buffer.o[f.oPos],f.buffer.ii[f.iiPos],f.buffer.ff[f.ffPos],f.buffer.ii[f.iiPos+1],f.buffer.o[f.oPos+1],f.buffer.o[f.oPos+2],f.buffer.o[f.oPos+3],f.buffer.f[f.fPos])}else if(f==ma.BEGIN_SHADER_FILL){switch(n.prev._hx_index){case 0:case 14:n.oPos+=2,n.bPos+=2;break;case 1:n.iPos+=1,n.fPos+=1;break;case 2:case 15:n.oPos+=4,n.iiPos+=2,n.ffPos+=1,n.fPos+=1;break;case 3:case 19:case 20:n.oPos+=1;break;case 4:n.fPos+=6;break;case 5:case 7:case 9:n.fPos+=4;break;case 6:n.fPos+=3;break;case 8:n.oPos+=3;break;case 10:n.fPos+=5,n.oPos+=1;break;case 12:n.oPos+=4;break;case 16:n.oPos+=4,n.iPos+=1,n.fPos+=2,n.bPos+=1;break;case 17:case 18:n.fPos+=2}n.prev=ma.BEGIN_SHADER_FILL,D.fillCommands.beginShaderFill((f=n).buffer.o[f.oPos]),D.strokeCommands.beginShaderFill(f.buffer.o[f.oPos])}else{switch(n.prev._hx_index){case 0:case 14:n.oPos+=2,n.bPos+=2;break;case 1:n.iPos+=1,n.fPos+=1;break;case 2:case 15:n.oPos+=4,n.iiPos+=2,n.ffPos+=1,n.fPos+=1;break;case 3:case 19:case 20:n.oPos+=1;break;case 4:n.fPos+=6;break;case 5:case 7:case 9:n.fPos+=4;break;case 6:n.fPos+=3;break;case 8:n.oPos+=3;break;case 10:n.fPos+=5,n.oPos+=1;break;case 12:n.oPos+=4;break;case 16:n.oPos+=4,n.iPos+=1,n.fPos+=2,n.bPos+=1;break;case 17:case 18:n.fPos+=2}n.prev=ma.BEGIN_FILL,D.fillCommands.beginFill((f=n).buffer.i[f.iPos],1),D.strokeCommands.beginFill(f.buffer.i[f.iPos],1)}break;case 4:switch(n.prev._hx_index){case 0:case 14:n.oPos+=2,n.bPos+=2;break;case 1:n.iPos+=1,n.fPos+=1;break;case 2:case 15:n.oPos+=4,n.iiPos+=2,n.ffPos+=1,n.fPos+=1;break;case 3:case 19:case 20:n.oPos+=1;break;case 4:n.fPos+=6;break;case 5:case 7:case 9:n.fPos+=4;break;case 6:n.fPos+=3;break;case 8:n.oPos+=3;break;case 10:n.fPos+=5,n.oPos+=1;break;case 12:n.oPos+=4;break;case 16:n.oPos+=4,n.iPos+=1,n.fPos+=2,n.bPos+=1;break;case 17:case 18:n.fPos+=2}n.prev=ma.CUBIC_CURVE_TO,D.fillCommands.cubicCurveTo((f=n).buffer.f[f.fPos],f.buffer.f[f.fPos+1],f.buffer.f[f.fPos+2],f.buffer.f[f.fPos+3],f.buffer.f[f.fPos+4],f.buffer.f[f.fPos+5]),D.strokeCommands.cubicCurveTo(f.buffer.f[f.fPos],f.buffer.f[f.fPos+1],f.buffer.f[f.fPos+2],f.buffer.f[f.fPos+3],f.buffer.f[f.fPos+4],f.buffer.f[f.fPos+5]);break;case 5:switch(n.prev._hx_index){case 0:case 14:n.oPos+=2,n.bPos+=2;break;case 1:n.iPos+=1,n.fPos+=1;break;case 2:case 15:n.oPos+=4,n.iiPos+=2,n.ffPos+=1,n.fPos+=1;break;case 3:case 19:case 20:n.oPos+=1;break;case 4:n.fPos+=6;break;case 5:case 7:case 9:n.fPos+=4;break;case 6:n.fPos+=3;break;case 8:n.oPos+=3;break;case 10:n.fPos+=5,n.oPos+=1;break;case 12:n.oPos+=4;break;case 16:n.oPos+=4,n.iPos+=1,n.fPos+=2,n.bPos+=1;break;case 17:case 18:n.fPos+=2}n.prev=ma.CURVE_TO,D.fillCommands.curveTo((f=n).buffer.f[f.fPos],f.buffer.f[f.fPos+1],f.buffer.f[f.fPos+2],f.buffer.f[f.fPos+3]),D.strokeCommands.curveTo(f.buffer.f[f.fPos],f.buffer.f[f.fPos+1],f.buffer.f[f.fPos+2],f.buffer.f[f.fPos+3]);break;case 6:switch(n.prev._hx_index){case 0:case 14:n.oPos+=2,n.bPos+=2;break;case 1:n.iPos+=1,n.fPos+=1;break;case 2:case 15:n.oPos+=4,n.iiPos+=2,n.ffPos+=1,n.fPos+=1;break;case 3:case 19:case 20:n.oPos+=1;break;case 4:n.fPos+=6;break;case 5:case 7:case 9:n.fPos+=4;break;case 6:n.fPos+=3;break;case 8:n.oPos+=3;break;case 10:n.fPos+=5,n.oPos+=1;break;case 12:n.oPos+=4;break;case 16:n.oPos+=4,n.iPos+=1,n.fPos+=2,n.bPos+=1;break;case 17:case 18:n.fPos+=2}n.prev=ma.DRAW_CIRCLE,D.fillCommands.drawCircle((f=n).buffer.f[f.fPos],f.buffer.f[f.fPos+1],f.buffer.f[f.fPos+2]),D.strokeCommands.drawCircle(f.buffer.f[f.fPos],f.buffer.f[f.fPos+1],f.buffer.f[f.fPos+2]);break;case 7:switch(n.prev._hx_index){case 0:case 14:n.oPos+=2,n.bPos+=2;break;case 1:n.iPos+=1,n.fPos+=1;break;case 2:case 15:n.oPos+=4,n.iiPos+=2,n.ffPos+=1,n.fPos+=1;break;case 3:case 19:case 20:n.oPos+=1;break;case 4:n.fPos+=6;break;case 5:case 7:case 9:n.fPos+=4;break;case 6:n.fPos+=3;break;case 8:n.oPos+=3;break;case 10:n.fPos+=5,n.oPos+=1;break;case 12:n.oPos+=4;break;case 16:n.oPos+=4,n.iPos+=1,n.fPos+=2,n.bPos+=1;break;case 17:case 18:n.fPos+=2}n.prev=ma.DRAW_ELLIPSE,D.fillCommands.drawEllipse((f=n).buffer.f[f.fPos],f.buffer.f[f.fPos+1],f.buffer.f[f.fPos+2],f.buffer.f[f.fPos+3]),D.strokeCommands.drawEllipse(f.buffer.f[f.fPos],f.buffer.f[f.fPos+1],f.buffer.f[f.fPos+2],f.buffer.f[f.fPos+3]);break;case 9:switch(n.prev._hx_index){case 0:case 14:n.oPos+=2,n.bPos+=2;break;case 1:n.iPos+=1,n.fPos+=1;break;case 2:case 15:n.oPos+=4,n.iiPos+=2,n.ffPos+=1,n.fPos+=1;break;case 3:case 19:case 20:n.oPos+=1;break;case 4:n.fPos+=6;break;case 5:case 7:case 9:n.fPos+=4;break;case 6:n.fPos+=3;break;case 8:n.oPos+=3;break;case 10:n.fPos+=5,n.oPos+=1;break;case 12:n.oPos+=4;break;case 16:n.oPos+=4,n.iPos+=1,n.fPos+=2,n.bPos+=1;break;case 17:case 18:n.fPos+=2}n.prev=ma.DRAW_RECT,D.fillCommands.drawRect((f=n).buffer.f[f.fPos],f.buffer.f[f.fPos+1],f.buffer.f[f.fPos+2],f.buffer.f[f.fPos+3]),D.strokeCommands.drawRect(f.buffer.f[f.fPos],f.buffer.f[f.fPos+1],f.buffer.f[f.fPos+2],f.buffer.f[f.fPos+3]);break;case 10:switch(n.prev._hx_index){case 0:case 14:n.oPos+=2,n.bPos+=2;break;case 1:n.iPos+=1,n.fPos+=1;break;case 2:case 15:n.oPos+=4,n.iiPos+=2,n.ffPos+=1,n.fPos+=1;break;case 3:case 19:case 20:n.oPos+=1;break;case 4:n.fPos+=6;break;case 5:case 7:case 9:n.fPos+=4;break;case 6:n.fPos+=3;break;case 8:n.oPos+=3;break;case 10:n.fPos+=5,n.oPos+=1;break;case 12:n.oPos+=4;break;case 16:n.oPos+=4,n.iPos+=1,n.fPos+=2,n.bPos+=1;break;case 17:case 18:n.fPos+=2}n.prev=ma.DRAW_ROUND_RECT,D.fillCommands.drawRoundRect((f=n).buffer.f[f.fPos],f.buffer.f[f.fPos+1],f.buffer.f[f.fPos+2],f.buffer.f[f.fPos+3],f.buffer.f[f.fPos+4],f.buffer.o[f.oPos]),D.strokeCommands.drawRoundRect(f.buffer.f[f.fPos],f.buffer.f[f.fPos+1],f.buffer.f[f.fPos+2],f.buffer.f[f.fPos+3],f.buffer.f[f.fPos+4],f.buffer.o[f.oPos]);break;case 13:switch(n.prev._hx_index){case 0:case 14:n.oPos+=2,n.bPos+=2;break;case 1:n.iPos+=1,n.fPos+=1;break;case 2:case 15:n.oPos+=4,n.iiPos+=2,n.ffPos+=1,n.fPos+=1;break;case 3:case 19:case 20:n.oPos+=1;break;case 4:n.fPos+=6;break;case 5:case 7:case 9:n.fPos+=4;break;case 6:n.fPos+=3;break;case 8:n.oPos+=3;break;case 10:n.fPos+=5,n.oPos+=1;break;case 12:n.oPos+=4;break;case 16:n.oPos+=4,n.iPos+=1,n.fPos+=2,n.bPos+=1;break;case 17:case 18:n.fPos+=2}if(n.prev=ma.END_FILL,D.endFill(),D.hasFill&&D.context.isPointInPath(i,s,D.windingRule)||(D.endStroke(),D.hasStroke&&D.context.isPointInStroke(i,s)))return n.destroy(),e.__canvas=o,e.__context=l,!0;D.hasFill=!1,D.bitmapFill=null;break;case 14:switch(n.prev._hx_index){case 0:case 14:n.oPos+=2,n.bPos+=2;break;case 1:n.iPos+=1,n.fPos+=1;break;case 2:case 15:n.oPos+=4,n.iiPos+=2,n.ffPos+=1,n.fPos+=1;break;case 3:case 19:case 20:n.oPos+=1;break;case 4:n.fPos+=6;break;case 5:case 7:case 9:n.fPos+=4;break;case 6:n.fPos+=3;break;case 8:n.oPos+=3;break;case 10:n.fPos+=5,n.oPos+=1;break;case 12:n.oPos+=4;break;case 16:n.oPos+=4,n.iPos+=1,n.fPos+=2,n.bPos+=1;break;case 17:case 18:n.fPos+=2}n.prev=ma.LINE_BITMAP_STYLE,D.strokeCommands.lineBitmapStyle((f=n).buffer.o[f.oPos],f.buffer.o[f.oPos+1],f.buffer.b[f.bPos],f.buffer.b[f.bPos+1]);break;case 15:switch(n.prev._hx_index){case 0:case 14:n.oPos+=2,n.bPos+=2;break;case 1:n.iPos+=1,n.fPos+=1;break;case 2:case 15:n.oPos+=4,n.iiPos+=2,n.ffPos+=1,n.fPos+=1;break;case 3:case 19:case 20:n.oPos+=1;break;case 4:n.fPos+=6;break;case 5:case 7:case 9:n.fPos+=4;break;case 6:n.fPos+=3;break;case 8:n.oPos+=3;break;case 10:n.fPos+=5,n.oPos+=1;break;case 12:n.oPos+=4;break;case 16:n.oPos+=4,n.iPos+=1,n.fPos+=2,n.bPos+=1;break;case 17:case 18:n.fPos+=2}n.prev=ma.LINE_GRADIENT_STYLE,D.strokeCommands.lineGradientStyle((f=n).buffer.o[f.oPos],f.buffer.ii[f.iiPos],f.buffer.ff[f.ffPos],f.buffer.ii[f.iiPos+1],f.buffer.o[f.oPos+1],f.buffer.o[f.oPos+2],f.buffer.o[f.oPos+3],f.buffer.f[f.fPos]);break;case 16:switch(n.prev._hx_index){case 0:case 14:n.oPos+=2,n.bPos+=2;break;case 1:n.iPos+=1,n.fPos+=1;break;case 2:case 15:n.oPos+=4,n.iiPos+=2,n.ffPos+=1,n.fPos+=1;break;case 3:case 19:case 20:n.oPos+=1;break;case 4:n.fPos+=6;break;case 5:case 7:case 9:n.fPos+=4;break;case 6:n.fPos+=3;break;case 8:n.oPos+=3;break;case 10:n.fPos+=5,n.oPos+=1;break;case 12:n.oPos+=4;break;case 16:n.oPos+=4,n.iPos+=1,n.fPos+=2,n.bPos+=1;break;case 17:case 18:n.fPos+=2}n.prev=ma.LINE_STYLE,D.strokeCommands.lineStyle((f=n).buffer.o[f.oPos],f.buffer.i[f.iPos],1,f.buffer.b[f.bPos],f.buffer.o[f.oPos+1],f.buffer.o[f.oPos+2],f.buffer.o[f.oPos+3],f.buffer.f[f.fPos+1]);break;case 17:switch(n.prev._hx_index){case 0:case 14:n.oPos+=2,n.bPos+=2;break;case 1:n.iPos+=1,n.fPos+=1;break;case 2:case 15:n.oPos+=4,n.iiPos+=2,n.ffPos+=1,n.fPos+=1;break;case 3:case 19:case 20:n.oPos+=1;break;case 4:n.fPos+=6;break;case 5:case 7:case 9:n.fPos+=4;break;case 6:n.fPos+=3;break;case 8:n.oPos+=3;break;case 10:n.fPos+=5,n.oPos+=1;break;case 12:n.oPos+=4;break;case 16:n.oPos+=4,n.iPos+=1,n.fPos+=2,n.bPos+=1;break;case 17:case 18:n.fPos+=2}n.prev=ma.LINE_TO,D.fillCommands.lineTo((f=n).buffer.f[f.fPos],f.buffer.f[f.fPos+1]),D.strokeCommands.lineTo(f.buffer.f[f.fPos],f.buffer.f[f.fPos+1]);break;case 18:switch(n.prev._hx_index){case 0:case 14:n.oPos+=2,n.bPos+=2;break;case 1:n.iPos+=1,n.fPos+=1;break;case 2:case 15:n.oPos+=4,n.iiPos+=2,n.ffPos+=1,n.fPos+=1;break;case 3:case 19:case 20:n.oPos+=1;break;case 4:n.fPos+=6;break;case 5:case 7:case 9:n.fPos+=4;break;case 6:n.fPos+=3;break;case 8:n.oPos+=3;break;case 10:n.fPos+=5,n.oPos+=1;break;case 12:n.oPos+=4;break;case 16:n.oPos+=4,n.iPos+=1,n.fPos+=2,n.bPos+=1;break;case 17:case 18:n.fPos+=2}n.prev=ma.MOVE_TO,D.fillCommands.moveTo((f=n).buffer.f[f.fPos],f.buffer.f[f.fPos+1]),D.strokeCommands.moveTo(f.buffer.f[f.fPos],f.buffer.f[f.fPos+1]);break;case 21:D.windingRule="evenodd";break;case 22:D.windingRule="nonzero";break;default:switch(n.prev._hx_index){case 0:case 14:n.oPos+=2,n.bPos+=2;break;case 1:n.iPos+=1,n.fPos+=1;break;case 2:case 15:n.oPos+=4,n.iiPos+=2,n.ffPos+=1,n.fPos+=1;break;case 3:case 19:case 20:n.oPos+=1;break;case 4:n.fPos+=6;break;case 5:case 7:case 9:n.fPos+=4;break;case 6:n.fPos+=3;break;case 8:n.oPos+=3;break;case 10:n.fPos+=5,n.oPos+=1;break;case 12:n.oPos+=4;break;case 16:n.oPos+=4,n.iPos+=1,n.fPos+=2,n.bPos+=1;break;case 17:case 18:n.fPos+=2}n.prev=f}}return _=!1,0<D.fillCommands.get_length()&&D.endFill(),D.hasFill&&D.context.isPointInPath(i,s,D.windingRule)&&(_=!0),0<D.strokeCommands.get_length()&&D.endStroke(),D.hasStroke&&D.context.isPointInStroke(i,s)&&(_=!0),n.destroy(),e.__canvas=o,e.__context=l,_},D.isCCW=function(e,i,s,n,o,l){return 0>(s-e)*(l-i)-(n-i)*(o-e)},D.normalizeUVT=function(e,i){null==i&&(i=!1);for(var n,s=-1/0,o=e.get_length(),l=1,_=o+1;l<_;)n=l++,i&&n%3==0||s<(n=e.get(n-1))&&(s=n);if(!i)return{max:s,uvt:e};for(l=La.toFloatVector(null),_=1,o+=1;_<o;)n=_++,i&&n%3==0||l.push(e.get(n-1));return{max:s,uvt:l}},D.playCommands=function(e,i){null==i&&(i=!1),D.bounds=D.graphics.__bounds;var s=D.bounds.x,n=D.bounds.y,o=0,l=0,_=!1,h=0,m=0,f=!1;D.windingRule="evenodd",D.setSmoothing(!0);var j,$,yt,y=!1,g=new vg(e),_t=null,xt=null,Tt=e.types,St=0,Mt=e.get_length();t:for(;St<Mt;){var Ct=Tt[St++];switch(Ct._hx_index){case 0:switch(g.prev._hx_index){case 0:case 14:g.oPos+=2,g.bPos+=2;break;case 1:g.iPos+=1,g.fPos+=1;break;case 2:case 15:g.oPos+=4,g.iiPos+=2,g.ffPos+=1,g.fPos+=1;break;case 3:case 19:case 20:g.oPos+=1;break;case 4:g.fPos+=6;break;case 5:case 7:case 9:g.fPos+=4;break;case 6:g.fPos+=3;break;case 8:g.oPos+=3;break;case 10:g.fPos+=5,g.oPos+=1;break;case 12:g.oPos+=4;break;case 16:g.oPos+=4,g.iPos+=1,g.fPos+=2,g.bPos+=1;break;case 17:case 18:g.fPos+=2}g.prev=ma.BEGIN_BITMAP_FILL;var Dt=g;D.bitmapFill=Dt.buffer.o[Dt.oPos],D.context.fillStyle=D.createBitmapFill(Dt.buffer.o[Dt.oPos],Dt.buffer.b[Dt.bPos],Dt.buffer.b[Dt.bPos+1]),D.hasFill=!0,null!=Dt.buffer.o[Dt.oPos+1]?(D.pendingMatrix=Dt.buffer.o[Dt.oPos+1],D.inversePendingMatrix=Dt.buffer.o[Dt.oPos+1].clone(),D.inversePendingMatrix.invert()):(D.pendingMatrix=null,D.inversePendingMatrix=null);break;case 1:switch(g.prev._hx_index){case 0:case 14:g.oPos+=2,g.bPos+=2;break;case 1:g.iPos+=1,g.fPos+=1;break;case 2:case 15:g.oPos+=4,g.iiPos+=2,g.ffPos+=1,g.fPos+=1;break;case 3:case 19:case 20:g.oPos+=1;break;case 4:g.fPos+=6;break;case 5:case 7:case 9:g.fPos+=4;break;case 6:g.fPos+=3;break;case 8:g.oPos+=3;break;case 10:g.fPos+=5,g.oPos+=1;break;case 12:g.oPos+=4;break;case 16:g.oPos+=4,g.iPos+=1,g.fPos+=2,g.bPos+=1;break;case 17:case 18:g.fPos+=2}g.prev=ma.BEGIN_FILL;var At=g;if(.005>At.buffer.f[At.fPos])D.hasFill=!1;else{if(1==At.buffer.f[At.fPos]){var Nt=aa.hex(16777215&At.buffer.i[At.iPos],6);D.context.fillStyle="#"+Nt}else{var Ft=(16711680&At.buffer.i[At.iPos])>>>16,Lt=(65280&At.buffer.i[At.iPos])>>>8,Ot=255&At.buffer.i[At.iPos];D.context.fillStyle="rgba("+Ft+", "+Lt+", "+Ot+", "+At.buffer.f[At.fPos]+")"}D.bitmapFill=null,D.setSmoothing(!0),D.hasFill=!0}break;case 2:switch(g.prev._hx_index){case 0:case 14:g.oPos+=2,g.bPos+=2;break;case 1:g.iPos+=1,g.fPos+=1;break;case 2:case 15:g.oPos+=4,g.iiPos+=2,g.ffPos+=1,g.fPos+=1;break;case 3:case 19:case 20:g.oPos+=1;break;case 4:g.fPos+=6;break;case 5:case 7:case 9:g.fPos+=4;break;case 6:g.fPos+=3;break;case 8:g.oPos+=3;break;case 10:g.fPos+=5,g.oPos+=1;break;case 12:g.oPos+=4;break;case 16:g.oPos+=4,g.iPos+=1,g.fPos+=2,g.bPos+=1;break;case 17:case 18:g.fPos+=2}g.prev=ma.BEGIN_GRADIENT_FILL,D.context.fillStyle=D.createGradientPattern(g.buffer.o[g.oPos],g.buffer.ii[g.iiPos],g.buffer.ff[g.ffPos],g.buffer.ii[g.iiPos+1],g.buffer.o[g.oPos+1],g.buffer.o[g.oPos+2],g.buffer.o[g.oPos+3],g.buffer.f[g.fPos]),D.bitmapFill=null,D.setSmoothing(!0),D.hasFill=!0;break;case 3:switch(g.prev._hx_index){case 0:case 14:g.oPos+=2,g.bPos+=2;break;case 1:g.iPos+=1,g.fPos+=1;break;case 2:case 15:g.oPos+=4,g.iiPos+=2,g.ffPos+=1,g.fPos+=1;break;case 3:case 19:case 20:g.oPos+=1;break;case 4:g.fPos+=6;break;case 5:case 7:case 9:g.fPos+=4;break;case 6:g.fPos+=3;break;case 8:g.oPos+=3;break;case 10:g.fPos+=5,g.oPos+=1;break;case 12:g.oPos+=4;break;case 16:g.oPos+=4,g.iPos+=1,g.fPos+=2,g.bPos+=1;break;case 17:case 18:g.fPos+=2}g.prev=ma.BEGIN_SHADER_FILL;var zt=g.buffer.o[g.oPos];0<zt.inputCount&&(D.bitmapFill=zt.inputs[0],D.context.fillStyle=D.createBitmapFill(D.bitmapFill,0!=zt.inputWrap[0],5!=zt.inputFilter[0]),D.hasFill=!0,D.pendingMatrix=null,D.inversePendingMatrix=null);break;case 4:switch(g.prev._hx_index){case 0:case 14:g.oPos+=2,g.bPos+=2;break;case 1:g.iPos+=1,g.fPos+=1;break;case 2:case 15:g.oPos+=4,g.iiPos+=2,g.ffPos+=1,g.fPos+=1;break;case 3:case 19:case 20:g.oPos+=1;break;case 4:g.fPos+=6;break;case 5:case 7:case 9:g.fPos+=4;break;case 6:g.fPos+=3;break;case 8:g.oPos+=3;break;case 10:g.fPos+=5,g.oPos+=1;break;case 12:g.oPos+=4;break;case 16:g.oPos+=4,g.iPos+=1,g.fPos+=2,g.bPos+=1;break;case 17:case 18:g.fPos+=2}g.prev=ma.CUBIC_CURVE_TO,y=!0,D.context.bezierCurveTo(g.buffer.f[g.fPos]-s,g.buffer.f[g.fPos+1]-n,g.buffer.f[g.fPos+2]-s,g.buffer.f[g.fPos+3]-n,g.buffer.f[g.fPos+4]-s,g.buffer.f[g.fPos+5]-n);break;case 5:switch(g.prev._hx_index){case 0:case 14:g.oPos+=2,g.bPos+=2;break;case 1:g.iPos+=1,g.fPos+=1;break;case 2:case 15:g.oPos+=4,g.iiPos+=2,g.ffPos+=1,g.fPos+=1;break;case 3:case 19:case 20:g.oPos+=1;break;case 4:g.fPos+=6;break;case 5:case 7:case 9:g.fPos+=4;break;case 6:g.fPos+=3;break;case 8:g.oPos+=3;break;case 10:g.fPos+=5,g.oPos+=1;break;case 12:g.oPos+=4;break;case 16:g.oPos+=4,g.iPos+=1,g.fPos+=2,g.bPos+=1;break;case 17:case 18:g.fPos+=2}g.prev=ma.CURVE_TO,y=!0,D.context.quadraticCurveTo(g.buffer.f[g.fPos]-s,g.buffer.f[g.fPos+1]-n,g.buffer.f[g.fPos+2]-s,g.buffer.f[g.fPos+3]-n);break;case 6:switch(g.prev._hx_index){case 0:case 14:g.oPos+=2,g.bPos+=2;break;case 1:g.iPos+=1,g.fPos+=1;break;case 2:case 15:g.oPos+=4,g.iiPos+=2,g.ffPos+=1,g.fPos+=1;break;case 3:case 19:case 20:g.oPos+=1;break;case 4:g.fPos+=6;break;case 5:case 7:case 9:g.fPos+=4;break;case 6:g.fPos+=3;break;case 8:g.oPos+=3;break;case 10:g.fPos+=5,g.oPos+=1;break;case 12:g.oPos+=4;break;case 16:g.oPos+=4,g.iPos+=1,g.fPos+=2,g.bPos+=1;break;case 17:case 18:g.fPos+=2}g.prev=ma.DRAW_CIRCLE;var Kt=g;y=!0,D.context.moveTo(Kt.buffer.f[Kt.fPos]-s+Kt.buffer.f[Kt.fPos+2],Kt.buffer.f[Kt.fPos+1]-n),D.context.arc(Kt.buffer.f[Kt.fPos]-s,Kt.buffer.f[Kt.fPos+1]-n,Kt.buffer.f[Kt.fPos+2],0,2*Math.PI,!0);break;case 7:switch(g.prev._hx_index){case 0:case 14:g.oPos+=2,g.bPos+=2;break;case 1:g.iPos+=1,g.fPos+=1;break;case 2:case 15:g.oPos+=4,g.iiPos+=2,g.ffPos+=1,g.fPos+=1;break;case 3:case 19:case 20:g.oPos+=1;break;case 4:g.fPos+=6;break;case 5:case 7:case 9:g.fPos+=4;break;case 6:g.fPos+=3;break;case 8:g.oPos+=3;break;case 10:g.fPos+=5,g.oPos+=1;break;case 12:g.oPos+=4;break;case 16:g.oPos+=4,g.iPos+=1,g.fPos+=2,g.bPos+=1;break;case 17:case 18:g.fPos+=2}g.prev=ma.DRAW_ELLIPSE,y=!0;var Bt=g.buffer.f[g.fPos],Xr=g.buffer.f[g.fPos+1],_l=g.buffer.f[g.fPos+2],_n=g.buffer.f[g.fPos+3],_r=_l/2*.5522848,_i=_n/2*.5522848,_e=(Bt-=s)+_l,Gt=(Xr-=n)+_n,Vt=Bt+_l/2,n_=Xr+_n/2;D.context.moveTo(Bt,n_),D.context.bezierCurveTo(Bt,n_-_i,Vt-_r,Xr,Vt,Xr),D.context.bezierCurveTo(Vt+_r,Xr,_e,n_-_i,_e,n_),D.context.bezierCurveTo(_e,n_+_i,Vt+_r,Gt,Vt,Gt),D.context.bezierCurveTo(Vt-_r,Gt,Bt,n_+_i,Bt,n_);break;case 8:switch(g.prev._hx_index){case 0:case 14:g.oPos+=2,g.bPos+=2;break;case 1:g.iPos+=1,g.fPos+=1;break;case 2:case 15:g.oPos+=4,g.iiPos+=2,g.ffPos+=1,g.fPos+=1;break;case 3:case 19:case 20:g.oPos+=1;break;case 4:g.fPos+=6;break;case 5:case 7:case 9:g.fPos+=4;break;case 6:g.fPos+=3;break;case 8:g.oPos+=3;break;case 10:g.fPos+=5,g.oPos+=1;break;case 12:g.oPos+=4;break;case 16:g.oPos+=4,g.iPos+=1,g.fPos+=2,g.bPos+=1;break;case 17:case 18:g.fPos+=2}g.prev=ma.DRAW_QUADS;var Yr=g.buffer.o[g.oPos],he=g.buffer.o[g.oPos+1],Pt=g.buffer.o[g.oPos+2],Yt=null!=he,It=!1,Rt=!1,Ut=Yt?he.get_length():Math.floor(Yr.get_length()/4);if(0==Ut)return;null!=Pt&&(Pt.get_length()>=6*Ut?Rt=It=!0:Pt.get_length()>=4*Ut?It=!0:Pt.get_length()>=2*Ut&&(Rt=!0));var Wt=ia.__pool.get(),Xt=Fa.__pool.get(),Zt=D.graphics.__renderTransform;D.context.save();for(var _a=0,_s=Ut;_a<_s;){var t_=_a++,e_=Yt?4*he.get(t_):4*t_;if(!(0>e_||(Wt.setTo(Yr.get(e_),Yr.get(e_+1),Yr.get(e_+2),Yr.get(e_+3)),0>=Wt.width||0>=Wt.height))){if(It&&Rt){var r_=6*t_;Xt.setTo(Pt.get(r_),Pt.get(r_+1),Pt.get(r_+2),Pt.get(r_+3),Pt.get(r_+4),Pt.get(r_+5))}else It?Xt.setTo(Pt.get(r_=4*t_),Pt.get(r_+1),Pt.get(r_+2),Pt.get(r_+3),Wt.x,Wt.y):Rt?(Xt.tx=Pt.get(r_=2*t_),Xt.ty=Pt.get(r_+1)):(Xt.tx=Wt.x,Xt.ty=Wt.y);Xt.tx+=o-s,Xt.ty+=l-n,Xt.concat(Zt),D.context.setTransform(Xt.a,Xt.b,Xt.c,Xt.d,Xt.tx,Xt.ty),null!=D.bitmapFill?D.context.drawImage(D.bitmapFill.image.get_src(),Wt.x,Wt.y,Wt.width,Wt.height,0,0,Wt.width,Wt.height):D.context.fillRect(0,0,Wt.width,Wt.height)}}ia.__pool.release(Wt),Fa.__pool.release(Xt),D.context.restore();break;case 9:switch(g.prev._hx_index){case 0:case 14:g.oPos+=2,g.bPos+=2;break;case 1:g.iPos+=1,g.fPos+=1;break;case 2:case 15:g.oPos+=4,g.iiPos+=2,g.ffPos+=1,g.fPos+=1;break;case 3:case 19:case 20:g.oPos+=1;break;case 4:g.fPos+=6;break;case 5:case 7:case 9:g.fPos+=4;break;case 6:g.fPos+=3;break;case 8:g.oPos+=3;break;case 10:g.fPos+=5,g.oPos+=1;break;case 12:g.oPos+=4;break;case 16:g.oPos+=4,g.iPos+=1,g.fPos+=2,g.bPos+=1;break;case 17:case 18:g.fPos+=2}g.prev=ma.DRAW_RECT;var ga=g,c_=!1;if(null!=D.bitmapFill&&!D.hitTesting){var k_=yt=$=j=0,p_=!0;if(null!=D.pendingMatrix)if(0!=D.pendingMatrix.b||0!=D.pendingMatrix.c)p_=!1;else{null==_t&&(_t=ra.__pool.get()),null==xt&&(xt=ra.__pool.get()),_t.setTo(ga.buffer.f[ga.fPos],ga.buffer.f[ga.fPos+1]);var d_=D.inversePendingMatrix,K_=_t.x,J_=_t.y;_t.x=K_*d_.a+J_*d_.c+d_.tx,_t.y=K_*d_.b+J_*d_.d+d_.ty,xt.setTo(ga.buffer.f[ga.fPos]+ga.buffer.f[ga.fPos+2],ga.buffer.f[ga.fPos+1]+ga.buffer.f[ga.fPos+3]);var F_=D.inversePendingMatrix,N_=xt.x,Q_=xt.y;xt.x=N_*F_.a+Q_*F_.c+F_.tx,xt.y=N_*F_.b+Q_*F_.d+F_.ty,j=_t.y,k_=_t.x,yt=xt.y,$=xt.x}else j=ga.buffer.f[ga.fPos+1],k_=ga.buffer.f[ga.fPos],yt=ga.buffer.f[ga.fPos+1]+ga.buffer.f[ga.fPos+3],$=ga.buffer.f[ga.fPos]+ga.buffer.f[ga.fPos+2];p_&&0<=j&&0<=k_&&$<=D.bitmapFill.width&&yt<=D.bitmapFill.height&&(c_=!0,D.hitTesting||D.context.drawImage(D.bitmapFill.image.get_src(),k_,j,$-k_,yt-j,ga.buffer.f[ga.fPos]-s,ga.buffer.f[ga.fPos+1]-n,ga.buffer.f[ga.fPos+2],ga.buffer.f[ga.fPos+3]))}c_||(y=!0,D.context.rect(ga.buffer.f[ga.fPos]-s,ga.buffer.f[ga.fPos+1]-n,ga.buffer.f[ga.fPos+2],ga.buffer.f[ga.fPos+3]));break;case 10:switch(g.prev._hx_index){case 0:case 14:g.oPos+=2,g.bPos+=2;break;case 1:g.iPos+=1,g.fPos+=1;break;case 2:case 15:g.oPos+=4,g.iiPos+=2,g.ffPos+=1,g.fPos+=1;break;case 3:case 19:case 20:g.oPos+=1;break;case 4:g.fPos+=6;break;case 5:case 7:case 9:g.fPos+=4;break;case 6:g.fPos+=3;break;case 8:g.oPos+=3;break;case 10:g.fPos+=5,g.oPos+=1;break;case 12:g.oPos+=4;break;case 16:g.oPos+=4,g.iPos+=1,g.fPos+=2,g.bPos+=1;break;case 17:case 18:g.fPos+=2}g.prev=ma.DRAW_ROUND_RECT,y=!0,D.drawRoundRect(g.buffer.f[g.fPos]-s,g.buffer.f[g.fPos+1]-n,g.buffer.f[g.fPos+2],g.buffer.f[g.fPos+3],g.buffer.f[g.fPos+4],g.buffer.o[g.oPos]);break;case 12:switch(g.prev._hx_index){case 0:case 14:g.oPos+=2,g.bPos+=2;break;case 1:g.iPos+=1,g.fPos+=1;break;case 2:case 15:g.oPos+=4,g.iiPos+=2,g.ffPos+=1,g.fPos+=1;break;case 3:case 19:case 20:g.oPos+=1;break;case 4:g.fPos+=6;break;case 5:case 7:case 9:g.fPos+=4;break;case 6:g.fPos+=3;break;case 8:g.oPos+=3;break;case 10:g.fPos+=5,g.oPos+=1;break;case 12:g.oPos+=4;break;case 16:g.oPos+=4,g.iPos+=1,g.fPos+=2,g.bPos+=1;break;case 17:case 18:g.fPos+=2}g.prev=ma.DRAW_TRIANGLES;var I_=g,h_=I_.buffer.o[I_.oPos],b_=I_.buffer.o[I_.oPos+1],m_=I_.buffer.o[I_.oPos+2],S_=null,P_=null==D.bitmapFill;if(P_&&null!=m_)break t;if(!P_){if(null==m_){m_=La.toFloatVector(null);for(var $_=0,U_=h_.get_length()/2|0;$_<U_;){var th=$_++;m_.push(h_.get(2*th)-s/D.bitmapFill.width),m_.push(h_.get(2*th+1)-n/D.bitmapFill.height)}}var _h=m_.get_length()!=h_.get_length(),V_=D.normalizeUVT(m_,_h);m_=V_.uvt,S_=1<V_.max?D.createTempPatternCanvas(D.bitmapFill,D.bitmapRepeat,0|D.bounds.width,0|D.bounds.height):D.createTempPatternCanvas(D.bitmapFill,D.bitmapRepeat,D.bitmapFill.width,D.bitmapFill.height)}for(var Z_,q_,G_,D_,W_,H_,eu,L_,C_,y_,R_,u_,x_,v_,E_,A_,s_,o_,l_,a_,__,w_,M_=0,X_=b_.get_length();M_<X_;){switch(q_=M_+1,G_=M_+2,D_=2*b_.get(Z_=M_),W_=2*b_.get(Z_)+1,H_=2*b_.get(q_),eu=2*b_.get(q_)+1,L_=2*b_.get(G_),C_=2*b_.get(G_)+1,y_=h_.get(D_)-s,R_=h_.get(W_)-n,u_=h_.get(H_)-s,x_=h_.get(eu)-n,v_=h_.get(L_)-s,E_=h_.get(C_)-n,I_.buffer.o[I_.oPos+3]){case 0:if(0>(u_-y_)*(E_-R_)-(x_-R_)*(v_-y_)){M_+=3;continue}break;case 2:if(!(0>(u_-y_)*(E_-R_)-(x_-R_)*(v_-y_))){M_+=3;continue}}P_?(D.context.beginPath(),D.context.moveTo(y_,R_),D.context.lineTo(u_,x_),D.context.lineTo(v_,E_),D.context.closePath(),D.hitTesting||D.context.fill(D.windingRule),M_+=3):(A_=m_.get(D_)*S_.width,o_=m_.get(H_)*S_.width,a_=m_.get(L_)*S_.width,s_=m_.get(W_)*S_.height,l_=m_.get(eu)*S_.height,0==(w_=A_*((__=m_.get(C_)*S_.height)-l_)-o_*__+a_*l_+(o_-a_)*s_)?(M_+=3,D.context.restore()):(D.context.save(),D.context.beginPath(),D.context.moveTo(y_,R_),D.context.lineTo(u_,x_),D.context.lineTo(v_,E_),D.context.closePath(),D.context.clip(),D.context.transform(-(s_*(v_-u_)-l_*v_+__*u_+(l_-__)*y_)/w_,(l_*E_+s_*(x_-E_)-__*x_+(__-l_)*R_)/w_,(A_*(v_-u_)-o_*v_+a_*u_+(o_-a_)*y_)/w_,-(o_*E_+A_*(x_-E_)-a_*x_+(a_-o_)*R_)/w_,(A_*(__*u_-l_*v_)+s_*(o_*v_-a_*u_)+(a_*l_-o_*__)*y_)/w_,(A_*(__*x_-l_*E_)+s_*(o_*E_-a_*x_)+(a_*l_-o_*__)*R_)/w_),D.context.drawImage(S_,0,0,S_.width,S_.height),D.context.restore(),M_+=3))}break;case 14:switch(g.prev._hx_index){case 0:case 14:g.oPos+=2,g.bPos+=2;break;case 1:g.iPos+=1,g.fPos+=1;break;case 2:case 15:g.oPos+=4,g.iiPos+=2,g.ffPos+=1,g.fPos+=1;break;case 3:case 19:case 20:g.oPos+=1;break;case 4:g.fPos+=6;break;case 5:case 7:case 9:g.fPos+=4;break;case 6:g.fPos+=3;break;case 8:g.oPos+=3;break;case 10:g.fPos+=5,g.oPos+=1;break;case 12:g.oPos+=4;break;case 16:g.oPos+=4,g.iPos+=1,g.fPos+=2,g.bPos+=1;break;case 17:case 18:g.fPos+=2}g.prev=ma.LINE_BITMAP_STYLE;var j_=g;i&&D.hasStroke&&D.closePath(),D.context.moveTo(o-s,l-n),D.context.strokeStyle=D.createBitmapFill(j_.buffer.o[j_.oPos],j_.buffer.b[j_.bPos],j_.buffer.b[j_.bPos+1]),D.hasStroke=!0;break;case 15:switch(g.prev._hx_index){case 0:case 14:g.oPos+=2,g.bPos+=2;break;case 1:g.iPos+=1,g.fPos+=1;break;case 2:case 15:g.oPos+=4,g.iiPos+=2,g.ffPos+=1,g.fPos+=1;break;case 3:case 19:case 20:g.oPos+=1;break;case 4:g.fPos+=6;break;case 5:case 7:case 9:g.fPos+=4;break;case 6:g.fPos+=3;break;case 8:g.oPos+=3;break;case 10:g.fPos+=5,g.oPos+=1;break;case 12:g.oPos+=4;break;case 16:g.oPos+=4,g.iPos+=1,g.fPos+=2,g.bPos+=1;break;case 17:case 18:g.fPos+=2}g.prev=ma.LINE_GRADIENT_STYLE;var f_=g;i&&D.hasStroke&&D.closePath(),D.context.moveTo(o-s,l-n),D.context.strokeStyle=D.createGradientPattern(f_.buffer.o[f_.oPos],f_.buffer.ii[f_.iiPos],f_.buffer.ff[f_.ffPos],f_.buffer.ii[f_.iiPos+1],f_.buffer.o[f_.oPos+1],f_.buffer.o[f_.oPos+2],f_.buffer.o[f_.oPos+3],f_.buffer.f[f_.fPos]),D.setSmoothing(!0),D.hasStroke=!0;break;case 16:switch(g.prev._hx_index){case 0:case 14:g.oPos+=2,g.bPos+=2;break;case 1:g.iPos+=1,g.fPos+=1;break;case 2:case 15:g.oPos+=4,g.iiPos+=2,g.ffPos+=1,g.fPos+=1;break;case 3:case 19:case 20:g.oPos+=1;break;case 4:g.fPos+=6;break;case 5:case 7:case 9:g.fPos+=4;break;case 6:g.fPos+=3;break;case 8:g.oPos+=3;break;case 10:g.fPos+=5,g.oPos+=1;break;case 12:g.oPos+=4;break;case 16:g.oPos+=4,g.iPos+=1,g.fPos+=2,g.bPos+=1;break;case 17:case 18:g.fPos+=2}g.prev=ma.LINE_STYLE;var i_=g;if(i&&D.hasStroke&&D.closePath(!0),D.context.moveTo(o-s,l-n),null==i_.buffer.o[i_.oPos])D.hasStroke=!1;else{D.context.lineWidth=0<i_.buffer.o[i_.oPos]?i_.buffer.o[i_.oPos]:1;var su=null==i_.buffer.o[i_.oPos+3]?"round":mi.toString(i_.buffer.o[i_.oPos+3]).toLowerCase();D.context.lineJoin=su;var ou=null==i_.buffer.o[i_.oPos+2]?"round":0==i_.buffer.o[i_.oPos+2]?"butt":ni.toString(i_.buffer.o[i_.oPos+2]).toLowerCase();if(D.context.lineCap=ou,D.context.miterLimit=i_.buffer.f[i_.fPos+1],1==i_.buffer.f[i_.fPos]){var nu=aa.hex(16777215&i_.buffer.i[i_.iPos],6);D.context.strokeStyle="#"+nu}else D.context.strokeStyle="rgba("+(Ft=(16711680&i_.buffer.i[i_.iPos])>>>16)+", "+(Lt=(65280&i_.buffer.i[i_.iPos])>>>8)+", "+(Ot=255&i_.buffer.i[i_.iPos])+", "+i_.buffer.f[i_.fPos]+")";D.setSmoothing(!0),D.hasStroke=!0}break;case 17:switch(g.prev._hx_index){case 0:case 14:g.oPos+=2,g.bPos+=2;break;case 1:g.iPos+=1,g.fPos+=1;break;case 2:case 15:g.oPos+=4,g.iiPos+=2,g.ffPos+=1,g.fPos+=1;break;case 3:case 19:case 20:g.oPos+=1;break;case 4:g.fPos+=6;break;case 5:case 7:case 9:g.fPos+=4;break;case 6:g.fPos+=3;break;case 8:g.oPos+=3;break;case 10:g.fPos+=5,g.oPos+=1;break;case 12:g.oPos+=4;break;case 16:g.oPos+=4,g.iPos+=1,g.fPos+=2,g.bPos+=1;break;case 17:case 18:g.fPos+=2}g.prev=ma.LINE_TO;var z_=g;y=!0,D.context.lineTo(z_.buffer.f[z_.fPos]-s,z_.buffer.f[z_.fPos+1]-n),l=z_.buffer.f[z_.fPos+1],(o=z_.buffer.f[z_.fPos])==h&&l==m&&(_=!0);break;case 18:switch(g.prev._hx_index){case 0:case 14:g.oPos+=2,g.bPos+=2;break;case 1:g.iPos+=1,g.fPos+=1;break;case 2:case 15:g.oPos+=4,g.iiPos+=2,g.ffPos+=1,g.fPos+=1;break;case 3:case 19:case 20:g.oPos+=1;break;case 4:g.fPos+=6;break;case 5:case 7:case 9:g.fPos+=4;break;case 6:g.fPos+=3;break;case 8:g.oPos+=3;break;case 10:g.fPos+=5,g.oPos+=1;break;case 12:g.oPos+=4;break;case 16:g.oPos+=4,g.iPos+=1,g.fPos+=2,g.bPos+=1;break;case 17:case 18:g.fPos+=2}g.prev=ma.MOVE_TO;var T_=g;D.context.moveTo(T_.buffer.f[T_.fPos]-s,T_.buffer.f[T_.fPos+1]-n),o=T_.buffer.f[T_.fPos],l=T_.buffer.f[T_.fPos+1],f&&(_=!0),h=T_.buffer.f[T_.fPos],m=T_.buffer.f[T_.fPos+1],f=!0;break;case 21:D.windingRule="evenodd";break;case 22:D.windingRule="nonzero";break;default:switch(g.prev._hx_index){case 0:case 14:g.oPos+=2,g.bPos+=2;break;case 1:g.iPos+=1,g.fPos+=1;break;case 2:case 15:g.oPos+=4,g.iiPos+=2,g.ffPos+=1,g.fPos+=1;break;case 3:case 19:case 20:g.oPos+=1;break;case 4:g.fPos+=6;break;case 5:case 7:case 9:g.fPos+=4;break;case 6:g.fPos+=3;break;case 8:g.oPos+=3;break;case 10:g.fPos+=5,g.oPos+=1;break;case 12:g.oPos+=4;break;case 16:g.oPos+=4,g.iPos+=1,g.fPos+=2,g.bPos+=1;break;case 17:case 18:g.fPos+=2}g.prev=Ct}}null!=_t&&ra.__pool.release(_t),null!=xt&&ra.__pool.release(xt),g.destroy(),y&&(i&&D.hasStroke&&(D.hasFill&&_?(D.context.lineTo(h-s,m-n),D.closePath(!1)):_&&o==h&&l==m&&D.closePath(!1),D.hitTesting||D.context.stroke()),i||!D.hasFill&&null==D.bitmapFill||(D.context.translate(-D.bounds.x,-D.bounds.y),null!=D.pendingMatrix?(D.context.transform(D.pendingMatrix.a,D.pendingMatrix.b,D.pendingMatrix.c,D.pendingMatrix.d,D.pendingMatrix.tx,D.pendingMatrix.ty),D.hitTesting||D.context.fill(D.windingRule),D.context.transform(D.inversePendingMatrix.a,D.inversePendingMatrix.b,D.inversePendingMatrix.c,D.inversePendingMatrix.d,D.inversePendingMatrix.tx,D.inversePendingMatrix.ty)):D.hitTesting||D.context.fill(D.windingRule),D.context.translate(D.bounds.x,D.bounds.y),D.context.closePath()))},D.render=function(e,i){if(e.__update(i.__worldTransform),e.__commands.__endBuffer(),e.__softwareDirty&&e.__commands.get_dirty()){D.hitTesting=!1,D.graphics=e,D.allowSmoothing=i.__allowSmoothing,D.worldAlpha=i.__getAlpha(e.__owner.__worldAlpha),D.bounds=e.__bounds;var s=e.__width,n=e.__height;if(!e.__visible||0==e.__commands.get_length()||null==D.bounds||1>s||1>n)e.__canvas=null,e.__context=null,e.__bitmap=null;else{null==e.__canvas&&(e.__canvas=window.document.createElement("canvas"),e.__context=e.__canvas.getContext("2d")),D.context=e.__context;var o=e.__renderTransform,l=e.__canvas,_=i.pixelRatio,h=s*_|0,m=n*_|0;for(i.__setBlendModeContext(D.context,10),null!=i.__domRenderer?(l.width==h&&l.height==m?D.context.clearRect(0,0,h,m):(l.width=h,l.height=m,l.style.width=s+"px",l.style.height=n+"px"),D.context.setTransform((s=e.__renderTransform).a*_,s.b*_,s.c*_,s.d*_,s.tx*_,s.ty*_)):(l.width==h&&l.height==m?(D.context.closePath(),D.context.setTransform(1,0,0,1,0,0),D.context.clearRect(0,0,h,m)):(l.width=s,l.height=n),D.context.setTransform(o.a,o.b,o.c,o.d,o.tx,o.ty)),D.fillCommands.clear(),D.strokeCommands.clear(),D.hasFill=!1,D.hasStroke=!1,D.bitmapFill=null,_=D.bitmapRepeat=!1,n=s=0,D.windingRule="evenodd",o=new vg(e.__commands),l=e.__commands.types,h=0,m=e.__commands.get_length();h<m;){var f=h++;switch((f=l[f])._hx_index){case 0:case 1:case 2:case 3:if(D.endFill(),D.endStroke(),f==ma.BEGIN_BITMAP_FILL){switch(o.prev._hx_index){case 0:case 14:o.oPos+=2,o.bPos+=2;break;case 1:o.iPos+=1,o.fPos+=1;break;case 2:case 15:o.oPos+=4,o.iiPos+=2,o.ffPos+=1,o.fPos+=1;break;case 3:case 19:case 20:o.oPos+=1;break;case 4:o.fPos+=6;break;case 5:case 7:case 9:o.fPos+=4;break;case 6:o.fPos+=3;break;case 8:o.oPos+=3;break;case 10:o.fPos+=5,o.oPos+=1;break;case 12:o.oPos+=4;break;case 16:o.oPos+=4,o.iPos+=1,o.fPos+=2,o.bPos+=1;break;case 17:case 18:o.fPos+=2}o.prev=ma.BEGIN_BITMAP_FILL,D.fillCommands.beginBitmapFill((f=o).buffer.o[f.oPos],f.buffer.o[f.oPos+1],f.buffer.b[f.bPos],f.buffer.b[f.bPos+1]),D.strokeCommands.beginBitmapFill(f.buffer.o[f.oPos],f.buffer.o[f.oPos+1],f.buffer.b[f.bPos],f.buffer.b[f.bPos+1])}else if(f==ma.BEGIN_GRADIENT_FILL){switch(o.prev._hx_index){case 0:case 14:o.oPos+=2,o.bPos+=2;break;case 1:o.iPos+=1,o.fPos+=1;break;case 2:case 15:o.oPos+=4,o.iiPos+=2,o.ffPos+=1,o.fPos+=1;break;case 3:case 19:case 20:o.oPos+=1;break;case 4:o.fPos+=6;break;case 5:case 7:case 9:o.fPos+=4;break;case 6:o.fPos+=3;break;case 8:o.oPos+=3;break;case 10:o.fPos+=5,o.oPos+=1;break;case 12:o.oPos+=4;break;case 16:o.oPos+=4,o.iPos+=1,o.fPos+=2,o.bPos+=1;break;case 17:case 18:o.fPos+=2}o.prev=ma.BEGIN_GRADIENT_FILL,D.fillCommands.beginGradientFill((f=o).buffer.o[f.oPos],f.buffer.ii[f.iiPos],f.buffer.ff[f.ffPos],f.buffer.ii[f.iiPos+1],f.buffer.o[f.oPos+1],f.buffer.o[f.oPos+2],f.buffer.o[f.oPos+3],f.buffer.f[f.fPos]),D.strokeCommands.beginGradientFill(f.buffer.o[f.oPos],f.buffer.ii[f.iiPos],f.buffer.ff[f.ffPos],f.buffer.ii[f.iiPos+1],f.buffer.o[f.oPos+1],f.buffer.o[f.oPos+2],f.buffer.o[f.oPos+3],f.buffer.f[f.fPos])}else if(f==ma.BEGIN_SHADER_FILL){switch(o.prev._hx_index){case 0:case 14:o.oPos+=2,o.bPos+=2;break;case 1:o.iPos+=1,o.fPos+=1;break;case 2:case 15:o.oPos+=4,o.iiPos+=2,o.ffPos+=1,o.fPos+=1;break;case 3:case 19:case 20:o.oPos+=1;break;case 4:o.fPos+=6;break;case 5:case 7:case 9:o.fPos+=4;break;case 6:o.fPos+=3;break;case 8:o.oPos+=3;break;case 10:o.fPos+=5,o.oPos+=1;break;case 12:o.oPos+=4;break;case 16:o.oPos+=4,o.iPos+=1,o.fPos+=2,o.bPos+=1;break;case 17:case 18:o.fPos+=2}o.prev=ma.BEGIN_SHADER_FILL,D.fillCommands.beginShaderFill((f=o).buffer.o[f.oPos]),D.strokeCommands.beginShaderFill(f.buffer.o[f.oPos])}else{switch(o.prev._hx_index){case 0:case 14:o.oPos+=2,o.bPos+=2;break;case 1:o.iPos+=1,o.fPos+=1;break;case 2:case 15:o.oPos+=4,o.iiPos+=2,o.ffPos+=1,o.fPos+=1;break;case 3:case 19:case 20:o.oPos+=1;break;case 4:o.fPos+=6;break;case 5:case 7:case 9:o.fPos+=4;break;case 6:o.fPos+=3;break;case 8:o.oPos+=3;break;case 10:o.fPos+=5,o.oPos+=1;break;case 12:o.oPos+=4;break;case 16:o.oPos+=4,o.iPos+=1,o.fPos+=2,o.bPos+=1;break;case 17:case 18:o.fPos+=2}o.prev=ma.BEGIN_FILL,D.fillCommands.beginFill((f=o).buffer.i[f.iPos],f.buffer.f[f.fPos]),D.strokeCommands.beginFill(f.buffer.i[f.iPos],f.buffer.f[f.fPos])}break;case 4:switch(o.prev._hx_index){case 0:case 14:o.oPos+=2,o.bPos+=2;break;case 1:o.iPos+=1,o.fPos+=1;break;case 2:case 15:o.oPos+=4,o.iiPos+=2,o.ffPos+=1,o.fPos+=1;break;case 3:case 19:case 20:o.oPos+=1;break;case 4:o.fPos+=6;break;case 5:case 7:case 9:o.fPos+=4;break;case 6:o.fPos+=3;break;case 8:o.oPos+=3;break;case 10:o.fPos+=5,o.oPos+=1;break;case 12:o.oPos+=4;break;case 16:o.oPos+=4,o.iPos+=1,o.fPos+=2,o.bPos+=1;break;case 17:case 18:o.fPos+=2}o.prev=ma.CUBIC_CURVE_TO,D.fillCommands.cubicCurveTo((f=o).buffer.f[f.fPos],f.buffer.f[f.fPos+1],f.buffer.f[f.fPos+2],f.buffer.f[f.fPos+3],f.buffer.f[f.fPos+4],f.buffer.f[f.fPos+5]),_?D.strokeCommands.cubicCurveTo(f.buffer.f[f.fPos],f.buffer.f[f.fPos+1],f.buffer.f[f.fPos+2],f.buffer.f[f.fPos+3],f.buffer.f[f.fPos+4],f.buffer.f[f.fPos+5]):(s=f.buffer.f[f.fPos+4],n=f.buffer.f[f.fPos+5]);break;case 5:switch(o.prev._hx_index){case 0:case 14:o.oPos+=2,o.bPos+=2;break;case 1:o.iPos+=1,o.fPos+=1;break;case 2:case 15:o.oPos+=4,o.iiPos+=2,o.ffPos+=1,o.fPos+=1;break;case 3:case 19:case 20:o.oPos+=1;break;case 4:o.fPos+=6;break;case 5:case 7:case 9:o.fPos+=4;break;case 6:o.fPos+=3;break;case 8:o.oPos+=3;break;case 10:o.fPos+=5,o.oPos+=1;break;case 12:o.oPos+=4;break;case 16:o.oPos+=4,o.iPos+=1,o.fPos+=2,o.bPos+=1;break;case 17:case 18:o.fPos+=2}o.prev=ma.CURVE_TO,D.fillCommands.curveTo((f=o).buffer.f[f.fPos],f.buffer.f[f.fPos+1],f.buffer.f[f.fPos+2],f.buffer.f[f.fPos+3]),_?D.strokeCommands.curveTo(f.buffer.f[f.fPos],f.buffer.f[f.fPos+1],f.buffer.f[f.fPos+2],f.buffer.f[f.fPos+3]):(s=f.buffer.f[f.fPos+2],n=f.buffer.f[f.fPos+3]);break;case 6:switch(o.prev._hx_index){case 0:case 14:o.oPos+=2,o.bPos+=2;break;case 1:o.iPos+=1,o.fPos+=1;break;case 2:case 15:o.oPos+=4,o.iiPos+=2,o.ffPos+=1,o.fPos+=1;break;case 3:case 19:case 20:o.oPos+=1;break;case 4:o.fPos+=6;break;case 5:case 7:case 9:o.fPos+=4;break;case 6:o.fPos+=3;break;case 8:o.oPos+=3;break;case 10:o.fPos+=5,o.oPos+=1;break;case 12:o.oPos+=4;break;case 16:o.oPos+=4,o.iPos+=1,o.fPos+=2,o.bPos+=1;break;case 17:case 18:o.fPos+=2}o.prev=ma.DRAW_CIRCLE,D.fillCommands.drawCircle((f=o).buffer.f[f.fPos],f.buffer.f[f.fPos+1],f.buffer.f[f.fPos+2]),_&&D.strokeCommands.drawCircle(f.buffer.f[f.fPos],f.buffer.f[f.fPos+1],f.buffer.f[f.fPos+2]);break;case 7:switch(o.prev._hx_index){case 0:case 14:o.oPos+=2,o.bPos+=2;break;case 1:o.iPos+=1,o.fPos+=1;break;case 2:case 15:o.oPos+=4,o.iiPos+=2,o.ffPos+=1,o.fPos+=1;break;case 3:case 19:case 20:o.oPos+=1;break;case 4:o.fPos+=6;break;case 5:case 7:case 9:o.fPos+=4;break;case 6:o.fPos+=3;break;case 8:o.oPos+=3;break;case 10:o.fPos+=5,o.oPos+=1;break;case 12:o.oPos+=4;break;case 16:o.oPos+=4,o.iPos+=1,o.fPos+=2,o.bPos+=1;break;case 17:case 18:o.fPos+=2}o.prev=ma.DRAW_ELLIPSE,D.fillCommands.drawEllipse((f=o).buffer.f[f.fPos],f.buffer.f[f.fPos+1],f.buffer.f[f.fPos+2],f.buffer.f[f.fPos+3]),_&&D.strokeCommands.drawEllipse(f.buffer.f[f.fPos],f.buffer.f[f.fPos+1],f.buffer.f[f.fPos+2],f.buffer.f[f.fPos+3]);break;case 8:switch(o.prev._hx_index){case 0:case 14:o.oPos+=2,o.bPos+=2;break;case 1:o.iPos+=1,o.fPos+=1;break;case 2:case 15:o.oPos+=4,o.iiPos+=2,o.ffPos+=1,o.fPos+=1;break;case 3:case 19:case 20:o.oPos+=1;break;case 4:o.fPos+=6;break;case 5:case 7:case 9:o.fPos+=4;break;case 6:o.fPos+=3;break;case 8:o.oPos+=3;break;case 10:o.fPos+=5,o.oPos+=1;break;case 12:o.oPos+=4;break;case 16:o.oPos+=4,o.iPos+=1,o.fPos+=2,o.bPos+=1;break;case 17:case 18:o.fPos+=2}o.prev=ma.DRAW_QUADS,D.fillCommands.drawQuads((f=o).buffer.o[f.oPos],f.buffer.o[f.oPos+1],f.buffer.o[f.oPos+2]);break;case 9:switch(o.prev._hx_index){case 0:case 14:o.oPos+=2,o.bPos+=2;break;case 1:o.iPos+=1,o.fPos+=1;break;case 2:case 15:o.oPos+=4,o.iiPos+=2,o.ffPos+=1,o.fPos+=1;break;case 3:case 19:case 20:o.oPos+=1;break;case 4:o.fPos+=6;break;case 5:case 7:case 9:o.fPos+=4;break;case 6:o.fPos+=3;break;case 8:o.oPos+=3;break;case 10:o.fPos+=5,o.oPos+=1;break;case 12:o.oPos+=4;break;case 16:o.oPos+=4,o.iPos+=1,o.fPos+=2,o.bPos+=1;break;case 17:case 18:o.fPos+=2}o.prev=ma.DRAW_RECT,D.fillCommands.drawRect((f=o).buffer.f[f.fPos],f.buffer.f[f.fPos+1],f.buffer.f[f.fPos+2],f.buffer.f[f.fPos+3]),_&&D.strokeCommands.drawRect(f.buffer.f[f.fPos],f.buffer.f[f.fPos+1],f.buffer.f[f.fPos+2],f.buffer.f[f.fPos+3]);break;case 10:switch(o.prev._hx_index){case 0:case 14:o.oPos+=2,o.bPos+=2;break;case 1:o.iPos+=1,o.fPos+=1;break;case 2:case 15:o.oPos+=4,o.iiPos+=2,o.ffPos+=1,o.fPos+=1;break;case 3:case 19:case 20:o.oPos+=1;break;case 4:o.fPos+=6;break;case 5:case 7:case 9:o.fPos+=4;break;case 6:o.fPos+=3;break;case 8:o.oPos+=3;break;case 10:o.fPos+=5,o.oPos+=1;break;case 12:o.oPos+=4;break;case 16:o.oPos+=4,o.iPos+=1,o.fPos+=2,o.bPos+=1;break;case 17:case 18:o.fPos+=2}o.prev=ma.DRAW_ROUND_RECT,D.fillCommands.drawRoundRect((f=o).buffer.f[f.fPos],f.buffer.f[f.fPos+1],f.buffer.f[f.fPos+2],f.buffer.f[f.fPos+3],f.buffer.f[f.fPos+4],f.buffer.o[f.oPos]),_&&D.strokeCommands.drawRoundRect(f.buffer.f[f.fPos],f.buffer.f[f.fPos+1],f.buffer.f[f.fPos+2],f.buffer.f[f.fPos+3],f.buffer.f[f.fPos+4],f.buffer.o[f.oPos]);break;case 12:switch(o.prev._hx_index){case 0:case 14:o.oPos+=2,o.bPos+=2;break;case 1:o.iPos+=1,o.fPos+=1;break;case 2:case 15:o.oPos+=4,o.iiPos+=2,o.ffPos+=1,o.fPos+=1;break;case 3:case 19:case 20:o.oPos+=1;break;case 4:o.fPos+=6;break;case 5:case 7:case 9:o.fPos+=4;break;case 6:o.fPos+=3;break;case 8:o.oPos+=3;break;case 10:o.fPos+=5,o.oPos+=1;break;case 12:o.oPos+=4;break;case 16:o.oPos+=4,o.iPos+=1,o.fPos+=2,o.bPos+=1;break;case 17:case 18:o.fPos+=2}o.prev=ma.DRAW_TRIANGLES,D.fillCommands.drawTriangles((f=o).buffer.o[f.oPos],f.buffer.o[f.oPos+1],f.buffer.o[f.oPos+2],f.buffer.o[f.oPos+3]);break;case 13:switch(o.prev._hx_index){case 0:case 14:o.oPos+=2,o.bPos+=2;break;case 1:o.iPos+=1,o.fPos+=1;break;case 2:case 15:o.oPos+=4,o.iiPos+=2,o.ffPos+=1,o.fPos+=1;break;case 3:case 19:case 20:o.oPos+=1;break;case 4:o.fPos+=6;break;case 5:case 7:case 9:o.fPos+=4;break;case 6:o.fPos+=3;break;case 8:o.oPos+=3;break;case 10:o.fPos+=5,o.oPos+=1;break;case 12:o.oPos+=4;break;case 16:o.oPos+=4,o.iPos+=1,o.fPos+=2,o.bPos+=1;break;case 17:case 18:o.fPos+=2}o.prev=ma.END_FILL,D.endFill(),D.endStroke(),_=D.hasFill=!1,D.bitmapFill=null,n=s=0;break;case 14:switch(o.prev._hx_index){case 0:case 14:o.oPos+=2,o.bPos+=2;break;case 1:o.iPos+=1,o.fPos+=1;break;case 2:case 15:o.oPos+=4,o.iiPos+=2,o.ffPos+=1,o.fPos+=1;break;case 3:case 19:case 20:o.oPos+=1;break;case 4:o.fPos+=6;break;case 5:case 7:case 9:o.fPos+=4;break;case 6:o.fPos+=3;break;case 8:o.oPos+=3;break;case 10:o.fPos+=5,o.oPos+=1;break;case 12:o.oPos+=4;break;case 16:o.oPos+=4,o.iPos+=1,o.fPos+=2,o.bPos+=1;break;case 17:case 18:o.fPos+=2}o.prev=ma.LINE_BITMAP_STYLE,f=o,_||0==s&&0==n||(D.strokeCommands.moveTo(s,n),n=s=0),_=!0,D.strokeCommands.lineBitmapStyle(f.buffer.o[f.oPos],f.buffer.o[f.oPos+1],f.buffer.b[f.bPos],f.buffer.b[f.bPos+1]);break;case 15:switch(o.prev._hx_index){case 0:case 14:o.oPos+=2,o.bPos+=2;break;case 1:o.iPos+=1,o.fPos+=1;break;case 2:case 15:o.oPos+=4,o.iiPos+=2,o.ffPos+=1,o.fPos+=1;break;case 3:case 19:case 20:o.oPos+=1;break;case 4:o.fPos+=6;break;case 5:case 7:case 9:o.fPos+=4;break;case 6:o.fPos+=3;break;case 8:o.oPos+=3;break;case 10:o.fPos+=5,o.oPos+=1;break;case 12:o.oPos+=4;break;case 16:o.oPos+=4,o.iPos+=1,o.fPos+=2,o.bPos+=1;break;case 17:case 18:o.fPos+=2}o.prev=ma.LINE_GRADIENT_STYLE,f=o,_||0==s&&0==n||(D.strokeCommands.moveTo(s,n),n=s=0),_=!0,D.strokeCommands.lineGradientStyle(f.buffer.o[f.oPos],f.buffer.ii[f.iiPos],f.buffer.ff[f.ffPos],f.buffer.ii[f.iiPos+1],f.buffer.o[f.oPos+1],f.buffer.o[f.oPos+2],f.buffer.o[f.oPos+3],f.buffer.f[f.fPos]);break;case 16:switch(o.prev._hx_index){case 0:case 14:o.oPos+=2,o.bPos+=2;break;case 1:o.iPos+=1,o.fPos+=1;break;case 2:case 15:o.oPos+=4,o.iiPos+=2,o.ffPos+=1,o.fPos+=1;break;case 3:case 19:case 20:o.oPos+=1;break;case 4:o.fPos+=6;break;case 5:case 7:case 9:o.fPos+=4;break;case 6:o.fPos+=3;break;case 8:o.oPos+=3;break;case 10:o.fPos+=5,o.oPos+=1;break;case 12:o.oPos+=4;break;case 16:o.oPos+=4,o.iPos+=1,o.fPos+=2,o.bPos+=1;break;case 17:case 18:o.fPos+=2}o.prev=ma.LINE_STYLE,f=o,_||null==f.buffer.o[f.oPos]||0==s&&0==n||(D.strokeCommands.moveTo(s,n),n=s=0),_=null!=f.buffer.o[f.oPos],D.strokeCommands.lineStyle(f.buffer.o[f.oPos],f.buffer.i[f.iPos],f.buffer.f[f.fPos],f.buffer.b[f.bPos],f.buffer.o[f.oPos+1],f.buffer.o[f.oPos+2],f.buffer.o[f.oPos+3],f.buffer.f[f.fPos+1]);break;case 17:switch(o.prev._hx_index){case 0:case 14:o.oPos+=2,o.bPos+=2;break;case 1:o.iPos+=1,o.fPos+=1;break;case 2:case 15:o.oPos+=4,o.iiPos+=2,o.ffPos+=1,o.fPos+=1;break;case 3:case 19:case 20:o.oPos+=1;break;case 4:o.fPos+=6;break;case 5:case 7:case 9:o.fPos+=4;break;case 6:o.fPos+=3;break;case 8:o.oPos+=3;break;case 10:o.fPos+=5,o.oPos+=1;break;case 12:o.oPos+=4;break;case 16:o.oPos+=4,o.iPos+=1,o.fPos+=2,o.bPos+=1;break;case 17:case 18:o.fPos+=2}o.prev=ma.LINE_TO,D.fillCommands.lineTo((f=o).buffer.f[f.fPos],f.buffer.f[f.fPos+1]),_?D.strokeCommands.lineTo(f.buffer.f[f.fPos],f.buffer.f[f.fPos+1]):(s=f.buffer.f[f.fPos],n=f.buffer.f[f.fPos+1]);break;case 18:switch(o.prev._hx_index){case 0:case 14:o.oPos+=2,o.bPos+=2;break;case 1:o.iPos+=1,o.fPos+=1;break;case 2:case 15:o.oPos+=4,o.iiPos+=2,o.ffPos+=1,o.fPos+=1;break;case 3:case 19:case 20:o.oPos+=1;break;case 4:o.fPos+=6;break;case 5:case 7:case 9:o.fPos+=4;break;case 6:o.fPos+=3;break;case 8:o.oPos+=3;break;case 10:o.fPos+=5,o.oPos+=1;break;case 12:o.oPos+=4;break;case 16:o.oPos+=4,o.iPos+=1,o.fPos+=2,o.bPos+=1;break;case 17:case 18:o.fPos+=2}o.prev=ma.MOVE_TO,D.fillCommands.moveTo((f=o).buffer.f[f.fPos],f.buffer.f[f.fPos+1]),_?D.strokeCommands.moveTo(f.buffer.f[f.fPos],f.buffer.f[f.fPos+1]):(s=f.buffer.f[f.fPos],n=f.buffer.f[f.fPos+1]);break;case 19:switch(o.prev._hx_index){case 0:case 14:o.oPos+=2,o.bPos+=2;break;case 1:o.iPos+=1,o.fPos+=1;break;case 2:case 15:o.oPos+=4,o.iiPos+=2,o.ffPos+=1,o.fPos+=1;break;case 3:case 19:case 20:o.oPos+=1;break;case 4:o.fPos+=6;break;case 5:case 7:case 9:o.fPos+=4;break;case 6:o.fPos+=3;break;case 8:o.oPos+=3;break;case 10:o.fPos+=5,o.oPos+=1;break;case 12:o.oPos+=4;break;case 16:o.oPos+=4,o.iPos+=1,o.fPos+=2,o.bPos+=1;break;case 17:case 18:o.fPos+=2}o.prev=ma.OVERRIDE_BLEND_MODE,i.__setBlendModeContext(D.context,(f=o).buffer.o[f.oPos]);break;case 21:switch(o.prev._hx_index){case 0:case 14:o.oPos+=2,o.bPos+=2;break;case 1:o.iPos+=1,o.fPos+=1;break;case 2:case 15:o.oPos+=4,o.iiPos+=2,o.ffPos+=1,o.fPos+=1;break;case 3:case 19:case 20:o.oPos+=1;break;case 4:o.fPos+=6;break;case 5:case 7:case 9:o.fPos+=4;break;case 6:o.fPos+=3;break;case 8:o.oPos+=3;break;case 10:o.fPos+=5,o.oPos+=1;break;case 12:o.oPos+=4;break;case 16:o.oPos+=4,o.iPos+=1,o.fPos+=2,o.bPos+=1;break;case 17:case 18:o.fPos+=2}o.prev=ma.WINDING_EVEN_ODD,D.fillCommands.windingEvenOdd(),D.windingRule="evenodd";break;case 22:switch(o.prev._hx_index){case 0:case 14:o.oPos+=2,o.bPos+=2;break;case 1:o.iPos+=1,o.fPos+=1;break;case 2:case 15:o.oPos+=4,o.iiPos+=2,o.ffPos+=1,o.fPos+=1;break;case 3:case 19:case 20:o.oPos+=1;break;case 4:o.fPos+=6;break;case 5:case 7:case 9:o.fPos+=4;break;case 6:o.fPos+=3;break;case 8:o.oPos+=3;break;case 10:o.fPos+=5,o.oPos+=1;break;case 12:o.oPos+=4;break;case 16:o.oPos+=4,o.iPos+=1,o.fPos+=2,o.bPos+=1;break;case 17:case 18:o.fPos+=2}o.prev=ma.WINDING_NON_ZERO,D.fillCommands.windingNonZero(),D.windingRule="nonzero";break;default:switch(o.prev._hx_index){case 0:case 14:o.oPos+=2,o.bPos+=2;break;case 1:o.iPos+=1,o.fPos+=1;break;case 2:case 15:o.oPos+=4,o.iiPos+=2,o.ffPos+=1,o.fPos+=1;break;case 3:case 19:case 20:o.oPos+=1;break;case 4:o.fPos+=6;break;case 5:case 7:case 9:o.fPos+=4;break;case 6:o.fPos+=3;break;case 8:o.oPos+=3;break;case 10:o.fPos+=5,o.oPos+=1;break;case 12:o.oPos+=4;break;case 16:o.oPos+=4,o.iPos+=1,o.fPos+=2,o.bPos+=1;break;case 17:case 18:o.fPos+=2}o.prev=f}}0<D.fillCommands.get_length()&&D.endFill(),0<D.strokeCommands.get_length()&&D.endStroke(),o.destroy(),e.__bitmap=pa.fromCanvas(e.__canvas)}e.__softwareDirty=!1,e.set___dirty(!1)}},D.renderMask=function(e,i){if(0!=e.__commands.get_length()){D.context=i.context,i=new vg(e.__commands);var s=e.__commands.types,n=0;for(e=e.__commands.get_length();n<e;){var o=n++;switch((o=s[o])._hx_index){case 4:switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=ma.CUBIC_CURVE_TO,D.context.bezierCurveTo((o=i).buffer.f[o.fPos]-0,o.buffer.f[o.fPos+1]-0,o.buffer.f[o.fPos+2]-0,o.buffer.f[o.fPos+3]-0,o.buffer.f[o.fPos+4]-0,o.buffer.f[o.fPos+5]-0);break;case 5:switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=ma.CURVE_TO,D.context.quadraticCurveTo((o=i).buffer.f[o.fPos]-0,o.buffer.f[o.fPos+1]-0,o.buffer.f[o.fPos+2]-0,o.buffer.f[o.fPos+3]-0);break;case 6:switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=ma.DRAW_CIRCLE,D.context.arc((o=i).buffer.f[o.fPos]-0,o.buffer.f[o.fPos+1]-0,o.buffer.f[o.fPos+2],0,2*Math.PI,!0);break;case 7:switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=ma.DRAW_ELLIPSE;var l=i;o=l.buffer.f[l.fPos];var _=l.buffer.f[l.fPos+1],h=l.buffer.f[l.fPos+2],m=l.buffer.f[l.fPos+3];l=h/2*.5522848;var f=m/2*.5522848,y=(o-=0)+h,g=(_-=0)+m;h=o+h/2,D.context.moveTo(o,m=_+m/2),D.context.bezierCurveTo(o,m-f,h-l,_,h,_),D.context.bezierCurveTo(h+l,_,y,m-f,y,m),D.context.bezierCurveTo(y,m+f,h+l,g,h,g),D.context.bezierCurveTo(h-l,g,o,m+f,o,m);break;case 9:switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=ma.DRAW_RECT,o=i,D.context.beginPath(),D.context.rect(o.buffer.f[o.fPos]-0,o.buffer.f[o.fPos+1]-0,o.buffer.f[o.fPos+2],o.buffer.f[o.fPos+3]),D.context.closePath();break;case 10:switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=ma.DRAW_ROUND_RECT,D.drawRoundRect((o=i).buffer.f[o.fPos]-0,o.buffer.f[o.fPos+1]-0,o.buffer.f[o.fPos+2],o.buffer.f[o.fPos+3],o.buffer.f[o.fPos+4],o.buffer.o[o.oPos]);break;case 17:switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=ma.LINE_TO,D.context.lineTo((o=i).buffer.f[o.fPos]-0,o.buffer.f[o.fPos+1]-0);break;case 18:switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=ma.MOVE_TO,D.context.moveTo((o=i).buffer.f[o.fPos]-0,o.buffer.f[o.fPos+1]-0);break;default:switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=o}}i.destroy()}},D.setSmoothing=function(e){D.allowSmoothing||(e=!1),D.context.imageSmoothingEnabled!=e&&(D.context.imageSmoothingEnabled=e)};var Xi=function(e){this.pixelRatio=1,hf.call(this),this.context=e};k["openfl.display.CanvasRenderer"]=Xi,Xi.__name__="openfl.display.CanvasRenderer",Xi.__super__=hf,Xi.prototype=x(hf.prototype,{context:null,pixelRatio:null,applySmoothing:function(e,i){},setTransform:function(e,i){},__class__:Xi});var ih=function(e){Xi.call(this,e),this.__colorTransform=new Tb,this.__transform=new Fa,this.__type="canvas"};k["openfl._internal.renderer.canvas.CanvasRenderer"]=ih,ih.__name__="openfl._internal.renderer.canvas.CanvasRenderer",ih.__super__=Xi,ih.prototype=x(Xi.prototype,{__colorTransform:null,__domRenderer:null,__transform:null,applySmoothing:function(e,i){e.imageSmoothingEnabled=i},setTransform:function(e,i){null==i?i=this.context:this.context==i&&null!=this.__worldTransform&&(this.__transform.copyFrom(e),this.__transform.concat(this.__worldTransform),e=this.__transform),this.__roundPixels?i.setTransform(e.a,e.b,e.c,e.d,0|e.tx,0|e.ty):i.setTransform(e.a,e.b,e.c,e.d,e.tx,e.ty)},__clear:function(){if(null!=this.__stage){var e=this.__blendMode;this.__blendMode=null,this.__setBlendMode(10),this.context.setTransform(1,0,0,1,0,0),this.context.globalAlpha=1,!this.__stage.__transparent&&this.__stage.__clearBeforeRender?(this.context.fillStyle=this.__stage.__colorString,this.context.fillRect(0,0,this.__stage.stageWidth*this.__stage.window.__scale,this.__stage.stageHeight*this.__stage.window.__scale)):this.__stage.__transparent&&this.__stage.__clearBeforeRender&&this.context.clearRect(0,0,this.__stage.stageWidth*this.__stage.window.__scale,this.__stage.stageHeight*this.__stage.window.__scale),this.__setBlendMode(e)}},__drawBitmapData:function(e,i,s){null!=s&&this.__pushMaskRect(s,i.__renderTransform);var n=e.image.buffer;this.__allowSmoothing||this.applySmoothing(n.__srcContext,!1),this.__render(i),this.__allowSmoothing||this.applySmoothing(n.__srcContext,!0),n.__srcContext.setTransform(1,0,0,1,0,0),n.__srcImageData=null,n.data=null,e.image.dirty=!0,e.image.version++,null!=s&&this.__popMaskRect()},__getAlpha:function(e){return e*this.__worldAlpha},__getColorTransform:function(e){return null!=this.__worldColorTransform?(this.__colorTransform.__copyFrom(this.__worldColorTransform),this.__colorTransform.__combine(e),this.__colorTransform):e},__popMask:function(){this.context.restore()},__popMaskObject:function(e,i){null==i&&(i=!0),e.__isCacheBitmapRender||null==e.__mask||this.__popMask(),i&&null!=e.__scrollRect&&this.__popMaskRect()},__popMaskRect:function(){this.context.restore()},__pushMask:function(e){this.context.save(),this.setTransform(e.__renderTransform,this.context),this.context.beginPath(),this.__renderMask(e),this.context.closePath(),this.context.clip()},__pushMaskObject:function(e,i){null==i&&(i=!0),i&&null!=e.__scrollRect&&this.__pushMaskRect(e.__scrollRect,e.__renderTransform),e.__isCacheBitmapRender||null==e.__mask||this.__pushMask(e.__mask)},__pushMaskRect:function(e,i){this.context.save(),this.setTransform(i,this.context),this.context.beginPath(),this.context.rect(e.x,e.y,e.width,e.height),this.context.clip()},__render:function(e){null!=e&&(null!=e.__type?this.__renderDisplayObject(e):this.__renderBitmapData(e))},__renderBitmap:function(e){if(this.__updateCacheBitmap(e,!1),null!=e.__bitmapData&&null!=e.__bitmapData.image&&(e.__imageVersion=e.__bitmapData.image.version),null==e.__cacheBitmap||e.__isCacheBitmapRender){if(!(null==e.opaqueBackground&&null==e.__graphics||!e.__renderable||0>=this.__getAlpha(e.__worldAlpha))){if(null!=e.opaqueBackground&&!e.__isCacheBitmapRender&&0<e.get_width()&&0<e.get_height()){this.__setBlendMode(e.__worldBlendMode),this.__pushMaskObject(e);var i=this.context;this.setTransform(e.__renderTransform,i);var s=e.opaqueBackground;i.fillStyle="rgb("+(s>>>16&255)+","+(s>>>8&255)+","+(255&s)+")",i.fillRect(0,0,e.get_width(),e.get_height()),this.__popMaskObject(e)}if(null!=e.__graphics&&e.__renderable){var n=this.__getAlpha(e.__worldAlpha);if(!(0>=n)){var o=e.__graphics;if(null!=o){D.render(o,this);var l=o.__width,_=o.__height;if(null!=(i=o.__canvas)&&o.__visible&&1<=l&&1<=_){var h=o.__worldTransform;s=this.context;var m=e.__scrollRect,f=e.__worldScale9Grid;if(null==m||0<m.width&&0<m.height){if(this.__setBlendMode(e.__worldBlendMode),this.__pushMaskObject(e),s.globalAlpha=n,null!=f&&0==h.b&&0==h.c){s.setTransform(1,0,0,1,h.tx,h.ty);var y=o.__bounds,g=o.__renderTransform.a,j=o.__renderTransform.d,$=h.a,yt=h.d;h=Math.max(1,Math.round(f.x*g)),o=Math.round(f.y*j),n=Math.max(1,Math.round((y.get_right()-f.get_right())*g)),m=Math.round((y.get_bottom()-f.get_bottom())*j),g=Math.round(f.width*g),j=Math.round(f.height*j);var _t=Math.round(f.x*$),xt=Math.round(f.y*yt),Tt=Math.round((y.get_right()-f.get_right())*$);f=Math.round((y.get_bottom()-f.get_bottom())*yt),y=Math.round(l*$)-_t-Tt,$=Math.round(_*yt)-xt-f,this.applySmoothing(s,!1),0!=g&&0!=j?(s.drawImage(i,0,0,h,o,0,0,_t,xt),s.drawImage(i,h,0,g,o,_t,0,y,xt),s.drawImage(i,h+g,0,n,o,_t+y,0,Tt,xt),s.drawImage(i,0,o,h,j,0,xt,_t,$),s.drawImage(i,h,o,g,j,_t,xt,y,$),s.drawImage(i,h+g,o,n,j,_t+y,xt,Tt,$),s.drawImage(i,0,o+j,h,m,0,xt+$,_t,f),s.drawImage(i,h,o+j,g,m,_t,xt+$,y,f),s.drawImage(i,h+g,o+j,n,m,_t+y,xt+$,Tt,f)):0==g&&0!=j?(s.drawImage(i,0,0,l,o,0,0,_=_t+y+Tt,xt),s.drawImage(i,0,o,l,j,0,xt,_,$),s.drawImage(i,0,o+j,l,m,0,xt+$,_,f)):0==j&&0!=g&&(s.drawImage(i,0,0,h,_,0,0,_t,l=xt+$+f),s.drawImage(i,h,0,g,_,_t,0,y,l),s.drawImage(i,h+g,0,n,_,_t+y,0,Tt,l))}else this.setTransform(h,s),null!=this.__domRenderer&&s.scale(f=1/this.pixelRatio,f),s.drawImage(i,0,0,l,_);this.__popMaskObject(e)}}}}}}e.__renderable&&0<(s=this.__getAlpha(e.__worldAlpha))&&null!=e.__bitmapData&&e.__bitmapData.__isValid&&e.__bitmapData.readable&&(i=this.context,this.__setBlendMode(e.__worldBlendMode),this.__pushMaskObject(e,!1),za.convertToCanvas(e.__bitmapData.image),i.globalAlpha=s,s=e.__scrollRect,this.setTransform(e.__renderTransform,i),this.__allowSmoothing&&e.smoothing||(i.imageSmoothingEnabled=!1),null==s?i.drawImage(e.__bitmapData.image.get_src(),0,0,e.__bitmapData.image.width,e.__bitmapData.image.height):i.drawImage(e.__bitmapData.image.get_src(),s.x,s.y,s.width,s.height),this.__allowSmoothing&&e.smoothing||(i.imageSmoothingEnabled=!0),this.__popMaskObject(e,!1))}else(e=e.__cacheBitmap).__renderable&&0<(s=this.__getAlpha(e.__worldAlpha))&&null!=e.__bitmapData&&e.__bitmapData.__isValid&&e.__bitmapData.readable&&(i=this.context,this.__setBlendMode(e.__worldBlendMode),this.__pushMaskObject(e,!1),za.convertToCanvas(e.__bitmapData.image),i.globalAlpha=s,s=e.__scrollRect,this.setTransform(e.__renderTransform,i),this.__allowSmoothing&&e.smoothing||(i.imageSmoothingEnabled=!1),null==s?i.drawImage(e.__bitmapData.image.get_src(),0,0,e.__bitmapData.image.width,e.__bitmapData.image.height):i.drawImage(e.__bitmapData.image.get_src(),s.x,s.y,s.width,s.height),this.__allowSmoothing&&e.smoothing||(i.imageSmoothingEnabled=!0),this.__popMaskObject(e,!1))},__renderBitmapData:function(e){e.readable&&(e.image.type==If.DATA&&za.convertToCanvas(e.image),this.context.globalAlpha=1,this.setTransform(e.__renderTransform,this.context),this.context.drawImage(e.image.get_src(),0,0,e.image.width,e.image.height))},__renderDisplayObject:function(e){if(null!=e&&null!=e.__type){switch(e.__type._hx_index){case 0:this.__renderBitmap(e);break;case 2:this.__renderDisplayObjectContainer(e);break;case 1:case 4:this.__renderShape(e);break;case 5:this.__renderSimpleButton(e);break;case 6:this.__renderTextField(e);break;case 7:this.__renderTilemap(e);break;case 8:this.__renderVideo(e)}if(null!=e.__customRenderEvent){var i=e.__customRenderEvent;i.allowSmoothing=this.__allowSmoothing,i.objectMatrix.copyFrom(e.__renderTransform),i.objectColorTransform.__copyFrom(e.__worldColorTransform),i.renderer=this,i.type="renderCanvas",this.__setBlendMode(e.__worldBlendMode),this.__pushMaskObject(e),e.dispatchEvent(i),this.__popMaskObject(e)}}},__renderDisplayObjectContainer:function(e){if(null==this.__domRenderer){for(var i=e.__removedChildren.iterator();i.hasNext();){var s=i.next();null==s.stage&&s.__cleanup()}e.__removedChildren.set_length(0)}if(!(!e.__renderable||0>=e.__worldAlpha||null!=e.get_mask()&&(0>=e.get_mask().get_width()||0>=e.get_mask().get_height()))){if(this.__updateCacheBitmap(e,!1),null==e.__cacheBitmap||e.__isCacheBitmapRender){if(!(null==e.opaqueBackground&&null==e.__graphics||!e.__renderable||0>=this.__getAlpha(e.__worldAlpha))&&(null!=e.opaqueBackground&&!e.__isCacheBitmapRender&&0<e.get_width()&&0<e.get_height()&&(this.__setBlendMode(e.__worldBlendMode),this.__pushMaskObject(e),this.setTransform(e.__renderTransform,i=this.context),i.fillStyle="rgb("+((s=e.opaqueBackground)>>>16&255)+","+(s>>>8&255)+","+(255&s)+")",i.fillRect(0,0,e.get_width(),e.get_height()),this.__popMaskObject(e)),null!=e.__graphics&&e.__renderable)){var o=this.__getAlpha(e.__worldAlpha);if(!(0>=o)){var l=e.__graphics;if(null!=l){D.render(l,this),n=l.__width;var _=l.__height;if(null!=(i=l.__canvas)&&l.__visible&&1<=n&&1<=_){var h=l.__worldTransform;s=this.context;var m=e.__scrollRect,f=e.__worldScale9Grid;if(null==m||0<m.width&&0<m.height){if(this.__setBlendMode(e.__worldBlendMode),this.__pushMaskObject(e),s.globalAlpha=o,null!=f&&0==h.b&&0==h.c){s.setTransform(1,0,0,1,h.tx,h.ty);var y=l.__bounds,g=l.__renderTransform.a,j=l.__renderTransform.d,$=h.a,yt=h.d;h=Math.max(1,Math.round(f.x*g)),l=Math.round(f.y*j),o=Math.max(1,Math.round((y.get_right()-f.get_right())*g)),m=Math.round((y.get_bottom()-f.get_bottom())*j),g=Math.round(f.width*g),j=Math.round(f.height*j);var _t=Math.round(f.x*$),xt=Math.round(f.y*yt),Tt=Math.round((y.get_right()-f.get_right())*$);f=Math.round((y.get_bottom()-f.get_bottom())*yt),y=Math.round(n*$)-_t-Tt,$=Math.round(_*yt)-xt-f,this.applySmoothing(s,!1),0!=g&&0!=j?(s.drawImage(i,0,0,h,l,0,0,_t,xt),s.drawImage(i,h,0,g,l,_t,0,y,xt),s.drawImage(i,h+g,0,o,l,_t+y,0,Tt,xt),s.drawImage(i,0,l,h,j,0,xt,_t,$),s.drawImage(i,h,l,g,j,_t,xt,y,$),s.drawImage(i,h+g,l,o,j,_t+y,xt,Tt,$),s.drawImage(i,0,l+j,h,m,0,xt+$,_t,f),s.drawImage(i,h,l+j,g,m,_t,xt+$,y,f),s.drawImage(i,h+g,l+j,o,m,_t+y,xt+$,Tt,f)):0==g&&0!=j?(s.drawImage(i,0,0,n,l,0,0,_=_t+y+Tt,xt),s.drawImage(i,0,l,n,j,0,xt,_,$),s.drawImage(i,0,l+j,n,m,0,xt+$,_,f)):0==j&&0!=g&&(s.drawImage(i,0,0,h,_,0,0,_t,n=xt+$+f),s.drawImage(i,h,0,g,_,_t,0,y,n),s.drawImage(i,h+g,0,o,_,_t+y,0,Tt,n))}else this.setTransform(h,s),null!=this.__domRenderer&&s.scale(f=1/this.pixelRatio,f),s.drawImage(i,0,0,n,_);this.__popMaskObject(e)}}}}}}else if((i=e.__cacheBitmap).__renderable){var n=this.__getAlpha(i.__worldAlpha);0<n&&null!=i.__bitmapData&&i.__bitmapData.__isValid&&i.__bitmapData.readable&&(s=this.context,this.__setBlendMode(i.__worldBlendMode),this.__pushMaskObject(i,!1),za.convertToCanvas(i.__bitmapData.image),s.globalAlpha=n,n=i.__scrollRect,this.setTransform(i.__renderTransform,s),this.__allowSmoothing&&i.smoothing||(s.imageSmoothingEnabled=!1),null==n?s.drawImage(i.__bitmapData.image.get_src(),0,0,i.__bitmapData.image.width,i.__bitmapData.image.height):s.drawImage(i.__bitmapData.image.get_src(),n.x,n.y,n.width,n.height),this.__allowSmoothing&&i.smoothing||(s.imageSmoothingEnabled=!0),this.__popMaskObject(i,!1))}if(null==e.__cacheBitmap||e.__isCacheBitmapRender){if(this.__pushMaskObject(e),null!=this.__stage){for(i=0,s=e.__children;i<s.length;)n=s[i],++i,this.__renderDisplayObject(n),n.__renderDirty=!1;e.__renderDirty=!1}else for(i=0,s=e.__children;i<s.length;)n=s[i],++i,this.__renderDisplayObject(n);this.__popMaskObject(e)}}},__renderMask:function(e){if(null!=e)switch(e.__type._hx_index){case 0:this.context.rect(0,0,e.get_width(),e.get_height());break;case 2:if(null==this.__domRenderer){for(var i=e.__removedChildren.iterator();i.hasNext();){var s=i.next();null==s.stage&&s.__cleanup()}e.__removedChildren.set_length(0)}for(null!=e.__graphics&&D.renderMask(e.__graphics,this),i=0,e=e.__children;i<e.length;)s=e[i],++i,this.__renderMask(s);break;case 3:break;case 5:this.__renderMask(e.__currentState);break;default:null!=e.__graphics&&D.renderMask(e.__graphics,this)}},__renderShape:function(e){if(null==e.get_mask()||0<e.get_mask().get_width()&&0<e.get_mask().get_height())if(this.__updateCacheBitmap(e,!1),null==e.__cacheBitmap||e.__isCacheBitmapRender){if(!(null==e.opaqueBackground&&null==e.__graphics||!e.__renderable||0>=this.__getAlpha(e.__worldAlpha))&&(null!=e.opaqueBackground&&!e.__isCacheBitmapRender&&0<e.get_width()&&0<e.get_height()&&(this.__setBlendMode(e.__worldBlendMode),this.__pushMaskObject(e),this.setTransform(e.__renderTransform,s=this.context),s.fillStyle="rgb("+((i=e.opaqueBackground)>>>16&255)+","+(i>>>8&255)+","+(255&i)+")",s.fillRect(0,0,e.get_width(),e.get_height()),this.__popMaskObject(e)),null!=e.__graphics&&e.__renderable)){var n=this.__getAlpha(e.__worldAlpha);if(!(0>=n)){var o=e.__graphics;if(null!=o){D.render(o,this);var l=o.__width,_=o.__height;if(null!=(s=o.__canvas)&&o.__visible&&1<=l&&1<=_){var h=o.__worldTransform;i=this.context;var m=e.__scrollRect,f=e.__worldScale9Grid;if(null==m||0<m.width&&0<m.height){if(this.__setBlendMode(e.__worldBlendMode),this.__pushMaskObject(e),i.globalAlpha=n,null!=f&&0==h.b&&0==h.c){i.setTransform(1,0,0,1,h.tx,h.ty);var y=o.__bounds,g=o.__renderTransform.a,j=o.__renderTransform.d,$=h.a,yt=h.d;h=Math.max(1,Math.round(f.x*g)),o=Math.round(f.y*j),n=Math.max(1,Math.round((y.get_right()-f.get_right())*g)),m=Math.round((y.get_bottom()-f.get_bottom())*j),g=Math.round(f.width*g),j=Math.round(f.height*j);var _t=Math.round(f.x*$),xt=Math.round(f.y*yt),Tt=Math.round((y.get_right()-f.get_right())*$);f=Math.round((y.get_bottom()-f.get_bottom())*yt),y=Math.round(l*$)-_t-Tt,$=Math.round(_*yt)-xt-f,this.applySmoothing(i,!1),0!=g&&0!=j?(i.drawImage(s,0,0,h,o,0,0,_t,xt),i.drawImage(s,h,0,g,o,_t,0,y,xt),i.drawImage(s,h+g,0,n,o,_t+y,0,Tt,xt),i.drawImage(s,0,o,h,j,0,xt,_t,$),i.drawImage(s,h,o,g,j,_t,xt,y,$),i.drawImage(s,h+g,o,n,j,_t+y,xt,Tt,$),i.drawImage(s,0,o+j,h,m,0,xt+$,_t,f),i.drawImage(s,h,o+j,g,m,_t,xt+$,y,f),i.drawImage(s,h+g,o+j,n,m,_t+y,xt+$,Tt,f)):0==g&&0!=j?(i.drawImage(s,0,0,l,o,0,0,_=_t+y+Tt,xt),i.drawImage(s,0,o,l,j,0,xt,_,$),i.drawImage(s,0,o+j,l,m,0,xt+$,_,f)):0==j&&0!=g&&(i.drawImage(s,0,0,h,_,0,0,_t,l=xt+$+f),i.drawImage(s,h,0,g,_,_t,0,y,l),i.drawImage(s,h+g,0,n,_,_t+y,0,Tt,l))}else this.setTransform(h,i),null!=this.__domRenderer&&i.scale(f=1/this.pixelRatio,f),i.drawImage(s,0,0,l,_);this.__popMaskObject(e)}}}}}}else if((e=e.__cacheBitmap).__renderable){var i=this.__getAlpha(e.__worldAlpha);if(0<i&&null!=e.__bitmapData&&e.__bitmapData.__isValid&&e.__bitmapData.readable){var s=this.context;this.__setBlendMode(e.__worldBlendMode),this.__pushMaskObject(e,!1),za.convertToCanvas(e.__bitmapData.image),s.globalAlpha=i,i=e.__scrollRect,this.setTransform(e.__renderTransform,s),this.__allowSmoothing&&e.smoothing||(s.imageSmoothingEnabled=!1),null==i?s.drawImage(e.__bitmapData.image.get_src(),0,0,e.__bitmapData.image.width,e.__bitmapData.image.height):s.drawImage(e.__bitmapData.image.get_src(),i.x,i.y,i.width,i.height),this.__allowSmoothing&&e.smoothing||(s.imageSmoothingEnabled=!0),this.__popMaskObject(e,!1)}}},__renderSimpleButton:function(e){!e.__renderable||0>=e.__worldAlpha||null==e.__currentState||(this.__pushMaskObject(e),this.__renderDisplayObject(e.__currentState),this.__popMaskObject(e))},__renderTextField:function(e){if(null==this.__domRenderer||e.__renderedOnCanvasWhileOnDOM||(e.__renderedOnCanvasWhileOnDOM=!0,1==e.get_type()&&e.replaceText(0,e.__text.length,e.__text),e.__isHTML&&e.__updateText(ub.parse(e.__text,e.__textFormat,e.__textEngine.textFormatRanges)),e.__dirty=!0,e.__layoutDirty=!0,e.__renderDirty||(e.__renderDirty=!0,e.__setParentRenderDirty())),null==e.get_mask()||0<e.get_mask().get_width()&&0<e.get_mask().get_height())if(this.__updateCacheBitmap(e,!1),null==e.__cacheBitmap||e.__isCacheBitmapRender){var i=e.__textEngine,s=i.background||i.border?i.bounds:i.textBounds,n=e.__graphics;if(e.__dirty&&(e.__updateLayout(),null==n.__bounds&&(n.__bounds=new ia),n.__bounds.copyFrom(s)),n.__update(this.__worldTransform),e.__dirty||n.__softwareDirty){var o=n.__width,l=n.__height;if(!(null!=i.text&&""!=i.text||i.background||i.border||i.__hasFocus||1==i.type&&i.selectable)||(0>=i.width||0>=i.height)&&2!=i.autoSize)e.__graphics.__canvas=null,e.__graphics.__context=null,e.__graphics.__bitmap=null,e.__graphics.__softwareDirty=!1,e.__graphics.set___dirty(!1),e.__dirty=!1;else{null==e.__graphics.__canvas&&(e.__graphics.__canvas=window.document.createElement("canvas"),e.__graphics.__context=e.__graphics.__canvas.getContext("2d")),Y.context=n.__context;var _=n.__renderTransform;if(null!=this.__domRenderer){var h=this.pixelRatio;n.__canvas.width=o*h|0,n.__canvas.height=l*h|0,n.__canvas.style.width=o+"px",n.__canvas.style.height=l+"px",(o=Fa.__pool.get()).copyFrom(_),o.scale(h,h),this.setTransform(o,Y.context),Fa.__pool.release(o)}else n.__canvas.width=o,n.__canvas.height=l,Y.context.setTransform(_.a,_.b,_.c,_.d,_.tx,_.ty);if(null==Y.clearRect&&(Y.clearRect=typeof navigator<"u"&&typeof navigator.isCocoonJS<"u"),Y.clearRect&&Y.context.clearRect(0,0,n.__canvas.width,n.__canvas.height),null!=i.text&&""!=i.text||i.__hasFocus){_=i.text,n.__context.imageSmoothingEnabled=!(!this.__allowSmoothing||0==i.antiAliasType&&400==i.sharpness),(i.border||i.background)&&(Y.context.rect(.5,.5,s.width-1,s.height-1),i.background&&(h=aa.hex(16777215&i.backgroundColor,6),Y.context.fillStyle="#"+h,Y.context.fill()),i.border&&(Y.context.lineWidth=1,h=aa.hex(16777215&i.borderColor,6),Y.context.strokeStyle="#"+h,Y.context.stroke())),Y.context.textBaseline="alphabetic",Y.context.textAlign="start",h=-e.get_scrollH(),l=o=0;for(var m=e.get_scrollV()-1;l<m;){var f=l++;o-=i.lineHeights.get(f)}var y;for(l=i.layoutGroups.iterator();l.hasNext();)if(!((m=l.next()).lineIndex<e.get_scrollV()-1)){if(m.lineIndex>i.get_bottomScrollV()-1)break;if(f="#"+aa.hex(16777215&m.format.color,6),Y.context.font=Xb.getFont(m.format),Y.context.fillStyle=f,Y.context.fillText(_.substring(m.startIndex,m.endIndex),m.offsetX+h-s.x,m.offsetY+m.ascent+o-s.y),-1<e.__caretIndex&&i.selectable)if(e.__selectionIndex==e.__caretIndex){if(e.__showCursor&&m.startIndex<=e.__caretIndex&&m.endIndex>=e.__caretIndex){for(var g=y=0,j=e.__caretIndex-m.startIndex;g<j;){var $=g++;if(m.positions.length<=$)break;y+=m.positions[$]}for(g=0,j=e.get_scrollV(),$=m.lineIndex+1;j<$;){var yt=j++;g+=i.lineHeights.get(yt-1)}Y.context.beginPath(),j=aa.hex(16777215&m.format.color,6),Y.context.strokeStyle="#"+j,Y.context.moveTo(m.offsetX+y-e.get_scrollH()-s.x,g+2-s.y),Y.context.lineWidth=1,Y.context.lineTo(m.offsetX+y-e.get_scrollH()-s.x,g+Xb.getFormatHeight(e.get_defaultTextFormat())-1-s.y),Y.context.stroke(),Y.context.closePath()}}else(m.startIndex<=e.__caretIndex&&m.endIndex>=e.__caretIndex||m.startIndex<=e.__selectionIndex&&m.endIndex>=e.__selectionIndex||m.startIndex>e.__caretIndex&&m.endIndex<e.__selectionIndex||m.startIndex>e.__selectionIndex&&m.endIndex<e.__caretIndex)&&(y=0|Math.min(e.__selectionIndex,e.__caretIndex),g=0|Math.max(e.__selectionIndex,e.__caretIndex),m.startIndex>y&&(y=m.startIndex),m.endIndex<g&&(g=m.endIndex),$=e.getCharBoundaries(y),g>=m.endIndex?(j=e.getCharBoundaries(m.endIndex-1)).x+=j.width+2:j=e.getCharBoundaries(g),null!=$&&null!=j&&(Y.context.fillStyle="#000000",Y.context.fillRect($.x+h,$.y+o,j.x-$.x,m.height),Y.context.fillStyle="#FFFFFF",Y.context.fillText(_.substring(y,g),h+$.x,m.offsetY+m.ascent+o)));m.format.underline&&(Y.context.beginPath(),Y.context.strokeStyle=f,Y.context.lineWidth=1,f=m.offsetX+h-s.x,y=Math.floor(m.offsetY+o+m.ascent-s.y)+.5,Y.context.moveTo(f,y),Y.context.lineTo(f+m.width,y),Y.context.stroke(),Y.context.closePath())}}else if((i.border||i.background)&&(i.border?Y.context.rect(.5,.5,s.width-1,s.height-1):Y.context.rect(0,0,s.width,s.height),i.background&&(s=aa.hex(16777215&i.backgroundColor,6),Y.context.fillStyle="#"+s,Y.context.fill()),i.border&&(Y.context.lineWidth=1,Y.context.lineCap="square",s=aa.hex(16777215&i.borderColor,6),Y.context.strokeStyle="#"+s,Y.context.stroke())),-1<e.__caretIndex&&i.selectable&&e.__showCursor){for(s=-e.get_scrollH(),h=_=0,o=e.get_scrollV()-1;h<o;)l=h++,_+=i.lineHeights.get(l);Y.context.beginPath(),i=aa.hex(16777215&e.get_defaultTextFormat().color,6),Y.context.strokeStyle="#"+i,Y.context.moveTo(s+2.5,_+2.5),Y.context.lineWidth=1,Y.context.lineTo(s+2.5,_+Xb.getFormatHeight(e.get_defaultTextFormat())-1),Y.context.stroke(),Y.context.closePath()}n.__bitmap=pa.fromCanvas(e.__graphics.__canvas),n.__visible=!0,e.__dirty=!1,n.__softwareDirty=!1,n.set___dirty(!1)}}if(n=!1,0==e.__textEngine.antiAliasType&&1==e.__textEngine.gridFitType&&(n=this.context.imageSmoothingEnabled)&&(this.context.imageSmoothingEnabled=!1),!(null==e.opaqueBackground&&null==e.__graphics||!e.__renderable||0>=this.__getAlpha(e.__worldAlpha))&&(null!=e.opaqueBackground&&!e.__isCacheBitmapRender&&0<e.get_width()&&0<e.get_height()&&(this.__setBlendMode(e.__worldBlendMode),this.__pushMaskObject(e),this.setTransform(e.__renderTransform,i=this.context),i.fillStyle="rgb("+((s=e.opaqueBackground)>>>16&255)+","+(s>>>8&255)+","+(255&s)+")",i.fillRect(0,0,e.get_width(),e.get_height()),this.__popMaskObject(e)),null!=e.__graphics&&e.__renderable&&!(0>=(f=this.__getAlpha(e.__worldAlpha)))&&null!=(m=e.__graphics)&&(D.render(m,this),_=m.__width,h=m.__height,null!=(i=m.__canvas)&&m.__visible&&1<=_&&1<=h&&(l=m.__worldTransform,s=this.context,o=e.__worldScale9Grid,null==(y=e.__scrollRect)||0<y.width&&0<y.height)))){if(this.__setBlendMode(e.__worldBlendMode),this.__pushMaskObject(e),s.globalAlpha=f,null!=o&&0==l.b&&0==l.c){s.setTransform(1,0,0,1,l.tx,l.ty),j=m.__bounds,g=m.__renderTransform.a;var _t=m.__renderTransform.d;$=l.a,yt=l.d,l=Math.max(1,Math.round(o.x*g)),m=Math.round(o.y*_t),f=Math.max(1,Math.round((j.get_right()-o.get_right())*g)),y=Math.round((j.get_bottom()-o.get_bottom())*_t),g=Math.round(o.width*g),_t=Math.round(o.height*_t);var xt=Math.round(o.x*$),Tt=Math.round(o.y*yt),St=Math.round((j.get_right()-o.get_right())*$);o=Math.round((j.get_bottom()-o.get_bottom())*yt),j=Math.round(_*$)-xt-St,$=Math.round(h*yt)-Tt-o,this.applySmoothing(s,!1),0!=g&&0!=_t?(s.drawImage(i,0,0,l,m,0,0,xt,Tt),s.drawImage(i,l,0,g,m,xt,0,j,Tt),s.drawImage(i,l+g,0,f,m,xt+j,0,St,Tt),s.drawImage(i,0,m,l,_t,0,Tt,xt,$),s.drawImage(i,l,m,g,_t,xt,Tt,j,$),s.drawImage(i,l+g,m,f,_t,xt+j,Tt,St,$),s.drawImage(i,0,m+_t,l,y,0,Tt+$,xt,o),s.drawImage(i,l,m+_t,g,y,xt,Tt+$,j,o),s.drawImage(i,l+g,m+_t,f,y,xt+j,Tt+$,St,o)):0==g&&0!=_t?(s.drawImage(i,0,0,_,m,0,0,h=xt+j+St,Tt),s.drawImage(i,0,m,_,_t,0,Tt,h,$),s.drawImage(i,0,m+_t,_,y,0,Tt+$,h,o)):0==_t&&0!=g&&(s.drawImage(i,0,0,l,h,0,0,xt,_=Tt+$+o),s.drawImage(i,l,0,g,h,xt,0,j,_),s.drawImage(i,l+g,0,f,h,xt+j,0,St,_))}else this.setTransform(l,s),null!=this.__domRenderer&&s.scale(o=1/this.pixelRatio,o),s.drawImage(i,0,0,_,h);this.__popMaskObject(e)}n&&(this.context.imageSmoothingEnabled=!0)}else(e=e.__cacheBitmap).__renderable&&0<(i=this.__getAlpha(e.__worldAlpha))&&null!=e.__bitmapData&&e.__bitmapData.__isValid&&e.__bitmapData.readable&&(n=this.context,this.__setBlendMode(e.__worldBlendMode),this.__pushMaskObject(e,!1),za.convertToCanvas(e.__bitmapData.image),n.globalAlpha=i,i=e.__scrollRect,this.setTransform(e.__renderTransform,n),this.__allowSmoothing&&e.smoothing||(n.imageSmoothingEnabled=!1),null==i?n.drawImage(e.__bitmapData.image.get_src(),0,0,e.__bitmapData.image.width,e.__bitmapData.image.height):n.drawImage(e.__bitmapData.image.get_src(),i.x,i.y,i.width,i.height),this.__allowSmoothing&&e.smoothing||(n.imageSmoothingEnabled=!0),this.__popMaskObject(e,!1))},__renderTilemap:function(e){if(this.__updateCacheBitmap(e,!1),null==e.__cacheBitmap||e.__isCacheBitmapRender){if(!(null==e.opaqueBackground&&null==e.__graphics||!e.__renderable||0>=this.__getAlpha(e.__worldAlpha))){if(null!=e.opaqueBackground&&!e.__isCacheBitmapRender&&0<e.get_width()&&0<e.get_height()){this.__setBlendMode(e.__worldBlendMode),this.__pushMaskObject(e);var i=this.context;this.setTransform(e.__renderTransform,i);var s=e.opaqueBackground;i.fillStyle="rgb("+(s>>>16&255)+","+(s>>>8&255)+","+(255&s)+")",i.fillRect(0,0,e.get_width(),e.get_height()),this.__popMaskObject(e)}if(null!=e.__graphics&&e.__renderable){var n=this.__getAlpha(e.__worldAlpha);if(!(0>=n)){var o=e.__graphics;if(null!=o){D.render(o,this);var l=o.__width,_=o.__height;if(null!=(i=o.__canvas)&&o.__visible&&1<=l&&1<=_){var h=o.__worldTransform;s=this.context;var m=e.__scrollRect,f=e.__worldScale9Grid;if(null==m||0<m.width&&0<m.height){if(this.__setBlendMode(e.__worldBlendMode),this.__pushMaskObject(e),s.globalAlpha=n,null!=f&&0==h.b&&0==h.c){s.setTransform(1,0,0,1,h.tx,h.ty);var y=o.__bounds,g=o.__renderTransform.a,j=o.__renderTransform.d,$=h.a,yt=h.d;h=Math.max(1,Math.round(f.x*g)),o=Math.round(f.y*j),n=Math.max(1,Math.round((y.get_right()-f.get_right())*g)),m=Math.round((y.get_bottom()-f.get_bottom())*j),g=Math.round(f.width*g),j=Math.round(f.height*j);var _t=Math.round(f.x*$),xt=Math.round(f.y*yt),Tt=Math.round((y.get_right()-f.get_right())*$);f=Math.round((y.get_bottom()-f.get_bottom())*yt),y=Math.round(l*$)-_t-Tt,$=Math.round(_*yt)-xt-f,this.applySmoothing(s,!1),0!=g&&0!=j?(s.drawImage(i,0,0,h,o,0,0,_t,xt),s.drawImage(i,h,0,g,o,_t,0,y,xt),s.drawImage(i,h+g,0,n,o,_t+y,0,Tt,xt),s.drawImage(i,0,o,h,j,0,xt,_t,$),s.drawImage(i,h,o,g,j,_t,xt,y,$),s.drawImage(i,h+g,o,n,j,_t+y,xt,Tt,$),s.drawImage(i,0,o+j,h,m,0,xt+$,_t,f),s.drawImage(i,h,o+j,g,m,_t,xt+$,y,f),s.drawImage(i,h+g,o+j,n,m,_t+y,xt+$,Tt,f)):0==g&&0!=j?(s.drawImage(i,0,0,l,o,0,0,_=_t+y+Tt,xt),s.drawImage(i,0,o,l,j,0,xt,_,$),s.drawImage(i,0,o+j,l,m,0,xt+$,_,f)):0==j&&0!=g&&(s.drawImage(i,0,0,h,_,0,0,_t,l=xt+$+f),s.drawImage(i,h,0,g,_,_t,0,y,l),s.drawImage(i,h+g,0,n,_,_t+y,0,Tt,l))}else this.setTransform(h,s),null!=this.__domRenderer&&s.scale(f=1/this.pixelRatio,f),s.drawImage(i,0,0,l,_);this.__popMaskObject(e)}}}}}}e.__renderable&&0!=e.__group.__tiles.length&&(0>=(i=this.__getAlpha(e.__worldAlpha))||(s=this.context,this.__setBlendMode(e.__worldBlendMode),this.__pushMaskObject(e),(l=ia.__pool.get()).setTo(0,0,e.__width,e.__height),this.__pushMaskRect(l,e.__renderTransform),this.__allowSmoothing&&e.smoothing||(s.imageSmoothingEnabled=!1),oi.renderTileContainer(e.__group,this,e.__renderTransform,e.__tileset,this.__allowSmoothing&&e.smoothing,e.tileAlphaEnabled,i,e.tileBlendModeEnabled,e.__worldBlendMode,null,null,l),this.__allowSmoothing&&e.smoothing||(s.imageSmoothingEnabled=!0),this.__popMaskRect(),this.__popMaskObject(e),ia.__pool.release(l)))}else(e=e.__cacheBitmap).__renderable&&0<(s=this.__getAlpha(e.__worldAlpha))&&null!=e.__bitmapData&&e.__bitmapData.__isValid&&e.__bitmapData.readable&&(i=this.context,this.__setBlendMode(e.__worldBlendMode),this.__pushMaskObject(e,!1),za.convertToCanvas(e.__bitmapData.image),i.globalAlpha=s,s=e.__scrollRect,this.setTransform(e.__renderTransform,i),this.__allowSmoothing&&e.smoothing||(i.imageSmoothingEnabled=!1),null==s?i.drawImage(e.__bitmapData.image.get_src(),0,0,e.__bitmapData.image.width,e.__bitmapData.image.height):i.drawImage(e.__bitmapData.image.get_src(),s.x,s.y,s.width,s.height),this.__allowSmoothing&&e.smoothing||(i.imageSmoothingEnabled=!0),this.__popMaskObject(e,!1))},__renderVideo:function(e){ir.render(e,this)},__setBlendMode:function(e){null!=this.__overrideBlendMode&&(e=this.__overrideBlendMode),this.__blendMode!=e&&(this.__blendMode=e,this.__setBlendModeContext(this.context,e))},__setBlendModeContext:function(e,i){switch(i){case 0:e.globalCompositeOperation="lighter";break;case 2:e.globalCompositeOperation="darken";break;case 3:e.globalCompositeOperation="difference";break;case 5:e.globalCompositeOperation="hard-light";break;case 8:e.globalCompositeOperation="lighten";break;case 9:e.globalCompositeOperation="multiply";break;case 11:e.globalCompositeOperation="overlay";break;case 12:e.globalCompositeOperation="screen";break;default:e.globalCompositeOperation="source-over"}},__updateCacheBitmap:function(e,i){if(e.__isCacheBitmapRender)return!1;var s=!1;if(e.get_cacheAsBitmap()||!e.__worldColorTransform.__isDefault(!0)||null!=this.__worldColorTransform&&!this.__worldColorTransform.__isDefault(!0)){null==e.__cacheBitmapMatrix&&(e.__cacheBitmapMatrix=new Fa);var n=null!=e.__filters,o=null!=e.__cacheAsBitmapMatrix?e.__cacheAsBitmapMatrix:e.__renderTransform;s=null;var l=Tb.__pool.get();l.__copyFrom(e.__worldColorTransform),null!=this.__worldColorTransform&&l.__combine(this.__worldColorTransform);var _=null==e.__cacheBitmap||e.__renderDirty&&(i||null!=e.__children&&0<e.__children.length)||e.opaqueBackground!=e.__cacheBitmapBackground||null!=e.__graphics&&e.__graphics.__softwareDirty||null!=e.__cacheBitmapColorTransform&&!e.__cacheBitmapColorTransform.__equals(l,!0);if(_||o.a==e.__cacheBitmapMatrix.a&&o.b==e.__cacheBitmapMatrix.b&&o.c==e.__cacheBitmapMatrix.c&&o.d==e.__cacheBitmapMatrix.d||(_=!0),n&&!_){i=0;for(var h=e.__filters;i<h.length;){var m=h[i];if(++i,m.__renderDirty){_=!0;break}}}!_&&null!=e.__cacheBitmapData&&null!=e.__cacheBitmapData.image&&e.__cacheBitmapData.image.version<e.__cacheBitmapData.__textureVersion&&(_=!0),i=_||!e.__cacheBitmap.__worldTransform.equals(e.__worldTransform),e.__cacheBitmapMatrix.copyFrom(o),e.__cacheBitmapMatrix.tx=0;var f=m=h=e.__cacheBitmapMatrix.ty=0,y=0,g=0,j=0;if(i&&(s=ia.__pool.get(),e.__getFilterBounds(s,e.__cacheBitmapMatrix),f=Math.ceil(s.width),y=Math.ceil(s.height),g=0<s.x?Math.ceil(s.x):Math.floor(s.x),j=0<s.y?Math.ceil(s.y):Math.floor(s.y),null!=e.__cacheBitmapData?f>e.__cacheBitmapData.width||y>e.__cacheBitmapData.height?(h=Math.ceil(Math.max(1.25*f,e.__cacheBitmapData.width)),m=Math.ceil(Math.max(1.25*y,e.__cacheBitmapData.height)),_=!0):(h=e.__cacheBitmapData.width,m=e.__cacheBitmapData.height):(h=f,m=y)),_){if(e.__cacheBitmapBackground=e.opaqueBackground,!(.5<=f&&.5<=y))return Tb.__pool.release(l),null!=this.__domRenderer&&null!=e.__cacheBitmap&&this.__domRenderer.__clearBitmap(e.__cacheBitmap),e.__cacheBitmap=null,e.__cacheBitmapData=null,e.__cacheBitmapData2=null,e.__cacheBitmapData3=null,e.__cacheBitmapRendererSW=null,!0;var $=null!=e.opaqueBackground&&(h!=f||m!=y),yt=null!=e.opaqueBackground?-16777216|e.opaqueBackground:0,_t=$?0:yt;null==e.__cacheBitmapData||h>e.__cacheBitmapData.width||m>e.__cacheBitmapData.height?(e.__cacheBitmapData=new pa(h,m,!0,_t),null==e.__cacheBitmap&&(e.__cacheBitmap=new Uc),e.__cacheBitmap.__bitmapData=e.__cacheBitmapData,e.__cacheBitmapRendererSW=null):e.__cacheBitmapData.fillRect(e.__cacheBitmapData.rect,_t),$&&(s.setTo(0,0,f,y),e.__cacheBitmapData.fillRect(s,yt))}else e.__cacheBitmapData=e.__cacheBitmap.get_bitmapData(),e.__cacheBitmapData2=null,e.__cacheBitmapData3=null;if(i&&(e.__cacheBitmap.__worldTransform.copyFrom(e.__worldTransform),o==e.__renderTransform?(e.__cacheBitmap.__renderTransform.identity(),e.__cacheBitmap.__renderTransform.tx=e.__renderTransform.tx+g,e.__cacheBitmap.__renderTransform.ty=e.__renderTransform.ty+j):(e.__cacheBitmap.__renderTransform.copyFrom(e.__cacheBitmapMatrix),e.__cacheBitmap.__renderTransform.invert(),e.__cacheBitmap.__renderTransform.concat(e.__renderTransform),e.__cacheBitmap.__renderTransform.tx+=g,e.__cacheBitmap.__renderTransform.ty+=j)),e.__cacheBitmap.smoothing=this.__allowSmoothing,e.__cacheBitmap.__renderable=e.__renderable,e.__cacheBitmap.__worldAlpha=e.__worldAlpha,e.__cacheBitmap.__worldBlendMode=e.__worldBlendMode,e.__cacheBitmap.__worldShader=e.__worldShader,e.__cacheBitmap.set_mask(e.__mask),_){if((null==e.__cacheBitmapRendererSW||"canvas"!=e.__cacheBitmapRendererSW.__type)&&(null==e.__cacheBitmapData.image&&(e.__cacheBitmapData=new pa(h,m,!0,null!=e.opaqueBackground?-16777216|e.opaqueBackground:0),e.__cacheBitmap.__bitmapData=e.__cacheBitmapData),za.convertToCanvas(e.__cacheBitmapData.image),e.__cacheBitmapRendererSW=new ih(e.__cacheBitmapData.image.buffer.__srcContext),e.__cacheBitmapRendererSW.__worldTransform=new Fa,e.__cacheBitmapRendererSW.__worldColorTransform=new Tb),null==e.__cacheBitmapColorTransform&&(e.__cacheBitmapColorTransform=new Tb),e.__cacheBitmapRendererSW.__stage=e.stage,e.__cacheBitmapRendererSW.__allowSmoothing=this.__allowSmoothing,T.__cast(e.__cacheBitmapRendererSW,ih).__setBlendMode(10),e.__cacheBitmapRendererSW.__worldAlpha=1/e.__worldAlpha,e.__cacheBitmapRendererSW.__worldTransform.copyFrom(e.__renderTransform),e.__cacheBitmapRendererSW.__worldTransform.invert(),e.__cacheBitmapRendererSW.__worldTransform.concat(e.__cacheBitmapMatrix),e.__cacheBitmapRendererSW.__worldTransform.tx-=g,e.__cacheBitmapRendererSW.__worldTransform.ty-=j,e.__cacheBitmapRendererSW.__worldColorTransform.__copyFrom(l),e.__cacheBitmapRendererSW.__worldColorTransform.__invert(),e.__isCacheBitmapRender=!0,e.__cacheBitmapRendererSW.__drawBitmapData(e.__cacheBitmapData,e,null),n){for(y=n=!1,o=0,_=e.__filters;o<_.length;)f=_[o],++o,f.__needSecondBitmapData&&(n=!0),f.__preserveObject&&(y=!0);for(o=e.__cacheBitmapData,f=null,n?(null==e.__cacheBitmapData2||null==e.__cacheBitmapData2.image||h>e.__cacheBitmapData2.width||m>e.__cacheBitmapData2.height?e.__cacheBitmapData2=new pa(h,m,!0,0):e.__cacheBitmapData2.fillRect(e.__cacheBitmapData2.rect,0),_=e.__cacheBitmapData2):_=o,y&&(null==e.__cacheBitmapData3||null==e.__cacheBitmapData3.image||h>e.__cacheBitmapData3.width||m>e.__cacheBitmapData3.height?e.__cacheBitmapData3=new pa(h,m,!0,0):e.__cacheBitmapData3.fillRect(e.__cacheBitmapData3.rect,0),f=e.__cacheBitmapData3),null==e.__tempPoint&&(e.__tempPoint=new ra),h=e.__tempPoint,m=0,y=e.__filters;m<y.length;)j=y[m],++m,j.__preserveObject&&f.copyPixels(o,o.rect,h),g=j.__applyFilter(_,o,o.rect,h),j.__preserveObject&&g.draw(f,null,null!=e.__objectTransform?e.__objectTransform.get_colorTransform():null),j.__renderDirty=!1,n&&g==_&&(g=o,o=_,_=g);e.__cacheBitmapData!=o&&(g=e.__cacheBitmapData,e.__cacheBitmapData=o,e.__cacheBitmapData2=g,e.__cacheBitmap.__bitmapData=e.__cacheBitmapData,e.__cacheBitmapRendererSW=null),e.__cacheBitmap.__imageVersion=e.__cacheBitmapData.__textureVersion}e.__cacheBitmapColorTransform.__copyFrom(l),e.__cacheBitmapColorTransform.__isDefault(!0)||(e.__cacheBitmapColorTransform.alphaMultiplier=1,e.__cacheBitmapData.colorTransform(e.__cacheBitmapData.rect,e.__cacheBitmapColorTransform)),e.__isCacheBitmapRender=!1}i&&ia.__pool.release(s),s=i,Tb.__pool.release(l)}else null!=e.__cacheBitmap&&(null!=this.__domRenderer&&null!=e.__cacheBitmap&&this.__domRenderer.__clearBitmap(e.__cacheBitmap),e.__cacheBitmap=null,e.__cacheBitmapData=null,e.__cacheBitmapData2=null,e.__cacheBitmapData3=null,e.__cacheBitmapColorTransform=null,e.__cacheBitmapRendererSW=null,s=!0);return s},__class__:ih});var Ds=function(){};k["openfl._internal.renderer.canvas.CanvasShape"]=Ds,Ds.__name__="openfl._internal.renderer.canvas.CanvasShape",Ds.render=function(e,i){if(e.__renderable){var s=i.__getAlpha(e.__worldAlpha);if(!(0>=s)){var n=e.__graphics;if(null!=n){D.render(n,i);var o=n.__width,l=n.__height,_=n.__canvas;if(null!=_&&n.__visible&&1<=o&&1<=l){var h=n.__worldTransform,m=i.context,f=e.__scrollRect,y=e.__worldScale9Grid;if(null==f||0<f.width&&0<f.height){if(i.__setBlendMode(e.__worldBlendMode),i.__pushMaskObject(e),m.globalAlpha=s,null!=y&&0==h.b&&0==h.c){m.setTransform(1,0,0,1,h.tx,h.ty);var g=n.__bounds,j=n.__renderTransform.a,$=n.__renderTransform.d,yt=h.a,_t=h.d;h=Math.max(1,Math.round(y.x*j)),n=Math.round(y.y*$),s=Math.max(1,Math.round((g.get_right()-y.get_right())*j)),f=Math.round((g.get_bottom()-y.get_bottom())*$),j=Math.round(y.width*j),$=Math.round(y.height*$);var xt=Math.round(y.x*yt),Tt=Math.round(y.y*_t),St=Math.round((g.get_right()-y.get_right())*yt);y=Math.round((g.get_bottom()-y.get_bottom())*_t),g=Math.round(o*yt)-xt-St,yt=Math.round(l*_t)-Tt-y,i.applySmoothing(m,!1),0!=j&&0!=$?(m.drawImage(_,0,0,h,n,0,0,xt,Tt),m.drawImage(_,h,0,j,n,xt,0,g,Tt),m.drawImage(_,h+j,0,s,n,xt+g,0,St,Tt),m.drawImage(_,0,n,h,$,0,Tt,xt,yt),m.drawImage(_,h,n,j,$,xt,Tt,g,yt),m.drawImage(_,h+j,n,s,$,xt+g,Tt,St,yt),m.drawImage(_,0,n+$,h,f,0,Tt+yt,xt,y),m.drawImage(_,h,n+$,j,f,xt,Tt+yt,g,y),m.drawImage(_,h+j,n+$,s,f,xt+g,Tt+yt,St,y)):0==j&&0!=$?(m.drawImage(_,0,0,o,n,0,0,l=xt+g+St,Tt),m.drawImage(_,0,n,o,$,0,Tt,l,yt),m.drawImage(_,0,n+$,o,f,0,Tt+yt,l,y)):0==$&&0!=j&&(m.drawImage(_,0,0,h,l,0,0,xt,o=Tt+yt+y),m.drawImage(_,h,0,j,l,xt,0,g,o),m.drawImage(_,h+j,0,s,l,xt+g,0,St,o))}else i.setTransform(h,m),null!=i.__domRenderer&&m.scale(y=1/i.pixelRatio,y),m.drawImage(_,0,0,o,l);i.__popMaskObject(e)}}}}}};var Y=function(){};k["openfl._internal.renderer.canvas.CanvasTextField"]=Y,Y.__name__="openfl._internal.renderer.canvas.CanvasTextField",Y.render=function(e,i,s){var n=e.__textEngine,o=n.background||n.border?n.bounds:n.textBounds;if(s=e.__graphics,e.__dirty&&(e.__updateLayout(),null==s.__bounds&&(s.__bounds=new ia),s.__bounds.copyFrom(o)),s.__update(i.__worldTransform),e.__dirty||s.__softwareDirty){var l=s.__width,_=s.__height;if(!(null!=n.text&&""!=n.text||n.background||n.border||n.__hasFocus||1==n.type&&n.selectable)||(0>=n.width||0>=n.height)&&2!=n.autoSize)e.__graphics.__canvas=null,e.__graphics.__context=null,e.__graphics.__bitmap=null,e.__graphics.__softwareDirty=!1,e.__graphics.set___dirty(!1),e.__dirty=!1;else{null==e.__graphics.__canvas&&(e.__graphics.__canvas=window.document.createElement("canvas"),e.__graphics.__context=e.__graphics.__canvas.getContext("2d")),Y.context=s.__context;var h=s.__renderTransform;if(null!=i.__domRenderer){var m=i.pixelRatio;s.__canvas.width=l*m|0,s.__canvas.height=_*m|0,s.__canvas.style.width=l+"px",s.__canvas.style.height=_+"px",(l=Fa.__pool.get()).copyFrom(h),l.scale(m,m),i.setTransform(l,Y.context),Fa.__pool.release(l)}else s.__canvas.width=l,s.__canvas.height=_,Y.context.setTransform(h.a,h.b,h.c,h.d,h.tx,h.ty);if(null==Y.clearRect&&(Y.clearRect=typeof navigator<"u"&&typeof navigator.isCocoonJS<"u"),Y.clearRect&&Y.context.clearRect(0,0,s.__canvas.width,s.__canvas.height),null!=n.text&&""!=n.text||n.__hasFocus){for(h=n.text,s.__context.imageSmoothingEnabled=!(!i.__allowSmoothing||0==n.antiAliasType&&400==n.sharpness),(n.border||n.background)&&(Y.context.rect(.5,.5,o.width-1,o.height-1),n.background&&(i=aa.hex(16777215&n.backgroundColor,6),Y.context.fillStyle="#"+i,Y.context.fill()),n.border&&(Y.context.lineWidth=1,i=aa.hex(16777215&n.borderColor,6),Y.context.strokeStyle="#"+i,Y.context.stroke())),Y.context.textBaseline="alphabetic",Y.context.textAlign="start",i=-e.get_scrollH(),l=m=0,_=e.get_scrollV()-1;l<_;){var f=l++;m-=n.lineHeights.get(f)}var y;for(l=n.layoutGroups.iterator();l.hasNext();)if(!((_=l.next()).lineIndex<e.get_scrollV()-1)){if(_.lineIndex>n.get_bottomScrollV()-1)break;if(f="#"+aa.hex(16777215&_.format.color,6),Y.context.font=Xb.getFont(_.format),Y.context.fillStyle=f,Y.context.fillText(h.substring(_.startIndex,_.endIndex),_.offsetX+i-o.x,_.offsetY+_.ascent+m-o.y),-1<e.__caretIndex&&n.selectable)if(e.__selectionIndex==e.__caretIndex){if(e.__showCursor&&_.startIndex<=e.__caretIndex&&_.endIndex>=e.__caretIndex){for(var g=y=0,j=e.__caretIndex-_.startIndex;g<j;){var $=g++;if(_.positions.length<=$)break;y+=_.positions[$]}for(g=0,j=e.get_scrollV(),$=_.lineIndex+1;j<$;){var yt=j++;g+=n.lineHeights.get(yt-1)}Y.context.beginPath(),j=aa.hex(16777215&_.format.color,6),Y.context.strokeStyle="#"+j,Y.context.moveTo(_.offsetX+y-e.get_scrollH()-o.x,g+2-o.y),Y.context.lineWidth=1,Y.context.lineTo(_.offsetX+y-e.get_scrollH()-o.x,g+Xb.getFormatHeight(e.get_defaultTextFormat())-1-o.y),Y.context.stroke(),Y.context.closePath()}}else(_.startIndex<=e.__caretIndex&&_.endIndex>=e.__caretIndex||_.startIndex<=e.__selectionIndex&&_.endIndex>=e.__selectionIndex||_.startIndex>e.__caretIndex&&_.endIndex<e.__selectionIndex||_.startIndex>e.__selectionIndex&&_.endIndex<e.__caretIndex)&&(y=0|Math.min(e.__selectionIndex,e.__caretIndex),g=0|Math.max(e.__selectionIndex,e.__caretIndex),_.startIndex>y&&(y=_.startIndex),_.endIndex<g&&(g=_.endIndex),$=e.getCharBoundaries(y),g>=_.endIndex?(j=e.getCharBoundaries(_.endIndex-1)).x+=j.width+2:j=e.getCharBoundaries(g),null!=$&&null!=j&&(Y.context.fillStyle="#000000",Y.context.fillRect($.x+i,$.y+m,j.x-$.x,_.height),Y.context.fillStyle="#FFFFFF",Y.context.fillText(h.substring(y,g),i+$.x,_.offsetY+_.ascent+m)));_.format.underline&&(Y.context.beginPath(),Y.context.strokeStyle=f,Y.context.lineWidth=1,f=_.offsetX+i-o.x,y=Math.floor(_.offsetY+m+_.ascent-o.y)+.5,Y.context.moveTo(f,y),Y.context.lineTo(f+_.width,y),Y.context.stroke(),Y.context.closePath())}}else if((n.border||n.background)&&(n.border?Y.context.rect(.5,.5,o.width-1,o.height-1):Y.context.rect(0,0,o.width,o.height),n.background&&(o=aa.hex(16777215&n.backgroundColor,6),Y.context.fillStyle="#"+o,Y.context.fill()),n.border&&(Y.context.lineWidth=1,Y.context.lineCap="square",o=aa.hex(16777215&n.borderColor,6),Y.context.strokeStyle="#"+o,Y.context.stroke())),-1<e.__caretIndex&&n.selectable&&e.__showCursor){for(o=-e.get_scrollH(),i=h=0,m=e.get_scrollV()-1;i<m;)l=i++,h+=n.lineHeights.get(l);Y.context.beginPath(),n=aa.hex(16777215&e.get_defaultTextFormat().color,6),Y.context.strokeStyle="#"+n,Y.context.moveTo(o+2.5,h+2.5),Y.context.lineWidth=1,Y.context.lineTo(o+2.5,h+Xb.getFormatHeight(e.get_defaultTextFormat())-1),Y.context.stroke(),Y.context.closePath()}s.__bitmap=pa.fromCanvas(e.__graphics.__canvas),s.__visible=!0,e.__dirty=!1,s.__softwareDirty=!1,s.set___dirty(!1)}}};var oi=function(){};k["openfl._internal.renderer.canvas.CanvasTilemap"]=oi,oi.__name__="openfl._internal.renderer.canvas.CanvasTilemap",oi.render=function(e,i){if(e.__renderable&&0!=e.__group.__tiles.length){var s=i.__getAlpha(e.__worldAlpha);if(!(0>=s)){var n=i.context;i.__setBlendMode(e.__worldBlendMode),i.__pushMaskObject(e);var o=ia.__pool.get();o.setTo(0,0,e.__width,e.__height),i.__pushMaskRect(o,e.__renderTransform),i.__allowSmoothing&&e.smoothing||(n.imageSmoothingEnabled=!1),oi.renderTileContainer(e.__group,i,e.__renderTransform,e.__tileset,i.__allowSmoothing&&e.smoothing,e.tileAlphaEnabled,s,e.tileBlendModeEnabled,e.__worldBlendMode,null,null,o),i.__allowSmoothing&&e.smoothing||(n.imageSmoothingEnabled=!0),i.__popMaskRect(),i.__popMaskObject(e),ia.__pool.release(o)}}},oi.renderTileContainer=function(e,i,s,n,o,l,_,h,m,f,y,g){var xt,j=i.context,$=i.__roundPixels,yt=Fa.__pool.get(),_t=e.__tiles,Tt=null,St=0;for(e=e.__length;St<e;){var Mt=St++,Et=_t[Mt];yt.setTo(1,0,0,1,-Et.get_originX(),-Et.get_originY()),yt.concat(Et.get_matrix()),yt.concat(s),$&&(yt.tx=Math.round(yt.tx),yt.ty=Math.round(yt.ty));var Ct=null!=Et.get_tileset()?Et.get_tileset():n;if(Mt=Et.get_alpha()*_,(xt=Et.get_visible())&&!(0>=Mt))if(l||(Mt=1),h&&(Tt=null!=Et.__blendMode?Et.__blendMode:m),0<Et.__length)oi.renderTileContainer(Et,i,yt,Ct,o,l,Mt,h,Tt,f,y,g);else if(null!=Ct){if(-1==(xt=Et.get_id())){if(null==(Et=Et.__rect)||0>=Et.width||0>=Et.height)continue}else{if(null==(Et=Ct.__data[xt]))continue;g.setTo(Et.x,Et.y,Et.width,Et.height),Et=g}null!=(Ct=Ct.__bitmapData)&&(Ct!=f&&(null==Ct.image.buffer.__srcImage&&za.convertToCanvas(Ct.image),y=Ct.image.get_src(),f=Ct),j.globalAlpha=Mt,h&&i.__setBlendMode(Tt),i.setTransform(yt,j),j.drawImage(y,Et.x,Et.y,Et.width,Et.height,0,0,Et.width,Et.height))}}Fa.__pool.release(yt)};var ir=function(){};k["openfl._internal.renderer.canvas.CanvasVideo"]=ir,ir.__name__="openfl._internal.renderer.canvas.CanvasVideo",ir.render=function(e,i){if(e.__renderable&&null!=e.__stream){var s=i.__getAlpha(e.__worldAlpha);if(!(0>=s)){var n=i.context;if(null!=e.__stream.__video){i.__setBlendMode(e.__worldBlendMode),i.__pushMaskObject(e),n.globalAlpha=s,s=e.__scrollRect;var o=e.smoothing;i.setTransform(e.__worldTransform,n),o||(n.imageSmoothingEnabled=!1),null==s?n.drawImage(e.__stream.__video,0,0,e.get_width(),e.get_height()):n.drawImage(e.__stream.__video,s.x,s.y,s.width,s.height,s.x,s.y,s.width,s.height),o||(n.imageSmoothingEnabled=!0),i.__popMaskObject(e)}}}};var Ze=function(e){this.byteCode=e,this.precisionHint=1,this.__glSourceDirty=!0,this.__numPasses=1,this.__data=jr._new(e)};k["openfl.display.Shader"]=Ze,Ze.__name__="openfl.display.Shader",Ze.prototype={byteCode:null,glProgram:null,precisionHint:null,program:null,__alpha:null,__alphaTexture:null,__alphaTextureMatrix:null,__bitmap:null,__colorMultiplier:null,__colorOffset:null,__context:null,__data:null,__glFragmentSource:null,__glSourceDirty:null,__glVertexSource:null,__hasColorTransform:null,__inputBitmapData:null,__isGenerated:null,__matrix:null,__numPasses:null,__paramBool:null,__paramFloat:null,__paramInt:null,__position:null,__textureCoord:null,__texture:null,__textureSize:null,__clearUseArray:function(){for(var e=0,i=this.__paramBool;e<i.length;){var s=i[e];++e,s.__useArray=!1}for(e=0,i=this.__paramFloat;e<i.length;)s=i[e],++e,s.__useArray=!1;for(e=0,i=this.__paramInt;e<i.length;)s=i[e],++e,s.__useArray=!1},__createGLShader:function(e,i){var s=this.__context.gl,n=s.createShader(i);return s.shaderSource(n,e),s.compileShader(n),0==s.getShaderParameter(n,s.COMPILE_STATUS)&&(i=i==s.VERTEX_SHADER?"Error compiling vertex shader":"Error compiling fragment shader",i+="\n"+s.getShaderInfoLog(n),Ua.error(i+"\n"+e,{fileName:"openfl/display/Shader.hx",lineNumber:330,className:"openfl.display.Shader",methodName:"__createGLShader"})),n},__createGLProgram:function(e,i){var s=this.__context.gl;e=this.__createGLShader(e,s.VERTEX_SHADER);var n=this.__createGLShader(i,s.FRAGMENT_SHADER);i=s.createProgram();for(var o=0,l=this.__paramFloat;o<l.length;){var _=l[o];if(++o,-1<_.name.indexOf("Position")&&aa.startsWith(_.name,"openfl_")){s.bindAttribLocation(i,0,_.name);break}}return s.attachShader(i,e),s.attachShader(i,n),s.linkProgram(i),0==s.getProgramParameter(i,s.LINK_STATUS)&&(s="Unable to initialize the shader program\n"+s.getProgramInfoLog(i),Ua.error(s,{fileName:"openfl/display/Shader.hx",lineNumber:363,className:"openfl.display.Shader",methodName:"__createGLProgram"})),i},__disable:function(){null!=this.program&&this.__disableGL()},__disableGL:function(){for(var e=this.__context.gl,i=0,s=0,n=this.__inputBitmapData;s<n.length;){var o=n[s];++s,o.__disableGL(this.__context,i),++i}for(i=0,s=this.__paramBool;i<s.length;)n=s[i],++i,n.__disableGL(this.__context);for(i=0,s=this.__paramFloat;i<s.length;)n=s[i],++i,n.__disableGL(this.__context);for(i=0,s=this.__paramInt;i<s.length;)n=s[i],++i,n.__disableGL(this.__context);this.__context.__bindGLArrayBuffer(null),"opengl"==this.__context.__context.type&&e.disable(e.TEXTURE_2D)},__enable:function(){this.__init(),null!=this.program&&this.__enableGL()},__enableGL:function(){for(var e=0,i=this.__context.gl,s=0,n=this.__inputBitmapData;s<n.length;){var o=n[s];++s,i.uniform1i(o.index,e),++e}"opengl"==this.__context.__context.type&&0<e&&i.enable(i.TEXTURE_2D)},__init:function(){null==this.__data&&(this.__data=jr._new(null)),null==this.__glFragmentSource||null==this.__glVertexSource||null!=this.program&&!this.__glSourceDirty||this.__initGL()},__initGL:function(){if((this.__glSourceDirty||null==this.__paramBool)&&(this.__glSourceDirty=!1,this.program=null,this.__inputBitmapData=[],this.__paramBool=[],this.__paramFloat=[],this.__paramInt=[],this.__processGLData(this.get_glVertexSource(),"attribute"),this.__processGLData(this.get_glVertexSource(),"uniform"),this.__processGLData(this.get_glFragmentSource(),"uniform")),null!=this.__context&&null==this.program){var e=this.__context.gl,i="#ifdef GL_ES\n\t\t\t\t"+(1==this.precisionHint?"#ifdef GL_FRAGMENT_PRECISION_HIGH\n\t\t\t\tprecision highp float;\n\t\t\t\t#else\n\t\t\t\tprecision mediump float;\n\t\t\t\t#endif":"precision lowp float;")+"\n\t\t\t\t#endif\n\t\t\t\t",s=i+this.get_glVertexSource(),n=i+this.get_glFragmentSource(),o=this.__context.__programs;if((null!=t[i=s+n]?o.existsReserved(i):o.h.hasOwnProperty(i))?(s=this.__context.__programs,this.program=null!=t[i]?s.getReserved(i):s.h[i]):(this.program=this.__context.createProgram(1),this.program.__glProgram=this.__createGLProgram(s,n),s=this.program,n=this.__context.__programs,null!=t[i]?n.setReserved(i,s):n.h[i]=s),null!=this.program){for(this.glProgram=this.program.__glProgram,i=0,s=this.__inputBitmapData;i<s.length;)n=s[i],++i,n.index=n.__isUniform?e.getUniformLocation(this.glProgram,n.name):e.getAttribLocation(this.glProgram,n.name);for(i=0,s=this.__paramBool;i<s.length;)n=s[i],++i,n.index=n.__isUniform?e.getUniformLocation(this.glProgram,n.name):e.getAttribLocation(this.glProgram,n.name);for(i=0,s=this.__paramFloat;i<s.length;)n=s[i],++i,n.index=n.__isUniform?e.getUniformLocation(this.glProgram,n.name):e.getAttribLocation(this.glProgram,n.name);for(i=0,s=this.__paramInt;i<s.length;)n=s[i],++i,n.index=n.__isUniform?e.getUniformLocation(this.glProgram,n.name):e.getAttribLocation(this.glProgram,n.name)}}},__processGLData:function(e,i){var n,s=0;for(n=new Ra("uniform"==i?"uniform ([A-Za-z0-9]+) ([A-Za-z0-9_]+)":"attribute ([A-Za-z0-9]+) ([A-Za-z0-9_]+)","");n.matchSub(e,s);){var o=n.matched(1),l=n.matched(2);if(!aa.startsWith(l,"gl_")){if(s="uniform"==i,aa.startsWith(o,"sampler")){switch((o=new Mo).name=l,o.__isUniform=s,this.__inputBitmapData.push(o),l){case"bitmap":this.__bitmap=o;break;case"openfl_AlphaTexture":this.__alphaTexture=o;break;case"openfl_Texture":this.__texture=o}this.__data[l]=o,this.__isGenerated&&(this[l]=o)}else if(!Object.prototype.hasOwnProperty.call(this.__data,l)||null==X.field(this.__data,l)){switch(o){case"bool":var _=0;break;case"bvec2":_=1;break;case"bvec3":_=2;break;case"bvec4":_=3;break;case"dvec2":case"vec2":_=5;break;case"dvec3":case"vec3":_=6;break;case"double":case"float":_=4;break;case"ivec3":case"uvec3":_=10;break;case"ivec4":case"uvec4":_=11;break;case"mat2":case"mat2x2":_=12;break;case"mat2x3":_=13;break;case"mat2x4":_=14;break;case"mat3x2":_=15;break;case"mat3":case"mat3x3":_=16;break;case"mat3x4":_=17;break;case"mat4":case"mat4x4":_=20;break;case"mat4x2":_=18;break;case"mat4x3":_=19;break;case"int":case"uint":_=8;break;case"ivec2":case"uvec2":_=9;break;case"dvec4":case"vec4":_=7;break;default:_=null}switch(_){case 1:case 5:case 9:o=2;break;case 3:case 7:case 11:case 12:o=4;break;case 2:case 6:case 10:o=3;break;case 16:o=9;break;case 20:o=16;break;default:o=1}switch(_){case 12:var h=2;break;case 16:h=3;break;case 20:h=4;break;default:h=1}switch(_){case 0:case 1:case 2:case 3:var m=new ak;m.set_name(l),m.type=_,m.__arrayLength=h,m.__isBool=!0,m.__isUniform=s,m.__length=o,this.__paramBool.push(m),"openfl_HasColorTransform"==l&&(this.__hasColorTransform=m),this.__data[l]=m,this.__isGenerated&&(this[l]=m);break;case 8:case 9:case 10:case 11:(m=new ak).set_name(l),m.type=_,m.__arrayLength=h,m.__isInt=!0,m.__isUniform=s,m.__length=o,this.__paramInt.push(m),this.__data[l]=m,this.__isGenerated&&(this[l]=m);break;default:if((m=new ak).set_name(l),m.type=_,m.__arrayLength=h,0<h&&(_=null!=(_=h*h)?new Float32Array(_):null,m.__uniformMatrix=_),m.__isFloat=!0,m.__isUniform=s,m.__length=o,this.__paramFloat.push(m),aa.startsWith(l,"openfl_"))switch(l){case"openfl_Alpha":this.__alpha=m;break;case"openfl_AlphaTextureMatrix":this.__alphaTextureMatrix=m;break;case"openfl_ColorMultiplier":this.__colorMultiplier=m;break;case"openfl_ColorOffset":this.__colorOffset=m;break;case"openfl_Matrix":this.__matrix=m;break;case"openfl_Position":this.__position=m;break;case"openfl_TextureCoord":this.__textureCoord=m;break;case"openfl_TextureSize":this.__textureSize=m}this.__data[l]=m,this.__isGenerated&&(this[l]=m)}}s=(l=n.matchedPos()).pos+l.len}}},__update:function(){null!=this.program&&this.__updateGL()},__updateFromBuffer:function(e,i){null!=this.program&&this.__updateGLFromBuffer(e,i)},__updateGL:function(){for(var e=0,i=0,s=this.__inputBitmapData;i<s.length;){var n=s[i];++i,n.__updateGL(this.__context,e),++e}for(e=0,i=this.__paramBool;e<i.length;)s=i[e],++e,s.__updateGL(this.__context);for(e=0,i=this.__paramFloat;e<i.length;)s=i[e],++e,s.__updateGL(this.__context);for(e=0,i=this.__paramInt;e<i.length;)s=i[e],++e,s.__updateGL(this.__context)},__updateGLFromBuffer:function(e,i){for(var n,o,l,_,h,s=0,m=0,f=e.inputCount;m<f;)h=m++,n=e.inputRefs[h],o=e.inputs[h],l=e.inputFilter[h],_=e.inputMipFilter[h],h=e.inputWrap[h],null!=o&&(n.__updateGL(this.__context,s,o,l,_,h),++s);s=this.__context.gl,0<e.paramDataLength?(null==e.paramDataBuffer&&(e.paramDataBuffer=s.createBuffer()),this.__context.__bindGLArrayBuffer(e.paramDataBuffer),zb.bufferData(s,s.ARRAY_BUFFER,e.paramData,s.DYNAMIC_DRAW)):this.__context.__bindGLArrayBuffer(null),o=n=s=0,l=e.paramBoolCount,_=e.paramFloatCount,m=e.paramData;for(var y,g=h=null,j=null,$=0,yt=e.paramCount;$<yt;){var _t=$++;if(f=!1,_t<l){y=e.paramRefs_Bool[s];for(var xt=0,Tt=e.overrideBoolCount;xt<Tt;){var St=xt++;if(y.name==e.overrideBoolNames[St]){h=e.overrideBoolValues[St],f=!0;break}}f?y.__updateGL(this.__context,h):y.__updateGLFromBuffer(this.__context,m,e.paramPositions[_t],e.paramLengths[_t],i),++s}else if(_t<l+_){for(y=e.paramRefs_Float[n],xt=0,Tt=e.overrideFloatCount;xt<Tt;)if(St=xt++,y.name==e.overrideFloatNames[St]){g=e.overrideFloatValues[St],f=!0;break}f?y.__updateGL(this.__context,g):y.__updateGLFromBuffer(this.__context,m,e.paramPositions[_t],e.paramLengths[_t],i),++n}else{for(y=e.paramRefs_Int[o],xt=0,Tt=e.overrideIntCount;xt<Tt;)if(St=xt++,y.name==e.overrideIntNames[St]){j=e.overrideIntValues[St],f=!0;break}f?y.__updateGL(this.__context,j):y.__updateGLFromBuffer(this.__context,m,e.paramPositions[_t],e.paramLengths[_t],i),++o}}},get_data:function(){return(this.__glSourceDirty||null==this.__data)&&this.__init(),this.__data},set_data:function(e){return this.__data=e},get_glFragmentSource:function(){return this.__glFragmentSource},set_glFragmentSource:function(e){return e!=this.__glFragmentSource&&(this.__glSourceDirty=!0),this.__glFragmentSource=e},get_glVertexSource:function(){return this.__glVertexSource},set_glVertexSource:function(e){return e!=this.__glVertexSource&&(this.__glSourceDirty=!0),this.__glVertexSource=e},__class__:Ze,__properties__:{set_glVertexSource:"set_glVertexSource",get_glVertexSource:"get_glVertexSource",set_glFragmentSource:"set_glFragmentSource",get_glFragmentSource:"get_glFragmentSource",set_data:"set_data",get_data:"get_data"}};var No=function(){null==this.__glFragmentSource&&(this.__glFragmentSource="varying vec2 openfl_AlphaTextureCoordv;\n\t\tvarying vec2 openfl_TextureCoordv;\n\n\t\tuniform sampler2D openfl_AlphaTexture;\n\t\tuniform sampler2D openfl_Texture;\n\n\t\tvoid main(void)\n\t\t{\n\t\t\tvec4 mask = texture2D (openfl_AlphaTexture, openfl_AlphaTextureCoordv);\n\n\t\t\tif (mask.a == 0.0)\n\t\t\t{\n\t\t\t\tgl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tvec4 color = texture2D (openfl_Texture, openfl_TextureCoordv);\n\t\t\t\tgl_FragColor = color * mask.a;\n\t\t\t}\n\t\t}"),null==this.__glVertexSource&&(this.__glVertexSource="attribute vec4 openfl_Position;\n\t\tattribute vec2 openfl_TextureCoord;\n\t\tvarying vec2 openfl_AlphaTextureCoordv;\n\t\tvarying vec2 openfl_TextureCoordv;\n\n\t\tuniform mat4 openfl_AlphaTextureMatrix;\n\t\tuniform mat4 openfl_Matrix;\n\n\t\tvoid main(void)\n\t\t{\n\t\t\topenfl_TextureCoordv = openfl_TextureCoord;\n\t\t\topenfl_AlphaTextureCoordv = vec2(vec4(openfl_TextureCoord, 0.0, 0.0) * openfl_AlphaTextureMatrix);\n\n\t\t\tgl_Position = openfl_Matrix * openfl_Position;\n\t\t}"),Ze.call(this),this.__isGenerated=!0,this.__initGL()};k["openfl._internal.renderer.context3D.Context3DAlphaMaskShader"]=No,No.__name__="openfl._internal.renderer.context3D.Context3DAlphaMaskShader",No.__super__=Ze,No.prototype=x(Ze.prototype,{openfl_Position:null,openfl_TextureCoord:null,openfl_AlphaTextureMatrix:null,openfl_Matrix:null,openfl_AlphaTexture:null,openfl_Texture:null,__class__:No});var jh=function(){};k["openfl._internal.renderer.context3D.Context3DBitmap"]=jh,jh.__name__="openfl._internal.renderer.context3D.Context3DBitmap",jh.render=function(e,i){if(e.__renderable&&!(0>=e.__worldAlpha)&&null!=e.__bitmapData&&e.__bitmapData.__isValid){var s=i.context3D,n=null!=e.get_mask()&&e.get_mask().get_cacheAsBitmap();n&&e.get_mask().__type!=Oh.BITMAP&&(n=!1),i.__setBlendMode(e.__worldBlendMode),n||i.__pushMaskObject(e);var o=i.__initDisplayShader(n?i.__alphaMaskShader:e.__worldShader);if(i.setShader(o),i.applyBitmapData(e.__bitmapData,i.__allowSmoothing&&(e.smoothing||i.__upscaled)),i.applyMatrix(i.__getMatrix(e.__renderTransform,e.pixelSnapping)),i.applyAlpha(e.__worldAlpha),i.applyColorTransform(e.__worldColorTransform),n){var l=e.get_mask();i.__currentShader.__alphaTexture.input=l.__bitmapData,null==i.__currentShader.__alphaTextureMatrix.value&&(i.__currentShader.__alphaTextureMatrix.value=[]);var _=i.__currentShader.__alphaTextureMatrix.value,h=Fa.__pool.get();h.copyFrom(e.__renderTransform),h.invert(),h.concat(l.__renderTransform),_[0]=e.__bitmapData.width/l.__bitmapData.width*h.a,_[1]=h.b,_[4]=h.c,_[5]=e.__bitmapData.height/l.__bitmapData.height*h.d,_[12]=h.tx,_[13]=h.ty,_[15]=0,Fa.__pool.release(h)}i.updateShader(),l=e.__bitmapData.getVertexBuffer(s),null!=o.__position&&s.setVertexBufferAt(o.__position.index,l,0,3),null!=o.__textureCoord&&s.setVertexBufferAt(o.__textureCoord.index,l,3,2),o=e.__bitmapData.getIndexBuffer(s),s.drawTriangles(o),i.__clearShader(),n||i.__popMaskObject(e)}},jh.renderMask=function(e,i){if(null!=e.__bitmapData&&e.__bitmapData.__isValid){var s=i.context3D,n=i.__maskShader;i.setShader(n),i.applyBitmapData(Yi.opaqueBitmapData,!0),i.applyMatrix(i.__getMatrix(e.__renderTransform,e.pixelSnapping)),i.updateShader();var o=e.__bitmapData.getVertexBuffer(s);null!=n.__position&&s.setVertexBufferAt(n.__position.index,o,0,3),null!=n.__textureCoord&&s.setVertexBufferAt(n.__textureCoord.index,o,3,2),e=e.__bitmapData.getIndexBuffer(s),s.drawTriangles(e),i.__clearShader()}};var pi=function(e,i,s,n){this.context3D=e,this.elementType=i,this.dataPerVertex=n,this.vertexCount=this.indexCount=0,this.resize(s)};k["openfl._internal.renderer.context3D.Context3DBuffer"]=pi,pi.__name__="openfl._internal.renderer.context3D.Context3DBuffer",pi.prototype={dataPerVertex:null,elementCount:null,elementType:null,indexBufferData:null,indexBuffers:null,indexCount:null,vertexBuffer:null,vertexBufferData:null,vertexCount:null,context3D:null,drawElements:function(e,i){if(null==i&&(i=-1),0!=this.indexCount&&0!=this.vertexCount&&0==this.elementType._hx_index)if(-1==i&&(i=2*this.elementCount),10922>e&&10922>i-e)this.context3D.drawTriangles(this.indexBuffers[0],e,2*i);else for(var s=e+i;e<s;){var n=Math.floor(e/10922);if(0>=(i=0|Math.min(s-e,10922)))break;this.context3D.drawTriangles(this.indexBuffers[n],3*(e-10922*n),2*i),e+=i}},flushVertexBufferData:function(){this.vertexBufferData.length>this.vertexCount&&(this.vertexCount=this.vertexBufferData.length,this.vertexBuffer=this.context3D.createVertexBuffer(this.vertexCount,this.dataPerVertex,0)),this.vertexBuffer.uploadFromTypedArray(Bf.toArrayBufferView(this.vertexBufferData))},resize:function(e,i){null==i&&(i=-1),this.elementCount=e,-1==i&&(i=this.dataPerVertex),i!=this.dataPerVertex&&(this.vertexBuffer=null,this.vertexCount=0,this.dataPerVertex=i);var s=0;switch(this.elementType._hx_index){case 0:s=4*e;break;case 1:case 2:s=3*e}e=s*i,null==this.vertexBufferData?this.vertexBufferData=null!=e?new Float32Array(e):null:e>this.vertexBufferData.length&&(i=this.vertexBufferData,this.vertexBufferData=null!=e?new Float32Array(e):null,this.vertexBufferData.set(i))},__class__:pi};var kt=C["openfl._internal.renderer.context3D.Context3DElementType"]={__ename__:"openfl._internal.renderer.context3D.Context3DElementType",__constructs__:["QUADS","TRIANGLES","TRIANGLE_INDICES"],QUADS:{_hx_index:0,__enum__:"openfl._internal.renderer.context3D.Context3DElementType",toString:v},TRIANGLES:{_hx_index:1,__enum__:"openfl._internal.renderer.context3D.Context3DElementType",toString:v},TRIANGLE_INDICES:{_hx_index:2,__enum__:"openfl._internal.renderer.context3D.Context3DElementType",toString:v}},kr=function(){};k["openfl._internal.renderer.context3D.Context3DDisplayObject"]=kr,kr.__name__="openfl._internal.renderer.context3D.Context3DDisplayObject",kr.render=function(e,i){if(!(null==e.opaqueBackground&&null==e.__graphics||!e.__renderable||0>=e.__worldAlpha)){if(null!=e.opaqueBackground&&!e.__isCacheBitmapRender&&0<e.get_width()&&0<e.get_height()){i.__setBlendMode(e.__worldBlendMode),i.__pushMaskObject(e);var s=i.context3D,n=ia.__pool.get();n.setTo(0,0,e.get_width(),e.get_height()),i.__pushMaskRect(n,e.__renderTransform);var o=e.opaqueBackground;s.clear((o>>>16&255)/255,(o>>>8&255)/255,(255&o)/255,1,0,0,1),i.__popMaskRect(),i.__popMaskObject(e),ia.__pool.release(n)}null!=e.__graphics&&Kf.render(e,i)}},kr.renderMask=function(e,i){(null!=e.opaqueBackground||null!=e.__graphics)&&(null!=e.opaqueBackground&&!e.__isCacheBitmapRender&&0<e.get_width()&&e.get_height(),null!=e.__graphics&&Kf.renderMask(e,i))};var pa=function(e,i,s,n){null==n&&(n=-1),null==s&&(s=!0),this.transparent=s,i=0>(i=i??0)?0:i,this.width=e=0>(e=e??0)?0:e,this.height=i,this.rect=new ia(0,0,e,i),this.__textureWidth=e,this.__textureHeight=i,0<e&&0<i&&(s?!(-16777216&n)&&(n=0):n=-16777216|16777215&n,this.image=new Lb(null,0,0,e,i,n<<8|n>>>24&255),this.image.set_transparent(s),this.readable=this.__isValid=!0),this.__renderTransform=new Fa,this.__worldAlpha=1,this.__worldTransform=new Fa,this.__worldColorTransform=new Tb,this.__renderable=!0};k["openfl.display.BitmapData"]=pa,pa.__name__="openfl.display.BitmapData",pa.__interfaces__=[Id],pa.fromBase64=function(e,i){return null},pa.fromBytes=function(e,i){return null},pa.fromCanvas=function(e,i){if(null==i&&(i=!0),null==e)return null;var s=new pa(0,0,i,0);return s.__fromImage(Lb.fromCanvas(e)),s.image.set_transparent(i),s},pa.fromFile=function(e){return null},pa.fromImage=function(e,i){if(null==i&&(i=!0),null==e||null==e.buffer)return null;var s=new pa(0,0,i,0);return s.__fromImage(e),s.image.set_transparent(i),null!=s.image?s:null},pa.fromTexture=function(e){if(null==e)return null;var i=new pa(e.__width,e.__height,!0,0);return i.readable=!1,i.__texture=e,i.__textureContext=e.__textureContext,i.image=null,i},pa.loadFromBase64=function(e,i){return Lb.loadFromBase64(e,i).then(function(s){return wb.withValue(pa.fromImage(s))})},pa.loadFromBytes=function(e,i){return Lb.loadFromBytes(ta.toBytes(e)).then(function(s){return s=pa.fromImage(s),null!=i&&s.__applyAlpha(i),wb.withValue(s)})},pa.loadFromFile=function(e){return Lb.loadFromFile(e).then(function(i){return wb.withValue(pa.fromImage(i))})},pa.prototype={height:null,image:null,readable:null,rect:null,transparent:null,width:null,__blendMode:null,__framebuffer:null,__framebufferContext:null,__indexBuffer:null,__indexBufferContext:null,__indexBufferData:null,__indexBufferGrid:null,__isMask:null,__isValid:null,__mask:null,__renderable:null,__renderTransform:null,__scrollRect:null,__stencilBuffer:null,__surface:null,__symbol:null,__texture:null,__textureContext:null,__textureHeight:null,__textureVersion:null,__textureWidth:null,__transform:null,__type:null,__uvRect:null,__vertexBuffer:null,__vertexBufferContext:null,__vertexBufferData:null,__vertexBufferGrid:null,__vertexBufferHeight:null,__vertexBufferScaleX:null,__vertexBufferScaleY:null,__vertexBufferWidth:null,__worldAlpha:null,__worldColorTransform:null,__worldTransform:null,applyFilter:function(e,i,s,n){if(this.readable&&null!=e&&e.readable){var o=n.__preserveObject,l=null,_=(e=n.__needSecondBitmapData)?new pa(this.width,this.height,!0,0):this;o&&(l=new pa(this.width,this.height,!0,0)),n.__preserveObject&&l.copyPixels(this,this.rect,s),i=n.__applyFilter(_,this,i,s),n.__preserveObject&&i.draw(l,null,null),e&&i==_&&(_.image.version=this.image.version,this.image=_.image),this.image.dirty=!0,this.image.version++}},clone:function(){if(this.__isValid)if(this.readable||null!=this.image)var e=pa.fromImage(this.image.clone(),this.transparent);else(e=new pa(0,0,this.transparent,0)).width=this.width,e.height=this.height,e.__textureWidth=this.__textureWidth,e.__textureHeight=this.__textureHeight,e.rect.copyFrom(this.rect),e.__framebuffer=this.__framebuffer,e.__framebufferContext=this.__framebufferContext,e.__texture=this.__texture,e.__textureContext=this.__textureContext,e.__isValid=!0;else e=new pa(this.width,this.height,this.transparent,0);return e.__worldTransform.copyFrom(this.__worldTransform),e.__renderTransform.copyFrom(this.__renderTransform),e},colorTransform:function(e,i){this.readable&&this.image.colorTransform(e.__toLimeRectangle(),i.__toLimeColorMatrix())},compare:function(e){if(e==this)return 0;if(null==e)return-1;if(0==this.readable||0==e.readable)return-2;if(this.width!=e.width)return-3;if(this.height!=e.height)return-4;if(null!=this.image&&null!=e.image&&this.image.get_format()==e.image.get_format()){for(var i=this.image.get_data(),s=e.image.get_data(),n=!0,o=0,l=i.length;o<l;){var _=o++;if(i[_]!=s[_]){n=!1;break}}if(n)return 0}for(i=null,o=0,l=this.height;o<l;){_=o++;for(var h=0,m=this.width;h<m;){var f=h++;s=!1;var y=this.getPixel32(f,_),g=e.getPixel32(f,_);if(n=0,y!=g){var j=(y>>>16&255)-(g>>>16&255),$=(y>>>8&255)-(g>>>8&255),yt=(255&y)-(255&g);0>j&&(j*=-1),0>$&&($*=-1),0>yt&&(yt*=-1),0==j&&0==$&&0==yt?0!=(y=(y>>>24&255)-(g>>>24&255))&&(n=(255&y)<<24|((n=((n=((n=(n>>>24&255)<<24|16711680|(n>>>8&255)<<8|255&n)>>>24&255)<<24|(n>>>16&255)<<16|65280|255&n)>>>24&255)<<24|(n>>>16&255)<<16|(n>>>8&255)<<8|255)>>>16&255)<<16|(n>>>8&255)<<8|255&n,s=!0):(n=-16777216|((n=((n=((n=(n>>>24&255)<<24|(255&j)<<16|(n>>>8&255)<<8|255&n)>>>24&255)<<24|(n>>>16&255)<<16|(255&$)<<8|255&n)>>>24&255)<<24|(n>>>16&255)<<16|(n>>>8&255)<<8|255&yt)>>>16&255)<<16|(n>>>8&255)<<8|255&n,s=!0)}s&&(null==i&&(i=new pa(this.width,this.height,this.transparent||e.transparent,0)),i.setPixel32(f,_,n))}}return i??0},copyChannel:function(e,i,s,n,o){if(this.readable){switch(n){case 1:n=yf.RED;break;case 2:n=yf.GREEN;break;case 4:n=yf.BLUE;break;case 8:n=yf.ALPHA;break;default:return}switch(o){case 1:o=yf.RED;break;case 2:o=yf.GREEN;break;case 4:o=yf.BLUE;break;case 8:o=yf.ALPHA;break;default:return}this.image.copyChannel(e.image,i.__toLimeRectangle(),s.__toLimeVector2(),n,o)}},copyPixels:function(e,i,s,n,o,l){if(null==l&&(l=!1),this.readable&&null!=e)if(null==n||!n.transparent||n==e&&(null==o||0==o.x&&0==o.y))null!=o&&(pa.__tempVector.x=o.x,pa.__tempVector.y=o.y),this.image.copyPixels(e.image,i.__toLimeRectangle(),s.__toLimeVector2(),null!=n?n.image:null,null!=o?pa.__tempVector:null,l);else{var _=ra.__pool.get(),h=ia.__pool.get();h.copyFrom(e.rect),h.__contract(i.x,i.y,i.width,i.height),i=pa.__pool.get(0|h.width,0|h.height),za.convertToCanvas(i.image),za.convertToCanvas(e.image),za.convertToCanvas(n.image),null!=o&&(h.x+=o.x,h.y+=o.y),i.image.buffer.__srcContext.globalCompositeOperation="source-over",i.image.buffer.__srcContext.drawImage(n.image.buffer.get_src(),h.x+e.image.offsetX|0,h.y+e.image.offsetY|0,0|h.width,0|h.height,_.x+this.image.offsetX|0,_.y+this.image.offsetY|0,0|h.width,0|h.height),null!=o&&(h.x-=o.x,h.y-=o.y),i.image.buffer.__srcContext.globalCompositeOperation="source-in",i.image.buffer.__srcContext.drawImage(e.image.buffer.get_src(),h.x+e.image.offsetX|0,h.y+e.image.offsetY|0,0|h.width,0|h.height,_.x+this.image.offsetX|0,_.y+this.image.offsetY|0,0|h.width,0|h.height),this.image.copyPixels(i.image,i.rect.__toLimeRectangle(),s.__toLimeVector2(),null,null,l),pa.__pool.release(i),ia.__pool.release(h),ra.__pool.release(_)}},dispose:function(){this.image=null,this.height=this.width=0,this.rect=null,this.readable=this.__isValid=!1,this.__textureContext=this.__texture=this.__framebufferContext=this.__framebuffer=this.__vertexBuffer=this.__surface=null},disposeImage:function(){this.readable=!1},draw:function(e,i,s,n,o,l){if(null==l&&(l=!1),null!=e){e.__update(!1,!0);var _=Fa.__pool.get();if(_.copyFrom(e.__renderTransform),_.invert(),null!=i&&_.concat(i),(i=new Tb).__copyFrom(e.__worldColorTransform),i.__invert(),this.readable||null==this.__texture||null==pa.__hardwareRenderer){if(null!=s){var h=ia.__pool.get(),m=Fa.__pool.get();e.__getBounds(h,m);var f=Math.ceil(h.width),y=Math.ceil(h.height);m.tx=-h.x,m.ty=-h.y,(f=new pa(f,y,!0,0)).draw(e,m),f.colorTransform(f.rect,s),f.__renderTransform.identity(),f.__renderTransform.tx=h.x,f.__renderTransform.ty=h.y,f.__renderTransform.concat(e.__renderTransform),f.__worldAlpha=e.__worldAlpha,f.__worldColorTransform.__copyFrom(e.__worldColorTransform),e=f,ia.__pool.release(h),Fa.__pool.release(m)}null==pa.__softwareRenderer&&(pa.__softwareRenderer=new ih(null)),za.convertToCanvas(this.image),(s=pa.__softwareRenderer).context=this.image.buffer.__srcContext,s.__allowSmoothing=l,s.__overrideBlendMode=n,s.__worldTransform=_,s.__worldAlpha=1/e.__worldAlpha,s.__worldColorTransform=i,s.__drawBitmapData(this,e,o)}else null==this.__textureContext&&(this.__textureContext=We.current.__window.context),null!=s&&i.__combine(s),pa.__hardwareRenderer.__allowSmoothing=l,pa.__hardwareRenderer.__overrideBlendMode=n,pa.__hardwareRenderer.__worldTransform=_,pa.__hardwareRenderer.__worldAlpha=1/e.__worldAlpha,pa.__hardwareRenderer.__worldColorTransform=i,pa.__hardwareRenderer.__resize(this.width,this.height),pa.__hardwareRenderer.__drawBitmapData(this,e,o);Fa.__pool.release(_)}},drawWithQuality:function(e,i,s,n,o,l,_){null==l&&(l=!1),this.draw(e,i,s,n,o,2!=_&&l)},encode:function(e,i,s){if(!this.readable||null==e)return null;null==s&&(s=new vc(0));var n=this.image;if(!e.equals(this.rect)){var o=Fa.__pool.get();o.tx=Math.round(-e.x),o.ty=Math.round(-e.y),(e=new pa(Math.ceil(e.width),Math.ceil(e.height),!0,0)).draw(this,o),n=e.image,Fa.__pool.release(o)}return i instanceof lr?(s.writeBytes(ta.fromBytes(n.encode(jt.PNG)),0,0),s):i instanceof Oo?(s.writeBytes(ta.fromBytes(n.encode(jt.JPEG,T.__cast(i,Oo).quality)),0,0),s):null},fillRect:function(e,i){null!=e&&(this.transparent&&!(-16777216&i)&&(i=0),this.readable||null==this.__texture||null==pa.__hardwareRenderer?this.readable&&this.image.fillRect(e.__toLimeRectangle(),i,1):pa.__hardwareRenderer.__fillRect(this,e,i))},floodFill:function(e,i,s){this.readable&&this.image.floodFill(e,i,s,1)},generateFilterRect:function(e,i){return e.clone()},getIndexBuffer:function(e,i){if(null==this.__indexBuffer||this.__indexBufferContext!=e.__context||null!=i&&null==this.__indexBufferGrid||null!=this.__indexBufferGrid&&!this.__indexBufferGrid.equals(i)){if(this.__indexBufferContext=e.__context,this.__indexBuffer=null,null!=i){null==this.__indexBufferGrid&&(this.__indexBufferGrid=new ia),this.__indexBufferGrid.copyFrom(i);var s=i.width;i=i.height,0!=s&&0!=i?(this.__indexBufferData=new Uint16Array(54),this.__indexBufferData[0]=0,this.__indexBufferData[1]=1,this.__indexBufferData[2]=2,this.__indexBufferData[3]=2,this.__indexBufferData[4]=1,this.__indexBufferData[5]=3,this.__indexBufferData[6]=4,this.__indexBufferData[7]=5,this.__indexBufferData[8]=6,this.__indexBufferData[9]=6,this.__indexBufferData[10]=5,this.__indexBufferData[11]=7,this.__indexBufferData[12]=8,this.__indexBufferData[13]=9,this.__indexBufferData[14]=10,this.__indexBufferData[15]=10,this.__indexBufferData[16]=9,this.__indexBufferData[17]=11,this.__indexBufferData[18]=12,this.__indexBufferData[19]=13,this.__indexBufferData[20]=14,this.__indexBufferData[21]=14,this.__indexBufferData[22]=13,this.__indexBufferData[23]=15,this.__indexBufferData[24]=16,this.__indexBufferData[25]=18,this.__indexBufferData[26]=17,this.__indexBufferData[27]=17,this.__indexBufferData[28]=18,this.__indexBufferData[29]=19,this.__indexBufferData[30]=20,this.__indexBufferData[31]=21,this.__indexBufferData[32]=22,this.__indexBufferData[33]=22,this.__indexBufferData[34]=21,this.__indexBufferData[35]=23,this.__indexBufferData[36]=24,this.__indexBufferData[37]=25,this.__indexBufferData[38]=26,this.__indexBufferData[39]=26,this.__indexBufferData[40]=25,this.__indexBufferData[41]=27,this.__indexBufferData[42]=28,this.__indexBufferData[43]=29,this.__indexBufferData[44]=30,this.__indexBufferData[45]=30,this.__indexBufferData[46]=29,this.__indexBufferData[47]=31,this.__indexBufferData[48]=32,this.__indexBufferData[49]=33,this.__indexBufferData[50]=34,this.__indexBufferData[51]=34,this.__indexBufferData[52]=33,this.__indexBufferData[53]=35,this.__indexBuffer=e.createIndexBuffer(54)):0==s&&0!=i?(this.__indexBufferData=new Uint16Array(18),this.__indexBufferData[0]=0,this.__indexBufferData[1]=1,this.__indexBufferData[2]=2,this.__indexBufferData[3]=2,this.__indexBufferData[4]=1,this.__indexBufferData[5]=3,this.__indexBufferData[6]=4,this.__indexBufferData[7]=5,this.__indexBufferData[8]=0,this.__indexBufferData[9]=0,this.__indexBufferData[10]=5,this.__indexBufferData[11]=1,this.__indexBufferData[12]=6,this.__indexBufferData[13]=7,this.__indexBufferData[14]=4,this.__indexBufferData[15]=4,this.__indexBufferData[16]=7,this.__indexBufferData[17]=5,this.__indexBuffer=e.createIndexBuffer(18)):0!=s&&0==i&&(this.__indexBufferData=new Uint16Array(18),this.__indexBufferData[0]=0,this.__indexBufferData[1]=1,this.__indexBufferData[2]=2,this.__indexBufferData[3]=2,this.__indexBufferData[4]=1,this.__indexBufferData[5]=3,this.__indexBufferData[6]=4,this.__indexBufferData[7]=0,this.__indexBufferData[8]=5,this.__indexBufferData[9]=5,this.__indexBufferData[10]=0,this.__indexBufferData[11]=2,this.__indexBufferData[12]=6,this.__indexBufferData[13]=4,this.__indexBufferData[14]=7,this.__indexBufferData[15]=7,this.__indexBufferData[16]=4,this.__indexBufferData[17]=5,this.__indexBuffer=e.createIndexBuffer(18))}else this.__indexBufferGrid=null;null==this.__indexBuffer&&(this.__indexBufferData=new Uint16Array(6),this.__indexBufferData[0]=0,this.__indexBufferData[1]=1,this.__indexBufferData[2]=2,this.__indexBufferData[3]=2,this.__indexBufferData[4]=1,this.__indexBufferData[5]=3,this.__indexBuffer=e.createIndexBuffer(6)),this.__indexBuffer.uploadFromTypedArray(this.__indexBufferData)}return this.__indexBuffer},getVertexBuffer:function(e,i,s){if(null==this.__vertexBuffer||this.__vertexBufferContext!=e.__context||null!=i&&null==this.__vertexBufferGrid||null!=this.__vertexBufferGrid&&!this.__vertexBufferGrid.equals(i)||null!=s&&(this.__vertexBufferWidth!=s.get_width()||this.__vertexBufferHeight!=s.get_height()||this.__vertexBufferScaleX!=s.get_scaleX()||this.__vertexBufferScaleY!=s.get_scaleY())){if(this.__uvRect=new ia(0,0,this.width,this.height),this.__vertexBufferContext=e.__context,this.__vertexBuffer=null,null!=i&&null!=s){null==this.__vertexBufferGrid&&(this.__vertexBufferGrid=new ia),this.__vertexBufferGrid.copyFrom(i),this.__vertexBufferWidth=s.get_width(),this.__vertexBufferHeight=s.get_height(),this.__vertexBufferScaleX=s.get_scaleX(),this.__vertexBufferScaleY=s.get_scaleY();var n=i.width,o=i.height;if(0!=n&&0!=o){this.__vertexBufferData=new Float32Array(504);var l=i.x,_=i.y,h=this.__vertexBufferWidth-n-l,m=this.__vertexBufferHeight-o-_;o=l/this.__vertexBufferWidth,n=_/this.__vertexBufferHeight;var f=i.width/this.__vertexBufferWidth;i=i.height/this.__vertexBufferHeight;var y=.5/this.__vertexBufferWidth,g=.5/this.__vertexBufferHeight;l/=s.get_scaleX(),_/=s.get_scaleY(),h/=s.get_scaleX(),s=m/s.get_scaleY(),h=this.width-l-h,s=this.height-_-s,this.__setVertex(0,0,0,0,0),this.__setVertices([3,6,13,16],l,_,1*o,1*n),this.__setVertices([2,12],0,_,0,1*n),this.__setVertices([1,4],l,0,1*o,0),this.__setVertices([7,10,18,20],l+h,_,1*(o+f),1*n),this.__setVertices([5,8],l+h,0,1*(o+f),0),this.__setVertices([11,21],this.width,_,1,1*n),this.__setVertex(9,this.width,0,1,0),this.__setVertices([15,17,25,28],l,_+s,1*o,1*(n+i)),this.__setVertices([14,24],0,_+s,0,1*(n+i)),this.__setVertices([19,22,29,32],l+h,_+s,1*(o+f),1*(n+i)),this.__setVertices([23,33],this.width,_+s,1,1*(n+i)),this.__setVertices([27,30],l,this.height,1*o,1),this.__setVertex(26,0,this.height,0,1),this.__setVertices([31,34],l+h,this.height,1*(o+f),1),this.__setVertex(35,this.width,this.height,1,1),this.__setUOffsets([1,3,5,7,13,15,18,19,25,27,29,31],-y),this.__setUOffsets([4,6,8,10,16,17,20,22,28,30,32,34],y),this.__setVOffsets([2,3,6,7,10,11,14,15,17,19,22,23],-g),this.__setVOffsets([12,13,16,18,20,21,24,25,28,29,32,33],g),this.__vertexBuffer=e.createVertexBuffer(16,14)}else 0==n&&0!=o?(this.__vertexBufferData=new Float32Array(112),i=this.height-o-(f=i.y),n=f/this.height,o/=this.height,f/=s.get_scaleY(),i/=s.get_scaleY(),i=s.get_height()/s.get_scaleY()-f-i,s=s.get_width()/s.get_scaleX(),this.__vertexBufferData[0]=s,this.__vertexBufferData[1]=f,this.__vertexBufferData[3]=1,this.__vertexBufferData[4]=1*n,this.__vertexBufferData[15]=f,this.__vertexBufferData[18]=1*n,this.__vertexBufferData[28]=s,this.__vertexBufferData[31]=1,this.__vertexBufferData[56]=s,this.__vertexBufferData[57]=f+i,this.__vertexBufferData[59]=1,this.__vertexBufferData[60]=1*(n+o),this.__vertexBufferData[71]=f+i,this.__vertexBufferData[74]=1*(n+o),this.__vertexBufferData[84]=s,this.__vertexBufferData[85]=this.height,this.__vertexBufferData[87]=1,this.__vertexBufferData[88]=1,this.__vertexBufferData[99]=this.height,this.__vertexBufferData[102]=1,this.__vertexBuffer=e.createVertexBuffer(8,14)):0==o&&0!=n&&(this.__vertexBufferData=new Float32Array(112),i=this.width-n-(f=i.x),o=f/this.width,n/=this.width,f/=s.get_scaleX(),i/=s.get_scaleX(),i=s.get_width()/s.get_scaleX()-f-i,s=s.get_height()/s.get_scaleY(),this.__vertexBufferData[0]=f,this.__vertexBufferData[1]=s,this.__vertexBufferData[3]=1*o,this.__vertexBufferData[4]=1,this.__vertexBufferData[15]=s,this.__vertexBufferData[18]=1,this.__vertexBufferData[28]=f,this.__vertexBufferData[31]=1*o,this.__vertexBufferData[56]=f+i,this.__vertexBufferData[57]=s,this.__vertexBufferData[59]=1*(o+n),this.__vertexBufferData[60]=1,this.__vertexBufferData[70]=f+i,this.__vertexBufferData[73]=1*(o+n),this.__vertexBufferData[84]=this.width,this.__vertexBufferData[85]=s,this.__vertexBufferData[87]=1,this.__vertexBufferData[88]=1,this.__vertexBufferData[98]=this.width,this.__vertexBufferData[101]=1,this.__vertexBuffer=e.createVertexBuffer(8,14))}else this.__vertexBufferGrid=null;null==this.__vertexBuffer&&(this.__vertexBufferData=new Float32Array(56),this.__vertexBufferData[0]=this.width,this.__vertexBufferData[1]=this.height,this.__vertexBufferData[3]=1,this.__vertexBufferData[4]=1,this.__vertexBufferData[15]=this.height,this.__vertexBufferData[18]=1,this.__vertexBufferData[28]=this.width,this.__vertexBufferData[31]=1,this.__vertexBuffer=e.createVertexBuffer(3,14)),this.__vertexBuffer.uploadFromTypedArray(Bf.toArrayBufferView(this.__vertexBufferData))}return this.__vertexBuffer},getColorBoundsRect:function(e,i,s){return null==s&&(s=!0),this.readable?(e=this.image.getColorBoundsRect(e,i,s,1),new ia(e.x,e.y,e.width,e.height)):new ia(0,0,this.width,this.height)},getPixel:function(e,i){return this.readable?this.image.getPixel(e,i,1):0},getPixel32:function(e,i){return this.readable?this.image.getPixel32(e,i,1):0},getPixels:function(e){return this.readable?(null==e&&(e=this.rect),(e=ta.fromBytes(this.image.getPixels(e.__toLimeRectangle(),1))).__endian=0,e):null},getSurface:function(){return this.readable?(null==this.__surface&&(this.__surface=bh.fromImage(this.image)),this.__surface):null},getTexture:function(e){return this.__isValid?((null==this.__texture||this.__textureContext!=e.__context)&&(this.__textureContext=e.__context,this.__texture=e.createRectangleTexture(this.width,this.height,1,!1),this.__textureVersion=-1),za.sync(this.image,!1),null!=this.image&&this.image.version>this.__textureVersion&&(null!=this.__surface&&Tq.flush(this.__surface),e=this.image,pc.__supportsBGRA||0==e.get_format()||(e=e.clone()).set_format(0),this.__texture.__uploadFromImage(e),this.__textureVersion=this.image.version,this.__textureWidth=e.buffer.width,this.__textureHeight=e.buffer.height),this.readable||null==this.image||(this.image=this.__surface=null),this.__texture):null},getVector:function(e){e=this.getPixels(e);for(var i=Ga.toFloat(ta.get_length(e))/Ga.toFloat(4)|0,s=La.toIntVector(null,i,!0),n=0;n<i;){var o=n++;s.set(o,e.readUnsignedInt())}return s},histogram:function(e){e=e??new ia(0,0,this.width,this.height),e=this.getPixels(e);for(var i=[],s=[],n=0;256>n;)n++,s.push(0);for(i.push(s),s=[],n=0;256>n;)n++,s.push(0);for(i.push(s),s=[],n=0;256>n;)n++,s.push(0);for(i.push(s),s=[],n=0;256>n;)n++,s.push(0);for(i.push(s),s=0,n=ta.get_length(e);s<n;)++i[s++%4][e.readUnsignedByte()];return i},hitTest:function(e,i,s,n,o){if(null==o&&(o=1),!this.readable)return!1;if(s instanceof Uc&&(s=T.__cast(s,Uc).__bitmapData),s instanceof ra){if(this.rect.contains(o=(n=s).x-e.x|0,e=n.y-e.y|0)&&(this.getPixel32(o,e)>>24&255)>i)return!0}else if(s instanceof pa){var l;if(null==n)var _=l=0;else l=Math.round(n.x-e.x),_=Math.round(n.y-e.y);if((e=ia.__pool.get()).setTo(l,_,s.width,s.height),this.rect.intersects(e)){0>l?(e.x=0,e.width=Math.min(s.width+l,this.width)):e.width=Math.min(s.width,this.width-l),0>_?(e.y=0,e.height=Math.min(s.height+_,this.height)):e.height=Math.min(s.height,this.height-_),n=this.getPixels(e),e.x=0>l?-l:0,e.y=0>_?-_:0,s=s.getPixels(e);for(var h=0,m=e.width*e.height|0;h<m;)if(h++,l=n.readUnsignedInt(),_=s.readUnsignedInt(),Ga.gt(l>>>24&255,i)&&Ga.gt(_>>>24&255,o))return ia.__pool.release(e),!0}ia.__pool.release(e)}else if(s instanceof ia){if((o=ia.__pool.get()).copyFrom(s),o.offset(-e.x,-e.y),o.__contract(0,0,this.width,this.height),0<o.width&&0<o.height)for(e=this.getPixels(o),s=0,l=Ga.toFloat(ta.get_length(e))/Ga.toFloat(4)|0;s<l;)if(s++,n=e.readUnsignedInt(),Ga.gt(n>>>24&255,i))return ia.__pool.release(o),!0;ia.__pool.release(o)}return!1},lock:function(){},merge:function(e,i,s,n,o,l,_){this.readable&&null!=e&&e.readable&&null!=i&&null!=s&&this.image.merge(e.image,i.__toLimeRectangle(),s.__toLimeVector2(),n,o,l,_)},noise:function(e,i,s,n,o){if(null==o&&(o=!1),null==n&&(n=7),null==s&&(s=255),null==i&&(i=0),this.readable){var l=function(){return e=1103515245*e+12345,(0|Math.abs(e/65536))%32768};l(),s-=i;var _=1==(1&n),h=(2&n)>>1==1,m=(4&n)>>2==1;n=(8&n)>>3==1;for(var f=0,y=this.height;f<y;)for(var g=f++,j=0,$=this.width;j<$;){var yt=j++,_t=0,xt=0,Tt=0,St=255;o?(_t=Tt=xt=i+l()%s,St=255):(_&&(_t=i+l()%s),h&&(Tt=i+l()%s),m&&(xt=i+l()%s),n&&(St=i+l()%s)),this.setPixel32(yt,g,St=((St=((St=(St<<8)+_t)<<8)+Tt)<<8)+xt)}}},paletteMap:function(e,i,s,n,o,l,_){var h=0|i.width,m=0|i.height;e=e.getPixels(i),i=0;for(var f=m*h;i<f;){var y=i++,g=e.readUnsignedInt(),$=null==n?16711680&g:n[g>>16&255];$=(null==_?-16777216&g:_[g>>24&255])+$+(null==o?65280&g:o[g>>8&255])+(g=null==l?255&g:l[255&g]),e.position=4*y,e.writeUnsignedInt($)}e.position=0,(n=ia.__pool.get()).setTo(s.x,s.y,h,m),this.setPixels(n,e),ia.__pool.release(n)},perlinNoise:function(e,i,s,n,o,l,_,h,m){null==h&&(h=!1),null==_&&(_=7),this.readable&&new Zi(n,s,_,h,.5,o,.15).fill(this,e,i,0)},scroll:function(e,i){this.readable&&this.image.scroll(e,i)},setPixel:function(e,i,s){this.readable&&this.image.setPixel(e,i,s,1)},setPixel32:function(e,i,s){this.readable&&this.image.setPixel32(e,i,s,1)},setPixels:function(e,i){if(this.readable&&null!=e){var s=e.width*e.height*4;if(Ga.toFloat(i.length-i.position)<s)throw new E(new Xc("End of file was encountered.",2030));this.image.setPixels(e.__toLimeRectangle(),ta.toBytePointer(i),1,$i.toLimeEndian(i.__endian))}},setVector:function(e,i){var s=new vc(0);for(ta.set_length(s,4*i.get_length()),i=i.iterator();i.hasNext();){var n=i.next();s.writeUnsignedInt(n)}s.position=0,this.setPixels(e,s)},threshold:function(e,i,s,n,o,l,_,h){return null==h&&(h=!1),null==_&&(_=-1),null==l&&(l=0),null==e||null==i||null==s||i.x>e.width||i.y>e.height||s.x>this.width||s.y>this.height?0:this.image.threshold(e.image,i.__toLimeRectangle(),s.__toLimeVector2(),n,o,l,_,h,1)},unlock:function(e){},__applyAlpha:function(e){za.convertToCanvas(this.image),za.createImageData(this.image);for(var i=this.image.buffer.data,s=0,n=ta.get_length(e);s<n;)i[4*s+++3]=e.readUnsignedByte();this.image.version++},__fromBase64:function(e,i){e=Lb.fromBase64(e,i),this.__fromImage(e)},__fromBytes:function(e,i){e=Lb.fromBytes(ta.toBytes(e)),this.__fromImage(e),null!=i&&this.__applyAlpha(i)},__fromFile:function(e){e=Lb.fromFile(e),this.__fromImage(e)},__fromImage:function(e){null!=e&&null!=e.buffer&&(this.image=e,this.width=e.width,this.height=e.height,this.rect=new ia(0,0,e.width,e.height),this.__textureWidth=this.width,this.__textureHeight=this.height,this.__isValid=this.readable=!0)},__fromSymbol:function(e,i){var s=this;this.__symbol=i,Lb.loadFromFile(i.path).onComplete(function(n){null!=i.alpha?Lb.loadFromFile(i.alpha).onComplete(function(o){if(null!=n&&null!=o){var l=o.get_rect();n.copyChannel(o,l,new Fd,yf.RED,yf.ALPHA),n.buffer.premultiplied=!0,n.set_premultiplied(!1)}s.__fromImage(n)}):s.__fromImage(n)})},__getBounds:function(e,i){var s=ia.__pool.get();this.rect.__transform(s,i),e.__expand(s.x,s.y,s.width,s.height),ia.__pool.release(s)},__loadFromBase64:function(e,i){var s=this;return Lb.loadFromBase64(e,i).then(function(n){return s.__fromImage(n),wb.withValue(s)})},__loadFromBytes:function(e,i){var s=this;return Lb.loadFromBytes(ta.toBytes(e)).then(function(n){return s.__fromImage(n),null!=i&&s.__applyAlpha(i),wb.withValue(s)})},__loadFromFile:function(e){var i=this;return Lb.loadFromFile(e).then(function(s){return i.__fromImage(s),wb.withValue(i)})},__resize:function(e,i){this.width=e,this.height=i,this.rect.width=e,this.rect.height=i,this.__textureWidth=e,this.__textureHeight=i},__setUVRect:function(e,i,s,n,o){if(null!=this.getVertexBuffer(e)&&(n!=this.__uvRect.width||o!=this.__uvRect.height||i!=this.__uvRect.x||s!=this.__uvRect.y)){null==this.__uvRect&&(this.__uvRect=new ia),this.__uvRect.setTo(i,s,n,o),e=0<this.__textureWidth?i/this.__textureWidth:0,s=0<this.__textureHeight?s/this.__textureHeight:0,i=0<this.__textureWidth?n/this.__textureWidth:0;var l=0<this.__textureHeight?o/this.__textureHeight:0;this.__vertexBufferData[0]=n,this.__vertexBufferData[1]=o,this.__vertexBufferData[3]=e+i,this.__vertexBufferData[4]=s+l,this.__vertexBufferData[15]=o,this.__vertexBufferData[17]=e,this.__vertexBufferData[18]=s+l,this.__vertexBufferData[28]=n,this.__vertexBufferData[31]=e+i,this.__vertexBufferData[32]=s,this.__vertexBufferData[45]=e,this.__vertexBufferData[46]=s,this.__vertexBuffer.uploadFromTypedArray(Bf.toArrayBufferView(this.__vertexBufferData))}},__setVertex:function(e,i,s,n,o){this.__vertexBufferData[e*=14]=i,this.__vertexBufferData[e+1]=s,this.__vertexBufferData[e+3]=n,this.__vertexBufferData[e+4]=o},__setVertices:function(e,i,s,n,o){for(var l=0;l<e.length;){var _=e[l];++l,this.__setVertex(_,i,s,n,o)}},__setUOffsets:function(e,i){for(var s=0;s<e.length;){var n=e[s];++s,this.__vertexBufferData[14*n+3]+=i}},__setVOffsets:function(e,i){for(var s=0;s<e.length;){var n=e[s];++s,this.__vertexBufferData[14*n+4]+=i}},__sync:function(){za.sync(this.image,!1)},__update:function(e,i){this.__updateTransforms()},__updateTransforms:function(e){null==e?this.__worldTransform.identity():this.__worldTransform.copyFrom(e),this.__renderTransform.copyFrom(this.__worldTransform)},__class__:pa};var Yc=function(){};k["openfl._internal.renderer.context3D.Context3DGraphics"]=Yc,Yc.__name__="openfl._internal.renderer.context3D.Context3DGraphics",Yc.buildBuffer=function(e,i){var s=0,n=0,o=0,l=new vg(e.__commands);i=i.context3D;for(var _=ia.__pool.get(),h=Fa.__pool.get(),m=null,f=0,y=e.__commands.types;f<y.length;){var g=y[f];switch(++f,g._hx_index){case 0:switch(l.prev._hx_index){case 0:case 14:l.oPos+=2,l.bPos+=2;break;case 1:l.iPos+=1,l.fPos+=1;break;case 2:case 15:l.oPos+=4,l.iiPos+=2,l.ffPos+=1,l.fPos+=1;break;case 3:case 19:case 20:l.oPos+=1;break;case 4:l.fPos+=6;break;case 5:case 7:case 9:l.fPos+=4;break;case 6:l.fPos+=3;break;case 8:l.oPos+=3;break;case 10:l.fPos+=5,l.oPos+=1;break;case 12:l.oPos+=4;break;case 16:l.oPos+=4,l.iPos+=1,l.fPos+=2,l.bPos+=1;break;case 17:case 18:l.fPos+=2}l.prev=ma.BEGIN_BITMAP_FILL,m=(m=l).buffer.o[m.oPos];break;case 1:switch(m=null,l.prev._hx_index){case 0:case 14:l.oPos+=2,l.bPos+=2;break;case 1:l.iPos+=1,l.fPos+=1;break;case 2:case 15:l.oPos+=4,l.iiPos+=2,l.ffPos+=1,l.fPos+=1;break;case 3:case 19:case 20:l.oPos+=1;break;case 4:l.fPos+=6;break;case 5:case 7:case 9:l.fPos+=4;break;case 6:l.fPos+=3;break;case 8:l.oPos+=3;break;case 10:l.fPos+=5,l.oPos+=1;break;case 12:l.oPos+=4;break;case 16:l.oPos+=4,l.iPos+=1,l.fPos+=2,l.bPos+=1;break;case 17:case 18:l.fPos+=2}l.prev=g;break;case 3:switch(l.prev._hx_index){case 0:case 14:l.oPos+=2,l.bPos+=2;break;case 1:l.iPos+=1,l.fPos+=1;break;case 2:case 15:l.oPos+=4,l.iiPos+=2,l.ffPos+=1,l.fPos+=1;break;case 3:case 19:case 20:l.oPos+=1;break;case 4:l.fPos+=6;break;case 5:case 7:case 9:l.fPos+=4;break;case 6:l.fPos+=3;break;case 8:l.oPos+=3;break;case 10:l.fPos+=5,l.oPos+=1;break;case 12:l.oPos+=4;break;case 16:l.oPos+=4,l.iPos+=1,l.fPos+=2,l.bPos+=1;break;case 17:case 18:l.fPos+=2}if(l.prev=ma.BEGIN_SHADER_FILL,g=(m=l).buffer.o[m.oPos],m=null,null!=g)for(var j=0,$=g.inputCount;j<$;){var yt=j++;if("bitmap"==g.inputRefs[yt].name){m=g.inputs[yt];break}}break;case 8:if(null!=m){switch(l.prev._hx_index){case 0:case 14:l.oPos+=2,l.bPos+=2;break;case 1:l.iPos+=1,l.fPos+=1;break;case 2:case 15:l.oPos+=4,l.iiPos+=2,l.ffPos+=1,l.fPos+=1;break;case 3:case 19:case 20:l.oPos+=1;break;case 4:l.fPos+=6;break;case 5:case 7:case 9:l.fPos+=4;break;case 6:l.fPos+=3;break;case 8:l.oPos+=3;break;case 10:l.fPos+=5,l.oPos+=1;break;case 12:l.oPos+=4;break;case 16:l.oPos+=4,l.iPos+=1,l.fPos+=2,l.bPos+=1;break;case 17:case 18:l.fPos+=2}l.prev=ma.DRAW_QUADS,g=($=l).buffer.o[$.oPos],j=$.buffer.o[$.oPos+1],$=$.buffer.o[$.oPos+2];var _t=!1,xt=!1,Tt=(yt=null!=j)?j.get_length():Math.floor(g.get_length()/4);if(0==Tt)return;null!=$&&($.get_length()>=6*Tt?xt=_t=!0:$.get_length()>=4*Tt?_t=!0:$.get_length()>=2*Tt&&(xt=!0)),null==e.__quadBuffer?e.__quadBuffer=new pi(i,kt.QUADS,Tt,4):e.__quadBuffer.resize(s+Tt,4);for(var St,Mt,Et,Ct,Dt,At,Nt,Lt,Ot,Ht,$t,zt,Jt,Qt=e.__quadBuffer.vertexBufferData,Kt=m.width,_o=m.height,Bt=0,Xr=Tt;Bt<Xr;)St=16*(s+(Ct=Bt++)),0>(Mt=yt?4*j.get(Ct):4*Ct)||(_.setTo(g.get(Mt),g.get(Mt+1),g.get(Mt+2),g.get(Mt+3)),Et=_.height,0>=(Mt=_.width)||0>=Et||(_t&&xt?h.setTo($.get(Ct*=6),$.get(Ct+1),$.get(Ct+2),$.get(Ct+3),$.get(Ct+4),$.get(Ct+5)):_t?h.setTo($.get(Ct*=4),$.get(Ct+1),$.get(Ct+2),$.get(Ct+3),_.x,_.y):xt?(h.tx=$.get(Ct*=2),h.ty=$.get(Ct+1)):(h.tx=_.x,h.ty=_.y),Ct=_.x/Kt,Dt=_.y/_o,At=_.get_right()/Kt,Nt=_.get_bottom()/_o,Lt=0*h.b+0*h.d+h.ty,Ot=Mt*h.a+0*h.c+h.tx,Ht=Mt*h.b+0*h.d+h.ty,$t=0*h.a+Et*h.c+h.tx,zt=0*h.b+Et*h.d+h.ty,Jt=Mt*h.a+Et*h.c+h.tx,Mt=Mt*h.b+Et*h.d+h.ty,Qt[St]=0*h.a+0*h.c+h.tx,Qt[St+1]=Lt,Qt[St+2]=Ct,Qt[St+3]=Dt,Qt[St+4]=Ot,Qt[St+4+1]=Ht,Qt[St+4+2]=At,Qt[St+4+3]=Dt,Qt[St+8]=$t,Qt[St+8+1]=zt,Qt[St+8+2]=Ct,Qt[St+8+3]=Nt,Qt[St+12]=Jt,Qt[St+12+1]=Mt,Qt[St+12+2]=At,Qt[St+12+3]=Nt));s+=Tt}break;case 12:switch(l.prev._hx_index){case 0:case 14:l.oPos+=2,l.bPos+=2;break;case 1:l.iPos+=1,l.fPos+=1;break;case 2:case 15:l.oPos+=4,l.iiPos+=2,l.ffPos+=1,l.fPos+=1;break;case 3:case 19:case 20:l.oPos+=1;break;case 4:l.fPos+=6;break;case 5:case 7:case 9:l.fPos+=4;break;case 6:l.fPos+=3;break;case 8:l.oPos+=3;break;case 10:l.fPos+=5,l.oPos+=1;break;case 12:l.oPos+=4;break;case 16:l.oPos+=4,l.iPos+=1,l.fPos+=2,l.bPos+=1;break;case 17:case 18:l.fPos+=2}for(l.prev=ma.DRAW_TRIANGLES,g=($=l).buffer.o[$.oPos],j=$.buffer.o[$.oPos+1],$=$.buffer.o[$.oPos+2],yt=null!=j,Tt=Math.floor(g.get_length()/2),_t=yt?j.get_length():Tt,St=(Tt=(xt=null!=$)&&$.get_length()>=3*Tt)?4:2,Qt=Tt?3:2,Yc.resizeVertexBuffer(e,Tt,(_o=Tt?o:n)+_t*(Kt=St+2)),Bt=Tt?e.__vertexBufferDataUVT:e.__vertexBufferData,Et=0,Ct=_t;Et<Ct;)Xr=_o+(Dt=Et++)*Kt,Mt=yt?2*j.get(Dt):2*Dt,Dt=yt?j.get(Dt)*Qt:Dt*Qt,Tt?(At=$.get(Dt+2),Bt[Xr]=g.get(Mt)/At,Bt[Xr+1]=g.get(Mt+1)/At,Bt[Xr+2]=0,Bt[Xr+3]=1/At):(Bt[Xr]=g.get(Mt),Bt[Xr+1]=g.get(Mt+1)),Bt[Xr+St]=xt?$.get(Dt):0,Bt[Xr+St+1]=xt?$.get(Dt+1):0;Tt?o+=_t*Kt:n+=_t*Kt;break;case 13:m=null;break;default:switch(l.prev._hx_index){case 0:case 14:l.oPos+=2,l.bPos+=2;break;case 1:l.iPos+=1,l.fPos+=1;break;case 2:case 15:l.oPos+=4,l.iiPos+=2,l.ffPos+=1,l.fPos+=1;break;case 3:case 19:case 20:l.oPos+=1;break;case 4:l.fPos+=6;break;case 5:case 7:case 9:l.fPos+=4;break;case 6:l.fPos+=3;break;case 8:l.oPos+=3;break;case 10:l.fPos+=5,l.oPos+=1;break;case 12:l.oPos+=4;break;case 16:l.oPos+=4,l.iPos+=1,l.fPos+=2,l.bPos+=1;break;case 17:case 18:l.fPos+=2}l.prev=g}}0<s&&e.__quadBuffer.flushVertexBufferData(),0<n&&((null==(s=e.__vertexBuffer)||n>e.__vertexBufferCount)&&(s=i.createVertexBuffer(n,4,0),e.__vertexBuffer=s,e.__vertexBufferCount=n),s.uploadFromTypedArray(Bf.toArrayBufferView(e.__vertexBufferData))),0<o&&((null==(n=e.__vertexBufferUVT)||o>e.__vertexBufferCountUVT)&&(n=i.createVertexBuffer(o,6,0),e.__vertexBufferUVT=n,e.__vertexBufferCountUVT=o),n.uploadFromTypedArray(Bf.toArrayBufferView(e.__vertexBufferDataUVT))),ia.__pool.release(_),Fa.__pool.release(h)},Yc.isCompatible=function(e){if(null!=e.__owner.__worldScale9Grid)return!1;var i=new vg(e.__commands),s=!1,n=!1,o=!1,l=0;for(e=e.__commands.types;l<e.length;){var _=e[l];switch(++l,_._hx_index){case 0:switch(n=!0,o=s=!1,i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=_;break;case 1:switch(n=!1,s=!0,o=!1,i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=_;break;case 3:switch(s=n=!1,o=!0,i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=_;break;case 8:case 12:if(!n&&!o)return i.destroy(),!1;switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=_;break;case 9:if(!s)return i.destroy(),!1;switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=_;break;case 13:switch(o=s=n=!1,i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=_;break;case 18:case 19:switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=_;break;default:return i.destroy(),!1}}return i.destroy(),!0},Yc.render=function(e,i){if(e.__visible&&0!=e.__commands.get_length())if(null!=e.__bitmap&&!e.__dirty||!Yc.isCompatible(e)){var s=i.__softwareRenderer.__worldTransform;i.__softwareRenderer.__worldTransform=i.__worldTransform,D.render(e,i.__softwareRenderer),i.__softwareRenderer.__worldTransform=s}else{e.__bitmap=null,e.__update(i.__worldTransform),s=e.__width;var n=e.__height;if(null!=e.__bounds&&1<=s&&1<=n){(e.__hardwareDirty||null==e.__quadBuffer&&null==e.__vertexBuffer&&null==e.__vertexBufferUVT)&&Yc.buildBuffer(e,i),s=new vg(e.__commands),n=i.context3D;for(var o=Fa.__pool.get(),l=null,_=null,h=!1,m=!1,f=null,y=0,g=0,j=0,$=0,yt=0,_t=e.__commands.types;yt<_t.length;){var xt=_t[yt];switch(++yt,xt._hx_index){case 0:switch(s.prev._hx_index){case 0:case 14:s.oPos+=2,s.bPos+=2;break;case 1:s.iPos+=1,s.fPos+=1;break;case 2:case 15:s.oPos+=4,s.iiPos+=2,s.ffPos+=1,s.fPos+=1;break;case 3:case 19:case 20:s.oPos+=1;break;case 4:s.fPos+=6;break;case 5:case 7:case 9:s.fPos+=4;break;case 6:s.fPos+=3;break;case 8:s.oPos+=3;break;case 10:s.fPos+=5,s.oPos+=1;break;case 12:s.oPos+=4;break;case 16:s.oPos+=4,s.iPos+=1,s.fPos+=2,s.bPos+=1;break;case 17:case 18:s.fPos+=2}s.prev=ma.BEGIN_BITMAP_FILL,_=(m=s).buffer.o[m.oPos],h=m.buffer.b[m.bPos],m=m.buffer.b[m.bPos+1],f=l=null;break;case 1:switch(s.prev._hx_index){case 0:case 14:s.oPos+=2,s.bPos+=2;break;case 1:s.iPos+=1,s.fPos+=1;break;case 2:case 15:s.oPos+=4,s.iiPos+=2,s.ffPos+=1,s.fPos+=1;break;case 3:case 19:case 20:s.oPos+=1;break;case 4:s.fPos+=6;break;case 5:case 7:case 9:s.fPos+=4;break;case 6:s.fPos+=3;break;case 8:s.oPos+=3;break;case 10:s.fPos+=5,s.oPos+=1;break;case 12:s.oPos+=4;break;case 16:s.oPos+=4,s.iPos+=1,s.fPos+=2,s.bPos+=1;break;case 17:case 18:s.fPos+=2}s.prev=ma.BEGIN_FILL,f=16777215&(0|(_=s).buffer.i[_.iPos])|(255*_.buffer.f[_.fPos]|0)<<24,_=l=null;break;case 3:switch(s.prev._hx_index){case 0:case 14:s.oPos+=2,s.bPos+=2;break;case 1:s.iPos+=1,s.fPos+=1;break;case 2:case 15:s.oPos+=4,s.iiPos+=2,s.ffPos+=1,s.fPos+=1;break;case 3:case 19:case 20:s.oPos+=1;break;case 4:s.fPos+=6;break;case 5:case 7:case 9:s.fPos+=4;break;case 6:s.fPos+=3;break;case 8:s.oPos+=3;break;case 10:s.fPos+=5,s.oPos+=1;break;case 12:s.oPos+=4;break;case 16:s.oPos+=4,s.iPos+=1,s.fPos+=2,s.bPos+=1;break;case 17:case 18:s.fPos+=2}s.prev=ma.BEGIN_SHADER_FILL,l=(g=s).buffer.o[g.oPos],g=0,_=null==l||null==l.shader||null==l.shader.__bitmap?null:l.shader.__bitmap.input,f=null;break;case 8:if(null!=_){switch(s.prev._hx_index){case 0:case 14:s.oPos+=2,s.bPos+=2;break;case 1:s.iPos+=1,s.fPos+=1;break;case 2:case 15:s.oPos+=4,s.iiPos+=2,s.ffPos+=1,s.fPos+=1;break;case 3:case 19:case 20:s.oPos+=1;break;case 4:s.fPos+=6;break;case 5:case 7:case 9:s.fPos+=4;break;case 6:s.fPos+=3;break;case 8:s.oPos+=3;break;case 10:s.fPos+=5,s.oPos+=1;break;case 12:s.oPos+=4;break;case 16:s.oPos+=4,s.iPos+=1,s.fPos+=2,s.bPos+=1;break;case 17:case 18:s.fPos+=2}s.prev=ma.DRAW_QUADS;var Tt=s;xt=Tt.buffer.o[Tt.oPos],xt=null!=(Tt=Tt.buffer.o[Tt.oPos+1])?Tt.get_length():Math.floor(xt.get_length()/4);var St=i.__getMatrix(e.__owner.__renderTransform,1);for(null==l||Yc.maskRender?(Tt=Yc.maskRender?i.__maskShader:i.__initGraphicsShader(null),i.setShader(Tt),i.applyMatrix(St),i.applyBitmapData(_,m,h),i.applyAlpha(e.__owner.__worldAlpha),i.applyColorTransform(e.__owner.__worldColorTransform),i.updateShader()):(Tt=i.__initShaderBuffer(l),i.__setShaderBuffer(l),i.applyMatrix(St),i.applyBitmapData(_,!1,h),i.applyAlpha(e.__owner.__worldAlpha),i.applyColorTransform(e.__owner.__worldColorTransform)),St=y+xt;y<St&&!(0>=(xt=0|Math.min(St-y,n.__quadIndexBufferElements)));)null==l||Yc.maskRender||i.__updateShaderBuffer(g),null!=Tt.__position&&n.setVertexBufferAt(Tt.__position.index,e.__quadBuffer.vertexBuffer,16*y,2),null!=Tt.__textureCoord&&n.setVertexBufferAt(Tt.__textureCoord.index,e.__quadBuffer.vertexBuffer,16*y+2,2),n.drawTriangles(n.__quadIndexBuffer,0,2*xt),g+=4*xt,y+=xt;i.__clearShader()}break;case 9:if(null!=f){switch(s.prev._hx_index){case 0:case 14:s.oPos+=2,s.bPos+=2;break;case 1:s.iPos+=1,s.fPos+=1;break;case 2:case 15:s.oPos+=4,s.iiPos+=2,s.ffPos+=1,s.fPos+=1;break;case 3:case 19:case 20:s.oPos+=1;break;case 4:s.fPos+=6;break;case 5:case 7:case 9:s.fPos+=4;break;case 6:s.fPos+=3;break;case 8:s.oPos+=3;break;case 10:s.fPos+=5,s.oPos+=1;break;case 12:s.oPos+=4;break;case 16:s.oPos+=4,s.iPos+=1,s.fPos+=2,s.bPos+=1;break;case 17:case 18:s.fPos+=2}s.prev=ma.DRAW_RECT;var Mt=s;xt=Mt.buffer.f[Mt.fPos],Tt=Mt.buffer.f[Mt.fPos+1],St=Mt.buffer.f[Mt.fPos+2];var Et=Mt.buffer.f[Mt.fPos+3];Yc.tempColorTransform.redOffset=(Mt=f)>>>16&255,Yc.tempColorTransform.greenOffset=Mt>>>8&255,Yc.tempColorTransform.blueOffset=255&Mt,Yc.tempColorTransform.__combine(e.__owner.__worldColorTransform),o.identity(),o.scale(St,Et),o.tx=xt,o.ty=Tt,o.concat(e.__owner.__renderTransform),xt=Yc.maskRender?i.__maskShader:i.__initGraphicsShader(null),i.setShader(xt),i.applyMatrix(i.__getMatrix(o,1)),i.applyBitmapData(Yc.blankBitmapData,!0,h),i.applyAlpha((Mt>>>24&255)/255*e.__owner.__worldAlpha),i.applyColorTransform(Yc.tempColorTransform),i.updateShader(),Tt=Yc.blankBitmapData.getVertexBuffer(n),null!=xt.__position&&n.setVertexBufferAt(xt.__position.index,Tt,0,3),null!=xt.__textureCoord&&n.setVertexBufferAt(xt.__textureCoord.index,Tt,3,2),xt=Yc.blankBitmapData.getIndexBuffer(n),n.drawTriangles(xt),g+=4,i.__clearShader()}break;case 12:switch(s.prev._hx_index){case 0:case 14:s.oPos+=2,s.bPos+=2;break;case 1:s.iPos+=1,s.fPos+=1;break;case 2:case 15:s.oPos+=4,s.iiPos+=2,s.ffPos+=1,s.fPos+=1;break;case 3:case 19:case 20:s.oPos+=1;break;case 4:s.fPos+=6;break;case 5:case 7:case 9:s.fPos+=4;break;case 6:s.fPos+=3;break;case 8:s.oPos+=3;break;case 10:s.fPos+=5,s.oPos+=1;break;case 12:s.oPos+=4;break;case 16:s.oPos+=4,s.iPos+=1,s.fPos+=2,s.bPos+=1;break;case 17:case 18:s.fPos+=2}s.prev=ma.DRAW_TRIANGLES,St=(Et=s).buffer.o[Et.oPos+2],xt=Et.buffer.o[Et.oPos+3],Mt=null!=(Tt=Et.buffer.o[Et.oPos+1]),Et=Math.floor(Et.buffer.o[Et.oPos].get_length()/2),Tt=Mt?Tt.get_length():Et,Et=2+(Mt=(St=null!=St&&St.get_length()>=3*Et)?4:2);var Ct=St?e.__vertexBufferUVT:e.__vertexBuffer,Dt=St?$:j,At=i.__getMatrix(e.__owner.__renderTransform,1);if(null==l||Yc.maskRender){var Nt=Yc.maskRender?i.__maskShader:i.__initGraphicsShader(null);i.setShader(Nt),i.applyMatrix(At),i.applyBitmapData(_,m,h),i.applyAlpha(e.__owner.__worldAlpha),i.applyColorTransform(e.__owner.__worldColorTransform),i.updateShader()}else Nt=i.__initShaderBuffer(l),i.__setShaderBuffer(l),i.applyMatrix(At),i.applyBitmapData(_,!1,h),i.applyAlpha(1),i.applyColorTransform(null),i.__updateShaderBuffer(g);switch(null!=Nt.__position&&n.setVertexBufferAt(Nt.__position.index,Ct,Dt,St?4:2),null!=Nt.__textureCoord&&n.setVertexBufferAt(Nt.__textureCoord.index,Ct,Dt+Mt,2),xt){case 0:n.setCulling(0);break;case 1:n.setCulling(3);break;case 2:n.setCulling(1)}switch(n.__drawTriangles(0,Tt),g+=Tt,St?$+=Et*Tt:j+=Et*Tt,xt){case 1:case 2:n.setCulling(0)}i.__clearShader();break;case 13:switch(l=f=_=null,s.prev._hx_index){case 0:case 14:s.oPos+=2,s.bPos+=2;break;case 1:s.iPos+=1,s.fPos+=1;break;case 2:case 15:s.oPos+=4,s.iiPos+=2,s.ffPos+=1,s.fPos+=1;break;case 3:case 19:case 20:s.oPos+=1;break;case 4:s.fPos+=6;break;case 5:case 7:case 9:s.fPos+=4;break;case 6:s.fPos+=3;break;case 8:s.oPos+=3;break;case 10:s.fPos+=5,s.oPos+=1;break;case 12:s.oPos+=4;break;case 16:s.oPos+=4,s.iPos+=1,s.fPos+=2,s.bPos+=1;break;case 17:case 18:s.fPos+=2}s.prev=xt;break;case 18:switch(s.prev._hx_index){case 0:case 14:s.oPos+=2,s.bPos+=2;break;case 1:s.iPos+=1,s.fPos+=1;break;case 2:case 15:s.oPos+=4,s.iiPos+=2,s.ffPos+=1,s.fPos+=1;break;case 3:case 19:case 20:s.oPos+=1;break;case 4:s.fPos+=6;break;case 5:case 7:case 9:s.fPos+=4;break;case 6:s.fPos+=3;break;case 8:s.oPos+=3;break;case 10:s.fPos+=5,s.oPos+=1;break;case 12:s.oPos+=4;break;case 16:s.oPos+=4,s.iPos+=1,s.fPos+=2,s.bPos+=1;break;case 17:case 18:s.fPos+=2}s.prev=ma.MOVE_TO;break;case 19:switch(s.prev._hx_index){case 0:case 14:s.oPos+=2,s.bPos+=2;break;case 1:s.iPos+=1,s.fPos+=1;break;case 2:case 15:s.oPos+=4,s.iiPos+=2,s.ffPos+=1,s.fPos+=1;break;case 3:case 19:case 20:s.oPos+=1;break;case 4:s.fPos+=6;break;case 5:case 7:case 9:s.fPos+=4;break;case 6:s.fPos+=3;break;case 8:s.oPos+=3;break;case 10:s.fPos+=5,s.oPos+=1;break;case 12:s.oPos+=4;break;case 16:s.oPos+=4,s.iPos+=1,s.fPos+=2,s.bPos+=1;break;case 17:case 18:s.fPos+=2}s.prev=ma.OVERRIDE_BLEND_MODE,i.__setBlendMode((xt=s).buffer.o[xt.oPos]);break;default:switch(s.prev._hx_index){case 0:case 14:s.oPos+=2,s.bPos+=2;break;case 1:s.iPos+=1,s.fPos+=1;break;case 2:case 15:s.oPos+=4,s.iiPos+=2,s.ffPos+=1,s.fPos+=1;break;case 3:case 19:case 20:s.oPos+=1;break;case 4:s.fPos+=6;break;case 5:case 7:case 9:s.fPos+=4;break;case 6:s.fPos+=3;break;case 8:s.oPos+=3;break;case 10:s.fPos+=5,s.oPos+=1;break;case 12:s.oPos+=4;break;case 16:s.oPos+=4,s.iPos+=1,s.fPos+=2,s.bPos+=1;break;case 17:case 18:s.fPos+=2}s.prev=xt}}Fa.__pool.release(o)}e.__hardwareDirty=!1,e.set___dirty(!1)}},Yc.renderMask=function(e,i){Yc.maskRender=!0,Yc.render(e,i),Yc.maskRender=!1},Yc.resizeIndexBuffer=function(e,i,s){if(!i){var n=i?null:e.__triangleIndexBufferData,o=null;null==n?o=null!=s?new Uint16Array(s):null:s>n.length&&(o=null!=s?new Uint16Array(s):null).set(n),null==o||i||(e.__triangleIndexBufferData=o)}},Yc.resizeVertexBuffer=function(e,i,s){var n=i?e.__vertexBufferDataUVT:e.__vertexBufferData,o=null;null==n?o=null!=s?new Float32Array(s):null:s>n.length&&(o=null!=s?new Float32Array(s):null).set(n),null!=o&&(i?e.__vertexBufferDataUVT=o:e.__vertexBufferData=o)};var Yi=function(){null==this.__glFragmentSource&&(this.__glFragmentSource="varying vec2 openfl_TextureCoordv;\n\t\t\n\t\tuniform sampler2D openfl_Texture;\n\t\t\n\t\tvoid main(void) {\n\t\t\t\n\t\t\tvec4 color = texture2D (openfl_Texture, openfl_TextureCoordv);\n\t\t\t\n\t\t\tif (color.a == 0.0) {\n\t\t\t\t\n\t\t\t\tdiscard;\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\t\n\t\t\t\tgl_FragColor = color;\n\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t}"),null==this.__glVertexSource&&(this.__glVertexSource="attribute vec4 openfl_Position;\n\t\tattribute vec2 openfl_TextureCoord;\n\t\tvarying vec2 openfl_TextureCoordv;\n\t\t\n\t\tuniform mat4 openfl_Matrix;\n\t\t\n\t\tvoid main(void) {\n\t\t\t\n\t\t\topenfl_TextureCoordv = openfl_TextureCoord;\n\t\t\t\n\t\t\tgl_Position = openfl_Matrix * openfl_Position;\n\t\t\t\n\t\t}"),Ze.call(this),this.__isGenerated=!0,this.__initGL()};k["openfl._internal.renderer.context3D.Context3DMaskShader"]=Yi,Yi.__name__="openfl._internal.renderer.context3D.Context3DMaskShader",Yi.__super__=Ze,Yi.prototype=x(Ze.prototype,{openfl_Position:null,openfl_TextureCoord:null,openfl_Matrix:null,openfl_Texture:null,__class__:Yi});var bk=function(e,i){hf.call(this)};k["openfl.display.OpenGLRenderer"]=bk,bk.__name__="openfl.display.OpenGLRenderer",bk.__super__=hf,bk.prototype=x(hf.prototype,{gl:null,applyAlpha:function(e){},applyBitmapData:function(e,i,s){},applyColorTransform:function(e){},applyHasColorTransform:function(e){},applyMatrix:function(e){},getMatrix:function(e){return null},setShader:function(e){},setViewport:function(){},updateShader:function(){},useAlphaArray:function(){},useColorTransformArray:function(){},__class__:bk});var Fb=function(e,i){var s=this;hf.call(this),this.__init(e,i),null==lf.maxTextureWidth&&(lf.maxTextureWidth=lf.maxTextureHeight=this.__gl.getParameter(this.__gl.MAX_TEXTURE_SIZE)),this.__matrix=oa._new(),this.__values=[],this.__softwareRenderer=new ih(null),this.__type="opengl",this.__setBlendMode(10),this.context3D.__setGLBlend(!0),this.__clipRects=[],this.__maskObjects=[],this.__numClipRects=0,this.__projection=oa._new(),this.__projectionFlipped=oa._new(),this.__stencilReference=0,this.__tempRect=new ia,this.__defaultDisplayShader=new Po,this.__defaultGraphicsShader=new Qo,this.__defaultShader=this.__defaultDisplayShader,this.__initShader(this.__defaultShader),this.__scrollRectMasks=new Ia(function(){return new Pe}),this.__alphaMaskShader=new No,this.__maskShader=new Yi,null==Fb.__childRendererPool&&(Fb.__childRendererPool=new Ia(function(){var n=new Fb(s.context3D,null);return n.__worldTransform=new Fa,n.__worldColorTransform=new Tb,n}))};k["openfl._internal.renderer.context3D.Context3DRenderer"]=Fb,Fb.__name__="openfl._internal.renderer.context3D.Context3DRenderer",Fb.__super__=bk,Fb.prototype=x(bk.prototype,{context3D:null,__alphaMaskShader:null,__clipRects:null,__context:null,__currentDisplayShader:null,__currentGraphicsShader:null,__currentRenderTarget:null,__currentShader:null,__currentShaderBuffer:null,__defaultDisplayShader:null,__defaultGraphicsShader:null,__defaultRenderTarget:null,__defaultShader:null,__displayHeight:null,__displayWidth:null,__flipped:null,__gl:null,__height:null,__maskShader:null,__matrix:null,__maskObjects:null,__numClipRects:null,__offsetX:null,__offsetY:null,__projection:null,__projectionFlipped:null,__scrollRectMasks:null,__softwareRenderer:null,__stencilReference:null,__tempColorTransform:null,__tempRect:null,__updatedStencil:null,__upscaled:null,__values:null,__width:null,applyAlpha:function(e){Fb.__alphaValue[0]=e,null!=this.__currentShaderBuffer?this.__currentShaderBuffer.addFloatOverride("openfl_Alpha",Fb.__alphaValue):null!=this.__currentShader&&null!=this.__currentShader.__alpha&&(this.__currentShader.__alpha.value=Fb.__alphaValue)},applyBitmapData:function(e,i,s){null==s&&(s=!1),null!=this.__currentShaderBuffer?null!=e&&(Fb.__textureSizeValue[0]=e.__textureWidth,Fb.__textureSizeValue[1]=e.__textureHeight,this.__currentShaderBuffer.addFloatOverride("openfl_TextureSize",Fb.__textureSizeValue)):null!=this.__currentShader&&(null!=this.__currentShader.__bitmap&&(this.__currentShader.__bitmap.input=e,this.__currentShader.__bitmap.filter=i&&this.__allowSmoothing?4:5,this.__currentShader.__bitmap.mipFilter=2,this.__currentShader.__bitmap.wrap=s?2:0),null!=this.__currentShader.__texture&&(this.__currentShader.__texture.input=e,this.__currentShader.__texture.filter=i&&this.__allowSmoothing?4:5,this.__currentShader.__texture.mipFilter=2,this.__currentShader.__texture.wrap=s?2:0),null!=this.__currentShader.__textureSize&&(null!=e?(Fb.__textureSizeValue[0]=e.__textureWidth,Fb.__textureSizeValue[1]=e.__textureHeight,this.__currentShader.__textureSize.value=Fb.__textureSizeValue):this.__currentShader.__textureSize.value=null))},applyColorTransform:function(e){var i=null!=e&&!e.__isDefault(!0);this.applyHasColorTransform(i),i?(e.__setArrays(Fb.__colorMultipliersValue,Fb.__colorOffsetsValue),null!=this.__currentShaderBuffer?(this.__currentShaderBuffer.addFloatOverride("openfl_ColorMultiplier",Fb.__colorMultipliersValue),this.__currentShaderBuffer.addFloatOverride("openfl_ColorOffset",Fb.__colorOffsetsValue)):null!=this.__currentShader&&(null!=this.__currentShader.__colorMultiplier&&(this.__currentShader.__colorMultiplier.value=Fb.__colorMultipliersValue),null!=this.__currentShader.__colorOffset&&(this.__currentShader.__colorOffset.value=Fb.__colorOffsetsValue))):null!=this.__currentShaderBuffer?(this.__currentShaderBuffer.addFloatOverride("openfl_ColorMultiplier",Fb.__emptyColorValue),this.__currentShaderBuffer.addFloatOverride("openfl_ColorOffset",Fb.__emptyColorValue)):null!=this.__currentShader&&(null!=this.__currentShader.__colorMultiplier&&(this.__currentShader.__colorMultiplier.value=Fb.__emptyColorValue),null!=this.__currentShader.__colorOffset&&(this.__currentShader.__colorOffset.value=Fb.__emptyColorValue))},applyHasColorTransform:function(e){Fb.__hasColorTransformValue[0]=e,null!=this.__currentShaderBuffer?this.__currentShaderBuffer.addBoolOverride("openfl_HasColorTransform",Fb.__hasColorTransformValue):null!=this.__currentShader&&null!=this.__currentShader.__hasColorTransform&&(this.__currentShader.__hasColorTransform.value=Fb.__hasColorTransformValue)},applyMatrix:function(e){null!=this.__currentShaderBuffer?this.__currentShaderBuffer.addFloatOverride("openfl_Matrix",e):null!=this.__currentShader&&null!=this.__currentShader.__matrix&&(this.__currentShader.__matrix.value=e)},getMatrix:function(e){return null!=this.__gl?(e=this.__getMatrix(e,1),oa.set(this.__matrix,0,e[0]),oa.set(this.__matrix,1,e[1]),oa.set(this.__matrix,2,e[2]),oa.set(this.__matrix,3,e[3]),oa.set(this.__matrix,4,e[4]),oa.set(this.__matrix,5,e[5]),oa.set(this.__matrix,6,e[6]),oa.set(this.__matrix,7,e[7]),oa.set(this.__matrix,8,e[8]),oa.set(this.__matrix,9,e[9]),oa.set(this.__matrix,10,e[10]),oa.set(this.__matrix,11,e[11]),oa.set(this.__matrix,12,e[12]),oa.set(this.__matrix,13,e[13]),oa.set(this.__matrix,14,e[14]),oa.set(this.__matrix,15,e[15])):(oa.identity(this.__matrix),oa.set(this.__matrix,0,e.a),oa.set(this.__matrix,1,e.b),oa.set(this.__matrix,4,e.c),oa.set(this.__matrix,5,e.d),oa.set(this.__matrix,12,e.tx),oa.set(this.__matrix,13,e.ty)),this.__matrix},setShader:function(e){this.__currentShaderBuffer=null,this.__currentShader!=e&&(null==e?(this.__currentShader=null,this.context3D.setProgram(null)):(this.__currentShader=e,this.__initShader(e),this.context3D.setProgram(e.program),this.context3D.__flushGLProgram(),this.__currentShader.__enable(),this.context3D.__state.shader=e))},setViewport:function(){this.__gl.viewport(this.__offsetX,this.__offsetY,this.__displayWidth,this.__displayHeight)},updateShader:function(){null!=this.__currentShader&&(null!=this.__currentShader.__position&&(this.__currentShader.__position.__useArray=!0),null!=this.__currentShader.__textureCoord&&(this.__currentShader.__textureCoord.__useArray=!0),this.context3D.setProgram(this.__currentShader.program),this.context3D.__flushGLProgram(),this.context3D.__flushGLTextures(),this.__currentShader.__update())},useAlphaArray:function(){null!=this.__currentShader&&null!=this.__currentShader.__alpha&&(this.__currentShader.__alpha.__useArray=!0)},useColorTransformArray:function(){null!=this.__currentShader&&(null!=this.__currentShader.__colorMultiplier&&(this.__currentShader.__colorMultiplier.__useArray=!0),null!=this.__currentShader.__colorOffset&&(this.__currentShader.__colorOffset.__useArray=!0))},__cleanup:function(){0<this.__stencilReference&&(this.__stencilReference=0,this.context3D.setStencilActions(),this.context3D.setStencilReferenceValue(0,0,0)),0<this.__numClipRects&&(this.__numClipRects=0,this.__scissorRect())},__clear:function(){null==this.__stage||this.__stage.__transparent?this.context3D.clear(0,0,0,0,0,0,1):this.context3D.clear(this.__stage.__colorSplit[0],this.__stage.__colorSplit[1],this.__stage.__colorSplit[2],1,0,0,1),this.__cleared=!0},__clearShader:function(){null!=this.__currentShader&&(null==this.__currentShaderBuffer?null!=this.__currentShader.__bitmap&&(this.__currentShader.__bitmap.input=null):this.__currentShaderBuffer.clearOverride(),null!=this.__currentShader.__texture&&(this.__currentShader.__texture.input=null),null!=this.__currentShader.__textureSize&&(this.__currentShader.__textureSize.value=null),null!=this.__currentShader.__hasColorTransform&&(this.__currentShader.__hasColorTransform.value=null),null!=this.__currentShader.__position&&(this.__currentShader.__position.value=null),null!=this.__currentShader.__matrix&&(this.__currentShader.__matrix.value=null),this.__currentShader.__clearUseArray())},__copyShader:function(e){this.__currentShader=e.__currentShader,this.__currentShaderBuffer=e.__currentShaderBuffer,this.__currentDisplayShader=e.__currentDisplayShader,this.__currentGraphicsShader=e.__currentGraphicsShader},__drawBitmapData:function(e,i,s){null!=s&&this.__pushMaskRect(s,i.__renderTransform);var n=this.context3D,o=n.__state.renderToTexture,l=n.__state.renderToTextureDepthStencil,_=n.__state.renderToTextureAntiAlias,h=n.__state.renderToTextureSurfaceSelector;n.setRenderToTexture(e.getTexture(n),!0),this.__render(i),null!=o?n.setRenderToTexture(o,l,_,h):n.setRenderToBackBuffer(),null!=s&&this.__popMaskRect()},__fillRect:function(e,i,s){if(null!=e.__texture){var n=e.__texture.__context,o=!e.rect.equals(i),l=n.__state.renderToTexture,_=n.__state.renderToTextureDepthStencil,h=n.__state.renderToTextureAntiAlias,m=n.__state.renderToTextureSurfaceSelector;n.setRenderToTexture(e.__texture),o&&n.setScissorRectangle(i),n.clear((s>>>16&255)/255,(s>>>8&255)/255,(255&s)/255,e.transparent?(s>>>24&255)/255:1,0,0,1),o&&n.setScissorRectangle(null),null!=l?n.setRenderToTexture(l,_,h,m):n.setRenderToBackBuffer()}},__getAlpha:function(e){return e*this.__worldAlpha},__getColorTransform:function(e){return null!=this.__worldColorTransform?(this.__tempColorTransform.__copyFrom(this.__worldColorTransform),this.__tempColorTransform.__combine(e),this.__tempColorTransform):e},__getMatrix:function(e,i){var s=Fa.__pool.get();return s.copyFrom(e),s.concat(this.__worldTransform),(0==i||1==i&&0==s.b&&0==s.c&&1.001>s.a&&.999<s.a&&1.001>s.d&&.999<s.d)&&(s.tx=Math.round(s.tx),s.ty=Math.round(s.ty)),oa.identity(this.__matrix),oa.set(this.__matrix,0,s.a),oa.set(this.__matrix,1,s.b),oa.set(this.__matrix,4,s.c),oa.set(this.__matrix,5,s.d),oa.set(this.__matrix,12,s.tx),oa.set(this.__matrix,13,s.ty),oa.append(this.__matrix,this.__flipped?this.__projectionFlipped:this.__projection),this.__values[0]=oa.get(this.__matrix,0),this.__values[1]=oa.get(this.__matrix,1),this.__values[2]=oa.get(this.__matrix,2),this.__values[3]=oa.get(this.__matrix,3),this.__values[4]=oa.get(this.__matrix,4),this.__values[5]=oa.get(this.__matrix,5),this.__values[6]=oa.get(this.__matrix,6),this.__values[7]=oa.get(this.__matrix,7),this.__values[8]=oa.get(this.__matrix,8),this.__values[9]=oa.get(this.__matrix,9),this.__values[10]=oa.get(this.__matrix,10),this.__values[11]=oa.get(this.__matrix,11),this.__values[12]=oa.get(this.__matrix,12),this.__values[13]=oa.get(this.__matrix,13),this.__values[14]=oa.get(this.__matrix,14),this.__values[15]=oa.get(this.__matrix,15),Fa.__pool.release(s),this.__values},__init:function(e,i){this.context3D=e,this.__context=e.__context,this.gl=this.__gl=e.__context.webgl,this.__defaultRenderTarget=i,this.__flipped=null==this.__defaultRenderTarget},__initShader:function(e){return null!=e?(null==e.__context&&(e.__context=this.context3D,e.__init()),e):this.__defaultShader},__initDisplayShader:function(e){return null!=e?(null==e.__context&&(e.__context=this.context3D,e.__init()),e):this.__defaultDisplayShader},__initGraphicsShader:function(e){return null!=e?(null==e.__context&&(e.__context=this.context3D,e.__init()),e):this.__defaultGraphicsShader},__initShaderBuffer:function(e){return null!=e?this.__initGraphicsShader(e.shader):this.__defaultGraphicsShader},__popMask:function(){if(0!=this.__stencilReference){var e=this.__maskObjects.pop();1<this.__stencilReference?(this.context3D.setStencilActions(2,1,0,0,5),this.context3D.setStencilReferenceValue(this.__stencilReference,255,255),this.context3D.setColorMask(!1,!1,!1,!1),this.__renderMask(e),this.__stencilReference--,this.context3D.setStencilActions(2,1,5,5,5),this.context3D.setStencilReferenceValue(this.__stencilReference,255,0),this.context3D.setColorMask(!0,!0,!0,!0)):(this.__stencilReference=0,this.context3D.setStencilActions(),this.context3D.setStencilReferenceValue(0,0,0))}},__popMaskObject:function(e,i){null==i&&(i=!0),null!=e.__mask&&this.__popMask(),i&&null!=e.__scrollRect&&(0!=e.__renderTransform.b||0!=e.__renderTransform.c?(this.__scrollRectMasks.release(this.__maskObjects[this.__maskObjects.length-1]),this.__popMask()):this.__popMaskRect())},__popMaskRect:function(){0<this.__numClipRects&&(this.__numClipRects--,0<this.__numClipRects?this.__scissorRect(this.__clipRects[this.__numClipRects-1]):this.__scissorRect())},__powerOfTwo:function(e){for(var i=1;i<e;)i<<=1;return i},__pushMask:function(e){0==this.__stencilReference&&(this.context3D.clear(0,0,0,0,0,0,4),this.__updatedStencil=!0),this.context3D.setStencilActions(2,1,2,5,5),this.context3D.setStencilReferenceValue(this.__stencilReference,255,255),this.context3D.setColorMask(!1,!1,!1,!1),this.__renderMask(e),this.__maskObjects.push(e),this.__stencilReference++,this.context3D.setStencilActions(2,1,5,5,5),this.context3D.setStencilReferenceValue(this.__stencilReference,255,0),this.context3D.setColorMask(!0,!0,!0,!0)},__pushMaskObject:function(e,i){null==i&&(i=!0),i&&null!=e.__scrollRect&&(0!=e.__renderTransform.b||0!=e.__renderTransform.c?((i=this.__scrollRectMasks.get()).get_graphics().clear(),i.get_graphics().beginFill(65280),i.get_graphics().drawRect(e.__scrollRect.x,e.__scrollRect.y,e.__scrollRect.width,e.__scrollRect.height),i.__renderTransform.copyFrom(e.__renderTransform),this.__pushMask(i)):this.__pushMaskRect(e.__scrollRect,e.__renderTransform)),null!=e.__mask&&this.__pushMask(e.__mask)},__pushMaskRect:function(e,i){this.__numClipRects==this.__clipRects.length&&(this.__clipRects[this.__numClipRects]=new ia);var s=Fa.__pool.get();s.copyFrom(i),s.concat(this.__worldTransform),e.__transform(i=this.__clipRects[this.__numClipRects],s),0<this.__numClipRects&&i.__contract((e=this.__clipRects[this.__numClipRects-1]).x,e.y,e.width,e.height),0>i.height&&(i.height=0),0>i.width&&(i.width=0),Fa.__pool.release(s),this.__scissorRect(i),this.__numClipRects++},__render:function(e){if(this.context3D.setColorMask(!0,!0,!0,!0),this.context3D.setCulling(3),this.context3D.setDepthTest(!1,0),this.context3D.setStencilActions(),this.context3D.setStencilReferenceValue(0,0,0),this.context3D.setScissorRectangle(null),this.__blendMode=null,this.__setBlendMode(10),null==this.__defaultRenderTarget)Fb.__scissorRectangle.setTo(this.__offsetX,this.__offsetY,this.__displayWidth,this.__displayHeight),this.context3D.setScissorRectangle(Fb.__scissorRectangle),this.__upscaled=1!=this.__worldTransform.a||1!=this.__worldTransform.d,null!=e&&null!=e.__type&&this.__renderDisplayObject(e),(0<this.__offsetX||0<this.__offsetY)&&(0<this.__offsetX&&(Fb.__scissorRectangle.setTo(0,0,this.__offsetX,this.__height),this.context3D.setScissorRectangle(Fb.__scissorRectangle),this.context3D.__flushGL(),this.__gl.clearColor(0,0,0,1),this.__gl.clear(this.__gl.COLOR_BUFFER_BIT),Fb.__scissorRectangle.setTo(this.__offsetX+this.__displayWidth,0,this.__width,this.__height),this.context3D.setScissorRectangle(Fb.__scissorRectangle),this.context3D.__flushGL(),this.__gl.clearColor(0,0,0,1),this.__gl.clear(this.__gl.COLOR_BUFFER_BIT)),0<this.__offsetY&&(Fb.__scissorRectangle.setTo(0,0,this.__width,this.__offsetY),this.context3D.setScissorRectangle(Fb.__scissorRectangle),this.context3D.__flushGL(),this.__gl.clearColor(0,0,0,1),this.__gl.clear(this.__gl.COLOR_BUFFER_BIT),Fb.__scissorRectangle.setTo(0,this.__offsetY+this.__displayHeight,this.__width,this.__height),this.context3D.setScissorRectangle(Fb.__scissorRectangle),this.context3D.__flushGL(),this.__gl.clearColor(0,0,0,1),this.__gl.clear(this.__gl.COLOR_BUFFER_BIT)),this.context3D.setScissorRectangle(null));else{Fb.__scissorRectangle.setTo(this.__offsetX,this.__offsetY,this.__displayWidth,this.__displayHeight),this.context3D.setScissorRectangle(Fb.__scissorRectangle);var i=e.__mask,s=e.__scrollRect;e.__mask=null,e.__scrollRect=null,null!=e&&(null!=e.__type?this.__renderDisplayObject(e):this.__renderBitmapData(e)),e.__mask=i,e.__scrollRect=s}this.context3D.present()},__renderBitmap:function(e){if(this.__updateCacheBitmap(e,!1),null!=e.__bitmapData&&null!=e.__bitmapData.image&&(e.__imageVersion=e.__bitmapData.image.version),null==e.__cacheBitmap||e.__isCacheBitmapRender){if(!(null==e.opaqueBackground&&null==e.__graphics||!e.__renderable||0>=e.__worldAlpha)){if(null!=e.opaqueBackground&&!e.__isCacheBitmapRender&&0<e.get_width()&&0<e.get_height()){this.__setBlendMode(e.__worldBlendMode),this.__pushMaskObject(e);var i=this.context3D,s=ia.__pool.get();s.setTo(0,0,e.get_width(),e.get_height()),this.__pushMaskRect(s,e.__renderTransform);var n=e.opaqueBackground;i.clear((n>>>16&255)/255,(n>>>8&255)/255,(255&n)/255,1,0,0,1),this.__popMaskRect(),this.__popMaskObject(e),ia.__pool.release(s)}null!=e.__graphics&&Kf.render(e,this)}jh.render(e,this)}else jh.render(e.__cacheBitmap,this)},__renderBitmapData:function(e){this.__setBlendMode(10);var i=this.__defaultDisplayShader;this.setShader(i),this.applyBitmapData(e,this.__upscaled),this.applyMatrix(this.__getMatrix(e.__worldTransform,1)),this.applyAlpha(e.__worldAlpha),this.applyColorTransform(e.__worldColorTransform),this.updateShader();var s=e.getVertexBuffer(this.context3D);null!=i.__position&&this.context3D.setVertexBufferAt(i.__position.index,s,0,3),null!=i.__textureCoord&&this.context3D.setVertexBufferAt(i.__textureCoord.index,s,3,2),e=e.getIndexBuffer(this.context3D),this.context3D.drawTriangles(e),this.__clearShader()},__renderDisplayObject:function(e){if(null!=e&&null!=e.__type){switch(e.__type._hx_index){case 0:this.__renderBitmap(e);break;case 2:this.__renderDisplayObjectContainer(e);break;case 1:case 4:this.__renderShape(e);break;case 5:this.__renderSimpleButton(e);break;case 6:this.__renderTextField(e);break;case 7:this.__renderTilemap(e);break;case 8:this.__renderVideo(e)}if(null!=e.__customRenderEvent){var i=e.__customRenderEvent;i.allowSmoothing=this.__allowSmoothing,i.objectMatrix.copyFrom(e.__renderTransform),i.objectColorTransform.__copyFrom(e.__worldColorTransform),i.renderer=this,this.__cleared||this.__clear(),this.setShader(e.__worldShader),this.context3D.__flushGL(),i.type="renderOpenGL",this.__setBlendMode(e.__worldBlendMode),this.__pushMaskObject(e),e.dispatchEvent(i),this.__popMaskObject(e),this.setViewport()}}},__renderDisplayObjectContainer:function(e){for(var i=e.__removedChildren.iterator();i.hasNext();){var s=i.next();null==s.stage&&s.__cleanup()}if(e.__removedChildren.set_length(0),e.__renderable&&!(0>=e.__worldAlpha)){if(this.__updateCacheBitmap(e,!1),null==e.__cacheBitmap||e.__isCacheBitmapRender){if(!(null==e.opaqueBackground&&null==e.__graphics||!e.__renderable||0>=e.__worldAlpha)){if(null!=e.opaqueBackground&&!e.__isCacheBitmapRender&&0<e.get_width()&&0<e.get_height()){this.__setBlendMode(e.__worldBlendMode),this.__pushMaskObject(e),i=this.context3D,(s=ia.__pool.get()).setTo(0,0,e.get_width(),e.get_height()),this.__pushMaskRect(s,e.__renderTransform);var n=e.opaqueBackground;i.clear((n>>>16&255)/255,(n>>>8&255)/255,(255&n)/255,1,0,0,1),this.__popMaskRect(),this.__popMaskObject(e),ia.__pool.release(s)}null!=e.__graphics&&Kf.render(e,this)}}else jh.render(e.__cacheBitmap,this);if(null==e.__cacheBitmap||e.__isCacheBitmapRender){if(0<e.__children.length)if(this.__pushMaskObject(e),null!=this.__stage){for(i=0,s=e.__children;i<s.length;)n=s[i],++i,this.__renderDisplayObject(n),n.__renderDirty=!1;e.__renderDirty=!1}else for(i=0,s=e.__children;i<s.length;)n=s[i],++i,this.__renderDisplayObject(n);0<e.__children.length&&this.__popMaskObject(e)}}},__renderFilterPass:function(e,i,s,n){if(null==n&&(n=!0),null!=e&&null!=i&&null!=this.__defaultRenderTarget){var o=this.context3D.__state.renderToTexture,l=this.context3D.__state.renderToTextureDepthStencil,_=this.context3D.__state.renderToTextureAntiAlias,h=this.context3D.__state.renderToTextureSurfaceSelector;this.context3D.setRenderToTexture(this.__defaultRenderTarget.getTexture(this.context3D),!1),n&&this.context3D.clear(0,0,0,0,0,0,1),i=this.__initShader(i),this.setShader(i),this.applyAlpha(1),this.applyBitmapData(e,s),this.applyColorTransform(null),this.applyMatrix(this.__getMatrix(e.__renderTransform,1)),this.updateShader(),s=e.getVertexBuffer(this.context3D),null!=i.__position&&this.context3D.setVertexBufferAt(i.__position.index,s,0,3),null!=i.__textureCoord&&this.context3D.setVertexBufferAt(i.__textureCoord.index,s,3,2),e=e.getIndexBuffer(this.context3D),this.context3D.drawTriangles(e),null!=o?this.context3D.setRenderToTexture(o,l,_,h):this.context3D.setRenderToBackBuffer(),this.__clearShader()}},__renderMask:function(e){if(null!=e)switch(e.__type._hx_index){case 0:jh.renderMask(e,this);break;case 2:for(var i=e.__removedChildren.iterator();i.hasNext();){var s=i.next();null==s.stage&&s.__cleanup()}for(e.__removedChildren.set_length(0),null!=e.__graphics&&Kf.renderMask(e,this),i=0,e=e.__children;i<e.length;)s=e[i],++i,this.__renderMask(s);break;case 3:break;case 5:this.__renderMask(e.__currentState);break;case 6:Dl.renderMask(e,this),Kf.renderMask(e,this);break;case 7:(null!=e.opaqueBackground||null!=e.__graphics)&&(null!=e.opaqueBackground&&!e.__isCacheBitmapRender&&0<e.get_width()&&e.get_height(),null!=e.__graphics&&Kf.renderMask(e,this)),la.renderMask(e,this);break;case 8:Hh.renderMask(e,this);break;default:null!=e.__graphics&&Kf.renderMask(e,this)}},__renderShape:function(e){if(this.__updateCacheBitmap(e,!1),null==e.__cacheBitmap||e.__isCacheBitmapRender){if(!(null==e.opaqueBackground&&null==e.__graphics||!e.__renderable||0>=e.__worldAlpha)){if(null!=e.opaqueBackground&&!e.__isCacheBitmapRender&&0<e.get_width()&&0<e.get_height()){this.__setBlendMode(e.__worldBlendMode),this.__pushMaskObject(e);var i=this.context3D,s=ia.__pool.get();s.setTo(0,0,e.get_width(),e.get_height()),this.__pushMaskRect(s,e.__renderTransform);var n=e.opaqueBackground;i.clear((n>>>16&255)/255,(n>>>8&255)/255,(255&n)/255,1,0,0,1),this.__popMaskRect(),this.__popMaskObject(e),ia.__pool.release(s)}null!=e.__graphics&&Kf.render(e,this)}}else jh.render(e.__cacheBitmap,this)},__renderSimpleButton:function(e){!e.__renderable||0>=e.__worldAlpha||null==e.__currentState||(this.__pushMaskObject(e),this.__renderDisplayObject(e.__currentState),this.__popMaskObject(e))},__renderTextField:function(e){if(this.__updateCacheBitmap(e,e.__dirty),null==e.__cacheBitmap||e.__isCacheBitmapRender){if(Dl.render(e,this),!(null==e.opaqueBackground&&null==e.__graphics||!e.__renderable||0>=e.__worldAlpha)){if(null!=e.opaqueBackground&&!e.__isCacheBitmapRender&&0<e.get_width()&&0<e.get_height()){this.__setBlendMode(e.__worldBlendMode),this.__pushMaskObject(e);var i=this.context3D,s=ia.__pool.get();s.setTo(0,0,e.get_width(),e.get_height()),this.__pushMaskRect(s,e.__renderTransform);var n=e.opaqueBackground;i.clear((n>>>16&255)/255,(n>>>8&255)/255,(255&n)/255,1,0,0,1),this.__popMaskRect(),this.__popMaskObject(e),ia.__pool.release(s)}null!=e.__graphics&&Kf.render(e,this)}}else jh.render(e.__cacheBitmap,this)},__renderTilemap:function(e){if(this.__updateCacheBitmap(e,!1),null==e.__cacheBitmap||e.__isCacheBitmapRender){if(!(null==e.opaqueBackground&&null==e.__graphics||!e.__renderable||0>=e.__worldAlpha)){if(null!=e.opaqueBackground&&!e.__isCacheBitmapRender&&0<e.get_width()&&0<e.get_height()){this.__setBlendMode(e.__worldBlendMode),this.__pushMaskObject(e);var i=this.context3D,s=ia.__pool.get();s.setTo(0,0,e.get_width(),e.get_height()),this.__pushMaskRect(s,e.__renderTransform);var n=e.opaqueBackground;i.clear((n>>>16&255)/255,(n>>>8&255)/255,(255&n)/255,1,0,0,1),this.__popMaskRect(),this.__popMaskObject(e),ia.__pool.release(s)}null!=e.__graphics&&Kf.render(e,this)}la.render(e,this)}else jh.render(e.__cacheBitmap,this)},__renderVideo:function(e){Hh.render(e,this)},__resize:function(e,i){if(this.__width=e,this.__height=i,i=null==this.__defaultRenderTarget?this.__stage.stageWidth:this.__defaultRenderTarget.width,e=null==this.__defaultRenderTarget?this.__stage.stageHeight:this.__defaultRenderTarget.height,null==this.__defaultRenderTarget){var s=this.__worldTransform;s=Math.round(0*s.a+0*s.c+s.tx)}else s=0;this.__offsetX=s,null==this.__defaultRenderTarget?(s=this.__worldTransform,s=Math.round(0*s.b+0*s.d+s.ty)):s=0,this.__offsetY=s,null==this.__defaultRenderTarget&&(s=this.__worldTransform,i=Math.round(i*s.a+0*s.c+s.tx-this.__offsetX)),this.__displayWidth=i,null==this.__defaultRenderTarget&&(i=this.__worldTransform,e=Math.round(0*i.b+e*i.d+i.ty-this.__offsetY)),this.__displayHeight=e,oa.createOrtho(this.__projection,0,this.__displayWidth+2*this.__offsetX,0,this.__displayHeight+2*this.__offsetY,-1e3,1e3),oa.createOrtho(this.__projectionFlipped,0,this.__displayWidth+2*this.__offsetX,this.__displayHeight+2*this.__offsetY,0,-1e3,1e3)},__resumeClipAndMask:function(e){0<this.__stencilReference?(this.context3D.setStencilActions(2,1,5,5,5),this.context3D.setStencilReferenceValue(this.__stencilReference,255,0)):(this.context3D.setStencilActions(),this.context3D.setStencilReferenceValue(0,0,0)),0<this.__numClipRects?this.__scissorRect(this.__clipRects[this.__numClipRects-1]):this.__scissorRect()},__scissorRect:function(e){if(null!=e){var i=Math.floor(e.x),s=Math.floor(e.y),n=0<e.width?Math.ceil(e.get_right())-i:0;0>n&&(n=0),0>(e=0<e.height?Math.ceil(e.get_bottom())-s:0)&&(e=0),Fb.__scissorRectangle.setTo(i,s,n,e),this.context3D.setScissorRectangle(Fb.__scissorRectangle)}else this.context3D.setScissorRectangle(null)},__setBlendMode:function(e){if(null!=this.__overrideBlendMode&&(e=this.__overrideBlendMode),this.__blendMode!=e)switch(this.__blendMode=e,e){case 0:this.context3D.setBlendFactors(2,2);break;case 9:this.context3D.setBlendFactors(1,5);break;case 12:this.context3D.setBlendFactors(2,6);break;case 14:this.context3D.setBlendFactors(2,2),this.context3D.__setGLBlendEquation(this.__gl.FUNC_REVERSE_SUBTRACT);break;default:this.context3D.setBlendFactors(2,5)}},__setRenderTarget:function(e){this.__defaultRenderTarget=e,this.__flipped=null==e,null!=e&&this.__resize(e.width,e.height)},__setShaderBuffer:function(e){this.setShader(e.shader),this.__currentShaderBuffer=e},__shouldCacheHardware:function(e,i){if(1==i)return!0;switch(e.__type._hx_index){case 2:if(null!=e.__filters)return!0;if((0==i||null!=e.__graphics&&!Yc.isCompatible(e.__graphics))&&(i=!1),null!=e.__children){var s=0;for(e=e.__children;s<e.length;){var n=e[s];if(++s,1==(i=this.__shouldCacheHardware(n,i)))return!0}}return i;case 6:return 1==i;case 7:return!0;default:return 1==i||null!=e.__filters||!(0==i||null!=e.__graphics&&!Yc.isCompatible(e.__graphics))&&null}},__suspendClipAndMask:function(){0<this.__stencilReference&&(this.context3D.setStencilActions(),this.context3D.setStencilReferenceValue(0,0,0)),0<this.__numClipRects&&this.__scissorRect()},__updateCacheBitmap:function(e,i){if(e.__isCacheBitmapRender)return!1;var s=!1;if(e.get_cacheAsBitmap()){null==e.__cacheBitmapMatrix&&(e.__cacheBitmapMatrix=new Fa);var n=null!=e.__filters,o=null!=e.__cacheAsBitmapMatrix?e.__cacheAsBitmapMatrix:e.__renderTransform,l=Tb.__pool.get();l.__copyFrom(e.__worldColorTransform),null!=this.__worldColorTransform&&l.__combine(this.__worldColorTransform);var _=null==e.__cacheBitmap||e.__renderDirty&&(i||null!=e.__children&&0<e.__children.length)||e.opaqueBackground!=e.__cacheBitmapBackground||null!=e.__graphics&&e.__graphics.__hardwareDirty;if(i=null,_||o.a==e.__cacheBitmapMatrix.a&&o.b==e.__cacheBitmapMatrix.b&&o.c==e.__cacheBitmapMatrix.c&&o.d==e.__cacheBitmapMatrix.d||(_=!0),n&&!_){s=0;for(var h=e.__filters;s<h.length;){var m=h[s];if(++s,m.__renderDirty){_=!0;break}}}s=_||!e.__cacheBitmap.__worldTransform.equals(e.__worldTransform),e.__cacheBitmapMatrix.copyFrom(o),e.__cacheBitmapMatrix.tx=0;var f=e.__cacheBitmapMatrix.ty=0,y=0,g=m=h=0,j=0;if(s)if(i=ia.__pool.get(),e.__getFilterBounds(i,e.__cacheBitmapMatrix),h=Math.ceil(i.width),m=Math.ceil(i.height),g=0<i.x?Math.ceil(i.x):Math.floor(i.x),j=0<i.y?Math.ceil(i.y):Math.floor(i.y),null!=e.__cacheBitmapDataTexture)if(h>e.__cacheBitmapDataTexture.width||m>e.__cacheBitmapDataTexture.height){for(_=1;_<h;)_<<=1;for(f=_,_=1;_<m;)_<<=1;y=_,_=!0}else f=e.__cacheBitmapDataTexture.width,y=e.__cacheBitmapDataTexture.height;else{for(f=1;f<h;)f<<=1;for(var $=1;$<m;)$<<=1;y=$}if(_){if(s=!0,e.__cacheBitmapBackground=e.opaqueBackground,!(.5<=h&&.5<=m))return Tb.__pool.release(l),e.__cacheBitmap=null,e.__cacheBitmapData=null,e.__cacheBitmapDataTexture=null,!0;$=null!=e.opaqueBackground&&(f!=h||y!=m);var yt=null!=e.opaqueBackground?-16777216|e.opaqueBackground:0;(null==e.__cacheBitmapDataTexture||f>e.__cacheBitmapDataTexture.width||y>e.__cacheBitmapDataTexture.height)&&(f=this.context3D.createRectangleTexture(f,y,1,!0),e.__cacheBitmapDataTexture=pa.fromTexture(f)),e.__cacheBitmapDataTexture.fillRect(i,0),$&&(i.setTo(0,0,h,m),e.__cacheBitmapDataTexture.fillRect(i,yt))}if(null==e.__cacheBitmap&&(e.__cacheBitmap=new Uc),e.__cacheBitmap.set_bitmapData(e.__cacheBitmapDataTexture),s&&(e.__cacheBitmap.__worldTransform.copyFrom(e.__worldTransform),o==e.__renderTransform?(e.__cacheBitmap.__renderTransform.identity(),e.__cacheBitmap.__renderTransform.tx=e.__renderTransform.tx+g,e.__cacheBitmap.__renderTransform.ty=e.__renderTransform.ty+j):(e.__cacheBitmap.__renderTransform.copyFrom(e.__cacheBitmapMatrix),e.__cacheBitmap.__renderTransform.invert(),e.__cacheBitmap.__renderTransform.concat(e.__renderTransform),e.__cacheBitmap.__renderTransform.tx+=g,e.__cacheBitmap.__renderTransform.ty+=j)),e.__cacheBitmap.smoothing=this.__allowSmoothing,e.__cacheBitmap.__renderable=e.__renderable,e.__cacheBitmap.__worldAlpha=e.__worldAlpha,e.__cacheBitmap.__worldBlendMode=e.__worldBlendMode,e.__cacheBitmap.__worldShader=e.__worldShader,e.__cacheBitmap.set_mask(e.__mask),_){if((o=Fb.__childRendererPool.get()).__init(this.context3D,e.__cacheBitmapDataTexture),o.__stage=e.stage,o.__allowSmoothing=this.__allowSmoothing,o.__setBlendMode(10),o.__worldAlpha=1/e.__worldAlpha,o.__worldTransform.copyFrom(e.__renderTransform),o.__worldTransform.invert(),o.__worldTransform.concat(e.__cacheBitmapMatrix),o.__worldTransform.tx-=g,o.__worldTransform.ty-=j,o.__worldColorTransform.__copyFrom(l),o.__worldColorTransform.__invert(),e.__isCacheBitmapRender=!0,_=this.context3D.__state.renderToTexture,g=this.context3D.__state.renderToTextureDepthStencil,j=this.context3D.__state.renderToTextureAntiAlias,f=this.context3D.__state.renderToTextureSurfaceSelector,$=this.__blendMode,this.__suspendClipAndMask(),o.__copyShader(this),e.__cacheBitmapDataTexture.__setUVRect(this.context3D,0,0,h,m),o.__setRenderTarget(e.__cacheBitmapDataTexture),o.__drawBitmapData(e.__cacheBitmapDataTexture,e,null),n){var _t=!1;for(n=0,yt=e.__filters;n<yt.length;)y=yt[n],++n,y.__preserveObject&&(_t=!0);n=pa.__hardwareRenderer,pa.__hardwareRenderer=o,yt=this.context3D.__bitmapDataPool.get(h,m),y=this.context3D.__bitmapDataPool.get(h,m),_t=_t?this.context3D.__bitmapDataPool.get(h,m):null,yt.__setUVRect(this.context3D,0,0,h,m),y.__setUVRect(this.context3D,0,0,h,m),_t?.__setUVRect(this.context3D,0,0,h,m),o.__setBlendMode(10),o.__worldAlpha=1,o.__worldTransform.identity(),o.__worldColorTransform.__identity(),h=!0,m=0;for(var xt=e.__filters;m<xt.length;){var Tt=xt[m];++m,Tt.__preserveObject&&(o.__setRenderTarget(_t),o.__renderFilterPass(h?e.__cacheBitmapDataTexture:yt,o.__defaultDisplayShader,Tt.__smooth));for(var St=0,Mt=Tt.__numShaderPasses;St<Mt;){var Et=St++;Et=Tt.__initShader(o,Et,Tt.__preserveObject?_t:null),o.__setBlendMode(Tt.__shaderBlendMode),o.__setRenderTarget(y),o.__renderFilterPass(h?e.__cacheBitmapDataTexture:yt,Et,Tt.__smooth),h=!1,Et=yt,yt=y,y=Et}Tt.__renderDirty=!1}null!=yt&&(e.__cacheBitmapDataTexture.fillRect(e.__cacheBitmapDataTexture.rect,0),o.__setRenderTarget(e.__cacheBitmapDataTexture),o.__renderFilterPass(yt,o.__defaultDisplayShader,!0)),this.context3D.__bitmapDataPool.release(yt),this.context3D.__bitmapDataPool.release(y),null!=_t&&this.context3D.__bitmapDataPool.release(_t),pa.__hardwareRenderer=n}this.__blendMode=10,this.__setBlendMode($),this.__copyShader(o),null!=_?this.context3D.setRenderToTexture(_,g,j,f):this.context3D.setRenderToBackBuffer(),this.__resumeClipAndMask(o),this.setViewport(),e.__isCacheBitmapRender=!1,Fb.__childRendererPool.release(o)}s&&ia.__pool.release(i),Tb.__pool.release(l)}else null!=e.__cacheBitmap&&(e.__cacheBitmap=null,e.__cacheBitmapDataTexture=null,s=!0);return s},__updateShaderBuffer:function(e){null!=this.__currentShader&&null!=this.__currentShaderBuffer&&this.__currentShader.__updateFromBuffer(this.__currentShaderBuffer,e)},__class__:Fb});var Kf=function(){};k["openfl._internal.renderer.context3D.Context3DShape"]=Kf,Kf.__name__="openfl._internal.renderer.context3D.Context3DShape",Kf.render=function(e,i){if(e.__renderable&&!(0>=e.__worldAlpha)){var s=e.__graphics;if(null!=s){if(i.__setBlendMode(e.__worldBlendMode),i.__pushMaskObject(e),Yc.render(s,i),null!=s.__bitmap&&s.__visible){var n=i.context3D,o=e.__worldScale9Grid,l=i.__initDisplayShader(e.__worldShader);i.setShader(l),i.applyBitmapData(s.__bitmap,!0),i.applyMatrix(i.__getMatrix(s.__worldTransform,1)),i.applyAlpha(e.__worldAlpha),i.applyColorTransform(e.__worldColorTransform),i.updateShader();var _=s.__bitmap.getVertexBuffer(n,o,e);null!=l.__position&&n.setVertexBufferAt(l.__position.index,_,0,3),null!=l.__textureCoord&&n.setVertexBufferAt(l.__textureCoord.index,_,3,2),s=s.__bitmap.getIndexBuffer(n,o),n.drawTriangles(s),i.__clearShader()}i.__popMaskObject(e)}}},Kf.renderMask=function(e,i){var s=e.__graphics;if(null!=s&&(Yc.renderMask(s,i),null!=s.__bitmap)){e=i.context3D;var n=i.__maskShader;i.setShader(n),i.applyBitmapData(s.__bitmap,!0),i.applyMatrix(i.__getMatrix(s.__worldTransform,1)),i.updateShader();var o=s.__bitmap.getVertexBuffer(e);null!=n.__position&&e.setVertexBufferAt(n.__position.index,o,0,3),null!=n.__textureCoord&&e.setVertexBufferAt(n.__textureCoord.index,o,3,2),s=s.__bitmap.getIndexBuffer(e),e.drawTriangles(s),i.__clearShader()}};var El=function(){this.backBufferEnableDepthAndStencil=!1,this.blendDestinationAlphaFactor=9,this.blendSourceAlphaFactor=2,this.blendDestinationRGBFactor=9,this.blendSourceRGBFactor=2,this.colorMaskAlpha=this.colorMaskBlue=this.colorMaskGreen=this.colorMaskRed=!0,this.culling=3,this.depthCompareMode=4,this.depthMask=!0,this.samplerStates=[],this.scissorRectangle=new ia,this.stencilCompareMode=0,this.stencilPass=this.stencilFail=this.stencilDepthFail=5,this.stencilReadMask=255,this.stencilReferenceValue=0,this.stencilTriangleFace=2,this.stencilWriteMask=255,this.textures=[],this.__frontFaceGLCCW=!0,this.__glBlendEquation=32774};k["openfl._internal.renderer.context3D.Context3DState"]=El,El.__name__="openfl._internal.renderer.context3D.Context3DState",El.prototype={backBufferEnableDepthAndStencil:null,blendDestinationAlphaFactor:null,blendSourceAlphaFactor:null,blendDestinationRGBFactor:null,blendSourceRGBFactor:null,colorMaskRed:null,colorMaskGreen:null,colorMaskBlue:null,colorMaskAlpha:null,culling:null,depthCompareMode:null,depthMask:null,program:null,renderToTexture:null,renderToTextureAntiAlias:null,renderToTextureDepthStencil:null,renderToTextureSurfaceSelector:null,samplerStates:null,scissorEnabled:null,scissorRectangle:null,stencilCompareMode:null,stencilDepthFail:null,stencilFail:null,stencilPass:null,stencilReadMask:null,stencilReferenceValue:null,stencilTriangleFace:null,stencilWriteMask:null,textures:null,shader:null,__currentGLArrayBuffer:null,__currentGLElementArrayBuffer:null,__currentGLFramebuffer:null,__currentGLTexture2D:null,__currentGLTextureCubeMap:null,__enableGLBlend:null,__enableGLCullFace:null,__enableGLDepthTest:null,__enableGLScissorTest:null,__enableGLStencilTest:null,__frontFaceGLCCW:null,__glBlendEquation:null,__primaryGLFramebuffer:null,__rttDepthGLRenderbuffer:null,__rttGLFramebuffer:null,__rttGLRenderbuffer:null,__rttStencilGLRenderbuffer:null,__class__:El};var Dl=function(){};k["openfl._internal.renderer.context3D.Context3DTextField"]=Dl,Dl.__name__="openfl._internal.renderer.context3D.Context3DTextField",Dl.render=function(e,i){var s=i.__softwareRenderer,n=e.__textEngine,o=n.background||n.border?n.bounds:n.textBounds;if(i=e.__graphics,e.__dirty&&(e.__updateLayout(),null==i.__bounds&&(i.__bounds=new ia),i.__bounds.copyFrom(o)),i.__update(s.__worldTransform),e.__dirty||i.__softwareDirty){var l=i.__width,_=i.__height;if(!(null!=n.text&&""!=n.text||n.background||n.border||n.__hasFocus||1==n.type&&n.selectable)||(0>=n.width||0>=n.height)&&2!=n.autoSize)e.__graphics.__canvas=null,e.__graphics.__context=null,e.__graphics.__bitmap=null,e.__graphics.__softwareDirty=!1,e.__graphics.set___dirty(!1),e.__dirty=!1;else{null==e.__graphics.__canvas&&(e.__graphics.__canvas=window.document.createElement("canvas"),e.__graphics.__context=e.__graphics.__canvas.getContext("2d")),Y.context=i.__context;var h=i.__renderTransform;if(null!=s.__domRenderer){var m=s.pixelRatio;i.__canvas.width=l*m|0,i.__canvas.height=_*m|0,i.__canvas.style.width=l+"px",i.__canvas.style.height=_+"px",(l=Fa.__pool.get()).copyFrom(h),l.scale(m,m),s.setTransform(l,Y.context),Fa.__pool.release(l)}else i.__canvas.width=l,i.__canvas.height=_,Y.context.setTransform(h.a,h.b,h.c,h.d,h.tx,h.ty);if(null==Y.clearRect&&(Y.clearRect=typeof navigator<"u"&&typeof navigator.isCocoonJS<"u"),Y.clearRect&&Y.context.clearRect(0,0,i.__canvas.width,i.__canvas.height),null!=n.text&&""!=n.text||n.__hasFocus){for(h=n.text,i.__context.imageSmoothingEnabled=!(!s.__allowSmoothing||0==n.antiAliasType&&400==n.sharpness),(n.border||n.background)&&(Y.context.rect(.5,.5,o.width-1,o.height-1),n.background&&(s=aa.hex(16777215&n.backgroundColor,6),Y.context.fillStyle="#"+s,Y.context.fill()),n.border&&(Y.context.lineWidth=1,s=aa.hex(16777215&n.borderColor,6),Y.context.strokeStyle="#"+s,Y.context.stroke())),Y.context.textBaseline="alphabetic",Y.context.textAlign="start",s=-e.get_scrollH(),l=m=0,_=e.get_scrollV()-1;l<_;){var f=l++;m-=n.lineHeights.get(f)}var y;for(l=n.layoutGroups.iterator();l.hasNext();)if(!((_=l.next()).lineIndex<e.get_scrollV()-1)){if(_.lineIndex>n.get_bottomScrollV()-1)break;if(f="#"+aa.hex(16777215&_.format.color,6),Y.context.font=Xb.getFont(_.format),Y.context.fillStyle=f,Y.context.fillText(h.substring(_.startIndex,_.endIndex),_.offsetX+s-o.x,_.offsetY+_.ascent+m-o.y),-1<e.__caretIndex&&n.selectable)if(e.__selectionIndex==e.__caretIndex){if(e.__showCursor&&_.startIndex<=e.__caretIndex&&_.endIndex>=e.__caretIndex){for(var g=y=0,j=e.__caretIndex-_.startIndex;g<j;){var $=g++;if(_.positions.length<=$)break;y+=_.positions[$]}for(g=0,j=e.get_scrollV(),$=_.lineIndex+1;j<$;){var yt=j++;g+=n.lineHeights.get(yt-1)}Y.context.beginPath(),j=aa.hex(16777215&_.format.color,6),Y.context.strokeStyle="#"+j,Y.context.moveTo(_.offsetX+y-e.get_scrollH()-o.x,g+2-o.y),Y.context.lineWidth=1,Y.context.lineTo(_.offsetX+y-e.get_scrollH()-o.x,g+Xb.getFormatHeight(e.get_defaultTextFormat())-1-o.y),Y.context.stroke(),Y.context.closePath()}}else(_.startIndex<=e.__caretIndex&&_.endIndex>=e.__caretIndex||_.startIndex<=e.__selectionIndex&&_.endIndex>=e.__selectionIndex||_.startIndex>e.__caretIndex&&_.endIndex<e.__selectionIndex||_.startIndex>e.__selectionIndex&&_.endIndex<e.__caretIndex)&&(y=0|Math.min(e.__selectionIndex,e.__caretIndex),g=0|Math.max(e.__selectionIndex,e.__caretIndex),_.startIndex>y&&(y=_.startIndex),_.endIndex<g&&(g=_.endIndex),$=e.getCharBoundaries(y),g>=_.endIndex?(j=e.getCharBoundaries(_.endIndex-1)).x+=j.width+2:j=e.getCharBoundaries(g),null!=$&&null!=j&&(Y.context.fillStyle="#000000",Y.context.fillRect($.x+s,$.y+m,j.x-$.x,_.height),Y.context.fillStyle="#FFFFFF",Y.context.fillText(h.substring(y,g),s+$.x,_.offsetY+_.ascent+m)));_.format.underline&&(Y.context.beginPath(),Y.context.strokeStyle=f,Y.context.lineWidth=1,f=_.offsetX+s-o.x,y=Math.floor(_.offsetY+m+_.ascent-o.y)+.5,Y.context.moveTo(f,y),Y.context.lineTo(f+_.width,y),Y.context.stroke(),Y.context.closePath())}}else if((n.border||n.background)&&(n.border?Y.context.rect(.5,.5,o.width-1,o.height-1):Y.context.rect(0,0,o.width,o.height),n.background&&(o=aa.hex(16777215&n.backgroundColor,6),Y.context.fillStyle="#"+o,Y.context.fill()),n.border&&(Y.context.lineWidth=1,Y.context.lineCap="square",o=aa.hex(16777215&n.borderColor,6),Y.context.strokeStyle="#"+o,Y.context.stroke())),-1<e.__caretIndex&&n.selectable&&e.__showCursor){for(o=-e.get_scrollH(),s=h=0,m=e.get_scrollV()-1;s<m;)l=s++,h+=n.lineHeights.get(l);Y.context.beginPath(),n=aa.hex(16777215&e.get_defaultTextFormat().color,6),Y.context.strokeStyle="#"+n,Y.context.moveTo(o+2.5,h+2.5),Y.context.lineWidth=1,Y.context.lineTo(o+2.5,h+Xb.getFormatHeight(e.get_defaultTextFormat())-1),Y.context.stroke(),Y.context.closePath()}i.__bitmap=pa.fromCanvas(e.__graphics.__canvas),i.__visible=!0,e.__dirty=!1,i.__softwareDirty=!1,i.set___dirty(!1)}}e.__graphics.__hardwareDirty=!1},Dl.renderMask=function(e,i){var s=i.__softwareRenderer,n=e.__textEngine,o=n.background||n.border?n.bounds:n.textBounds;if(i=e.__graphics,e.__dirty&&(e.__updateLayout(),null==i.__bounds&&(i.__bounds=new ia),i.__bounds.copyFrom(o)),i.__update(s.__worldTransform),e.__dirty||i.__softwareDirty){var l=i.__width,_=i.__height;if(!(null!=n.text&&""!=n.text||n.background||n.border||n.__hasFocus||1==n.type&&n.selectable)||(0>=n.width||0>=n.height)&&2!=n.autoSize)e.__graphics.__canvas=null,e.__graphics.__context=null,e.__graphics.__bitmap=null,e.__graphics.__softwareDirty=!1,e.__graphics.set___dirty(!1),e.__dirty=!1;else{null==e.__graphics.__canvas&&(e.__graphics.__canvas=window.document.createElement("canvas"),e.__graphics.__context=e.__graphics.__canvas.getContext("2d")),Y.context=i.__context;var h=i.__renderTransform;if(null!=s.__domRenderer){var m=s.pixelRatio;i.__canvas.width=l*m|0,i.__canvas.height=_*m|0,i.__canvas.style.width=l+"px",i.__canvas.style.height=_+"px",(l=Fa.__pool.get()).copyFrom(h),l.scale(m,m),s.setTransform(l,Y.context),Fa.__pool.release(l)}else i.__canvas.width=l,i.__canvas.height=_,Y.context.setTransform(h.a,h.b,h.c,h.d,h.tx,h.ty);if(null==Y.clearRect&&(Y.clearRect=typeof navigator<"u"&&typeof navigator.isCocoonJS<"u"),Y.clearRect&&Y.context.clearRect(0,0,i.__canvas.width,i.__canvas.height),null!=n.text&&""!=n.text||n.__hasFocus){for(h=n.text,i.__context.imageSmoothingEnabled=!(!s.__allowSmoothing||0==n.antiAliasType&&400==n.sharpness),(n.border||n.background)&&(Y.context.rect(.5,.5,o.width-1,o.height-1),n.background&&(s=aa.hex(16777215&n.backgroundColor,6),Y.context.fillStyle="#"+s,Y.context.fill()),n.border&&(Y.context.lineWidth=1,s=aa.hex(16777215&n.borderColor,6),Y.context.strokeStyle="#"+s,Y.context.stroke())),Y.context.textBaseline="alphabetic",Y.context.textAlign="start",s=-e.get_scrollH(),l=m=0,_=e.get_scrollV()-1;l<_;){var f=l++;m-=n.lineHeights.get(f)}var y;for(l=n.layoutGroups.iterator();l.hasNext();)if(!((_=l.next()).lineIndex<e.get_scrollV()-1)){if(_.lineIndex>n.get_bottomScrollV()-1)break;if(f="#"+aa.hex(16777215&_.format.color,6),Y.context.font=Xb.getFont(_.format),Y.context.fillStyle=f,Y.context.fillText(h.substring(_.startIndex,_.endIndex),_.offsetX+s-o.x,_.offsetY+_.ascent+m-o.y),-1<e.__caretIndex&&n.selectable)if(e.__selectionIndex==e.__caretIndex){if(e.__showCursor&&_.startIndex<=e.__caretIndex&&_.endIndex>=e.__caretIndex){for(var g=y=0,j=e.__caretIndex-_.startIndex;g<j;){var $=g++;if(_.positions.length<=$)break;y+=_.positions[$]}for(g=0,j=e.get_scrollV(),$=_.lineIndex+1;j<$;){var yt=j++;g+=n.lineHeights.get(yt-1)}Y.context.beginPath(),j=aa.hex(16777215&_.format.color,6),Y.context.strokeStyle="#"+j,Y.context.moveTo(_.offsetX+y-e.get_scrollH()-o.x,g+2-o.y),Y.context.lineWidth=1,Y.context.lineTo(_.offsetX+y-e.get_scrollH()-o.x,g+Xb.getFormatHeight(e.get_defaultTextFormat())-1-o.y),Y.context.stroke(),Y.context.closePath()}}else(_.startIndex<=e.__caretIndex&&_.endIndex>=e.__caretIndex||_.startIndex<=e.__selectionIndex&&_.endIndex>=e.__selectionIndex||_.startIndex>e.__caretIndex&&_.endIndex<e.__selectionIndex||_.startIndex>e.__selectionIndex&&_.endIndex<e.__caretIndex)&&(y=0|Math.min(e.__selectionIndex,e.__caretIndex),g=0|Math.max(e.__selectionIndex,e.__caretIndex),_.startIndex>y&&(y=_.startIndex),_.endIndex<g&&(g=_.endIndex),$=e.getCharBoundaries(y),g>=_.endIndex?(j=e.getCharBoundaries(_.endIndex-1)).x+=j.width+2:j=e.getCharBoundaries(g),null!=$&&null!=j&&(Y.context.fillStyle="#000000",Y.context.fillRect($.x+s,$.y+m,j.x-$.x,_.height),Y.context.fillStyle="#FFFFFF",Y.context.fillText(h.substring(y,g),s+$.x,_.offsetY+_.ascent+m)));_.format.underline&&(Y.context.beginPath(),Y.context.strokeStyle=f,Y.context.lineWidth=1,f=_.offsetX+s-o.x,y=Math.floor(_.offsetY+m+_.ascent-o.y)+.5,Y.context.moveTo(f,y),Y.context.lineTo(f+_.width,y),Y.context.stroke(),Y.context.closePath())}}else if((n.border||n.background)&&(n.border?Y.context.rect(.5,.5,o.width-1,o.height-1):Y.context.rect(0,0,o.width,o.height),n.background&&(o=aa.hex(16777215&n.backgroundColor,6),Y.context.fillStyle="#"+o,Y.context.fill()),n.border&&(Y.context.lineWidth=1,Y.context.lineCap="square",o=aa.hex(16777215&n.borderColor,6),Y.context.strokeStyle="#"+o,Y.context.stroke())),-1<e.__caretIndex&&n.selectable&&e.__showCursor){for(o=-e.get_scrollH(),s=h=0,m=e.get_scrollV()-1;s<m;)l=s++,h+=n.lineHeights.get(l);Y.context.beginPath(),n=aa.hex(16777215&e.get_defaultTextFormat().color,6),Y.context.strokeStyle="#"+n,Y.context.moveTo(o+2.5,h+2.5),Y.context.lineWidth=1,Y.context.lineTo(o+2.5,h+Xb.getFormatHeight(e.get_defaultTextFormat())-1),Y.context.stroke(),Y.context.closePath()}i.__bitmap=pa.fromCanvas(e.__graphics.__canvas),i.__visible=!0,e.__dirty=!1,i.__softwareDirty=!1,i.set___dirty(!1)}}e.__graphics.__hardwareDirty=!1};var la=function(){};k["openfl._internal.renderer.context3D.Context3DTilemap"]=la,la.__name__="openfl._internal.renderer.context3D.Context3DTilemap",la.buildBuffer=function(e,i){if(e.__renderable&&0!=e.__group.__tiles.length&&!(0>=e.__worldAlpha)){la.numTiles=0,la.vertexBufferData=null!=e.__buffer?e.__buffer.vertexBufferData:null,la.vertexDataPosition=0;var s=ia.__pool.get(),n=Fa.__pool.get(),o=Fa.__pool.get();la.dataPerVertex=4,e.tileAlphaEnabled&&la.dataPerVertex++,e.tileColorTransformEnabled&&(la.dataPerVertex+=8),la.buildBufferTileContainer(e,e.__group,i,o,e.__tileset,e.tileAlphaEnabled,e.__worldAlpha,e.tileColorTransformEnabled,e.__worldColorTransform,null,s,n),e.__buffer.flushVertexBufferData(),ia.__pool.release(s),Fa.__pool.release(n),Fa.__pool.release(o)}},la.buildBufferTileContainer=function(e,i,s,n,o,l,_,h,m,f,y,g){var j=Fa.__pool.get(),$=s.__roundPixels,yt=i.__tiles;la.resizeBuffer(e,la.numTiles+i.__length);for(var _t,xt,Tt,Mt,Et,Ct,Dt,At,Nt,Ft,Lt,Ot,Ht,$t,St=null,zt=l?5:4,Jt=0;Jt<yt.length;)if(Dt=yt[Jt],++Jt,j.setTo(1,0,0,1,-Dt.get_originX(),-Dt.get_originY()),j.concat(Dt.get_matrix()),j.concat(n),$&&(j.tx=Math.round(j.tx),j.ty=Math.round(j.ty)),_t=null!=Dt.get_tileset()?Dt.get_tileset():o,xt=Dt.get_alpha()*_,Tt=Dt.get_visible(),Dt.__dirty=!1,Tt&&!(0>=xt))if(h&&(null!=Dt.get_colorTransform()?null==m?St=Dt.get_colorTransform():(null==la.cacheColorTransform&&(la.cacheColorTransform=new Tb),(St=la.cacheColorTransform).redMultiplier=m.redMultiplier*Dt.get_colorTransform().redMultiplier,St.greenMultiplier=m.greenMultiplier*Dt.get_colorTransform().greenMultiplier,St.blueMultiplier=m.blueMultiplier*Dt.get_colorTransform().blueMultiplier,St.alphaMultiplier=m.alphaMultiplier*Dt.get_colorTransform().alphaMultiplier,St.redOffset=m.redOffset+Dt.get_colorTransform().redOffset,St.greenOffset=m.greenOffset+Dt.get_colorTransform().greenOffset,St.blueOffset=m.blueOffset+Dt.get_colorTransform().blueOffset,St.alphaOffset=m.alphaOffset+Dt.get_colorTransform().alphaOffset):St=m),l||(xt=1),0<Dt.__length)la.buildBufferTileContainer(e,Dt,s,j,_t,l,xt,h,St,f,y,g);else if(null!=_t&&(Tt=Dt.get_id(),null!=(Mt=_t.__bitmapData))){if(-1==Tt){if(null==(Et=Dt.__rect)||0>=Et.width||0>=Et.height)continue;_t=Et.x/Mt.width,Dt=Et.y/Mt.height,Tt=Et.get_right()/Mt.width,At=Et.get_bottom()/Mt.height}else{if(null==(Mt=_t.__data[Tt]))continue;y.setTo(Mt.x,Mt.y,Mt.width,Mt.height),Et=y,_t=Mt.__uvX,Dt=Mt.__uvY,Tt=Mt.__uvWidth,At=Mt.__uvHeight}if(Nt=0*j.b+0*j.d+j.ty,Ft=(Mt=Et.width)*j.a+0*j.c+j.tx,Lt=Mt*j.b+0*j.d+j.ty,Ot=0*j.a+(Ct=Et.height)*j.c+j.tx,Ht=0*j.b+Ct*j.d+j.ty,$t=Mt*j.a+Ct*j.c+j.tx,Ct=Mt*j.b+Ct*j.d+j.ty,la.vertexBufferData[Mt=la.vertexDataPosition]=Et=0*j.a+0*j.c+j.tx,la.vertexBufferData[Mt+1]=Nt,la.vertexBufferData[Mt+2]=_t,la.vertexBufferData[Mt+3]=Dt,la.vertexBufferData[Mt+la.dataPerVertex]=Ft,la.vertexBufferData[Mt+la.dataPerVertex+1]=Lt,la.vertexBufferData[Mt+la.dataPerVertex+2]=Tt,la.vertexBufferData[Mt+la.dataPerVertex+3]=Dt,la.vertexBufferData[Mt+2*la.dataPerVertex]=Ot,la.vertexBufferData[Mt+2*la.dataPerVertex+1]=Ht,la.vertexBufferData[Mt+2*la.dataPerVertex+2]=_t,la.vertexBufferData[Mt+2*la.dataPerVertex+3]=At,la.vertexBufferData[Mt+3*la.dataPerVertex]=$t,la.vertexBufferData[Mt+3*la.dataPerVertex+1]=Ct,la.vertexBufferData[Mt+3*la.dataPerVertex+2]=Tt,la.vertexBufferData[Mt+3*la.dataPerVertex+3]=At,l&&(la.vertexBufferData[Mt+0*la.dataPerVertex+4]=xt,la.vertexBufferData[Mt+la.dataPerVertex+4]=xt,la.vertexBufferData[Mt+2*la.dataPerVertex+4]=xt,la.vertexBufferData[Mt+3*la.dataPerVertex+4]=xt),h)if(null!=St)for(xt=0;4>xt;)_t=xt++,la.vertexBufferData[Mt+la.dataPerVertex*_t+zt]=St.redMultiplier,la.vertexBufferData[Mt+la.dataPerVertex*_t+zt+1]=St.greenMultiplier,la.vertexBufferData[Mt+la.dataPerVertex*_t+zt+2]=St.blueMultiplier,la.vertexBufferData[Mt+la.dataPerVertex*_t+zt+3]=St.alphaMultiplier,la.vertexBufferData[Mt+la.dataPerVertex*_t+zt+4]=St.redOffset,la.vertexBufferData[Mt+la.dataPerVertex*_t+zt+5]=St.greenOffset,la.vertexBufferData[Mt+la.dataPerVertex*_t+zt+6]=St.blueOffset,la.vertexBufferData[Mt+la.dataPerVertex*_t+zt+7]=St.alphaOffset;else for(xt=0;4>xt;)_t=xt++,la.vertexBufferData[Mt+la.dataPerVertex*_t+zt]=1,la.vertexBufferData[Mt+la.dataPerVertex*_t+zt+1]=1,la.vertexBufferData[Mt+la.dataPerVertex*_t+zt+2]=1,la.vertexBufferData[Mt+la.dataPerVertex*_t+zt+3]=1,la.vertexBufferData[Mt+la.dataPerVertex*_t+zt+4]=0,la.vertexBufferData[Mt+la.dataPerVertex*_t+zt+5]=0,la.vertexBufferData[Mt+la.dataPerVertex*_t+zt+6]=0,la.vertexBufferData[Mt+la.dataPerVertex*_t+zt+7]=0;la.vertexDataPosition+=4*la.dataPerVertex}i.__dirty=!1,Fa.__pool.release(j)},la.flush=function(e,i,s){if(null==la.currentShader&&(la.currentShader=i.__defaultDisplayShader),la.bufferPosition>la.lastFlushedPosition&&null!=la.currentBitmapData&&null!=la.currentShader){var n=i.__initDisplayShader(la.currentShader);i.setShader(n),i.applyBitmapData(la.currentBitmapData,e.smoothing),i.applyMatrix(i.__getMatrix(e.__renderTransform,1)),e.tileAlphaEnabled?i.useAlphaArray():i.applyAlpha(e.__worldAlpha),e.tileBlendModeEnabled&&i.__setBlendMode(s),e.tileColorTransformEnabled?(i.applyHasColorTransform(!0),i.useColorTransformArray()):i.applyColorTransform(e.__worldColorTransform),i.updateShader(),s=e.__buffer.vertexBuffer;for(var l,o=la.lastFlushedPosition*la.dataPerVertex*4;la.lastFlushedPosition<la.bufferPosition&&!(0>=(l=0|Math.min(la.bufferPosition-la.lastFlushedPosition,la.context.__quadIndexBufferElements)));){if(null!=n.__position&&la.context.setVertexBufferAt(n.__position.index,s,o,2),null!=n.__textureCoord&&la.context.setVertexBufferAt(n.__textureCoord.index,s,o+2,2),e.tileAlphaEnabled&&null!=n.__alpha&&la.context.setVertexBufferAt(n.__alpha.index,s,o+4,1),e.tileColorTransformEnabled){var _=e.tileAlphaEnabled?5:4;null!=n.__colorMultiplier&&la.context.setVertexBufferAt(n.__colorMultiplier.index,s,o+_,4),null!=n.__colorOffset&&la.context.setVertexBufferAt(n.__colorOffset.index,s,o+_+4,4)}la.context.drawTriangles(la.context.__quadIndexBuffer,0,2*l),la.lastFlushedPosition+=l}i.__clearShader()}la.lastUsedBitmapData=la.currentBitmapData,la.lastUsedShader=la.currentShader},la.render=function(e,i){if(e.__renderable&&!(0>=e.__worldAlpha)&&(la.context=i.context3D,la.buildBuffer(e,i),0!=la.numTiles)){la.bufferPosition=0,la.lastFlushedPosition=0,la.lastUsedBitmapData=null,la.lastUsedShader=null,la.currentBitmapData=null,la.currentShader=null,la.currentBlendMode=e.__worldBlendMode,e.tileBlendModeEnabled||i.__setBlendMode(la.currentBlendMode),i.__pushMaskObject(e);var s=ia.__pool.get();s.setTo(0,0,e.__width,e.__height),i.__pushMaskRect(s,e.__renderTransform),la.renderTileContainer(e,i,e.__group,e.__worldShader,e.__tileset,e.__worldAlpha,e.tileBlendModeEnabled,la.currentBlendMode,null),la.flush(e,i,la.currentBlendMode),i.__popMaskRect(),i.__popMaskObject(e),ia.__pool.release(s)}},la.renderTileContainer=function(e,i,s,n,o,l,_,h,m){s=s.__tiles;for(var f,y,g,$,j=null,yt=0;yt<s.length;){var _t=s[yt];if(++yt,f=null!=_t.get_tileset()?_t.get_tileset():o,y=_t.get_alpha()*l,(g=_t.get_visible())&&!(0>=y))if(g=null!=_t.get_shader()?_t.get_shader():n,_&&(j=null!=_t.__blendMode?_t.__blendMode:h),0<_t.__length)la.renderTileContainer(e,i,_t,g,f,y,_,j,m);else if(null!=f&&($=_t.get_id(),null!=(y=f.__bitmapData))){if(-1==$){if(null==(f=_t.__rect)||0>=f.width||0>=f.height)continue}else if(null==(f=f.__data[$]))continue;(g!=la.currentShader||y!=la.currentBitmapData&&null!=la.currentBitmapData||la.currentBlendMode!=j)&&la.flush(e,i,la.currentBlendMode),la.currentBitmapData=y,la.currentShader=g,la.currentBlendMode=j,la.bufferPosition++}}},la.renderMask=function(e,i){},la.resizeBuffer=function(e,i){la.numTiles=i,null==e.__buffer?e.__buffer=new pi(la.context,kt.QUADS,la.numTiles,la.dataPerVertex):e.__buffer.resize(la.numTiles,la.dataPerVertex),la.vertexBufferData=e.__buffer.vertexBufferData};var Hh=function(){};k["openfl._internal.renderer.context3D.Context3DVideo"]=Hh,Hh.__name__="openfl._internal.renderer.context3D.Context3DVideo",Hh.render=function(e,i){if(e.__renderable&&!(0>=e.__worldAlpha)&&null!=e.__stream&&null!=e.__stream.__video){var s=i.context3D,n=s.gl;if(null!=e.__getTexture(s)){i.__setBlendMode(e.__worldBlendMode),i.__pushMaskObject(e);var o=i.__initDisplayShader(e.__worldShader);i.setShader(o),i.applyBitmapData(null,!0,!1),i.applyMatrix(i.__getMatrix(e.__renderTransform,1)),i.applyAlpha(e.__worldAlpha),i.applyColorTransform(e.__worldColorTransform),null!=o.__textureSize&&(Hh.__textureSizeValue[0]=null!=e.__stream?e.__stream.__video.videoWidth:0,Hh.__textureSizeValue[1]=null!=e.__stream?e.__stream.__video.videoHeight:0,o.__textureSize.value=Hh.__textureSizeValue),i.updateShader(),s.setTextureAt(0,e.__getTexture(s)),s.__flushGLTextures(),n.uniform1i(o.__texture.index,0),e.smoothing?(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR)):(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST)),n=e.__getVertexBuffer(s),null!=o.__position&&s.setVertexBufferAt(o.__position.index,n,0,3),null!=o.__textureCoord&&s.setVertexBufferAt(o.__textureCoord.index,n,3,2),o=e.__getIndexBuffer(s),s.drawTriangles(o),i.__clearShader(),i.__popMaskObject(e)}}},Hh.renderMask=function(e,i){if(null!=e.__stream&&null!=e.__stream.__video){var s=i.context3D,n=i.__maskShader;i.setShader(n),i.applyBitmapData(Yi.opaqueBitmapData,!0),i.applyMatrix(i.__getMatrix(e.__renderTransform,1)),i.updateShader();var o=e.__getVertexBuffer(s);null!=n.__position&&s.setVertexBufferAt(n.__position.index,o,0,3),null!=n.__textureCoord&&s.setVertexBufferAt(n.__textureCoord.index,o,3,2),e=e.__getIndexBuffer(s),s.drawTriangles(e),i.__clearShader()}};var Zc=function(){};k["openfl._internal.renderer.dom.DOMBitmap"]=Zc,Zc.__name__="openfl._internal.renderer.dom.DOMBitmap",Zc.clear=function(e,i){null!=e.__image&&(i.element.removeChild(e.__image),e.__image=null,e.__style=null),null!=e.__canvas&&(i.element.removeChild(e.__canvas),e.__canvas=null,e.__style=null)},Zc.render=function(e,i){null!=e.stage&&e.__worldVisible&&e.__renderable&&null!=e.__bitmapData&&e.__bitmapData.__isValid&&e.__bitmapData.readable?(i.__pushMaskObject(e),null!=e.__bitmapData.image.buffer.__srcImage?Zc.renderImage(e,i):Zc.renderCanvas(e,i),i.__popMaskObject(e)):Zc.clear(e,i)},Zc.renderCanvas=function(e,i){null!=e.__image&&(i.element.removeChild(e.__image),e.__image=null),null==e.__canvas&&(e.__canvas=window.document.createElement("canvas"),e.__context=e.__canvas.getContext("2d"),e.__imageVersion=-1,i.__allowSmoothing&&e.smoothing||(e.__context.imageSmoothingEnabled=!1),i.__initializeElement(e,e.__canvas)),e.__imageVersion!=e.__bitmapData.image.version&&(za.convertToCanvas(e.__bitmapData.image),e.__canvas.width=e.__bitmapData.width+1,e.__canvas.width=e.__bitmapData.width,e.__canvas.height=e.__bitmapData.height,e.__context.drawImage(e.__bitmapData.image.buffer.__srcCanvas,0,0),e.__imageVersion=e.__bitmapData.image.version),i.__updateClip(e),i.__applyStyle(e,!0,!0,!0)},Zc.renderImage=function(e,i){null!=e.__canvas&&(i.element.removeChild(e.__canvas),e.__canvas=null),null==e.__image&&(e.__image=window.document.createElement("img"),e.__image.crossOrigin="Anonymous",e.__image.src=e.__bitmapData.image.buffer.__srcImage.src,i.__initializeElement(e,e.__image)),i.__updateClip(e),i.__applyStyle(e,!0,!0,!0)};var Ih=function(){};k["openfl._internal.renderer.dom.DOMDisplayObject"]=Ih,Ih.__name__="openfl._internal.renderer.dom.DOMDisplayObject",Ih.clear=function(e,i){null!=e.__cacheBitmap&&Zc.clear(e.__cacheBitmap,i),$e.clear(e,i)},Ih.render=function(e,i){null!=e.opaqueBackground&&!e.__isCacheBitmapRender&&0<e.get_width()&&e.get_height();var s=e.__graphics;if(null!=e.stage&&e.__worldVisible&&e.__renderable&&null!=s){if(D.render(s,i.__canvasRenderer),(s.__softwareDirty||e.__worldAlphaChanged||e.__canvas!=s.__canvas)&&(null!=s.__canvas?e.__canvas!=s.__canvas&&(null!=e.__canvas&&i.element.removeChild(e.__canvas),e.__canvas=s.__canvas,e.__context=s.__context,i.__initializeElement(e,e.__canvas)):$e.clear(e,i)),null!=e.__canvas){i.__pushMaskObject(e);var n=e.__renderTransform;e.__renderTransform=s.__worldTransform,s.__transformDirty&&(s.__transformDirty=!1,e.__renderTransformChanged=!0),i.__updateClip(e),i.__applyStyle(e,!0,!0,!0),e.__renderTransform=n,i.__popMaskObject(e)}}else $e.clear(e,i)};var aj=function(e){this.pixelRatio=1,hf.call(this),this.element=e};k["openfl.display.DOMRenderer"]=aj,aj.__name__="openfl.display.DOMRenderer",aj.__super__=hf,aj.prototype=x(hf.prototype,{element:null,pixelRatio:null,applyStyle:function(e,i){},clearStyle:function(e){},__clearBitmap:function(e){},__class__:aj});var Fl=function(e){aj.call(this,e),ya.__supportDOM=!0,e=window.getComputedStyle(document.documentElement,""),e=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1],"WebKit|Moz|MS|O".match(new RegExp("("+e+")","i")),e[0].toUpperCase(),e.substr(1),this.__vendorPrefix=e,this.__transformProperty="webkit"==e?"-webkit-transform":"transform",this.__transformOriginProperty="webkit"==e?"-webkit-transform-origin":"transform-origin",this.__clipRects=[],this.__colorTransform=new Tb,this.__z=this.__numClipRects=0,this.__type="dom",this.__canvasRenderer=new ih(null),this.__canvasRenderer.__domRenderer=this};k["openfl._internal.renderer.dom.DOMRenderer"]=Fl,Fl.__name__="openfl._internal.renderer.dom.DOMRenderer",Fl.__super__=aj,Fl.prototype=x(aj.prototype,{__canvasRenderer:null,__clipRects:null,__colorTransform:null,__currentClipRect:null,__numClipRects:null,__transformOriginProperty:null,__transformProperty:null,__vendorPrefix:null,__z:null,applyStyle:function(e,i){null!=e&&null!=i&&(null!=e.__style&&i.parentElement==this.element||this.__initializeElement(e,i),e.__style=i.style,this.__updateClip(e),this.__applyStyle(e,!0,!0,!0))},clearStyle:function(e){null!=e&&e.parentElement==this.element&&this.element.removeChild(e)},__applyStyle:function(e,i,s,n){var o=e.__style;if(i&&e.__renderTransformChanged){i=e.__renderTransform;var l=this.__roundPixels;null==l&&(l=!1),o.setProperty(this.__transformProperty,l?"matrix3d("+i.a+", "+i.b+", 0, 0, "+i.c+", "+i.d+", 0, 0, 0, 0, 1, 0, "+(0|i.tx)+", "+(0|i.ty)+", 0, 1)":"matrix3d("+i.a+", "+i.b+", 0, 0, "+i.c+", "+i.d+", 0, 0, 0, 0, 1, 0, "+i.tx+", "+i.ty+", 0, 1)",null)}e.__worldZ!=++this.__z&&(e.__worldZ=this.__z,o.setProperty("z-index",null==e.__worldZ?"null":""+e.__worldZ,null)),s&&e.__worldAlphaChanged&&(1>e.__worldAlpha?o.setProperty("opacity",null==e.__worldAlpha?"null":""+e.__worldAlpha,null):o.removeProperty("opacity")),n&&e.__worldClipChanged&&(null==e.__worldClip?o.removeProperty("clip"):o.setProperty("clip","rect("+(e=e.__worldClip).y+"px, "+e.get_right()+"px, "+e.get_bottom()+"px, "+e.x+"px)",null))},__clearBitmap:function(e){Ih.clear(e,this),Zc.clear(e,this)},__clearDisplayObject:function(e){if(null!=e&&null!=e.__type)switch(e.__type._hx_index){case 0:this.__clearBitmap(e);break;case 2:this.__clearDisplayObjectContainer(e);break;case 3:this.__clearDOMElement(e);break;case 1:case 4:this.__clearShape(e);break;case 5:this.__clearSimpleButton(e);break;case 6:this.__clearTextField(e);break;case 7:this.__clearTilemap(e);break;case 8:this.__clearVideo(e)}},__clearDisplayObjectContainer:function(e){for(var i=e.__removedChildren.iterator();i.hasNext();){var s=i.next();null==s.stage&&this.__clearDisplayObject(s)}for(i=e.__removedChildren.iterator();i.hasNext();)null==(s=i.next()).stage&&s.__cleanup();for(e.__removedChildren.set_length(0),this.__clearShape(e),i=0,e=e.__children;i<e.length;)s=e[i],++i,this.__clearDisplayObject(s)},__clearDOMElement:function(e){Ih.clear(e,this)},__clearShape:function(e){Ih.clear(e,this)},__clearSimpleButton:function(e){for(var i=e.__previousStates.iterator();i.hasNext();){var s=i.next();this.__clearDisplayObject(s)}null!=e.__currentState&&this.__clearDisplayObject(e.__currentState)},__clearTextField:function(e){Ih.clear(e,this),xc.clear(e,this)},__clearTilemap:function(e){Ih.clear(e,this),ck.clear(e,this)},__clearVideo:function(e){Ih.clear(e,this),dk.clear(e,this)},__getAlpha:function(e){return e*this.__worldAlpha},__getColorTransform:function(e){return null!=this.__worldColorTransform?(this.__colorTransform.__copyFrom(this.__worldColorTransform),this.__colorTransform.__combine(e),this.__colorTransform):e},__initializeElement:function(e,i){var s=e.__style=i.style;s.setProperty("position","absolute",null),s.setProperty("top","0",null),s.setProperty("left","0",null),s.setProperty(this.__transformOriginProperty,"0 0 0",null),this.element.appendChild(i),e.__worldAlphaChanged=!0,e.__renderTransformChanged=!0,e.__worldVisibleChanged=!0,e.__worldClipChanged=!0,e.__worldClip=null,e.__worldZ=-1},__popMask:function(){this.__popMaskRect()},__popMaskObject:function(e,i){null==i&&(i=!0),null!=e.__mask&&this.__popMask(),i&&null!=e.__scrollRect&&this.__popMaskRect()},__popMaskRect:function(){0<this.__numClipRects&&(this.__numClipRects--,this.__currentClipRect=0<this.__numClipRects?this.__clipRects[this.__numClipRects-1]:null)},__pushMask:function(e){this.__pushMaskRect(e.getBounds(e),e.__renderTransform)},__pushMaskObject:function(e,i){null==i&&(i=!0),i&&null!=e.__scrollRect&&this.__pushMaskRect(e.__scrollRect,e.__renderTransform),null!=e.__mask&&this.__pushMask(e.__mask)},__pushMaskRect:function(e,i){this.__numClipRects==this.__clipRects.length&&(this.__clipRects[this.__numClipRects]=new ia);var s=this.__clipRects[this.__numClipRects];e.__transform(s,i),0<this.__numClipRects&&s.__contract((e=this.__clipRects[this.__numClipRects-1]).x,e.y,e.width,e.height),0>s.height&&(s.height=0),0>s.width&&(s.width=0),this.__currentClipRect=s,this.__numClipRects++},__render:function(e){this.element.style.background=this.__stage.__transparent?"none":this.__stage.__colorString,this.__z=1,null!=e&&null!=e.__type&&this.__renderDisplayObject(e)},__renderBitmap:function(e){if(this.__canvasRenderer.__updateCacheBitmap(e,!1),null==e.__cacheBitmap||e.__isCacheBitmapRender){null!=e.opaqueBackground&&!e.__isCacheBitmapRender&&0<e.get_width()&&e.get_height();var i=e.__graphics;if(null!=e.stage&&e.__worldVisible&&e.__renderable&&null!=i){if(D.render(i,this.__canvasRenderer),(i.__softwareDirty||e.__worldAlphaChanged||e.__canvas!=i.__canvas)&&(null!=i.__canvas?e.__canvas!=i.__canvas&&(null!=e.__canvas&&this.element.removeChild(e.__canvas),e.__canvas=i.__canvas,e.__context=i.__context,this.__initializeElement(e,e.__canvas)):$e.clear(e,this)),null!=e.__canvas){this.__pushMaskObject(e);var s=e.__renderTransform;e.__renderTransform=i.__worldTransform,i.__transformDirty&&(i.__transformDirty=!1,e.__renderTransformChanged=!0),this.__updateClip(e),this.__applyStyle(e,!0,!0,!0),e.__renderTransform=s,this.__popMaskObject(e)}}else $e.clear(e,this);null!=e.stage&&e.__worldVisible&&e.__renderable&&null!=e.__bitmapData&&e.__bitmapData.__isValid&&e.__bitmapData.readable?(this.__pushMaskObject(e),null!=e.__bitmapData.image.buffer.__srcImage?Zc.renderImage(e,this):Zc.renderCanvas(e,this),this.__popMaskObject(e)):Zc.clear(e,this)}else this.__clearBitmap(e),e.__cacheBitmap.stage=e.stage,null!=(e=e.__cacheBitmap).stage&&e.__worldVisible&&e.__renderable&&null!=e.__bitmapData&&e.__bitmapData.__isValid&&e.__bitmapData.readable?(this.__pushMaskObject(e),null!=e.__bitmapData.image.buffer.__srcImage?Zc.renderImage(e,this):Zc.renderCanvas(e,this),this.__popMaskObject(e)):Zc.clear(e,this)},__renderDisplayObject:function(e){if(null!=e&&null!=e.__type){switch(e.__type._hx_index){case 0:this.__renderBitmap(e);break;case 2:this.__renderDisplayObjectContainer(e);break;case 3:this.__renderDOMElement(e);break;case 1:case 4:this.__renderShape(e);break;case 5:this.__renderSimpleButton(e);break;case 6:this.__renderTextField(e);break;case 7:this.__renderTilemap(e);break;case 8:this.__renderVideo(e)}if(null!=e.__customRenderEvent){var i=e.__customRenderEvent;i.allowSmoothing=this.__allowSmoothing,i.objectMatrix.copyFrom(e.__renderTransform),i.objectColorTransform.__copyFrom(e.__worldColorTransform),i.renderer=this,i.type=null!=e.stage&&e.__worldVisible?"renderDOM":"clearDOM",this.__setBlendMode(e.__worldBlendMode),this.__pushMaskObject(e),e.dispatchEvent(i),this.__popMaskObject(e)}}},__renderDisplayObjectContainer:function(e){for(var i=e.__removedChildren.iterator();i.hasNext();){var s=i.next();null==s.stage&&this.__clearDisplayObject(s)}for(i=e.__removedChildren.iterator();i.hasNext();)null==(s=i.next()).stage&&s.__cleanup();if(e.__removedChildren.set_length(0),this.__canvasRenderer.__updateCacheBitmap(e,!1),null==e.__cacheBitmap||e.__isCacheBitmapRender){if(null!=e.opaqueBackground&&!e.__isCacheBitmapRender&&0<e.get_width()&&e.get_height(),i=e.__graphics,null!=e.stage&&e.__worldVisible&&e.__renderable&&null!=i?(D.render(i,this.__canvasRenderer),(i.__softwareDirty||e.__worldAlphaChanged||e.__canvas!=i.__canvas)&&(null!=i.__canvas?e.__canvas!=i.__canvas&&(null!=e.__canvas&&this.element.removeChild(e.__canvas),e.__canvas=i.__canvas,e.__context=i.__context,this.__initializeElement(e,e.__canvas)):$e.clear(e,this)),null!=e.__canvas&&(this.__pushMaskObject(e),s=e.__renderTransform,e.__renderTransform=i.__worldTransform,i.__transformDirty&&(i.__transformDirty=!1,e.__renderTransformChanged=!0),this.__updateClip(e),this.__applyStyle(e,!0,!0,!0),e.__renderTransform=s,this.__popMaskObject(e))):$e.clear(e,this),null==e.__cacheBitmap||e.__isCacheBitmapRender){if(this.__pushMaskObject(e),null!=this.__stage){for(i=0,s=e.__children;i<s.length;){var n=s[i];++i,this.__renderDisplayObject(n),n.__renderDirty=!1}e.__renderDirty=!1}else for(i=0,s=e.__children;i<s.length;)n=s[i],++i,this.__renderDisplayObject(n);this.__popMaskObject(e)}}else this.__clearDisplayObjectContainer(e),e.__cacheBitmap.stage=e.stage,null!=(e=e.__cacheBitmap).stage&&e.__worldVisible&&e.__renderable&&null!=e.__bitmapData&&e.__bitmapData.__isValid&&e.__bitmapData.readable?(this.__pushMaskObject(e),null!=e.__bitmapData.image.buffer.__srcImage?Zc.renderImage(e,this):Zc.renderCanvas(e,this),this.__popMaskObject(e)):Zc.clear(e,this)},__renderDOMElement:function(e){null!=e.stage&&e.__worldVisible&&e.__renderable?(e.__active||(this.__initializeElement(e,e.__element),e.__active=!0),this.__updateClip(e),this.__applyStyle(e,!0,!0,!0)):e.__active&&(this.element.removeChild(e.__element),e.__active=!1),null!=e.opaqueBackground&&!e.__isCacheBitmapRender&&0<e.get_width()&&e.get_height();var i=e.__graphics;if(null!=e.stage&&e.__worldVisible&&e.__renderable&&null!=i){if(D.render(i,this.__canvasRenderer),(i.__softwareDirty||e.__worldAlphaChanged||e.__canvas!=i.__canvas)&&(null!=i.__canvas?e.__canvas!=i.__canvas&&(null!=e.__canvas&&this.element.removeChild(e.__canvas),e.__canvas=i.__canvas,e.__context=i.__context,this.__initializeElement(e,e.__canvas)):$e.clear(e,this)),null!=e.__canvas){this.__pushMaskObject(e);var s=e.__renderTransform;e.__renderTransform=i.__worldTransform,i.__transformDirty&&(i.__transformDirty=!1,e.__renderTransformChanged=!0),this.__updateClip(e),this.__applyStyle(e,!0,!0,!0),e.__renderTransform=s,this.__popMaskObject(e)}}else $e.clear(e,this)},__renderShape:function(e){if(this.__canvasRenderer.__updateCacheBitmap(e,!1),null==e.__cacheBitmap||e.__isCacheBitmapRender){null!=e.opaqueBackground&&!e.__isCacheBitmapRender&&0<e.get_width()&&e.get_height();var i=e.__graphics;if(null!=e.stage&&e.__worldVisible&&e.__renderable&&null!=i){if(D.render(i,this.__canvasRenderer),(i.__softwareDirty||e.__worldAlphaChanged||e.__canvas!=i.__canvas)&&(null!=i.__canvas?e.__canvas!=i.__canvas&&(null!=e.__canvas&&this.element.removeChild(e.__canvas),e.__canvas=i.__canvas,e.__context=i.__context,this.__initializeElement(e,e.__canvas)):$e.clear(e,this)),null!=e.__canvas){this.__pushMaskObject(e);var s=e.__renderTransform;e.__renderTransform=i.__worldTransform,i.__transformDirty&&(i.__transformDirty=!1,e.__renderTransformChanged=!0),this.__updateClip(e),this.__applyStyle(e,!0,!0,!0),e.__renderTransform=s,this.__popMaskObject(e)}}else $e.clear(e,this)}else this.__clearShape(e),e.__cacheBitmap.stage=e.stage,null!=(e=e.__cacheBitmap).stage&&e.__worldVisible&&e.__renderable&&null!=e.__bitmapData&&e.__bitmapData.__isValid&&e.__bitmapData.readable?(this.__pushMaskObject(e),null!=e.__bitmapData.image.buffer.__srcImage?Zc.renderImage(e,this):Zc.renderCanvas(e,this),this.__popMaskObject(e)):Zc.clear(e,this)},__renderSimpleButton:function(e){this.__pushMaskObject(e);for(var i=e.__previousStates.iterator();i.hasNext();){var s=i.next();this.__clearDisplayObject(s)}e.__previousStates.set_length(0),null!=e.__currentState&&(e.__currentState.stage!=e.stage&&e.__currentState.__setStageReference(e.stage),this.__renderDisplayObject(e.__currentState)),this.__popMaskObject(e)},__renderTextField:function(e){if(e.__domRender=!0,this.__canvasRenderer.__updateCacheBitmap(e,e.__forceCachedBitmapUpdate),e.__forceCachedBitmapUpdate=!1,e.__domRender=!1,null==e.__cacheBitmap||e.__isCacheBitmapRender){e.__renderedOnCanvasWhileOnDOM&&(e.__renderedOnCanvasWhileOnDOM=!1,e.__isHTML&&null!=e.__rawHtmlText&&(e.__updateText(e.__rawHtmlText),e.__dirty=!0,e.__layoutDirty=!0,e.__renderDirty||(e.__renderDirty=!0,e.__setParentRenderDirty())));var i=e.__textEngine;if(null!=e.stage&&e.__worldVisible&&e.__renderable){if(e.__dirty||e.__renderTransformChanged||null==e.__div)if(""!=i.text||i.background||i.border||1==i.type){null==e.__div&&(e.__div=window.document.createElement("div"),this.__initializeElement(e,e.__div),e.__style.setProperty("outline","none",null),e.__div.addEventListener("input",function($){$.preventDefault(),e.get_htmlText()!=e.__div.innerHTML&&(e.set_htmlText(e.__div.innerHTML),e.__dirty=!1)},!0)),i.wordWrap?e.__style.setProperty("word-wrap","break-word",null):e.__style.setProperty("white-space","nowrap",null),e.__style.setProperty("overflow","hidden",null),i.selectable?(e.__style.setProperty("cursor","text",null),e.__style.setProperty("-webkit-user-select","text",null),e.__style.setProperty("-moz-user-select","text",null),e.__style.setProperty("-ms-user-select","text",null),e.__style.setProperty("-o-user-select","text",null)):e.__style.setProperty("cursor","inherit",null),e.__div.contentEditable=1==i.type;var s=e.__style;i.background?s.setProperty("background-color","#"+aa.hex(16777215&i.backgroundColor,6),null):s.removeProperty("background-color");var n=i.width,o=i.height,l=1,_=e.__textFormat.size,h=_,m=e.__renderTransform;(1!=m.a||1!=m.d)&&(m.a==m.d?(l=m.a,m.a=m.d=1):m.a>m.d?(l=m.a,m.d/=m.a,m.a=1):(l=m.d,m.a/=m.d,m.d=1),h*=l,n=Math.ceil(n*l),o=Math.ceil(o*l)),e.__textFormat.size=h,m=i.text;var f=0;if(e.__isHTML){for(var y=m;xc.__regexFont.match(y);){y=xc.__regexFont.matched(0);var g="";if(xc.__regexFace.match(y)&&(g+="font-family:'"+xc.__getAttributeMatch(xc.__regexFace)+"';"),xc.__regexColor.match(y)&&(g+="color:#"+xc.__getAttributeMatch(xc.__regexColor)+";"),xc.__regexSize.match(y)){f=xc.__getAttributeMatch(xc.__regexSize);var j=B.cca(f,0);f=parseFloat(f)*l,g+="font-size:"+(43==j||45==j?h+f:f)+"px;"}m=aa.replace(m,y,"<span style='"+g+"'>"),y=xc.__regexFont.matchedRight()}m=m.replace(xc.__regexCloseFont.r,"</span>")}else m=aa.htmlEscape(m);switch(m=aa.replace(m,"<p ","<p style='margin-top:0; margin-bottom:0;' "),l=e.__textFormat.leading,e.__textFormat.leading+=0|f,h=m.replace(/\r\n/g,"<br>"),e.__div.innerHTML=h,h=e.__div.innerHTML.replace(/\n/g,"<br>"),e.__div.innerHTML=h,h=e.__div.innerHTML.replace(/\r/g,"<br>"),e.__div.innerHTML=h,s.setProperty("font",Xb.getFont(e.__textFormat),null),e.__textFormat.size=_,e.__textFormat.leading=l,s.setProperty("top","3px",null),i.border?(s.setProperty("border","solid 1px #"+aa.hex(16777215&i.borderColor,6),null),e.__renderTransform.translate(-1,-1),e.__renderTransformChanged=!0,e.__transformDirty=!0):""!=s.border&&(s.removeProperty("border"),e.__renderTransformChanged=!0),s.setProperty("color","#"+aa.hex(16777215&e.__textFormat.color,6),null),s.setProperty("width",n+"px",null),s.setProperty("height",o+"px",null),e.__textFormat.align){case 0:s.setProperty("text-align","center",null);break;case 4:s.setProperty("text-align","right",null);break;default:s.setProperty("text-align","left",null)}e.__dirty=!1}else null!=e.__div&&(this.element.removeChild(e.__div),e.__div=null);null!=e.__div&&(i=this.__roundPixels,this.__roundPixels=!0,this.__updateClip(e),this.__applyStyle(e,!0,!0,!0),this.__roundPixels=i)}else xc.clear(e,this)}else this.__clearTextField(e),e.__cacheBitmap.stage=e.stage,null!=(i=e.__cacheBitmap).stage&&i.__worldVisible&&i.__renderable&&null!=i.__bitmapData&&i.__bitmapData.__isValid&&i.__bitmapData.readable?(this.__pushMaskObject(i),null!=i.__bitmapData.image.buffer.__srcImage?Zc.renderImage(i,this):Zc.renderCanvas(i,this),this.__popMaskObject(i)):Zc.clear(i,this)},__renderTilemap:function(e){if(this.__canvasRenderer.__updateCacheBitmap(e,!1),null==e.__cacheBitmap||e.__isCacheBitmapRender){null!=e.opaqueBackground&&!e.__isCacheBitmapRender&&0<e.get_width()&&e.get_height();var i=e.__graphics;if(null!=e.stage&&e.__worldVisible&&e.__renderable&&null!=i){if(D.render(i,this.__canvasRenderer),(i.__softwareDirty||e.__worldAlphaChanged||e.__canvas!=i.__canvas)&&(null!=i.__canvas?e.__canvas!=i.__canvas&&(null!=e.__canvas&&this.element.removeChild(e.__canvas),e.__canvas=i.__canvas,e.__context=i.__context,this.__initializeElement(e,e.__canvas)):$e.clear(e,this)),null!=e.__canvas){this.__pushMaskObject(e);var s=e.__renderTransform;e.__renderTransform=i.__worldTransform,i.__transformDirty&&(i.__transformDirty=!1,e.__renderTransformChanged=!0),this.__updateClip(e),this.__applyStyle(e,!0,!0,!0),e.__renderTransform=s,this.__popMaskObject(e)}}else $e.clear(e,this);if(null!=e.stage&&e.__worldVisible&&e.__renderable&&0<e.__group.__tiles.length){if(null==e.__canvas&&(e.__canvas=window.document.createElement("canvas"),e.__context=e.__canvas.getContext("2d"),this.__initializeElement(e,e.__canvas)),e.__canvas.width=e.__width,e.__canvas.height=e.__height,this.__canvasRenderer.context=e.__context,i=this.__canvasRenderer,e.__renderable&&0!=e.__group.__tiles.length&&!(0>=(s=i.__getAlpha(e.__worldAlpha)))){var n=i.context;i.__setBlendMode(e.__worldBlendMode),i.__pushMaskObject(e);var o=ia.__pool.get();o.setTo(0,0,e.__width,e.__height),i.__pushMaskRect(o,e.__renderTransform),i.__allowSmoothing&&e.smoothing||(n.imageSmoothingEnabled=!1),oi.renderTileContainer(e.__group,i,e.__renderTransform,e.__tileset,i.__allowSmoothing&&e.smoothing,e.tileAlphaEnabled,s,e.tileBlendModeEnabled,e.__worldBlendMode,null,null,o),i.__allowSmoothing&&e.smoothing||(n.imageSmoothingEnabled=!0),i.__popMaskRect(),i.__popMaskObject(e),ia.__pool.release(o)}this.__canvasRenderer.context=null,this.__updateClip(e),this.__applyStyle(e,!0,!1,!0)}else ck.clear(e,this)}else this.__clearTilemap(e),e.__cacheBitmap.stage=e.stage,null!=(e=e.__cacheBitmap).stage&&e.__worldVisible&&e.__renderable&&null!=e.__bitmapData&&e.__bitmapData.__isValid&&e.__bitmapData.readable?(this.__pushMaskObject(e),null!=e.__bitmapData.image.buffer.__srcImage?Zc.renderImage(e,this):Zc.renderCanvas(e,this),this.__popMaskObject(e)):Zc.clear(e,this)},__renderVideo:function(e){dk.render(e,this)},__setBlendMode:function(e){null!=this.__overrideBlendMode&&(e=this.__overrideBlendMode),this.__blendMode!=e&&(this.__blendMode=e)},__updateCacheBitmap:function(e,i){var s=e.__cacheBitmap;return(i=this.__canvasRenderer.__updateCacheBitmap(e,i))&&null!=s&&null==e.__cacheBitmap&&this.__clearBitmap(s),i},__updateClip:function(e){if(null==this.__currentClipRect)e.__worldClipChanged=null!=e.__worldClip,e.__worldClip=null;else{null==e.__worldClip&&(e.__worldClip=new ia);var i=ia.__pool.get(),s=Fa.__pool.get();s.copyFrom(e.__renderTransform),s.invert(),this.__currentClipRect.__transform(i,s),i.equals(e.__worldClip)?e.__worldClipChanged=!1:(e.__worldClip.copyFrom(i),e.__worldClipChanged=!0),ia.__pool.release(i),Fa.__pool.release(s)}},__class__:Fl});var $e=function(){};k["openfl._internal.renderer.dom.DOMShape"]=$e,$e.__name__="openfl._internal.renderer.dom.DOMShape",$e.clear=function(e,i){null!=e.__canvas&&(i.element.removeChild(e.__canvas),e.__canvas=null,e.__style=null)},$e.render=function(e,i){var s=e.__graphics;if(null!=e.stage&&e.__worldVisible&&e.__renderable&&null!=s){if(D.render(s,i.__canvasRenderer),(s.__softwareDirty||e.__worldAlphaChanged||e.__canvas!=s.__canvas)&&(null!=s.__canvas?e.__canvas!=s.__canvas&&(null!=e.__canvas&&i.element.removeChild(e.__canvas),e.__canvas=s.__canvas,e.__context=s.__context,i.__initializeElement(e,e.__canvas)):$e.clear(e,i)),null!=e.__canvas){i.__pushMaskObject(e);var n=e.__renderTransform;e.__renderTransform=s.__worldTransform,s.__transformDirty&&(s.__transformDirty=!1,e.__renderTransformChanged=!0),i.__updateClip(e),i.__applyStyle(e,!0,!0,!0),e.__renderTransform=n,i.__popMaskObject(e)}}else $e.clear(e,i)};var xc=function(){};k["openfl._internal.renderer.dom.DOMTextField"]=xc,xc.__name__="openfl._internal.renderer.dom.DOMTextField",xc.clear=function(e,i){null!=e.__div&&(i.element.removeChild(e.__div),e.__div=null,e.__style=null)},xc.measureText=function(e){var i=e.__textEngine,s=e.__div;null==s&&((s=window.document.createElement("div")).innerHTML=i.text.replace(/\n/g,"<br>"),s.style.setProperty("font",Xb.getFont(e.__textFormat),null),s.style.setProperty("pointer-events","none",null),s.style.position="absolute",s.style.top="110%",window.document.body.appendChild(s)),i.__measuredWidth=s.clientWidth,null==e.__div&&(s.style.width=O.string(i.width-4)+"px"),i.__measuredHeight=s.clientHeight,null==e.__div&&window.document.body.removeChild(s)},xc.render=function(e,i){var s=e.__textEngine;if(null!=e.stage&&e.__worldVisible&&e.__renderable){if(e.__dirty||e.__renderTransformChanged||null==e.__div)if(""!=s.text||s.background||s.border||1==s.type){null==e.__div&&(e.__div=window.document.createElement("div"),i.__initializeElement(e,e.__div),e.__style.setProperty("outline","none",null),e.__div.addEventListener("input",function(yt){yt.preventDefault(),e.get_htmlText()!=e.__div.innerHTML&&(e.set_htmlText(e.__div.innerHTML),e.__dirty=!1)},!0)),s.wordWrap?e.__style.setProperty("word-wrap","break-word",null):e.__style.setProperty("white-space","nowrap",null),e.__style.setProperty("overflow","hidden",null),s.selectable?(e.__style.setProperty("cursor","text",null),e.__style.setProperty("-webkit-user-select","text",null),e.__style.setProperty("-moz-user-select","text",null),e.__style.setProperty("-ms-user-select","text",null),e.__style.setProperty("-o-user-select","text",null)):e.__style.setProperty("cursor","inherit",null),e.__div.contentEditable=1==s.type;var n=e.__style;s.background?n.setProperty("background-color","#"+aa.hex(16777215&s.backgroundColor,6),null):n.removeProperty("background-color");var o=s.width,l=s.height,_=1,h=e.__textFormat.size,m=h,f=e.__renderTransform;(1!=f.a||1!=f.d)&&(f.a==f.d?(_=f.a,f.a=f.d=1):f.a>f.d?(_=f.a,f.d/=f.a,f.a=1):(_=f.d,f.a/=f.d,f.d=1),m*=_,o=Math.ceil(o*_),l=Math.ceil(l*_)),e.__textFormat.size=m,f=s.text;var y=0;if(e.__isHTML){for(var g=f;xc.__regexFont.match(g);){g=xc.__regexFont.matched(0);var j="";if(xc.__regexFace.match(g)&&(j+="font-family:'"+xc.__getAttributeMatch(xc.__regexFace)+"';"),xc.__regexColor.match(g)&&(j+="color:#"+xc.__getAttributeMatch(xc.__regexColor)+";"),xc.__regexSize.match(g)){y=xc.__getAttributeMatch(xc.__regexSize);var $=B.cca(y,0);y=parseFloat(y)*_,j+="font-size:"+(43==$||45==$?m+y:y)+"px;"}f=aa.replace(f,g,"<span style='"+j+"'>"),g=xc.__regexFont.matchedRight()}f=f.replace(xc.__regexCloseFont.r,"</span>")}else f=aa.htmlEscape(f);switch(f=aa.replace(f,"<p ","<p style='margin-top:0; margin-bottom:0;' "),_=e.__textFormat.leading,e.__textFormat.leading+=0|y,m=f.replace(/\r\n/g,"<br>"),e.__div.innerHTML=m,m=e.__div.innerHTML.replace(/\n/g,"<br>"),e.__div.innerHTML=m,m=e.__div.innerHTML.replace(/\r/g,"<br>"),e.__div.innerHTML=m,n.setProperty("font",Xb.getFont(e.__textFormat),null),e.__textFormat.size=h,e.__textFormat.leading=_,n.setProperty("top","3px",null),s.border?(n.setProperty("border","solid 1px #"+aa.hex(16777215&s.borderColor,6),null),e.__renderTransform.translate(-1,-1),e.__renderTransformChanged=!0,e.__transformDirty=!0):""!=n.border&&(n.removeProperty("border"),e.__renderTransformChanged=!0),n.setProperty("color","#"+aa.hex(16777215&e.__textFormat.color,6),null),n.setProperty("width",o+"px",null),n.setProperty("height",l+"px",null),e.__textFormat.align){case 0:n.setProperty("text-align","center",null);break;case 4:n.setProperty("text-align","right",null);break;default:n.setProperty("text-align","left",null)}e.__dirty=!1}else null!=e.__div&&(i.element.removeChild(e.__div),e.__div=null);null!=e.__div&&(s=i.__roundPixels,i.__roundPixels=!0,i.__updateClip(e),i.__applyStyle(e,!0,!0,!0),i.__roundPixels=s)}else xc.clear(e,i)},xc.__getAttributeMatch=function(e){return null!=e.matched(2)?e.matched(2):e.matched(3)};var ck=function(){};k["openfl._internal.renderer.dom.DOMTilemap"]=ck,ck.__name__="openfl._internal.renderer.dom.DOMTilemap",ck.clear=function(e,i){null!=e.__canvas&&(i.element.removeChild(e.__canvas),e.__canvas=null,e.__style=null)},ck.render=function(e,i){if(null!=e.stage&&e.__worldVisible&&e.__renderable&&0<e.__group.__tiles.length){null==e.__canvas&&(e.__canvas=window.document.createElement("canvas"),e.__context=e.__canvas.getContext("2d"),i.__initializeElement(e,e.__canvas)),e.__canvas.width=e.__width,e.__canvas.height=e.__height,i.__canvasRenderer.context=e.__context;var s=i.__canvasRenderer;if(e.__renderable&&0!=e.__group.__tiles.length){var n=s.__getAlpha(e.__worldAlpha);if(!(0>=n)){var o=s.context;s.__setBlendMode(e.__worldBlendMode),s.__pushMaskObject(e);var l=ia.__pool.get();l.setTo(0,0,e.__width,e.__height),s.__pushMaskRect(l,e.__renderTransform),s.__allowSmoothing&&e.smoothing||(o.imageSmoothingEnabled=!1),oi.renderTileContainer(e.__group,s,e.__renderTransform,e.__tileset,s.__allowSmoothing&&e.smoothing,e.tileAlphaEnabled,n,e.tileBlendModeEnabled,e.__worldBlendMode,null,null,l),s.__allowSmoothing&&e.smoothing||(o.imageSmoothingEnabled=!0),s.__popMaskRect(),s.__popMaskObject(e),ia.__pool.release(l)}}i.__canvasRenderer.context=null,i.__updateClip(e),i.__applyStyle(e,!0,!1,!0)}else ck.clear(e,i)};var dk=function(){};k["openfl._internal.renderer.dom.DOMVideo"]=dk,dk.__name__="openfl._internal.renderer.dom.DOMVideo",dk.clear=function(e,i){e.__active&&(i.element.removeChild(e.__stream.__video),e.__active=!1)},dk.render=function(e,i){null!=e.stage&&null!=e.__stream&&e.__worldVisible&&e.__renderable?(e.__active||(i.__initializeElement(e,e.__stream.__video),e.__active=!0,e.__dirty=!0),e.__dirty&&(e.__stream.__video.width=0|e.__width,e.__stream.__video.height=0|e.__height,e.__dirty=!1),i.__updateClip(e),i.__applyStyle(e,!0,!0,!0)):dk.clear(e,i)};var qi=function(){};k["openfl._internal.renderer.flash.FlashRenderer"]=qi,qi.__name__="openfl._internal.renderer.flash.FlashRenderer",qi.register=function(e){null==qi.instances&&(qi.instances=Fe.toObjectMap(null,!0),Ya.get_current().stage.addEventListener("enterFrame",qi.render,!1,-2147483648)),qi.instances.set(e,!0)},qi.render=function(e){for(e=qi.instances.keys();e.hasNext();)e.next().__renderFlash()};var mr=function(){};k["openfl._internal.renderer.flash.IDisplayObject"]=mr,mr.__name__="openfl._internal.renderer.flash.IDisplayObject",mr.__isInterface__=!0,mr.prototype={__renderFlash:null,__class__:mr};var bj=function(){};k["openfl._internal.renderer.flash.FlashTilemap"]=bj,bj.__name__="openfl._internal.renderer.flash.FlashTilemap",bj.render=function(e){},bj.renderTileContainer=function(e,i,s,n,o,l,_,h,m,f,y,g){};var uf=function(){};k["openfl._internal.symbols.SWFSymbol"]=uf,uf.__name__="openfl._internal.symbols.SWFSymbol",uf.prototype={className:null,id:null,__createObject:function(e){return null},__class__:uf};var eh=function(){};k["openfl._internal.symbols.BitmapSymbol"]=eh,eh.__name__="openfl._internal.symbols.BitmapSymbol",eh.__super__=uf,eh.prototype=x(uf.prototype,{alpha:null,path:null,smooth:null,__createObject:function(e){return new Uc(pa.fromImage(e.library.getImage(this.path)),1,0!=this.smooth)},__class__:eh});var nr=function(){};k["openfl._internal.symbols.ButtonSymbol"]=nr,nr.__name__="openfl._internal.symbols.ButtonSymbol",nr.__super__=uf,nr.prototype=x(uf.prototype,{downState:null,hitState:null,overState:null,upState:null,__createObject:function(e){var i=null;return sf.__initSWF=e,sf.__initSymbol=this,null!=this.className&&null!=(e=k[this.className])&&(i=rb.createInstance(e,[])),null==i&&(i=new sf),i},__class__:nr});var or=function(){};k["openfl._internal.symbols.DynamicTextSymbol"]=or,or.__name__="openfl._internal.symbols.DynamicTextSymbol",or.__super__=uf,or.prototype=x(uf.prototype,{align:null,border:null,color:null,fontHeight:null,fontID:null,fontName:null,height:null,html:null,indent:null,input:null,leading:null,leftMargin:null,multiline:null,password:null,rightMargin:null,selectable:null,text:null,width:null,wordWrap:null,x:null,y:null,__createObject:function(e){var i=new ie;i.__symbol=this,i.set_width(this.width),i.set_height(this.height),i.__offsetX=this.x,i.__offsetY=this.y,i.set_multiline(this.multiline),i.set_wordWrap(this.wordWrap),i.set_displayAsPassword(this.password),this.border&&(i.set_border(!0),i.set_background(!0)),i.set_selectable(this.selectable),this.input&&i.set_type(1);var s=new Cg;null!=this.color&&(s.color=16777215&this.color),s.size=Math.round(this.fontHeight/20),null!=(e=e.symbols.h[this.fontID])&&(s.__ascent=e.ascent/20/1024,s.__descent=e.descent/20/1024),s.font=this.fontName,e=!1;var n=s.font;if(null==n)e=!0;else switch(n){case"":case"_sans":case"_serif":case"_typewriter":e=!0;break;default:n=0;for(var o=Ac.enumerateFonts();n<o.length;){var l=o[n];if(++n,l.name==s.font){e=!0;break}}}if(!e)for(n=/[^a-zA-Z]+/g,o=0,l=Ac.enumerateFonts();o<l.length;){var _=l[o];if(++o,B.substr(_.name.replace(n,""),0,this.fontName.length)==this.fontName){s.font=_.name,e=!0;break}}return e?i.set_embedFonts(!0):(n=ie.__missingFontWarning,(null!=t[e=s.font]?n.existsReserved(e):n.h.hasOwnProperty(e))||(n=ie.__missingFontWarning,null!=t[e=s.font]?n.setReserved(e,!0):n.h[e]=!0,Ua.warn('Could not find required font "'+s.font+'", it has not been embedded',{fileName:"openfl/_internal/symbols/DynamicTextSymbol.hx",lineNumber:145,className:"openfl._internal.symbols.DynamicTextSymbol",methodName:"__createObject"}))),null!=this.align&&("center"==this.align?s.align=0:"right"==this.align?s.align=4:"justify"==this.align&&(s.align=2),s.leftMargin=this.leftMargin/20|0,s.rightMargin=this.rightMargin/20|0,s.indent=this.indent/20|0,s.leading=this.leading/20|0),i.set_defaultTextFormat(s),null!=this.text&&(this.html?i.set_htmlText(this.text):i.set_text(this.text)),i},__class__:or});var pr=function(){};k["openfl._internal.symbols.FontSymbol"]=pr,pr.__name__="openfl._internal.symbols.FontSymbol",pr.__super__=uf,pr.prototype=x(uf.prototype,{advances:null,ascent:null,bold:null,codes:null,descent:null,glyphs:null,italic:null,leading:null,name:null,__class__:pr});var qr=function(){};k["openfl._internal.symbols.ShapeSymbol"]=qr,qr.__name__="openfl._internal.symbols.ShapeSymbol",qr.__super__=uf,qr.prototype=x(uf.prototype,{commands:null,rendered:null,__createObject:function(e){var i=new Pe,s=i.get_graphics();if(null!=this.rendered)return s.copyFrom(this.rendered.get_graphics()),i;for(var n=0,o=this.commands;n<o.length;){var l=o[n];switch(++n,l._hx_index){case 0:var _=l.smooth,h=l.repeat,m=l.matrix;null!=(l=e.library.getImage(e.symbols.h[l.bitmap].path))&&s.beginBitmapFill(pa.fromImage(l),m,h,_);break;case 1:s.beginFill(l.color,l.alpha);break;case 2:s.beginGradientFill(l.fillType,l.colors,l.alphas,l.ratios,l.matrix,l.spreadMethod,l.interpolationMethod,l.focalPointRatio);break;case 3:s.curveTo(l.controlX,l.controlY,l.anchorX,l.anchorY);break;case 4:s.endFill();break;case 5:_=l.miterLimit,h=l.joints,m=l.caps;var f=l.scaleMode,y=l.pixelHinting,g=l.alpha,j=l.color;null!=(l=l.thickness)?s.lineStyle(l,j,g,y,f,m,h,_):s.lineStyle();break;case 6:s.lineTo(l.x,l.y);break;case 7:s.moveTo(l.x,l.y)}}return this.commands=null,this.rendered=new Pe,this.rendered.get_graphics().copyFrom(i.get_graphics()),i},__class__:qr});var Al=function(){this.frames=[]};k["openfl._internal.symbols.SpriteSymbol"]=Al,Al.__name__="openfl._internal.symbols.SpriteSymbol",Al.__super__=uf,Al.prototype=x(uf.prototype,{baseClassName:null,frames:null,scale9Grid:null,__createObject:function(e){return se.__initSWF=e,se.__initSymbol=this,e=null,null!=this.className&&(e=k[this.className]),null==e&&null!=this.baseClassName&&(e=k[this.baseClassName]),(e=null!=e?rb.createInstance(e,[]):new se).set_scale9Grid(this.scale9Grid),e},__class__:Al});var rr=function(){};k["openfl._internal.symbols.StaticTextSymbol"]=rr,rr.__name__="openfl._internal.symbols.StaticTextSymbol",rr.__super__=uf,rr.prototype=x(uf.prototype,{matrix:null,records:null,rendered:null,__createObject:function(e){var i=new Ui,s=i.__graphics;if(null!=this.rendered)return i.text=this.rendered.text,s.copyFrom(this.rendered.__graphics),i;var n="";if(null!=this.records)for(var m,f,o=null,l=16777215,_=this.matrix.tx,h=this.matrix.ty,y=0,g=this.records;y<g.length;){var j=g[y];if(++y,null!=j.fontID&&(o=e.symbols.h[j.fontID]),null!=j.offsetX&&(_=this.matrix.tx+.05*j.offsetX),null!=j.offsetY&&(h=this.matrix.ty+.05*j.offsetY),null!=j.color&&(l=j.color),null!=o){m=j.fontHeight/1024*.05;for(var $=0,yt=j.glyphs.length;$<yt;){var _t=$++;f=j.glyphs[_t],n+=String.fromCodePoint(o.codes[f]);var xt=0;for(f=o.glyphs[f];xt<f.length;){var Tt=f[xt];switch(++xt,Tt._hx_index){case 1:s.beginFill(16777215&l,(l>>24&255)/255);break;case 3:s.curveTo(Tt.controlX*m+_,Tt.controlY*m+h,Tt.anchorX*m+_,Tt.anchorY*m+h);break;case 4:s.endFill();break;case 5:var St=Tt.miterLimit,Mt=Tt.joints,Et=Tt.caps,Ct=Tt.scaleMode,Dt=Tt.pixelHinting,At=Tt.alpha,Nt=Tt.color;null!=(Tt=Tt.thickness)?s.lineStyle(Tt,Nt,At,Dt,Ct,Et,Mt,St):s.lineStyle();break;case 6:s.lineTo(Tt.x*m+_,Tt.y*m+h);break;case 7:s.moveTo(Tt.x*m+_,Tt.y*m+h)}}_+=.05*j.advances[_t]}}}return i.text=n,this.records=null,this.rendered=new Ui,this.rendered.text=n,this.rendered.__graphics.copyFrom(i.__graphics),i},__class__:rr});var Es=function(){};k["openfl._internal.symbols.StaticTextRecord"]=Es,Es.__name__="openfl._internal.symbols.StaticTextRecord",Es.prototype={advances:null,color:null,fontHeight:null,fontID:null,glyphs:null,offsetX:null,offsetY:null,__class__:Es};var Fs=function(){};k["openfl._internal.symbols.timeline.Frame"]=Fs,Fs.__name__="openfl._internal.symbols.timeline.Frame",Fs.prototype={label:null,objects:null,script:null,scriptSource:null,__class__:Fs};var Gs=function(){};k["openfl._internal.symbols.timeline.FrameObject"]=Gs,Gs.__name__="openfl._internal.symbols.timeline.FrameObject",Gs.prototype={blendMode:null,cacheAsBitmap:null,clipDepth:null,colorTransform:null,depth:null,filters:null,id:null,matrix:null,name:null,symbol:null,type:null,visible:null,__class__:Gs};var tt=C["openfl._internal.symbols.timeline.FrameObjectType"]={__ename__:"openfl._internal.symbols.timeline.FrameObjectType",__constructs__:["CREATE","UPDATE","DESTROY"],CREATE:{_hx_index:0,__enum__:"openfl._internal.symbols.timeline.FrameObjectType",toString:v},UPDATE:{_hx_index:1,__enum__:"openfl._internal.symbols.timeline.FrameObjectType",toString:v},DESTROY:{_hx_index:2,__enum__:"openfl._internal.symbols.timeline.FrameObjectType",toString:v}},sr=function(e,i,s){this.glyph=e,this.advance=i,this.offset=s??new Fd};k["openfl._internal.text.GlyphPosition"]=sr,sr.__name__="openfl._internal.text.GlyphPosition",sr.prototype={advance:null,glyph:null,offset:null,__class__:sr};var Xb=function(e){this.textField=e,this.height=this.width=100,this.set_text(""),this.bounds=new ia(0,0,0,0),this.textBounds=new ia(0,0,0,0),this.type=0,this.autoSize=2,this.embedFonts=!1,this.selectable=!0,this.borderColor=0,this.border=!1,this.backgroundColor=16777215,this.background=!1,this.gridFitType=1,this.maxChars=0,this.multiline=!1,this.numLines=1,this.scrollH=this.sharpness=0,this.set_scrollV(1),this.wordWrap=!1,this.lineAscents=La.toFloatVector(null),this.lineBreaks=La.toIntVector(null),this.lineDescents=La.toFloatVector(null),this.lineLeadings=La.toFloatVector(null),this.lineHeights=La.toFloatVector(null),this.lineWidths=La.toFloatVector(null),this.layoutGroups=La.toObjectVector(null),this.textFormatRanges=La.toObjectVector(null),null==Xb.__context&&(Xb.__context=window.document.createElement("canvas").getContext("2d"))};k["openfl._internal.text.TextEngine"]=Xb,Xb.__name__="openfl._internal.text.TextEngine",Xb.findFont=function(e){var i=Ac.__fontByName;return null!=t[e]?i.getReserved(e):i.h[e]},Xb.findFontVariant=function(e){var i=e.font,s=e.bold,n=e.italic;if(null==i&&(i="_serif"),e=aa.replace(aa.replace(i," Normal","")," Regular",""),s&&n){var o=Ac.__fontByName,l=e+" Bold Italic";o=null!=t[l]?o.existsReserved(l):o.h.hasOwnProperty(l)}else o=!1;return o?Xb.findFont(e+" Bold Italic"):(s?(s=Ac.__fontByName,s=null!=t[o=e+" Bold"]?s.existsReserved(o):s.h.hasOwnProperty(o)):s=!1,s?Xb.findFont(e+" Bold"):(n?(n=Ac.__fontByName,n=null!=t[s=e+" Italic"]?n.existsReserved(s):n.h.hasOwnProperty(s)):n=!1,Xb.findFont(n?e+" Italic":i)))},Xb.getFormatHeight=function(e){Xb.__context.font=Xb.getFont(e);var i=Xb.getFontInstance(e);if(null!=e.__ascent){var s=e.size*e.__ascent;i=e.size*e.__descent}else null!=i&&0!=i.unitsPerEM?(s=i.ascender/i.unitsPerEM*e.size,i=Math.abs(i.descender/i.unitsPerEM*e.size)):(s=e.size,i=.185*e.size);return s+i+e.leading},Xb.getFont=function(e){var i=e.font,s=e.bold,n=e.italic;null==i&&(i="_serif");var o=aa.replace(aa.replace(i," Normal","")," Regular","");if(s&&n){var l=Ac.__fontByName,_=o+" Bold Italic";l=null!=t[_]?l.existsReserved(_):l.h.hasOwnProperty(_)}else l=!1;switch(l?(i=o+" Bold Italic",n=s=!1):(s?(l=Ac.__fontByName,l=null!=t[_=o+" Bold"]?l.existsReserved(_):l.h.hasOwnProperty(_)):l=!1,l?(i=o+" Bold",s=!1):(n?(l=Ac.__fontByName,l=null!=t[_=o+" Italic"]?l.existsReserved(_):l.h.hasOwnProperty(_)):l=!1,l?(i=o+" Italic",n=!1):(s&&(-1<i.indexOf(" Bold ")||aa.endsWith(i," Bold"))&&(s=!1),n&&(-1<i.indexOf(" Italic ")||aa.endsWith(i," Italic"))&&(n=!1)))),s=(n?"italic ":"normal ")+"normal "+(s?"bold ":"normal "),s+=e.size+"px",s+="/"+(e.leading+e.size+3)+"px ",i){case"_sans":e="sans-serif";break;case"_serif":e="serif";break;case"_typewriter":e="monospace";break;default:e="'"+i.replace(/^[\s'"]+(.*)[\s'"]+$/,"$1")+"'"}return s+""+e},Xb.getFontInstance=function(e){return Xb.findFontVariant(e)},Xb.prototype={antiAliasType:null,autoSize:null,background:null,backgroundColor:null,border:null,borderColor:null,bottomScrollV:null,bounds:null,caretIndex:null,embedFonts:null,gridFitType:null,height:null,layoutGroups:null,lineAscents:null,lineBreaks:null,lineDescents:null,lineLeadings:null,lineHeights:null,lineWidths:null,maxChars:null,maxScrollH:null,maxScrollV:null,multiline:null,numLines:null,restrict:null,scrollH:null,scrollV:null,selectable:null,sharpness:null,text:null,textBounds:null,textHeight:null,textFormatRanges:null,textWidth:null,type:null,width:null,wordWrap:null,textField:null,__cursorTimer:null,__hasFocus:null,__isKeyDown:null,__measuredHeight:null,__measuredWidth:null,__restrictRegexp:null,__selectionStart:null,__showCursor:null,__textFormat:null,__textLayout:null,__texture:null,__useIntAdvances:null,__cairoFont:null,__font:null,createRestrictRegexp:function(e){var i="",s=[];return 0<new Ra("\\^(.-.|.)","gu").map(e,function(n){return i+=n.matched(1),""}).length&&s.push("[^"+e+"]"),0<i.length&&s.push("["+i+"]"),new Ra("("+s.join("|")+")","g")},getBounds:function(){var e=this.border?1:0;this.bounds.width=this.width+e,this.bounds.height=this.height+e;for(var i=e=this.width,s=this.layoutGroups.iterator();s.hasNext();){var n=s.next();n.offsetX<e&&(e=n.offsetX),n.offsetY<i&&(i=n.offsetY)}e>=this.width&&(e=2),i>=this.height&&(i=2),this.textBounds.setTo(Math.max(e-2,0),Math.max(i-2,0),Math.min(this.textWidth+4,this.bounds.width+4),Math.min(1.185*this.textHeight+4,this.bounds.height+4))},getLine:function(e){return 0>e||e>this.lineBreaks.get_length()+1?null:0==this.lineBreaks.get_length()?this.text:this.text.substring(0<e?this.lineBreaks.get(e-1):0,this.lineBreaks.get(e))},getLineBreakIndex:function(e){null==e&&(e=0);var i=this.text.indexOf("\n",e);return e=this.text.indexOf("\r",e),-1==i?e:-1==e||i<e?i:e},getLineMeasurements:function(){this.lineAscents.set_length(0),this.lineDescents.set_length(0),this.lineLeadings.set_length(0),this.lineHeights.set_length(0),this.lineWidths.set_length(0);var l,e=0,i=0,s=null,n=0,o=0;this.textHeight=this.textWidth=0,this.numLines=1,this.maxScrollH=0;for(var _=this.layoutGroups.iterator();_.hasNext();){for(l=_.next();l.lineIndex>this.numLines-1;)this.lineAscents.push(e),this.lineDescents.push(i),this.lineLeadings.push(s??0),this.lineHeights.push(n),this.lineWidths.push(o),i=e=0,s=null,o=n=0,this.numLines++;e=Math.max(e,l.ascent),i=Math.max(i,l.descent),s=null==s?l.leading:0|Math.max(s,l.leading),n=Math.max(n,l.height),(o=l.offsetX-2+l.width)>this.textWidth&&(this.textWidth=o),(l=l.offsetY-2+l.ascent+l.descent)>this.textHeight&&(this.textHeight=l)}if(0==this.textHeight&&null!=this.textField&&1==this.textField.get_type()&&(i=Xb.getFontInstance(e=this.textField.__textFormat),null!=e.__ascent?(_=e.size*e.__ascent,l=e.size*e.__descent):null!=i&&0!=i.unitsPerEM?(_=i.ascender/i.unitsPerEM*e.size,l=Math.abs(i.descender/i.unitsPerEM*e.size)):(_=e.size,l=.185*e.size),s=e.leading,e=_,i=l,this.textHeight=_+l),this.lineAscents.push(e),this.lineDescents.push(i),this.lineLeadings.push(s??0),this.lineHeights.push(n),this.lineWidths.push(o),1==this.numLines&&0<s&&(this.textHeight+=s),0<this.layoutGroups.get_length()&&null!=(o=this.layoutGroups.get(this.layoutGroups.get_length()-1))&&o.startIndex==o.endIndex&&(this.textHeight-=n),2!=this.autoSize)switch(this.autoSize){case 0:case 1:case 3:this.wordWrap||(this.width=this.textWidth+4),this.height=this.textHeight+4,this.bottomScrollV=this.numLines}this.maxScrollH=this.textWidth>this.width-4?this.textWidth-this.width+4|0:0,this.scrollH>this.maxScrollH&&(this.scrollH=this.maxScrollH)},getLayoutGroups:function(){var e=this;if(this.layoutGroups.set_length(0),null!=this.text&&""!=this.text){var i=-1,s=null,n=null,o=ie.__defaultTextFormat.clone(),l=0,_=0,h=0,m=0,f=3,y=0,g=0,j=0,$=0,yt=!0,_t=null,xt=null,Tt=0,St=0,Mt=0,Et=-2,Ct=-1,Dt=this.text.indexOf(" "),At=this.getLineBreakIndex(),Nt=0,Ft=0,Lt=0,Ot=0,Ht=function(Yr,he,Pt){var Yt=[];if(null==e.__useIntAdvances){var It=new Ra("Trident/7.0","");e.__useIntAdvances=It.match(window.navigator.userAgent)}if(e.__useIntAdvances){It=0;for(var Rt,Ut=he;Ut<Pt;)Rt=Ut++,Rt=Xb.__context.measureText(Yr.substring(he,Rt+1)).width,Yt.push(Rt-It),It=Rt}else for(;he<Pt;)(It=he++)<Yr.length-1?(Ut=Xb.__context.measureText(Yr.charAt(It+1)).width,It=Xb.__context.measureText(B.substr(Yr,It,2)).width-Ut):It=Xb.__context.measureText(Yr.charAt(It)).width,Yt.push(It);return Yt},$t=function(Yr){for(var he=0,Pt=0;Pt<Yr.length;){var Yt=Yr[Pt];++Pt,he+=Yt}return he},zt=function(){return 2+j+y+(yt?g:0)},Jt=function(){return e.width-2-$-zt()},Qt=function(Yr,he){null==_t||_t.startIndex!=_t.endIndex?(_t=new Ro(s.format,Yr,he),e.layoutGroups.push(_t)):(_t.format=s.format,_t.startIndex=Yr,_t.endIndex=he)},Kt=function(){null!=o.__ascent?(_=o.size*o.__ascent,m=o.size*o.__descent):null!=n&&0!=n.unitsPerEM?(_=n.ascender/n.unitsPerEM*o.size,m=Math.abs(n.descender/n.unitsPerEM*o.size)):(_=o.size,m=.185*o.size),l=o.leading,(St=Math.ceil(_+m+l))>Mt&&(Mt=St),_>h&&(h=_)},_o=function(){yt=!0,f=null!=o.align?o.align:3,y=null!=o.blockIndent?o.blockIndent:0,g=null!=o.indent?o.indent:0,j=null!=o.leftMargin?o.leftMargin:0,$=null!=o.rightMargin?o.rightMargin:0},Bt=function(){var Yr=e.textFormatRanges.get_length()-1;return i<Yr&&(s=e.textFormatRanges.get(i+=1),o.__merge(s.format),Xb.__context.font=Xb.getFont(o),n=Xb.getFontInstance(o),!0)},Xr=function(Yr,he){if(Yr>=he)xt=[],Tt=0;else if(he<=s.end)xt=Ht(e.text,Yr,he),Tt=$t(xt);else{var Pt=Yr;Yr=s.end;var Yt=0;for(xt=[],Tt=0;;){if(Pt!=Yr&&(Pt=Ht(e.text,Pt,Yr),xt=xt.concat(Pt)),Yr==he){Tt=$t(xt);break}if(!Bt()){Ua.warn("You found a bug in OpenFL's text code! Please save a copy of your project and contact Joshua Granick (@singmajesty) so we can fix this.",{fileName:"openfl/_internal/text/TextEngine.hx",lineNumber:1067,className:"openfl._internal.text.TextEngine",methodName:"getLayoutGroups"});break}Pt=Yr,Yr=he<s.end?he:s.end,++Yt}i-=Yt+1,Bt()}},_l=function(Yr){if(Yr<=s.end){xt=Ht(e.text,Lt,Yr),Tt=$t(xt),Qt(Lt,Yr),_t.positions=xt;var he=zt();_t.offsetX=Nt+he,_t.ascent=_,_t.descent=m,_t.leading=l,_t.lineIndex=Ot,_t.offsetY=Ft+2,_t.width=Tt,_t.height=St,Nt+=Tt,Yr==s.end&&(_t=null,Bt(),Kt())}else for(;;){if(Lt!=(he=Yr<s.end?Yr:s.end)){xt=Ht(e.text,Lt,he),Tt=$t(xt),Qt(Lt,he),_t.positions=xt;var Pt=zt();_t.offsetX=Nt+Pt,_t.ascent=_,_t.descent=m,_t.leading=l,_t.lineIndex=Ot,_t.offsetY=Ft+2,_t.width=Tt,_t.height=St,Nt+=Tt,Lt=he}if(he==s.end&&(_t=null),he==Yr)break;if(!Bt()){Ua.warn("You found a bug in OpenFL's text code! Please save a copy of your project and contact Joshua Granick (@singmajesty) so we can fix this.",{fileName:"openfl/_internal/text/TextEngine.hx",lineNumber:1155,className:"openfl._internal.text.TextEngine",methodName:"getLayoutGroups"});break}Kt()}Lt=Yr},_n=function(){Kt();for(var Yr=e.layoutGroups.get_length();-1<--Yr;){var he=e.layoutGroups.get(Yr);if(he.lineIndex<Ot)break;he.lineIndex>Ot||(he.ascent=h,he.height=Mt)}Ft+=Mt,Mt=h=0,Ot+=1,Nt=0,yt=!1},_r=function(Yr){if(4<=e.width&&e.wordWrap){var Pt,Yt,It,he=xt;for(Pt=$t(he);0<he.length&&Nt+Pt>Jt();){for(It=Pt=Yt=0;Nt+It<Jt();){var Rt=he[Pt];0==Rt?(++Pt,++Yt):(It+=Rt,++Pt)}if(Pt==Yt)Pt=Yt+1;else for(;1<Pt&&Nt+It>Jt();)0<--Pt-Yt?(Xr(Lt,Lt+Pt-Yt),It=Tt):(Pt=1,Yt=0,Xr(Lt,Lt+1),It=0);_l(he=Lt+Pt-Yt),_n(),Xr(he,Yr),he=xt,Pt=Tt}}_l(Yr)};Bt(),_o(),Kt();for(var _i,_e=this.text.length+1;Lt<_e;)if(-1<At&&(-1==Dt||At<Dt))Lt<=At?(Xr(Lt,At),_r(At),_t=null):null!=_t&&_t.startIndex!=_t.endIndex&&(_t.endIndex==Dt&&(_t.width-=_t.positions[_t.positions.length-1]),_t=null),_n(),(s.end==At||s.end==At+1)&&(Bt(),Kt()),Ct=At,At=this.getLineBreakIndex(Lt=At+1),_o();else if(-1<Dt)for(null!=_t&&_t.startIndex!=_t.endIndex&&(_t=null),_i=!1;Lt<this.text.length;){var Gt=-1;if(-1==Dt?Gt=At:(Gt=Dt+1,-1<At&&At<Gt&&(Gt=At)),-1==Gt&&(Gt=this.text.length),Xr(Lt,Gt),2==f){if(0<xt.length&&Lt==Et){Lt+=1;var Vt=xt.shift();Tt-=Vt,Nt+=Vt}0<xt.length&&Gt==Dt+1&&(--Gt,Vt=xt.pop(),Tt-=Vt)}if(this.wordWrap&&Nt+Tt>Jt()&&(_i=!0,0<xt.length&&Gt==Dt+1&&Nt+Tt-xt[xt.length-1]<=Jt()&&(_i=!1)),_i){for(2!=f&&(null!=_t||0<this.layoutGroups.get_length())&&(null==(_i=_t)&&(_i=this.layoutGroups.get(this.layoutGroups.get_length()-1)),_i.width-=_i.positions[_i.positions.length-1],_i.endIndex--),_i=this.layoutGroups.get_length()-1,Vt=0;_t=this.layoutGroups.get(_i),0<_i&&_t.startIndex>Et;)++Vt,--_i;if(Lt==Et+1&&_n(),Nt=0,0<Vt){_i=this.layoutGroups.get(this.layoutGroups.get_length()-Vt).offsetX,Vt=this.layoutGroups.get_length()-Vt;for(var n_=this.layoutGroups.get_length();Vt<n_;){var Xa=Vt++;(_t=this.layoutGroups.get(Xa)).offsetX-=_i,_t.offsetY=Ft+2,_t.lineIndex=Ot,Nt+=_t.width}}_r(Gt),_i=!1}else null!=_t&&Lt==Dt?(2!=f&&(_t.endIndex=Dt,_t.positions=_t.positions.concat(xt),_t.width+=Tt),Nt+=Tt,Lt=Gt):null==_t||2==f?_r(Gt):((Vt=Gt<s.end?Gt:s.end)<Gt&&(xt=Ht(this.text,Lt,Vt),Tt=$t(xt)),_t.endIndex=Vt,_t.positions=_t.positions.concat(xt),_t.width+=Tt,Nt+=Tt,Vt==s.end&&(_t=null,Bt(),Kt(),Lt=Vt,Vt!=Gt&&_l(Gt)),At==Gt&&++Gt,Lt=Gt,Gt==this.text.length&&_n());if(Gt=this.text.indexOf(" ",Lt),At==Et&&(_t.endIndex=At,0>At-_t.startIndex-_t.positions.length&&_t.positions.push(0),Lt=At+1),Et=Dt,Dt=Gt,-1<At&&At<=Lt&&(Dt>At||-1==Dt)||Lt>this.text.length)break}else Lt<this.text.length&&(Xr(Lt,this.text.length),_r(this.text.length),_n()),Lt+=1;Ct==Lt-2&&-1<Ct&&(Qt(Lt,Lt),_t.positions=[],_t.ascent=_,_t.descent=m,_t.leading=l,_t.lineIndex=Ot,_t.offsetX=zt(),_t.offsetY=Ft+2,_t.width=0,_t.height=St)}},restrictText:function(e){return null==e||null!=this.__restrictRegexp&&(e=this.__restrictRegexp.split(e).join("")),e},setTextAlignment:function(){for(var s,n,e=-1,i=0,o=!1,l=0,_=this.layoutGroups.get_length();l<_;){var h=l++;if((s=this.layoutGroups.get(h)).lineIndex!=e)switch(e=s.lineIndex,i=this.width-4-s.format.rightMargin,s.format.align){case 0:i=this.lineWidths.get(e)<i?Math.round((i-this.lineWidths.get(e))/2):0;break;case 2:if(this.lineWidths.get(e)<i){n=1;for(var m=h+1,f=this.layoutGroups.get_length();m<f;){var y=m++;if(this.layoutGroups.get(y).lineIndex!=e)break;0!=y&&32!=B.cca(this.text,this.layoutGroups.get(y).startIndex-1)||++n}if(1<n&&(s=this.layoutGroups.get(h+n-1),m=B.cca(this.text,s.endIndex),s.endIndex<this.text.length&&10!=m&&13!=m))for(i=(i-this.lineWidths.get(e))/(n-1),o=!0,m=1;this.layoutGroups.get(h+m).offsetX+=i*m,++m<n;);}i=0;break;case 4:i=this.lineWidths.get(e)<i?Math.round(i-this.lineWidths.get(e)):0;break;default:i=0}0<i&&(s.offsetX+=i)}o&&this.getLineMeasurements()},trimText:function(e){return null==e||0<this.maxChars&&e.length>this.maxChars&&(e=B.substr(e,0,this.maxChars)),e},update:function(){null==this.text||0==this.textFormatRanges.get_length()?(this.lineAscents.set_length(0),this.lineBreaks.set_length(0),this.lineDescents.set_length(0),this.lineLeadings.set_length(0),this.lineHeights.set_length(0),this.lineWidths.set_length(0),this.layoutGroups.set_length(0),this.textHeight=this.textWidth=0,this.numLines=1,this.maxScrollH=0,this.bottomScrollV=this.maxScrollV=1):(this.getLayoutGroups(),this.getLineMeasurements(),this.setTextAlignment()),this.getBounds()},get_bottomScrollV:function(){if(1==this.numLines||null==this.lineHeights)return 1;for(var e=0,i=this.lineHeights.get_length(),s=i-1,n=this.lineHeights.get_length();s<n;){var o=s++;if(!(e+this.lineHeights.get(o)<=this.height-4)){i=o;break}e+=this.lineHeights.get(o)}return 1>i?1:i},get_maxScrollV:function(){if(1==this.numLines||null==this.lineHeights)return 1;var e=this.numLines-1,i=0;10==B.cca(this.text,this.text.length-1)&&--e;for(var s=e;0<=e&&i+this.lineHeights.get(e)<=this.height-4;)i+=this.lineHeights.get(e),--e;return 1>(e=e==s?this.numLines:e+2)?1:e},set_restrict:function(e){return this.restrict==e||(this.restrict=e,this.__restrictRegexp=null==this.restrict||0==this.restrict.length?null:this.createRestrictRegexp(e)),this.restrict},get_scrollV:function(){if(1==this.numLines||null==this.lineHeights)return 1;var e=this.get_maxScrollV();return this.scrollV>e?e:this.scrollV},set_scrollV:function(e){return 1>e&&(e=1),this.scrollV=e},set_text:function(e){return this.text=e},__class__:Xb,__properties__:{set_text:"set_text",set_scrollV:"set_scrollV",get_scrollV:"get_scrollV",set_restrict:"set_restrict",get_maxScrollV:"get_maxScrollV",get_bottomScrollV:"get_bottomScrollV"}};var Fh=function(e,i,s){this.format=e,this.start=i,this.end=s};k["openfl._internal.text.TextFormatRange"]=Fh,Fh.__name__="openfl._internal.text.TextFormatRange",Fh.prototype={end:null,format:null,start:null,__class__:Fh};var le=function(e,i,s,n,o,l){null==l&&(l="en"),null==o&&(o="Zyyy"),null==n&&(n=4),null==s&&(s=12),null==e&&(e=""),this.letterSpacing=0,this.set_text(e),this.set_font(i),this.set_size(s),this.__direction=n,this.__script=o,this.__language=l,this.positions=[],this.__dirty=!0,this.__create(this.__direction,this.__script,this.__language)};k["openfl._internal.text.TextLayout"]=le,le.__name__="openfl._internal.text.TextLayout",le.prototype={autoHint:null,font:null,glyphs:null,letterSpacing:null,positions:null,size:null,text:null,__buffer:null,__direction:null,__dirty:null,__handle:null,__language:null,__script:null,__font:null,__hbBuffer:null,__hbFont:null,__create:function(e,i,s){4==s.length&&(this.__hbBuffer=Cc._new(),ll._new(s))},__position:function(){this.positions=[]},get_positions:function(){return this.__dirty&&(this.__dirty=!1,this.__position()),this.positions},get_direction:function(){return this.__direction},set_direction:function(e){return e==this.__direction||(this.__direction=e,this.__dirty=!0),e},set_font:function(e){return e==this.font||(this.font=e,this.__dirty=!0),e},get_glyphs:function(){for(var e=[],i=0,s=this.get_positions();i<s.length;){var n=s[i];++i,e.push(n.glyph)}return e},get_language:function(){return this.__language},set_language:function(e){return e==this.__language||(this.__language=e,this.__dirty=!0),e},get_script:function(){return this.__script},set_script:function(e){return e==this.__script||(this.__script=e,this.__dirty=!0),e},set_size:function(e){return e==this.size||(this.size=e,this.__dirty=!0),e},set_text:function(e){return e==this.text||(this.text=e,this.__dirty=!0),e},__class__:le,__properties__:{set_text:"set_text",set_size:"set_size",set_script:"set_script",get_script:"get_script",get_positions:"get_positions",set_language:"set_language",get_language:"get_language",get_glyphs:"get_glyphs",set_font:"set_font",set_direction:"set_direction",get_direction:"get_direction"}};var Wf={};k["openfl._internal.text._TextLayout.TextDirection_Impl_"]=Wf,Wf.__name__="openfl._internal.text._TextLayout.TextDirection_Impl_",Wf.__properties__={get_vertical:"get_vertical",get_horizontal:"get_horizontal",get_forward:"get_forward",get_backward:"get_backward"},Wf.reverse=function(e){},Wf.toString=function(e){switch(e){case 4:return"leftToRight";case 5:return"rightToLeft";case 6:return"topToBottom";case 7:return"bottomToTop";default:return""}},Wf.toHBDirection=function(e){switch(e){case 4:return 4;case 5:return 5;case 6:return 6;case 7:return 7;default:return 0}},Wf.get_backward=function(e){return 5==(-3&e)},Wf.get_forward=function(e){return 4==(-3&e)},Wf.get_horizontal=function(e){return 4==(-2&e)},Wf.get_vertical=function(e){return 6==(-2&e)};var sa={};k["openfl._internal.text._TextLayout.TextScript_Impl_"]=sa,sa.__name__="openfl._internal.text._TextLayout.TextScript_Impl_",sa.__properties__={get_rightToLeft:"get_rightToLeft"},sa.toHBScript=function(e){return 1517910393},sa.get_rightToLeft=function(e){switch(e){case"Arab":case"Armi":case"Avst":case"Cprt":case"Hebr":case"Khar":case"Lydi":case"Mand":case"Nkoo":case"Orkh":case"Phli":case"Phlp":case"Phnx":case"Samr":case"Sarb":case"Syrc":case"Thaa":return!0;default:return!1}};var Ro=function(e,i,s){this.format=e,this.startIndex=i,this.endIndex=s};k["openfl._internal.text.TextLayoutGroup"]=Ro,Ro.__name__="openfl._internal.text.TextLayoutGroup",Ro.prototype={ascent:null,descent:null,endIndex:null,format:null,height:null,leading:null,lineIndex:null,offsetX:null,offsetY:null,positions:null,startIndex:null,width:null,getAdvance:function(e){return this.positions[e]},__class__:Ro};var ek=function(e,i,s,n,o,l,_){null==_&&(_=.05),null==l&&(l=!1),this.stitch=l,this.stitch_threshold=_,this.octaves=i,this.channels=s,this.grayscale=n,this.calculateOctaves(o)};k["openfl._internal.utils.AbstractNoise"]=ek,ek.__name__="openfl._internal.utils.AbstractNoise",ek.prototype={octaves:null,stitch:null,stitch_threshold:null,channels:null,grayscale:null,octaves_frequencies:null,octaves_persistences:null,persistence_max:null,fill:function(e,i,s,n){},stitching:function(e,i,s,n,o,l,_,h){var m=i>>16&255,f=i>>8&255;if(i&=255,_-o<s){var y=e.getPixel32(_-s,n),g=y>>8&255,j=255&y;m=this.mixI(y>>16&255,m,o=(_-s)/o),f=this.mixI(g,f,o),i=this.mixI(j,i,o)}return h-l<n&&(s=(e=e.getPixel32(s,h-n))>>8&255,o=255&e,m=this.mixI(e>>16&255,m,n=(h-n)/l),f=this.mixI(s,f,n),i=this.mixI(o,i,n)),-16777216|m<<16|f<<8|i},color:function(e,i,s){var n=0,o=0,l=0;return null!=e&&(n=this.noiseToColor(e)),null!=i&&(o=this.noiseToColor(i)),null!=s&&(l=this.noiseToColor(s)),-16777216|n<<16|o<<8|l},noiseToColor:function(e){return 128*(e*this.persistence_max+1)|0},fade:function(e){return e*e*e*(e*(6*e-15)+10)},mixI:function(e,i,s){return(1-s)*e+s*i|0},mix:function(e,i,s){return(1-s)*e+s*i},fastfloor:function(e){return 0<e?0|e:e-1|0},dot2d:function(e,i,s){return e[0]*i+e[1]*s},dot:function(e,i,s,n){return e[0]*i+e[1]*s+e[2]*n},calculateOctaves:function(e){this.octaves_frequencies=[],this.octaves_persistences=[];for(var i=this.persistence_max=0,s=this.octaves;i<s;){var n=i++,o=Math.pow(2,n);n=Math.pow(e,n),this.persistence_max+=n,this.octaves_frequencies.push(o),this.octaves_persistences.push(n)}this.persistence_max=1/this.persistence_max},__class__:ek};var Zi=function(e,i,s,n,o,l,_){for(null==_&&(_=.05),null==l&&(l=!1),ek.call(this,e,i,s,n,o,l,_),this.p_perm=[],i=0;512>i;)s=i++,this.p_perm[s]=Zi.P[255&s];this.base_factor=.03125,this.setSeed(e)};k["openfl._internal.utils.PerlinNoise"]=Zi,Zi.__name__="openfl._internal.utils.PerlinNoise",Zi.__super__=ek,Zi.prototype=x(ek.prototype,{p_perm:null,x_offset:null,y_offset:null,z_offset:null,base_factor:null,fill:function(e,i,s,n){var o=e.width,l=e.height,_=this.octaves,h=this.octaves_frequencies,m=this.octaves_persistences,f=1==(1&this.channels),y=2==(2&this.channels),g=4==(4&this.channels),j=0;f&&++j,y&&++j,g&&++j;var $=this.grayscale,yt=this.stitch_threshold*o|0,_t=this.stitch_threshold*l|0,xt=i*this.base_factor+this.x_offset;s=s*this.base_factor+this.y_offset,n=n*this.base_factor+this.z_offset;for(var Tt=0;Tt<l;){var St=Tt++;i=xt;for(var Mt=0,Et=o;Mt<Et;){for(var Ct=Mt++,Dt=0,At=0,Nt=0,Ft=0,Lt=_;Ft<Lt;){var Ot=Ft++,Ht=h[Ot];Ot=m[Ot],Dt+=this.noise(i*Ht,s*Ht,n*Ht)*Ot,$||(1<j&&(At+=this.noise((i+1)*Ht,(s+1)*Ht,n*Ht)*Ot),2<j&&(Nt+=this.noise((i+2)*Ht,(s+2)*Ht,n*Ht)*Ot))}Ft=0,$?Ft=this.color(Dt,Dt,Dt):f&&y&&g?Ft=this.color(Dt,At,Nt):f&&y?Ft=this.color(Dt,At,null):f&&g?Ft=this.color(Dt,null,At):y&&g?Ft=this.color(null,Dt,At):f?Ft=this.color(Dt,null,null):y?Ft=this.color(null,Dt,null):g&&(Ft=this.color(null,null,Dt)),this.stitch&&(Ft=this.stitching(e,Ft,Ct,St,yt,_t,o,l)),e.setPixel32(Ct,St,Ft),i+=this.base_factor}s+=this.base_factor}},noise:function(e,i,s){var n=e-e%1,o=i-i%1,l=s-s%1;i-=o,s-=l;var _=255&(0|n),h=255&(0|o),m=255&(0|l);l=this.fade(e-=n),o=this.fade(i),n=this.fade(s);var f=this.p_perm[_]+h,y=this.p_perm[f]+m;f=this.p_perm[f+1]+m,_=this.p_perm[h=this.p_perm[_+1]+h]+m;var g=this.p_perm[h+1]+m,j=e-1,$=i-1,yt=s-1,_t=15&this.p_perm[g+1];m=(1&_t?8>_t?-j:-$:8>_t?j:$)+(2&_t?4>_t?-$:14==_t?-j:-yt:4>_t?$:12==_t?j:yt),h=(1&(_t=15&this.p_perm[f+1])?8>_t?-e:-$:8>_t?e:$)+(2&_t?4>_t?-$:14==_t?-e:-yt:4>_t?$:12==_t?e:yt);var xt=(1&(_t=15&this.p_perm[_+1])?8>_t?-j:-i:8>_t?j:i)+(2&_t?4>_t?-i:14==_t?-j:-yt:4>_t?i:12==_t?j:yt);return yt=(1&(_t=15&this.p_perm[y+1])?8>_t?-e:-i:8>_t?e:i)+(2&_t?4>_t?-i:14==_t?-e:-yt:4>_t?i:12==_t?e:yt),g=(1&(_t=15&this.p_perm[g])?8>_t?-j:-$:8>_t?j:$)+(2&_t?4>_t?-$:14==_t?-j:-s:4>_t?$:12==_t?j:s),f=(1&(_t=15&this.p_perm[f])?8>_t?-e:-$:8>_t?e:$)+(2&_t?4>_t?-$:14==_t?-e:-s:4>_t?$:12==_t?e:s),_=(1&(_t=15&this.p_perm[_])?8>_t?-j:-i:8>_t?j:i)+(2&_t?4>_t?-i:14==_t?-j:-s:4>_t?i:12==_t?j:s),e=(1&(_t=15&this.p_perm[y])?8>_t?-e:-i:8>_t?e:i)+(2&_t?4>_t?-i:14==_t?-e:-s:4>_t?i:12==_t?e:s),e+=l*(_-e),(e+=o*(f+l*(g-f)-e))+n*((yt+=l*(xt-yt))+o*(h+l*(m-h)-yt)-e)},setSeed:function(e){this.x_offset=e=16807*e%2147483647|0,this.y_offset=e=16807*e%2147483647|0,this.z_offset=16807*e%2147483647|0},__class__:Zi});var cj=function(){this.rollOutStack=[]};k["openfl._internal.utils.TouchData"]=cj,cj.__name__="openfl._internal.utils.TouchData",cj.prototype={rollOutStack:null,touch:null,touchDownTarget:null,touchOverTarget:null,reset:function(){this.touchOverTarget=this.touchDownTarget=this.touch=null,this.rollOutStack.splice(0,this.rollOutStack.length)},__class__:cj};var Ck=function(){We.call(this),null==Sc.application&&(Sc.application=this),null==Sc.current&&(Sc.current=new se),Sc.current.__loaderInfo=Fg.create(null),Sc.current.__loaderInfo.content=Sc.current};k["openfl.display.Application"]=Ck,Ck.__name__="openfl.display.Application",Ck.__super__=We,Ck.prototype=x(We.prototype,{createWindow:function(e){var i=new Gl(this,e);this.__windows.push(i),this.__windowByID.h[i.id]=i;var s=r(this,this.__onWindowClose);return i.onClose.add(function(){s(i)},!1,-1e4),null==this.__window&&(this.__window=i,i.onActivate.add(r(this,this.onWindowActivate)),i.onRenderContextLost.add(r(this,this.onRenderContextLost)),i.onRenderContextRestored.add(r(this,this.onRenderContextRestored)),i.onDeactivate.add(r(this,this.onWindowDeactivate)),i.onDropFile.add(r(this,this.onWindowDropFile)),i.onEnter.add(r(this,this.onWindowEnter)),i.onExpose.add(r(this,this.onWindowExpose)),i.onFocusIn.add(r(this,this.onWindowFocusIn)),i.onFocusOut.add(r(this,this.onWindowFocusOut)),i.onFullscreen.add(r(this,this.onWindowFullscreen)),i.onKeyDown.add(r(this,this.onKeyDown)),i.onKeyUp.add(r(this,this.onKeyUp)),i.onLeave.add(r(this,this.onWindowLeave)),i.onMinimize.add(r(this,this.onWindowMinimize)),i.onMouseDown.add(r(this,this.onMouseDown)),i.onMouseMove.add(r(this,this.onMouseMove)),i.onMouseMoveRelative.add(r(this,this.onMouseMoveRelative)),i.onMouseUp.add(r(this,this.onMouseUp)),i.onMouseWheel.add(r(this,this.onMouseWheel)),i.onMove.add(r(this,this.onWindowMove)),i.onRender.add(r(this,this.render)),i.onResize.add(r(this,this.onWindowResize)),i.onRestore.add(r(this,this.onWindowRestore)),i.onTextEdit.add(r(this,this.onTextEdit)),i.onTextInput.add(r(this,this.onTextInput)),this.onWindowCreate()),this.onCreateWindow.dispatch(i),i},__class__:Ck});var jf={};k["openfl.display._BlendMode.BlendMode_Impl_"]=jf,jf.__name__="openfl.display._BlendMode.BlendMode_Impl_",jf.fromString=function(e){switch(e){case"add":return 0;case"alpha":return 1;case"darken":return 2;case"difference":return 3;case"erase":return 4;case"hardlight":return 5;case"invert":return 6;case"layer":return 7;case"lighten":return 8;case"multiply":return 9;case"normal":return 10;case"overlay":return 11;case"screen":return 12;case"shader":return 13;case"subtract":return 14;default:return null}},jf.toString=function(e){switch(e){case 0:return"add";case 1:return"alpha";case 2:return"darken";case 3:return"difference";case 4:return"erase";case 5:return"hardlight";case 6:return"invert";case 7:return"layer";case 8:return"lighten";case 9:return"multiply";case 10:return"normal";case 11:return"overlay";case 12:return"screen";case 13:return"shader";case 14:return"subtract";default:return null}};var ni={};k["openfl.display._CapsStyle.CapsStyle_Impl_"]=ni,ni.__name__="openfl.display._CapsStyle.CapsStyle_Impl_",ni.fromInt=function(e){return e},ni.fromString=function(e){switch(e){case"none":return 0;case"round":return 1;case"square":return 2;default:return null}},ni.toInt=function(e){return e},ni.toString=function(e){switch(e){case 0:return"none";case 1:return"round";case 2:return"square";default:return null}};var So=function(e){ya.call(this),this.__element=e,this.__type=Oh.DOM_ELEMENT};k["openfl.display.DOMElement"]=So,So.__name__="openfl.display.DOMElement",So.__super__=ya,So.prototype=x(ya.prototype,{__active:null,__element:null,__class__:So});var Po=function(e){null==this.__glFragmentSource&&(this.__glFragmentSource="varying float openfl_Alphav;\n\t\tvarying vec4 openfl_ColorMultiplierv;\n\t\tvarying vec4 openfl_ColorOffsetv;\n\t\tvarying vec2 openfl_TextureCoordv;\n\n\t\tuniform bool openfl_HasColorTransform;\n\t\tuniform sampler2D openfl_Texture;\n\t\tuniform vec2 openfl_TextureSize;\n\n\t\tvoid main(void) {\n\n\t\t\tvec4 color = texture2D (openfl_Texture, openfl_TextureCoordv);\n\n\t\tif (color.a == 0.0) {\n\n\t\t\tgl_FragColor = vec4 (0.0, 0.0, 0.0, 0.0);\n\n\t\t} else if (openfl_HasColorTransform) {\n\n\t\t\tcolor = vec4 (color.rgb / color.a, color.a);\n\n\t\t\tmat4 colorMultiplier = mat4 (0);\n\t\t\tcolorMultiplier[0][0] = openfl_ColorMultiplierv.x;\n\t\t\tcolorMultiplier[1][1] = openfl_ColorMultiplierv.y;\n\t\t\tcolorMultiplier[2][2] = openfl_ColorMultiplierv.z;\n\t\t\tcolorMultiplier[3][3] = 1.0; // openfl_ColorMultiplierv.w;\n\n\t\t\tcolor = clamp (openfl_ColorOffsetv + (color * colorMultiplier), 0.0, 1.0);\n\n\t\t\tif (color.a > 0.0) {\n\n\t\t\t\tgl_FragColor = vec4 (color.rgb * color.a * openfl_Alphav, color.a * openfl_Alphav);\n\n\t\t\t} else {\n\n\t\t\t\tgl_FragColor = vec4 (0.0, 0.0, 0.0, 0.0);\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tgl_FragColor = color * openfl_Alphav;\n\n\t\t}\n\n\t\t}"),null==this.__glVertexSource&&(this.__glVertexSource="attribute float openfl_Alpha;\n\t\tattribute vec4 openfl_ColorMultiplier;\n\t\tattribute vec4 openfl_ColorOffset;\n\t\tattribute vec4 openfl_Position;\n\t\tattribute vec2 openfl_TextureCoord;\n\n\t\tvarying float openfl_Alphav;\n\t\tvarying vec4 openfl_ColorMultiplierv;\n\t\tvarying vec4 openfl_ColorOffsetv;\n\t\tvarying vec2 openfl_TextureCoordv;\n\n\t\tuniform mat4 openfl_Matrix;\n\t\tuniform bool openfl_HasColorTransform;\n\t\tuniform vec2 openfl_TextureSize;\n\n\t\tvoid main(void) {\n\n\t\t\topenfl_Alphav = openfl_Alpha;\n\t\topenfl_TextureCoordv = openfl_TextureCoord;\n\n\t\tif (openfl_HasColorTransform) {\n\n\t\t\topenfl_ColorMultiplierv = openfl_ColorMultiplier;\n\t\t\topenfl_ColorOffsetv = openfl_ColorOffset / 255.0;\n\n\t\t}\n\n\t\tgl_Position = openfl_Matrix * openfl_Position;\n\n\t\t}"),Ze.call(this,e),this.__isGenerated=!0,this.__initGL()};k["openfl.display.DisplayObjectShader"]=Po,Po.__name__="openfl.display.DisplayObjectShader",Po.__super__=Ze,Po.prototype=x(Ze.prototype,{openfl_Alpha:null,openfl_ColorMultiplier:null,openfl_ColorOffset:null,openfl_Position:null,openfl_TextureCoord:null,openfl_Matrix:null,openfl_HasColorTransform:null,openfl_TextureSize:null,openfl_Texture:null,__class__:Po});var yl=function(e,i){A.call(this),this.__name=e,this.__frame=i};k["openfl.display.FrameLabel"]=yl,yl.__name__="openfl.display.FrameLabel",yl.__super__=A,yl.prototype=x(A.prototype,{__frame:null,__name:null,get_frame:function(){return this.__frame},get_name:function(){return this.__name},__class__:yl,__properties__:{get_name:"get_name",get_frame:"get_frame"}});var fk={};k["openfl.display._GradientType.GradientType_Impl_"]=fk,fk.__name__="openfl.display._GradientType.GradientType_Impl_",fk.fromInt=function(e){return e},fk.fromString=function(e){switch(e){case"linear":return 0;case"radial":return 1;default:return null}},fk.toInt=function(e){return e},fk.toString=function(e){switch(e){case 0:return"linear";case 1:return"radial";default:return null}};var lf=function(e){this.__dirty=!0,this.__owner=e,this.__commands=new Ye,this.__positionY=this.__positionX=this.__strokePadding=0,this.__renderTransform=new Fa,this.__usedShaderBuffers=new ib,this.__worldTransform=new Fa,this.__height=this.__width=0,this.__shaderBufferPool=new Ia(function(){return new Lo}),this.moveTo(0,0)};k["openfl.display.Graphics"]=lf,lf.__name__="openfl.display.Graphics",lf.prototype={__bounds:null,__commands:null,__dirty:null,__hardwareDirty:null,__height:null,__managed:null,__positionX:null,__positionY:null,__quadBuffer:null,__renderTransform:null,__shaderBufferPool:null,__softwareDirty:null,__strokePadding:null,__transformDirty:null,__triangleIndexBuffer:null,__triangleIndexBufferCount:null,__triangleIndexBufferData:null,__usedShaderBuffers:null,__vertexBuffer:null,__vertexBufferCount:null,__vertexBufferCountUVT:null,__vertexBufferData:null,__vertexBufferDataUVT:null,__vertexBufferUVT:null,__visible:null,__owner:null,__width:null,__worldTransform:null,__canvas:null,__context:null,__bitmap:null,beginBitmapFill:function(e,i,s,n){null==n&&(n=!1),null==s&&(s=!0),this.__commands.beginBitmapFill(e,null!=i?i.clone():null,s,n),this.__visible=!0},beginFill:function(e,i){null==i&&(i=1),null==e&&(e=0),this.__commands.beginFill(16777215&e,i),0<i&&(this.__visible=!0)},beginGradientFill:function(e,i,s,n,o,l,_,h){if(null==h&&(h=0),null==_&&(_=1),null==l&&(l=0),null!=i&&0!=i.length){if(null==s){s=[];for(var m=0,f=i.length;m<f;)m++,s.push(1)}if(null==n)for(n=[],m=0,f=i.length;m<f;){var y=m++;n.push(Math.ceil(y/i.length*255))}if(!(s.length<i.length||n.length<i.length))for(this.__commands.beginGradientFill(e,i,s,n,o,l,_,h),e=0;e<s.length;)if(i=s[e],++e,0<i){this.__visible=!0;break}}},beginShaderFill:function(e,i){null!=e&&(i=this.__shaderBufferPool.get(),this.__usedShaderBuffers.add(i),i.update(e),this.__commands.beginShaderFill(i))},clear:function(){for(var e=this.__usedShaderBuffers.h;null!=e;){var i=e.item;e=e.next,this.__shaderBufferPool.release(i)}this.__usedShaderBuffers.clear(),this.__commands.clear(),this.__strokePadding=0,null!=this.__bounds&&(this.set___dirty(!0),this.__transformDirty=!0,this.__bounds=null),this.__visible=!1,this.__positionY=this.__positionX=0,this.moveTo(0,0)},copyFrom:function(e){this.__bounds=null!=e.__bounds?e.__bounds.clone():null,this.__commands=e.__commands.copy(),this.set___dirty(!0),this.__strokePadding=e.__strokePadding,this.__positionX=e.__positionX,this.__positionY=e.__positionY,this.__transformDirty=!0,this.__visible=e.__visible},cubicCurveTo:function(e,i,s,n,o,l){this.__inflateBounds(this.__positionX-this.__strokePadding,this.__positionY-this.__strokePadding),this.__inflateBounds(this.__positionX+this.__strokePadding,this.__positionY+this.__strokePadding);var _=o,h=o;if(!(e<o&&e>this.__positionX||e>o&&e<this.__positionX)||!(s<o&&s>this.__positionX||s>o&&s<this.__positionX)){var m=2*this.__positionX-4*e+2*s,f=e-this.__positionX,y=3*e-this.__positionX+o-3*s,g=(-m+Math.sqrt(m*m-4*f*y))/(2*y);m=(-m-Math.sqrt(m*m-4*f*y))/(2*y),0<g&&1>g&&(_=this.__calculateBezierCubicPoint(g,this.__positionX,e,s,o)),0<m&&1>m&&(h=this.__calculateBezierCubicPoint(m,this.__positionX,e,s,o))}if(m=g=l,!(i<l&&i>this.__positionX||i>l&&i<this.__positionX)||!(n<l&&n>this.__positionX||n>l&&n<this.__positionX)){var j=i-this.__positionX,$=3*i-this.__positionX+l-3*n;f=(-(y=2*this.__positionX-4*i+2*n)+Math.sqrt(y*y-4*j*$))/(2*$),y=(-y-Math.sqrt(y*y-4*j*$))/(2*$),0<f&&1>f&&(g=this.__calculateBezierCubicPoint(f,this.__positionX,i,n,l)),0<y&&1>y&&(m=this.__calculateBezierCubicPoint(y,this.__positionX,i,n,l))}this.__inflateBounds(_-this.__strokePadding,g-this.__strokePadding),this.__inflateBounds(_+this.__strokePadding,g+this.__strokePadding),this.__inflateBounds(h-this.__strokePadding,m-this.__strokePadding),this.__inflateBounds(h+this.__strokePadding,m+this.__strokePadding),this.__positionX=o,this.__positionY=l,this.__inflateBounds(this.__positionX-this.__strokePadding,this.__positionY-this.__strokePadding),this.__inflateBounds(this.__positionX+this.__strokePadding,this.__positionY+this.__strokePadding),this.__commands.cubicCurveTo(e,i,s,n,o,l),this.set___dirty(!0)},curveTo:function(e,i,s,n){this.__inflateBounds(this.__positionX-this.__strokePadding,this.__positionY-this.__strokePadding),this.__inflateBounds(this.__positionX+this.__strokePadding,this.__positionY+this.__strokePadding);var o=e<s&&e>this.__positionX||e>s&&e<this.__positionX?s:this.__calculateBezierQuadPoint((this.__positionX-e)/(this.__positionX-2*e+s),this.__positionX,e,s),l=i<n&&i>this.__positionY||i>n&&i<this.__positionY?n:this.__calculateBezierQuadPoint((this.__positionY-i)/(this.__positionY-2*i+n),this.__positionY,i,n);this.__inflateBounds(o-this.__strokePadding,l-this.__strokePadding),this.__inflateBounds(o+this.__strokePadding,l+this.__strokePadding),this.__positionX=s,this.__positionY=n,this.__commands.curveTo(e,i,s,n),this.set___dirty(!0)},drawCircle:function(e,i,s){0>=s||(this.__inflateBounds(e-s-this.__strokePadding,i-s-this.__strokePadding),this.__inflateBounds(e+s+this.__strokePadding,i+s+this.__strokePadding),this.__commands.drawCircle(e,i,s),this.set___dirty(!0))},drawEllipse:function(e,i,s,n){0>=s||0>=n||(this.__inflateBounds(e-this.__strokePadding,i-this.__strokePadding),this.__inflateBounds(e+s+this.__strokePadding,i+n+this.__strokePadding),this.__commands.drawEllipse(e,i,s,n),this.set___dirty(!0))},drawGraphicsData:function(e){for(e=e.iterator();e.hasNext();){var i=e.next();switch(i.__graphicsDataType){case 0:if(null!=i.fill){var s=i.thickness;switch(isNaN(s)&&(s=null),i.fill.__graphicsFillType){case 0:var n=i.fill;this.lineStyle(s,n.color,n.alpha,i.pixelHinting,i.scaleMode,i.caps,i.joints,i.miterLimit);break;case 1:n=i.fill,this.lineStyle(s,0,1,i.pixelHinting,i.scaleMode,i.caps,i.joints,i.miterLimit),this.lineGradientStyle(n.type,n.colors,n.alphas,n.ratios,n.matrix,n.spreadMethod,n.interpolationMethod,n.focalPointRatio);break;case 2:n=i.fill,this.lineStyle(s,0,1,i.pixelHinting,i.scaleMode,i.caps,i.joints,i.miterLimit),this.lineBitmapStyle(n.bitmapData,n.matrix,n.repeat,n.smooth)}}else this.lineStyle();break;case 1:this.beginFill((n=i).color,n.alpha);break;case 2:this.beginGradientFill((n=i).type,n.colors,n.alphas,n.ratios,n.matrix,n.spreadMethod,n.interpolationMethod,n.focalPointRatio);break;case 3:this.drawPath(i.commands,i.data,i.winding);break;case 4:this.beginBitmapFill((n=i).bitmapData,n.matrix,n.repeat,n.smooth);break;case 5:this.endFill();break;case 6:this.drawQuads(i.rects,i.indices,i.transforms);break;case 7:this.drawTriangles(i.vertices,i.indices,i.uvtData,i.culling);break;case 8:this.beginShaderFill(i.shader,i.matrix)}}},drawPath:function(e,i,s){null==s&&(s=0);var n=0;1==s&&this.__commands.windingNonZero(),e=e.iterator();t:for(;e.hasNext();)switch(e.next()){case 1:this.moveTo(i.get(n),i.get(n+1)),n+=2;break;case 2:this.lineTo(i.get(n),i.get(n+1)),n+=2;break;case 3:this.curveTo(i.get(n),i.get(n+1),i.get(n+2),i.get(n+3)),n+=4;break;case 4:this.moveTo(i.get(n+2),i.get(n+3));break t;case 5:this.lineTo(i.get(n+2),i.get(n+3));break t;case 6:this.cubicCurveTo(i.get(n),i.get(n+1),i.get(n+2),i.get(n+3),i.get(n+4),i.get(n+5)),n+=6}},drawQuads:function(e,i,s){if(null!=e){var n=null!=i,o=!1,l=!1,_=n?i.get_length():Math.floor(e.get_length()/4);if(0!=_){null!=s&&(s.get_length()>=6*_?l=o=!0:s.get_length()>=4*_?o=!0:s.get_length()>=2*_&&(l=!0));for(var $,h=ia.__pool.get(),m=Fa.__pool.get(),f=1/0,y=1/0,g=-1/0,j=-1/0,yt=0;yt<_;){var _t=yt++;0>($=n?4*i.get(_t):4*_t)||(h.setTo(0,0,e.get($+2),e.get($+3)),0>=h.width||0>=h.height||(o&&l?m.setTo(s.get($=6*_t),s.get($+1),s.get($+2),s.get($+3),s.get($+4),s.get($+5)):o?m.setTo(s.get($=4*_t),s.get($+1),s.get($+2),s.get($+3),h.x,h.y):l?(m.tx=s.get($=2*_t),m.ty=s.get($+1)):(m.tx=h.x,m.ty=h.y),h.__transform(h,m),f>h.x&&(f=h.x),y>h.y&&(y=h.y),g<h.get_right()&&(g=h.get_right()),j<h.get_bottom()&&(j=h.get_bottom())))}this.__inflateBounds(f,y),this.__inflateBounds(g,j),this.__commands.drawQuads(e,i,s),this.set___dirty(!0),this.__visible=!0,ia.__pool.release(h),Fa.__pool.release(m)}}},drawRect:function(e,i,s,n){if(0!=s||0!=n){var o=0>s?-1:1,l=0>n?-1:1;this.__inflateBounds(e-this.__strokePadding*o,i-this.__strokePadding*l),this.__inflateBounds(e+s+this.__strokePadding*o,i+n+this.__strokePadding*l),this.__commands.drawRect(e,i,s,n),this.set___dirty(!0)}},drawRoundRect:function(e,i,s,n,o,l){if(0!=s||0!=n){var _=0>s?-1:1,h=0>n?-1:1;this.__inflateBounds(e-this.__strokePadding*_,i-this.__strokePadding*h),this.__inflateBounds(e+s+this.__strokePadding*_,i+n+this.__strokePadding*h),this.__commands.drawRoundRect(e,i,s,n,o,l),this.set___dirty(!0)}},drawRoundRectComplex:function(e,i,s,n,o,l,_,h){if(!(0>=s||0>=n)){this.__inflateBounds(e-this.__strokePadding,i-this.__strokePadding),this.__inflateBounds(e+s+this.__strokePadding,i+n+this.__strokePadding);var m=e+s,f=i+n;o=o<(s=s<n?2*s:2*n)?o:s,l=l<s?l:s,_=_<s?_:s;var y=(h=h<s?h:s)*(s=1-Math.sin(Math.PI/180*45)),g=h*(n=1-Math.tan(Math.PI/180*22.5));this.moveTo(m,f-h),this.curveTo(m,f-g,m-y,f-y),this.curveTo(m-g,f,m-h,f),y=_*s,g=_*n,this.lineTo(e+_,f),this.curveTo(e+g,f,e+y,f-y),this.curveTo(e,f-g,e,f-_),y=o*s,g=o*n,this.lineTo(e,i+o),this.curveTo(e,i+g,e+y,i+y),this.curveTo(e+g,i,e+o,i),y=l*s,g=l*n,this.lineTo(m-l,i),this.curveTo(m-g,i,m-y,i+y),this.curveTo(m,i+g,m,i+l),this.lineTo(m,f-h),this.set___dirty(!0)}},drawTriangles:function(e,i,s,n){if(null==n&&(n=1),null!=e&&0!=e.get_length()){var o=e.get_length()/2|0;if(null==i){if(o%3!=0)throw new E(new yi("Not enough vertices to close a triangle."));i=La.toIntVector(null);for(var l=0;l<o;){var _=l++;i.push(_)}}null==n&&(n=1);for(var h,m=_=1/0,f=-1/0,y=-1/0,g=0;g<o;)h=g++,_>(l=e.get(2*h))&&(_=l),m>(h=e.get(2*h+1))&&(m=h),f<l&&(f=l),y<h&&(y=h);this.__inflateBounds(_,m),this.__inflateBounds(f,y),this.__commands.drawTriangles(e,i,s,n),this.set___dirty(!0),this.__visible=!0}},endFill:function(){this.__commands.endFill()},lineBitmapStyle:function(e,i,s,n){null==n&&(n=!1),null==s&&(s=!0),this.__commands.lineBitmapStyle(e,null!=i?i.clone():null,s,n)},lineGradientStyle:function(e,i,s,n,o,l,_,h){null==h&&(h=0),null==_&&(_=1),null==l&&(l=0),this.__commands.lineGradientStyle(e,i,s,n,o,l,_,h)},lineStyle:function(e,i,s,n,o,l,_,h){null==h&&(h=3),null==o&&(o=2),null==n&&(n=!1),null==s&&(s=1),null==i&&(i=0),null!=e&&(1==_?e>this.__strokePadding&&(this.__strokePadding=e):e/2>this.__strokePadding&&(this.__strokePadding=e/2)),this.__commands.lineStyle(e,i,s,n,o,l,_,h),null!=e&&(this.__visible=!0)},lineTo:function(e,i){isFinite(e)&&isFinite(i)&&(this.__inflateBounds(this.__positionX-this.__strokePadding,this.__positionY-this.__strokePadding),this.__inflateBounds(this.__positionX+this.__strokePadding,this.__positionY+this.__strokePadding),this.__positionX=e,this.__positionY=i,this.__inflateBounds(this.__positionX-this.__strokePadding,this.__positionY-this.__strokePadding),this.__inflateBounds(this.__positionX+2*this.__strokePadding,this.__positionY+this.__strokePadding),this.__commands.lineTo(e,i),this.set___dirty(!0))},moveTo:function(e,i){this.__positionX=e,this.__positionY=i,this.__commands.moveTo(e,i)},overrideBlendMode:function(e){null==e&&(e=10),this.__commands.overrideBlendMode(e)},readGraphicsData:function(e){null==e&&(e=!0);var i=La.toObjectVector(null);return this.__owner.__readGraphicsData(i,e),i},__calculateBezierCubicPoint:function(e,i,s,n,o){var l=1-e;return i*l*l*l+3*s*e*l*l+3*n*l*e*e+o*e*e*e},__calculateBezierQuadPoint:function(e,i,s,n){var o=1-e;return o*o*i+2*o*e*s+e*e*n},__cleanup:function(){null!=this.__bounds&&null!=this.__canvas&&(this.set___dirty(!0),this.__transformDirty=!0),this.__context=this.__canvas=this.__bitmap=null},__getBounds:function(e,i){if(null!=this.__bounds){var s=ia.__pool.get();this.__bounds.__transform(s,i),e.__expand(s.x,s.y,s.width,s.height),ia.__pool.release(s)}},__hitTest:function(e,i,s,n){if(null==this.__bounds)return!1;var o=n.a*n.d-n.b*n.c;o=0==o?-n.tx:1/o*(n.c*(n.ty-i)+n.d*(e-n.tx));var l=n.a*n.d-n.b*n.c;return e=0==l?-n.ty:1/l*(n.a*(i-n.ty)+n.b*(n.tx-e)),!!(o>this.__bounds.x&&e>this.__bounds.y&&this.__bounds.contains(o,e))&&(!s||D.hitTest(this,o,e))},__inflateBounds:function(e,i){null==this.__bounds?(this.__bounds=new ia(e,i,0,0),this.__transformDirty=!0):(e<this.__bounds.x&&(this.__bounds.width+=this.__bounds.x-e,this.__bounds.x=e,this.__transformDirty=!0),i<this.__bounds.y&&(this.__bounds.height+=this.__bounds.y-i,this.__bounds.y=i,this.__transformDirty=!0),e>this.__bounds.x+this.__bounds.width&&(this.__bounds.width=e-this.__bounds.x),i>this.__bounds.y+this.__bounds.height&&(this.__bounds.height=i-this.__bounds.y))},__readGraphicsData:function(e){for(var n,i=new vg(this.__commands),s=null,o=this.__commands.types,l=0,_=this.__commands.get_length();l<_;){switch((n=o[n=l++])._hx_index){case 4:case 5:case 6:case 7:case 9:case 10:case 17:case 18:null==s&&(s=new gk);break;default:null!=s&&(e.push(s),s=null)}switch(n._hx_index){case 0:switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=ma.BEGIN_BITMAP_FILL,e.push(new To((n=i).buffer.o[n.oPos],n.buffer.o[n.oPos+1],n.buffer.b[n.bPos],n.buffer.b[n.bPos+1]));break;case 1:switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=ma.BEGIN_FILL,e.push(new Hl((n=i).buffer.i[n.iPos],1));break;case 2:switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=ma.BEGIN_GRADIENT_FILL,e.push(new Uo((n=i).buffer.o[n.oPos],n.buffer.ii[n.iiPos],n.buffer.ff[n.ffPos],n.buffer.ii[n.iiPos+1],n.buffer.o[n.oPos+1],n.buffer.o[n.oPos+2],n.buffer.o[n.oPos+3],n.buffer.f[n.fPos]));break;case 3:break;case 4:switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=ma.CUBIC_CURVE_TO,s.cubicCurveTo((n=i).buffer.f[n.fPos],n.buffer.f[n.fPos+1],n.buffer.f[n.fPos+2],n.buffer.f[n.fPos+3],n.buffer.f[n.fPos+4],n.buffer.f[n.fPos+5]);break;case 5:switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=ma.CURVE_TO,s.curveTo((n=i).buffer.f[n.fPos],n.buffer.f[n.fPos+1],n.buffer.f[n.fPos+2],n.buffer.f[n.fPos+3]);break;case 6:switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=ma.DRAW_CIRCLE,s.__drawCircle((n=i).buffer.f[n.fPos],n.buffer.f[n.fPos+1],n.buffer.f[n.fPos+2]);break;case 7:switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=ma.DRAW_ELLIPSE,s.__drawEllipse((n=i).buffer.f[n.fPos],n.buffer.f[n.fPos+1],n.buffer.f[n.fPos+2],n.buffer.f[n.fPos+3]);break;case 9:switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=ma.DRAW_RECT,s.__drawRect((n=i).buffer.f[n.fPos],n.buffer.f[n.fPos+1],n.buffer.f[n.fPos+2],n.buffer.f[n.fPos+3]);break;case 10:switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=ma.DRAW_ROUND_RECT,s.__drawRoundRect((n=i).buffer.f[n.fPos],n.buffer.f[n.fPos+1],n.buffer.f[n.fPos+2],n.buffer.f[n.fPos+3],n.buffer.f[n.fPos+4],null!=n.buffer.o[n.oPos]?n.buffer.o[n.oPos]:n.buffer.f[n.fPos+4]);break;case 13:switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=ma.END_FILL,e.push(new Vo);break;case 14:switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=ma.LINE_BITMAP_STYLE,s=null;break;case 15:switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=ma.LINE_GRADIENT_STYLE;break;case 16:switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=ma.LINE_STYLE;var h=i;(n=new Wo(h.buffer.o[h.oPos],h.buffer.b[h.bPos],h.buffer.o[h.oPos+1],h.buffer.o[h.oPos+2],h.buffer.o[h.oPos+3],h.buffer.f[h.fPos+1])).fill=new Hl(h.buffer.i[h.iPos],h.buffer.f[h.fPos]),e.push(n);break;case 17:switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=ma.LINE_TO,s.lineTo((n=i).buffer.f[n.fPos],n.buffer.f[n.fPos+1]);break;case 18:switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=ma.MOVE_TO,s.moveTo((n=i).buffer.f[n.fPos],n.buffer.f[n.fPos+1]);break;default:switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=n}}null!=s&&e.push(s)},__update:function(e){if(!(null==this.__bounds||0>=this.__bounds.width||0>=this.__bounds.height)){var i=this.__owner.__renderTransform;if(null!=i){var s=0==i.b?Math.abs(i.a):Math.sqrt(i.a*i.a+i.b*i.b),n=0==i.c?Math.abs(i.d):Math.sqrt(i.c*i.c+i.d*i.d);if(null!=e&&(s=0==e.b?s*e.a:s*Math.sqrt(e.a*e.a+e.b*e.b),n=0==e.c?n*e.d:n*Math.sqrt(e.c*e.c+e.d*e.d)),n*=this.__bounds.height,1>(e=this.__bounds.width*s)||1>n)(1<=this.__width||1<=this.__height)&&this.set___dirty(!0),this.__height=this.__width=0;else{null!=lf.maxTextureWidth&&e>lf.maxTextureWidth&&(e=lf.maxTextureWidth),null!=lf.maxTextureWidth&&n>lf.maxTextureHeight&&(n=lf.maxTextureHeight),this.__renderTransform.a=e/this.__bounds.width,this.__renderTransform.d=n/this.__bounds.height;var o=1/this.__renderTransform.d;this.__worldTransform.a=(s=1/this.__renderTransform.a)*i.a,this.__worldTransform.b=s*i.b,this.__worldTransform.c=o*i.c,this.__worldTransform.d=o*i.d;var l=this.__bounds.y;s=(o=this.__bounds.x)*i.a+l*i.c+i.tx,i=o*i.b+l*i.d+i.ty,this.__worldTransform.tx=Math.floor(s),this.__worldTransform.ty=Math.floor(i),this.__renderTransform.tx=0==(l=(o=this.__worldTransform).a*o.d-o.b*o.c)?-o.tx:1/l*(o.c*(o.ty-i)+o.d*(s-o.tx)),this.__renderTransform.ty=0==(l=(o=this.__worldTransform).a*o.d-o.b*o.c)?-o.ty:1/l*(o.a*(i-o.ty)+o.b*(o.tx-s)),e=Math.ceil(e+1),n=Math.ceil(n+1),e==this.__width&&n==this.__height||this.set___dirty(!0),this.__width=e,this.__height=n}}}},set___dirty:function(e){if(e&&null!=this.__owner){var i=this.__owner;i.__renderDirty||(i.__renderDirty=!0,i.__setParentRenderDirty())}return e&&(this.__hardwareDirty=this.__softwareDirty=!0),this.__dirty=e},__class__:lf,__properties__:{set___dirty:"set___dirty"}};var ri=function(){};k["openfl.display.IGraphicsFill"]=ri,ri.__name__="openfl.display.IGraphicsFill",ri.__isInterface__=!0,ri.prototype={__graphicsFillType:null,__class__:ri};var wg=function(){};k["openfl.display.IGraphicsData"]=wg,wg.__name__="openfl.display.IGraphicsData",wg.__isInterface__=!0,wg.prototype={__graphicsDataType:null,__class__:wg};var To=function(e,i,s,n){null==n&&(n=!1),null==s&&(s=!0),this.bitmapData=e,this.matrix=i,this.repeat=s,this.smooth=n,this.__graphicsDataType=4,this.__graphicsFillType=2};k["openfl.display.GraphicsBitmapFill"]=To,To.__name__="openfl.display.GraphicsBitmapFill",To.__interfaces__=[ri,wg],To.prototype={bitmapData:null,matrix:null,repeat:null,smooth:null,__graphicsDataType:null,__graphicsFillType:null,__class__:To};var Vo=function(){this.__graphicsDataType=5,this.__graphicsFillType=3};k["openfl.display.GraphicsEndFill"]=Vo,Vo.__name__="openfl.display.GraphicsEndFill",Vo.__interfaces__=[ri,wg],Vo.prototype={__graphicsDataType:null,__graphicsFillType:null,__class__:Vo};var Uo=function(e,i,s,n,o,l,_,h){null==h&&(h=0),null==e&&(e=0),null==l&&(l=0),null==_&&(_=1),this.type=e,this.colors=i,this.alphas=s,this.ratios=n,this.matrix=o,this.spreadMethod=l,this.interpolationMethod=_,this.focalPointRatio=h,this.__graphicsDataType=2,this.__graphicsFillType=1};k["openfl.display.GraphicsGradientFill"]=Uo,Uo.__name__="openfl.display.GraphicsGradientFill",Uo.__interfaces__=[ri,wg],Uo.prototype={alphas:null,colors:null,focalPointRatio:null,interpolationMethod:null,matrix:null,ratios:null,spreadMethod:null,type:null,__graphicsDataType:null,__graphicsFillType:null,__class__:Uo};var Xo=function(){};k["openfl.display.IGraphicsPath"]=Xo,Xo.__name__="openfl.display.IGraphicsPath",Xo.__isInterface__=!0;var gk=function(e,i,s){null==s&&(s=0),this.commands=e,this.data=i,this.winding=s,this.__graphicsDataType=3};k["openfl.display.GraphicsPath"]=gk,gk.__name__="openfl.display.GraphicsPath",gk.__interfaces__=[Xo,wg],gk.prototype={commands:null,data:null,winding:null,__graphicsDataType:null,cubicCurveTo:function(e,i,s,n,o,l){null==this.commands&&(this.commands=La.toIntVector(null)),null==this.data&&(this.data=La.toFloatVector(null)),this.commands.push(6),this.data.push(e),this.data.push(i),this.data.push(s),this.data.push(n),this.data.push(o),this.data.push(l)},curveTo:function(e,i,s,n){null==this.commands&&(this.commands=La.toIntVector(null)),null==this.data&&(this.data=La.toFloatVector(null)),this.commands.push(3),this.data.push(e),this.data.push(i),this.data.push(s),this.data.push(n)},lineTo:function(e,i){null==this.commands&&(this.commands=La.toIntVector(null)),null==this.data&&(this.data=La.toFloatVector(null)),this.commands.push(2),this.data.push(e),this.data.push(i)},moveTo:function(e,i){null==this.commands&&(this.commands=La.toIntVector(null)),null==this.data&&(this.data=La.toFloatVector(null)),this.commands.push(1),this.data.push(e),this.data.push(i)},wideLineTo:function(e,i){null==this.commands&&(this.commands=La.toIntVector(null)),null==this.data&&(this.data=La.toFloatVector(null)),this.commands.push(2),this.data.push(e),this.data.push(i)},wideMoveTo:function(e,i){null==this.commands&&(this.commands=La.toIntVector(null)),null==this.data&&(this.data=La.toFloatVector(null)),this.commands.push(1),this.data.push(e),this.data.push(i)},__drawCircle:function(e,i,s){this.__drawRoundRect(e-s,i-s,2*s,2*s,2*s,2*s)},__drawEllipse:function(e,i,s,n){this.__drawRoundRect(e,i,s,n,s,n)},__drawRect:function(e,i,s,n){this.moveTo(e,i),this.lineTo(e+s,i),this.lineTo(e+s,i+n),this.lineTo(e,i+n),this.lineTo(e,i)},__drawRoundRect:function(e,i,s,n,o,l){(o*=.5)>s/2&&(o=s/2),(l*=.5)>n/2&&(l=n/2);var _=.7071067811865476*o-o,h=.41421356237309503*o-o,m=.7071067811865476*l-l,f=.41421356237309503*l-l;this.moveTo(s=e+s,(n=i+n)-l),this.curveTo(s,n+f,s+_,n+m),this.curveTo(s+h,n,s-o,n),this.lineTo(e+o,n),this.curveTo(e-h,n,e-_,n+m),this.curveTo(e,n+f,e,n-l),this.lineTo(e,i+l),this.curveTo(e,i-f,e-_,i-m),this.curveTo(e-h,i,e+o,i),this.lineTo(s-o,i),this.curveTo(s+h,i,s+_,i-m),this.curveTo(s,i-f,s,i+l),this.lineTo(s,n-l)},__class__:gk};var Yo={};k["openfl.display._GraphicsPathWinding.GraphicsPathWinding_Impl_"]=Yo,Yo.__name__="openfl.display._GraphicsPathWinding.GraphicsPathWinding_Impl_",Yo.fromString=function(e){switch(e){case"evenOdd":return 0;case"nonZero":return 1;default:return null}},Yo.toString=function(e){switch(e){case 0:return"evenOdd";case 1:return"nonZero";default:return null}};var tr=function(e,i,s){this.rects=e,this.indices=i,this.transforms=s,this.__graphicsDataType=6};k["openfl.display.GraphicsQuadPath"]=tr,tr.__name__="openfl.display.GraphicsQuadPath",tr.__interfaces__=[Xo,wg],tr.prototype={indices:null,rects:null,transforms:null,__graphicsDataType:null,__class__:tr};var Qo=function(e){null==this.__glFragmentSource&&(this.__glFragmentSource="varying float openfl_Alphav;\n\t\tvarying vec4 openfl_ColorMultiplierv;\n\t\tvarying vec4 openfl_ColorOffsetv;\n\t\tvarying vec2 openfl_TextureCoordv;\n\n\t\tuniform bool openfl_HasColorTransform;\n\t\tuniform vec2 openfl_TextureSize;\n\t\tuniform sampler2D bitmap;\n\n\t\tvoid main(void) {\n\n\t\t\tvec4 color = texture2D (bitmap, openfl_TextureCoordv);\n\n\t\tif (color.a == 0.0) {\n\n\t\t\tgl_FragColor = vec4 (0.0, 0.0, 0.0, 0.0);\n\n\t\t} else if (openfl_HasColorTransform) {\n\n\t\t\tcolor = vec4 (color.rgb / color.a, color.a);\n\n\t\t\tmat4 colorMultiplier = mat4 (0);\n\t\t\tcolorMultiplier[0][0] = openfl_ColorMultiplierv.x;\n\t\t\tcolorMultiplier[1][1] = openfl_ColorMultiplierv.y;\n\t\t\tcolorMultiplier[2][2] = openfl_ColorMultiplierv.z;\n\t\t\tcolorMultiplier[3][3] = 1.0; // openfl_ColorMultiplierv.w;\n\n\t\t\tcolor = clamp (openfl_ColorOffsetv + (color * colorMultiplier), 0.0, 1.0);\n\n\t\t\tif (color.a > 0.0) {\n\n\t\t\t\tgl_FragColor = vec4 (color.rgb * color.a * openfl_Alphav, color.a * openfl_Alphav);\n\n\t\t\t} else {\n\n\t\t\t\tgl_FragColor = vec4 (0.0, 0.0, 0.0, 0.0);\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tgl_FragColor = color * openfl_Alphav;\n\n\t\t}\n\n\t\t}"),null==this.__glVertexSource&&(this.__glVertexSource="attribute float openfl_Alpha;\n\t\tattribute vec4 openfl_ColorMultiplier;\n\t\tattribute vec4 openfl_ColorOffset;\n\t\tattribute vec4 openfl_Position;\n\t\tattribute vec2 openfl_TextureCoord;\n\n\t\tvarying float openfl_Alphav;\n\t\tvarying vec4 openfl_ColorMultiplierv;\n\t\tvarying vec4 openfl_ColorOffsetv;\n\t\tvarying vec2 openfl_TextureCoordv;\n\n\t\tuniform mat4 openfl_Matrix;\n\t\tuniform bool openfl_HasColorTransform;\n\t\tuniform vec2 openfl_TextureSize;\n\n\t\tvoid main(void) {\n\n\t\t\topenfl_Alphav = openfl_Alpha;\n\t\topenfl_TextureCoordv = openfl_TextureCoord;\n\n\t\tif (openfl_HasColorTransform) {\n\n\t\t\topenfl_ColorMultiplierv = openfl_ColorMultiplier;\n\t\t\topenfl_ColorOffsetv = openfl_ColorOffset / 255.0;\n\n\t\t}\n\n\t\tgl_Position = openfl_Matrix * openfl_Position;\n\n\t\t}"),Ze.call(this,e),this.__isGenerated=!0,this.__initGL()};k["openfl.display.GraphicsShader"]=Qo,Qo.__name__="openfl.display.GraphicsShader",Qo.__super__=Ze,Qo.prototype=x(Ze.prototype,{openfl_Alpha:null,openfl_ColorMultiplier:null,openfl_ColorOffset:null,openfl_Position:null,openfl_TextureCoord:null,openfl_Matrix:null,openfl_HasColorTransform:null,openfl_TextureSize:null,bitmap:null,__class__:Qo});var ur=function(e,i){this.shader=e,this.matrix=i,this.__graphicsDataType=8,this.__graphicsFillType=4};k["openfl.display.GraphicsShaderFill"]=ur,ur.__name__="openfl.display.GraphicsShaderFill",ur.__interfaces__=[ri,wg],ur.prototype={matrix:null,shader:null,__graphicsDataType:null,__graphicsFillType:null,__class__:ur};var Hl=function(e,i){null==i&&(i=1),null==e&&(e=0),this.alpha=i,this.color=e,this.__graphicsDataType=1,this.__graphicsFillType=0};k["openfl.display.GraphicsSolidFill"]=Hl,Hl.__name__="openfl.display.GraphicsSolidFill",Hl.__interfaces__=[ri,wg],Hl.prototype={alpha:null,color:null,__graphicsDataType:null,__graphicsFillType:null,__class__:Hl};var Hs=function(){};k["openfl.display.IGraphicsStroke"]=Hs,Hs.__name__="openfl.display.IGraphicsStroke",Hs.__isInterface__=!0;var Wo=function(e,i,s,n,o,l,_){null==l&&(l=3),null==o&&(o=2),null==n&&(n=0),null==s&&(s=2),null==i&&(i=!1),null==e&&(e=NaN),this.caps=n,this.fill=_,this.joints=o,this.miterLimit=l,this.pixelHinting=i,this.scaleMode=s,this.thickness=e,this.__graphicsDataType=0};k["openfl.display.GraphicsStroke"]=Wo,Wo.__name__="openfl.display.GraphicsStroke",Wo.__interfaces__=[Hs,wg],Wo.prototype={caps:null,fill:null,joints:null,miterLimit:null,pixelHinting:null,scaleMode:null,thickness:null,__graphicsDataType:null,__class__:Wo};var vr=function(e,i,s,n){null==n&&(n=1),this.vertices=e,this.indices=i,this.uvtData=s,this.culling=n,this.__graphicsDataType=7};k["openfl.display.GraphicsTrianglePath"]=vr,vr.__name__="openfl.display.GraphicsTrianglePath",vr.__interfaces__=[Xo,wg],vr.prototype={culling:null,indices:null,uvtData:null,vertices:null,__graphicsDataType:null,__class__:vr};var yj=function(){};k["openfl.display.ITileContainer"]=yj,yj.__name__="openfl.display.ITileContainer",yj.__isInterface__=!0,yj.prototype={get_numTiles:null,addTile:null,addTileAt:null,addTiles:null,contains:null,getTileAt:null,getTileIndex:null,removeTile:null,removeTileAt:null,removeTiles:null,setTileIndex:null,sortTiles:null,swapTiles:null,swapTilesAt:null,__class__:yj,__properties__:{get_numTiles:"get_numTiles"}};var hk={};k["openfl.display._InterpolationMethod.InterpolationMethod_Impl_"]=hk,hk.__name__="openfl.display._InterpolationMethod.InterpolationMethod_Impl_",hk.fromInt=function(e){return e},hk.fromString=function(e){switch(e){case"linearRGB":return 0;case"rgb":return 1;default:return null}},hk.toInt=function(e){return e},hk.toString=function(e){switch(e){case 0:return"linearRGB";case 1:return"rgb";default:return null}};var Oo=function(e){null==e&&(e=80),this.quality=e};k["openfl.display.JPEGEncoderOptions"]=Oo,Oo.__name__="openfl.display.JPEGEncoderOptions",Oo.prototype={quality:null,__class__:Oo};var mi={};k["openfl.display._JointStyle.JointStyle_Impl_"]=mi,mi.__name__="openfl.display._JointStyle.JointStyle_Impl_",mi.fromInt=function(e){return e},mi.fromString=function(e){switch(e){case"bevel":return 0;case"miter":return 1;case"round":return 2;default:return null}},mi.toInt=function(e){return e},mi.toString=function(e){switch(e){case 0:return"bevel";case 1:return"miter";case 2:return"round";default:return null}};var si={};k["openfl.display._LineScaleMode.LineScaleMode_Impl_"]=si,si.__name__="openfl.display._LineScaleMode.LineScaleMode_Impl_",si.fromInt=function(e){return e},si.fromString=function(e){switch(e){case"horizontal":return 0;case"none":return 1;case"normal":return 2;case"vertical":return 3;default:return null}},si.toInt=function(e){return e},si.toString=function(e){switch(e){case 0:return"horizontal";case 1:return"none";case 2:return"normal";case 3:return"vertical";default:return null}};var Vk=function(){Sa.call(this),this.contentLoaderInfo=Fg.create(this),this.uncaughtErrorEvents=this.contentLoaderInfo.uncaughtErrorEvents,this.__unloaded=!0};k["openfl.display.Loader"]=Vk,Vk.__name__="openfl.display.Loader",Vk.__super__=Sa,Vk.prototype=x(Sa.prototype,{content:null,contentLoaderInfo:null,uncaughtErrorEvents:null,__library:null,__path:null,__unloaded:null,addChild:function(e){throw new E(new Xc("Error #2069: The Loader class does not implement this method.",2069))},addChildAt:function(e,i){throw new E(new Xc("Error #2069: The Loader class does not implement this method.",2069))},close:function(){Sc.notImplemented({fileName:"openfl/display/Loader.hx",lineNumber:226,className:"openfl.display.Loader",methodName:"close"})},load:function(e,i){if(this.unload(),this.contentLoaderInfo.loaderURL=Ya.get_current().get_loaderInfo().url,this.contentLoaderInfo.url=e.url,this.__unloaded=!1,null==e.contentType||""==e.contentType){i="",this.__path=e.url;var s=this.__path.indexOf("?");for(-1<s&&(this.__path=this.__path.substring(0,s));aa.endsWith(this.__path,"/");)this.__path=this.__path.substring(0,this.__path.length-1);switch(aa.endsWith(this.__path,".bundle")&&(this.__path+="/library.json",e.url=-1<s?this.__path+e.url.substring(s):this.__path),-1<(s=this.__path.lastIndexOf("."))&&(i=this.__path.substring(s+1)),i){case"gif":i="image/gif";break;case"jpeg":case"jpg":i="image/jpeg";break;case"js":i="application/javascript";break;case"json":i="application/json";break;case"png":i="image/png";break;case"swf":i="application/x-shockwave-flash";break;default:i="application/x-www-form-urlencoded"}this.contentLoaderInfo.contentType=i}else this.contentLoaderInfo.contentType=e.contentType;-1<this.contentLoaderInfo.contentType.indexOf("image/")&&"GET"==e.method&&(null==e.requestHeaders||0==e.requestHeaders.length)&&null==e.userAgent?pa.loadFromFile(e.url).onComplete(r(this,this.BitmapData_onLoad)).onError(r(this,this.BitmapData_onError)).onProgress(r(this,this.BitmapData_onProgress)):((i=new Zg).dataFormat=0,(-1<this.contentLoaderInfo.contentType.indexOf("/json")||-1<this.contentLoaderInfo.contentType.indexOf("/javascript")||-1<this.contentLoaderInfo.contentType.indexOf("/ecmascript"))&&(i.dataFormat=1),i.addEventListener("complete",r(this,this.loader_onComplete)),i.addEventListener("ioError",r(this,this.loader_onError)),i.addEventListener("progress",r(this,this.loader_onProgress)),i.load(e))},loadBytes:function(e,i){pa.loadFromBytes(e).onComplete(r(this,this.BitmapData_onLoad)).onError(r(this,this.BitmapData_onError))},removeChild:function(e){throw new E(new Xc("Error #2069: The Loader class does not implement this method.",2069))},removeChildAt:function(e){throw new E(new Xc("Error #2069: The Loader class does not implement this method.",2069))},setChildIndex:function(e,i){throw new E(new Xc("Error #2069: The Loader class does not implement this method.",2069))},unload:function(){this.__unloaded||(null!=this.content&&this.content.parent==this&&Sa.prototype.removeChild.call(this,this.content),null!=this.__library&&(Ba.unloadLibrary(this.contentLoaderInfo.url),this.__library=null),this.content=null,this.contentLoaderInfo.url=null,this.contentLoaderInfo.contentType=null,this.contentLoaderInfo.content=null,this.contentLoaderInfo.bytesLoaded=0,this.contentLoaderInfo.bytesTotal=0,this.contentLoaderInfo.width=0,this.contentLoaderInfo.height=0,this.__unloaded=!0,this.contentLoaderInfo.dispatchEvent(new fa("unload")))},unloadAndStop:function(e){null!=this.content&&this.content.__stopAllMovieClips(),e=0;for(var i=this.get_numChildren();e<i;){var s=e++;this.getChildAt(s).__stopAllMovieClips()}this.unload()},__dispatchError:function(e){var i=new Xf("ioError");i.text=e,this.contentLoaderInfo.dispatchEvent(i)},__setContent:function(e,i,s){this.content=e,this.contentLoaderInfo.content=e,this.contentLoaderInfo.width=i,this.contentLoaderInfo.height=s,null!=e&&Sa.prototype.addChildAt.call(this,e,0)},BitmapData_onError:function(e){this.__dispatchError(O.string(e))},BitmapData_onLoad:function(e){null==e?this.__dispatchError("Unknown error"):(this.__setContent(new Uc(e),e.width,e.height),this.contentLoaderInfo.dispatchEvent(new fa("complete")))},BitmapData_onProgress:function(e,i){var s=new xg("progress");s.bytesLoaded=e,s.bytesTotal=i,this.contentLoaderInfo.dispatchEvent(s)},loader_onComplete:function(a){var b=this;if(a=a.target,null!=this.contentLoaderInfo.contentType&&-1<this.contentLoaderInfo.contentType.indexOf("/json")){var c=gd.parse(a.data,gi.directory(this.__path));if(null==c)this.__dispatchError("Cannot parse asset manifest");else{var d=Wb.fromManifest(c);null==d?this.__dispatchError("Cannot open library"):d instanceof kc&&d.load().onComplete(function(e){b.__library=d,Ba.registerLibrary(b.contentLoaderInfo.url,b.__library),null==c.name||Ba.hasLibrary(c.name)||Ba.registerLibrary(c.name,b.__library);var i=0|(e=b.__library.getMovieClip("")).get_width(),s=0|e.get_height();b.__setContent(e,i,s),b.contentLoaderInfo.dispatchEvent(new fa("complete"))}).onError(function(e){b.__dispatchError(e)})}}else null!=this.contentLoaderInfo.contentType&&(-1<this.contentLoaderInfo.contentType.indexOf("/javascript")||-1<this.contentLoaderInfo.contentType.indexOf("/ecmascript"))?(this.__setContent(new qa,0,0),eval("(function () {"+O.string(a.data)+"})()"),this.contentLoaderInfo.dispatchEvent(new fa("complete"))):(this.contentLoaderInfo.bytes=a.data,pa.loadFromBytes(a.data).onComplete(r(this,this.BitmapData_onLoad)).onError(r(this,this.BitmapData_onError)))},loader_onError:function(e){e.target=this.contentLoaderInfo,this.contentLoaderInfo.dispatchEvent(e)},loader_onProgress:function(e){e.target=this.contentLoaderInfo,this.contentLoaderInfo.dispatchEvent(e)},__class__:Vk});var Fg=function(){A.call(this),this.applicationDomain=ik.currentDomain,this.bytesTotal=this.bytesLoaded=0,this.childAllowsParent=!0,this.parameters={}};k["openfl.display.LoaderInfo"]=Fg,Fg.__name__="openfl.display.LoaderInfo",Fg.create=function(e){var i=new Fg;return i.uncaughtErrorEvents=new Zo,null!=e?i.loader=e:i.url=Fg.__rootURL,i},Fg.__super__=A,Fg.prototype=x(A.prototype,{applicationDomain:null,bytes:null,bytesLoaded:null,bytesTotal:null,childAllowsParent:null,content:null,contentType:null,frameRate:null,height:null,loader:null,loaderURL:null,parameters:null,parentAllowsChild:null,sameDomain:null,sharedEvents:null,uncaughtErrorEvents:null,url:null,width:null,__completed:null,__complete:function(){this.__completed||(this.bytesLoaded<this.bytesTotal&&(this.bytesLoaded=this.bytesTotal),this.__update(this.bytesLoaded,this.bytesTotal),this.__completed=!0,this.dispatchEvent(new fa("complete")))},__update:function(e,i){this.bytesLoaded=e,this.bytesTotal=i,this.dispatchEvent(new xg("progress",!1,!1,e,i))},__class__:Fg});var se=function(){if(qa.call(this),this.__currentFrame=1,this.__currentLabels=[],this.__instanceFields=[],this.__totalFrames=0,this.__enabled=!0,null!=se.__constructor){var e=se.__constructor;se.__constructor=null,e(this)}else null!=se.__initSymbol&&(this.__swf=se.__initSWF,this.__symbol=se.__initSymbol,se.__initSWF=null,se.__initSymbol=null,this.__fromSymbol(this.__swf,this.__symbol))};k["openfl.display.MovieClip"]=se,se.__name__="openfl.display.MovieClip",se.__super__=qa,se.prototype=x(qa.prototype,{__activeInstances:null,__activeInstancesByFrameObjectID:null,__currentFrame:null,__currentFrameLabel:null,__currentLabel:null,__currentLabels:null,__enabled:null,__frameScripts:null,__frameTime:null,__hasDown:null,__hasOver:null,__hasUp:null,__instanceFields:null,__lastFrameScriptEval:null,__lastFrameUpdate:null,__mouseIsDown:null,__playing:null,__swf:null,__symbol:null,__timeElapsed:null,__timeline:null,__totalFrames:null,addFrameScript:function(e,i){0>e||(null!=this.__timeline?this.__timeline.addFrameScript(e,i):(e+=1,null!=i?(null==this.__frameScripts&&(this.__frameScripts=new Va),this.__frameScripts.h[e]=i):null!=this.__frameScripts&&this.__frameScripts.remove(e)))},gotoAndPlay:function(e,i){null!=this.__timeline?this.__timeline.gotoAndPlay(e,i):(this.play(),this.__goto(this.__resolveFrameReference(e)))},gotoAndStop:function(e,i){null!=this.__timeline?this.__timeline.gotoAndStop(e,i):(this.stop(),this.__goto(this.__resolveFrameReference(e)))},nextFrame:function(){null!=this.__timeline?this.__timeline.nextFrame():(this.stop(),this.__goto(this.__currentFrame+1))},play:function(){null!=this.__timeline?this.__timeline.play():null==this.__symbol||this.__playing||2>this.__totalFrames||(this.__playing=!0,this.__frameTime=1e3/this.__swf.frameRate|0,this.__timeElapsed=0)},prevFrame:function(){null!=this.__timeline?this.__timeline.prevFrame():(this.stop(),this.__goto(this.__currentFrame-1))},stop:function(){null!=this.__timeline?this.__timeline.stop():this.__playing=!1},__enterFrame:function(e){null!=this.__timeline?this.__timeline.enterFrame(e):(this.__updateFrameScript(e),this.__updateSymbol(this.__currentFrame),qa.prototype.__enterFrame.call(this,e))},__updateFrameScript:function(e){if(null!=this.__symbol&&this.__playing){var i=this.__getNextFrame(e);if(this.__lastFrameScriptEval==i)qa.prototype.__enterFrame.call(this,e);else if(null!=this.__frameScripts){if(i<this.__currentFrame){if(!this.__evaluateFrameScripts(this.__totalFrames))return void qa.prototype.__enterFrame.call(this,e);this.__currentFrame=1}this.__evaluateFrameScripts(i)||qa.prototype.__enterFrame.call(this,e)}else this.__currentFrame=i}},__updateSymbol:function(e){if(null!=this.__symbol&&this.__currentFrame!=this.__lastFrameUpdate){this.__updateFrameLabel();for(var s,i=new Va,n=0;n<e;)if(s=n++,null!=(s=this.__symbol.frames[s]).objects)for(var o=0,l=s.objects;o<l.length;){var _=l[o];switch(++o,_.type._hx_index){case 0:null!=(s=this.__activeInstancesByFrameObjectID.h[_.id])&&(i.h[_.id]=s,this.__updateDisplayObject(s.displayObject,_,!0));break;case 1:null!=(s=i.h[_.id])&&null!=s.displayObject&&this.__updateDisplayObject(s.displayObject,_);break;case 2:i.remove(_.id)}}for(e=[],n=[],s=i.iterator();s.hasNext();)i=s.next(),-1==e.indexOf(i)&&(e.push(i),0<i.clipDepth&&n.push(i));for(e.sort(r(this,this.__sortDepths)),o=0,l=e.length;o<l;){_=o++;var h=this.__children[_];i=(s=e[_]).depth;var m=s.displayObject;for(h!=m?(s=m,this.addChildAt(m,_)):s=this.__children[_],_=!1,h=0;h<n.length;)if(m=n[h],++h,i>m.depth&&i<=m.clipDepth){s.set_mask(m.displayObject),_=!0;break}0<n.length&&!_&&null!=s.get_mask()&&s.set_mask(null)}for(n=e.length,s=this.__children.length;n<s;){for(e=this.__children[n],i=0,o=this.__activeInstances;i<o.length;)l=o[i],++i,l.displayObject==e&&(e instanceof se&&e.gotoAndPlay(1),this.removeChild(e),--n,--s);++n}this.__lastFrameUpdate=this.__currentFrame,this.__updateInstanceFields()}},__evaluateFrameScripts:function(e){var i=this.__currentFrame;for(e+=1;i<e;){var s=i++;if(s!=this.__lastFrameScriptEval&&(this.__currentFrame=this.__lastFrameScriptEval=s,this.__frameScripts.h.hasOwnProperty(s)&&(this.__updateSymbol(s),(0,this.__frameScripts.h[s])(),this.__currentFrame!=s)||!this.__playing))return!1}return!0},__fromSymbol:function(e,i){if(null==this.__activeInstances){this.__swf=e,this.__symbol=i,this.__activeInstances=[],this.__activeInstancesByFrameObjectID=new Va,this.__currentFrame=1,this.__lastFrameUpdate=this.__lastFrameScriptEval=-1,this.__totalFrames=this.__symbol.frames.length;for(var s=null,n=0,o=this.__symbol.frames.length;n<o;){var l=n++;if(e=l+1,null!=(i=this.__symbol.frames[l]).label&&this.__currentLabels.push(new yl(i.label,l+1)),null!=i.script)null==this.__frameScripts&&(this.__frameScripts=new Va),this.__frameScripts.h[e]=i.script;else if(null!=i.scriptSource){null==this.__frameScripts&&(this.__frameScripts=new Va);try{null==s&&((s=new hi).allowTypes=!0);var _=[s.parseString(i.scriptSource)],h=[new bo],m=h[0].variables;null!=t.this?m.setReserved("this",this):m.h.this=this;var f=h[0].variables;l=fa,null!=t["flash.events_Event"]?f.setReserved("flash.events_Event",l):f.h["flash.events_Event"]=l;var y=function(g,j){return function(){g[0].execute(j[0])}}(h,_);this.__frameScripts.h[e]=y}catch(g){ha.lastException=g,null!=this.__symbol.className?Ua.warn('Unable to evaluate frame script source for symbol "'+this.__symbol.className+'" frame '+e+"\n"+i.scriptSource,{fileName:"openfl/display/MovieClip.hx",lineNumber:744,className:"openfl.display.MovieClip",methodName:"__fromSymbol"}):Ua.warn("Unable to evaluate frame script source:\n"+i.scriptSource,{fileName:"openfl/display/MovieClip.hx",lineNumber:749,className:"openfl.display.MovieClip",methodName:"__fromSymbol"})}}}for(h=0,m=this.__totalFrames;h<m;)if(_=1+(f=h++),null!=(y=this.__symbol.frames[f]).objects)for(f=0,i=y.objects;f<i.length;)if(s=i[f],++f,s.type==tt.CREATE&&!this.__activeInstancesByFrameObjectID.h.hasOwnProperty(s.id)){for(y=null,e=!1,n=0,o=this.__activeInstances;n<o.length;)if(l=o[n],++n,null!=l.displayObject&&l.characterID==s.symbol&&l.depth==s.depth){y=l,e=!0;break}null==y&&null!=(n=this.__swf.symbols.h[s.symbol])&&null!=(n=n.__createObject(this.__swf))&&(n.parent=this,n.stage=this.stage,null!=this.stage&&n.dispatchEvent(new fa("addedToStage",!1,!1)),y=new wr(_,s.id,s.symbol,s.depth,n,s.clipDepth)),null!=y&&(this.__activeInstancesByFrameObjectID.h[s.id]=y,e||(this.__activeInstances.push(y),this.__updateDisplayObject(y.displayObject,s)))}1<this.__totalFrames&&this.play(),this.__enterFrame(0),this.__instanceFields=rb.getInstanceFields(T.getClass(this)),this.__updateInstanceFields()}},__getNextFrame:function(e){return this.__timeElapsed+=e,1>(e=this.__currentFrame+Math.floor(this.__timeElapsed/this.__frameTime))&&(e=1),e>this.__totalFrames&&(e=Math.floor((e-1)%this.__totalFrames)+1),this.__timeElapsed%=this.__frameTime,e},__goto:function(e){(null!=this.__timeline||null!=this.__symbol)&&(1>e?e=1:e>this.__totalFrames&&(e=this.__totalFrames),this.__currentFrame=e,this.__enterFrame(0))},__resolveFrameReference:function(e){if("number"==typeof e&&(0|e)===e)return e;if("string"==typeof e){for(var i=0,s=this.__currentLabels;i<s.length;){var n=s[i];if(++i,n.get_name()==e)return n.get_frame()}throw new E(new yi("Error #2109: Frame label "+e+" not found in scene."))}throw new E("Invalid type for frame "+e.__name__)},__sortDepths:function(e,i){return e.depth-i.depth},__stopAllMovieClips:function(){qa.prototype.__stopAllMovieClips.call(this),this.stop()},__tabTest:function(e){this.__enabled&&qa.prototype.__tabTest.call(this,e)},__updateDisplayObject:function(e,i,s){if(null==s&&(s=!1),null!=e){if(null!=i.name&&e.set_name(i.name),null!=i.matrix&&e.get_transform().set_matrix(i.matrix),null!=i.colorTransform?e.get_transform().set_colorTransform(i.colorTransform):s&&!e.get_transform().get_colorTransform().__isDefault(!0)&&e.get_transform().set_colorTransform(new Tb),e.set_transform(e.get_transform()),null!=i.filters){s=[];for(var n=0,o=i.filters;n<o.length;){var l=o[n];switch(++n,l._hx_index){case 0:s.push(new ug(l.blurX,l.blurY,l.quality));break;case 1:s.push(new Sf(l.matrix));break;case 2:s.push(new ji(l.distance,l.angle,l.color,l.alpha,l.blurX,l.blurY,l.strength,l.quality,l.inner,l.knockout,l.hideObject));break;case 3:s.push(new ee(l.color,l.alpha,l.blurX,l.blurY,l.strength,l.quality,l.inner,l.knockout))}}e.set_filters(s)}else e.set_filters(null);null!=i.visible&&e.set_visible(i.visible),null!=i.blendMode&&e.set_blendMode(i.blendMode),null!=i.cacheAsBitmap&&e.set_cacheAsBitmap(i.cacheAsBitmap)}},__updateFrameLabel:function(){if(this.__currentFrameLabel=this.__symbol.frames[this.__currentFrame-1].label,null!=this.__currentFrameLabel)this.__currentLabel=this.__currentFrameLabel;else{this.__currentLabel=null;for(var e=0,i=this.__currentLabels;e<i.length;){var s=i[e];if(++e,!(s.get_frame()<this.__currentFrame))break;this.__currentLabel=s.get_name()}}},__updateInstanceFields:function(){for(var e=0,i=this.__instanceFields;e<i.length;){var s=i[e];++e;for(var n=0,o=this.__children;n<o.length;){var l=o[n];if(++n,l.get_name()==s){this[s]=l;break}}}},__onMouseDown:function(e){this.__enabled&&this.__hasDown&&this.gotoAndStop("_down"),this.__mouseIsDown=!0,this.stage.addEventListener("mouseUp",r(this,this.__onMouseUp),!0)},__onMouseUp:function(e){this.__mouseIsDown=!1,null!=this.stage&&this.stage.removeEventListener("mouseUp",r(this,this.__onMouseUp)),e.target==this&&this.__enabled&&this.__hasOver?this.gotoAndStop("_over"):this.__enabled&&this.__hasUp&&this.gotoAndStop("_up")},__onRollOut:function(e){this.__enabled&&(this.__mouseIsDown&&this.__hasOver?this.gotoAndStop("_over"):this.__hasUp&&this.gotoAndStop("_up"))},__onRollOver:function(e){this.__enabled&&this.__hasOver&&this.gotoAndStop("_over")},set_buttonMode:function(e){if(this.__buttonMode!=e){if(e){this.__hasUp=this.__hasOver=this.__hasDown=!1;for(var i=0,s=this.__currentLabels;i<s.length;){var n=s[i];switch(++i,n.get_name()){case"_down":this.__hasDown=!0;break;case"_over":this.__hasOver=!0;break;case"_up":this.__hasUp=!0}}(this.__hasDown||this.__hasOver||this.__hasUp)&&(this.addEventListener("rollOver",r(this,this.__onRollOver)),this.addEventListener("rollOut",r(this,this.__onRollOut)),this.addEventListener("mouseDown",r(this,this.__onMouseDown)))}else this.removeEventListener("rollOver",r(this,this.__onRollOver)),this.removeEventListener("rollOut",r(this,this.__onRollOut)),this.removeEventListener("mouseDown",r(this,this.__onMouseDown));this.__buttonMode=e}return e},get_currentFrame:function(){return this.__currentFrame},get_currentFrameLabel:function(){return this.__currentFrameLabel},get_currentLabel:function(){return this.__currentLabel},get_currentLabels:function(){return this.__currentLabels},get_enabled:function(){return this.__enabled},set_enabled:function(e){return this.__enabled=e},get_framesLoaded:function(){return this.__totalFrames},get_isPlaying:function(){return this.__playing},get_totalFrames:function(){return this.__totalFrames},__class__:se,__properties__:x(qa.prototype.__properties__,{get_totalFrames:"get_totalFrames",get_isPlaying:"get_isPlaying",get_framesLoaded:"get_framesLoaded",set_enabled:"set_enabled",get_enabled:"get_enabled",get_currentLabels:"get_currentLabels",get_currentLabel:"get_currentLabel",get_currentFrameLabel:"get_currentFrameLabel",get_currentFrame:"get_currentFrame"})});var wr=function(e,i,s,n,o,l){this.initFrame=e,this.initFrameObjectID=i,this.characterID=s,this.depth=n,this.displayObject=o,this.clipDepth=l};k["openfl.display._MovieClip.FrameSymbolInstance"]=wr,wr.__name__="openfl.display._MovieClip.FrameSymbolInstance",wr.prototype={characterID:null,clipDepth:null,depth:null,displayObject:null,initFrame:null,initFrameObjectID:null,__class__:wr};var lr=function(e){null==e&&(e=!1),this.fastCompression=e};k["openfl.display.PNGEncoderOptions"]=lr,lr.__name__="openfl.display.PNGEncoderOptions",lr.prototype={fastCompression:null,__class__:lr};var Il={};k["openfl.display._PixelSnapping.PixelSnapping_Impl_"]=Il,Il.__name__="openfl.display._PixelSnapping.PixelSnapping_Impl_",Il.fromString=function(e){switch(e){case"always":return 0;case"auto":return 1;case"never":return 2;default:return null}},Il.toString=function(e){switch(e){case 0:return"always";case 1:return"auto";case 2:return"never";default:return null}};var xr=function(e){this.onComplete=new be,this.display=e,null!=e&&(e.addEventListener("unload",r(this,this.display_onUnload)),Ya.get_current().addChild(e))};k["openfl.display.Preloader"]=xr,xr.__name__="openfl.display.Preloader",xr.prototype={onComplete:null,complete:null,display:null,ready:null,start:function(){if(this.ready=!0,Ya.get_current().get_loaderInfo().__complete(),null!=this.display){var e=new fa("complete",!0,!0);this.display.dispatchEvent(e),e.isDefaultPrevented()||this.display.dispatchEvent(new fa("unload"))}else this.complete||(this.complete=!0,this.onComplete.dispatch())},update:function(e,i){Ya.get_current().get_loaderInfo().__update(e,i),null!=this.display&&this.display.dispatchEvent(new xg("progress",!0,!0,e,i))},display_onUnload:function(e){null!=this.display&&(this.display.removeEventListener("unload",r(this,this.display_onUnload)),this.display.parent==Ya.get_current()&&Ya.get_current().removeChild(this.display),Ya.get_current().stage.set_focus(null),this.display=null),this.ready&&!this.complete&&(this.complete=!0,this.onComplete.dispatch())},__class__:xr};var $o=function(){qa.call(this);var e=this.getBackgroundColor(),i=0;70>.299*(e>>16&255)+.587*(e>>8&255)+.114*(255&e)&&(i=16777215),e=this.getHeight()/2-3.5;var s=this.getWidth()-60;this.outline=new qa,this.outline.get_graphics().beginFill(i,.07),this.outline.get_graphics().drawRect(0,0,s,7),this.outline.set_x(30),this.outline.set_y(e),this.outline.set_alpha(0),this.addChild(this.outline),this.progress=new qa,this.progress.get_graphics().beginFill(i,.35),this.progress.get_graphics().drawRect(0,0,s-4,3),this.progress.set_x(32),this.progress.set_y(e+2),this.progress.set_scaleX(0),this.progress.set_alpha(0),this.addChild(this.progress),this.startAnimation=Ya.getTimer()+100,this.endAnimation=this.startAnimation+1e3,this.addEventListener("addedToStage",r(this,this.this_onAddedToStage))};k["openfl.display.DefaultPreloader"]=$o,$o.__name__="openfl.display.DefaultPreloader",$o.__super__=qa,$o.prototype=x(qa.prototype,{endAnimation:null,outline:null,progress:null,startAnimation:null,getBackgroundColor:function(){var e=Ya.get_current().stage.window.context.attributes;return Object.prototype.hasOwnProperty.call(e,"background")&&null!=e.background?e.background:0},getHeight:function(){var e=Ya.get_current().stage.window.__height;return 0<e?e:Ya.get_current().stage.stageHeight},getWidth:function(){var e=Ya.get_current().stage.window.__width;return 0<e?e:Ya.get_current().stage.stageWidth},onInit:function(){this.addEventListener("enterFrame",r(this,this.this_onEnterFrame))},onLoaded:function(){this.removeEventListener("enterFrame",r(this,this.this_onEnterFrame)),this.dispatchEvent(new fa("unload"))},onUpdate:function(e,i){var s=0;0<i&&1<(s=e/i)&&(s=1),this.progress.set_scaleX(s)},this_onAddedToStage:function(e){this.removeEventListener("addedToStage",r(this,this.this_onAddedToStage)),this.onInit(),this.onUpdate(this.get_loaderInfo().bytesLoaded,this.get_loaderInfo().bytesTotal),this.addEventListener("progress",r(this,this.this_onProgress)),this.addEventListener("complete",r(this,this.this_onComplete))},this_onComplete:function(e){e.preventDefault(),this.removeEventListener("progress",r(this,this.this_onProgress)),this.removeEventListener("complete",r(this,this.this_onComplete)),this.onLoaded()},this_onEnterFrame:function(e){0>(e=(Ya.getTimer()-this.startAnimation)/(this.endAnimation-this.startAnimation))&&(e=0),1<e&&(e=1),this.outline.set_alpha(e),this.progress.set_alpha(e)},this_onProgress:function(e){this.onUpdate(0|e.bytesLoaded,0|e.bytesTotal)},__class__:$o});var jr={};k["openfl.display._ShaderData.ShaderData_Impl_"]=jr,jr.__name__="openfl.display._ShaderData.ShaderData_Impl_",jr._new=function(e){return{}};var Mo=function(){this.channels=0,this.filter=5,this.index=this.height=0,this.mipFilter=2,this.wrap=this.width=0};k["openfl.display.ShaderInput"]=Mo,Mo.__name__="openfl.display.ShaderInput",Mo.prototype={channels:null,filter:null,height:null,index:null,input:null,mipFilter:null,name:null,width:null,wrap:null,__isUniform:null,__disableGL:function(e,i){e.setTextureAt(i,null)},__updateGL:function(e,i,s,n,o,l){n=n??this.filter,o=o??this.mipFilter,l=l??this.wrap,null!=(s=s??this.input)?(e.setTextureAt(i,s.getTexture(e)),e.setSamplerStateAt(i,l,n,o)):e.setTextureAt(i,null)},__class__:Mo};var ak=function(){this.index=0};k["openfl.display.ShaderParameter"]=ak,ak.__name__="openfl.display.ShaderParameter",ak.prototype={index:null,name:null,type:null,value:null,__arrayLength:null,__internal:null,__isBool:null,__isFloat:null,__isInt:null,__isUniform:null,__length:null,__uniformMatrix:null,__useArray:null,__disableGL:function(e){if(e=e.gl,!this.__isUniform)for(var i=0,s=this.__arrayLength;i<s;){var n=i++;e.disableVertexAttribArray(this.index+n)}},__updateGL:function(e,i){e=e.gl,i=i??this.value;var s=this.__isBool?i:null,n=this.__isFloat?i:null,o=this.__isInt?i:null;if(this.__isUniform)if(null!=i&&i.length>=this.__length)switch(this.type){case 0:e.uniform1i(this.index,s[0]?1:0);break;case 1:e.uniform2i(this.index,s[0]?1:0,s[1]?1:0);break;case 2:e.uniform3i(this.index,s[0]?1:0,s[1]?1:0,s[2]?1:0);break;case 3:e.uniform4i(this.index,s[0]?1:0,s[1]?1:0,s[2]?1:0,s[3]?1:0);break;case 4:e.uniform1f(this.index,n[0]);break;case 5:e.uniform2f(this.index,n[0],n[1]);break;case 6:e.uniform3f(this.index,n[0],n[1],n[2]);break;case 7:e.uniform4f(this.index,n[0],n[1],n[2],n[3]);break;case 8:e.uniform1i(this.index,o[0]);break;case 9:e.uniform2i(this.index,o[0],o[1]);break;case 10:e.uniform3i(this.index,o[0],o[1],o[2]);break;case 11:e.uniform4i(this.index,o[0],o[1],o[2],o[3]);break;case 12:this.__uniformMatrix[0]=n[0],this.__uniformMatrix[1]=n[1],this.__uniformMatrix[2]=n[2],this.__uniformMatrix[3]=n[3],zb.uniformMatrix2fv(e,this.index,!1,this.__uniformMatrix);break;case 16:this.__uniformMatrix[0]=n[0],this.__uniformMatrix[1]=n[1],this.__uniformMatrix[2]=n[2],this.__uniformMatrix[3]=n[3],this.__uniformMatrix[4]=n[4],this.__uniformMatrix[5]=n[5],this.__uniformMatrix[6]=n[6],this.__uniformMatrix[7]=n[7],this.__uniformMatrix[8]=n[8],zb.uniformMatrix3fv(e,this.index,!1,this.__uniformMatrix);break;case 20:this.__uniformMatrix[0]=n[0],this.__uniformMatrix[1]=n[1],this.__uniformMatrix[2]=n[2],this.__uniformMatrix[3]=n[3],this.__uniformMatrix[4]=n[4],this.__uniformMatrix[5]=n[5],this.__uniformMatrix[6]=n[6],this.__uniformMatrix[7]=n[7],this.__uniformMatrix[8]=n[8],this.__uniformMatrix[9]=n[9],this.__uniformMatrix[10]=n[10],this.__uniformMatrix[11]=n[11],this.__uniformMatrix[12]=n[12],this.__uniformMatrix[13]=n[13],this.__uniformMatrix[14]=n[14],this.__uniformMatrix[15]=n[15],zb.uniformMatrix4fv(e,this.index,!1,this.__uniformMatrix)}else switch(this.type){case 1:case 9:e.uniform2i(this.index,0,0);break;case 3:case 11:e.uniform4i(this.index,0,0,0,0);break;case 4:e.uniform1f(this.index,0);break;case 5:e.uniform2f(this.index,0,0);break;case 6:e.uniform3f(this.index,0,0,0);break;case 7:e.uniform4f(this.index,0,0,0,0);break;case 0:case 8:e.uniform1i(this.index,0);break;case 2:case 10:e.uniform3i(this.index,0,0,0);break;case 12:this.__uniformMatrix[0]=0,this.__uniformMatrix[1]=0,this.__uniformMatrix[2]=0,this.__uniformMatrix[3]=0,zb.uniformMatrix2fv(e,this.index,!1,this.__uniformMatrix);break;case 16:this.__uniformMatrix[0]=0,this.__uniformMatrix[1]=0,this.__uniformMatrix[2]=0,this.__uniformMatrix[3]=0,this.__uniformMatrix[4]=0,this.__uniformMatrix[5]=0,this.__uniformMatrix[6]=0,this.__uniformMatrix[7]=0,this.__uniformMatrix[8]=0,zb.uniformMatrix3fv(e,this.index,!1,this.__uniformMatrix);break;case 20:this.__uniformMatrix[0]=0,this.__uniformMatrix[1]=0,this.__uniformMatrix[2]=0,this.__uniformMatrix[3]=0,this.__uniformMatrix[4]=0,this.__uniformMatrix[5]=0,this.__uniformMatrix[6]=0,this.__uniformMatrix[7]=0,this.__uniformMatrix[8]=0,this.__uniformMatrix[9]=0,this.__uniformMatrix[10]=0,this.__uniformMatrix[11]=0,this.__uniformMatrix[12]=0,this.__uniformMatrix[13]=0,this.__uniformMatrix[14]=0,this.__uniformMatrix[15]=0,zb.uniformMatrix4fv(e,this.index,!1,this.__uniformMatrix)}else if(this.__useArray||null!=i&&i.length!=this.__length)for(i=0,s=this.__arrayLength;i<s;)n=i++,e.enableVertexAttribArray(this.index+n);else{for(var l=0,_=this.__arrayLength;l<_;){var h=l++;e.disableVertexAttribArray(this.index+h)}if(null!=i)switch(this.type){case 0:e.vertexAttrib1f(this.index,s[0]?1:0);break;case 1:e.vertexAttrib2f(this.index,s[0]?1:0,s[1]?1:0);break;case 2:e.vertexAttrib3f(this.index,s[0]?1:0,s[1]?1:0,s[2]?1:0);break;case 3:e.vertexAttrib4f(this.index,s[0]?1:0,s[1]?1:0,s[2]?1:0,s[3]?1:0);break;case 4:e.vertexAttrib1f(this.index,n[0]);break;case 5:e.vertexAttrib2f(this.index,n[0],n[1]);break;case 6:e.vertexAttrib3f(this.index,n[0],n[1],n[2]);break;case 7:e.vertexAttrib4f(this.index,n[0],n[1],n[2],n[3]);break;case 8:e.vertexAttrib1f(this.index,o[0]);break;case 9:e.vertexAttrib2f(this.index,o[0],o[1]);break;case 10:e.vertexAttrib3f(this.index,o[0],o[1],o[2]);break;case 11:e.vertexAttrib4f(this.index,o[0],o[1],o[2],o[3]);break;case 12:e.vertexAttrib2f(this.index+0,n[0],n[1]),e.vertexAttrib2f(this.index+1,n[2],n[3]);break;case 16:e.vertexAttrib3f(this.index+0,n[0],n[1],n[2]),e.vertexAttrib3f(this.index+1,n[3],n[4],n[5]),e.vertexAttrib3f(this.index+2,n[6],n[7],n[8]);break;case 20:e.vertexAttrib4f(this.index+0,n[0],n[1],n[2],n[3]),e.vertexAttrib4f(this.index+1,n[4],n[5],n[6],n[7]),e.vertexAttrib4f(this.index+2,n[8],n[9],n[10],n[11]),e.vertexAttrib4f(this.index+3,n[12],n[13],n[14],n[15])}else switch(this.type){case 1:case 5:case 9:e.vertexAttrib2f(this.index,0,0);break;case 3:case 7:case 11:e.vertexAttrib4f(this.index,0,0,0,0);break;case 0:case 4:case 8:e.vertexAttrib1f(this.index,0);break;case 2:case 6:case 10:e.vertexAttrib3f(this.index,0,0,0);break;case 12:e.vertexAttrib2f(this.index+0,0,0),e.vertexAttrib2f(this.index+1,0,0);break;case 16:e.vertexAttrib3f(this.index+0,0,0,0),e.vertexAttrib3f(this.index+1,0,0,0),e.vertexAttrib3f(this.index+2,0,0,0);break;case 20:e.vertexAttrib4f(this.index+0,0,0,0,0),e.vertexAttrib4f(this.index+1,0,0,0,0),e.vertexAttrib4f(this.index+2,0,0,0,0),e.vertexAttrib4f(this.index+3,0,0,0,0)}}},__updateGLFromBuffer:function(e,i,s,n,o){if(e=e.gl,this.__isUniform){if(n>=this.__length)switch(this.type){case 1:case 9:e.uniform2i(this.index,0|i[s],0|i[s+1]);break;case 3:case 11:e.uniform4i(this.index,0|i[s],0|i[s+1],0|i[s+2],0|i[s+3]);break;case 4:e.uniform1f(this.index,i[s]);break;case 5:e.uniform2f(this.index,i[s],i[s+1]);break;case 6:e.uniform3f(this.index,i[s],i[s+1],i[s+2]);break;case 7:e.uniform4f(this.index,i[s],i[s+1],i[s+2],i[s+3]);break;case 0:case 8:e.uniform1i(this.index,0|i[s]);break;case 2:case 10:e.uniform3i(this.index,0|i[s],0|i[s+1],0|i[s+2]);break;case 12:this.__uniformMatrix[0]=i[s],this.__uniformMatrix[1]=i[s+1],this.__uniformMatrix[2]=i[s+2],this.__uniformMatrix[3]=i[s+3],zb.uniformMatrix2fv(e,this.index,!1,this.__uniformMatrix);break;case 16:this.__uniformMatrix[0]=i[s],this.__uniformMatrix[1]=i[s+1],this.__uniformMatrix[2]=i[s+2],this.__uniformMatrix[3]=i[s+3],this.__uniformMatrix[4]=i[s+4],this.__uniformMatrix[5]=i[s+5],this.__uniformMatrix[6]=i[s+6],this.__uniformMatrix[7]=i[s+7],this.__uniformMatrix[8]=i[s+8],zb.uniformMatrix3fv(e,this.index,!1,this.__uniformMatrix);break;case 20:this.__uniformMatrix[0]=i[s],this.__uniformMatrix[1]=i[s+1],this.__uniformMatrix[2]=i[s+2],this.__uniformMatrix[3]=i[s+3],this.__uniformMatrix[4]=i[s+4],this.__uniformMatrix[5]=i[s+5],this.__uniformMatrix[6]=i[s+6],this.__uniformMatrix[7]=i[s+7],this.__uniformMatrix[8]=i[s+8],this.__uniformMatrix[9]=i[s+9],this.__uniformMatrix[10]=i[s+10],this.__uniformMatrix[11]=i[s+11],this.__uniformMatrix[12]=i[s+12],this.__uniformMatrix[13]=i[s+13],this.__uniformMatrix[14]=i[s+14],this.__uniformMatrix[15]=i[s+15],zb.uniformMatrix4fv(e,this.index,!1,this.__uniformMatrix)}}else if(this.__internal||0!=n&&n!=this.__length){i=e.FLOAT,(this.__isBool||this.__isInt)&&(i=e.INT);for(var l=0,_=this.__arrayLength;l<_;){var h=l++;e.enableVertexAttribArray(this.index+h)}if(0<n)for(n=0,l=this.__arrayLength;n<l;)_=n++,e.vertexAttribPointer(this.index+_,this.__length,i,!1,4*this.__length,4*(s+o*this.__length+_*this.__arrayLength))}else{for(o=0,l=this.__arrayLength;o<l;)_=o++,e.disableVertexAttribArray(this.index+_);if(0<n)switch(this.type){case 1:case 5:case 9:e.vertexAttrib2f(this.index,i[s],i[s+1]);break;case 3:case 7:case 11:e.vertexAttrib4f(this.index,i[s],i[s+1],i[s+2],i[s+3]);break;case 0:case 4:case 8:e.vertexAttrib1f(this.index,i[s]);break;case 2:case 6:case 10:e.vertexAttrib3f(this.index,i[s],i[s+1],i[s+2]);break;case 12:e.vertexAttrib2f(this.index+0,i[s],i[s+1]),e.vertexAttrib2f(this.index+1,i[s+2],i[s+2+1]);break;case 16:e.vertexAttrib3f(this.index+0,i[s],i[s+1],i[s+2]),e.vertexAttrib3f(this.index+1,i[s+3],i[s+3+1],i[s+3+2]),e.vertexAttrib3f(this.index+2,i[s+6],i[s+6+1],i[s+6+2]);break;case 20:e.vertexAttrib4f(this.index+0,i[s],i[s+1],i[s+2],i[s+3]),e.vertexAttrib4f(this.index+1,i[s+4],i[s+4+1],i[s+4+2],i[s+4+3]),e.vertexAttrib4f(this.index+2,i[s+8],i[s+8+1],i[s+8+2],i[s+8+3]),e.vertexAttrib4f(this.index+3,i[s+12],i[s+12+1],i[s+12+2],i[s+12+3])}else switch(this.type){case 1:case 5:case 9:e.vertexAttrib2f(this.index,0,0);break;case 3:case 7:case 11:e.vertexAttrib4f(this.index,0,0,0,0);break;case 0:case 4:case 8:e.vertexAttrib1f(this.index,0);break;case 2:case 6:case 10:e.vertexAttrib3f(this.index,0,0,0);break;case 12:e.vertexAttrib2f(this.index+0,0,0),e.vertexAttrib2f(this.index+1,0,0);break;case 16:e.vertexAttrib3f(this.index+0,0,0,0),e.vertexAttrib3f(this.index+1,0,0,0),e.vertexAttrib3f(this.index+2,0,0,0);break;case 20:e.vertexAttrib4f(this.index+0,0,0,0,0),e.vertexAttrib4f(this.index+1,0,0,0,0),e.vertexAttrib4f(this.index+2,0,0,0,0),e.vertexAttrib4f(this.index+3,0,0,0,0)}}},set_name:function(e){return this.__internal=aa.startsWith(e,"openfl_"),this.name=e},__class__:ak,__properties__:{set_name:"set_name"}};var me={};k["openfl.display._ShaderParameterType.ShaderParameterType_Impl_"]=me,me.__name__="openfl.display._ShaderParameterType.ShaderParameterType_Impl_",me.fromString=function(e){switch(e){case"bool":return 0;case"bool2":case"bool3":case"bool4":return 1;case"float":return 4;case"float2":return 5;case"float3":return 6;case"float4":return 7;case"int":return 8;case"int2":return 9;case"int3":return 10;case"int4":return 11;case"matrix2x2":return 12;case"matrix2x3":return 13;case"matrix2x4":return 14;case"matrix3x2":return 15;case"matrix3x3":return 16;case"matrix3x4":return 17;case"matrix4x2":return 18;case"matrix4x3":return 19;case"matrix4x4":return 20;default:return null}},me.toString=function(e){switch(e){case 0:return"bool";case 1:return"bool2";case 2:return"bool3";case 3:return"bool4";case 4:return"float";case 5:return"float2";case 6:return"float3";case 7:return"float4";case 8:return"int";case 9:return"int2";case 10:return"int3";case 11:return"int4";case 12:return"matrix2x2";case 13:return"matrix2x3";case 14:return"matrix2x4";case 15:return"matrix3x2";case 16:return"matrix3x3";case 17:return"matrix3x4";case 18:return"matrix4x2";case 19:return"matrix4x3";case 20:return"matrix4x4";default:return null}};var ap={};k["openfl.display._ShaderPrecision.ShaderPrecision_Impl_"]=ap,ap.__name__="openfl.display._ShaderPrecision.ShaderPrecision_Impl_",ap.fromString=function(e){switch(e){case"fast":return 0;case"full":return 1;default:return null}},ap.toString=function(e){switch(e){case 0:return"fast";case 1:return"full";default:return null}};var Pe=function(){ya.call(this),this.__type=Oh.SHAPE};k["openfl.display.Shape"]=Pe,Pe.__name__="openfl.display.Shape",Pe.__super__=ya,Pe.prototype=x(ya.prototype,{get_graphics:function(){return null==this.__graphics&&(this.__graphics=new lf(this)),this.__graphics},__class__:Pe,__properties__:x(ya.prototype.__properties__,{get_graphics:"get_graphics"})});var sf=function(e,i,s,n){Pa.call(this),this.__type=Oh.SIMPLE_BUTTON,this.enabled=!0,this.trackAsMenu=!1,this.useHandCursor=!0,this.__upState=e??new ya,this.__overState=i,this.__downState=s,this.set_hitTestState(n??new ya),this.addEventListener("mouseDown",r(this,this.__this_onMouseDown)),this.addEventListener("mouseOut",r(this,this.__this_onMouseOut)),this.addEventListener("mouseOver",r(this,this.__this_onMouseOver)),this.addEventListener("mouseUp",r(this,this.__this_onMouseUp)),this.__tabEnabled=!0,this.set___currentState(this.__upState),null!=sf.__constructor?(e=sf.__constructor,sf.__constructor=null,e(this)):null!=sf.__initSymbol&&(e=sf.__initSWF,this.__symbol=sf.__initSymbol,sf.__initSWF=null,sf.__initSymbol=null,this.__fromSymbol(e,this.__symbol))};k["openfl.display.SimpleButton"]=sf,sf.__name__="openfl.display.SimpleButton",sf.__super__=Pa,sf.prototype=x(Pa.prototype,{enabled:null,trackAsMenu:null,useHandCursor:null,__currentState:null,__downState:null,__hitTestState:null,__ignoreEvent:null,__overState:null,__previousStates:null,__soundTransform:null,__symbol:null,__upState:null,__fromSymbol:function(e,i){this.__symbol=i,null!=i.downState&&this.set_downState(i.downState.__createObject(e)),null!=i.hitState&&this.set_hitTestState(i.hitState.__createObject(e)),null!=i.overState&&this.set_overState(i.overState.__createObject(e)),null!=i.upState&&this.set_upState(i.upState.__createObject(e))},__getBounds:function(e,i){Pa.prototype.__getBounds.call(this,e,i);var s=Fa.__pool.get(),n=this.__currentState.__transform;s.a=n.a*i.a+n.b*i.c,s.b=n.a*i.b+n.b*i.d,s.c=n.c*i.a+n.d*i.c,s.d=n.c*i.b+n.d*i.d,s.tx=n.tx*i.a+n.ty*i.c+i.tx,s.ty=n.tx*i.b+n.ty*i.d+i.ty,this.__currentState.__getBounds(e,s),Fa.__pool.release(s)},__getRenderBounds:function(e,i){if(null!=this.__scrollRect)Pa.prototype.__getRenderBounds.call(this,e,i);else{Pa.prototype.__getBounds.call(this,e,i);var s=Fa.__pool.get(),n=this.__currentState.__transform;s.a=n.a*i.a+n.b*i.c,s.b=n.a*i.b+n.b*i.d,s.c=n.c*i.a+n.d*i.c,s.d=n.c*i.b+n.d*i.d,s.tx=n.tx*i.a+n.ty*i.c+i.tx,s.ty=n.tx*i.b+n.ty*i.d+i.ty,this.__currentState.__getRenderBounds(e,s),Fa.__pool.release(s)}},__getCursor:function(){return this.useHandCursor&&!this.__ignoreEvent&&this.enabled?"button":null},__hitTest:function(e,i,s,n,o,l){var _=!1;if(null!=this.get_hitTestState())this.get_hitTestState().__hitTest(e,i,s,n,o,l)&&(null!=n&&(0==n.length?n[0]=l:n[n.length-1]=l),_=!o||this.mouseEnabled);else if(null!=this.__currentState){if(!l.get_visible()||this.__isMask||o&&!this.mouseEnabled||null!=this.get_mask()&&!this.get_mask().__hitTestMask(e,i))return!1;this.__currentState.__hitTest(e,i,s,n,o,l)&&(_=o)}if(null!=n)for(;1<n.length&&n[n.length-1]==n[n.length-2];)n.pop();return _},__hitTestMask:function(e,i){var s=!1;return this.__currentState.__hitTestMask(e,i)&&(s=!0),s},__setStageReference:function(e){Pa.prototype.__setStageReference.call(this,e),null!=this.__currentState&&this.__currentState.__setStageReference(e),null!=this.get_hitTestState()&&this.get_hitTestState()!=this.__currentState&&this.get_hitTestState().__setStageReference(e)},__setTransformDirty:function(){Pa.prototype.__setTransformDirty.call(this),null!=this.__currentState&&this.__currentState.__setTransformDirty(),null!=this.get_hitTestState()&&this.get_hitTestState()!=this.__currentState&&this.get_hitTestState().__setTransformDirty()},__update:function(e,i){Pa.prototype.__update.call(this,e,i),i&&(null!=this.__currentState&&this.__currentState.__update(e,!0),null!=this.get_hitTestState()&&this.get_hitTestState()!=this.__currentState&&this.get_hitTestState().__update(e,!0))},__updateTransforms:function(e){Pa.prototype.__updateTransforms.call(this,e),null!=this.__currentState&&this.__currentState.__updateTransforms(),null!=this.get_hitTestState()&&this.get_hitTestState()!=this.__currentState&&this.get_hitTestState().__updateTransforms()},get_downState:function(){return this.__downState},set_downState:function(e){return null!=this.__downState&&this.__currentState==this.__downState&&this.set___currentState(this.__downState),this.__downState=e},get_hitTestState:function(){return this.__hitTestState},set_hitTestState:function(e){return null!=this.__hitTestState&&this.__hitTestState!=e&&this.__hitTestState!=this.get_downState()&&this.__hitTestState!=this.get_upState()&&this.__hitTestState!=this.get_overState()&&(this.__hitTestState.__renderParent=null),null!=e&&(e.__renderParent=this,e.__renderDirty||(e.__renderDirty=!0,e.__setParentRenderDirty())),this.__hitTestState=e},get_overState:function(){return this.__overState},set_overState:function(e){return null!=this.__overState&&this.__currentState==this.__overState&&this.set___currentState(e),this.__overState=e},get_soundTransform:function(){return null==this.__soundTransform&&(this.__soundTransform=new Tf),new Tf(this.__soundTransform.volume,this.__soundTransform.pan)},set_soundTransform:function(e){return this.__soundTransform=new Tf(e.volume,e.pan),e},get_upState:function(){return this.__upState},set_upState:function(e){return null!=this.__upState&&this.__currentState==this.__upState&&this.set___currentState(e),this.__upState=e},set___currentState:function(e){if(null!=this.__currentState&&this.__currentState!=this.get_hitTestState()&&(this.__currentState.__renderParent=null),null!=e&&null!=e.parent&&e.parent.removeChild(e),ya.__supportDOM&&null==this.__previousStates&&(this.__previousStates=La.toObjectVector(null)),e!=this.__currentState){if(ya.__supportDOM){null!=this.__currentState&&(this.__currentState.__setStageReference(null),this.__previousStates.push(this.__currentState));var i=this.__previousStates.indexOf(e,0);-1<i&&this.__previousStates.splice(i,1)}null!=e&&(e.__renderParent=this,e.__renderDirty||(e.__renderDirty=!0,e.__setParentRenderDirty())),this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())}return this.__currentState=e},__this_onMouseDown:function(e){this.enabled&&this.set___currentState(this.get_downState())},__this_onMouseOut:function(e){this.__ignoreEvent=!1,this.get_upState()!=this.__currentState&&this.set___currentState(this.get_upState())},__this_onMouseOver:function(e){e.buttonDown&&(this.__ignoreEvent=!0),this.get_overState()!=this.__currentState&&null!=this.get_overState()&&!this.__ignoreEvent&&this.enabled&&this.set___currentState(this.get_overState())},__this_onMouseUp:function(e){this.__ignoreEvent=!1,this.enabled&&null!=this.get_overState()?this.set___currentState(this.get_overState()):this.set___currentState(this.get_upState())},__class__:sf,__properties__:x(Pa.prototype.__properties__,{set___currentState:"set___currentState",set_upState:"set_upState",get_upState:"get_upState",set_soundTransform:"set_soundTransform",get_soundTransform:"get_soundTransform",set_overState:"set_overState",get_overState:"get_overState",set_hitTestState:"set_hitTestState",get_hitTestState:"get_hitTestState",set_downState:"set_downState",get_downState:"get_downState"})});var dj={};k["openfl.display._SpreadMethod.SpreadMethod_Impl_"]=dj,dj.__name__="openfl.display._SpreadMethod.SpreadMethod_Impl_",dj.fromInt=function(e){return e},dj.fromString=function(e){switch(e){case"pad":return 0;case"reflect":return 1;case"repeat":return 2;default:return null}},dj.toInt=function(e){return e},dj.toString=function(e){switch(e){case 0:return"pad";case 1:return"reflect";case 2:return"repeat";default:return null}};var jk=function(e,i){Sa.call(this),this.set_name(null),this.__color=-1,this.__colorSplit=[255,255,255],this.__colorString="#FFFFFF",this.__contentsScaleFactor=1,this.__deltaTime=this.__currentTabOrderIndex=0,this.__displayState=2,this.__logicalHeight=this.__logicalWidth=this.__lastClickTime=this.__mouseY=this.__mouseX=0,this.__displayMatrix=new Fa,this.__displayRect=new ia,this.__renderDirty=!0,this.stage3Ds=La.toObjectVector(null),this.stage3Ds.push(new ej(this)),this.stage3Ds.push(new ej(this)),this.stage3Ds.push(new ej(this)),this.stage3Ds.push(new ej(this)),this.stage=this,this.align=6,this.allowsFullScreenInteractive=this.allowsFullScreen=!0,this.__quality=1,this.__scaleMode=2,this.showDefaultContextMenu=!0,this.softKeyboardRect=new ia,this.stageFocusRect=!0,this.__macKeyboard=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent)||/Mac/.test(navigator.platform),this.__clearBeforeRender=!0,this.__forceRender=!1,this.__stack=[],this.__rollOutStack=[],this.__mouseOutStack=[],this.__touchData=new Va,this.application=e.application,this.window=e,this.set_color(i),this.__contentsScaleFactor=e.__scale,this.__wasFullscreen=e.__fullscreen,this.__resize(),null==Ya.get_current().stage&&this.stage.addChild(Ya.get_current())};k["openfl.display.Stage"]=jk,jk.__name__="openfl.display.Stage",jk.__interfaces__=[fl],jk.__super__=Sa,jk.prototype=x(Sa.prototype,{align:null,allowsFullScreen:null,allowsFullScreenInteractive:null,application:null,context3D:null,showDefaultContextMenu:null,softKeyboardRect:null,stage3Ds:null,stageFocusRect:null,stageHeight:null,stageWidth:null,window:null,__cacheFocus:null,__clearBeforeRender:null,__color:null,__colorSplit:null,__colorString:null,__contentsScaleFactor:null,__currentTabOrderIndex:null,__deltaTime:null,__dirty:null,__displayMatrix:null,__displayRect:null,__displayState:null,__dragBounds:null,__dragObject:null,__dragOffsetX:null,__dragOffsetY:null,__focus:null,__forceRender:null,__fullscreen:null,__fullScreenSourceRect:null,__invalidated:null,__lastClickTime:null,__logicalWidth:null,__logicalHeight:null,__macKeyboard:null,__mouseDownLeft:null,__mouseDownMiddle:null,__mouseDownRight:null,__mouseOutStack:null,__mouseOverTarget:null,__mouseX:null,__mouseY:null,__pendingMouseEvent:null,__pendingMouseX:null,__pendingMouseY:null,__quality:null,__renderer:null,__rendering:null,__rollOutStack:null,__scaleMode:null,__stack:null,__touchData:null,__transparent:null,__wasDirty:null,__wasFullscreen:null,__primaryTouch:null,invalidate:function(){this.__renderDirty=this.__invalidated=!0},localToGlobal:function(e){return e.clone()},__broadcastEvent:function(e){var i=e.type,s=ya.__broadcastEvents;if(null!=t[i]?s.existsReserved(i):s.h.hasOwnProperty(i))for(s=ya.__broadcastEvents,i=null!=t[i=e.type]?s.getReserved(i):s.h[i],s=0;s<i.length;){var n=i[s];if(++s,n.stage==this||null==n.stage)try{n.__dispatch(e)}catch(o){ha.lastException=o,this.__handleError(o instanceof E?o.val:o)}}},__createRenderer:function(){var e=1;1<this.window.__scale&&(e=this.window.devicePixelRatio||1);var i=this.window.__width*this.window.__scale|0,s=this.window.__height*this.window.__scale|0;switch(this.window.context.type){case"canvas":var n=new ih(this.window.context.canvas2D);n.pixelRatio=e,this.__renderer=n;break;case"dom":(n=new Fl(this.window.context.dom)).pixelRatio=e,this.__renderer=n;break;case"opengl":case"opengles":case"webgl":this.context3D=new Dc(this),this.context3D.configureBackBuffer(i,s,0,!0,!0,!0),this.context3D.present(),null==pa.__hardwareRenderer&&(pa.__hardwareRenderer=new Fb(this.context3D)),this.__renderer=new Fb(this.context3D)}null!=this.__renderer&&(e=this.get_quality(),this.__renderer.__allowSmoothing=2!=e,this.__renderer.__worldTransform=this.__displayMatrix,this.__renderer.__stage=this,this.__renderer.__resize(i,s))},__dispatchEvent:function(e){try{return Sa.prototype.__dispatchEvent.call(this,e)}catch(i){return ha.lastException=i,this.__handleError(i instanceof E?i.val:i),!1}},__dispatchPendingMouseEvent:function(){this.__pendingMouseEvent&&(this.__onMouse("mouseMove",this.__pendingMouseX,this.__pendingMouseY,0),this.__pendingMouseEvent=!1)},__dispatchStack:function(e,i){try{var s=i.length;if(0==s){e.eventPhase=2;var n=e.target;n.__dispatch(e)}else{e.eventPhase=1,e.target=i[i.length-1];for(var o=0,l=s-1;o<l;)if(i[o++].__dispatch(e),e.__isCanceled)return;if(e.eventPhase=2,(n=e.target).__dispatch(e),!e.__isCanceled&&e.bubbles)for(e.eventPhase=3,n=s-2;0<=n&&(i[n].__dispatch(e),!e.__isCanceled);)--n}}catch(h){ha.lastException=h,this.__handleError(h instanceof E?h.val:h)}},__dispatchTarget:function(e,i){try{return e.__dispatchEvent(i)}catch(s){return ha.lastException=s,this.__handleError(s instanceof E?s.val:s),!1}},__drag:function(e){var i=this.__dragObject.parent;if(null!=i){var s=(i=i.__getWorldTransform()).a*i.d-i.b*i.c;if(0==s)e.x=-i.tx,e.y=-i.ty;else{var n=1/s*(i.c*(i.ty-e.y)+i.d*(e.x-i.tx));e.y=1/s*(i.a*(e.y-i.ty)+i.b*(i.tx-e.x)),e.x=n}}i=e.x+this.__dragOffsetX,e=e.y+this.__dragOffsetY,null!=this.__dragBounds&&(i<this.__dragBounds.x?i=this.__dragBounds.x:i>this.__dragBounds.get_right()&&(i=this.__dragBounds.get_right()),e<this.__dragBounds.y?e=this.__dragBounds.y:e>this.__dragBounds.get_bottom()&&(e=this.__dragBounds.get_bottom())),this.__dragObject.set_x(i),this.__dragObject.set_y(e)},__getInteractive:function(e){return e?.push(this),!0},__globalToLocal:function(e,i){return e!=i&&i.copyFrom(e),i},__handleError:function(e){var i=new ti("uncaughtError",!0,!0,e);try{Ya.get_current().__loaderInfo.uncaughtErrorEvents.dispatchEvent(i)}catch(o){ha.lastException=o}if(!i.__preventDefault){try{var s=ha.lastException;if(null!=s&&Object.prototype.hasOwnProperty.call(s,"stack")&&null!=s.stack&&""!=s.stack)console.log(s.stack),e.stack=s.stack;else{var n=ha.toString(ha.callStack());console.log(n)}}catch(o){ha.lastException=o}throw e}},__onKey:function(e,i,s){this.__dispatchPendingMouseEvent(),Yb.__altKey=yb.get_altKey(s),Yb.__commandKey=yb.get_metaKey(s),Yb.__ctrlKey=yb.get_ctrlKey(s),Yb.__shiftKey=yb.get_shiftKey(s);var n=[];if(null==this.__focus?this.__getInteractive(n):this.__focus.__getInteractive(n),0<n.length){switch(i){case 1073741908:case 1073741909:case 1073741910:case 1073741911:case 1073741912:case 1073741913:case 1073741914:case 1073741915:case 1073741916:case 1073741917:case 1073741918:case 1073741919:case 1073741920:case 1073741921:case 1073741922:case 1073741923:case 1073742044:var o=3;break;case 1073742048:case 1073742049:case 1073742050:case 1073742051:o=1;break;case 1073742052:case 1073742053:case 1073742054:case 1073742055:o=2;break;default:o=0}switch(i){case 8:i=8;break;case 9:i=9;break;case 13:case 1073741912:case 1073741982:i=13;break;case 27:i=27;break;case 32:i=32;break;case 33:case 49:i=49;break;case 34:case 39:i=222;break;case 35:case 51:i=51;break;case 36:case 52:i=52;break;case 37:case 53:i=53;break;case 38:case 55:i=55;break;case 40:case 57:i=57;break;case 41:case 48:i=48;break;case 42:case 56:i=56;break;case 44:i=188;break;case 45:case 95:i=189;break;case 46:case 62:i=190;break;case 47:case 63:i=191;break;case 50:case 64:i=50;break;case 54:case 94:i=54;break;case 58:case 59:i=186;break;case 60:i=60;break;case 61:i=187;break;case 91:i=219;break;case 92:i=220;break;case 93:i=221;break;case 96:i=192;break;case 97:i=65;break;case 98:i=66;break;case 99:i=67;break;case 100:i=68;break;case 101:i=69;break;case 102:i=70;break;case 103:i=71;break;case 104:i=72;break;case 105:i=73;break;case 106:i=74;break;case 107:i=75;break;case 108:i=76;break;case 109:i=77;break;case 110:i=78;break;case 111:i=79;break;case 112:i=80;break;case 113:i=81;break;case 114:i=82;break;case 115:i=83;break;case 116:i=84;break;case 117:i=85;break;case 118:i=86;break;case 119:i=87;break;case 120:i=88;break;case 121:i=89;break;case 122:i=90;break;case 127:i=46;break;case 1073741881:i=20;break;case 1073741882:i=112;break;case 1073741883:i=113;break;case 1073741884:i=114;break;case 1073741885:i=115;break;case 1073741886:i=116;break;case 1073741887:i=117;break;case 1073741888:i=118;break;case 1073741889:i=119;break;case 1073741890:i=120;break;case 1073741891:i=121;break;case 1073741892:i=122;break;case 1073741893:i=123;break;case 1073741894:i=301;break;case 1073741895:i=145;break;case 1073741896:i=19;break;case 1073741897:i=45;break;case 1073741898:i=36;break;case 1073741899:i=33;break;case 1073741901:i=35;break;case 1073741902:i=34;break;case 1073741903:i=39;break;case 1073741904:i=37;break;case 1073741905:i=40;break;case 1073741906:i=38;break;case 1073741907:i=144;break;case 1073741908:i=111;break;case 1073741909:i=106;break;case 1073741910:i=109;break;case 1073741911:i=107;break;case 1073741913:i=97;break;case 1073741914:i=98;break;case 1073741915:i=99;break;case 1073741916:i=100;break;case 1073741917:i=101;break;case 1073741918:i=102;break;case 1073741919:i=103;break;case 1073741920:i=104;break;case 1073741921:i=105;break;case 1073741922:i=96;break;case 1073741923:case 1073742044:i=110;break;case 1073741925:i=302;break;case 1073741928:i=124;break;case 1073741929:i=125;break;case 1073741930:i=126;break;case 1073742048:case 1073742052:i=17;break;case 1073742049:case 1073742053:i=16;break;case 1073742050:case 1073742054:i=18;break;case 1073742051:case 1073742055:i=15}var l=Ea.__getCharCode(i,yb.get_shiftKey(s));if(o=new Jh(e,!0,!0,l,i,o,this.__macKeyboard?yb.get_ctrlKey(s)||yb.get_metaKey(s):yb.get_ctrlKey(s),yb.get_altKey(s),yb.get_shiftKey(s),yb.get_ctrlKey(s),yb.get_metaKey(s)),n.reverse(),this.__dispatchStack(o,n),o.__preventDefault)"keyDown"==e?this.window.onKeyDown.cancel():this.window.onKeyUp.cancel();else if("keyDown"==e&&9==i){if(this.__tabTest(n=[]),o=-1,e=null,i=yb.get_shiftKey(s)?-1:1,1<n.length)if(Ae.sort(n,function(_,h){return _.get_tabIndex()-h.get_tabIndex()}),-1==n[n.length-1].get_tabIndex())o=null!=this.get_focus()?0:this.__currentTabOrderIndex;else{for(o=0;o<n.length;){if(-1<n[o].get_tabIndex()){0<o&&n.splice(0,o);break}++o}o=null!=this.get_focus()?0>(o=n.indexOf(this.get_focus()))?0:o+i:this.__currentTabOrderIndex}else 1==n.length&&(e=n[0],this.get_focus()==e&&(e=null));1==n.length||0==n.length&&null!=this.get_focus()?o=0:1<n.length&&(0>o&&(o+=n.length),(e=n[o%=n.length])==this.get_focus()&&(0>(o+=i)&&(o+=n.length),e=n[o%=n.length])),i=null,null!=this.get_focus()&&(i=new Lf("keyFocusChange",!0,!0,e,yb.get_shiftKey(s),0),n=[],this.get_focus().__getInteractive(n),n.reverse(),this.__dispatchStack(i,n)),null!=i&&i.isDefaultPrevented()||(this.__currentTabOrderIndex=o,null!=e&&this.set_focus(e))}}},__onLimeCreateWindow:function(e){if(this.window==e){var i=r(this,this.__onLimeWindowActivate);e.onActivate.add(function(){i(e)});var s=r(this,this.__onLimeWindowClose);e.onClose.add(function(){s(e)},!1,-9e3);var n=r(this,this.__onLimeWindowDeactivate);e.onDeactivate.add(function(){n(e)});var o=r(this,this.__onLimeWindowDropFile);e.onDropFile.add(function(Nt){o(e,Nt)});var l=r(this,this.__onLimeWindowEnter);e.onEnter.add(function(){l(e)});var _=r(this,this.__onLimeWindowExpose);e.onExpose.add(function(){_(e)});var h=r(this,this.__onLimeWindowFocusIn);e.onFocusIn.add(function(){h(e)});var m=r(this,this.__onLimeWindowFocusOut);e.onFocusOut.add(function(){m(e)});var f=r(this,this.__onLimeWindowFullscreen);e.onFullscreen.add(function(){f(e)});var y=r(this,this.__onLimeKeyDown);e.onKeyDown.add(function(Nt,Ft){y(e,Nt,Ft)});var g=r(this,this.__onLimeKeyUp);e.onKeyUp.add(function(Nt,Ft){g(e,Nt,Ft)});var j=r(this,this.__onLimeWindowLeave);e.onLeave.add(function(){j(e)});var $=r(this,this.__onLimeWindowMinimize);e.onMinimize.add(function(){$(e)});var yt=r(this,this.__onLimeMouseDown);e.onMouseDown.add(function(Nt,Ft,Lt){yt(e,Nt,Ft,Lt)});var _t=r(this,this.__onLimeMouseMove);e.onMouseMove.add(function(Nt,Ft){_t(e,Nt,Ft)});var xt=r(this,this.__onLimeMouseMoveRelative);e.onMouseMoveRelative.add(function(Nt,Ft){xt(e,Nt,Ft)});var Tt=r(this,this.__onLimeMouseUp);e.onMouseUp.add(function(Nt,Ft,Lt){Tt(e,Nt,Ft,Lt)});var St=r(this,this.__onLimeMouseWheel);e.onMouseWheel.add(function(Nt,Ft,Lt){St(e,Nt,Ft,Lt)});var Mt=r(this,this.__onLimeWindowMove);e.onMove.add(function(Nt,Ft){Mt(e,Nt,Ft)}),e.onRender.add(r(this,this.__onLimeRender)),e.onRenderContextLost.add(r(this,this.__onLimeRenderContextLost)),e.onRenderContextRestored.add(r(this,this.__onLimeRenderContextRestored));var Et=r(this,this.__onLimeWindowResize);e.onResize.add(function(Nt,Ft){Et(e,Nt,Ft)});var Ct=r(this,this.__onLimeWindowRestore);e.onRestore.add(function(){Ct(e)});var Dt=r(this,this.__onLimeTextEdit);e.onTextEdit.add(function(Nt,Ft,Lt){Dt(e,Nt,Ft,Lt)});var At=r(this,this.__onLimeTextInput);e.onTextInput.add(function(Nt){At(e,Nt)}),this.__onLimeWindowCreate(e)}},__onLimeGamepadAxisMove:function(e,i,s){try{fc.__onGamepadAxisMove(e,i,s)}catch(n){ha.lastException=n,this.__handleError(n instanceof E?n.val:n)}},__onLimeGamepadButtonDown:function(e,i){try{fc.__onGamepadButtonDown(e,i)}catch(s){ha.lastException=s,this.__handleError(s instanceof E?s.val:s)}},__onLimeGamepadButtonUp:function(e,i){try{fc.__onGamepadButtonUp(e,i)}catch(s){ha.lastException=s,this.__handleError(s instanceof E?s.val:s)}},__onLimeGamepadConnect:function(e){try{fc.__onGamepadConnect(e)}catch(l){ha.lastException=l,this.__handleError(l instanceof E?l.val:l)}var i=r(this,this.__onLimeGamepadAxisMove);e.onAxisMove.add(function(l,_){i(e,l,_)});var s=r(this,this.__onLimeGamepadButtonDown);e.onButtonDown.add(function(l){s(e,l)});var n=r(this,this.__onLimeGamepadButtonUp);e.onButtonUp.add(function(l){n(e,l)});var o=r(this,this.__onLimeGamepadDisconnect);e.onDisconnect.add(function(){o(e)})},__onLimeGamepadDisconnect:function(e){try{fc.__onGamepadDisconnect(e)}catch(i){ha.lastException=i,this.__handleError(i instanceof E?i.val:i)}},__onLimeKeyDown:function(e,i,s){null!=this.window&&this.window==e&&this.__onKey("keyDown",i,s)},__onLimeKeyUp:function(e,i,s){null!=this.window&&this.window==e&&this.__onKey("keyUp",i,s)},__onLimeModuleExit:function(e){null!=this.window&&(e=new fa("deactivate"),this.__broadcastEvent(e))},__onLimeMouseDown:function(e,i,s,n){if(null!=this.window&&this.window==e){switch(this.__dispatchPendingMouseEvent(),n){case 1:var o="middleMouseDown";break;case 2:o="rightMouseDown";break;default:o="mouseDown"}this.__onMouse(o,i*e.__scale|0,s*e.__scale|0,n),this.showDefaultContextMenu||2!=n||e.onMouseDown.cancel()}},__onLimeMouseMove:function(e,i,s){null!=this.window&&this.window==e&&(this.__pendingMouseEvent=!0,this.__pendingMouseX=i*e.__scale|0,this.__pendingMouseY=s*e.__scale|0)},__onLimeMouseMoveRelative:function(e,i,s){},__onLimeMouseUp:function(e,i,s,n){if(null!=this.window&&this.window==e){switch(this.__dispatchPendingMouseEvent(),n){case 1:var o="middleMouseUp";break;case 2:o="rightMouseUp";break;default:o="mouseUp"}this.__onMouse(o,i*e.__scale|0,s*e.__scale|0,n),this.showDefaultContextMenu||2!=n||e.onMouseUp.cancel()}},__onLimeMouseWheel:function(e,i,s,n){null!=this.window&&this.window==e&&(this.__dispatchPendingMouseEvent(),n==Aq.PIXELS?this.__onMouseWheel(i*e.__scale|0,s*e.__scale|0,n):this.__onMouseWheel(0|i,0|s,n))},__onLimeRender:function(e){if(!this.__rendering){if(this.__rendering=!0,this.__broadcastEvent(new fa("enterFrame")),this.__broadcastEvent(new fa("frameConstructed")),this.__broadcastEvent(new fa("exitFrame")),this.__renderable=!0,this.__enterFrame(this.__deltaTime),this.__deltaTime=0,e=null!=this.__renderer&&(this.__renderDirty||this.__forceRender),this.__invalidated&&e){this.__invalidated=!1;var i=new fa("render");this.__broadcastEvent(i)}if(this.__update(!1,!0),null!=this.__renderer){if(null!=this.context3D){for(i=this.stage3Ds.iterator();i.hasNext();){var s=i.next();this.context3D.__renderStage3D(s)}this.context3D.__present&&(e=!0)}e?(null==this.context3D&&this.__renderer.__clear(),this.__renderer.__render(this)):null==this.context3D&&this.window.onRender.cancel(),null!=this.context3D&&(this.context3D.__present?(this.__renderer.__cleared||this.__renderer.__clear(),this.context3D.__present=!1,this.context3D.__cleared=!1):this.window.onRender.cancel(),this.context3D.__bitmapDataPool.cleanup()),this.__renderer.__cleared=!1,pa.__pool.cleanup()}this.__rendering=!1}},__onLimeRenderContextLost:function(){this.context3D=this.__renderer=null;for(var e=this.stage3Ds.iterator();e.hasNext();)e.next().__lostContext()},__onLimeRenderContextRestored:function(e){for(this.__createRenderer(),e=this.stage3Ds.iterator();e.hasNext();)e.next().__restoreContext()},__onLimeTextEdit:function(e,i,s,n){},__onLimeTextInput:function(e,i){if(null!=this.window&&this.window==e){var s=[];null==this.__focus?this.__getInteractive(s):this.__focus.__getInteractive(s),i=new Df("textInput",!0,!0,i),0<s.length?(s.reverse(),this.__dispatchStack(i,s)):this.__dispatchEvent(i),i.isDefaultPrevented()&&e.onTextInput.cancel()}},__onLimeTouchCancel:function(e){this.__primaryTouch==e&&(this.__primaryTouch=null),this.__onTouch("touchEnd",e)},__onLimeTouchMove:function(e){this.__onTouch("touchMove",e)},__onLimeTouchEnd:function(e){this.__primaryTouch==e&&(this.__primaryTouch=null),this.__onTouch("touchEnd",e)},__onLimeTouchStart:function(e){null==this.__primaryTouch&&(this.__primaryTouch=e),this.__onTouch("touchBegin",e)},__onLimeUpdate:function(e){this.__deltaTime=e,this.__dispatchPendingMouseEvent()},__onLimeWindowActivate:function(e){},__onLimeWindowClose:function(e){this.window==e&&(this.window=null),this.__primaryTouch=null,e=new fa("deactivate"),this.__broadcastEvent(e)},__onLimeWindowCreate:function(e){null!=this.window&&this.window==e&&null!=e.context&&this.__createRenderer()},__onLimeWindowDeactivate:function(e){},__onLimeWindowDropFile:function(e,i){},__onLimeWindowEnter:function(e){},__onLimeWindowExpose:function(e){null!=this.window&&this.window==e&&(this.__renderDirty=!0)},__onLimeWindowFocusIn:function(e){null!=this.window&&this.window==e&&(this.__renderDirty=!0,e=new fa("activate"),this.__broadcastEvent(e),this.set_focus(this.__cacheFocus))},__onLimeWindowFocusOut:function(e){null!=this.window&&this.window==e&&(this.__primaryTouch=null,e=new fa("deactivate"),this.__broadcastEvent(e),e=this.get_focus(),this.set_focus(null),this.__cacheFocus=e)},__onLimeWindowFullscreen:function(e){null!=this.window&&this.window==e&&(this.__resize(),this.__wasFullscreen||(this.__wasFullscreen=!0,2==this.__displayState&&(this.__displayState=1),this.__dispatchEvent(new Mg("fullScreen",!1,!1,!0,!0))))},__onLimeWindowLeave:function(e){null==this.window||this.window!=e||Yb.__buttonDown||(this.__dispatchPendingMouseEvent(),e=new fa("mouseLeave"),this.__dispatchEvent(e))},__onLimeWindowMinimize:function(e){},__onLimeWindowMove:function(e,i,s){},__onLimeWindowResize:function(e,i,s){null!=this.window&&this.window==e&&(this.__resize(),this.__wasFullscreen&&!e.__fullscreen&&(this.__wasFullscreen=!1,this.__displayState=2,this.__dispatchEvent(new Mg("fullScreen",!1,!1,!1,!0))))},__onLimeWindowRestore:function(e){null!=this.window&&this.window==e&&this.__wasFullscreen&&!e.__fullscreen&&(this.__wasFullscreen=!1,this.__displayState=2,this.__dispatchEvent(new Mg("fullScreen",!1,!1,!1,!0)))},__onMouse:function(e,i,s,n){if(!(2<n)){var o=ra.__pool.get();if(o.setTo(i,s),0==(s=(i=this.__displayMatrix).a*i.d-i.b*i.c))o.x=-i.tx,o.y=-i.ty;else{var l=1/s*(i.c*(i.ty-o.y)+i.d*(o.x-i.tx));o.y=1/s*(i.a*(o.y-i.ty)+i.b*(i.tx-o.x)),o.x=l}this.__mouseX=o.x,this.__mouseY=o.y,this.__hitTest(this.__mouseX,this.__mouseY,!0,s=[],!0,this)?l=s[s.length-1]:(l=this,s=[this]),null==l&&(l=this);var _=null;switch(e){case"middleMouseDown":this.__mouseDownMiddle=l;break;case"middleMouseUp":this.__mouseDownMiddle==l&&(_="middleClick"),this.__mouseDownMiddle=null;break;case"mouseDown":l.__allowMouseFocus()?null!=this.get_focus()?(i=new Lf("mouseFocusChange",!0,!0,l,!1,0),this.__dispatchStack(i,s),i.isDefaultPrevented()||this.set_focus(l)):this.set_focus(l):this.set_focus(null),this.__mouseDownLeft=l,Yb.__buttonDown=!0;break;case"mouseUp":null!=this.__mouseDownLeft&&(Yb.__buttonDown=!1,this.__mouseDownLeft==l?_="click":(i=Yb.__create("releaseOutside",1,this.__mouseX,this.__mouseY,new ra(this.__mouseX,this.__mouseY),this),this.__mouseDownLeft.dispatchEvent(i)),this.__mouseDownLeft=null);break;case"rightMouseDown":this.__mouseDownRight=l;break;case"rightMouseUp":this.__mouseDownRight==l&&(_="rightClick"),this.__mouseDownRight=null}i=ra.__pool.get();var h=Yb.__create(e,n,this.__mouseX,this.__mouseY,l.__globalToLocal(o,i),l);if(this.__dispatchStack(h,s),null!=_&&(h=Yb.__create(_,n,this.__mouseX,this.__mouseY,l.__globalToLocal(o,i),l),this.__dispatchStack(h,s),"mouseUp"==e&&T.__cast(l,Pa).doubleClickEnabled&&(500>(e=Ya.getTimer())-this.__lastClickTime?(h=Yb.__create("doubleClick",n,this.__mouseX,this.__mouseY,l.__globalToLocal(o,i),l),this.__dispatchStack(h,s),this.__lastClickTime=0):this.__lastClickTime=e)),"auto"==Ie.__cursor&&!Ie.__hidden){if(_=null,null!=this.__mouseDownLeft)_=this.__mouseDownLeft.__getCursor();else for(e=0;e<s.length;)if(_=s[e],++e,null!=(_=_.__getCursor())){this.window.set_cursor(kf.toLimeCursor(_));break}null==_&&this.window.set_cursor(Hd.ARROW)}for(l!=this.__mouseOverTarget&&null!=this.__mouseOverTarget&&(e=Yb.__create("mouseOut",n,this.__mouseX,this.__mouseY,this.__mouseOverTarget.__globalToLocal(o,i),this.__mouseOverTarget),this.__dispatchStack(e,this.__mouseOutStack)),h=0;h<this.__rollOutStack.length;)-1==s.indexOf(_=this.__rollOutStack[h])?(B.remove(this.__rollOutStack,_),(e=Yb.__create("rollOut",n,this.__mouseX,this.__mouseY,this.__mouseOverTarget.__globalToLocal(o,i),this.__mouseOverTarget)).bubbles=!1,this.__dispatchTarget(_,e)):++h;for(_=0;_<s.length;)h=s[_],++_,-1==this.__rollOutStack.indexOf(h)&&null!=this.__mouseOverTarget&&(h.hasEventListener("rollOver")&&((e=Yb.__create("rollOver",n,this.__mouseX,this.__mouseY,this.__mouseOverTarget.__globalToLocal(o,i),h)).bubbles=!1,this.__dispatchTarget(h,e)),(h.hasEventListener("rollOut")||h.hasEventListener("rollOver"))&&this.__rollOutStack.push(h));l!=this.__mouseOverTarget&&(null!=l&&(e=Yb.__create("mouseOver",n,this.__mouseX,this.__mouseY,l.__globalToLocal(o,i),l),this.__dispatchStack(e,s)),this.__mouseOverTarget=l,this.__mouseOutStack=s),null!=this.__dragObject&&(this.__drag(o),n=null,this.__mouseOverTarget==this.__dragObject?(s=this.__dragObject.mouseEnabled,l=this.__dragObject.mouseChildren,this.__dragObject.mouseEnabled=!1,this.__dragObject.mouseChildren=!1,this.__hitTest(this.__mouseX,this.__mouseY,!0,e=[],!0,this)&&(n=e[e.length-1]),this.__dragObject.mouseEnabled=s,this.__dragObject.mouseChildren=l):this.__mouseOverTarget!=this&&(n=this.__mouseOverTarget),this.__dragObject.dropTarget=n),ra.__pool.release(o),ra.__pool.release(i)}},__onMouseWheel:function(e,i,s){var n=this.__mouseX,o=this.__mouseY;this.__hitTest(this.__mouseX,this.__mouseY,!0,e=[],!0,this)?s=e[e.length-1]:(s=this,e=[this]),null==s&&(s=this);var l=ra.__pool.get();if(l.setTo(n,o),0==(o=(n=this.__displayMatrix).a*n.d-n.b*n.c))l.x=-n.tx,l.y=-n.ty;else{var _=1/o*(n.c*(n.ty-l.y)+n.d*(l.x-n.tx));l.y=1/o*(n.a*(l.y-n.ty)+n.b*(n.tx-l.x)),l.x=_}i|=0,this.__dispatchStack(Yb.__create("mouseWheel",0,this.__mouseX,this.__mouseY,s.__globalToLocal(l,l),s,i),e),ra.__pool.release(l)},__onTouch:function(e,i){var s=ra.__pool.get();s.setTo(Math.round(i.x*this.window.__width*this.window.__scale),Math.round(i.y*this.window.__height*this.window.__scale));var n=this.__displayMatrix,o=n.a*n.d-n.b*n.c;if(0==o)s.x=-n.tx,s.y=-n.ty;else{var l=1/o*(n.c*(n.ty-s.y)+n.d*(s.x-n.tx));s.y=1/o*(n.a*(s.y-n.ty)+n.b*(n.tx-s.x)),s.x=l}if(this.__hitTest(n=s.x,o=s.y,!1,l=[],!0,this))var _=l[l.length-1];else _=this,l=[this];null==_&&(_=this);var h=i.id;if(this.__touchData.h.hasOwnProperty(h))var m=this.__touchData.h[h];else(m=cj.__pool.get()).reset(),m.touch=i,this.__touchData.h[h]=m;var f=null,y=!1;switch(e){case"touchBegin":m.touchDownTarget=_;break;case"touchEnd":m.touchDownTarget==_&&(f="touchTap"),m.touchDownTarget=null,y=!0}var g=ra.__pool.get(),j=this.__primaryTouch==i;(e=Vd.__create(e,null,n,o,_.__globalToLocal(s,g),_)).touchPointID=h,e.isPrimaryTouchPoint=j,e.pressure=i.pressure,this.__dispatchStack(e,l),null!=f&&((e=Vd.__create(f,null,n,o,_.__globalToLocal(s,g),_)).touchPointID=h,e.isPrimaryTouchPoint=j,e.pressure=i.pressure,this.__dispatchStack(e,l)),_!=(f=m.touchOverTarget)&&null!=f&&((e=Vd.__create("touchOut",null,n,o,f.__globalToLocal(s,g),f)).touchPointID=h,e.isPrimaryTouchPoint=j,e.pressure=i.pressure,this.__dispatchTarget(f,e));for(var yt,$=m.rollOutStack,_t=0;_t<$.length;)-1==l.indexOf(yt=$[_t])?(B.remove($,yt),(e=Vd.__create("touchRollOut",null,n,o,f.__globalToLocal(s,g),f)).touchPointID=h,e.isPrimaryTouchPoint=j,e.bubbles=!1,e.pressure=i.pressure,this.__dispatchTarget(yt,e)):++_t;for(yt=0;yt<l.length;)_t=l[yt],++yt,-1==$.indexOf(_t)&&(_t.hasEventListener("touchRollOver")&&((e=Vd.__create("touchRollOver",null,n,o,f.__globalToLocal(s,g),_t)).touchPointID=h,e.isPrimaryTouchPoint=j,e.bubbles=!1,e.pressure=i.pressure,this.__dispatchTarget(_t,e)),_t.hasEventListener("touchRollOut")&&$.push(_t));_!=f&&(null!=_&&((e=Vd.__create("touchOver",null,n,o,_.__globalToLocal(s,g),_)).touchPointID=h,e.isPrimaryTouchPoint=j,e.bubbles=!0,e.pressure=i.pressure,this.__dispatchTarget(_,e)),m.touchOverTarget=_),ra.__pool.release(s),ra.__pool.release(g),y&&(this.__touchData.remove(h),m.reset(),cj.__pool.release(m))},__registerLimeModule:function(e){for(e.onCreateWindow.add(r(this,this.__onLimeCreateWindow)),e.onUpdate.add(r(this,this.__onLimeUpdate)),e.onExit.add(r(this,this.__onLimeModuleExit),!1,0),e=ae.devices.iterator();e.hasNext();){var i=e.next();this.__onLimeGamepadConnect(i)}ae.onConnect.add(r(this,this.__onLimeGamepadConnect)),xd.onStart.add(r(this,this.__onLimeTouchStart)),xd.onMove.add(r(this,this.__onLimeTouchMove)),xd.onEnd.add(r(this,this.__onLimeTouchEnd)),xd.onCancel.add(r(this,this.__onLimeTouchCancel))},__resize:function(){var e=this.stageWidth,i=this.stageHeight,s=this.window.__width*this.window.__scale|0,n=this.window.__height*this.window.__scale|0;if(this.__logicalWidth=s,this.__logicalHeight=n,this.__displayMatrix.identity(),null!=this.get_fullScreenSourceRect()&&this.window.__fullscreen){this.stageWidth=0|this.get_fullScreenSourceRect().width,this.stageHeight=0|this.get_fullScreenSourceRect().height;var o=s/this.stageWidth,l=n/this.stageHeight;this.__displayMatrix.translate(-this.get_fullScreenSourceRect().x,-this.get_fullScreenSourceRect().y),this.__displayMatrix.scale(o,l),this.__displayRect.setTo(this.get_fullScreenSourceRect().get_left(),this.get_fullScreenSourceRect().get_right(),this.get_fullScreenSourceRect().get_top(),this.get_fullScreenSourceRect().get_bottom())}else{if(0==this.__logicalWidth&&0==this.__logicalHeight)this.stageWidth=s,this.stageHeight=n;else{this.stageWidth=this.__logicalWidth,this.stageHeight=this.__logicalHeight,o=Math.min(s/this.stageWidth,n/this.stageHeight),l=Math.round((s-this.stageWidth*o)/2);var _=Math.round((n-this.stageHeight*o)/2);this.__displayMatrix.scale(o,o),this.__displayMatrix.translate(l,_)}this.__displayRect.setTo(0,0,this.stageWidth,this.stageHeight)}for(null!=this.context3D&&this.context3D.configureBackBuffer(s,n,0,!0,!0,!0),o=this.stage3Ds.iterator();o.hasNext();)o.next().__resize(s,n);null!=this.__renderer&&this.__renderer.__resize(s,n),(this.stageWidth!=e||this.stageHeight!=i)&&(this.__renderDirty=!0,this.__setTransformDirty(),e=new fa("resize"),this.__dispatchEvent(e))},__setLogicalSize:function(e,i){this.__logicalWidth=e,this.__logicalHeight=i,this.__resize()},__startDrag:function(e,i,s){if(null==s)this.__dragBounds=null;else{this.__dragBounds=new ia;var n=s.get_right(),o=s.get_bottom();this.__dragBounds.x=n<s.x?n:s.x,this.__dragBounds.y=o<s.y?o:s.y,this.__dragBounds.width=Math.abs(s.width),this.__dragBounds.height=Math.abs(s.height)}this.__dragObject=e,null!=this.__dragObject&&(i?this.__dragOffsetY=this.__dragOffsetX=0:((e=ra.__pool.get()).setTo(this.get_mouseX(),this.get_mouseY()),null!=(i=this.__dragObject.parent)&&(0==(s=(i=i.__getWorldTransform()).a*i.d-i.b*i.c)?(e.x=-i.tx,e.y=-i.ty):(n=1/s*(i.c*(i.ty-e.y)+i.d*(e.x-i.tx)),e.y=1/s*(i.a*(e.y-i.ty)+i.b*(i.tx-e.x)),e.x=n)),this.__dragOffsetX=this.__dragObject.get_x()-e.x,this.__dragOffsetY=this.__dragObject.get_y()-e.y,ra.__pool.release(e)))},__stopDrag:function(e){this.__dragObject=this.__dragBounds=null},__unregisterLimeModule:function(e){e.onCreateWindow.remove(r(this,this.__onLimeCreateWindow)),e.onUpdate.remove(r(this,this.__onLimeUpdate)),e.onExit.remove(r(this,this.__onLimeModuleExit)),ae.onConnect.remove(r(this,this.__onLimeGamepadConnect)),xd.onStart.remove(r(this,this.__onLimeTouchStart)),xd.onMove.remove(r(this,this.__onLimeTouchMove)),xd.onEnd.remove(r(this,this.__onLimeTouchEnd)),xd.onCancel.remove(r(this,this.__onLimeTouchCancel))},__update:function(e,i){e?this.__transformDirty&&(Sa.prototype.__update.call(this,!0,i),i&&(this.__transformDirty=!1)):this.__transformDirty||this.__renderDirty?(Sa.prototype.__update.call(this,!1,i),i&&ya.__supportDOM&&(this.__wasDirty=!0)):!this.__renderDirty&&this.__wasDirty&&(Sa.prototype.__update.call(this,!1,i),i&&(this.__wasDirty=!1))},get_color:function(){return this.__color},set_color:function(e){return null==e?(this.__transparent=!0,e=0):this.__transparent=!1,this.__color!=e&&(this.__colorSplit[0]=((16711680&e)>>>16)/255,this.__colorSplit[1]=((65280&e)>>>8)/255,this.__colorSplit[2]=(255&e)/255,this.__colorString="#"+aa.hex(16777215&e,6),this.__renderDirty=!0,this.__color=-16777216|16777215&e),e},get_contentsScaleFactor:function(){return this.__contentsScaleFactor},get_displayState:function(){return this.__displayState},set_displayState:function(e){return null!=this.window&&(2==e?this.window.__fullscreen&&this.window.set_fullscreen(!1):this.window.__fullscreen||this.window.set_fullscreen(!0)),this.__displayState=e},get_focus:function(){return this.__focus},set_focus:function(e){if(e!=this.__focus){var i=this.__focus;if(this.__cacheFocus=this.__focus=e,null!=i){var s=new Lf("focusOut",!0,!1,e,!1,0),n=[];i.__getInteractive(n),n.reverse(),this.__dispatchStack(s,n)}null!=e&&(i=new Lf("focusIn",!0,!1,i,!1,0),e.__getInteractive(s=[]),s.reverse(),this.__dispatchStack(i,s))}return e},get_frameRate:function(){return null!=this.window?this.window.__backend.getFrameRate():0},set_frameRate:function(e){return null!=this.window?this.window.__backend.setFrameRate(e):e},get_fullScreenHeight:function(){return Math.ceil(this.window.get_display().currentMode.height*this.window.__scale)},get_fullScreenSourceRect:function(){return null==this.__fullScreenSourceRect?null:this.__fullScreenSourceRect.clone()},set_fullScreenSourceRect:function(e){return null==e?null!=this.__fullScreenSourceRect&&(this.__fullScreenSourceRect=null,this.__resize()):e.equals(this.__fullScreenSourceRect)||(this.__fullScreenSourceRect=e.clone(),this.__resize()),e},get_fullScreenWidth:function(){return Math.ceil(this.window.get_display().currentMode.width*this.window.__scale)},set_height:function(e){return this.get_height()},get_mouseX:function(){return this.__mouseX},get_mouseY:function(){return this.__mouseY},get_quality:function(){return this.__quality},set_quality:function(e){if(this.__quality=e,null!=this.__renderer){var i=this.get_quality();this.__renderer.__allowSmoothing=2!=i}return e},set_rotation:function(e){return 0},get_scaleMode:function(){return this.__scaleMode},set_scaleMode:function(e){return this.__scaleMode=e},set_scaleX:function(e){return 0},set_scaleY:function(e){return 0},get_tabEnabled:function(){return!1},set_tabEnabled:function(e){throw new E(new td("Error: The Stage class does not implement this property or method."))},get_tabIndex:function(){return-1},set_tabIndex:function(e){throw new E(new td("Error: The Stage class does not implement this property or method."))},set_transform:function(e){return this.get_transform()},set_width:function(e){return this.get_width()},set_x:function(e){return 0},set_y:function(e){return 0},__class__:jk,__properties__:x(Sa.prototype.__properties__,{set_scaleMode:"set_scaleMode",get_scaleMode:"get_scaleMode",set_quality:"set_quality",get_quality:"get_quality",get_fullScreenWidth:"get_fullScreenWidth",set_fullScreenSourceRect:"set_fullScreenSourceRect",get_fullScreenSourceRect:"get_fullScreenSourceRect",get_fullScreenHeight:"get_fullScreenHeight",set_frameRate:"set_frameRate",get_frameRate:"get_frameRate",set_focus:"set_focus",get_focus:"get_focus",set_displayState:"set_displayState",get_displayState:"get_displayState",get_contentsScaleFactor:"get_contentsScaleFactor",set_color:"set_color",get_color:"get_color"})});var ej=function(e){A.call(this),this.__stage=e,this.__height=0,this.__projectionTransform=new te,this.__renderTransform=new te,this.__y=this.__x=this.__width=0,this.visible=!0,0<e.stageWidth&&0<e.stageHeight&&this.__resize(e.stageWidth,e.stageHeight)};k["openfl.display.Stage3D"]=ej,ej.__name__="openfl.display.Stage3D",ej.__super__=A,ej.prototype=x(A.prototype,{context3D:null,visible:null,__contextLost:null,__contextRequested:null,__height:null,__indexBuffer:null,__projectionTransform:null,__renderTransform:null,__stage:null,__vertexBuffer:null,__width:null,__x:null,__y:null,__canvas:null,__renderContext:null,__style:null,__webgl:null,requestContext3D:function(e,i){this.__contextLost?this.__contextRequested=!0:null!=this.context3D?(this.__contextRequested=!0,of.delay(r(this,this.__dispatchCreate),1)):this.__contextRequested||(this.__contextRequested=!0,of.delay(r(this,this.__createContext),1))},requestContext3DMatchingProfiles:function(e){this.requestContext3D()},__createContext:function(){null!=this.__stage.context3D?(this.context3D=new Dc(this.__stage,this.__stage.context3D.__contextState,this),this.__dispatchCreate()):this.__dispatchError()},__dispatchError:function(){this.__contextRequested=!1,this.dispatchEvent(new af("error",!1,!1,"Context3D not available"))},__dispatchCreate:function(){this.__contextRequested&&(this.__contextRequested=!1,this.dispatchEvent(new fa("context3DCreate")))},__lostContext:function(){this.__contextLost=!0,null!=this.context3D&&(this.context3D.__dispose(),this.__contextRequested=!0)},__resize:function(e,i){(e!=this.__width||i!=this.__height)&&(null!=this.__canvas&&(this.__canvas.width=e,this.__canvas.height=i),this.__projectionTransform.copyRawDataFrom(La.toFloatVector(null,null,null,[2/(0<e?e:1),0,0,0,0,-2/(0<i?i:1),0,0,0,0,-.001,0,-1,1,0,1])),this.__renderTransform.identity(),this.__renderTransform.appendTranslation(this.__x,this.__y,0),this.__renderTransform.append(this.__projectionTransform),this.__width=e,this.__height=i)},__restoreContext:function(){this.__contextLost=!1,this.__createContext()},get_x:function(){return this.__x},set_x:function(e){return this.__x==e||(this.__x=e,this.__renderTransform.identity(),this.__renderTransform.appendTranslation(this.__x,this.__y,0),this.__renderTransform.append(this.__projectionTransform)),e},get_y:function(){return this.__y},set_y:function(e){return this.__y==e||(this.__y=e,this.__renderTransform.identity(),this.__renderTransform.appendTranslation(this.__x,this.__y,0),this.__renderTransform.append(this.__projectionTransform)),e},__class__:ej,__properties__:{set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x"}});var kh={};k["openfl.display._StageAlign.StageAlign_Impl_"]=kh,kh.__name__="openfl.display._StageAlign.StageAlign_Impl_",kh.fromString=function(e){switch(e){case"bottom":return 0;case"bottomLeft":return 1;case"bottomRight":return 2;case"left":return 3;case"right":return 4;case"top":return 5;case"topLeft":return 6;case"topRight":return 7;default:return null}},kh.toString=function(e){switch(e){case 0:return"bottom";case 1:return"bottomLeft";case 2:return"bottomRight";case 3:return"left";case 4:return"right";case 5:return"top";case 6:return"topLeft";case 7:return"topRight";default:return null}};var Jl={};k["openfl.display._StageDisplayState.StageDisplayState_Impl_"]=Jl,Jl.__name__="openfl.display._StageDisplayState.StageDisplayState_Impl_",Jl.fromString=function(e){switch(e){case"fullScreen":return 0;case"fullScreenInteractive":return 1;case"normal":return 2;default:return null}},Jl.toString=function(e){switch(e){case 0:return"fullScreen";case 1:return"fullScreenInteractive";case 2:return"normal";default:return null}};var kk={};k["openfl.display._StageQuality.StageQuality_Impl_"]=kk,kk.__name__="openfl.display._StageQuality.StageQuality_Impl_",kk.fromString=function(e){switch(e){case"best":return 0;case"high":return 1;case"low":return 2;case"medium":return 3;default:return null}},kk.toString=function(e){switch(e){case 0:return"best";case 1:return"high";case 2:return"low";case 3:return"medium";default:return null}};var lk={};k["openfl.display._StageScaleMode.StageScaleMode_Impl_"]=lk,lk.__name__="openfl.display._StageScaleMode.StageScaleMode_Impl_",lk.fromString=function(e){switch(e){case"exactFit":return 0;case"noBorder":return 1;case"noScale":return 2;case"showAll":return 3;default:return null}},lk.toString=function(e){switch(e){case 0:return"exactFit";case 1:return"noBorder";case 2:return"noScale";case 3:return"showAll";default:return null}};var Hg=function(e,i,s,n,o,l,_,h){null==h&&(h=0),null==_&&(_=0),null==l&&(l=0),null==o&&(o=1),null==n&&(n=1),null==s&&(s=0),null==i&&(i=0),null==e&&(e=0),this.__id=e,this.__matrix=new Fa,0!=i&&this.set_x(i),0!=s&&this.set_y(s),1!=n&&this.set_scaleX(n),1!=o&&this.set_scaleY(o),0!=l&&this.set_rotation(l),this.__dirty=!0,this.__length=0,this.__originX=_,this.__originY=h,this.__alpha=1,this.__blendMode=null,this.__visible=!0};k["openfl.display.Tile"]=Hg,Hg.__name__="openfl.display.Tile",Hg.prototype={data:null,parent:null,__alpha:null,__blendMode:null,__colorTransform:null,__dirty:null,__id:null,__length:null,__matrix:null,__originX:null,__originY:null,__rect:null,__rotation:null,__rotationCosine:null,__rotationSine:null,__scaleX:null,__scaleY:null,__shader:null,__tileset:null,__visible:null,clone:function(){var e=new Hg(this.__id);return e.__alpha=this.__alpha,e.__blendMode=this.__blendMode,e.__originX=this.__originX,e.__originY=this.__originY,null!=this.__rect&&(e.__rect=this.__rect.clone()),e.set_matrix(this.__matrix.clone()),e.__shader=this.__shader,e.set_tileset(this.__tileset),null!=this.__colorTransform&&(e.__colorTransform=this.__colorTransform.__clone()),e},getBounds:function(e){var i=new ia;this.__findTileRect(i);var s=Fa.__pool.get();if(null!=e&&e!=this){s.copyFrom(this.__getWorldTransform());var n=Fa.__pool.get();n.copyFrom(e.__getWorldTransform()),n.invert(),s.concat(n),Fa.__pool.release(n)}else s.identity();return this.__getBounds(i,s),Fa.__pool.release(s),i},__getBounds:function(e,i){e.__transform(e,i)},hitTestTile:function(e){if(null!=e&&null!=e.parent&&null!=this.parent){var i=this.getBounds(this);return e=e.getBounds(this),i.intersects(e)}return!1},invalidate:function(){this.__setRenderDirty()},__findTileRect:function(e){if(null==this.get_tileset())if(null!=this.parent){var i=this.parent.__findTileset();null==i||null==(i=i.getRect(this.get_id()))?e.setTo(0,0,0,0):e.copyFrom(i)}else e.setTo(0,0,0,0);else e.copyFrom(this.get_tileset().getRect(this.get_id()));e.x=0,e.y=0},__findTileset:function(){return null!=this.get_tileset()?this.get_tileset():this.parent instanceof Ig?this.parent.get_tileset():null==this.parent?null:this.parent.__findTileset()},__getWorldTransform:function(){var e=this.get_matrix().clone();return null!=this.parent&&e.concat(this.parent.__getWorldTransform()),e},__setRenderDirty:function(){this.__dirty||(this.__dirty=!0,null!=this.parent&&this.parent.__setRenderDirty())},get_alpha:function(){return this.__alpha},set_alpha:function(e){return e!=this.__alpha&&(this.__alpha=e,this.__setRenderDirty()),e},get_blendMode:function(){return this.__blendMode},set_blendMode:function(e){return e!=this.__blendMode&&(this.__blendMode=e,this.__setRenderDirty()),e},get_colorTransform:function(){return this.__colorTransform},set_colorTransform:function(e){return e!=this.__colorTransform&&(this.__colorTransform=e,this.__setRenderDirty()),e},get_height:function(){var e=ia.__pool.get();this.__findTileRect(e),this.__getBounds(e,this.get_matrix());var i=e.height;return ia.__pool.release(e),i},set_height:function(e){var i=ia.__pool.get();return this.__findTileRect(i),0!=i.height&&this.set_scaleY(e/i.height),ia.__pool.release(i),e},get_id:function(){return this.__id},set_id:function(e){return e!=this.__id&&(this.__id=e,this.__setRenderDirty()),e},get_matrix:function(){return this.__matrix},set_matrix:function(e){return e!=this.__matrix&&(this.__scaleY=this.__scaleX=this.__rotation=null,this.__matrix=e,this.__setRenderDirty()),e},get_originX:function(){return this.__originX},set_originX:function(e){return e!=this.__originX&&(this.__originX=e,this.__setRenderDirty()),e},get_originY:function(){return this.__originY},set_originY:function(e){return e!=this.__originY&&(this.__originY=e,this.__setRenderDirty()),e},get_rect:function(){return this.__rect},set_rect:function(e){return e!=this.__rect&&(this.__rect=e,this.__setRenderDirty()),e},get_rotation:function(){if(null==this.__rotation)if(0==this.__matrix.b&&0==this.__matrix.c)this.__rotationSine=this.__rotation=0,this.__rotationCosine=1;else{var e=Math.atan2(this.__matrix.d,this.__matrix.c)-Math.PI/2;this.__rotation=180/Math.PI*e,this.__rotationSine=Math.sin(e),this.__rotationCosine=Math.cos(e)}return this.__rotation},set_rotation:function(e){if(e!=this.__rotation){this.__rotation=e;var i=Math.PI/180*e;this.__rotationSine=Math.sin(i),this.__rotationCosine=Math.cos(i),i=this.get_scaleX();var s=this.get_scaleY();this.__matrix.a=this.__rotationCosine*i,this.__matrix.b=this.__rotationSine*i,this.__matrix.c=-this.__rotationSine*s,this.__matrix.d=this.__rotationCosine*s,this.__setRenderDirty()}return e},get_scaleX:function(){return null==this.__scaleX&&(this.__scaleX=0==this.get_matrix().b?this.__matrix.a:Math.sqrt(this.__matrix.a*this.__matrix.a+this.__matrix.b*this.__matrix.b)),this.__scaleX},set_scaleX:function(e){if(e!=this.__scaleX){if(this.__scaleX=e,0==this.__matrix.b)this.__matrix.a=e;else{this.get_rotation();var i=this.__rotationSine*e;this.__matrix.a=this.__rotationCosine*e,this.__matrix.b=i}this.__setRenderDirty()}return e},get_scaleY:function(){return null==this.__scaleY&&(this.__scaleY=0==this.__matrix.c?this.get_matrix().d:Math.sqrt(this.__matrix.c*this.__matrix.c+this.__matrix.d*this.__matrix.d)),this.__scaleY},set_scaleY:function(e){if(e!=this.__scaleY){if(this.__scaleY=e,0==this.__matrix.c)this.__matrix.d=e;else{this.get_rotation();var i=this.__rotationCosine*e;this.__matrix.c=-this.__rotationSine*e,this.__matrix.d=i}this.__setRenderDirty()}return e},get_shader:function(){return this.__shader},set_shader:function(e){return e!=this.__shader&&(this.__shader=e,this.__setRenderDirty()),e},get_tileset:function(){return this.__tileset},set_tileset:function(e){return e!=this.__tileset&&(this.__tileset=e,this.__setRenderDirty()),e},get_visible:function(){return this.__visible},set_visible:function(e){return e!=this.__visible&&(this.__visible=e,this.__setRenderDirty()),e},get_width:function(){var e=ia.__pool.get();this.__findTileRect(e),this.__getBounds(e,this.get_matrix());var i=e.width;return ia.__pool.release(e),i},set_width:function(e){var i=ia.__pool.get();return this.__findTileRect(i),0!=i.width&&this.set_scaleX(e/i.width),ia.__pool.release(i),e},get_x:function(){return this.__matrix.tx},set_x:function(e){return e!=this.__matrix.tx&&(this.__matrix.tx=e,this.__setRenderDirty()),e},get_y:function(){return this.__matrix.ty},set_y:function(e){return e!=this.__matrix.ty&&(this.__matrix.ty=e,this.__setRenderDirty()),e},__class__:Hg,__properties__:{set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x",set_width:"set_width",get_width:"get_width",set_visible:"set_visible",get_visible:"get_visible",set_tileset:"set_tileset",get_tileset:"get_tileset",set_shader:"set_shader",get_shader:"get_shader",set_scaleY:"set_scaleY",get_scaleY:"get_scaleY",set_scaleX:"set_scaleX",get_scaleX:"get_scaleX",set_rotation:"set_rotation",get_rotation:"get_rotation",set_rect:"set_rect",get_rect:"get_rect",set_originY:"set_originY",get_originY:"get_originY",set_originX:"set_originX",get_originX:"get_originX",set_matrix:"set_matrix",get_matrix:"get_matrix",set_id:"set_id",get_id:"get_id",set_height:"set_height",get_height:"get_height",set_colorTransform:"set_colorTransform",get_colorTransform:"get_colorTransform",set_blendMode:"set_blendMode",get_blendMode:"get_blendMode",set_alpha:"set_alpha",get_alpha:"get_alpha"}};var mk=function(e,i,s,n,o,l,_){null==_&&(_=0),null==l&&(l=0),null==o&&(o=0),null==n&&(n=1),null==s&&(s=1),null==i&&(i=0),null==e&&(e=0),Hg.call(this,-1,e,i,s,n,o,l,_),this.__tiles=[],this.__length=0};k["openfl.display.TileContainer"]=mk,mk.__name__="openfl.display.TileContainer",mk.__interfaces__=[yj],mk.__super__=Hg,mk.prototype=x(Hg.prototype,{__tiles:null,addTile:function(e){return null==e?null:(e.parent==this&&(B.remove(this.__tiles,e),this.__length--),this.__tiles[this.get_numTiles()]=e,e.parent=this,this.__length++,this.__setRenderDirty(),e)},addTileAt:function(e,i){return null==e?null:(e.parent==this&&(B.remove(this.__tiles,e),this.__length--),this.__tiles.splice(i,0,e),e.parent=this,this.__length++,this.__setRenderDirty(),e)},addTiles:function(e){for(var i=0;i<e.length;){var s=e[i];++i,this.addTile(s)}return e},clone:function(){for(var e=new mk,i=0,s=this.__tiles;i<s.length;){var n=s[i];++i,e.addTile(n.clone())}return e},contains:function(e){return-1<this.__tiles.indexOf(e)},getBounds:function(e){for(var s,i=new ia,n=0,o=this.__tiles;n<o.length;)s=o[n],++n,s=s.getBounds(e),i.__expand(s.x,s.y,s.width,s.height);return i},getTileAt:function(e){return 0<=e&&e<this.get_numTiles()?this.__tiles[e]:null},getTileIndex:function(e){for(var i=0,s=this.__tiles.length;i<s;){var n=i++;if(this.__tiles[n]==e)return n}return-1},removeTile:function(e){return null!=e&&e.parent==this&&(e.parent=null,B.remove(this.__tiles,e),this.__length--,this.__setRenderDirty()),e},removeTileAt:function(e){return 0<=e&&e<this.get_numTiles()?this.removeTile(this.__tiles[e]):null},removeTiles:function(e,i){for(null==i&&(i=2147483647),null==e&&(e=0),0>e&&(e=0),i>this.__tiles.length-1&&(i=this.__tiles.length-1),e=this.__tiles.splice(e,i-e+1),i=0;i<e.length;){var s=e[i];++i,s.parent=null}this.__length=this.__tiles.length,this.__setRenderDirty()},setTileIndex:function(e,i){0<=i&&i<=this.get_numTiles()&&e.parent==this&&(B.remove(this.__tiles,e),this.__tiles.splice(i,0,e),this.__setRenderDirty())},sortTiles:function(e){this.__tiles.sort(e),this.__setRenderDirty()},swapTiles:function(e,i){if(e.parent==this&&i.parent==this){var s=this.__tiles.indexOf(e),n=this.__tiles.indexOf(i);this.__tiles[s]=i,this.__tiles[n]=e,this.__setRenderDirty()}},swapTilesAt:function(e,i){var s=this.__tiles[e];this.__tiles[e]=this.__tiles[i],this.__tiles[i]=s,this.__setRenderDirty()},get_numTiles:function(){return this.__length},get_height:function(){for(var i,e=ia.__pool.get(),s=0,n=this.__tiles;s<n.length;)i=n[s],++s,i=i.getBounds(this),e.__expand(i.x,i.y,i.width,i.height);return this.__getBounds(e,this.get_matrix()),s=e.height,ia.__pool.release(e),s},set_height:function(e){for(var s,i=ia.__pool.get(),n=0,o=this.__tiles;n<o.length;)s=o[n],++n,s=s.getBounds(this),i.__expand(s.x,s.y,s.width,s.height);return 0!=i.height&&this.set_scaleY(e/i.height),ia.__pool.release(i),e},get_width:function(){for(var i,e=ia.__pool.get(),s=0,n=this.__tiles;s<n.length;)i=n[s],++s,i=i.getBounds(this),e.__expand(i.x,i.y,i.width,i.height);return this.__getBounds(e,this.get_matrix()),s=e.width,ia.__pool.release(e),s},set_width:function(e){for(var s,i=ia.__pool.get(),n=0,o=this.__tiles;n<o.length;)s=o[n],++n,s=s.getBounds(this),i.__expand(s.x,s.y,s.width,s.height);return 0!=i.width&&this.set_scaleX(e/i.width),ia.__pool.release(i),e},__class__:mk,__properties__:x(Hg.prototype.__properties__,{get_numTiles:"get_numTiles"})});var Ig=function(e,i,s,n){null==n&&(n=!0),ya.call(this),this.__tileset=s,this.smoothing=n,this.tileColorTransformEnabled=this.tileBlendModeEnabled=this.tileAlphaEnabled=!0,this.__group=new mk,this.__group.set_tileset(s),this.__width=e,this.__height=i,this.__type=Oh.TILEMAP};k["openfl.display.Tilemap"]=Ig,Ig.__name__="openfl.display.Tilemap",Ig.__interfaces__=[yj],Ig.__super__=ya,Ig.prototype=x(ya.prototype,{tileAlphaEnabled:null,tileBlendModeEnabled:null,tileColorTransformEnabled:null,smoothing:null,__group:null,__tileset:null,__buffer:null,__bufferDirty:null,__height:null,__width:null,addTile:function(e){return this.__group.addTile(e)},addTileAt:function(e,i){return this.__group.addTileAt(e,i)},addTiles:function(e){return this.__group.addTiles(e)},contains:function(e){return this.__group.contains(e)},getTileAt:function(e){return this.__group.getTileAt(e)},getTileIndex:function(e){return this.__group.getTileIndex(e)},getTiles:function(){return this.__group.clone()},removeTile:function(e){return this.__group.removeTile(e)},removeTileAt:function(e){return this.__group.removeTileAt(e)},removeTiles:function(e,i){null==i&&(i=2147483647),null==e&&(e=0),this.__group.removeTiles(e,i)},setTileIndex:function(e,i){this.__group.setTileIndex(e,i)},setTiles:function(e){for(var i=0,s=this.__group.__tiles;i<s.length;){var n=s[i];++i,this.removeTile(n)}for(i=0,e=e.__tiles;i<e.length;)s=e[i],++i,this.addTile(s)},sortTiles:function(e){this.__group.sortTiles(e)},swapTiles:function(e,i){this.__group.swapTiles(e,i)},swapTilesAt:function(e,i){this.__group.swapTilesAt(e,i)},__enterFrame:function(e){this.__group.__dirty&&!this.__renderDirty&&(this.__renderDirty=!0,this.__setParentRenderDirty())},__getBounds:function(e,i){var s=ia.__pool.get();s.setTo(0,0,this.__width,this.__height),s.__transform(s,i),e.__expand(s.x,s.y,s.width,s.height),ia.__pool.release(s)},__hitTest:function(e,i,s,n,o,l){if(!l.get_visible()||this.__isMask||null!=this.get_mask()&&!this.get_mask().__hitTestMask(e,i))return!1;this.__getRenderTransform();var _=(s=this.__renderTransform).a*s.d-s.b*s.c;s=0==_?-s.tx:1/_*(s.c*(s.ty-i)+s.d*(e-s.tx));var h=(_=this.__renderTransform).a*_.d-_.b*_.c;return e=0==h?-_.ty:1/h*(_.a*(i-_.ty)+_.b*(_.tx-e)),0<s&&0<e&&s<=this.__width&&e<=this.__height&&(null==n||o||n.push(l),!0)},__renderFlash:function(){},get_height:function(){return this.__height*Math.abs(this.get_scaleY())},set_height:function(e){return this.__height=0|e,this.__height*Math.abs(this.get_scaleY())},get_numTiles:function(){return this.__group.__length},get_tileset:function(){return this.__tileset},set_tileset:function(e){return e!=this.__tileset&&(this.__tileset=e,this.__group.set_tileset(e),this.__group.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())),e},get_width:function(){return this.__width*Math.abs(this.__scaleX)},set_width:function(e){return this.__width=0|e,this.__width*Math.abs(this.__scaleX)},__class__:Ig,__properties__:x(ya.prototype.__properties__,{set_tileset:"set_tileset",get_tileset:"get_tileset",get_numTiles:"get_numTiles"})});var Gi=function(e,i){if(this.__bitmapData=e,this.rectData=La.toFloatVector(null),this.__data=[],null!=i)for(e=0;e<i.length;){var s=i[e];++e,this.addRect(s)}};k["openfl.display.Tileset"]=Gi,Gi.__name__="openfl.display.Tileset",Gi.prototype={rectData:null,__bitmapData:null,__data:null,addRect:function(e){return null==e?-1:(this.rectData.push(e.x),this.rectData.push(e.y),this.rectData.push(e.width),this.rectData.push(e.height),(e=new bp(e)).__update(this.__bitmapData),this.__data.push(e),this.__data.length-1)},clone:function(){for(var e=new Gi(this.__bitmapData,null),i=ia.__pool.get(),s=0,n=this.__data;s<n.length;){var o=n[s];++s,i.setTo(o.x,o.y,o.width,o.height),e.addRect(i)}return ia.__pool.release(i),e},hasRect:function(e){for(var i=0,s=this.__data;i<s.length;){var n=s[i];if(++i,e.x==n.x&&e.y==n.y&&e.width==n.width&&e.height==n.height)return!0}return!1},getRect:function(e){return e<this.__data.length&&0<=e?new ia(this.__data[e].x,this.__data[e].y,this.__data[e].width,this.__data[e].height):null},getRectID:function(e){for(var i,s=0,n=this.__data.length;s<n;){var o=s++;if(e.x==(i=this.__data[o]).x&&e.y==i.y&&e.width==i.width&&e.height==i.height)return o}return null},get_bitmapData:function(){return this.__bitmapData},set_bitmapData:function(e){this.__bitmapData=e;for(var i=0,s=this.__data;i<s.length;){var n=s[i];++i,n.__update(this.__bitmapData)}return e},get_numRects:function(){return this.__data.length},__class__:Gi,__properties__:{get_numRects:"get_numRects",set_bitmapData:"set_bitmapData",get_bitmapData:"get_bitmapData"}};var bp=function(e){null!=e&&(this.x=0|e.x,this.y=0|e.y,this.width=0|e.width,this.height=0|e.height)};k["openfl.display._Tileset.TileData"]=bp,bp.__name__="openfl.display._Tileset.TileData",bp.prototype={height:null,width:null,x:null,y:null,__bitmapData:null,__uvHeight:null,__uvWidth:null,__uvX:null,__uvY:null,__update:function(e){if(null!=e){var i=e.width;e=e.height,this.__uvX=this.x/i,this.__uvY=this.y/e,this.__uvWidth=(this.x+this.width)/i,this.__uvHeight=(this.y+this.height)/e}},__class__:bp};var Kl={};k["openfl.display._TriangleCulling.TriangleCulling_Impl_"]=Kl,Kl.__name__="openfl.display._TriangleCulling.TriangleCulling_Impl_",Kl.fromString=function(e){switch(e){case"negative":return 0;case"none":return 1;case"positive":return 2;default:return null}},Kl.toString=function(e){switch(e){case 0:return"negative";case 1:return"none";case 2:return"positive";default:return null}};var Gl=function(e,i){if(Jj.call(this,e,i),this.stage=new jk(this,Object.prototype.hasOwnProperty.call(i.context,"background")?i.context.background:16777215),Object.prototype.hasOwnProperty.call(i,"parameters"))try{this.stage.get_loaderInfo().parameters=i.parameters}catch(s){ha.lastException=s}Object.prototype.hasOwnProperty.call(i,"resizable")&&!i.resizable&&this.stage.__setLogicalSize(i.width,i.height),e.addModule(this.stage)};k["openfl.display.Window"]=Gl,Gl.__name__="openfl.display.Window",Gl.__super__=Jj,Gl.prototype=x(Jj.prototype,{__class__:Gl});var Dc=function(e,i,s){if(this.totalGPUMemory=0,this.profile=3,this.driverInfo="OpenGL (Direct blitting)",this.backBufferHeight=this.backBufferWidth=0,A.call(this),this.__stage=e,this.__contextState=i,this.__stage3D=s,this.__context=e.window.context,this.gl=this.__context.webgl,null==this.__contextState&&(this.__contextState=new El),this.__state=new El,this.__vertexConstants=new Float32Array(512),this.__fragmentConstants=new Float32Array(512),this.__positionScale=null!=(e=[1,1,1,1])?new Float32Array(e):null,this.__programs=new va,-1==Dc.__glMaxViewportDims&&(Dc.__glMaxViewportDims=this.gl.getParameter(this.gl.MAX_VIEWPORT_DIMS)),this.maxBackBufferHeight=this.maxBackBufferWidth=Dc.__glMaxViewportDims,-1==Dc.__glMaxTextureMaxAnisotropy&&((null==(e=this.gl.getExtension("EXT_texture_filter_anisotropic"))||null==e.MAX_TEXTURE_MAX_ANISOTROPY_EXT)&&(e=this.gl.getExtension("MOZ_EXT_texture_filter_anisotropic")),(null==e||null==e.MAX_TEXTURE_MAX_ANISOTROPY_EXT)&&(e=this.gl.getExtension("WEBKIT_EXT_texture_filter_anisotropic")),null!=e?(Dc.__glTextureMaxAnisotropy=e.TEXTURE_MAX_ANISOTROPY_EXT,Dc.__glMaxTextureMaxAnisotropy=this.gl.getParameter(e.MAX_TEXTURE_MAX_ANISOTROPY_EXT)):(Dc.__glTextureMaxAnisotropy=0,Dc.__glMaxTextureMaxAnisotropy=0)),-1==Dc.__glDepthStencil&&(Dc.__glDepthStencil=this.gl.DEPTH_STENCIL),null==Dc.__driverInfo){e=this.gl.getParameter(this.gl.VENDOR),i=this.gl.getParameter(this.gl.VERSION),s=this.gl.getParameter(this.gl.RENDERER);var n=this.gl.getParameter(this.gl.SHADING_LANGUAGE_VERSION);Dc.__driverInfo="OpenGL Vendor="+e+" Version="+i+" Renderer="+s+" GLSL="+n}this.driverInfo=Dc.__driverInfo,this.__quadIndexBufferElements=16383,e=null!=(e=this.__quadIndexBufferCount=6*this.__quadIndexBufferElements)?new Uint16Array(e):null,n=s=i=0;for(var o=this.__quadIndexBufferElements;n<o;)n++,e[i]=s,e[i+1]=s+1,e[i+2]=s+2,e[i+3]=s+2,e[i+4]=s+1,e[i+5]=s+3,i+=6,s+=4;this.__quadIndexBuffer=this.createIndexBuffer(this.__quadIndexBufferCount),this.__quadIndexBuffer.uploadFromTypedArray(e),this.__bitmapDataPool=new Ho(30,this)};k["openfl.display3D.Context3D"]=Dc,Dc.__name__="openfl.display3D.Context3D",Dc.__super__=A,Dc.prototype=x(A.prototype,{backBufferHeight:null,backBufferWidth:null,driverInfo:null,maxBackBufferHeight:null,maxBackBufferWidth:null,profile:null,totalGPUMemory:null,gl:null,__backBufferAntiAlias:null,__backBufferTexture:null,__backBufferWantsBestResolution:null,__backBufferWantsBestResolutionOnBrowserZoom:null,__bitmapDataPool:null,__cleared:null,__context:null,__contextState:null,__renderStage3DProgram:null,__enableErrorChecking:null,__fragmentConstants:null,__frontBufferTexture:null,__positionScale:null,__present:null,__programs:null,__quadIndexBuffer:null,__quadIndexBufferCount:null,__quadIndexBufferElements:null,__stage:null,__stage3D:null,__state:null,__vertexConstants:null,clear:function(e,i,s,n,o,l,_){null==_&&(_=7),null==l&&(l=0),null==o&&(o=1),null==n&&(n=1),null==s&&(s=0),null==i&&(i=0),null==e&&(e=0),this.__flushGLFramebuffer(),this.__flushGLViewport();var h=0;1&_&&(null==this.__state.renderToTexture&&(this.__stage.context3D!=this||this.__stage.__renderer.__cleared||(this.__stage.__renderer.__cleared=!0),this.__cleared=!0),h|=this.gl.COLOR_BUFFER_BIT,(1!=this.__contextState.colorMaskRed||1!=this.__contextState.colorMaskGreen||1!=this.__contextState.colorMaskBlue||1!=this.__contextState.colorMaskAlpha)&&(this.gl.colorMask(!0,!0,!0,!0),this.__contextState.colorMaskRed=!0,this.__contextState.colorMaskGreen=!0,this.__contextState.colorMaskBlue=!0,this.__contextState.colorMaskAlpha=!0),this.gl.clearColor(e,i,s,n)),2&_&&(h|=this.gl.DEPTH_BUFFER_BIT,1!=this.__contextState.depthMask&&(this.gl.depthMask(!0),this.__contextState.depthMask=!0),this.gl.clearDepth(o)),4&_&&(h|=this.gl.STENCIL_BUFFER_BIT,255!=this.__contextState.stencilWriteMask&&(this.gl.stencilMask(255),this.__contextState.stencilWriteMask=255),this.gl.clearStencil(l),this.__contextState.stencilWriteMask=255),0!=h&&(this.__setGLScissorTest(!1),this.gl.clear(h))},configureBackBuffer:function(e,i,s,n,o,l){if(null==l&&(l=!1),null==o&&(o=!1),null==n&&(n=!0),null==this.__stage3D)this.backBufferWidth=e,this.backBufferHeight=i,this.__backBufferAntiAlias=s,this.__state.backBufferEnableDepthAndStencil=n,this.__backBufferWantsBestResolution=o,this.__backBufferWantsBestResolutionOnBrowserZoom=l;else{if(null==this.__backBufferTexture||this.backBufferWidth!=e||this.backBufferHeight!=i){null!=this.__backBufferTexture&&this.__backBufferTexture.dispose(),null!=this.__frontBufferTexture&&this.__frontBufferTexture.dispose(),this.__backBufferTexture=this.createRectangleTexture(e,i,1,!0),this.__frontBufferTexture=this.createRectangleTexture(e,i,1,!0),null==this.__stage3D.__vertexBuffer&&(this.__stage3D.__vertexBuffer=this.createVertexBuffer(4,5));var _=La.toFloatVector(null,null,null,[e,i,0,1,1,0,i,0,0,1,e,0,0,1,0,0,0,0,0,0]);this.__stage3D.__vertexBuffer.uploadFromVector(_,0,20),null==this.__stage3D.__indexBuffer&&(this.__stage3D.__indexBuffer=this.createIndexBuffer(6),_=La.toIntVector(null,null,null,[0,1,2,2,1,3]),this.__stage3D.__indexBuffer.uploadFromVector(_,0,6))}this.backBufferWidth=e,this.backBufferHeight=i,this.__backBufferAntiAlias=s,this.__state.backBufferEnableDepthAndStencil=n,this.__backBufferWantsBestResolution=o,this.__backBufferWantsBestResolutionOnBrowserZoom=l,this.__state.__primaryGLFramebuffer=this.__backBufferTexture.__getGLFramebuffer(n,s,0),this.__frontBufferTexture.__getGLFramebuffer(n,s,0)}},createCubeTexture:function(e,i,s,n){return null==n&&(n=0),new nk(this,e,i,s,n)},createIndexBuffer:function(e,i){return null==i&&(i=1),new yr(this,e,i)},createProgram:function(e){return null==e&&(e=0),new zr(this,e)},createRectangleTexture:function(e,i,s,n){return new Ll(this,e,i,Kh.toString(s),n)},createTexture:function(e,i,s,n,o){return null==o&&(o=0),new fj(this,e,i,s,n,o)},createVertexBuffer:function(e,i,s){return null==s&&(s=1),new Ar(this,e,i,ok.toString(s))},createVideoTexture:function(){return new cp(this)},dispose:function(e){this.gl=null,this.__dispose()},drawToBitmapData:function(e,i,s){if(null!=e)if(i=null!=i?i.__toLimeRectangle():new je(0,0,this.backBufferWidth,this.backBufferHeight),s=null!=s?s.__toLimeVector2():new Fd,this.__stage.context3D==this){if(null!=this.__stage.window){if(null!=this.__stage3D){var n=0|-this.__stage3D.get_x(),o=0|-this.__stage3D.get_y();s.x=n,s.y=o}n=this.__stage.window.readPixels(),e.image.copyPixels(n,i,s)}}else null!=this.__backBufferTexture&&(n=this.__state.renderToTexture,this.setRenderToBackBuffer(),this.__flushGLFramebuffer(),this.__flushGLViewport(),o=null!=(o=this.backBufferWidth*this.backBufferHeight*4)?new Uint8Array(o):null,this.gl.readPixels(0,0,this.backBufferWidth,this.backBufferHeight,this.__backBufferTexture.__format,this.gl.UNSIGNED_BYTE,o),o=new Lb(new pg(o,this.backBufferWidth,this.backBufferHeight,32,2)),e.image.copyPixels(o,i,s),null!=n&&this.setRenderToTexture(n,this.__state.renderToTextureDepthStencil,this.__state.renderToTextureAntiAlias,this.__state.renderToTextureSurfaceSelector))},drawTriangles:function(e,i,s){null==s&&(s=-1),null==i&&(i=0),null==this.__state.renderToTexture&&(this.__stage.context3D!=this||this.__stage.__renderer.__cleared?this.__cleared||this.clear(0,0,0,0,1,0,1):this.__stage.__renderer.__clear()),this.__flushGL(),null!=this.__state.program&&this.__state.program.__flush(),s=-1==s?e.__numIndices:3*s,this.__bindGLElementArrayBuffer(e.__id),this.gl.drawElements(this.gl.TRIANGLES,s,this.gl.UNSIGNED_SHORT,2*i)},present:function(){if(this.setRenderToBackBuffer(),null!=this.__stage3D&&null!=this.__backBufferTexture){this.__cleared||this.clear(0,0,0,0,1,0,1);var e=this.__backBufferTexture;this.__backBufferTexture=this.__frontBufferTexture,this.__frontBufferTexture=e,this.__state.__primaryGLFramebuffer=this.__backBufferTexture.__getGLFramebuffer(this.__state.backBufferEnableDepthAndStencil,this.__backBufferAntiAlias,0),this.__cleared=!1}this.__present=!0},setBlendFactors:function(e,i){this.setBlendFactorsSeparate(e,i,e,i)},setBlendFactorsSeparate:function(e,i,s,n){this.__state.blendSourceRGBFactor=e,this.__state.blendDestinationRGBFactor=i,this.__state.blendSourceAlphaFactor=s,this.__state.blendDestinationAlphaFactor=n,this.__setGLBlendEquation(this.gl.FUNC_ADD)},setColorMask:function(e,i,s,n){this.__state.colorMaskRed=e,this.__state.colorMaskGreen=i,this.__state.colorMaskBlue=s,this.__state.colorMaskAlpha=n},setCulling:function(e){this.__state.culling=e},setDepthTest:function(e,i){this.__state.depthMask=e,this.__state.depthCompareMode=i},setProgram:function(e){if(this.__state.program=e,this.__state.shader=null,null!=e)for(var i=0,s=e.__samplerStates.length;i<s;){var n=i++;null==this.__state.samplerStates[n]?this.__state.samplerStates[n]=e.__samplerStates[n].clone():this.__state.samplerStates[n].copyFrom(e.__samplerStates[n])}},setProgramConstantsFromByteArray:function(e,i,s,n,o){if(0!=s&&null!=this.__state.program&&(null==this.__state.program||1!=this.__state.program.__format)){-1==s&&(s=(ta.get_length(n)>>>2)-o);var l=(e=1==e)?this.__vertexConstants:this.__fragmentConstants,_=ta.toBytes(n),h=0;n=ta.get_length(n),null==h&&(h=0),n=null==h?new Float32Array(_.b.bufferValue):null==n?new Float32Array(_.b.bufferValue,h):new Float32Array(_.b.bufferValue,h,n),_=4*i,o=Ga.toFloat(o)/Ga.toFloat(4)|0,h=0;for(var m=4*s;h<m;){var f=h++;l[_+f]=n[o+f]}null!=this.__state.program&&this.__state.program.__markDirty(e,i,s)}},setProgramConstantsFromMatrix:function(e,i,s,n){if(null==n&&(n=!1),null!=this.__state.program&&1==this.__state.program.__format)this.__flushGLProgram(),(e=new Float32Array(16))[0]=s.rawData.get(0),e[1]=s.rawData.get(1),e[2]=s.rawData.get(2),e[3]=s.rawData.get(3),e[4]=s.rawData.get(4),e[5]=s.rawData.get(5),e[6]=s.rawData.get(6),e[7]=s.rawData.get(7),e[8]=s.rawData.get(8),e[9]=s.rawData.get(9),e[10]=s.rawData.get(10),e[11]=s.rawData.get(11),e[12]=s.rawData.get(12),e[13]=s.rawData.get(13),e[14]=s.rawData.get(14),e[15]=s.rawData.get(15),zb.uniformMatrix4fv(this.gl,i,n,e);else{var o=(e=1==e)?this.__vertexConstants:this.__fragmentConstants;s=s.rawData;var l=4*i;n?(o[l++]=s.get(0),o[l++]=s.get(4),o[l++]=s.get(8),o[l++]=s.get(12),o[l++]=s.get(1),o[l++]=s.get(5),o[l++]=s.get(9),o[l++]=s.get(13),o[l++]=s.get(2),o[l++]=s.get(6),o[l++]=s.get(10),o[l++]=s.get(14),o[l++]=s.get(3),o[l++]=s.get(7),o[l++]=s.get(11)):(o[l++]=s.get(0),o[l++]=s.get(1),o[l++]=s.get(2),o[l++]=s.get(3),o[l++]=s.get(4),o[l++]=s.get(5),o[l++]=s.get(6),o[l++]=s.get(7),o[l++]=s.get(8),o[l++]=s.get(9),o[l++]=s.get(10),o[l++]=s.get(11),o[l++]=s.get(12),o[l++]=s.get(13),o[l++]=s.get(14)),o[l++]=s.get(15),null!=this.__state.program&&this.__state.program.__markDirty(e,i,4)}},setProgramConstantsFromVector:function(e,i,s,n){if(null==n&&(n=-1),0!=n&&(null==this.__state.program||1!=this.__state.program.__format)){-1==n&&(n=s.get_length()>>2);for(var o=(e=1==e)?this.__vertexConstants:this.__fragmentConstants,l=0,_=4*i,h=0,m=n;h<m;)h++,o[_++]=s.get(l++),o[_++]=s.get(l++),o[_++]=s.get(l++),o[_++]=s.get(l++);null!=this.__state.program&&this.__state.program.__markDirty(e,i,n)}},setRenderToBackBuffer:function(){this.__state.renderToTexture=null},setRenderToTexture:function(e,i,s,n){null==n&&(n=0),null==s&&(s=0),null==i&&(i=!1),this.__state.renderToTexture=e,this.__state.renderToTextureDepthStencil=i,this.__state.renderToTextureAntiAlias=s,this.__state.renderToTextureSurfaceSelector=n},setSamplerStateAt:function(e,i,s,n){null==this.__state.samplerStates[e]&&(this.__state.samplerStates[e]=new yh),(e=this.__state.samplerStates[e]).wrap=i,e.filter=s,e.mipfilter=n},setScissorRectangle:function(e){null!=e?(this.__state.scissorEnabled=!0,this.__state.scissorRectangle.copyFrom(e)):this.__state.scissorEnabled=!1},setStencilActions:function(e,i,s,n,o){null==o&&(o=5),null==n&&(n=5),null==s&&(s=5),null==i&&(i=0),null==e&&(e=2),this.__state.stencilTriangleFace=e,this.__state.stencilCompareMode=i,this.__state.stencilPass=s,this.__state.stencilDepthFail=n,this.__state.stencilFail=o},setStencilReferenceValue:function(e,i,s){null==s&&(s=255),null==i&&(i=255),this.__state.stencilReferenceValue=e,this.__state.stencilReadMask=i,this.__state.stencilWriteMask=s},setTextureAt:function(e,i){this.__state.textures[e]=i},setVertexBufferAt:function(e,i,s,n){if(null==n&&(n=4),null==s&&(s=0),null==i)this.gl.disableVertexAttribArray(e),this.__bindGLArrayBuffer(null);else switch(this.__bindGLArrayBuffer(i.__id),this.gl.enableVertexAttribArray(e),s*=4,n){case 0:this.gl.vertexAttribPointer(e,4,this.gl.UNSIGNED_BYTE,!0,i.__stride,s);break;case 1:this.gl.vertexAttribPointer(e,1,this.gl.FLOAT,!1,i.__stride,s);break;case 2:this.gl.vertexAttribPointer(e,2,this.gl.FLOAT,!1,i.__stride,s);break;case 3:this.gl.vertexAttribPointer(e,3,this.gl.FLOAT,!1,i.__stride,s);break;case 4:this.gl.vertexAttribPointer(e,4,this.gl.FLOAT,!1,i.__stride,s);break;default:throw new E(new td)}},__bindGLArrayBuffer:function(e){this.__contextState.__currentGLArrayBuffer!=e&&(this.gl.bindBuffer(this.gl.ARRAY_BUFFER,e),this.__contextState.__currentGLArrayBuffer=e)},__bindGLElementArrayBuffer:function(e){this.__contextState.__currentGLElementArrayBuffer!=e&&(this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,e),this.__contextState.__currentGLElementArrayBuffer=e)},__bindGLFramebuffer:function(e){this.__contextState.__currentGLFramebuffer!=e&&(this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,e),this.__contextState.__currentGLFramebuffer=e)},__bindGLTexture2D:function(e){this.gl.bindTexture(this.gl.TEXTURE_2D,e),this.__contextState.__currentGLTexture2D=e},__bindGLTextureCubeMap:function(e){this.gl.bindTexture(this.gl.TEXTURE_CUBE_MAP,e),this.__contextState.__currentGLTextureCubeMap=e},__dispose:function(){this.driverInfo+=" (Disposed)",null!=this.__stage3D&&(this.__stage3D.__indexBuffer=null,this.__stage3D.__vertexBuffer=null,this.__stage3D=this.__stage3D.context3D=null),this.__positionScale=this.__frontBufferTexture=this.__fragmentConstants=this.__renderStage3DProgram=this.__context=this.__backBufferTexture=null,this.__present=!1,this.__vertexConstants=this.__stage=this.__quadIndexBuffer=null},__drawTriangles:function(e,i){null==e&&(e=0),null==this.__state.renderToTexture&&(this.__stage.context3D!=this||this.__stage.__renderer.__cleared?this.__cleared||this.clear(0,0,0,0,1,0,1):this.__stage.__renderer.__clear()),this.__flushGL(),null!=this.__state.program&&this.__state.program.__flush(),this.gl.drawArrays(this.gl.TRIANGLES,e,i)},__flushGL:function(){this.__flushGLProgram(),this.__flushGLFramebuffer(),this.__flushGLViewport(),this.__flushGLBlend(),(this.__contextState.colorMaskRed!=this.__state.colorMaskRed||this.__contextState.colorMaskGreen!=this.__state.colorMaskGreen||this.__contextState.colorMaskBlue!=this.__state.colorMaskBlue||this.__contextState.colorMaskAlpha!=this.__state.colorMaskAlpha)&&(this.gl.colorMask(this.__state.colorMaskRed,this.__state.colorMaskGreen,this.__state.colorMaskBlue,this.__state.colorMaskAlpha),this.__contextState.colorMaskRed=this.__state.colorMaskRed,this.__contextState.colorMaskGreen=this.__state.colorMaskGreen,this.__contextState.colorMaskBlue=this.__state.colorMaskBlue,this.__contextState.colorMaskAlpha=this.__state.colorMaskAlpha),this.__flushGLCulling(),this.__flushGLDepth(),this.__flushGLScissor(),this.__flushGLStencil(),this.__flushGLTextures()},__flushGLBlend:function(){(this.__contextState.blendDestinationRGBFactor!=this.__state.blendDestinationRGBFactor||this.__contextState.blendSourceRGBFactor!=this.__state.blendSourceRGBFactor||this.__contextState.blendDestinationAlphaFactor!=this.__state.blendDestinationAlphaFactor||this.__contextState.blendSourceAlphaFactor!=this.__state.blendSourceAlphaFactor)&&(this.__setGLBlend(!0),this.__state.blendDestinationRGBFactor==this.__state.blendDestinationAlphaFactor&&this.__state.blendSourceRGBFactor==this.__state.blendSourceAlphaFactor?this.gl.blendFunc(this.__getGLBlend(this.__state.blendSourceRGBFactor),this.__getGLBlend(this.__state.blendDestinationRGBFactor)):this.gl.blendFuncSeparate(this.__getGLBlend(this.__state.blendSourceRGBFactor),this.__getGLBlend(this.__state.blendDestinationRGBFactor),this.__getGLBlend(this.__state.blendSourceAlphaFactor),this.__getGLBlend(this.__state.blendDestinationAlphaFactor)),this.__contextState.blendDestinationRGBFactor=this.__state.blendDestinationRGBFactor,this.__contextState.blendSourceRGBFactor=this.__state.blendSourceRGBFactor,this.__contextState.blendDestinationAlphaFactor=this.__state.blendDestinationAlphaFactor,this.__contextState.blendSourceAlphaFactor=this.__state.blendSourceAlphaFactor)},__flushGLColor:function(){(this.__contextState.colorMaskRed!=this.__state.colorMaskRed||this.__contextState.colorMaskGreen!=this.__state.colorMaskGreen||this.__contextState.colorMaskBlue!=this.__state.colorMaskBlue||this.__contextState.colorMaskAlpha!=this.__state.colorMaskAlpha)&&(this.gl.colorMask(this.__state.colorMaskRed,this.__state.colorMaskGreen,this.__state.colorMaskBlue,this.__state.colorMaskAlpha),this.__contextState.colorMaskRed=this.__state.colorMaskRed,this.__contextState.colorMaskGreen=this.__state.colorMaskGreen,this.__contextState.colorMaskBlue=this.__state.colorMaskBlue,this.__contextState.colorMaskAlpha=this.__state.colorMaskAlpha)},__flushGLCulling:function(){if(this.__contextState.culling!=this.__state.culling){if(3==this.__state.culling)this.__setGLCullFace(!1);else switch(this.__setGLCullFace(!0),this.__state.culling){case 0:this.gl.cullFace(this.gl.BACK);break;case 1:this.gl.cullFace(this.gl.FRONT);break;case 2:this.gl.cullFace(this.gl.FRONT_AND_BACK);break;case 3:break;default:throw new E(new td)}this.__contextState.culling=this.__state.culling}},__flushGLDepth:function(){var e=this.__state.depthMask&&(null!=this.__state.renderToTexture?this.__state.renderToTextureDepthStencil:this.__state.backBufferEnableDepthAndStencil);if(this.__contextState.depthMask!=e&&(this.gl.depthMask(e),this.__contextState.depthMask=e),this.__contextState.depthCompareMode!=this.__state.depthCompareMode){switch(this.__state.depthCompareMode){case 0:this.gl.depthFunc(this.gl.ALWAYS);break;case 1:this.gl.depthFunc(this.gl.EQUAL);break;case 2:this.gl.depthFunc(this.gl.GREATER);break;case 3:this.gl.depthFunc(this.gl.GEQUAL);break;case 4:this.gl.depthFunc(this.gl.LESS);break;case 5:this.gl.depthFunc(this.gl.LEQUAL);break;case 6:this.gl.depthFunc(this.gl.NEVER);break;case 7:this.gl.depthFunc(this.gl.NOTEQUAL);break;default:throw new E(new td)}this.__contextState.depthCompareMode=this.__state.depthCompareMode}},__flushGLFramebuffer:function(){if(null!=this.__state.renderToTexture){if(this.__contextState.renderToTexture!=this.__state.renderToTexture||this.__contextState.renderToTextureSurfaceSelector!=this.__state.renderToTextureSurfaceSelector){var e=this.__state.renderToTexture.__getGLFramebuffer(this.__state.renderToTextureDepthStencil,this.__state.renderToTextureAntiAlias,this.__state.renderToTextureSurfaceSelector);this.__bindGLFramebuffer(e),this.__contextState.renderToTexture=this.__state.renderToTexture,this.__contextState.renderToTextureAntiAlias=this.__state.renderToTextureAntiAlias,this.__contextState.renderToTextureDepthStencil=this.__state.renderToTextureDepthStencil,this.__contextState.renderToTextureSurfaceSelector=this.__state.renderToTextureSurfaceSelector}this.__setGLDepthTest(this.__state.renderToTextureDepthStencil),this.__setGLStencilTest(this.__state.renderToTextureDepthStencil),this.__setGLFrontFace(!0)}else{if(null==this.__stage&&0==this.backBufferWidth&&0==this.backBufferHeight)throw new E(new Xc("Context3D backbuffer has not been configured"));(null!=this.__contextState.renderToTexture||this.__contextState.__currentGLFramebuffer!=this.__state.__primaryGLFramebuffer||this.__contextState.backBufferEnableDepthAndStencil!=this.__state.backBufferEnableDepthAndStencil)&&(this.__bindGLFramebuffer(this.__state.__primaryGLFramebuffer),this.__contextState.renderToTexture=null,this.__contextState.backBufferEnableDepthAndStencil=this.__state.backBufferEnableDepthAndStencil),this.__setGLDepthTest(this.__state.backBufferEnableDepthAndStencil),this.__setGLStencilTest(this.__state.backBufferEnableDepthAndStencil),this.__setGLFrontFace(this.__stage.context3D!=this)}},__flushGLProgram:function(){var e=this.__state.shader,i=this.__state.program;this.__contextState.shader!=e&&(null!=this.__contextState.shader&&this.__contextState.shader.__disable(),e?.__enable(),this.__contextState.shader=e),this.__contextState.program!=i&&(null!=this.__contextState.program&&this.__contextState.program.__disable(),i?.__enable(),this.__contextState.program=i),null!=i&&0==i.__format&&(this.__positionScale[1]=this.__stage.context3D==this&&null==this.__state.renderToTexture?1:-1,i.__setPositionScale(this.__positionScale))},__flushGLScissor:function(){if(this.__state.scissorEnabled){this.__setGLScissorTest(!0),this.__contextState.scissorEnabled=!0;var e=0|this.__state.scissorRectangle.x,i=0|this.__state.scissorRectangle.y,s=0|this.__state.scissorRectangle.width,n=0|this.__state.scissorRectangle.height;null==this.__state.renderToTexture&&null==this.__stage3D&&(i=(this.__stage.window.__height*this.__stage.window.__scale|0)-(0|this.__state.scissorRectangle.height)-i),(this.__contextState.scissorRectangle.x!=e||this.__contextState.scissorRectangle.y!=i||this.__contextState.scissorRectangle.width!=s||this.__contextState.scissorRectangle.height!=n)&&(this.gl.scissor(e,i,s,n),this.__contextState.scissorRectangle.setTo(e,i,s,n))}else this.__contextState.scissorEnabled!=this.__state.scissorEnabled&&(this.__setGLScissorTest(!1),this.__contextState.scissorEnabled=!1)},__flushGLStencil:function(){(this.__contextState.stencilTriangleFace!=this.__state.stencilTriangleFace||this.__contextState.stencilPass!=this.__state.stencilPass||this.__contextState.stencilDepthFail!=this.__state.stencilDepthFail||this.__contextState.stencilFail!=this.__state.stencilFail)&&(this.gl.stencilOpSeparate(this.__getGLTriangleFace(this.__state.stencilTriangleFace),this.__getGLStencilAction(this.__state.stencilFail),this.__getGLStencilAction(this.__state.stencilDepthFail),this.__getGLStencilAction(this.__state.stencilPass)),this.__contextState.stencilTriangleFace=this.__state.stencilTriangleFace,this.__contextState.stencilPass=this.__state.stencilPass,this.__contextState.stencilDepthFail=this.__state.stencilDepthFail,this.__contextState.stencilFail=this.__state.stencilFail),this.__contextState.stencilWriteMask!=this.__state.stencilWriteMask&&(this.gl.stencilMask(this.__state.stencilWriteMask),this.__contextState.stencilWriteMask=this.__state.stencilWriteMask),(this.__contextState.stencilCompareMode!=this.__state.stencilCompareMode||this.__contextState.stencilReferenceValue!=this.__state.stencilReferenceValue||this.__contextState.stencilReadMask!=this.__state.stencilReadMask)&&(this.gl.stencilFunc(this.__getGLCompareMode(this.__state.stencilCompareMode),this.__state.stencilReferenceValue,this.__state.stencilReadMask),this.__contextState.stencilCompareMode=this.__state.stencilCompareMode,this.__contextState.stencilReferenceValue=this.__state.stencilReferenceValue,this.__contextState.stencilReadMask=this.__state.stencilReadMask)},__flushGLTextures:function(){for(var i,s,e=0,n=0,o=this.__state.textures.length;n<o;){var l=n++;i=this.__state.textures[l],null==(s=this.__state.samplerStates[l])&&(this.__state.samplerStates[l]=new yh,s=this.__state.samplerStates[l]),this.gl.activeTexture(this.gl.TEXTURE0+e),null!=i?(i.__textureTarget==this.gl.TEXTURE_2D?this.__bindGLTexture2D(i.__getTexture()):this.__bindGLTextureCubeMap(i.__getTexture()),this.__contextState.textures[l]=i,i.__setSamplerState(s)):this.__bindGLTexture2D(null),null!=this.__state.program&&0==this.__state.program.__format&&s.textureAlpha&&(this.gl.activeTexture(this.gl.TEXTURE0+e+4),null!=i&&null!=i.__alphaTexture?(i.__alphaTexture.__textureTarget==this.gl.TEXTURE_2D?this.__bindGLTexture2D(i.__alphaTexture.__getTexture()):this.__bindGLTextureCubeMap(i.__alphaTexture.__getTexture()),i.__alphaTexture.__setSamplerState(s),this.gl.uniform1i(this.__state.program.__agalAlphaSamplerEnabled[e].location,1)):(this.__bindGLTexture2D(null),this.gl.uniform1i(this.__state.program.__agalAlphaSamplerEnabled[e].location,0))),++e}},__flushGLViewport:function(){if(null==this.__state.renderToTexture)if(this.__stage.context3D==this){var e=null==this.__stage3D?0:0|this.__stage3D.get_x(),i=this.__stage.window.__height*this.__stage.window.__scale-this.backBufferHeight-(null==this.__stage3D?0:this.__stage3D.get_y())|0;this.gl.viewport(e,i,this.backBufferWidth,this.backBufferHeight)}else this.gl.viewport(0,0,this.backBufferWidth,this.backBufferHeight);else i=e=0,this.__state.renderToTexture instanceof fj||this.__state.renderToTexture instanceof Ll?(e=(i=this.__state.renderToTexture).__width,i=i.__height):this.__state.renderToTexture instanceof nk&&(i=e=(i=this.__state.renderToTexture).__size),this.gl.viewport(0,0,e,i)},__getGLBlend:function(e){switch(e){case 0:return this.gl.DST_ALPHA;case 1:return this.gl.DST_COLOR;case 2:return this.gl.ONE;case 3:return this.gl.ONE_MINUS_DST_ALPHA;case 4:return this.gl.ONE_MINUS_DST_COLOR;case 5:return this.gl.ONE_MINUS_SRC_ALPHA;case 6:return this.gl.ONE_MINUS_SRC_COLOR;case 7:return this.gl.SRC_ALPHA;case 8:return this.gl.SRC_COLOR;case 9:return this.gl.ZERO;default:throw new E(new td)}},__getGLCompareMode:function(e){switch(e){case 0:return this.gl.ALWAYS;case 1:default:return this.gl.EQUAL;case 2:return this.gl.GREATER;case 3:return this.gl.GEQUAL;case 4:return this.gl.LESS;case 5:return this.gl.LEQUAL;case 6:return this.gl.NEVER;case 7:return this.gl.NOTEQUAL}},__getGLStencilAction:function(e){switch(e){case 0:return this.gl.DECR;case 1:return this.gl.DECR_WRAP;case 2:return this.gl.INCR;case 3:return this.gl.INCR_WRAP;case 4:return this.gl.INVERT;case 5:default:return this.gl.KEEP;case 6:return this.gl.REPLACE;case 7:return this.gl.ZERO}},__getGLTriangleFace:function(e){switch(e){case 0:return this.gl.BACK;case 1:return this.gl.FRONT;case 2:default:return this.gl.FRONT_AND_BACK;case 3:return this.gl.NONE}},__renderStage3D:function(e){var i=e.context3D;if(null!=i&&i!=this&&null!=i.__frontBufferTexture&&e.visible&&0<this.backBufferHeight&&0<this.backBufferWidth){if(null==this.__renderStage3DProgram){var s=new Z;s.assemble(pk.toString(1),"m44 op, va0, vc0\nmov v0, va1");var n=new Z;n.assemble(pk.toString(0),"tex ft1, v0, fs0 <2d,nearest,nomip>\nmov oc, ft1"),this.__renderStage3DProgram=this.createProgram(),this.__renderStage3DProgram.upload(s.agalcode,n.agalcode)}this.setProgram(this.__renderStage3DProgram),this.setBlendFactors(2,9),this.setColorMask(!0,!0,!0,!0),this.setCulling(3),this.setDepthTest(!1,0),this.setStencilActions(),this.setStencilReferenceValue(0,0,0),this.setScissorRectangle(null),this.setTextureAt(0,i.__frontBufferTexture),this.setVertexBufferAt(0,e.__vertexBuffer,0,3),this.setVertexBufferAt(1,e.__vertexBuffer,3,2),this.setProgramConstantsFromMatrix(1,0,e.__renderTransform,!0),this.drawTriangles(e.__indexBuffer),this.__present=!0}},__setGLBlend:function(e){this.__contextState.__enableGLBlend!=e&&(e?this.gl.enable(this.gl.BLEND):this.gl.disable(this.gl.BLEND),this.__contextState.__enableGLBlend=e)},__setGLBlendEquation:function(e){this.__contextState.__glBlendEquation!=e&&(this.gl.blendEquation(e),this.__contextState.__glBlendEquation=e)},__setGLCullFace:function(e){this.__contextState.__enableGLCullFace!=e&&(e?this.gl.enable(this.gl.CULL_FACE):this.gl.disable(this.gl.CULL_FACE),this.__contextState.__enableGLCullFace=e)},__setGLDepthTest:function(e){this.__contextState.__enableGLDepthTest!=e&&(e?this.gl.enable(this.gl.DEPTH_TEST):this.gl.disable(this.gl.DEPTH_TEST),this.__contextState.__enableGLDepthTest=e)},__setGLFrontFace:function(e){this.__contextState.__frontFaceGLCCW!=e&&(this.gl.frontFace(e?this.gl.CCW:this.gl.CW),this.__contextState.__frontFaceGLCCW=e)},__setGLScissorTest:function(e){this.__contextState.__enableGLScissorTest!=e&&(e?this.gl.enable(this.gl.SCISSOR_TEST):this.gl.disable(this.gl.SCISSOR_TEST),this.__contextState.__enableGLScissorTest=e)},__setGLStencilTest:function(e){this.__contextState.__enableGLStencilTest!=e&&(e?this.gl.enable(this.gl.STENCIL_TEST):this.gl.disable(this.gl.STENCIL_TEST),this.__contextState.__enableGLStencilTest=e)},get_enableErrorChecking:function(){return this.__enableErrorChecking},set_enableErrorChecking:function(e){return this.__enableErrorChecking=e},__class__:Dc,__properties__:{set_enableErrorChecking:"set_enableErrorChecking",get_enableErrorChecking:"get_enableErrorChecking"}});var yg={};k["openfl.display3D._Context3DBlendFactor.Context3DBlendFactor_Impl_"]=yg,yg.__name__="openfl.display3D._Context3DBlendFactor.Context3DBlendFactor_Impl_",yg.fromString=function(e){switch(e){case"destinationAlpha":return 0;case"destinationColor":return 1;case"one":return 2;case"oneMinusDestinationAlpha":return 3;case"oneMinusDestinationColor":return 4;case"oneMinusSourceAlpha":return 5;case"oneMinusSourceColor":return 6;case"sourceAlpha":return 7;case"sourceColor":return 8;case"zero":return 9;default:return null}},yg.toString=function(e){switch(e){case 0:return"destinationAlpha";case 1:return"destinationColor";case 2:return"one";case 3:return"oneMinusDestinationAlpha";case 4:return"oneMinusDestinationColor";case 5:return"oneMinusSourceAlpha";case 6:return"oneMinusSourceColor";case 7:return"sourceAlpha";case 8:return"sourceColor";case 9:return"zero";default:return null}};var ok={};k["openfl.display3D._Context3DBufferUsage.Context3DBufferUsage_Impl_"]=ok,ok.__name__="openfl.display3D._Context3DBufferUsage.Context3DBufferUsage_Impl_",ok.fromString=function(e){switch(e){case"dynamicDraw":return 0;case"staticDraw":return 1;default:return null}},ok.toString=function(e){switch(e){case 0:return"dynamicDraw";case 1:return"staticDraw";default:return null}};var lh={};k["openfl.display3D._Context3DCompareMode.Context3DCompareMode_Impl_"]=lh,lh.__name__="openfl.display3D._Context3DCompareMode.Context3DCompareMode_Impl_",lh.fromString=function(e){switch(e){case"always":return 0;case"equal":return 1;case"greater":return 2;case"greaterEqual":return 3;case"less":return 4;case"lessEqual":return 5;case"never":return 6;case"notEqual":return 7;default:return null}},lh.toString=function(e){switch(e){case 0:return"always";case 1:return"equal";case 2:return"greater";case 3:return"greaterEqual";case 4:return"less";case 5:return"lessEqual";case 6:return"never";case 7:return"notEqual";default:return null}};var Ml={};k["openfl.display3D._Context3DMipFilter.Context3DMipFilter_Impl_"]=Ml,Ml.__name__="openfl.display3D._Context3DMipFilter.Context3DMipFilter_Impl_",Ml.fromString=function(e){switch(e){case"miplinear":return 0;case"mipnearest":return 1;case"mipnone":return 2;default:return null}},Ml.toString=function(e){switch(e){case 0:return"miplinear";case 1:return"mipnearest";case 2:return"mipnone";default:return null}};var ui={};k["openfl.display3D._Context3DProfile.Context3DProfile_Impl_"]=ui,ui.__name__="openfl.display3D._Context3DProfile.Context3DProfile_Impl_",ui.fromString=function(e){switch(e){case"baseline":return 0;case"baselineConstrained":return 1;case"baselineExtended":return 2;case"standard":return 3;case"standardConstrained":return 4;case"standardExtended":return 5;default:return null}},ui.toString=function(e){switch(e){case 0:return"baseline";case 1:return"baselineConstrained";case 2:return"baselineExtended";case 3:return"standard";case 4:return"standardConstrained";case 5:return"standardExtended";default:return null}};var dp={};k["openfl.display3D._Context3DProgramFormat.Context3DProgramFormat_Impl_"]=dp,dp.__name__="openfl.display3D._Context3DProgramFormat.Context3DProgramFormat_Impl_",dp.fromString=function(e){switch(e){case"agal":return 0;case"glsl":return 1;default:return null}},dp.toString=function(e){switch(e){case 0:return"agal";case 1:return"glsl";default:return null}};var pk={};k["openfl.display3D._Context3DProgramType.Context3DProgramType_Impl_"]=pk,pk.__name__="openfl.display3D._Context3DProgramType.Context3DProgramType_Impl_",pk.fromString=function(e){switch(e){case"fragment":return 0;case"vertex":return 1;default:return null}},pk.toString=function(e){switch(e){case 0:return"fragment";case 1:return"vertex";default:return null}};var ep={};k["openfl.display3D._Context3DRenderMode.Context3DRenderMode_Impl_"]=ep,ep.__name__="openfl.display3D._Context3DRenderMode.Context3DRenderMode_Impl_",ep.fromString=function(e){switch(e){case"auto":return 0;case"software":return 1;default:return null}},ep.toString=function(e){switch(e){case 0:return"auto";case 1:return"software";default:return null}};var mh={};k["openfl.display3D._Context3DStencilAction.Context3DStencilAction_Impl_"]=mh,mh.__name__="openfl.display3D._Context3DStencilAction.Context3DStencilAction_Impl_",mh.fromString=function(e){switch(e){case"decrementSaturate":return 0;case"decrementWrap":return 1;case"incrementSaturate":return 2;case"incrementWrap":return 3;case"invert":return 4;case"keep":return 5;case"set":return 6;case"zero":return 7;default:return null}},mh.toString=function(e){switch(e){case 0:return"decrementSaturate";case 1:return"decrementWrap";case 2:return"incrementSaturate";case 3:return"incrementWrap";case 4:return"invert";case 5:return"keep";case 6:return"set";case 7:return"zero";default:return null}};var vi={};k["openfl.display3D._Context3DTextureFilter.Context3DTextureFilter_Impl_"]=vi,vi.__name__="openfl.display3D._Context3DTextureFilter.Context3DTextureFilter_Impl_",vi.fromString=function(e){switch(e){case"anisotropic16x":return 0;case"anisotropic2x":return 1;case"anisotropic4x":return 2;case"anisotropic8x":return 3;case"linear":return 4;case"nearest":return 5;default:return null}},vi.toString=function(e){switch(e){case 0:return"anisotropic16x";case 1:return"anisotropic2x";case 2:return"anisotropic4x";case 3:return"anisotropic8x";case 4:return"linear";case 5:return"nearest";default:return null}};var Kh={};k["openfl.display3D._Context3DTextureFormat.Context3DTextureFormat_Impl_"]=Kh,Kh.__name__="openfl.display3D._Context3DTextureFormat.Context3DTextureFormat_Impl_",Kh.fromString=function(e){switch(e){case"bgrPacked565":return 0;case"bgra":return 1;case"bgraPacked4444":return 2;case"compressed":return 3;case"compressedAlpha":return 4;case"rgbaHalfFloat":return 5;default:return null}},Kh.toString=function(e){switch(e){case 0:return"bgrPacked565";case 1:return"bgra";case 2:return"bgraPacked4444";case 3:return"compressed";case 4:return"compressedAlpha";case 5:return"rgbaHalfFloat";default:return null}};var qk={};k["openfl.display3D._Context3DTriangleFace.Context3DTriangleFace_Impl_"]=qk,qk.__name__="openfl.display3D._Context3DTriangleFace.Context3DTriangleFace_Impl_",qk.fromString=function(e){switch(e){case"back":return 0;case"front":return 1;case"frontAndBack":return 2;case"none":return 3;default:return null}},qk.toString=function(e){switch(e){case 0:return"back";case 1:return"front";case 2:return"frontAndBack";case 3:return"none";default:return null}};var gj={};k["openfl.display3D._Context3DVertexBufferFormat.Context3DVertexBufferFormat_Impl_"]=gj,gj.__name__="openfl.display3D._Context3DVertexBufferFormat.Context3DVertexBufferFormat_Impl_",gj.fromString=function(e){switch(e){case"bytes4":return 0;case"float1":return 1;case"float2":return 2;case"float3":return 3;case"float4":return 4;default:return null}},gj.toString=function(e){switch(e){case 0:return"bytes4";case 1:return"float1";case 2:return"float2";case 3:return"float3";case 4:return"float4";default:return null}};var rk={};k["openfl.display3D._Context3DWrapMode.Context3DWrapMode_Impl_"]=rk,rk.__name__="openfl.display3D._Context3DWrapMode.Context3DWrapMode_Impl_",rk.fromString=function(e){switch(e){case"clamp":return 0;case"clamp_u_repeat_v":return 1;case"repeat":return 2;case"repeat_u_clamp_v":return 3;default:return null}},rk.toString=function(e){switch(e){case 0:return"clamp";case 1:return"clamp_u_repeat_v";case 2:return"repeat";case 3:return"repeat_u_clamp_v";default:return null}};var yr=function(e,i,s){this.__context=e,this.__numIndices=i,this.__id=(e=this.__context.gl).createBuffer(),this.__usage=0==s?e.DYNAMIC_DRAW:e.STATIC_DRAW};k["openfl.display3D.IndexBuffer3D"]=yr,yr.__name__="openfl.display3D.IndexBuffer3D",yr.prototype={__context:null,__id:null,__memoryUsage:null,__numIndices:null,__tempUInt16Array:null,__usage:null,dispose:function(){this.__context.gl.deleteBuffer(this.__id)},uploadFromByteArray:function(e,i,s,n){null==(i+=2*s)&&(i=0),n=null!=(e=ta.toArrayBuffer(e))?null==n?new Uint16Array(e,i):new Uint16Array(e,i,n):null,this.uploadFromTypedArray(n)},uploadFromTypedArray:function(e,i){null!=e&&(i=this.__context.gl,this.__context.__bindGLElementArrayBuffer(this.__id),zb.bufferData(i,i.ELEMENT_ARRAY_BUFFER,e,this.__usage))},uploadFromVector:function(e,i,s){if(null!=e){var n=i+s,o=this.__tempUInt16Array;for((null==this.__tempUInt16Array||this.__tempUInt16Array.length<s)&&(this.__tempUInt16Array=null!=s?new Uint16Array(s):null,null!=o&&this.__tempUInt16Array.set(o)),s=i;s<n;)o=s++,this.__tempUInt16Array[o-i]=e.get(o);this.uploadFromTypedArray(this.__tempUInt16Array)}},__class__:yr};var zr=function(e,i){this.__context=e,this.__format=i,0==this.__format?(this.__agalSamplerUsageMask=0,this.__agalUniforms=new ib,this.__agalSamplerUniforms=new ib,this.__agalAlphaSamplerUniforms=new ib,this.__agalAlphaSamplerEnabled=[]):(this.__glslAttribNames=[],this.__glslAttribTypes=[],this.__glslSamplerNames=[],this.__glslUniformLocations=[],this.__glslUniformNames=[],this.__glslUniformTypes=[]),this.__samplerStates=[]};k["openfl.display3D.Program3D"]=zr,zr.__name__="openfl.display3D.Program3D",zr.prototype={__agalAlphaSamplerEnabled:null,__agalAlphaSamplerUniforms:null,__agalFragmentUniformMap:null,__agalPositionScale:null,__agalSamplerUniforms:null,__agalSamplerUsageMask:null,__agalUniforms:null,__agalVertexUniformMap:null,__context:null,__format:null,__glFragmentShader:null,__glFragmentSource:null,__glProgram:null,__glslAttribNames:null,__glslAttribTypes:null,__glslSamplerNames:null,__glslUniformLocations:null,__glslUniformNames:null,__glslUniformTypes:null,__glVertexShader:null,__glVertexSource:null,__samplerStates:null,dispose:function(){this.__deleteShaders()},getAttributeIndex:function(e){if(0==this.__format)return aa.startsWith(e,"va")?O.parseInt(e.substring(2)):-1;for(var i=0,s=this.__glslAttribNames.length;i<s;){var n=i++;if(this.__glslAttribNames[n]==e)return n}return-1},getConstantIndex:function(e){if(0==this.__format)return aa.startsWith(e,"vc")||aa.startsWith(e,"fc")?O.parseInt(e.substring(2)):-1;for(var i=0,s=this.__glslUniformNames.length;i<s;){var n=i++;if(this.__glslUniformNames[n]==e)return this.__glslUniformLocations[n]}return-1},upload:function(e,i){if(0==this.__format){var s=[];for(e=Xe.convertToGLSL(e,null),i=Xe.convertToGLSL(i,s),5==Ua.level&&(Ua.info(e,{fileName:"openfl/display3D/Program3D.hx",lineNumber:399,className:"openfl.display3D.Program3D",methodName:"upload"}),Ua.info(i,{fileName:"openfl/display3D/Program3D.hx",lineNumber:400,className:"openfl.display3D.Program3D",methodName:"upload"})),this.__deleteShaders(),this.__uploadFromGLSL(e,i),this.__buildAGALUniformList(),i=0,e=s.length;i<e;){var n=i++;this.__samplerStates[n]=s[n]}}},uploadSources:function(e,i){if(1==this.__format){var s="#ifdef GL_ES\n\t\t\t#ifdef GL_FRAGMENT_PRECISION_HIGH\n\t\t\tprecision highp float;\n\t\t\t#else\n\t\t\tprecision mediump float;\n\t\t\t#endif\n\t\t\t#endif\n\t\t\t"+e,n="#ifdef GL_ES\n\t\t\t#ifdef GL_FRAGMENT_PRECISION_HIGH\n\t\t\tprecision highp float;\n\t\t\t#else\n\t\t\tprecision mediump float;\n\t\t\t#endif\n\t\t\t#endif\n\t\t\t"+i;if(s!=this.__glVertexSource||n!=this.__glFragmentSource){this.__processGLSLData(e,"attribute"),this.__processGLSLData(e,"uniform"),this.__processGLSLData(i,"uniform"),this.__deleteShaders(),this.__uploadFromGLSL(s,n);var o=this.__glslSamplerNames;s=this.__glslAttribNames,n=this.__glslAttribTypes,e=this.__glslUniformNames,this.__glslSamplerNames=[],this.__glslAttribNames=[],this.__glslAttribTypes=[],this.__glslUniformLocations=[],i=this.__context.gl;for(var l,_=0;_<o.length;){var h=o[_];++_,l=i.getUniformLocation(this.__glProgram,h),this.__glslSamplerNames[l]=h}for(o=0,_=s.length;o<_;)h=o++,l=i.getAttribLocation(this.__glProgram,s[h]),this.__glslAttribNames[l]=s[h],this.__glslAttribTypes[l]=n[h];for(n=0,l=e.length;n<l;)o=n++,s=i.getUniformLocation(this.__glProgram,e[o]),this.__glslUniformLocations[o]=s}}},__buildAGALUniformList:function(){if(1!=this.__format){var e=this.__context.gl;this.__agalUniforms.clear(),this.__agalSamplerUniforms.clear(),this.__agalAlphaSamplerUniforms.clear(),this.__agalAlphaSamplerEnabled=[],this.__agalSamplerUsageMask=0;for(var i=e.getProgramParameter(this.__glProgram,e.ACTIVE_UNIFORMS),s=new ib,n=new ib,o=0;o<i;){var l=o++,_=e.getActiveUniform(this.__glProgram,l),h=_.name,m=_.size,f=_.type;switch((_=new fp(this.__context)).name=h,_.size=m,_.type=f,_.location=e.getUniformLocation(this.__glProgram,_.name),0<=(h=_.name.indexOf("["))&&(_.name=_.name.substring(0,h)),_.type){case 35674:_.regCount=2;break;case 35675:_.regCount=3;break;case 35676:_.regCount=4;break;default:_.regCount=1}if(_.regCount*=_.size,this.__agalUniforms.add(_),"vcPositionScale"==_.name)this.__agalPositionScale=_;else if(aa.startsWith(_.name,"vc"))_.regIndex=O.parseInt(_.name.substring(2)),_.regData=this.__context.__vertexConstants,s.add(_);else if(aa.startsWith(_.name,"fc"))_.regIndex=O.parseInt(_.name.substring(2)),_.regData=this.__context.__fragmentConstants,n.add(_);else if(aa.startsWith(_.name,"sampler")&&-1==_.name.indexOf("alpha"))for(_.regIndex=O.parseInt(_.name.substring(7)),this.__agalSamplerUniforms.add(_),h=0,m=_.regCount;h<m;)f=h++,this.__agalSamplerUsageMask|=1<<_.regIndex+f;else aa.startsWith(_.name,"sampler")&&aa.endsWith(_.name,"_alpha")?(h=_.name.indexOf("_")-7,_.regIndex=O.parseInt(_.name.substring(7,7+h))+4,this.__agalAlphaSamplerUniforms.add(_)):aa.startsWith(_.name,"sampler")&&aa.endsWith(_.name,"_alphaEnabled")&&(_.regIndex=O.parseInt(_.name.substring(7)),this.__agalAlphaSamplerEnabled[_.regIndex]=_);5==Ua.level&&Ua.verbose(l+" name:"+_.name+" type:"+_.type+" size:"+_.size+" location:"+O.string(_.location),{fileName:"openfl/display3D/Program3D.hx",lineNumber:577,className:"openfl.display3D.Program3D",methodName:"__buildAGALUniformList"})}this.__agalVertexUniformMap=new Nl(ic.array(s)),this.__agalFragmentUniformMap=new Nl(ic.array(n))}},__deleteShaders:function(){var e=this.__context.gl;null!=this.__glProgram&&(this.__glProgram=null),null!=this.__glVertexShader&&(e.deleteShader(this.__glVertexShader),this.__glVertexShader=null),null!=this.__glFragmentShader&&(e.deleteShader(this.__glFragmentShader),this.__glFragmentShader=null)},__disable:function(){},__enable:function(){var e=this.__context.gl;if(e.useProgram(this.__glProgram),0==this.__format){this.__agalVertexUniformMap.markAllDirty(),this.__agalFragmentUniformMap.markAllDirty();for(var i=this.__agalSamplerUniforms.h;null!=i;){var s=i.item;if(i=i.next,1!=s.regCount)throw new E(new td("!!! TODO: uniform location on webgl"));e.uniform1i(s.location,s.regIndex)}for(i=this.__agalAlphaSamplerUniforms.h;null!=i;){if(s=i.item,i=i.next,1!=s.regCount)throw new E(new td("!!! TODO: uniform location on webgl"));e.uniform1i(s.location,s.regIndex)}}},__flush:function(){0==this.__format&&(this.__agalVertexUniformMap.flush(),this.__agalFragmentUniformMap.flush())},__getSamplerState:function(e){return this.__samplerStates[e]},__markDirty:function(e,i,s){1!=this.__format&&(e?this.__agalVertexUniformMap.markDirty(i,s):this.__agalFragmentUniformMap.markDirty(i,s))},__processGLSLData:function(e,i){var n,s=0;for(n=new Ra("uniform"==i?"uniform ([A-Za-z0-9]+) ([A-Za-z0-9_]+)":"attribute ([A-Za-z0-9]+) ([A-Za-z0-9_]+)","");n.matchSub(e,s);){var o=n.matched(1),l=n.matched(2);if(!aa.startsWith(l,"gl_")){if(aa.startsWith(o,"sampler"))this.__glslSamplerNames.push(l);else{switch(o){case"bool":s=0;break;case"bvec2":s=1;break;case"bvec3":s=2;break;case"bvec4":s=3;break;case"dvec2":case"vec2":s=5;break;case"dvec3":case"vec3":s=6;break;case"double":case"float":s=4;break;case"ivec3":case"uvec3":s=10;break;case"ivec4":case"uvec4":s=11;break;case"mat2":case"mat2x2":s=12;break;case"mat2x3":s=13;break;case"mat2x4":s=14;break;case"mat3x2":s=15;break;case"mat3":case"mat3x3":s=16;break;case"mat3x4":s=17;break;case"mat4":case"mat4x4":s=20;break;case"mat4x2":s=18;break;case"mat4x3":s=19;break;case"int":case"uint":s=8;break;case"ivec2":case"uvec2":s=9;break;case"dvec4":case"vec4":s=7;break;default:s=null}"uniform"==i?(this.__glslUniformNames.push(l),this.__glslUniformTypes.push(s)):(this.__glslAttribNames.push(l),this.__glslAttribTypes.push(s))}s=(l=n.matchedPos()).pos+l.len}}},__setPositionScale:function(e){1!=this.__format&&null!=this.__agalPositionScale&&this.__context.gl.uniform4fv(this.__agalPositionScale.location,e)},__setSamplerState:function(e,i){this.__samplerStates[e]=i},__uploadFromGLSL:function(e,i){var s=this.__context.gl;if(this.__glVertexSource=e,this.__glFragmentSource=i,this.__glVertexShader=s.createShader(s.VERTEX_SHADER),s.shaderSource(this.__glVertexShader,e),s.compileShader(this.__glVertexShader),0==s.getShaderParameter(this.__glVertexShader,s.COMPILE_STATUS)){var n="Error compiling vertex shader\n"+s.getShaderInfoLog(this.__glVertexShader);Ua.error(n+"\n"+e,{fileName:"openfl/display3D/Program3D.hx",lineNumber:869,className:"openfl.display3D.Program3D",methodName:"__uploadFromGLSL"})}if(this.__glFragmentShader=s.createShader(s.FRAGMENT_SHADER),s.shaderSource(this.__glFragmentShader,i),s.compileShader(this.__glFragmentShader),0==s.getShaderParameter(this.__glFragmentShader,s.COMPILE_STATUS)&&(n="Error compiling fragment shader\n"+s.getShaderInfoLog(this.__glFragmentShader),Ua.error(n+"\n"+i,{fileName:"openfl/display3D/Program3D.hx",lineNumber:881,className:"openfl.display3D.Program3D",methodName:"__uploadFromGLSL"})),this.__glProgram=s.createProgram(),0==this.__format)for(i=0;16>i;){var o="va"+(n=i++);-1!=e.indexOf(" "+o)&&s.bindAttribLocation(this.__glProgram,n,o)}else for(e=0,i=this.__glslAttribNames;e<i.length;)if(n=i[e],++e,-1<n.indexOf("Position")&&aa.startsWith(n,"openfl_")){s.bindAttribLocation(this.__glProgram,0,n);break}s.attachShader(this.__glProgram,this.__glVertexShader),s.attachShader(this.__glProgram,this.__glFragmentShader),s.linkProgram(this.__glProgram),0==s.getProgramParameter(this.__glProgram,s.LINK_STATUS)&&(s="Unable to initialize the shader program\n"+s.getProgramInfoLog(this.__glProgram),Ua.error(s,{fileName:"openfl/display3D/Program3D.hx",lineNumber:922,className:"openfl.display3D.Program3D",methodName:"__uploadFromGLSL"}))},__class__:zr};var fp=function(e){this.context=e,this.isDirty=!0,this.regDataPointer=new tg(null,0)};k["openfl.display3D.Uniform"]=fp,fp.__name__="openfl.display3D.Uniform",fp.prototype={name:null,location:null,type:null,size:null,regData:null,regIndex:null,regCount:null,isDirty:null,context:null,regDataPointer:null,flush:function(){var e=this.context.gl,i=4*this.regIndex;switch(this.type){case 35664:ce.uniform2fv(e,this.location,this.regData.subarray(i,i+2*this.regCount));break;case 35665:var s=this.location;i=this.regData.subarray(i,i+3*this.regCount),e.uniform3fv(s,i);break;case 35666:default:s=this.location,i=this.regData.subarray(i,i+4*this.regCount),e.uniform4fv(s,i);break;case 35674:zb.uniformMatrix2fv(e,this.location,!1,this.regData.subarray(i,i+4*this.size));break;case 35675:zb.uniformMatrix3fv(e,this.location,!1,this.regData.subarray(i,i+9*this.size));break;case 35676:zb.uniformMatrix4fv(e,this.location,!1,this.regData.subarray(i,i+16*this.size))}},__getUniformRegisters:function(e,i){return this.regData.subarray(e,e+i)},__class__:fp};var Nl=function(e){this.__uniforms=e,this.__uniforms.sort(function(_,h){return X.compare(_.regIndex,h.regIndex)});for(var i=e=0,s=this.__uniforms;i<s.length;){var n=s[i];++i,n.regIndex+n.regCount>e&&(e=n.regIndex+n.regCount)}for(this.__registerLookup=La.toObjectVector(null,e),e=0,i=this.__uniforms;e<i.length;){s=i[e],++e,n=0;for(var o=s.regCount;n<o;){var l=n++;this.__registerLookup.set(s.regIndex+l,s)}}this.__anyDirty=this.__allDirty=!0};k["openfl.display3D.UniformMap"]=Nl,Nl.__name__="openfl.display3D.UniformMap",Nl.prototype={__allDirty:null,__anyDirty:null,__registerLookup:null,__uniforms:null,flush:function(){if(this.__anyDirty){for(var e=0,i=this.__uniforms;e<i.length;){var s=i[e];++e,(this.__allDirty||s.isDirty)&&(s.flush(),s.isDirty=!1)}this.__anyDirty=this.__allDirty=!1}},markAllDirty:function(){this.__anyDirty=this.__allDirty=!0},markDirty:function(e,i){if(!this.__allDirty)for((i=e+i)>this.__registerLookup.get_length()&&(i=this.__registerLookup.get_length());e<i;){var s=this.__registerLookup.get(e);null!=s?(this.__anyDirty=s.isDirty=!0,e=s.regIndex+s.regCount):++e}},__class__:Nl};var Ar=function(e,i,s,n){this.__context=e,this.__numVertices=i,this.__vertexSize=s,this.__id=(e=this.__context.gl).createBuffer(),this.__stride=4*this.__vertexSize,this.__usage=0==ok.fromString(n)?e.DYNAMIC_DRAW:e.STATIC_DRAW};k["openfl.display3D.VertexBuffer3D"]=Ar,Ar.__name__="openfl.display3D.VertexBuffer3D",Ar.prototype={__context:null,__data:null,__id:null,__memoryUsage:null,__numVertices:null,__stride:null,__tempFloat32Array:null,__usage:null,__vertexSize:null,dispose:function(){this.__context.gl.deleteBuffer(this.__id)},uploadFromByteArray:function(e,i,s,n){n*=this.__vertexSize,null==(i+=s*this.__stride)&&(i=0),e=null!=(e=ta.toArrayBuffer(e))?null==n?new Float32Array(e,i):new Float32Array(e,i,n):null,this.uploadFromTypedArray(Bf.toArrayBufferView(e))},uploadFromTypedArray:function(e,i){null!=e&&(i=this.__context.gl,this.__context.__bindGLArrayBuffer(this.__id),zb.bufferData(i,i.ARRAY_BUFFER,e,this.__usage))},uploadFromVector:function(e,i,s){if(null!=e){var n=s*this.__vertexSize;s=(i*=this.__vertexSize)+n;var o=this.__tempFloat32Array;for((null==this.__tempFloat32Array||this.__tempFloat32Array.length<n)&&(this.__tempFloat32Array=null!=n?new Float32Array(n):null,null!=o&&this.__tempFloat32Array.set(o)),n=i;n<s;)o=n++,this.__tempFloat32Array[o-i]=e.get(o);this.uploadFromTypedArray(Bf.toArrayBufferView(this.__tempFloat32Array))}},__class__:Ar};var pc=function(e){A.call(this),this.__context=e;var i=this.__context.gl;if(this.__textureID=i.createTexture(),this.__textureContext=this.__context.__context,null==pc.__supportsBGRA){pc.__textureInternalFormat=i.RGBA,pc.__supportsBGRA=!1,pc.__textureFormat=i.RGBA,pc.__compressedFormats=new Va,pc.__compressedFormatsAlpha=new Va,e=i.getExtension("WEBGL_compressed_texture_s3tc");var s=i.getExtension("WEBGL_compressed_texture_etc1");i=i.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),null!=e&&(pc.__compressedFormats.h[0]=e.COMPRESSED_RGBA_S3TC_DXT1_EXT,pc.__compressedFormatsAlpha.h[0]=e.COMPRESSED_RGBA_S3TC_DXT5_EXT),null!=s&&(pc.__compressedFormats.h[2]=s.COMPRESSED_RGB_ETC1_WEBGL,pc.__compressedFormatsAlpha.h[2]=s.COMPRESSED_RGB_ETC1_WEBGL),null!=i&&(pc.__compressedFormats.h[1]=i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG,pc.__compressedFormatsAlpha.h[1]=i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG)}this.__internalFormat=pc.__textureInternalFormat,this.__format=pc.__textureFormat};k["openfl.display3D.textures.TextureBase"]=pc,pc.__name__="openfl.display3D.textures.TextureBase",pc.__super__=A,pc.prototype=x(A.prototype,{__alphaTexture:null,__context:null,__format:null,__glDepthRenderbuffer:null,__glFramebuffer:null,__glStencilRenderbuffer:null,__height:null,__internalFormat:null,__optimizeForRenderToTexture:null,__samplerState:null,__streamingLevels:null,__textureContext:null,__textureID:null,__textureTarget:null,__width:null,dispose:function(){var e=this.__context.gl;null!=this.__alphaTexture&&this.__alphaTexture.dispose(),e.deleteTexture(this.__textureID),null!=this.__glFramebuffer&&e.deleteFramebuffer(this.__glFramebuffer),null!=this.__glDepthRenderbuffer&&e.deleteRenderbuffer(this.__glDepthRenderbuffer),null!=this.__glStencilRenderbuffer&&e.deleteRenderbuffer(this.__glStencilRenderbuffer)},__getGLFramebuffer:function(e,i,s){return i=this.__context.gl,null==this.__glFramebuffer&&(this.__glFramebuffer=i.createFramebuffer(),this.__context.__bindGLFramebuffer(this.__glFramebuffer),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,this.__textureID,0),this.__context.__enableErrorChecking&&(s=i.checkFramebufferStatus(i.FRAMEBUFFER))!=i.FRAMEBUFFER_COMPLETE&&Ua.warn("Error: Context3D.setRenderToTexture status:"+s+" width:"+this.__width+" height:"+this.__height,{fileName:"openfl/display3D/textures/TextureBase.hx",lineNumber:193,className:"openfl.display3D.textures.TextureBase",methodName:"__getGLFramebuffer"})),e&&null==this.__glDepthRenderbuffer&&(this.__context.__bindGLFramebuffer(this.__glFramebuffer),0!=Dc.__glDepthStencil?(this.__glStencilRenderbuffer=this.__glDepthRenderbuffer=i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,this.__glDepthRenderbuffer),i.renderbufferStorage(i.RENDERBUFFER,Dc.__glDepthStencil,this.__width,this.__height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.RENDERBUFFER,this.__glDepthRenderbuffer)):(this.__glDepthRenderbuffer=i.createRenderbuffer(),this.__glStencilRenderbuffer=i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,this.__glDepthRenderbuffer),i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_COMPONENT16,this.__width,this.__height),i.bindRenderbuffer(i.RENDERBUFFER,this.__glStencilRenderbuffer),i.renderbufferStorage(i.RENDERBUFFER,i.STENCIL_INDEX8,this.__width,this.__height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.RENDERBUFFER,this.__glDepthRenderbuffer),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.STENCIL_ATTACHMENT,i.RENDERBUFFER,this.__glStencilRenderbuffer)),this.__context.__enableErrorChecking&&(e=i.checkFramebufferStatus(i.FRAMEBUFFER))!=i.FRAMEBUFFER_COMPLETE&&Ua.warn("Error: Context3D.setRenderToTexture status:"+e+" width:"+this.__width+" height:"+this.__height,{fileName:"openfl/display3D/textures/TextureBase.hx",lineNumber:231,className:"openfl.display3D.textures.TextureBase",methodName:"__getGLFramebuffer"}),i.bindRenderbuffer(i.RENDERBUFFER,null)),this.__glFramebuffer},__getImage:function(e){var i=e.image;return e.__isValid&&null!=i?(za.sync(i,!1),e=this.__context.gl,i.type==If.DATA||i.get_premultiplied()?!i.get_premultiplied()&&i.get_transparent()&&(e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,0),(i=i.clone()).set_premultiplied(!0)):e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,1),0!=i.get_format()&&((i=i.clone()).set_format(0),i.buffer.premultiplied=!0),i):null},__getTexture:function(){return this.__textureID},__setSamplerState:function(e){if(!e.equals(this.__samplerState)){var s,i=this.__context.gl;switch(this.__textureTarget==this.__context.gl.TEXTURE_CUBE_MAP?this.__context.__bindGLTextureCubeMap(this.__textureID):this.__context.__bindGLTexture2D(this.__textureID),e.wrap){case 0:var n=s=i.CLAMP_TO_EDGE;break;case 1:s=i.CLAMP_TO_EDGE,n=i.REPEAT;break;case 2:n=s=i.REPEAT;break;case 3:s=i.REPEAT,n=i.CLAMP_TO_EDGE;break;default:throw new E(new Xc("wrap bad enum"))}var o=5==e.filter?i.NEAREST:i.LINEAR;switch(e.mipfilter){case 0:var l=5==e.filter?i.NEAREST_MIPMAP_LINEAR:i.LINEAR_MIPMAP_LINEAR;break;case 1:l=5==e.filter?i.NEAREST_MIPMAP_NEAREST:i.LINEAR_MIPMAP_NEAREST;break;case 2:l=5==e.filter?i.NEAREST:i.LINEAR;break;default:throw new E(new Xc("mipfiter bad enum"))}return i.texParameteri(this.__textureTarget,i.TEXTURE_MIN_FILTER,l),i.texParameteri(this.__textureTarget,i.TEXTURE_MAG_FILTER,o),i.texParameteri(this.__textureTarget,i.TEXTURE_WRAP_S,s),i.texParameteri(this.__textureTarget,i.TEXTURE_WRAP_T,n),null==this.__samplerState&&(this.__samplerState=e.clone()),this.__samplerState.copyFrom(e),!0}return!1},__uploadFromImage:function(e){var s,i=this.__context.gl;if(this.__textureTarget==i.TEXTURE_2D){if(1==e.buffer.bitsPerPixel)var n=s=i.ALPHA;else s=pc.__textureInternalFormat,n=pc.__textureFormat;this.__context.__bindGLTexture2D(this.__textureID),e.type==If.DATA||e.get_premultiplied()?!e.get_premultiplied()&&e.get_transparent()&&i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,1):i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,1),e.type==If.DATA?zb.texImage2D(i,i.TEXTURE_2D,0,s,e.buffer.width,e.buffer.height,0,n,i.UNSIGNED_BYTE,e.get_data()):zb.texImage2D(i,i.TEXTURE_2D,0,s,n,i.UNSIGNED_BYTE,e.get_src()),this.__context.__bindGLTexture2D(null)}},__class__:pc});var nk=function(e,i,s,n,o){pc.call(this,e),this.__width=this.__height=this.__size=i,this.__optimizeForRenderToTexture=n,this.__streamingLevels=o,this.__textureTarget=this.__context.gl.TEXTURE_CUBE_MAP,this.__uploadedSides=0};k["openfl.display3D.textures.CubeTexture"]=nk,nk.__name__="openfl.display3D.textures.CubeTexture",nk.__super__=pc,nk.prototype=x(pc.prototype,{__framebufferSurface:null,__size:null,__uploadedSides:null,uploadCompressedTextureFromByteArray:function(e,i,s){null==s&&(s=!1);var n=this;s?of.delay(function(){n.__uploadCompressedTextureFromByteArray(e,i);var o=new fa("textureReady");n.dispatchEvent(o)},1):this.__uploadCompressedTextureFromByteArray(e,i)},uploadFromBitmapData:function(e,i,s,n){if(null==s&&(s=0),null!=e&&this.__size>>s&&null!=(e=this.__getImage(e)))if(0==s&&null!=e.buffer&&null==e.buffer.data&&null!=e.buffer.get_src()){if(n=this.__context.gl,this.__size>>s!=0){var o=this.__sideToTarget(i);this.__context.__bindGLTextureCubeMap(this.__textureID),zb.texImage2D(n,o,s,this.__internalFormat,this.__format,n.UNSIGNED_BYTE,e.buffer.get_src()),this.__context.__bindGLTextureCubeMap(null),this.__uploadedSides|=1<<i}}else this.uploadFromTypedArray(e.get_data(),i,s)},uploadFromByteArray:function(e,i,s,n){null==n&&(n=0),0==i?this.uploadFromTypedArray(e.b,s,n):(null==i&&(i=0),i=null!=(e=ta.toArrayBuffer(e))?new Uint8Array(e,i):null,this.uploadFromTypedArray(i,s,n))},uploadFromTypedArray:function(e,i,s){if(null==s&&(s=0),null!=e){var n=this.__context.gl,o=this.__size>>s;if(0!=o){var l=this.__sideToTarget(i);this.__context.__bindGLTextureCubeMap(this.__textureID),zb.texImage2D(n,l,s,this.__internalFormat,o,o,0,this.__format,n.UNSIGNED_BYTE,e),this.__context.__bindGLTextureCubeMap(null),this.__uploadedSides|=1<<i}}},__getGLFramebuffer:function(e,i,s){var n=this.__context.gl;if(null==this.__glFramebuffer&&(this.__glFramebuffer=n.createFramebuffer(),this.__framebufferSurface=-1),this.__framebufferSurface!=s&&(this.__framebufferSurface=s,this.__context.__bindGLFramebuffer(this.__glFramebuffer),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+s,this.__textureID,0),this.__context.__enableErrorChecking)){var o=n.checkFramebufferStatus(n.FRAMEBUFFER);o!=n.FRAMEBUFFER_COMPLETE&&Ua.error("Error: Context3D.setRenderToTexture status:"+o+" width:"+this.__width+" height:"+this.__height,{fileName:"openfl/display3D/textures/CubeTexture.hx",lineNumber:278,className:"openfl.display3D.textures.CubeTexture",methodName:"__getGLFramebuffer"})}return pc.prototype.__getGLFramebuffer.call(this,e,i,s)},__setSamplerState:function(e){if(pc.prototype.__setSamplerState.call(this,e)){var i=this.__context.gl;if(2==e.mipfilter||this.__samplerState.mipmapGenerated||(i.generateMipmap(i.TEXTURE_CUBE_MAP),this.__samplerState.mipmapGenerated=!0),0!=Dc.__glMaxTextureMaxAnisotropy){switch(e.filter){case 0:e=16;break;case 1:e=2;break;case 2:e=4;break;case 3:e=8;break;default:e=1}e>Dc.__glMaxTextureMaxAnisotropy&&(e=Dc.__glMaxTextureMaxAnisotropy),i.texParameterf(i.TEXTURE_CUBE_MAP,Dc.__glTextureMaxAnisotropy,e)}return!0}return!1},__sideToTarget:function(e){var i=this.__context.gl;switch(e){case 0:return i.TEXTURE_CUBE_MAP_POSITIVE_X;case 1:return i.TEXTURE_CUBE_MAP_NEGATIVE_X;case 2:return i.TEXTURE_CUBE_MAP_POSITIVE_Y;case 3:return i.TEXTURE_CUBE_MAP_NEGATIVE_Y;case 4:return i.TEXTURE_CUBE_MAP_POSITIVE_Z;case 5:return i.TEXTURE_CUBE_MAP_NEGATIVE_Z;default:throw new E(new td)}},__uploadCompressedTextureFromByteArray:function(e,i){var s=this,n=(e=new zl(e,i)).readHeader(this.__size,this.__size,!0),o=this.__context.gl;this.__context.__bindGLTextureCubeMap(this.__textureID);var l=!1;e.readTextures(function(_,h,m,f,y,g,j){var $=n?pc.__compressedFormatsAlpha.h[m]:pc.__compressedFormats.h[m];if(0!=$)if(l=!0,_=s.__sideToTarget(_),s.__format=$,s.__internalFormat=$,n&&2==m){g=g/2|0;var yt=0;null==yt&&(yt=0),m=null!=(m=j.b.buffer)?null==g?new Uint8Array(m,yt):new Uint8Array(m,yt,g):null,zb.compressedTexImage2D(o,_,h,s.__internalFormat,f,y,0,m),(m=new nk(s.__context,s.__size,3,s.__optimizeForRenderToTexture,s.__streamingLevels)).__format=$,m.__internalFormat=$,s.__context.__bindGLTextureCubeMap(m.__textureID),null==($=g)&&($=0),j=null!=(j=j.b.buffer)?null==g?new Uint8Array(j,$):new Uint8Array(j,$,g):null,zb.compressedTexImage2D(o,_,h,m.__internalFormat,f,y,0,j),s.__alphaTexture=m}else null==($=0)&&($=0),j=null!=(j=j.b.buffer)?null==g?new Uint8Array(j,$):new Uint8Array(j,$,g):null,zb.compressedTexImage2D(o,_,h,s.__internalFormat,f,y,0,j)}),l||(e=null!=(e=this.__size*this.__size*4)?new Uint8Array(e):null,i=this.__sideToTarget(0),zb.texImage2D(o,i,0,this.__internalFormat,this.__size,this.__size,0,this.__format,o.UNSIGNED_BYTE,e),e=null!=(e=this.__size*this.__size*4)?new Uint8Array(e):null,i=this.__sideToTarget(1),zb.texImage2D(o,i,0,this.__internalFormat,this.__size,this.__size,0,this.__format,o.UNSIGNED_BYTE,e),e=null!=(e=this.__size*this.__size*4)?new Uint8Array(e):null,i=this.__sideToTarget(2),zb.texImage2D(o,i,0,this.__internalFormat,this.__size,this.__size,0,this.__format,o.UNSIGNED_BYTE,e),e=null!=(e=this.__size*this.__size*4)?new Uint8Array(e):null,i=this.__sideToTarget(3),zb.texImage2D(o,i,0,this.__internalFormat,this.__size,this.__size,0,this.__format,o.UNSIGNED_BYTE,e),e=null!=(e=this.__size*this.__size*4)?new Uint8Array(e):null,i=this.__sideToTarget(4),zb.texImage2D(o,i,0,this.__internalFormat,this.__size,this.__size,0,this.__format,o.UNSIGNED_BYTE,e),e=null!=(e=this.__size*this.__size*4)?new Uint8Array(e):null,i=this.__sideToTarget(5),zb.texImage2D(o,i,0,this.__internalFormat,this.__size,this.__size,0,this.__format,o.UNSIGNED_BYTE,e)),this.__context.__bindGLTextureCubeMap(null)},__class__:nk});var Ll=function(e,i,s,n,o){pc.call(this,e),this.__width=i,this.__height=s,this.__optimizeForRenderToTexture=o,this.__textureTarget=this.__context.gl.TEXTURE_2D,this.uploadFromTypedArray(null),o&&this.__getGLFramebuffer(!0,0,0)};k["openfl.display3D.textures.RectangleTexture"]=Ll,Ll.__name__="openfl.display3D.textures.RectangleTexture",Ll.__super__=pc,Ll.prototype=x(pc.prototype,{uploadFromBitmapData:function(e){if(null!=e&&null!=(e=this.__getImage(e)))if(null!=e.buffer&&null==e.buffer.data&&null!=e.buffer.get_src()){var i=this.__context.gl;this.__context.__bindGLTexture2D(this.__textureID),zb.texImage2D(i,this.__textureTarget,0,this.__internalFormat,this.__format,i.UNSIGNED_BYTE,e.buffer.get_src()),this.__context.__bindGLTexture2D(null)}else this.uploadFromTypedArray(e.get_data())},uploadFromByteArray:function(e,i){0==i?this.uploadFromTypedArray(e.b):(null==i&&(i=0),i=null!=(e=ta.toArrayBuffer(e))?new Uint8Array(e,i):null,this.uploadFromTypedArray(i))},uploadFromTypedArray:function(e){var i=this.__context.gl;this.__context.__bindGLTexture2D(this.__textureID),zb.texImage2D(i,this.__textureTarget,0,this.__internalFormat,this.__width,this.__height,0,this.__format,i.UNSIGNED_BYTE,e),this.__context.__bindGLTexture2D(null)},__setSamplerState:function(e){if(pc.prototype.__setSamplerState.call(this,e)){var i=this.__context.gl;if(0!=Dc.__glMaxTextureMaxAnisotropy){switch(e.filter){case 0:e=16;break;case 1:e=2;break;case 2:e=4;break;case 3:e=8;break;default:e=1}e>Dc.__glMaxTextureMaxAnisotropy&&(e=Dc.__glMaxTextureMaxAnisotropy),i.texParameterf(i.TEXTURE_2D,Dc.__glTextureMaxAnisotropy,e)}return!0}return!1},__class__:Ll});var fj=function(e,i,s,n,o,l){pc.call(this,e),this.__width=i,this.__height=s,this.__optimizeForRenderToTexture=o,this.__streamingLevels=l,this.__textureTarget=(e=this.__context.gl).TEXTURE_2D,this.__context.__bindGLTexture2D(this.__textureID),zb.texImage2D(e,this.__textureTarget,0,this.__internalFormat,this.__width,this.__height,0,this.__format,e.UNSIGNED_BYTE,null),this.__context.__bindGLTexture2D(null),o&&this.__getGLFramebuffer(!0,0,0)};k["openfl.display3D.textures.Texture"]=fj,fj.__name__="openfl.display3D.textures.Texture",fj.__super__=pc,fj.prototype=x(pc.prototype,{uploadCompressedTextureFromByteArray:function(e,i,s){null==s&&(s=!1);var n=this;s?of.delay(function(){n.__uploadCompressedTextureFromByteArray(e,i);var o=new fa("textureReady");n.dispatchEvent(o)},1):this.__uploadCompressedTextureFromByteArray(e,i)},uploadFromBitmapData:function(e,i,s){if(null==i&&(i=0),null!=e){var n=this.__height>>i;(0!=(s=this.__width>>i)||0!=n)&&(0==s&&(s=1),0==n&&(n=1),(e.width!=s||e.height!=n)&&((s=new pa(s,n,!0,0)).draw(e),e=s),null!=(e=this.__getImage(e))&&(0==i&&null!=e.buffer&&null==e.buffer.data&&null!=e.buffer.get_src()?(s=this.__context.gl,n=this.__height>>i,(this.__width>>i||0!=n)&&(this.__context.__bindGLTexture2D(this.__textureID),zb.texImage2D(s,this.__textureTarget,i,this.__internalFormat,this.__format,s.UNSIGNED_BYTE,e.buffer.get_src()),this.__context.__bindGLTexture2D(null))):this.uploadFromTypedArray(e.get_data(),i)))}},uploadFromByteArray:function(e,i,s){null==s&&(s=0),0==i?this.uploadFromTypedArray(e.b,s):(null==i&&(i=0),i=null!=(e=ta.toArrayBuffer(e))?new Uint8Array(e,i):null,this.uploadFromTypedArray(i,s))},uploadFromTypedArray:function(e,i){if(null==i&&(i=0),null!=e){var s=this.__context.gl,n=this.__width>>i,o=this.__height>>i;(0!=n||0!=o)&&(0==n&&(n=1),0==o&&(o=1),this.__context.__bindGLTexture2D(this.__textureID),zb.texImage2D(s,this.__textureTarget,i,this.__internalFormat,n,o,0,this.__format,s.UNSIGNED_BYTE,e),this.__context.__bindGLTexture2D(null))}},__setSamplerState:function(e){if(pc.prototype.__setSamplerState.call(this,e)){var i=this.__context.gl;if(2==e.mipfilter||this.__samplerState.mipmapGenerated||(i.generateMipmap(i.TEXTURE_2D),this.__samplerState.mipmapGenerated=!0),0!=Dc.__glMaxTextureMaxAnisotropy){switch(e.filter){case 0:e=16;break;case 1:e=2;break;case 2:e=4;break;case 3:e=8;break;default:e=1}e>Dc.__glMaxTextureMaxAnisotropy&&(e=Dc.__glMaxTextureMaxAnisotropy),i.texParameterf(i.TEXTURE_2D,Dc.__glTextureMaxAnisotropy,e)}return!0}return!1},__uploadCompressedTextureFromByteArray:function(e,i){var s=this,n=(e=new zl(e,i)).readHeader(this.__width,this.__height,!1),o=this.__context.gl;this.__context.__bindGLTexture2D(this.__textureID);var l=!1;e.readTextures(function(_,h,m,f,y,g,j){if(0!=(_=n?pc.__compressedFormatsAlpha.h[m]:pc.__compressedFormats.h[m]))if(l=!0,s.__format=_,s.__internalFormat=_,n&&2==m){g=g/2|0;var $=0;null==$&&($=0),m=null!=(m=j.b.buffer)?null==g?new Uint8Array(m,$):new Uint8Array(m,$,g):null,zb.compressedTexImage2D(o,s.__textureTarget,h,s.__internalFormat,f,y,0,m),(m=new fj(s.__context,s.__width,s.__height,3,s.__optimizeForRenderToTexture,s.__streamingLevels)).__format=_,m.__internalFormat=_,s.__context.__bindGLTexture2D(m.__textureID),null==(_=g)&&(_=0),j=null!=(j=j.b.buffer)?null==g?new Uint8Array(j,_):new Uint8Array(j,_,g):null,zb.compressedTexImage2D(o,m.__textureTarget,h,m.__internalFormat,f,y,0,j),s.__alphaTexture=m}else null==(_=0)&&(_=0),j=null!=(j=j.b.buffer)?null==g?new Uint8Array(j,_):new Uint8Array(j,_,g):null,zb.compressedTexImage2D(o,s.__textureTarget,h,s.__internalFormat,f,y,0,j)}),l||(e=null!=(e=this.__width*this.__height*4)?new Uint8Array(e):null,zb.texImage2D(o,this.__textureTarget,0,this.__internalFormat,this.__width,this.__height,0,this.__format,o.UNSIGNED_BYTE,e)),this.__context.__bindGLTexture2D(null)},__class__:fj});var cp=function(e){pc.call(this,e),this.__textureTarget=this.__context.gl.TEXTURE_2D};k["openfl.display3D.textures.VideoTexture"]=cp,cp.__name__="openfl.display3D.textures.VideoTexture",cp.__super__=pc,cp.prototype=x(pc.prototype,{videoHeight:null,videoWidth:null,__netStream:null,attachNetStream:function(e){var i=this;null!=this.__netStream&&this.__netStream.__video.removeEventListener("canplay",r(this,this.__onCanPlay),!1),this.__netStream=e,4==this.__netStream.__video.readyState?of.delay(function(){i.__textureReady()},0):this.__netStream.__video.addEventListener("canplay",r(this,this.__onCanPlay),!1)},__onCanPlay:function(e){this.__textureReady()},__getTexture:function(){if((!this.__netStream.__video.paused||this.__netStream.get___seeking())&&0<this.__netStream.__video.readyState){this.__netStream.set___seeking(!1);var e=this.__context.gl;this.__context.__bindGLTexture2D(this.__textureID),zb.texImage2D(e,e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,this.__netStream.__video)}return this.__textureID},__textureReady:function(){this.videoWidth=this.__netStream.__video.videoWidth,this.videoHeight=this.__netStream.__video.videoHeight;var e=new fa("textureReady");this.dispatchEvent(e)},__class__:cp});var Xc=function(e,i){null==i&&(i=0),null==e&&(e=""),this.message=e,this.errorID=i,this.name="Error"};k["openfl.errors.Error"]=Xc,Xc.__name__="openfl.errors.Error",Xc.prototype={errorID:null,message:null,name:null,getStackTrace:function(){return ha.toString(ha.exceptionStack())},toString:function(){return null!=this.message?this.message:"Error"},__class__:Xc};var yi=function(e){null==e&&(e=""),Xc.call(this,e),this.name="ArgumentError"};k["openfl.errors.ArgumentError"]=yi,yi.__name__="openfl.errors.ArgumentError",yi.__super__=Xc,yi.prototype=x(Xc.prototype,{__class__:yi});var sk=function(e){null==e&&(e=""),Xc.call(this,e),this.name="IOError"};k["openfl.errors.IOError"]=sk,sk.__name__="openfl.errors.IOError",sk.__super__=Xc,sk.prototype=x(Xc.prototype,{__class__:sk});var Lh=function(e,i){sk.call(this,"End of file was encountered"),this.name="EOFError",this.errorID=2030};k["openfl.errors.EOFError"]=Lh,Lh.__name__="openfl.errors.EOFError",Lh.__super__=sk,Lh.prototype=x(sk.prototype,{__class__:Lh});var td=function(e){null==e&&(e=""),Xc.call(this,e,0),this.name="IllegalOperationError"};k["openfl.errors.IllegalOperationError"]=td,td.__name__="openfl.errors.IllegalOperationError",td.__super__=Xc,td.prototype=x(Xc.prototype,{__class__:td});var jj=function(e){null==e&&(e=""),Xc.call(this,e,0),this.name="RangeError"};k["openfl.errors.RangeError"]=jj,jj.__name__="openfl.errors.RangeError",jj.__super__=Xc,jj.prototype=x(Xc.prototype,{__class__:jj});var Br=function(e){null==e&&(e=""),Xc.call(this,e,0),this.name="SecurityError"};k["openfl.errors.SecurityError"]=Br,Br.__name__="openfl.errors.SecurityError",Br.__super__=Xc,Br.prototype=x(Xc.prototype,{__class__:Br});var Fk=function(e){null==e&&(e=""),Xc.call(this,e,0),this.name="TypeError"};k["openfl.errors.TypeError"]=Fk,Fk.__name__="openfl.errors.TypeError",Fk.__super__=Xc,Fk.prototype=x(Xc.prototype,{__class__:Fk});var Ng=function(e,i,s,n){null==n&&(n=!1),null==s&&(s=!1),null==i&&(i=!1),fa.call(this,e,i,s),this.activating=n};k["openfl.events.ActivityEvent"]=Ng,Ng.__name__="openfl.events.ActivityEvent",Ng.__super__=fa,Ng.prototype=x(fa.prototype,{activating:null,clone:function(){var e=new Ng(this.type,this.bubbles,this.cancelable,this.activating);return e.target=this.target,e.currentTarget=this.currentTarget,e.eventPhase=this.eventPhase,e},toString:function(){return this.__formatToString("ActivityEvent",["type","bubbles","cancelable","activating"])},__init:function(){fa.prototype.__init.call(this),this.activating=!1},__class__:Ng});var Df=function(e,i,s,n){null==n&&(n=""),null==s&&(s=!1),null==i&&(i=!1),fa.call(this,e,i,s),this.text=n};k["openfl.events.TextEvent"]=Df,Df.__name__="openfl.events.TextEvent",Df.__super__=fa,Df.prototype=x(fa.prototype,{text:null,clone:function(){var e=new Df(this.type,this.bubbles,this.cancelable,this.text);return e.target=this.target,e.currentTarget=this.currentTarget,e.eventPhase=this.eventPhase,e},toString:function(){return this.__formatToString("TextEvent",["type","bubbles","cancelable","text"])},__init:function(){fa.prototype.__init.call(this),this.text=""},__class__:Df});var af=function(e,i,s,n,o){null==o&&(o=0),null==n&&(n=""),null==s&&(s=!1),null==i&&(i=!1),Df.call(this,e,i,s,n),this.errorID=o};k["openfl.events.ErrorEvent"]=af,af.__name__="openfl.events.ErrorEvent",af.__super__=Df,af.prototype=x(Df.prototype,{errorID:null,clone:function(){var e=new af(this.type,this.bubbles,this.cancelable,this.text,this.errorID);return e.target=this.target,e.currentTarget=this.currentTarget,e.eventPhase=this.eventPhase,e},toString:function(){return this.__formatToString("ErrorEvent",["type","bubbles","cancelable","text","errorID"])},__init:function(){Df.prototype.__init.call(this),this.errorID=0},__class__:af});var Ek=function(e){this.active=!1,this.reset(e)};k["openfl.events._EventDispatcher.DispatchIterator"]=Ek,Ek.__name__="openfl.events._EventDispatcher.DispatchIterator",Ek.prototype={active:null,index:null,isCopy:null,list:null,copy:function(){this.isCopy||(this.list=this.list.slice(),this.isCopy=!0)},hasNext:function(){return this.index<this.list.length},next:function(){return this.list[this.index++]},remove:function(e,i){if(this.active)if(this.isCopy){i=this.index;for(var s=this.list.length;i<s;){var n=i++;if(this.list[n]==e){this.list.splice(n,1);break}}}else i<this.index&&this.index--},reset:function(e){this.list=e,this.isCopy=!1,this.index=0},start:function(){this.active=!0},stop:function(){this.active=!1},__class__:Ek};var Dk=function(e,i,s){this.callback=e,this.useCapture=i,this.priority=s};k["openfl.events._EventDispatcher.Listener"]=Dk,Dk.__name__="openfl.events._EventDispatcher.Listener",Dk.prototype={callback:null,priority:null,useCapture:null,match:function(e,i){return!!X.compareMethods(this.callback,e)&&this.useCapture==i},__class__:Dk};var Is={};k["openfl.events._EventType.EventType_Impl_"]=Is,Is.__name__="openfl.events._EventType.EventType_Impl_",Is.equals=function(e,i){return e==i},Is.notEquals=function(e,i){return e!=i};var Lf=function(e,i,s,n,o,l){null==l&&(l=0),null==o&&(o=!1),null==s&&(s=!1),null==i&&(i=!1),fa.call(this,e,i,s),this.keyCode=l,this.shiftKey=o,this.relatedObject=n};k["openfl.events.FocusEvent"]=Lf,Lf.__name__="openfl.events.FocusEvent",Lf.__super__=fa,Lf.prototype=x(fa.prototype,{keyCode:null,relatedObject:null,shiftKey:null,clone:function(){var e=new Lf(this.type,this.bubbles,this.cancelable,this.relatedObject,this.shiftKey,this.keyCode);return e.target=this.target,e.currentTarget=this.currentTarget,e.eventPhase=this.eventPhase,e},toString:function(){return this.__formatToString("FocusEvent","type bubbles cancelable relatedObject shiftKey keyCode".split(" "))},__init:function(){fa.prototype.__init.call(this),this.keyCode=0,this.shiftKey=!1,this.relatedObject=null},__class__:Lf});var Mg=function(e,i,s,n,o){null==o&&(o=!1),null==n&&(n=!1),null==s&&(s=!1),null==i&&(i=!1),Ng.call(this,e,i,s),this.fullScreen=n,this.interactive=o};k["openfl.events.FullScreenEvent"]=Mg,Mg.__name__="openfl.events.FullScreenEvent",Mg.__super__=Ng,Mg.prototype=x(Ng.prototype,{fullScreen:null,interactive:null,clone:function(){var e=new Mg(this.type,this.bubbles,this.cancelable,this.fullScreen,this.interactive);return e.target=this.target,e.currentTarget=this.currentTarget,e.eventPhase=this.eventPhase,e},toString:function(){return this.__formatToString("FullscreenEvent",["type","bubbles","cancelable","fullscreen","interactive"])},__init:function(){Ng.prototype.__init.call(this),this.interactive=this.fullScreen=!1},__class__:Mg});var zg=function(e,i,s,n){null==s&&(s=!1),null==i&&(i=!0),fa.call(this,e,i,s),this.device=n};k["openfl.events.GameInputEvent"]=zg,zg.__name__="openfl.events.GameInputEvent",zg.__super__=fa,zg.prototype=x(fa.prototype,{device:null,clone:function(){var e=new zg(this.type,this.bubbles,this.cancelable,this.device);return e.target=this.target,e.currentTarget=this.currentTarget,e.eventPhase=this.eventPhase,e},toString:function(){return this.__formatToString("GameInputEvent",["type","bubbles","cancelable","device"])},__init:function(){fa.prototype.__init.call(this),this.device=null},__class__:zg});var Mh=function(e,i,s,n,o){null==o&&(o=!1),null==n&&(n=0),null==s&&(s=!1),null==i&&(i=!1),this.status=n,this.redirected=o,fa.call(this,e,i,s)};k["openfl.events.HTTPStatusEvent"]=Mh,Mh.__name__="openfl.events.HTTPStatusEvent",Mh.__super__=fa,Mh.prototype=x(fa.prototype,{redirected:null,responseHeaders:null,responseURL:null,status:null,clone:function(){var e=new Mh(this.type,this.bubbles,this.cancelable,this.status,this.redirected);return e.target=this.target,e.currentTarget=this.currentTarget,e.eventPhase=this.eventPhase,e},toString:function(){return this.__formatToString("HTTPStatusEvent",["type","bubbles","cancelable","status","redirected"])},__init:function(){fa.prototype.__init.call(this),this.status=0,this.redirected=!1},__class__:Mh});var Xf=function(e,i,s,n,o){null==o&&(o=0),null==n&&(n=""),null==s&&(s=!1),null==i&&(i=!0),af.call(this,e,i,s,n,o)};k["openfl.events.IOErrorEvent"]=Xf,Xf.__name__="openfl.events.IOErrorEvent",Xf.__super__=af,Xf.prototype=x(af.prototype,{clone:function(){var e=new Xf(this.type,this.bubbles,this.cancelable,this.text,this.errorID);return e.target=this.target,e.currentTarget=this.currentTarget,e.eventPhase=this.eventPhase,e},toString:function(){return this.__formatToString("IOErrorEvent",["type","bubbles","cancelable","text","errorID"])},__class__:Xf});var Jh=function(e,i,s,n,o,l,_,h,m,f,y){null==y&&(y=!1),null==f&&(f=!1),null==m&&(m=!1),null==h&&(h=!1),null==_&&(_=!1),null==o&&(o=0),null==n&&(n=0),null==s&&(s=!1),null==i&&(i=!1),fa.call(this,e,i,s),this.charCode=n,this.keyCode=o,this.keyLocation=l??0,this.ctrlKey=_,this.altKey=h,this.shiftKey=m,this.controlKey=f,this.commandKey=y};k["openfl.events.KeyboardEvent"]=Jh,Jh.__name__="openfl.events.KeyboardEvent",Jh.__super__=fa,Jh.prototype=x(fa.prototype,{altKey:null,charCode:null,commandKey:null,controlKey:null,ctrlKey:null,keyCode:null,keyLocation:null,shiftKey:null,clone:function(){var e=new Jh(this.type,this.bubbles,this.cancelable,this.charCode,this.keyCode,this.keyLocation,this.ctrlKey,this.altKey,this.shiftKey,this.controlKey,this.commandKey);return e.target=this.target,e.currentTarget=this.currentTarget,e.eventPhase=this.eventPhase,e},toString:function(){return this.__formatToString("KeyboardEvent","type bubbles cancelable charCode keyCode keyLocation ctrlKey altKey shiftKey".split(" "))},__init:function(){fa.prototype.__init.call(this),this.keyLocation=this.keyCode=this.charCode=0,this.commandKey=this.controlKey=this.shiftKey=this.altKey=this.ctrlKey=!1},__class__:Jh});var Yb=function(e,i,s,n,o,l,_,h,m,f,y,g,j){null==j&&(j=0),null==g&&(g=!1),null==y&&(y=0),null==f&&(f=!1),null==m&&(m=!1),null==h&&(h=!1),null==_&&(_=!1),null==o&&(o=0),null==n&&(n=0),null==s&&(s=!1),null==i&&(i=!0),fa.call(this,e,i,s),this.shiftKey=m,this.altKey=h,this.ctrlKey=_,this.bubbles=i,this.relatedObject=l,this.delta=y,this.localX=n,this.localY=o,this.buttonDown=f,this.commandKey=g,this.clickCount=j,this.isRelatedObjectInaccessible=!1,this.stageY=this.stageX=NaN};k["openfl.events.MouseEvent"]=Yb,Yb.__name__="openfl.events.MouseEvent",Yb.__create=function(e,i,s,n,o,l,_){return null==_&&(_=0),(e=new Yb(e,!0,!1,o.x,o.y,null,Yb.__ctrlKey,Yb.__altKey,Yb.__shiftKey,Yb.__buttonDown,_,Yb.__commandKey)).stageX=s,e.stageY=n,e.target=l,e},Yb.__super__=fa,Yb.prototype=x(fa.prototype,{altKey:null,buttonDown:null,commandKey:null,clickCount:null,ctrlKey:null,delta:null,isRelatedObjectInaccessible:null,localX:null,localY:null,relatedObject:null,shiftKey:null,stageX:null,stageY:null,clone:function(){var e=new Yb(this.type,this.bubbles,this.cancelable,this.localX,this.localY,this.relatedObject,this.ctrlKey,this.altKey,this.shiftKey,this.buttonDown,this.delta,this.commandKey,this.clickCount);return e.target=this.target,e.currentTarget=this.currentTarget,e.eventPhase=this.eventPhase,e},toString:function(){return this.__formatToString("MouseEvent","type bubbles cancelable localX localY relatedObject ctrlKey altKey shiftKey buttonDown delta".split(" "))},updateAfterEvent:function(){},__init:function(){fa.prototype.__init.call(this),this.bubbles=this.ctrlKey=this.altKey=this.shiftKey=!1,this.relatedObject=null,this.localY=this.localX=this.delta=0,this.commandKey=this.buttonDown=!1,this.clickCount=0,this.isRelatedObjectInaccessible=!1,this.stageY=this.stageX=NaN},__class__:Yb});var Mf=function(e,i,s,n){null==s&&(s=!1),null==i&&(i=!1),this.info=n,fa.call(this,e,i,s)};k["openfl.events.NetStatusEvent"]=Mf,Mf.__name__="openfl.events.NetStatusEvent",Mf.__super__=fa,Mf.prototype=x(fa.prototype,{info:null,clone:function(){var e=new Mf(this.type,this.bubbles,this.cancelable,this.info);return e.target=this.target,e.currentTarget=this.currentTarget,e.eventPhase=this.eventPhase,e},toString:function(){return this.__formatToString("NetStatusEvent",["type","bubbles","cancelable","info"])},__init:function(){fa.prototype.__init.call(this),this.info=null},__class__:Mf});var xg=function(e,i,s,n,o){null==o&&(o=0),null==n&&(n=0),null==s&&(s=!1),null==i&&(i=!1),fa.call(this,e,i,s),this.bytesLoaded=n,this.bytesTotal=o};k["openfl.events.ProgressEvent"]=xg,xg.__name__="openfl.events.ProgressEvent",xg.__super__=fa,xg.prototype=x(fa.prototype,{bytesLoaded:null,bytesTotal:null,clone:function(){var e=new xg(this.type,this.bubbles,this.cancelable,this.bytesLoaded,this.bytesTotal);return e.target=this.target,e.currentTarget=this.currentTarget,e.eventPhase=this.eventPhase,e},toString:function(){return this.__formatToString("ProgressEvent",["type","bubbles","cancelable","bytesLoaded","bytesTotal"])},__init:function(){fa.prototype.__init.call(this),this.bytesTotal=this.bytesLoaded=0},__class__:xg});var gg=function(e,i,s,n,o,l){null==l&&(l=!0),null==s&&(s=!1),null==i&&(i=!1),fa.call(this,e,i,s),this.objectMatrix=n,this.objectColorTransform=o,this.allowSmoothing=l};k["openfl.events.RenderEvent"]=gg,gg.__name__="openfl.events.RenderEvent",gg.__super__=fa,gg.prototype=x(fa.prototype,{allowSmoothing:null,objectColorTransform:null,objectMatrix:null,renderer:null,clone:function(){var e=new gg(this.type,this.bubbles,this.cancelable,this.objectMatrix.clone(),this.objectColorTransform.__clone(),this.allowSmoothing);return e.target=this.target,e.currentTarget=this.currentTarget,e.eventPhase=this.eventPhase,e},toString:function(){return this.__formatToString("RenderEvent",["type","bubbles","cancelable"])},__init:function(){fa.prototype.__init.call(this),this.objectColorTransform=this.objectMatrix=null,this.allowSmoothing=!1,this.renderer=null},__class__:gg});var wi=function(e,i,s,n,o){null==o&&(o=0),null==n&&(n=""),null==s&&(s=!1),null==i&&(i=!1),af.call(this,e,i,s,n,o)};k["openfl.events.SecurityErrorEvent"]=wi,wi.__name__="openfl.events.SecurityErrorEvent",wi.__super__=af,wi.prototype=x(af.prototype,{clone:function(){var e=new wi(this.type,this.bubbles,this.cancelable,this.text,this.errorID);return e.target=this.target,e.currentTarget=this.currentTarget,e.eventPhase=this.eventPhase,e},toString:function(){return this.__formatToString("SecurityErrorEvent",["type","bubbles","cancelable","text","errorID"])},__class__:wi});var Vd=function(e,i,s,n,o,l,_,h,m,f,y,g,j,$,yt,_t,xt,Tt,St,Mt){null==_t&&(_t=!1),null==yt&&(yt=!1),null==$&&($=!1),null==j&&(j=!1),null==g&&(g=!1),null==f&&(f=0),null==m&&(m=0),null==h&&(h=0),null==_&&(_=0),null==l&&(l=0),null==o&&(o=!1),null==n&&(n=0),null==s&&(s=!1),null==i&&(i=!0),fa.call(this,e,i,s),this.touchPointID=n,this.isPrimaryTouchPoint=o,this.localX=l,this.localY=_,this.sizeX=h,this.sizeY=m,this.pressure=f,this.relatedObject=y,this.ctrlKey=g,this.altKey=j,this.shiftKey=$,this.commandKey=yt,this.controlKey=_t,this.stageY=this.stageX=NaN};k["openfl.events.TouchEvent"]=Vd,Vd.__name__="openfl.events.TouchEvent",Vd.__create=function(e,i,s,n,o,l){return(e=new Vd(e,!0,!1,0,!0,o.x,o.y,1,1,1)).stageX=s,e.stageY=n,e.target=l,e},Vd.__super__=fa,Vd.prototype=x(fa.prototype,{altKey:null,commandKey:null,controlKey:null,ctrlKey:null,delta:null,isPrimaryTouchPoint:null,localX:null,localY:null,pressure:null,relatedObject:null,shiftKey:null,sizeX:null,sizeY:null,stageX:null,stageY:null,touchPointID:null,clone:function(){var e=new Vd(this.type,this.bubbles,this.cancelable,this.touchPointID,this.isPrimaryTouchPoint,this.localX,this.localY,this.sizeX,this.sizeY,this.pressure,this.relatedObject,this.ctrlKey,this.altKey,this.shiftKey,this.commandKey,this.controlKey);return e.target=this.target,e.currentTarget=this.currentTarget,e.eventPhase=this.eventPhase,e},toString:function(){return this.__formatToString("TouchEvent","type bubbles cancelable touchPointID isPrimaryTouchPoint localX localY sizeX sizeY pressure relatedObject ctrlKey altKey shiftKey commandKey controlKey".split(" "))},updateAfterEvent:function(){},__init:function(){fa.prototype.__init.call(this),this.touchPointID=0,this.isPrimaryTouchPoint=!1,this.pressure=this.sizeY=this.sizeX=this.localY=this.localX=0,this.relatedObject=null,this.controlKey=this.commandKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.stageY=this.stageX=NaN},__class__:Vd});var ti=function(e,i,s,n){null==s&&(s=!0),null==i&&(i=!0),af.call(this,e,i,s),this.error=n};k["openfl.events.UncaughtErrorEvent"]=ti,ti.__name__="openfl.events.UncaughtErrorEvent",ti.__super__=af,ti.prototype=x(af.prototype,{error:null,clone:function(){var e=new ti(this.type,this.bubbles,this.cancelable,this.error);return e.target=this.target,e.currentTarget=this.currentTarget,e.eventPhase=this.eventPhase,e},toString:function(){return this.__formatToString("UncaughtErrorEvent",["type","bubbles","cancelable","error"])},__init:function(){af.prototype.__init.call(this),this.error=null},__class__:ti});var Zo=function(){A.call(this)};k["openfl.events.UncaughtErrorEvents"]=Zo,Zo.__name__="openfl.events.UncaughtErrorEvents",Zo.__super__=A,Zo.prototype=x(A.prototype,{__class__:Zo});var Ge=function(){this.__leftExtension=this.__bottomExtension=0,this.__needSecondBitmapData=!0,this.__numShaderPasses=0,this.__preserveObject=!1,this.__rightExtension=0,this.__shaderBlendMode=10,this.__topExtension=0,this.__smooth=!0};k["openfl.filters.BitmapFilter"]=Ge,Ge.__name__="openfl.filters.BitmapFilter",Ge.prototype={__bottomExtension:null,__leftExtension:null,__needSecondBitmapData:null,__numShaderPasses:null,__preserveObject:null,__renderDirty:null,__rightExtension:null,__shaderBlendMode:null,__smooth:null,__topExtension:null,clone:function(){return new Ge},__applyFilter:function(e,i,s,n){return i},__initShader:function(e,i,s){return null},__class__:Ge};var Ec=function(e){null==this.__glFragmentSource&&(this.__glFragmentSource="varying vec2 openfl_TextureCoordv;\n\n\t\tuniform sampler2D openfl_Texture;\n\t\tuniform vec2 openfl_TextureSize;\n\n\t\tvoid main(void) {\n\n\t\t\tgl_FragColor = texture2D (openfl_Texture, openfl_TextureCoordv);\n\n\t\t}"),null==this.__glVertexSource&&(this.__glVertexSource="attribute vec4 openfl_Position;\n\t\tattribute vec2 openfl_TextureCoord;\n\n\t\tvarying vec2 openfl_TextureCoordv;\n\n\t\tuniform mat4 openfl_Matrix;\n\t\tuniform vec2 openfl_TextureSize;\n\n\t\tvoid main(void) {\n\n\t\t\topenfl_TextureCoordv = openfl_TextureCoord;\n\n\t\tgl_Position = openfl_Matrix * openfl_Position;\n\n\t\t}"),Ze.call(this,e),this.__isGenerated=!0,this.__initGL()};k["openfl.filters.BitmapFilterShader"]=Ec,Ec.__name__="openfl.filters.BitmapFilterShader",Ec.__super__=Ze,Ec.prototype=x(Ze.prototype,{openfl_Position:null,openfl_TextureCoord:null,openfl_Matrix:null,openfl_TextureSize:null,openfl_Texture:null,__class__:Ec});var gp=function(){null==this.__glFragmentSource&&(this.__glFragmentSource="uniform sampler2D openfl_Texture;\n\n\t\tvarying vec2 vBlurCoords[7];\n\n\t\tvoid main(void) {\n\n\t\t\tvec4 sum = vec4(0.0);\n\t\t\tsum += texture2D(openfl_Texture, vBlurCoords[0]) * 0.00443;\n\t\t\tsum += texture2D(openfl_Texture, vBlurCoords[1]) * 0.05399;\n\t\t\tsum += texture2D(openfl_Texture, vBlurCoords[2]) * 0.24197;\n\t\t\tsum += texture2D(openfl_Texture, vBlurCoords[3]) * 0.39894;\n\t\t\tsum += texture2D(openfl_Texture, vBlurCoords[4]) * 0.24197;\n\t\t\tsum += texture2D(openfl_Texture, vBlurCoords[5]) * 0.05399;\n\t\t\tsum += texture2D(openfl_Texture, vBlurCoords[6]) * 0.00443;\n\n\t\t\tgl_FragColor = sum;\n\n\t\t}"),null==this.__glVertexSource&&(this.__glVertexSource="attribute vec4 openfl_Position;\n\t\tattribute vec2 openfl_TextureCoord;\n\n\t\tuniform mat4 openfl_Matrix;\n\n\t\tuniform vec2 uRadius;\n\t\tvarying vec2 vBlurCoords[7];\n\t\tuniform vec2 uTextureSize;\n\n\t\tvoid main(void) {\n\n\t\t\tgl_Position = openfl_Matrix * openfl_Position;\n\n\t\t\tvec2 r = uRadius / uTextureSize;\n\t\t\tvBlurCoords[0] = openfl_TextureCoord - r;\n\t\t\tvBlurCoords[1] = openfl_TextureCoord - r * 0.75;\n\t\t\tvBlurCoords[2] = openfl_TextureCoord - r * 0.5;\n\t\t\tvBlurCoords[3] = openfl_TextureCoord;\n\t\t\tvBlurCoords[4] = openfl_TextureCoord + r * 0.5;\n\t\t\tvBlurCoords[5] = openfl_TextureCoord + r * 0.75;\n\t\t\tvBlurCoords[6] = openfl_TextureCoord + r;\n\n\t\t}"),Ec.call(this),this.uRadius.value=[0,0],this.__isGenerated=!0,this.__initGL()};k["openfl.filters._BlurFilter.BlurShader"]=gp,gp.__name__="openfl.filters._BlurFilter.BlurShader",gp.__super__=Ec,gp.prototype=x(Ec.prototype,{__update:function(){this.uTextureSize.value=[this.__texture.input.width,this.__texture.input.height],Ec.prototype.__update.call(this)},uRadius:null,uTextureSize:null,__class__:gp});var ug=function(e,i,s){null==s&&(s=1),null==i&&(i=4),null==e&&(e=4),Ge.call(this),this.set_blurX(e),this.set_blurY(i),this.set_quality(s),this.__needSecondBitmapData=!0,this.__preserveObject=!1,this.__renderDirty=!0};k["openfl.filters.BlurFilter"]=ug,ug.__name__="openfl.filters.BlurFilter",ug.__super__=Ge,ug.prototype=x(Ge.prototype,{__blurX:null,__blurY:null,__horizontalPasses:null,__quality:null,__verticalPasses:null,clone:function(){return new ug(this.__blurX,this.__blurY,this.__quality)},__applyFilter:function(e,i,s,n){return(new Date).getTime(),s=ab.gaussianBlur(e.image,i.image,s.__toLimeRectangle(),n.__toLimeVector2(),this.__blurX,this.__blurY,this.__quality),(new Date).getTime(),s==e.image?e:i},__initShader:function(e,i,s){return i<this.__horizontalPasses?(e=Math.pow(.5,i>>1),ug.__blurShader.uRadius.value[0]=this.get_blurX()*e,ug.__blurShader.uRadius.value[1]=0):(e=Math.pow(.5,i-this.__horizontalPasses>>1),ug.__blurShader.uRadius.value[0]=0,ug.__blurShader.uRadius.value[1]=this.get_blurY()*e),ug.__blurShader},get_blurX:function(){return this.__blurX},set_blurX:function(e){return e!=this.__blurX&&(this.__blurX=e,this.__renderDirty=!0,this.__rightExtension=this.__leftExtension=0<e?Math.ceil(e):0),e},get_blurY:function(){return this.__blurY},set_blurY:function(e){return e!=this.__blurY&&(this.__blurY=e,this.__renderDirty=!0,this.__bottomExtension=this.__topExtension=0<e?Math.ceil(e):0),e},get_quality:function(){return this.__quality},set_quality:function(e){return this.__horizontalPasses=0>=this.__blurX?0:Math.round(e/4*this.__blurX)+1,this.__verticalPasses=0>=this.__blurY?0:Math.round(e/4*this.__blurY)+1,this.__numShaderPasses=this.__horizontalPasses+this.__verticalPasses,e!=this.__quality&&(this.__renderDirty=!0),this.__quality=e},__class__:ug,__properties__:{set_quality:"set_quality",get_quality:"get_quality",set_blurY:"set_blurY",get_blurY:"get_blurY",set_blurX:"set_blurX",get_blurX:"get_blurX"}});var Ol=function(){null==this.__glFragmentSource&&(this.__glFragmentSource="varying vec2 openfl_TextureCoordv;\n\t\tuniform sampler2D openfl_Texture;\n\n\t\tuniform mat4 uMultipliers;\n\t\tuniform vec4 uOffsets;\n\n\t\tvoid main(void) {\n\n\t\t\tvec4 color = texture2D (openfl_Texture, openfl_TextureCoordv);\n\n\t\t\tif (color.a == 0.0) {\n\n\t\t\t\tgl_FragColor = vec4 (0.0, 0.0, 0.0, 0.0);\n\n\t\t\t} else {\n\n\t\t\t\tcolor = vec4 (color.rgb / color.a, color.a);\n\t\t\t\tcolor = uOffsets + color * uMultipliers;\n\n\t\t\t\tgl_FragColor = vec4 (color.rgb * color.a, color.a);\n\n\t\t\t}\n\n\t\t}"),null==this.__glVertexSource&&(this.__glVertexSource="attribute vec4 openfl_Position;\n\t\tattribute vec2 openfl_TextureCoord;\n\n\t\tvarying vec2 openfl_TextureCoordv;\n\n\t\tuniform mat4 openfl_Matrix;\n\t\tuniform vec2 openfl_TextureSize;\n\n\n\t\tvoid main(void) {\n\n\t\t\topenfl_TextureCoordv = openfl_TextureCoord;\n\n\t\tgl_Position = openfl_Matrix * openfl_Position;\n\n\n\t\t}"),Ec.call(this),this.uMultipliers.value=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],this.uOffsets.value=[0,0,0,0],this.__isGenerated=!0,this.__initGL()};k["openfl.filters._ColorMatrixFilter.ColorMatrixShader"]=Ol,Ol.__name__="openfl.filters._ColorMatrixFilter.ColorMatrixShader",Ol.__super__=Ec,Ol.prototype=x(Ec.prototype,{init:function(e){var i=this.uMultipliers.value,s=this.uOffsets.value;i[0]=e[0],i[1]=e[1],i[2]=e[2],i[3]=e[3],i[4]=e[5],i[5]=e[6],i[6]=e[7],i[7]=e[8],i[8]=e[10],i[9]=e[11],i[10]=e[12],i[11]=e[13],i[12]=e[15],i[13]=e[16],i[14]=e[17],i[15]=e[18],s[0]=e[4]/255,s[1]=e[9]/255,s[2]=e[14]/255,s[3]=e[19]/255},uMultipliers:null,uOffsets:null,__class__:Ol});var Sf=function(e){Ge.call(this),this.set_matrix(e),this.__numShaderPasses=1,this.__needSecondBitmapData=!1};k["openfl.filters.ColorMatrixFilter"]=Sf,Sf.__name__="openfl.filters.ColorMatrixFilter",Sf.__super__=Ge,Sf.prototype=x(Ge.prototype,{__matrix:null,clone:function(){return new Sf(this.__matrix)},__applyFilter:function(e,i,s,n){var o=i.image,l=e.image;za.convertToData(o),za.convertToData(l);var _=o.get_data(),h=l.get_data(),m=n.x-s.x|0;n=n.y-s.y|0,i=4*i.width;var f=4*e.width,y=o.buffer.format,g=l.buffer.format;o=o.buffer.premultiplied,l=l.buffer.premultiplied;for(var j,yt,_t,$=0,xt=0|s.y,Tt=0|s.height;xt<Tt;)for(var St=xt++,Mt=0|s.x,Et=0|s.width;Mt<Et;){yt=St*i+4*(_t=Mt++),_t=(St+m)*f+4*(_t+n);var Ct=y,Dt=o;switch(null==Dt&&(Dt=!1),null==Ct&&(Ct=0),Ct){case 0:j=(255&_[yt])<<24|(255&_[yt+1])<<16|(255&_[yt+2])<<8|255&_[yt+3];break;case 1:j=(255&_[yt+1])<<24|(255&_[yt+2])<<16|(255&_[yt+3])<<8|255&_[yt];break;case 2:j=(255&_[yt+2])<<24|(255&_[yt+1])<<16|(255&_[yt])<<8|255&_[yt+3]}switch(Dt&&255&j&&255!=(255&j)&&(I.unmult=255/(255&j),j=(255&I.__clamp[Math.round((j>>>24&255)*I.unmult)])<<24|(255&I.__clamp[Math.round((j>>>16&255)*I.unmult)])<<16|(255&I.__clamp[Math.round((j>>>8&255)*I.unmult)])<<8|255&j),$=255&j?(($=(($=(($=(255&(0|Math.max(0,Math.min(this.__matrix[0]*(j>>>24&255)+this.__matrix[1]*(j>>>16&255)+this.__matrix[2]*(j>>>8&255)+this.__matrix[3]*(255&j)+this.__matrix[4],255))))<<24|($>>>16&255)<<16|($>>>8&255)<<8|255&$)>>>24&255)<<24|(255&(0|Math.max(0,Math.min(this.__matrix[5]*(j>>>24&255)+this.__matrix[6]*(j>>>16&255)+this.__matrix[7]*(j>>>8&255)+this.__matrix[8]*(255&j)+this.__matrix[9],255))))<<16|($>>>8&255)<<8|255&$)>>>24&255)<<24|($>>>16&255)<<16|(255&(0|Math.max(0,Math.min(this.__matrix[10]*(j>>>24&255)+this.__matrix[11]*(j>>>16&255)+this.__matrix[12]*(j>>>8&255)+this.__matrix[13]*(255&j)+this.__matrix[14],255))))<<8|255&$)>>>24&255)<<24|($>>>16&255)<<16|($>>>8&255)<<8|255&(0|Math.max(0,Math.min(this.__matrix[15]*(j>>>24&255)+this.__matrix[16]*(j>>>16&255)+this.__matrix[17]*(j>>>8&255)+this.__matrix[18]*(255&j)+this.__matrix[19],255))):0,null==(Ct=l)&&(Ct=!1),null==(yt=g)&&(yt=0),Ct&&(255&$?255!=(255&$)&&(I.a16=I.__alpha16[255&$],$=(($>>>24&255)*I.a16>>16&255)<<24|(($>>>16&255)*I.a16>>16&255)<<16|(($>>>8&255)*I.a16>>16&255)<<8|255&$):0!=$&&($=0)),yt){case 0:h[_t]=$>>>24&255,h[_t+1]=$>>>16&255,h[_t+2]=$>>>8&255,h[_t+3]=255&$;break;case 1:h[_t]=255&$,h[_t+1]=$>>>24&255,h[_t+2]=$>>>16&255,h[_t+3]=$>>>8&255;break;case 2:h[_t]=$>>>8&255,h[_t+1]=$>>>16&255,h[_t+2]=$>>>24&255,h[_t+3]=255&$}}return e.image.dirty=!0,e},__initShader:function(e,i,s){return Sf.__colorMatrixShader.init(this.get_matrix()),Sf.__colorMatrixShader},get_matrix:function(){return this.__matrix},set_matrix:function(e){return null==e&&(e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),this.__matrix=e},__class__:Sf,__properties__:{set_matrix:"set_matrix",get_matrix:"get_matrix"}});var hp=function(){null==this.__glFragmentSource&&(this.__glFragmentSource="varying vec2 vBlurCoords[9];\n\n\t\tuniform sampler2D openfl_Texture;\n\n\t\tuniform float uBias;\n\t\tuniform mat3 uConvoMatrix;\n\t\tuniform float uDivisor;\n\t\tuniform bool uPreserveAlpha;\n\n\t\tvoid main(void) {\n\n\t\t\tvec4 tc = texture2D (openfl_Texture, vBlurCoords[4]);\n\t\t\tvec4 c = vec4 (0.0);\n\n\t\t\tc += texture2D (openfl_Texture, vBlurCoords[0]) * uConvoMatrix[0][0];\n\t\t\tc += texture2D (openfl_Texture, vBlurCoords[1]) * uConvoMatrix[0][1];\n\t\t\tc += texture2D (openfl_Texture, vBlurCoords[2]) * uConvoMatrix[0][2];\n\n\t\t\tc += texture2D (openfl_Texture, vBlurCoords[3]) * uConvoMatrix[1][0];\n\t\t\tc += tc * uConvoMatrix[1][1];\n\t\t\tc += texture2D (openfl_Texture, vBlurCoords[5]) * uConvoMatrix[1][2];\n\n\t\t\tc += texture2D (openfl_Texture, vBlurCoords[6]) * uConvoMatrix[2][0];\n\t\t\tc += texture2D (openfl_Texture, vBlurCoords[7]) * uConvoMatrix[2][1];\n\t\t\tc += texture2D (openfl_Texture, vBlurCoords[8]) * uConvoMatrix[2][2];\n\n\t\t\tif (uDivisor > 0.0) {\n\n\t\t\t\tc /= vec4 (uDivisor, uDivisor, uDivisor, uDivisor);\n\n\t\t\t}\n\n\t\t\tc += vec4 (uBias, uBias, uBias, uBias);\n\n\t\t\tif (uPreserveAlpha) {\n\n\t\t\t\tc.a = tc.a;\n\n\t\t\t}\n\n\t\t\tgl_FragColor = c;\n\n\t\t}"),null==this.__glVertexSource&&(this.__glVertexSource="attribute vec4 openfl_Position;\n\t\tattribute vec2 openfl_TextureCoord;\n\n\t\tvarying vec2 vBlurCoords[9];\n\n\t\tuniform mat4 openfl_Matrix;\n\t\tuniform vec2 openfl_TextureSize;\n\n\t\tvoid main(void) {\n\n\t\t\tvec2 r = vec2 (1.0, 1.0) / openfl_TextureSize;\n\t\t\tvec2 t = openfl_TextureCoord;\n\n\t\t\tvBlurCoords[0] = t + r * vec2 (-1.0, -1.0);\n\t\t\tvBlurCoords[1] = t + r * vec2 (0.0, -1.0);\n\t\t\tvBlurCoords[2] = t + r * vec2 (1.0, -1.0);\n\n\t\t\tvBlurCoords[3] = t + r * vec2 (-1.0, 0.0);\n\t\t\tvBlurCoords[4] = t;\n\t\t\tvBlurCoords[5] = t + r * vec2 (1.0, 0.0);\n\n\t\t\tvBlurCoords[6] = t + r * vec2 (-1.0, 1.0);\n\t\t\tvBlurCoords[7] = t + r * vec2 (0.0, 1.0);\n\t\t\tvBlurCoords[8] = t + r * vec2 (1.0, 1.0);\n\n\t\t\tgl_Position = openfl_Matrix * openfl_Position;\n\n\t\t}"),Ec.call(this),this.uDivisor.value=[1],this.uBias.value=[0],this.uPreserveAlpha.value=[!0],this.__isGenerated=!0,this.__initGL()};k["openfl.filters._ConvolutionFilter.ConvolutionShader"]=hp,hp.__name__="openfl.filters._ConvolutionFilter.ConvolutionShader",hp.__super__=Ec,hp.prototype=x(Ec.prototype,{uBias:null,uConvoMatrix:null,uDivisor:null,uPreserveAlpha:null,__class__:hp});var nh=function(e,i,s,n,o,l,_,h,m){null==m&&(m=0),null==h&&(h=0),null==_&&(_=!0),null==l&&(l=!0),null==o&&(o=0),null==n&&(n=1),null==i&&(i=0),null==e&&(e=0),Ge.call(this),this.matrixX=e,this.matrixY=i,this.__matrix=s,this.divisor=n,this.bias=o,this.preserveAlpha=l,this.clamp=_,this.color=h,this.alpha=m,this.__numShaderPasses=1};k["openfl.filters.ConvolutionFilter"]=nh,nh.__name__="openfl.filters.ConvolutionFilter",nh.__super__=Ge,nh.prototype=x(Ge.prototype,{alpha:null,bias:null,clamp:null,color:null,divisor:null,matrixX:null,matrixY:null,preserveAlpha:null,__matrix:null,clone:function(){return new nh(this.matrixX,this.matrixY,this.__matrix,this.divisor,this.bias,this.preserveAlpha,this.clamp,this.color,this.alpha)},__initShader:function(e,i,s){return nh.__convolutionShader.uConvoMatrix.value=this.get_matrix(),nh.__convolutionShader.uDivisor.value[0]=this.divisor,nh.__convolutionShader.uBias.value[0]=this.bias,nh.__convolutionShader.uPreserveAlpha.value[0]=this.preserveAlpha,nh.__convolutionShader},get_matrix:function(){return this.__matrix},set_matrix:function(e){if(null==e&&(e=[0,0,0,0,1,0,0,0,0]),9!=e.length)throw new E("Only a 3x3 matrix is supported");return this.__matrix=e},__class__:nh,__properties__:{set_matrix:"set_matrix",get_matrix:"get_matrix"}});var ip=function(){null==this.__glFragmentSource&&(this.__glFragmentSource="\n\n\t\tuniform sampler2D openfl_Texture;\n\t\tuniform sampler2D mapTexture;\n\n\t\tuniform mat4 openfl_Matrix;\n\n\t\tuniform vec4 uOffsets;\n\t\tuniform mat4 uDisplacements;\n\n\t\tvarying vec2 openfl_TextureCoordV;\n\t\tvarying vec2 mapTextureCoords;\n\n\t\tvoid main(void) {\n\n\t\t\tvec4 map_color = texture2D(mapTexture, mapTextureCoords);\n\t\t\tvec4 map_color_mod = map_color - uOffsets;\n\n\t\t\tmap_color_mod = map_color_mod * vec4(map_color.w, map_color.w, 1.0, 1.0);\n\n\t\t\tvec4 displacements_multiplied = map_color_mod * uDisplacements;\n\t\t\tvec4 result = vec4(openfl_TextureCoordV.x, openfl_TextureCoordV.y, 0.0, 1.0) + displacements_multiplied;\n\n\t\t\tgl_FragColor = texture2D(openfl_Texture, vec2(result));\n\n\t\t}\n\n\t"),null==this.__glVertexSource&&(this.__glVertexSource="\n\n\t\tuniform mat4 openfl_Matrix;\n\n\t\tuniform vec2 mapTextureCoordsOffset;\n\n\t\tattribute vec4 openfl_Position;\n\t\tattribute vec2 openfl_TextureCoord;\n\n\t\tvarying vec2 openfl_TextureCoordV;\n\n\t\tvarying vec2 mapTextureCoords;\n\n\t\tvoid main(void) {\n\n\t\t\tgl_Position = openfl_Matrix * openfl_Position;\n\n\t\t\topenfl_TextureCoordV = openfl_TextureCoord;\n\t\t\tmapTextureCoords = openfl_TextureCoord - mapTextureCoordsOffset;\n\n\t\t}\n\n\t"),Ec.call(this),this.__isGenerated=!0,this.__initGL()};k["openfl.filters._DisplacementMapFilter.DisplacementMapShader"]=ip,ip.__name__="openfl.filters._DisplacementMapFilter.DisplacementMapShader",ip.__super__=Ec,ip.prototype=x(Ec.prototype,{mapTextureCoordsOffset:null,mapTexture:null,uOffsets:null,uDisplacements:null,__class__:ip});var gc=function(e,i,s,n,o,l,_,h,m){null==m&&(m=0),null==h&&(h=0),null==_&&(_="wrap"),null==l&&(l=0),null==o&&(o=0),null==n&&(n=0),null==s&&(s=0),Ge.call(this),this.__mapBitmap=e,this.__mapPoint=i??new ra,this.__componentX=s,this.__componentY=n,this.__scaleX=o,this.__scaleY=l,this.__mode=_,this.__color=h,this.__alpha=m,this.__needSecondBitmapData=!0,this.__preserveObject=!1,this.__renderDirty=!0,this.__numShaderPasses=1};k["openfl.filters.DisplacementMapFilter"]=gc,gc.__name__="openfl.filters.DisplacementMapFilter",gc.__super__=Ge,gc.prototype=x(Ge.prototype,{__alpha:null,__color:null,__componentX:null,__componentY:null,__mapBitmap:null,__mapPoint:null,__mode:null,__scaleX:null,__scaleY:null,clone:function(){return new gc(this.__mapBitmap,this.__mapPoint.clone(),this.__componentX,this.__componentY,this.__scaleX,this.__scaleY,this.__mode,this.__color,this.__alpha)},__applyFilter:function(e,i,s,n){return this.__updateMapMatrix(),za.convertToData(e.image),za.convertToData(i.image),za.convertToData(this.__mapBitmap.image),ab.displaceMap(e.image,i.image,this.__mapBitmap.image,new Fd(this.__mapPoint.x/this.__mapBitmap.width,this.__mapPoint.y/this.__mapBitmap.height),new Jc(gc.__matrixData[0],gc.__matrixData[4],gc.__matrixData[8],gc.__matrixData[12]),new Jc(gc.__matrixData[1],gc.__matrixData[5],gc.__matrixData[9],gc.__matrixData[13]),this.__smooth),e},__initShader:function(e,i,s){return this.__updateMapMatrix(),gc.__displacementMapShader.uOffsets.value=gc.__offset,gc.__displacementMapShader.uDisplacements.value=gc.__matrixData,e=this.get_mapPoint().x/this.__mapBitmap.width,i=this.get_mapPoint().y/this.__mapBitmap.height,gc.__displacementMapShader.mapTextureCoordsOffset.value=[e,i],gc.__displacementMapShader.mapTexture.input=this.__mapBitmap,gc.__displacementMapShader},__updateMapMatrix:function(){var e=this.__mapBitmap.width,i=this.__mapBitmap.height;gc.__matrixData[0]=0,gc.__matrixData[1]=0,gc.__matrixData[2]=0,gc.__matrixData[3]=0,gc.__matrixData[4]=0,gc.__matrixData[5]=0,gc.__matrixData[6]=0,gc.__matrixData[7]=0,gc.__matrixData[8]=0,gc.__matrixData[9]=0,gc.__matrixData[10]=0,gc.__matrixData[11]=0,gc.__matrixData[12]=0,gc.__matrixData[13]=0,gc.__matrixData[14]=0,gc.__matrixData[15]=0;var n=1==this.__componentY?0:2==this.__componentY?1:4==this.__componentY?2:3;gc.__matrixData[4*(1==this.__componentX?0:2==this.__componentX?1:4==this.__componentX?2:3)]=1*this.__scaleX/e,gc.__matrixData[4*n+1]=1*this.__scaleY/i},get_alpha:function(){return this.__alpha},set_alpha:function(e){return e!=this.__alpha&&(this.__renderDirty=!0),this.__alpha=e},get_componentX:function(){return this.__componentX},set_componentX:function(e){return e!=this.__componentX&&(this.__renderDirty=!0),this.__componentX=e},get_componentY:function(){return this.__componentY},set_componentY:function(e){return e!=this.__componentY&&(this.__renderDirty=!0),this.__componentY=e},get_color:function(){return this.__color},set_color:function(e){return e!=this.__color&&(this.__renderDirty=!0),this.__color=e},get_scaleX:function(){return this.__scaleX},set_scaleX:function(e){return e!=this.__scaleX&&(this.__renderDirty=!0),this.__scaleX=e},get_scaleY:function(){return this.__scaleY},set_scaleY:function(e){return e!=this.__scaleY&&(this.__renderDirty=!0),this.__scaleY=e},get_mapBitmap:function(){return this.__mapBitmap},set_mapBitmap:function(e){return e!=this.__mapBitmap&&(this.__renderDirty=!0),this.__mapBitmap=e},get_mapPoint:function(){return this.__mapPoint},set_mapPoint:function(e){return e!=this.__mapPoint&&(this.__renderDirty=!0),this.__mapPoint=e},get_mode:function(){return this.__mode},set_mode:function(e){return e!=this.__mode&&(this.__renderDirty=!0),this.__mode=e},__class__:gc,__properties__:{set_scaleY:"set_scaleY",get_scaleY:"get_scaleY",set_scaleX:"set_scaleX",get_scaleX:"get_scaleX",set_mode:"set_mode",get_mode:"get_mode",set_mapPoint:"set_mapPoint",get_mapPoint:"get_mapPoint",set_mapBitmap:"set_mapBitmap",get_mapBitmap:"get_mapBitmap",set_componentY:"set_componentY",get_componentY:"get_componentY",set_componentX:"set_componentX",get_componentX:"get_componentX",set_color:"set_color",get_color:"get_color",set_alpha:"set_alpha",get_alpha:"get_alpha"}});var jp=function(){null==this.__glFragmentSource&&(this.__glFragmentSource="\n\t\tuniform sampler2D openfl_Texture;\n\t\tuniform sampler2D sourceBitmap;\n\t\tuniform float strength;\n\t\tvarying vec4 textureCoords;\n\n\t\tvoid main(void) {\n\t\t\tvec4 glow = texture2D(openfl_Texture, textureCoords.zw) * strength;\n\n\t\t\tgl_FragColor = glow;\n\t\t}\n\t"),null==this.__glVertexSource&&(this.__glVertexSource="attribute vec4 openfl_Position;\n\t\tattribute vec2 openfl_TextureCoord;\n\t\tuniform mat4 openfl_Matrix;\n\t\tuniform vec2 openfl_TextureSize;\n\t\tuniform vec2 offset;\n\t\tvarying vec4 textureCoords;\n\n\t\tvoid main(void) {\n\t\t\tgl_Position = openfl_Matrix * openfl_Position;\n\t\t\ttextureCoords = vec4(openfl_TextureCoord, openfl_TextureCoord - offset / openfl_TextureSize);\n\t\t}\n\t"),Ec.call(this),this.strength.value=[1],this.offset.value=[0,0],this.__isGenerated=!0,this.__initGL()};k["openfl.filters._DropShadowFilter.HideShader"]=jp,jp.__name__="openfl.filters._DropShadowFilter.HideShader",jp.__super__=Ec,jp.prototype=x(Ec.prototype,{offset:null,sourceBitmap:null,strength:null,__class__:jp});var ji=function(e,i,s,n,o,l,_,h,m,f,y){null==y&&(y=!1),null==f&&(f=!1),null==m&&(m=!1),null==h&&(h=1),null==_&&(_=1),null==l&&(l=4),null==o&&(o=4),null==n&&(n=1),null==s&&(s=0),null==i&&(i=45),null==e&&(e=4),Ge.call(this),this.__offsetY=this.__offsetX=0,this.__distance=e,this.__angle=i,this.__color=s,this.__alpha=n,this.__blurX=o,this.__blurY=l,this.__strength=_,this.__quality=h,this.__inner=m,this.__knockout=f,this.__hideObject=y,this.__updateSize(),this.__renderDirty=this.__preserveObject=this.__needSecondBitmapData=!0};k["openfl.filters.DropShadowFilter"]=ji,ji.__name__="openfl.filters.DropShadowFilter",ji.__super__=Ge,ji.prototype=x(Ge.prototype,{__alpha:null,__angle:null,__blurX:null,__blurY:null,__color:null,__distance:null,__hideObject:null,__horizontalPasses:null,__inner:null,__knockout:null,__offsetX:null,__offsetY:null,__quality:null,__strength:null,__verticalPasses:null,clone:function(){return new ji(this.__distance,this.__angle,this.__color,this.__alpha,this.__blurX,this.__blurY,this.__strength,this.__quality,this.__inner,this.__knockout,this.__hideObject)},__applyFilter:function(e,i,s,n){var o=this.__color>>16&255,l=this.__color>>8&255,_=255&this.__color;return n=new ra(n.x+this.__offsetX,n.y+this.__offsetY),(s=ab.gaussianBlur(e.image,i.image,s.__toLimeRectangle(),n.__toLimeVector2(),this.__blurX,this.__blurY,this.__quality,this.__strength)).colorTransform(s.get_rect(),new Tb(0,0,0,this.__alpha,o,l,_,0).__toLimeColorMatrix()),s==e.image?e:i},__initShader:function(e,i,s){return this.__inner&&0==i?ee.__invertAlphaShader:(e=i-(this.__inner?1:0))<this.__horizontalPasses+this.__verticalPasses?(s=ee.__blurAlphaShader,e<this.__horizontalPasses?(e=Math.pow(.5,e>>1),s.uRadius.value[0]=this.get_blurX()*e,s.uRadius.value[1]=0):(e=Math.pow(.5,e-this.__horizontalPasses>>1),s.uRadius.value[0]=0,s.uRadius.value[1]=this.get_blurY()*e),s.uColor.value[0]=(this.get_color()>>16&255)/255,s.uColor.value[1]=(this.get_color()>>8&255)/255,s.uColor.value[2]=(255&this.get_color())/255,s.uColor.value[3]=this.get_alpha(),s):this.__inner?this.__knockout||this.__hideObject?((e=ee.__innerCombineKnockoutShader).sourceBitmap.input=s,e.offset.value[0]=this.__offsetX,e.offset.value[1]=this.__offsetY,e.strength.value[0]=this.__strength,e):((e=ee.__innerCombineShader).sourceBitmap.input=s,e.offset.value[0]=this.__offsetX,e.offset.value[1]=this.__offsetY,e.strength.value[0]=this.__strength,e):this.__knockout?((e=ee.__combineKnockoutShader).sourceBitmap.input=s,e.offset.value[0]=this.__offsetX,e.offset.value[1]=this.__offsetY,e.strength.value[0]=this.__strength,e):this.__hideObject?((e=ji.__hideShader).sourceBitmap.input=s,e.offset.value[0]=this.__offsetX,e.offset.value[1]=this.__offsetY,e.strength.value[0]=this.__strength,e):((e=ee.__combineShader).sourceBitmap.input=s,e.offset.value[0]=this.__offsetX,e.offset.value[1]=this.__offsetY,e.strength.value[0]=this.__strength,e)},__updateSize:function(){this.__offsetX=this.__distance*Math.cos(this.__angle*Math.PI/180)|0,this.__offsetY=this.__distance*Math.sin(this.__angle*Math.PI/180)|0,this.__topExtension=Math.ceil((0>this.__offsetY?-this.__offsetY:0)+this.__blurY),this.__bottomExtension=Math.ceil((0<this.__offsetY?this.__offsetY:0)+this.__blurY),this.__leftExtension=Math.ceil((0>this.__offsetX?-this.__offsetX:0)+this.__blurX),this.__rightExtension=Math.ceil((0<this.__offsetX?this.__offsetX:0)+this.__blurX),this.__calculateNumShaderPasses()},__calculateNumShaderPasses:function(){this.__horizontalPasses=Math.round(this.__quality/4*this.__blurX)+1,this.__verticalPasses=Math.round(this.__quality/4*this.__blurY)+1,this.__numShaderPasses=this.__horizontalPasses+this.__verticalPasses+(this.__inner?2:1)},get_alpha:function(){return this.__alpha},set_alpha:function(e){return e!=this.__alpha&&(this.__renderDirty=!0),this.__alpha=e},get_angle:function(){return this.__angle},set_angle:function(e){return e!=this.__angle&&(this.__angle=e,this.__renderDirty=!0,this.__updateSize()),e},get_blurX:function(){return this.__blurX},set_blurX:function(e){return e!=this.__blurX&&(this.__blurX=e,this.__renderDirty=!0,this.__updateSize()),e},get_blurY:function(){return this.__blurY},set_blurY:function(e){return e!=this.__blurY&&(this.__blurY=e,this.__renderDirty=!0,this.__updateSize()),e},get_color:function(){return this.__color},set_color:function(e){return e!=this.__color&&(this.__renderDirty=!0),this.__color=e},get_distance:function(){return this.__distance},set_distance:function(e){return e!=this.__distance&&(this.__distance=e,this.__renderDirty=!0,this.__updateSize()),e},get_hideObject:function(){return this.__hideObject},set_hideObject:function(e){return e!=this.__hideObject&&(this.__renderDirty=!0),this.__hideObject=e},get_inner:function(){return this.__inner},set_inner:function(e){return e!=this.__inner&&(this.__renderDirty=!0),this.__inner=e},get_knockout:function(){return this.__knockout},set_knockout:function(e){return e!=this.__knockout&&(this.__renderDirty=!0),this.__knockout=e},get_quality:function(){return this.__quality},set_quality:function(e){return e!=this.__quality&&(this.__renderDirty=!0),this.__quality=e},get_strength:function(){return this.__strength},set_strength:function(e){return e!=this.__strength&&(this.__renderDirty=!0),this.__strength=e},__class__:ji,__properties__:{set_strength:"set_strength",get_strength:"get_strength",set_quality:"set_quality",get_quality:"get_quality",set_knockout:"set_knockout",get_knockout:"get_knockout",set_inner:"set_inner",get_inner:"get_inner",set_hideObject:"set_hideObject",get_hideObject:"get_hideObject",set_distance:"set_distance",get_distance:"get_distance",set_color:"set_color",get_color:"get_color",set_blurY:"set_blurY",get_blurY:"get_blurY",set_blurX:"set_blurX",get_blurX:"get_blurX",set_angle:"set_angle",get_angle:"get_angle",set_alpha:"set_alpha",get_alpha:"get_alpha"}});var kp=function(){null==this.__glFragmentSource&&(this.__glFragmentSource="\n\t\tuniform sampler2D openfl_Texture;\n\t\tuniform vec4 uColor;\n\t\tvarying vec2 vTexCoord;\n\t\tvarying vec2 vBlurCoords[6];\n\n\t\tvoid main(void)\n\t\t{\n            vec4 texel = texture2D(openfl_Texture, vTexCoord);\n\n            vec3 contributions = vec3(0.00443, 0.05399, 0.24197);\n            vec3 top = vec3(\n                texture2D(openfl_Texture, vBlurCoords[0]).a,\n                texture2D(openfl_Texture, vBlurCoords[1]).a,\n                texture2D(openfl_Texture, vBlurCoords[2]).a\n            );\n            vec3 bottom = vec3(\n                texture2D(openfl_Texture, vBlurCoords[3]).a,\n                texture2D(openfl_Texture, vBlurCoords[4]).a,\n                texture2D(openfl_Texture, vBlurCoords[5]).a\n            );\n\n            float a = texel.a * 0.39894;\n\t\t\ta += dot(top, contributions.xyz);\n            a += dot(bottom, contributions.zyx);\n\n\t\t\tgl_FragColor = uColor * a;\n\t\t}\n\t"),null==this.__glVertexSource&&(this.__glVertexSource="\n\t\tattribute vec4 openfl_Position;\n\t\tattribute vec2 openfl_TextureCoord;\n\n\t\tuniform mat4 openfl_Matrix;\n\t\tuniform vec2 openfl_TextureSize;\n\n\t\tuniform vec2 uRadius;\n\t\tvarying vec2 vTexCoord;\n\t\tvarying vec2 vBlurCoords[6];\n\n\t\tvoid main(void) {\n\n\t\t\tgl_Position = openfl_Matrix * openfl_Position;\n\t\t\tvTexCoord = openfl_TextureCoord;\n\n\t\t\tvec3 offset = vec3(0.33, 0.66, 1.0);\n\t\t\tvec2 r = uRadius / openfl_TextureSize;\n\t\t\tvBlurCoords[0] = openfl_TextureCoord - r * offset.z;\n\t\t\tvBlurCoords[1] = openfl_TextureCoord - r * offset.y;\n\t\t\tvBlurCoords[2] = openfl_TextureCoord - r * offset.x;\n\t\t\tvBlurCoords[3] = openfl_TextureCoord + r * offset.x;\n\t\t\tvBlurCoords[4] = openfl_TextureCoord + r * offset.y;\n\t\t\tvBlurCoords[5] = openfl_TextureCoord + r * offset.z;\n\t\t}\n\t"),Ec.call(this),this.uRadius.value=[0,0],this.uColor.value=[0,0,0,0],this.__isGenerated=!0,this.__initGL()};k["openfl.filters._GlowFilter.BlurAlphaShader"]=kp,kp.__name__="openfl.filters._GlowFilter.BlurAlphaShader",kp.__super__=Ec,kp.prototype=x(Ec.prototype,{uRadius:null,uColor:null,__class__:kp});var lp=function(){null==this.__glFragmentSource&&(this.__glFragmentSource="\n\t\tuniform sampler2D openfl_Texture;\n\t\tuniform sampler2D sourceBitmap;\n\t\tuniform float strength;\n\t\tvarying vec4 textureCoords;\n\n\t\tvoid main(void) {\n\t\t\tvec4 src = texture2D(sourceBitmap, textureCoords.xy);\n\t\t\tvec4 glow = texture2D(openfl_Texture, textureCoords.zw) * strength;\n\n\t\t\tgl_FragColor = glow * (1.0 - src.a);\n\t\t}\n\t"),null==this.__glVertexSource&&(this.__glVertexSource="attribute vec4 openfl_Position;\n\t\tattribute vec2 openfl_TextureCoord;\n\t\tuniform mat4 openfl_Matrix;\n\t\tuniform vec2 openfl_TextureSize;\n\t\tuniform vec2 offset;\n\t\tvarying vec4 textureCoords;\n\n\t\tvoid main(void) {\n\t\t\tgl_Position = openfl_Matrix * openfl_Position;\n\t\t\ttextureCoords = vec4(openfl_TextureCoord, openfl_TextureCoord - offset / openfl_TextureSize);\n\t\t}\n\t"),Ec.call(this),this.strength.value=[1],this.offset.value=[0,0],this.__isGenerated=!0,this.__initGL()};k["openfl.filters._GlowFilter.CombineKnockoutShader"]=lp,lp.__name__="openfl.filters._GlowFilter.CombineKnockoutShader",lp.__super__=Ec,lp.prototype=x(Ec.prototype,{offset:null,sourceBitmap:null,strength:null,__class__:lp});var mp=function(){null==this.__glFragmentSource&&(this.__glFragmentSource="\n\t\tuniform sampler2D openfl_Texture;\n\t\tuniform sampler2D sourceBitmap;\n\t\tuniform float strength;\n\t\tvarying vec4 textureCoords;\n\n\t\tvoid main(void) {\n\t\t\tvec4 src = texture2D(sourceBitmap, textureCoords.xy);\n\t\t\tvec4 glow = texture2D(openfl_Texture, textureCoords.zw) * strength;\n\n\t\t\tgl_FragColor = src * src.a + glow * (1.0 - src.a);\n\t\t}\n\t"),null==this.__glVertexSource&&(this.__glVertexSource="attribute vec4 openfl_Position;\n\t\tattribute vec2 openfl_TextureCoord;\n\t\tuniform mat4 openfl_Matrix;\n\t\tuniform vec2 openfl_TextureSize;\n\t\tuniform vec2 offset;\n\t\tvarying vec4 textureCoords;\n\n\t\tvoid main(void) {\n\t\t\tgl_Position = openfl_Matrix * openfl_Position;\n\t\t\ttextureCoords = vec4(openfl_TextureCoord, openfl_TextureCoord - offset / openfl_TextureSize);\n\t\t}\n\t"),Ec.call(this),this.strength.value=[1],this.offset.value=[0,0],this.__isGenerated=!0,this.__initGL()};k["openfl.filters._GlowFilter.CombineShader"]=mp,mp.__name__="openfl.filters._GlowFilter.CombineShader",mp.__super__=Ec,mp.prototype=x(Ec.prototype,{offset:null,sourceBitmap:null,strength:null,__class__:mp});var np=function(){null==this.__glFragmentSource&&(this.__glFragmentSource="\n\t\tuniform sampler2D openfl_Texture;\n\t\tuniform sampler2D sourceBitmap;\n\t\tuniform float strength;\n\t\tvarying vec4 textureCoords;\n\n\t\tvoid main(void) {\n\t\t\tvec4 src = texture2D(sourceBitmap, textureCoords.xy);\n\t\t\tvec4 glow = texture2D(openfl_Texture, textureCoords.zw) * strength;\n\n\t\t\tgl_FragColor = glow * src.a;\n\t\t}\n\t"),null==this.__glVertexSource&&(this.__glVertexSource="attribute vec4 openfl_Position;\n\t\tattribute vec2 openfl_TextureCoord;\n\t\tuniform mat4 openfl_Matrix;\n\t\tuniform vec2 openfl_TextureSize;\n\t\tuniform vec2 offset;\n\t\tvarying vec4 textureCoords;\n\n\t\tvoid main(void) {\n\t\t\tgl_Position = openfl_Matrix * openfl_Position;\n\t\t\ttextureCoords = vec4(openfl_TextureCoord, openfl_TextureCoord - offset / openfl_TextureSize);\n\t\t}\n\t"),Ec.call(this),this.offset.value=[0,0],this.strength.value=[1],this.__isGenerated=!0,this.__initGL()};k["openfl.filters._GlowFilter.InnerCombineKnockoutShader"]=np,np.__name__="openfl.filters._GlowFilter.InnerCombineKnockoutShader",np.__super__=Ec,np.prototype=x(Ec.prototype,{offset:null,sourceBitmap:null,strength:null,__class__:np});var op=function(){null==this.__glFragmentSource&&(this.__glFragmentSource="\n\t\tuniform sampler2D openfl_Texture;\n\t\tuniform sampler2D sourceBitmap;\n\t\tuniform float strength;\n\t\tvarying vec4 textureCoords;\n\n\t\tvoid main(void) {\n\t\t\tvec4 src = texture2D(sourceBitmap, textureCoords.xy);\n\t\t\tvec4 glow = texture2D(openfl_Texture, textureCoords.zw) * strength;\n\n\t\t\tgl_FragColor = mix(src, glow, glow.a) * src.a;\n\t\t}\n\t"),null==this.__glVertexSource&&(this.__glVertexSource="attribute vec4 openfl_Position;\n\t\tattribute vec2 openfl_TextureCoord;\n\t\tuniform mat4 openfl_Matrix;\n\t\tuniform vec2 openfl_TextureSize;\n\t\tuniform vec2 offset;\n\t\tvarying vec4 textureCoords;\n\n\t\tvoid main(void) {\n\t\t\tgl_Position = openfl_Matrix * openfl_Position;\n\t\t\ttextureCoords = vec4(openfl_TextureCoord, openfl_TextureCoord - offset / openfl_TextureSize);\n\t\t}\n\t"),Ec.call(this),this.strength.value=[1],this.offset.value=[0,0],this.__isGenerated=!0,this.__initGL()};k["openfl.filters._GlowFilter.InnerCombineShader"]=op,op.__name__="openfl.filters._GlowFilter.InnerCombineShader",op.__super__=Ec,op.prototype=x(Ec.prototype,{offset:null,sourceBitmap:null,strength:null,__class__:op});var pp=function(){null==this.__glFragmentSource&&(this.__glFragmentSource="\n\t\tuniform sampler2D openfl_Texture;\n\t\tvarying vec2 vTexCoord;\n\n\t\tvoid main(void) {\n\t\t\tvec4 texel = texture2D(openfl_Texture, vTexCoord);\n\t\t\tgl_FragColor = vec4(texel.rgb, 1.0 - texel.a);\n\t\t}\n\t"),null==this.__glVertexSource&&(this.__glVertexSource="\n\t\tattribute vec4 openfl_Position;\n\t\tattribute vec2 openfl_TextureCoord;\n\t\tuniform mat4 openfl_Matrix;\n\t\tvarying vec2 vTexCoord;\n\n\t\tvoid main(void) {\n\t\t\tgl_Position = openfl_Matrix * openfl_Position;\n\t\t\tvTexCoord = openfl_TextureCoord;\n\t\t}\n\t"),Ec.call(this),this.__isGenerated=!0,this.__initGL()};k["openfl.filters._GlowFilter.InvertAlphaShader"]=pp,pp.__name__="openfl.filters._GlowFilter.InvertAlphaShader",pp.__super__=Ec,pp.prototype=x(Ec.prototype,{__class__:pp});var ee=function(e,i,s,n,o,l,_,h){null==h&&(h=!1),null==_&&(_=!1),null==l&&(l=1),null==o&&(o=2),null==n&&(n=6),null==s&&(s=6),null==i&&(i=1),null==e&&(e=16711680),Ge.call(this),this.__color=e,this.__alpha=i,this.__blurX=s,this.__blurY=n,this.__strength=o,this.__inner=_,this.__knockout=h,this.__quality=l,this.__updateSize(),this.__renderDirty=this.__preserveObject=this.__needSecondBitmapData=!0};k["openfl.filters.GlowFilter"]=ee,ee.__name__="openfl.filters.GlowFilter",ee.__super__=Ge,ee.prototype=x(Ge.prototype,{__alpha:null,__blurX:null,__blurY:null,__color:null,__horizontalPasses:null,__inner:null,__knockout:null,__quality:null,__strength:null,__verticalPasses:null,clone:function(){return new ee(this.__color,this.__alpha,this.__blurX,this.__blurY,this.__strength,this.__quality,this.__inner,this.__knockout)},__applyFilter:function(e,i,s,n){var o=this.__color>>16&255,l=this.__color>>8&255,_=255&this.__color;return this.__inner||this.__knockout?(i.image.colorTransform(i.image.get_rect(),new Tb(1,1,1,0,0,0,0,-255).__toLimeColorMatrix()),i.image.dirty=!0,i.image.version++,e=i.clone()):((s=ab.gaussianBlur(e.image,i.image,s.__toLimeRectangle(),n.__toLimeVector2(),this.__blurX,this.__blurY,this.__quality,this.__strength)).colorTransform(s.get_rect(),new Tb(0,0,0,this.__alpha,o,l,_,0).__toLimeColorMatrix()),s==e.image?e:i)},__initShader:function(e,i,s){return this.__inner&&0==i?ee.__invertAlphaShader:(e=i-(this.__inner?1:0))<this.__horizontalPasses+this.__verticalPasses?(s=ee.__blurAlphaShader,e<this.__horizontalPasses?(e=Math.pow(.5,e>>1),s.uRadius.value[0]=this.get_blurX()*e,s.uRadius.value[1]=0):(e=Math.pow(.5,e-this.__horizontalPasses>>1),s.uRadius.value[0]=0,s.uRadius.value[1]=this.get_blurY()*e),s.uColor.value[0]=(this.get_color()>>16&255)/255,s.uColor.value[1]=(this.get_color()>>8&255)/255,s.uColor.value[2]=(255&this.get_color())/255,s.uColor.value[3]=this.get_alpha(),s):this.__inner?this.__knockout?((e=ee.__innerCombineKnockoutShader).sourceBitmap.input=s,e.strength.value[0]=this.__strength,e):((e=ee.__innerCombineShader).sourceBitmap.input=s,e.strength.value[0]=this.__strength,e):this.__knockout?((e=ee.__combineKnockoutShader).sourceBitmap.input=s,e.strength.value[0]=this.__strength,e):((e=ee.__combineShader).sourceBitmap.input=s,e.strength.value[0]=this.__strength,e)},__updateSize:function(){this.__rightExtension=this.__leftExtension=0<this.__blurX?Math.ceil(1.5*this.__blurX):0,this.__bottomExtension=this.__topExtension=0<this.__blurY?Math.ceil(1.5*this.__blurY):0,this.__calculateNumShaderPasses()},__calculateNumShaderPasses:function(){this.__horizontalPasses=0>=this.__blurX?0:Math.round(this.__quality/4*this.__blurX)+1,this.__verticalPasses=0>=this.__blurY?0:Math.round(this.__quality/4*this.__blurY)+1,this.__numShaderPasses=this.__horizontalPasses+this.__verticalPasses+(this.__inner?2:1)},get_alpha:function(){return this.__alpha},set_alpha:function(e){return e!=this.__alpha&&(this.__renderDirty=!0),this.__alpha=e},get_blurX:function(){return this.__blurX},set_blurX:function(e){return e!=this.__blurX&&(this.__blurX=e,this.__renderDirty=!0,this.__updateSize()),e},get_blurY:function(){return this.__blurY},set_blurY:function(e){return e!=this.__blurY&&(this.__blurY=e,this.__renderDirty=!0,this.__updateSize()),e},get_color:function(){return this.__color},set_color:function(e){return e!=this.__color&&(this.__renderDirty=!0),this.__color=e},get_inner:function(){return this.__inner},set_inner:function(e){return e!=this.__inner&&(this.__renderDirty=!0,this.__calculateNumShaderPasses()),this.__inner=e},get_knockout:function(){return this.__knockout},set_knockout:function(e){return e!=this.__knockout&&(this.__renderDirty=!0,this.__calculateNumShaderPasses()),this.__knockout=e},get_quality:function(){return this.__quality},set_quality:function(e){return e!=this.__quality&&(this.__renderDirty=!0,this.__calculateNumShaderPasses()),this.__quality=e},get_strength:function(){return this.__strength},set_strength:function(e){return e!=this.__strength&&(this.__renderDirty=!0),this.__strength=e},__class__:ee,__properties__:{set_strength:"set_strength",get_strength:"get_strength",set_quality:"set_quality",get_quality:"get_quality",set_knockout:"set_knockout",get_knockout:"get_knockout",set_inner:"set_inner",get_inner:"get_inner",set_color:"set_color",get_color:"get_color",set_blurY:"set_blurY",get_blurY:"get_blurY",set_blurX:"set_blurX",get_blurX:"get_blurX",set_alpha:"set_alpha",get_alpha:"get_alpha"}});var te=function(e){this.rawData=null!=e&&16==e.get_length()?e.concat(null):La.toFloatVector(null,null,null,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])};k["openfl.geom.Matrix3D"]=te,te.__name__="openfl.geom.Matrix3D",te.create2D=function(e,i,s,n){null==n&&(n=0),null==s&&(s=1);var o=n*Math.PI/180;return n=Math.cos(o),o=Math.sin(o),new te(La.toFloatVector(null,null,null,[n*s,-o*s,0,0,o*s,n*s,0,0,0,0,1,0,e,i,0,1]))},te.createABCD=function(e,i,s,n,o,l){return new te(La.toFloatVector(null,null,null,[e,i,0,0,s,n,0,0,0,0,1,0,o,l,0,1]))},te.createOrtho=function(e,i,s,n,o,l){var _=1/(i-e),h=1/(n-s),m=1/(l-o);return new te(La.toFloatVector(null,null,null,[2*_,0,0,0,0,2*h,0,0,0,0,-2*m,0,-(e+i)*_,-(s+n)*h,-(o+l)*m,1]))},te.interpolate=function(e,i,s){for(var n=new te,o=0;16>o;){var l=o++;n.rawData.set(l,e.rawData.get(l)+(i.rawData.get(l)-e.rawData.get(l))*s)}return n},te.__getAxisRotation=function(e,i,s,n){var o=new te;e=new zd(e,i,s),n=Math.PI/180*-n,s=Math.cos(n),n=Math.sin(n),o.rawData.set(0,s+e.x*e.x*(i=1-s)),o.rawData.set(5,s+e.y*e.y*i),o.rawData.set(10,s+e.z*e.z*i);var l=e.z*n;return o.rawData.set(4,(s=e.x*e.y*i)+l),o.rawData.set(1,s-l),o.rawData.set(8,(s=e.x*e.z*i)-(l=e.y*n)),o.rawData.set(2,s+l),o.rawData.set(9,(s=e.y*e.z*i)+(l=e.x*n)),o.rawData.set(6,s-l),o},te.prototype={rawData:null,append:function(e){var i=this.rawData.get(0),s=this.rawData.get(4),n=this.rawData.get(8),o=this.rawData.get(12),l=this.rawData.get(1),_=this.rawData.get(5),h=this.rawData.get(9),m=this.rawData.get(13),f=this.rawData.get(2),y=this.rawData.get(6),g=this.rawData.get(10),j=this.rawData.get(14),$=this.rawData.get(3),yt=this.rawData.get(7),_t=this.rawData.get(11),xt=this.rawData.get(15),Tt=e.rawData.get(0),St=e.rawData.get(4),Mt=e.rawData.get(8),Et=e.rawData.get(12),Ct=e.rawData.get(1),Dt=e.rawData.get(5),At=e.rawData.get(9),Nt=e.rawData.get(13),Ft=e.rawData.get(2),Lt=e.rawData.get(6),Ot=e.rawData.get(10),Ht=e.rawData.get(14),$t=e.rawData.get(3),zt=e.rawData.get(7),Jt=e.rawData.get(11);e=e.rawData.get(15),this.rawData.set(0,i*Tt+l*St+f*Mt+$*Et),this.rawData.set(1,i*Ct+l*Dt+f*At+$*Nt),this.rawData.set(2,i*Ft+l*Lt+f*Ot+$*Ht),this.rawData.set(3,i*$t+l*zt+f*Jt+$*e),this.rawData.set(4,s*Tt+_*St+y*Mt+yt*Et),this.rawData.set(5,s*Ct+_*Dt+y*At+yt*Nt),this.rawData.set(6,s*Ft+_*Lt+y*Ot+yt*Ht),this.rawData.set(7,s*$t+_*zt+y*Jt+yt*e),this.rawData.set(8,n*Tt+h*St+g*Mt+_t*Et),this.rawData.set(9,n*Ct+h*Dt+g*At+_t*Nt),this.rawData.set(10,n*Ft+h*Lt+g*Ot+_t*Ht),this.rawData.set(11,n*$t+h*zt+g*Jt+_t*e),this.rawData.set(12,o*Tt+m*St+j*Mt+xt*Et),this.rawData.set(13,o*Ct+m*Dt+j*At+xt*Nt),this.rawData.set(14,o*Ft+m*Lt+j*Ot+xt*Ht),this.rawData.set(15,o*$t+m*zt+j*Jt+xt*e)},appendRotation:function(e,i,s){var n=0,o=n,l=o;null!=s&&(l=s.x,o=s.y,n=s.z),s=e*Math.PI/180,e=Math.cos(s),s=Math.sin(s);var _=i.x,h=i.y,m=_*_,f=h*h,y=(i=i.z)*i,g=m+f+y;if(0!=g){var j=Math.sqrt(g);_/=j,h/=j,i/=j,m/=g,f/=g,y/=g}g=1-e;var $=(j=new te).rawData;$.set(0,m+(f+y)*e),$.set(1,_*h*g+i*s),$.set(2,_*i*g-h*s),$.set(4,_*h*g-i*s),$.set(5,f+(m+y)*e),$.set(6,h*i*g+_*s),$.set(8,_*i*g+h*s),$.set(9,h*i*g-_*s),$.set(10,y+(m+f)*e),$.set(12,(l*(f+y)-_*(o*h+n*i))*g+(o*i-n*h)*s),$.set(13,(o*(m+y)-h*(l*_+n*i))*g+(n*_-l*i)*s),$.set(14,(n*(m+f)-i*(l*_+o*h))*g+(l*h-o*_)*s),this.append(j)},appendScale:function(e,i,s){this.append(new te(La.toFloatVector(null,null,null,[e,0,0,0,0,i,0,0,0,0,s,0,0,0,0,1])))},appendTranslation:function(e,i,s){var n=this.rawData;n.set(12,n.get(12)+e),(e=this.rawData).set(13,e.get(13)+i),(i=this.rawData).set(14,i.get(14)+s)},clone:function(){return new te(this.rawData.copy())},copyColumnFrom:function(e,i){switch(e){case 0:this.rawData.set(0,i.x),this.rawData.set(1,i.y),this.rawData.set(2,i.z),this.rawData.set(3,i.w);break;case 1:this.rawData.set(4,i.x),this.rawData.set(5,i.y),this.rawData.set(6,i.z),this.rawData.set(7,i.w);break;case 2:this.rawData.set(8,i.x),this.rawData.set(9,i.y),this.rawData.set(10,i.z),this.rawData.set(11,i.w);break;case 3:this.rawData.set(12,i.x),this.rawData.set(13,i.y),this.rawData.set(14,i.z),this.rawData.set(15,i.w)}},copyColumnTo:function(e,i){switch(e){case 0:i.x=this.rawData.get(0),i.y=this.rawData.get(1),i.z=this.rawData.get(2),i.w=this.rawData.get(3);break;case 1:i.x=this.rawData.get(4),i.y=this.rawData.get(5),i.z=this.rawData.get(6),i.w=this.rawData.get(7);break;case 2:i.x=this.rawData.get(8),i.y=this.rawData.get(9),i.z=this.rawData.get(10),i.w=this.rawData.get(11);break;case 3:i.x=this.rawData.get(12),i.y=this.rawData.get(13),i.z=this.rawData.get(14),i.w=this.rawData.get(15)}},copyFrom:function(e){this.rawData=e.rawData.copy()},copyRawDataFrom:function(e,i,s){null==s&&(s=!1),null==i&&(i=0),s&&this.transpose();for(var n=0,o=e.get_length()-i;n<o;){var l=n++;this.rawData.set(l,e.get(l+i))}s&&this.transpose()},copyRawDataTo:function(e,i,s){null==s&&(s=!1),null==i&&(i=0),s&&this.transpose();for(var n=0,o=this.rawData.get_length();n<o;){var l=n++;e.set(l+i,this.rawData.get(l))}s&&this.transpose()},copyRowFrom:function(e,i){switch(e){case 0:this.rawData.set(0,i.x),this.rawData.set(4,i.y),this.rawData.set(8,i.z),this.rawData.set(12,i.w);break;case 1:this.rawData.set(1,i.x),this.rawData.set(5,i.y),this.rawData.set(9,i.z),this.rawData.set(13,i.w);break;case 2:this.rawData.set(2,i.x),this.rawData.set(6,i.y),this.rawData.set(10,i.z),this.rawData.set(14,i.w);break;case 3:this.rawData.set(3,i.x),this.rawData.set(7,i.y),this.rawData.set(11,i.z),this.rawData.set(15,i.w)}},copyRowTo:function(e,i){switch(e){case 0:i.x=this.rawData.get(0),i.y=this.rawData.get(4),i.z=this.rawData.get(8),i.w=this.rawData.get(12);break;case 1:i.x=this.rawData.get(1),i.y=this.rawData.get(5),i.z=this.rawData.get(9),i.w=this.rawData.get(13);break;case 2:i.x=this.rawData.get(2),i.y=this.rawData.get(6),i.z=this.rawData.get(10),i.w=this.rawData.get(14);break;case 3:i.x=this.rawData.get(3),i.y=this.rawData.get(7),i.z=this.rawData.get(11),i.w=this.rawData.get(15)}},copyToMatrix3D:function(e){e.rawData=this.rawData.copy()},decompose:function(e){null==e&&(e=1);var i=La.toObjectVector(null),s=this.clone().rawData.copy(),n=new zd(s.get(12),s.get(13),s.get(14));s.set(12,0),s.set(13,0),s.set(14,0);var o=new zd;o.x=Math.sqrt(s.get(0)*s.get(0)+s.get(1)*s.get(1)+s.get(2)*s.get(2)),o.y=Math.sqrt(s.get(4)*s.get(4)+s.get(5)*s.get(5)+s.get(6)*s.get(6)),o.z=Math.sqrt(s.get(8)*s.get(8)+s.get(9)*s.get(9)+s.get(10)*s.get(10)),0>s.get(0)*(s.get(5)*s.get(10)-s.get(6)*s.get(9))-s.get(1)*(s.get(4)*s.get(10)-s.get(6)*s.get(8))+s.get(2)*(s.get(4)*s.get(9)-s.get(5)*s.get(8))&&(o.z=-o.z),s.set(0,s.get(0)/o.x),s.set(1,s.get(1)/o.x),s.set(2,s.get(2)/o.x),s.set(4,s.get(4)/o.y),s.set(5,s.get(5)/o.y),s.set(6,s.get(6)/o.y),s.set(8,s.get(8)/o.z),s.set(9,s.get(9)/o.z),s.set(10,s.get(10)/o.z);var l=new zd;switch(e){case 0:l.w=Math.acos((s.get(0)+s.get(5)+s.get(10)-1)/2),0!=(e=Math.sqrt((s.get(6)-s.get(9))*(s.get(6)-s.get(9))+(s.get(8)-s.get(2))*(s.get(8)-s.get(2))+(s.get(1)-s.get(4))*(s.get(1)-s.get(4))))?(l.x=(s.get(6)-s.get(9))/e,l.y=(s.get(8)-s.get(2))/e,l.z=(s.get(1)-s.get(4))/e):l.x=l.y=l.z=0;break;case 1:l.y=Math.asin(-s.get(2)),1!=s.get(2)&&-1!=s.get(2)?(l.x=Math.atan2(s.get(6),s.get(10)),l.z=Math.atan2(s.get(1),s.get(0))):(l.z=0,l.x=Math.atan2(s.get(4),s.get(5)));break;case 2:0<(e=s.get(0)+s.get(5)+s.get(10))?(l.w=Math.sqrt(1+e)/2,l.x=(s.get(6)-s.get(9))/(4*l.w),l.y=(s.get(8)-s.get(2))/(4*l.w),l.z=(s.get(1)-s.get(4))/(4*l.w)):s.get(0)>s.get(5)&&s.get(0)>s.get(10)?(l.x=Math.sqrt(1+s.get(0)-s.get(5)-s.get(10))/2,l.w=(s.get(6)-s.get(9))/(4*l.x),l.y=(s.get(1)+s.get(4))/(4*l.x),l.z=(s.get(8)+s.get(2))/(4*l.x)):s.get(5)>s.get(10)?(l.y=Math.sqrt(1+s.get(5)-s.get(0)-s.get(10))/2,l.x=(s.get(1)+s.get(4))/(4*l.y),l.w=(s.get(8)-s.get(2))/(4*l.y),l.z=(s.get(6)+s.get(9))/(4*l.y)):(l.z=Math.sqrt(1+s.get(10)-s.get(0)-s.get(5))/2,l.x=(s.get(8)+s.get(2))/(4*l.z),l.y=(s.get(6)+s.get(9))/(4*l.z),l.w=(s.get(1)-s.get(4))/(4*l.z))}return i.push(n),i.push(l),i.push(o),i},deltaTransformVector:function(e){var i=e.x,s=e.y;return e=e.z,new zd(i*this.rawData.get(0)+s*this.rawData.get(4)+e*this.rawData.get(8),i*this.rawData.get(1)+s*this.rawData.get(5)+e*this.rawData.get(9),i*this.rawData.get(2)+s*this.rawData.get(6)+e*this.rawData.get(10),i*this.rawData.get(3)+s*this.rawData.get(7)+e*this.rawData.get(11))},identity:function(){this.rawData=La.toFloatVector(null,null,null,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])},interpolateTo:function(e,i){for(var s=0;16>s;){var n=s++;this.rawData.set(n,this.rawData.get(n)+(e.rawData.get(n)-this.rawData.get(n))*i)}},invert:function(){var e=this.get_determinant(),i=1e-11<Math.abs(e);if(i){e=1/e;var s=this.rawData.get(0),n=this.rawData.get(4),o=this.rawData.get(8),l=this.rawData.get(12),_=this.rawData.get(1),h=this.rawData.get(5),m=this.rawData.get(9),f=this.rawData.get(13),y=this.rawData.get(2),g=this.rawData.get(6),j=this.rawData.get(10),$=this.rawData.get(14),yt=this.rawData.get(3),_t=this.rawData.get(7),xt=this.rawData.get(11),Tt=this.rawData.get(15);this.rawData.set(0,e*(h*(j*Tt-$*xt)-m*(g*Tt-$*_t)+f*(g*xt-j*_t))),this.rawData.set(1,-e*(_*(j*Tt-$*xt)-m*(y*Tt-$*yt)+f*(y*xt-j*yt))),this.rawData.set(2,e*(_*(g*Tt-$*_t)-h*(y*Tt-$*yt)+f*(y*_t-g*yt))),this.rawData.set(3,-e*(_*(g*xt-j*_t)-h*(y*xt-j*yt)+m*(y*_t-g*yt))),this.rawData.set(4,-e*(n*(j*Tt-$*xt)-o*(g*Tt-$*_t)+l*(g*xt-j*_t))),this.rawData.set(5,e*(s*(j*Tt-$*xt)-o*(y*Tt-$*yt)+l*(y*xt-j*yt))),this.rawData.set(6,-e*(s*(g*Tt-$*_t)-n*(y*Tt-$*yt)+l*(y*_t-g*yt))),this.rawData.set(7,e*(s*(g*xt-j*_t)-n*(y*xt-j*yt)+o*(y*_t-g*yt))),this.rawData.set(8,e*(n*(m*Tt-f*xt)-o*(h*Tt-f*_t)+l*(h*xt-m*_t))),this.rawData.set(9,-e*(s*(m*Tt-f*xt)-o*(_*Tt-f*yt)+l*(_*xt-m*yt))),this.rawData.set(10,e*(s*(h*Tt-f*_t)-n*(_*Tt-f*yt)+l*(_*_t-h*yt))),this.rawData.set(11,-e*(s*(h*xt-m*_t)-n*(_*xt-m*yt)+o*(_*_t-h*yt))),this.rawData.set(12,-e*(n*(m*$-f*j)-o*(h*$-f*g)+l*(h*j-m*g))),this.rawData.set(13,e*(s*(m*$-f*j)-o*(_*$-f*y)+l*(_*j-m*y))),this.rawData.set(14,-e*(s*(h*$-f*g)-n*(_*$-f*y)+l*(_*g-h*y))),this.rawData.set(15,e*(s*(h*j-m*g)-n*(_*j-m*y)+o*(_*g-h*y)))}return i},pointAt:function(e,i,s){null==i&&(i=new zd(0,0,-1)),null==s&&(s=new zd(0,-1,0)),i=i.subtract(e),s=s.clone(),i.normalize(),s.normalize();var n=i.clone();n.scaleBy(s.dotProduct(i)),0<(s=s.subtract(n)).get_length()?s.normalize():s=0!=i.x?new zd(-i.y,i.x,0):new zd(1,0,0),(n=s.crossProduct(i)).normalize(),this.rawData.set(0,n.x),this.rawData.set(4,n.y),this.rawData.set(8,n.z),this.rawData.set(12,0),this.rawData.set(1,s.x),this.rawData.set(5,s.y),this.rawData.set(9,s.z),this.rawData.set(13,0),this.rawData.set(2,i.x),this.rawData.set(6,i.y),this.rawData.set(10,i.z),this.rawData.set(14,0),this.rawData.set(3,e.x),this.rawData.set(7,e.y),this.rawData.set(11,e.z),this.rawData.set(15,1)},prepend:function(e){var i=e.rawData.get(0),s=e.rawData.get(4),n=e.rawData.get(8),o=e.rawData.get(12),l=e.rawData.get(1),_=e.rawData.get(5),h=e.rawData.get(9),m=e.rawData.get(13),f=e.rawData.get(2),y=e.rawData.get(6),g=e.rawData.get(10),j=e.rawData.get(14),$=e.rawData.get(3),yt=e.rawData.get(7),_t=e.rawData.get(11);e=e.rawData.get(15);var xt=this.rawData.get(0),Tt=this.rawData.get(4),St=this.rawData.get(8),Mt=this.rawData.get(12),Et=this.rawData.get(1),Ct=this.rawData.get(5),Dt=this.rawData.get(9),At=this.rawData.get(13),Nt=this.rawData.get(2),Ft=this.rawData.get(6),Lt=this.rawData.get(10),Ot=this.rawData.get(14),Ht=this.rawData.get(3),$t=this.rawData.get(7),zt=this.rawData.get(11),Jt=this.rawData.get(15);this.rawData.set(0,i*xt+l*Tt+f*St+$*Mt),this.rawData.set(1,i*Et+l*Ct+f*Dt+$*At),this.rawData.set(2,i*Nt+l*Ft+f*Lt+$*Ot),this.rawData.set(3,i*Ht+l*$t+f*zt+$*Jt),this.rawData.set(4,s*xt+_*Tt+y*St+yt*Mt),this.rawData.set(5,s*Et+_*Ct+y*Dt+yt*At),this.rawData.set(6,s*Nt+_*Ft+y*Lt+yt*Ot),this.rawData.set(7,s*Ht+_*$t+y*zt+yt*Jt),this.rawData.set(8,n*xt+h*Tt+g*St+_t*Mt),this.rawData.set(9,n*Et+h*Ct+g*Dt+_t*At),this.rawData.set(10,n*Nt+h*Ft+g*Lt+_t*Ot),this.rawData.set(11,n*Ht+h*$t+g*zt+_t*Jt),this.rawData.set(12,o*xt+m*Tt+j*St+e*Mt),this.rawData.set(13,o*Et+m*Ct+j*Dt+e*At),this.rawData.set(14,o*Nt+m*Ft+j*Lt+e*Ot),this.rawData.set(15,o*Ht+m*$t+j*zt+e*Jt)},prependRotation:function(e,i,s){var n=0,o=n,l=o;null!=s&&(l=s.x,o=s.y,n=s.z),s=e*Math.PI/180,e=Math.cos(s),s=Math.sin(s);var _=i.x,h=i.y,m=_*_,f=h*h,y=(i=i.z)*i,g=m+f+y;if(0!=g){var j=Math.sqrt(g);_/=j,h/=j,i/=j,m/=g,f/=g,y/=g}g=1-e;var $=(j=new te).rawData;$.set(0,m+(f+y)*e),$.set(1,_*h*g+i*s),$.set(2,_*i*g-h*s),$.set(4,_*h*g-i*s),$.set(5,f+(m+y)*e),$.set(6,h*i*g+_*s),$.set(8,_*i*g+h*s),$.set(9,h*i*g-_*s),$.set(10,y+(m+f)*e),$.set(12,(l*(f+y)-_*(o*h+n*i))*g+(o*i-n*h)*s),$.set(13,(o*(m+y)-h*(l*_+n*i))*g+(n*_-l*i)*s),$.set(14,(n*(m+f)-i*(l*_+o*h))*g+(l*h-o*_)*s),this.prepend(j)},prependScale:function(e,i,s){this.prepend(new te(La.toFloatVector(null,null,null,[e,0,0,0,0,i,0,0,0,0,s,0,0,0,0,1])))},prependTranslation:function(e,i,s){var n=new te;n.set_position(new zd(e,i,s)),this.prepend(n)},recompose:function(e,i){if(null==i&&(i=1),3>e.get_length()||0==e.get(2).x||0==e.get(2).y||0==e.get(2).z)return!1;this.identity();var s=[];if(s[0]=s[1]=s[2]=e.get(2).x,s[4]=s[5]=s[6]=e.get(2).y,s[8]=s[9]=s[10]=e.get(2).z,1==i){i=Math.cos(e.get(1).x);var n=Math.cos(e.get(1).y),o=Math.cos(e.get(1).z),l=Math.sin(e.get(1).x),_=Math.sin(e.get(1).y),h=Math.sin(e.get(1).z);this.rawData.set(0,n*o*s[0]),this.rawData.set(1,n*h*s[1]),this.rawData.set(2,-_*s[2]),this.rawData.set(3,0),this.rawData.set(4,(l*_*o-i*h)*s[4]),this.rawData.set(5,(l*_*h+i*o)*s[5]),this.rawData.set(6,l*n*s[6]),this.rawData.set(7,0),this.rawData.set(8,(i*_*o+l*h)*s[8]),this.rawData.set(9,(i*_*h-l*o)*s[9]),this.rawData.set(10,i*n*s[10])}else n=e.get(1).x,o=e.get(1).y,l=e.get(1).z,_=e.get(1).w,0==i&&(n*=Math.sin(_/2),o*=Math.sin(_/2),l*=Math.sin(_/2),_=Math.cos(_/2)),this.rawData.set(0,(1-2*o*o-2*l*l)*s[0]),this.rawData.set(1,(2*n*o+2*_*l)*s[1]),this.rawData.set(2,(2*n*l-2*_*o)*s[2]),this.rawData.set(3,0),this.rawData.set(4,(2*n*o-2*_*l)*s[4]),this.rawData.set(5,(1-2*n*n-2*l*l)*s[5]),this.rawData.set(6,(2*o*l+2*_*n)*s[6]),this.rawData.set(7,0),this.rawData.set(8,(2*n*l+2*_*o)*s[8]),this.rawData.set(9,(2*o*l-2*_*n)*s[9]),this.rawData.set(10,(1-2*n*n-2*o*o)*s[10]);return this.rawData.set(11,0),this.rawData.set(12,e.get(0).x),this.rawData.set(13,e.get(0).y),this.rawData.set(14,e.get(0).z),this.rawData.set(15,1),0==e.get(2).x&&this.rawData.set(0,1e-15),0==e.get(2).y&&this.rawData.set(5,1e-15),0==e.get(2).z&&this.rawData.set(10,1e-15),!(0==e.get(2).x||0==e.get(2).y||0==e.get(2).y)},transformVector:function(e){var i=e.x,s=e.y;return e=e.z,new zd(i*this.rawData.get(0)+s*this.rawData.get(4)+e*this.rawData.get(8)+this.rawData.get(12),i*this.rawData.get(1)+s*this.rawData.get(5)+e*this.rawData.get(9)+this.rawData.get(13),i*this.rawData.get(2)+s*this.rawData.get(6)+e*this.rawData.get(10)+this.rawData.get(14),i*this.rawData.get(3)+s*this.rawData.get(7)+e*this.rawData.get(11)+this.rawData.get(15))},transformVectors:function(e,i){for(var n,o,l,s=0;s+3<=e.get_length();)n=e.get(s),o=e.get(s+1),l=e.get(s+2),i.set(s,n*this.rawData.get(0)+o*this.rawData.get(4)+l*this.rawData.get(8)+this.rawData.get(12)),i.set(s+1,n*this.rawData.get(1)+o*this.rawData.get(5)+l*this.rawData.get(9)+this.rawData.get(13)),i.set(s+2,n*this.rawData.get(2)+o*this.rawData.get(6)+l*this.rawData.get(10)+this.rawData.get(14)),s+=3},transpose:function(){var e=this.rawData.copy();this.rawData.set(1,e.get(4)),this.rawData.set(2,e.get(8)),this.rawData.set(3,e.get(12)),this.rawData.set(4,e.get(1)),this.rawData.set(6,e.get(9)),this.rawData.set(7,e.get(13)),this.rawData.set(8,e.get(2)),this.rawData.set(9,e.get(6)),this.rawData.set(11,e.get(14)),this.rawData.set(12,e.get(3)),this.rawData.set(13,e.get(7)),this.rawData.set(14,e.get(11))},get_determinant:function(){return(this.rawData.get(0)*this.rawData.get(5)-this.rawData.get(4)*this.rawData.get(1))*(this.rawData.get(10)*this.rawData.get(15)-this.rawData.get(14)*this.rawData.get(11))-(this.rawData.get(0)*this.rawData.get(9)-this.rawData.get(8)*this.rawData.get(1))*(this.rawData.get(6)*this.rawData.get(15)-this.rawData.get(14)*this.rawData.get(7))+(this.rawData.get(0)*this.rawData.get(13)-this.rawData.get(12)*this.rawData.get(1))*(this.rawData.get(6)*this.rawData.get(11)-this.rawData.get(10)*this.rawData.get(7))+(this.rawData.get(4)*this.rawData.get(9)-this.rawData.get(8)*this.rawData.get(5))*(this.rawData.get(2)*this.rawData.get(15)-this.rawData.get(14)*this.rawData.get(3))-(this.rawData.get(4)*this.rawData.get(13)-this.rawData.get(12)*this.rawData.get(5))*(this.rawData.get(2)*this.rawData.get(11)-this.rawData.get(10)*this.rawData.get(3))+(this.rawData.get(8)*this.rawData.get(13)-this.rawData.get(12)*this.rawData.get(9))*(this.rawData.get(2)*this.rawData.get(7)-this.rawData.get(6)*this.rawData.get(3))},get_position:function(){return new zd(this.rawData.get(12),this.rawData.get(13),this.rawData.get(14))},set_position:function(e){return this.rawData.set(12,e.x),this.rawData.set(13,e.y),this.rawData.set(14,e.z),e},__class__:te,__properties__:{set_position:"set_position",get_position:"get_position",get_determinant:"get_determinant"}};var Pl={};k["openfl.geom._Orientation3D.Orientation3D_Impl_"]=Pl,Pl.__name__="openfl.geom._Orientation3D.Orientation3D_Impl_",Pl.fromString=function(e){switch(e){case"axisAngle":return 0;case"eulerAngles":return 1;case"quaternion":return 2;default:return null}},Pl.toString=function(e){switch(e){case 0:return"axisAngle";case 1:return"eulerAngles";case 2:return"quaternion";default:return null}};var hm=function(e){this.__colorTransform=new Tb,this.concatenatedColorTransform=new Tb,this.pixelBounds=new ia,this.__displayObject=e,this.__hasMatrix=!0};k["openfl.geom.Transform"]=hm,hm.__name__="openfl.geom.Transform",hm.prototype={concatenatedColorTransform:null,pixelBounds:null,__colorTransform:null,__displayObject:null,__hasMatrix:null,__hasMatrix3D:null,get_colorTransform:function(){return this.__colorTransform},set_colorTransform:function(e){return this.__colorTransform.__equals(e,!1)||(this.__colorTransform.__copyFrom(e),null!=e&&this.__displayObject.set_alpha(e.alphaMultiplier),(e=this.__displayObject).__renderDirty||(e.__renderDirty=!0,e.__setParentRenderDirty())),this.__colorTransform},get_concatenatedMatrix:function(){return this.__hasMatrix?this.__displayObject.__getWorldTransform().clone():null},get_matrix:function(){return this.__hasMatrix?this.__displayObject.__transform.clone():null},set_matrix:function(e){return null==e?(this.__hasMatrix=!1,null):(this.__hasMatrix=!0,this.__hasMatrix3D=!1,null!=this.__displayObject&&this.__setTransform(e.a,e.b,e.c,e.d,e.tx,e.ty),e)},get_matrix3D:function(){if(this.__hasMatrix3D){var e=this.__displayObject.__transform;return new te(La.toFloatVector(null,null,null,[e.a,e.b,0,0,e.c,e.d,0,0,0,0,1,0,e.tx,e.ty,0,1]))}return null},set_matrix3D:function(e){return null==e?(this.__hasMatrix3D=!1,null):(this.__hasMatrix=!1,this.__hasMatrix3D=!0,this.__setTransform(e.rawData.get(0),e.rawData.get(1),e.rawData.get(5),e.rawData.get(6),e.rawData.get(12),e.rawData.get(13)),e)},__setTransform:function(e,i,s,n,o,l){if(null!=this.__displayObject){var _=0==i?e:Math.sqrt(e*e+i*i),h=0==s?n:Math.sqrt(s*s+n*n);this.__displayObject.__scaleX=_,this.__displayObject.__scaleY=h,(_=180/Math.PI*Math.atan2(n,s)-90)!=this.__displayObject.__rotation&&(this.__displayObject.__rotation=_,_*=Math.PI/180,this.__displayObject.__rotationSine=Math.sin(_),this.__displayObject.__rotationCosine=Math.cos(_)),this.__displayObject.__transform.a=e,this.__displayObject.__transform.b=i,this.__displayObject.__transform.c=s,this.__displayObject.__transform.d=n,this.__displayObject.__transform.tx=o,this.__displayObject.__transform.ty=l,this.__displayObject.__setTransformDirty()}},__class__:hm,__properties__:{set_matrix3D:"set_matrix3D",get_matrix3D:"get_matrix3D",set_matrix:"set_matrix",get_matrix:"get_matrix",get_concatenatedMatrix:"get_concatenatedMatrix",set_colorTransform:"set_colorTransform",get_colorTransform:"get_colorTransform"}};var zd=function(e,i,s,n){null==n&&(n=0),null==s&&(s=0),null==i&&(i=0),null==e&&(e=0),this.w=n,this.x=e,this.y=i,this.z=s};k["openfl.geom.Vector3D"]=zd,zd.__name__="openfl.geom.Vector3D",zd.__properties__={get_Z_AXIS:"get_Z_AXIS",get_Y_AXIS:"get_Y_AXIS",get_X_AXIS:"get_X_AXIS"},zd.angleBetween=function(e,i){var s=e.get_length(),n=i.get_length();return e=e.dotProduct(i),0!=s&&(e/=s),0!=n&&(e/=n),Math.acos(e)},zd.distance=function(e,i){var s=i.x-e.x,n=i.y-e.y;return e=i.z-e.z,Math.sqrt(s*s+n*n+e*e)},zd.get_X_AXIS=function(){return new zd(1,0,0)},zd.get_Y_AXIS=function(){return new zd(0,1,0)},zd.get_Z_AXIS=function(){return new zd(0,0,1)},zd.prototype={w:null,x:null,y:null,z:null,add:function(e){return new zd(this.x+e.x,this.y+e.y,this.z+e.z)},clone:function(){return new zd(this.x,this.y,this.z,this.w)},copyFrom:function(e){this.x=e.x,this.y=e.y,this.z=e.z},crossProduct:function(e){return new zd(this.y*e.z-this.z*e.y,this.z*e.x-this.x*e.z,this.x*e.y-this.y*e.x,1)},decrementBy:function(e){this.x-=e.x,this.y-=e.y,this.z-=e.z},dotProduct:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},equals:function(e,i){return null==i&&(i=!1),this.x==e.x&&this.y==e.y&&this.z==e.z&&(!i||this.w==e.w)},incrementBy:function(e){this.x+=e.x,this.y+=e.y,this.z+=e.z},nearEquals:function(e,i,s){return null==s&&(s=!1),Math.abs(this.x-e.x)<i&&Math.abs(this.y-e.y)<i&&Math.abs(this.z-e.z)<i&&(!s||Math.abs(this.w-e.w)<i)},negate:function(){this.x*=-1,this.y*=-1,this.z*=-1},normalize:function(){var e=this.get_length();return 0!=e&&(this.x/=e,this.y/=e,this.z/=e),e},project:function(){this.x/=this.w,this.y/=this.w,this.z/=this.w},scaleBy:function(e){this.x*=e,this.y*=e,this.z*=e},setTo:function(e,i,s){this.x=e,this.y=i,this.z=s},subtract:function(e){return new zd(this.x-e.x,this.y-e.y,this.z-e.z)},toString:function(){return"Vector3D("+this.x+", "+this.y+", "+this.z+")"},get_length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},get_lengthSquared:function(){return this.x*this.x+this.y*this.y+this.z*this.z},__class__:zd,__properties__:{get_lengthSquared:"get_lengthSquared",get_length:"get_length"}};var Cr=function(){};k["openfl.media.ID3Info"]=Cr,Cr.__name__="openfl.media.ID3Info",Cr.prototype={album:null,artist:null,comment:null,genre:null,songName:null,track:null,year:null,__class__:Cr};var Yf=function(e,i){A.call(this,this),this.bytesTotal=this.bytesLoaded=0,this.isBuffering=!1,this.url=null,null!=e&&this.load(e,i)};k["openfl.media.Sound"]=Yf,Yf.__name__="openfl.media.Sound",Yf.fromAudioBuffer=function(e){var i=new Yf;return i.__buffer=e,i},Yf.fromFile=function(e){return Yf.fromAudioBuffer(id.fromFile(e))},Yf.loadFromFile=function(e){return id.loadFromFile(e).then(function(i){return wb.withValue(Yf.fromAudioBuffer(i))})},Yf.loadFromFiles=function(e){return id.loadFromFiles(e).then(function(i){return wb.withValue(Yf.fromAudioBuffer(i))})},Yf.__super__=A,Yf.prototype=x(A.prototype,{bytesLoaded:null,bytesTotal:null,isBuffering:null,url:null,__buffer:null,close:function(){null!=this.__buffer&&(this.__buffer.dispose(),this.__buffer=null)},load:function(e,i){var s=this;if(this.url=e.url,null!=(e=wa.getLibrary("default"))){var n=e.cachedAudioBuffers;i=null!=t[i=this.url]?n.existsReserved(i):n.h.hasOwnProperty(i)}else i=!1;i?(e=e.cachedAudioBuffers,this.AudioBuffer_onURLLoad(null!=t[i=this.url]?e.getReserved(i):e.h[i])):id.loadFromFile(this.url).onComplete(r(this,this.AudioBuffer_onURLLoad)).onError(function(o){s.AudioBuffer_onURLLoad(null)})},loadCompressedDataFromByteArray:function(e,i){if(null==e||0>=i)this.dispatchEvent(new Xf("ioError"));else{if(Ga.gt(e.position,0)||Ga.gt(ta.get_length(e),i)){var s=i;null==s&&(s=0),s=new vc(s);var n=e.position;null==i&&(i=0),null==n&&(n=0),s.writeBytes(e,n,i),e=s}this.__buffer=id.fromBytes(ta.toBytes(e)),this.dispatchEvent(null==this.__buffer?new Xf("ioError"):new fa("complete"))}},loadPCMFromByteArray:function(e,i,s,n,o){if(null==o&&(o=44100),null==n&&(n=!0),null==s&&(s="float"),null==e)this.dispatchEvent(new Xf("ioError"));else{if(i=(s="float"==s?32:16)/8*(n=n?2:1)*i|0,Ga.gt(e.position,0)||Ga.gt(ta.get_length(e),i)){var l=i;null==l&&(l=0),l=new vc(l);var _=e.position;null==i&&(i=0),null==_&&(_=0),l.writeBytes(e,_,i),e=l}(i=new id).bitsPerSample=s,i.channels=n,e=null!=(e=ta.toArrayBuffer(e))?new Uint8Array(e,0):null,i.data=e,i.sampleRate=0|o,this.__buffer=i,this.dispatchEvent(new fa("complete"))}},play:function(e,i,s){if(null==i&&(i=0),null==e&&(e=0),null==this.__buffer||32<=fe.__soundChannels.length)return null;s=null==s?new Tf:s.clone();var n=fe.__soundTransform.pan+s.pan;1<n&&(n=1),-1>n&&(n=-1);var o=fe.__soundTransform.volume*s.volume,l=new jl(this.__buffer);return l.offset=0|e,1<i&&l.set_loops(i-1),l.set_gain(o),0!=n&&l.set_pan(n),new qp(l,s)},get_id3:function(){return new Cr},get_length:function(){return null!=this.__buffer?1e3*this.__buffer.get_src().duration()|0:0},AudioBuffer_onURLLoad:function(e){null==e?this.dispatchEvent(new Xf("ioError")):(this.__buffer=e,this.dispatchEvent(new fa("complete")))},__class__:Yf,__properties__:{get_length:"get_length",get_id3:"get_id3"}});var qp=function(e,i){A.call(this,this),this.rightPeak=this.leftPeak=1,this.__soundTransform=i??new Tf,null!=e&&(this.__source=e,this.__source.onComplete.add(r(this,this.source_onComplete)),this.__isValid=!0,this.__source.play()),fe.__registerSoundChannel(this)};k["openfl.media.SoundChannel"]=qp,qp.__name__="openfl.media.SoundChannel",qp.__super__=A,qp.prototype=x(A.prototype,{leftPeak:null,rightPeak:null,__isValid:null,__soundTransform:null,__source:null,stop:function(){fe.__unregisterSoundChannel(this),this.__isValid&&(this.__source.stop(),this.__dispose())},__dispose:function(){this.__isValid&&(this.__source.onComplete.remove(r(this,this.source_onComplete)),this.__source.dispose(),this.__source=null,this.__isValid=!1)},__updateTransform:function(){this.set_soundTransform(this.get_soundTransform())},get_position:function(){return this.__isValid?this.__source.get_currentTime()+this.__source.offset:0},set_position:function(e){return this.__isValid?(this.__source.set_currentTime((0|e)-this.__source.offset),e):0},get_soundTransform:function(){return this.__soundTransform.clone()},set_soundTransform:function(e){if(null!=e){this.__soundTransform.pan=e.pan,this.__soundTransform.volume=e.volume;var i=fe.__soundTransform.pan+this.__soundTransform.pan;-1>i&&(i=-1),1<i&&(i=1),this.__isValid&&(this.__source.set_gain(fe.__soundTransform.volume*this.__soundTransform.volume),0==i&&null==this.__source.get_pan()||this.__source.set_pan(i))}return e},source_onComplete:function(){fe.__unregisterSoundChannel(this),this.__dispose(),this.dispatchEvent(new fa("soundComplete"))},__class__:qp,__properties__:{set_soundTransform:"set_soundTransform",get_soundTransform:"get_soundTransform",set_position:"set_position",get_position:"get_position"}});var Js=function(e,i){null==i&&(i=!1),null==e&&(e=1e3),this.bufferTime=e,this.checkPolicyFile=i};k["openfl.media.SoundLoaderContext"]=Js,Js.__name__="openfl.media.SoundLoaderContext",Js.prototype={bufferTime:null,checkPolicyFile:null,__class__:Js};var fe=function(){};k["openfl.media.SoundMixer"]=fe,fe.__name__="openfl.media.SoundMixer",fe.__properties__={set_soundTransform:"set_soundTransform",get_soundTransform:"get_soundTransform"},fe.areSoundsInaccessible=function(){return!1},fe.stopAll=function(){for(var e=0,i=fe.__soundChannels;e<i.length;){var s=i[e];++e,s.stop()}},fe.__registerSoundChannel=function(e){fe.__soundChannels.push(e)},fe.__unregisterSoundChannel=function(e){B.remove(fe.__soundChannels,e)},fe.get_soundTransform=function(){return fe.__soundTransform},fe.set_soundTransform=function(e){fe.__soundTransform=e.clone();for(var i=0,s=fe.__soundChannels;i<s.length;){var n=s[i];++i,n.__updateTransform()}return e};var rp=function(e,i){null==i&&(i=240),null==e&&(e=320),ya.call(this),this.__type=Oh.VIDEO,this.__width=e,this.__height=i,this.__textureTime=-1,this.smoothing=!1,this.deblocking=0};k["openfl.media.Video"]=rp,rp.__name__="openfl.media.Video",rp.__super__=ya,rp.prototype=x(ya.prototype,{deblocking:null,smoothing:null,__active:null,__buffer:null,__bufferAlpha:null,__bufferColorTransform:null,__bufferContext:null,__bufferData:null,__dirty:null,__height:null,__indexBuffer:null,__indexBufferContext:null,__indexBufferData:null,__stream:null,__texture:null,__textureTime:null,__uvRect:null,__vertexBuffer:null,__vertexBufferContext:null,__vertexBufferData:null,__width:null,attachNetStream:function(e){this.__stream=e,null==this.__stream||null==this.__stream.__video||this.__stream.__closed||this.__stream.__video.play()},clear:function(){},__enterFrame:function(e){this.__renderable&&null!=this.__stream&&!this.__renderDirty&&(this.__renderDirty=!0,this.__setParentRenderDirty())},__getBounds:function(e,i){var s=ia.__pool.get();s.setTo(0,0,this.__width,this.__height),s.__transform(s,i),e.__expand(s.x,s.y,s.width,s.height),ia.__pool.release(s)},__getIndexBuffer:function(e){return(null==this.__indexBuffer||this.__indexBufferContext!=e.__context)&&(this.__indexBufferData=new Uint16Array(6),this.__indexBufferData[0]=0,this.__indexBufferData[1]=1,this.__indexBufferData[2]=2,this.__indexBufferData[3]=2,this.__indexBufferData[4]=1,this.__indexBufferData[5]=3,this.__indexBufferContext=e.__context,this.__indexBuffer=e.createIndexBuffer(6),this.__indexBuffer.uploadFromTypedArray(this.__indexBufferData)),this.__indexBuffer},__getTexture:function(e){if(null==this.__stream||null==this.__stream.__video)return null;var i=e.__context.webgl,s=i.RGBA,n=i.RGBA;return this.__stream.__closed||this.__stream.__video.currentTime==this.__textureTime||(null==this.__texture&&(this.__texture=e.createRectangleTexture(this.__stream.__video.videoWidth,this.__stream.__video.videoHeight,1,!1)),e.__bindGLTexture2D(this.__texture.__textureID),zb.texImage2D(i,i.TEXTURE_2D,0,s,n,i.UNSIGNED_BYTE,this.__stream.__video),this.__textureTime=this.__stream.__video.currentTime),this.__texture},__getVertexBuffer:function(e){return(null==this.__vertexBuffer||this.__vertexBufferContext!=e.__context)&&(this.__vertexBufferData=new Float32Array(20),this.__vertexBufferData[0]=this.get_width(),this.__vertexBufferData[1]=this.get_height(),this.__vertexBufferData[3]=1,this.__vertexBufferData[4]=1,this.__vertexBufferData[6]=this.get_height(),this.__vertexBufferData[9]=1,this.__vertexBufferData[10]=this.get_width(),this.__vertexBufferData[13]=1,this.__vertexBufferContext=e.__context,this.__vertexBuffer=e.createVertexBuffer(3,5),this.__vertexBuffer.uploadFromTypedArray(Bf.toArrayBufferView(this.__vertexBufferData))),this.__vertexBuffer},__hitTest:function(e,i,s,n,o,l){if(!l.get_visible()||this.__isMask||null!=this.get_mask()&&!this.get_mask().__hitTestMask(e,i))return!1;this.__getRenderTransform();var _=(s=this.__renderTransform).a*s.d-s.b*s.c;s=0==_?-s.tx:1/_*(s.c*(s.ty-i)+s.d*(e-s.tx));var h=(_=this.__renderTransform).a*_.d-_.b*_.c;return e=0==h?-_.ty:1/h*(_.a*(i-_.ty)+_.b*(_.tx-e)),0<s&&0<e&&s<=this.__width&&e<=this.__height&&(null==n||o||n.push(l),!0)},__hitTestMask:function(e,i){var s=ra.__pool.get();return s.setTo(e,i),this.__globalToLocal(s,s),e=0<s.x&&0<s.y&&s.x<=this.__width&&s.y<=this.__height,ra.__pool.release(s),e},get_height:function(){return this.__height*this.get_scaleY()},set_height:function(e){return(1!=this.get_scaleY()||e!=this.__height)&&(this.__setTransformDirty(),this.__dirty=!0),this.set_scaleY(1),this.__height=e},get_videoHeight:function(){return null!=this.__stream&&null!=this.__stream.__video?0|this.__stream.__video.videoHeight:0},get_videoWidth:function(){return null!=this.__stream&&null!=this.__stream.__video?0|this.__stream.__video.videoWidth:0},get_width:function(){return this.__width*this.__scaleX},set_width:function(e){return(1!=this.__scaleX||this.__width!=e)&&(this.__setTransformDirty(),this.__dirty=!0),this.set_scaleX(1),this.__width=e},__class__:rp,__properties__:x(ya.prototype.__properties__,{get_videoWidth:"get_videoWidth",get_videoHeight:"get_videoHeight"})});var Ql=function(){A.call(this)};k["openfl.net.NetConnection"]=Ql,Ql.__name__="openfl.net.NetConnection",Ql.__super__=A,Ql.prototype=x(A.prototype,{connect:function(e,i,s,n,o,l){if(null!=e)throw new E('Error: Can only connect in "HTTP streaming" mode');this.dispatchEvent(new Mf("netStatus",!1,!0,{code:"NetConnection.Connect.Success"}))},__class__:Ql});var sp=function(e,i){A.call(this),this.__connection=e,this.__video=window.document.createElement("video"),this.__video.setAttribute("playsinline",""),this.__video.setAttribute("webkit-playsinline",""),this.__video.setAttribute("crossorigin","anonymous"),this.__video.addEventListener("error",r(this,this.video_onError),!1),this.__video.addEventListener("waiting",r(this,this.video_onWaiting),!1),this.__video.addEventListener("ended",r(this,this.video_onEnd),!1),this.__video.addEventListener("pause",r(this,this.video_onPause),!1),this.__video.addEventListener("seeking",r(this,this.video_onSeeking),!1),this.__video.addEventListener("playing",r(this,this.video_onPlaying),!1),this.__video.addEventListener("timeupdate",r(this,this.video_onTimeUpdate),!1),this.__video.addEventListener("loadstart",r(this,this.video_onLoadStart),!1),this.__video.addEventListener("stalled",r(this,this.video_onStalled),!1),this.__video.addEventListener("durationchanged",r(this,this.video_onDurationChanged),!1),this.__video.addEventListener("canplay",r(this,this.video_onCanPlay),!1),this.__video.addEventListener("canplaythrough",r(this,this.video_onCanPlayThrough),!1),this.__video.addEventListener("loadedmetadata",r(this,this.video_onLoadMetaData),!1)};k["openfl.net.NetStream"]=sp,sp.__name__="openfl.net.NetStream",sp.__super__=A,sp.prototype=x(A.prototype,{audioCodec:null,bufferLength:null,bufferTime:null,bytesLoaded:null,bytesTotal:null,checkPolicyFile:null,client:null,currentFPS:null,decodedFrames:null,liveDelay:null,objectEncoding:null,soundTransform:null,time:null,videoCode:null,__closed:null,__connection:null,__timer:null,__seeking:null,__video:null,close:function(){null!=this.__video&&(this.__closed=!0,this.__video.pause(),this.__video.src="",this.time=0)},dispose:function(){this.close(),this.__video=null},pause:function(){null!=this.__video&&this.__video.pause()},play:function(e,i,s,n,o,l){null!=this.__video&&(this.__video.src=e,this.__video.play())},requestVideoStatus:function(){var e=this;null!=this.__video&&(null==this.__timer&&(this.__timer=new of(1)),this.__timer.run=function(){e.__playStatus(e.__video.paused?"NetStream.Play.pause":"NetStream.Play.playing"),e.__timer.stop()})},resume:function(){null!=this.__video&&this.__video.play()},seek:function(e){null!=this.__video&&(0>e?e=0:e>this.__video.duration&&(e=this.__video.duration),this.set___seeking(!0),this.__connection.dispatchEvent(new Mf("netStatus",!1,!1,{code:"NetStream.SeekStart.Notify"})),this.__video.currentTime=e)},togglePause:function(){null!=this.__video&&(this.__video.paused?this.__video.play():this.__video.pause())},__playStatus:function(e){if(null!=this.__video&&null!=this.client)try{(0,this.client.onPlayStatus)({code:e,duration:this.__video.duration,position:this.__video.currentTime,speed:this.__video.playbackRate,start:this.__video.startTime})}catch(s){ha.lastException=s}},video_onCanPlay:function(e){this.__playStatus("NetStream.Play.canplay")},video_onCanPlayThrough:function(e){this.__playStatus("NetStream.Play.canplaythrough")},video_onDurationChanged:function(e){this.__playStatus("NetStream.Play.durationchanged")},video_onEnd:function(e){this.__connection.dispatchEvent(new Mf("netStatus",!1,!1,{code:"NetStream.Play.Stop"})),this.__connection.dispatchEvent(new Mf("netStatus",!1,!1,{code:"NetStream.Play.Complete"})),this.__playStatus("NetStream.Play.Complete")},video_onError:function(e){this.__connection.dispatchEvent(new Mf("netStatus",!1,!1,{code:"NetStream.Play.Stop"})),this.__playStatus("NetStream.Play.error")},video_onLoadMetaData:function(e){if(null!=this.__video&&null!=this.client)try{(0,this.client.onMetaData)({width:this.__video.videoWidth,height:this.__video.videoHeight,duration:this.__video.duration})}catch(s){ha.lastException=s}},video_onLoadStart:function(e){this.__playStatus("NetStream.Play.loadstart")},video_onPause:function(e){this.__playStatus("NetStream.Play.pause")},video_onPlaying:function(e){this.__connection.dispatchEvent(new Mf("netStatus",!1,!1,{code:"NetStream.Play.Start"})),this.__playStatus("NetStream.Play.playing")},video_onSeeking:function(e){this.__playStatus("NetStream.Play.seeking"),this.__connection.dispatchEvent(new Mf("netStatus",!1,!1,{code:"NetStream.Seek.Complete"}))},video_onStalled:function(e){this.__playStatus("NetStream.Play.stalled")},video_onTimeUpdate:function(e){null!=this.__video&&(this.time=this.__video.currentTime,this.__playStatus("NetStream.Play.timeupdate"))},video_onWaiting:function(e){this.__playStatus("NetStream.Play.waiting")},get_speed:function(){return null!=this.__video?this.__video.playbackRate:1},set_speed:function(e){return null!=this.__video?this.__video.playbackRate=e:e},get___seeking:function(){return!!this.__seeking||this.__video.seeking},set___seeking:function(e){return this.__seeking=e},__class__:sp,__properties__:{set___seeking:"set___seeking",get___seeking:"get___seeking",set_speed:"set_speed",get_speed:"get_speed"}});var vd=function(){A.call(this),this.client=this,this.objectEncoding=vd.defaultObjectEncoding};k["openfl.net.SharedObject"]=vd,vd.__name__="openfl.net.SharedObject",vd.getLocal=function(e,i,s){s=" ~%&\\;:\"',<>?#".split("");var n=!0;if(null==e||""==e)n=!1;else for(var o=0;o<s.length;){var l=s[o];if(++o,-1<e.indexOf(l)){n=!1;break}}if(!n)throw new E(new Xc("Error #2134: Cannot create SharedObject."));if(null==vd.__sharedObjects&&(vd.__sharedObjects=new va,null!=We.current&&We.current.onExit.add(vd.application_onExit)),n=vd.__sharedObjects,null!=t[s=i+"/"+e]?!n.existsReserved(s):!n.h.hasOwnProperty(s)){n=null;try{var _=co.getLocalStorage();null==i&&(null!=_&&(n=_.getItem(window.location.href+":"+e),_.removeItem(window.location.href+":"+e)),i=window.location.pathname),null!=_&&null==n&&(n=_.getItem(i+":"+e))}catch(m){ha.lastException=m}if((_=new vd).data={},_.__localPath=i,_.__name=e,null!=n&&""!=n)try{var h=new Ue(n);h.setResolver({resolveEnum:rb.resolveEnum,resolveClass:vd.__resolveClass}),_.data=h.unserialize()}catch(m){ha.lastException=m}e=vd.__sharedObjects,null!=t[s]?e.setReserved(s,_):e.h[s]=_}return e=vd.__sharedObjects,null!=t[s]?e.getReserved(s):e.h[s]},vd.getRemote=function(e,i,s,n){return Sc.notImplemented({fileName:"openfl/net/SharedObject.hx",lineNumber:808,className:"openfl.net.SharedObject",methodName:"getRemote"}),null},vd.__getPath=function(e,i){if(e=Na.get_applicationStorageDirectory()+"/"+e+"/",i=aa.replace(i,"//","/"),i=aa.replace(i,"//","/"),aa.startsWith(i,"/")&&(i=B.substr(i,1,null)),aa.endsWith(i,"/")&&(i=i.substring(0,i.length-1)),-1<i.indexOf("/")){var s=i.split("/");i="";for(var n=0,o=s.length-1;n<o;)i+="#"+s[n++]+"/";i+=s[s.length-1]}return e+i+".sol"},vd.__mkdir=function(e){},vd.__resolveClass=function(e){return null!=e?(aa.startsWith(e,"neash.")&&(e=aa.replace(e,"neash.","openfl.")),aa.startsWith(e,"native.")&&(e=aa.replace(e,"native.","openfl.")),aa.startsWith(e,"flash.")&&(e=aa.replace(e,"flash.","openfl.")),aa.startsWith(e,"openfl._v2.")&&(e=aa.replace(e,"openfl._v2.","openfl.")),aa.startsWith(e,"openfl._legacy.")&&(e=aa.replace(e,"openfl._legacy.","openfl.")),k[e]):null},vd.application_onExit=function(e){for(e=new bf(e=vd.__sharedObjects,e.arrayKeys());e.hasNext();)e.next().flush()},vd.__super__=A,vd.prototype=x(A.prototype,{client:null,data:null,fps:null,objectEncoding:null,__localPath:null,__name:null,clear:function(){this.data={};try{var e=co.getLocalStorage();e?.removeItem(this.__localPath+":"+this.__name)}catch(i){ha.lastException=i}},close:function(){},connect:function(e,i){Sc.notImplemented({fileName:"openfl/net/SharedObject.hx",lineNumber:392,className:"openfl.net.SharedObject",methodName:"connect"})},flush:function(e){if(0==X.fields(this.data).length)return 0;e=Me.run(this.data);try{var i=co.getLocalStorage();null!=i&&(i.removeItem(this.__localPath+":"+this.__name),i.setItem(this.__localPath+":"+this.__name,e))}catch(s){return ha.lastException=s,1}return 0},send:function(e){Sc.notImplemented({fileName:"openfl/net/SharedObject.hx",lineNumber:824,className:"openfl.net.SharedObject",methodName:"send"})},setDirty:function(e){},setProperty:function(e,i){null!=this.data&&(this.data[e]=i)},get_size:function(){try{var e=Me.run(this.data);return bb.ofString(e).length}catch(i){return ha.lastException=i,0}},__class__:vd,__properties__:{get_size:"get_size"}});var tp={};k["openfl.net._SharedObjectFlushStatus.SharedObjectFlushStatus_Impl_"]=tp,tp.__name__="openfl.net._SharedObjectFlushStatus.SharedObjectFlushStatus_Impl_",tp.fromString=function(e){switch(e){case"flushed":return 0;case"pending":return 1;default:return null}},tp.toString=function(e){switch(e){case 0:return"flushed";case 1:return"pending";default:return null}};var Zg=function(e){A.call(this),this.bytesTotal=this.bytesLoaded=0,this.dataFormat=1,null!=e&&this.load(e)};k["openfl.net.URLLoader"]=Zg,Zg.__name__="openfl.net.URLLoader",Zg.__super__=A,Zg.prototype=x(A.prototype,{bytesLoaded:null,bytesTotal:null,data:null,dataFormat:null,__httpRequest:null,close:function(){null!=this.__httpRequest&&this.__httpRequest.cancel()},load:function(e){var i=this;if(0==this.dataFormat){var s=new uo;this.__prepareRequest(s,e),s.load().onProgress(r(this,this.httpRequest_onProgress)).onError(r(this,this.httpRequest_onError)).onComplete(function(n){i.__dispatchStatus(),i.data=n,n=new fa("complete"),i.dispatchEvent(n)})}else s=new kl,this.__prepareRequest(s,e),s.load().onProgress(r(this,this.httpRequest_onProgress)).onError(r(this,this.httpRequest_onError)).onComplete(function(n){i.__dispatchStatus(),i.data=n,n=new fa("complete"),i.dispatchEvent(n)})},__dispatchStatus:function(){var e=new Mh("httpStatus",!1,!1,this.__httpRequest.responseStatus);e.responseURL=this.__httpRequest.uri;var i=[];if(this.__httpRequest.enableResponseHeaders&&null!=this.__httpRequest.responseHeaders)for(var s=0,n=this.__httpRequest.responseHeaders;s<n.length;){var o=n[s];++s,i.push(new Dr(o.name,o.value))}e.responseHeaders=i,this.dispatchEvent(e)},__prepareRequest:function(e,i){if(this.__httpRequest=e,this.__httpRequest.uri=i.url,this.__httpRequest.method=i.method,null!=i.data)if(rb.typeof(i.data)==Ad.TObject){e=X.fields(i.data);for(var s=0;s<e.length;){var n=e[s];++s;var o=this.__httpRequest.formData,l=X.field(i.data,n);null!=t[n]?o.setReserved(n,l):o.h[n]=l}}else this.__httpRequest.data=i.data instanceof bb?i.data:bb.ofString(O.string(i.data));if(this.__httpRequest.contentType=i.contentType,null!=i.requestHeaders)for(e=0,s=i.requestHeaders;e<s.length;)n=s[e],++e,this.__httpRequest.headers.push(new eo(n.name,n.value));this.__httpRequest.followRedirects=i.followRedirects,this.__httpRequest.timeout=0|i.idleTimeout,this.__httpRequest.withCredentials=i.manageCookies,this.__httpRequest.userAgent=i.userAgent,this.__httpRequest.enableResponseHeaders=!0},httpRequest_onError:function(e){if(this.__dispatchStatus(),403==e){var i=new wi("securityError");i.text=O.string(e),this.dispatchEvent(i)}else(i=new Xf("ioError")).text=O.string(e),this.dispatchEvent(i)},httpRequest_onProgress:function(e,i){var s=new xg("progress");s.bytesLoaded=e,s.bytesTotal=i,this.dispatchEvent(s)},__class__:Zg});var Rl={};k["openfl.net._URLLoaderDataFormat.URLLoaderDataFormat_Impl_"]=Rl,Rl.__name__="openfl.net._URLLoaderDataFormat.URLLoaderDataFormat_Impl_",Rl.fromString=function(e){switch(e){case"binary":return 0;case"text":return 1;case"variables":return 2;default:return null}},Rl.toString=function(e){switch(e){case 0:return"binary";case 1:return"text";case 2:return"variables";default:return null}};var Gg=function(e){null!=e&&(this.url=e),this.contentType=null,this.followRedirects=xi.followRedirects,this.idleTimeout=0<xi.idleTimeout?xi.idleTimeout:3e4,this.manageCookies=xi.manageCookies,this.method="GET",this.requestHeaders=[],this.userAgent=xi.userAgent};k["openfl.net.URLRequest"]=Gg,Gg.__name__="openfl.net.URLRequest",Gg.prototype={contentType:null,data:null,followRedirects:null,idleTimeout:null,manageCookies:null,method:null,requestHeaders:null,url:null,userAgent:null,__class__:Gg};var xi=function(){};k["openfl.net.URLRequestDefaults"]=xi,xi.__name__="openfl.net.URLRequestDefaults";var Dr=function(e,i){null==i&&(i=""),null==e&&(e=""),this.name=e,this.value=i};k["openfl.net.URLRequestHeader"]=Dr,Dr.__name__="openfl.net.URLRequestHeader",Dr.prototype={name:null,value:null,__class__:Dr};var Xk={};k["openfl.net._URLVariables.URLVariables_Impl_"]=Xk,Xk.__name__="openfl.net._URLVariables.URLVariables_Impl_",Xk._new=function(e){var i={};return null!=e&&Xk.decode(i,e),i},Xk.decode=function(e,i){for(var s=X.fields(e),n=0;n<s.length;){var o=s[n];++n,X.deleteField(e,o)}for(i=i.split(";").join("&").split("&"),s=0;s<i.length;)if(n=i[s],++s,0<(o=n.indexOf("="))){var l=B.substr(n,0,o);l=decodeURIComponent(l.split("+").join(" ")),n=B.substr(n,o+1,null),e[l]=decodeURIComponent(n.split("+").join(" "))}else 0!=o&&(e[decodeURIComponent(n.split("+").join(" "))]="")},Xk.toString=function(e){for(var i=[],s=X.fields(e),n=0;n<s.length;){var o=s[n];++n;var l=X.field(e,o);if(-1<o.indexOf("[]")&&l instanceof Array){var _=[];for(l=S(l);l.hasNext();){var h=l.next();_.push(encodeURIComponent(h))}_=_.join("&amp;"+o+"="),i.push(encodeURIComponent(o)+"="+_)}else i.push(encodeURIComponent(o)+"="+encodeURIComponent(l))}return i.join("&")};var ik=function(e){this.parentDomain=e??ik.currentDomain};k["openfl.system.ApplicationDomain"]=ik,ik.__name__="openfl.system.ApplicationDomain",ik.prototype={parentDomain:null,getDefinition:function(e){return k[e]},hasDefinition:function(e){return null!=k[e]},__class__:ik};var Lc=function(){};k["openfl.system.Capabilities"]=Lc,Lc.__name__="openfl.system.Capabilities",Lc.__properties__={get_version:"get_version",get_screenResolutionY:"get_screenResolutionY",get_screenResolutionX:"get_screenResolutionX",get_screenDPI:"get_screenDPI",get_pixelAspectRatio:"get_pixelAspectRatio",get_os:"get_os",get_manufacturer:"get_manufacturer",get_language:"get_language",get_cpuArchitecture:"get_cpuArchitecture"},Lc.hasMultiChannelAudio=function(e){return!1},Lc.get_cpuArchitecture=function(){return"x86"},Lc.get_language=function(){var e=yd.get_language(yd.get_currentLocale());if(null!=e)switch(e=e.toLowerCase(),e){case"cs":case"da":case"de":case"en":case"es":case"fi":case"fr":case"hu":case"it":case"ja":case"ko":case"nb":case"nl":case"pl":case"pt":case"ru":case"sv":case"tr":return e;case"zh":if(null!=(e=yd.get_region(yd.get_currentLocale())))switch(e.toUpperCase()){case"HANT":case"TW":return"zh-TW"}return"zh-CN";default:return"xu"}return"en"},Lc.get_manufacturer=function(){var e=Na.get_platformName();return"OpenFL"+(null!=e?" "+e:"")},Lc.get_os=function(){return Na.get_platformLabel()??""},Lc.get_pixelAspectRatio=function(){return 1},Lc.get_screenDPI=function(){var e=null!=Sc.application?Sc.application.__window:null,i=72;return null!=e&&(i*=e.__scale),i},Lc.get_screenResolutionX=function(){var e=Sc.current.stage,i=0;if(null==e)return 0;if(null!=e.window){var s=e.window.get_display();null!=s&&(i=Math.ceil(s.currentMode.width*e.window.__scale))}return 0<i?i:e.stageWidth},Lc.get_screenResolutionY=function(){var e=Sc.current.stage,i=0;if(null==e)return 0;if(null!=e.window){var s=e.window.get_display();null!=s&&(i=Math.ceil(s.currentMode.height*e.window.__scale))}return 0<i?i:e.stageHeight},Lc.get_version=function(){return"WEB "+aa.replace("8.9.5",".",",")+",0"};var Ks=function(e,i,s){null==e&&(e=!1),this.checkPolicyFile=e,this.securityDomain=s,this.applicationDomain=i,this.allowLoadBytesCodeExecution=this.allowCodeImport=!0};k["openfl.system.LoaderContext"]=Ks,Ks.__name__="openfl.system.LoaderContext",Ks.prototype={allowCodeImport:null,allowLoadBytesCodeExecution:null,applicationDomain:null,checkPolicyFile:null,securityDomain:null,__class__:Ks};var Sl=function(){};k["openfl.system.SecurityDomain"]=Sl,Sl.__name__="openfl.system.SecurityDomain",Sl.prototype={__class__:Sl};var Dg=function(){};k["openfl.system.System"]=Dg,Dg.__name__="openfl.system.System",Dg.__properties__={get_vmVersion:"get_vmVersion",get_totalMemory:"get_totalMemory"},Dg.disposeXML=function(e){},Dg.exit=function(e){Na.exit(e)},Dg.gc=function(){},Dg.pause=function(){Sc.notImplemented({fileName:"openfl/system/System.hx",lineNumber:213,className:"openfl.system.System",methodName:"pause"})},Dg.resume=function(){Sc.notImplemented({fileName:"openfl/system/System.hx",lineNumber:229,className:"openfl.system.System",methodName:"resume"})},Dg.setClipboard=function(e){Ce.set_text(e)},Dg.get_totalMemory=function(){return window.performance&&window.performance.memory?window.performance.memory.usedJSHeapSize:0},Dg.get_vmVersion=function(){return"1.0.0"};var Tl={};k["openfl.system._TouchscreenType.TouchscreenType_Impl_"]=Tl,Tl.__name__="openfl.system._TouchscreenType.TouchscreenType_Impl_",Tl.fromString=function(e){switch(e){case"finger":return 0;case"none":return 1;case"stylus":return 2;default:return null}},Tl.toString=function(e){switch(e){case 0:return"finger";case 1:return"none";case 2:return"stylus";default:return null}};var up={};k["openfl.text._AntiAliasType.AntiAliasType_Impl_"]=up,up.__name__="openfl.text._AntiAliasType.AntiAliasType_Impl_",up.fromString=function(e){switch(e){case"advanced":return 0;case"normal":return 1;default:return null}},up.toString=function(e){switch(e){case 0:return"advanced";case 1:return"normal";default:return null}};var Ac=function(e){de.call(this,e)};k["openfl.text.Font"]=Ac,Ac.__name__="openfl.text.Font",Ac.enumerateFonts=function(e){return Ac.__registeredFonts},Ac.fromBytes=function(e){var i=new Ac;return i.__fromBytes(ta.toBytes(e)),i},Ac.fromFile=function(e){var i=new Ac;return i.__fromFile(e),i},Ac.loadFromBytes=function(e){return de.loadFromBytes(ta.toBytes(e)).then(function(i){var s=new Ac;return s.__fromLimeFont(i),wb.withValue(s)})},Ac.loadFromFile=function(e){return de.loadFromFile(e).then(function(i){var s=new Ac;return s.__fromLimeFont(i),wb.withValue(s)})},Ac.loadFromName=function(e){return de.loadFromName(e).then(function(i){var s=new Ac;return s.__fromLimeFont(i),wb.withValue(s)})},Ac.registerFont=function(e){if(null!=(e=null==T.getClass(e)?T.__cast(rb.createInstance(e,[]),Ac):T.__cast(e,Ac))){Ac.__registeredFonts.push(e);var i=e.name,s=Ac.__fontByName;null!=t[i]?s.setReserved(i,e):s.h[i]=e}},Ac.__super__=de,Ac.prototype=x(de.prototype,{fontStyle:null,fontType:null,__initialized:null,__fromLimeFont:function(e){this.__copyFrom(e)},__initialize:function(){return this.__initialized},get_fontName:function(){return this.name},set_fontName:function(e){return this.name=e},__class__:Ac,__properties__:{set_fontName:"set_fontName",get_fontName:"get_fontName"}});var tk={};k["openfl.text._FontStyle.FontStyle_Impl_"]=tk,tk.__name__="openfl.text._FontStyle.FontStyle_Impl_",tk.fromString=function(e){switch(e){case"bold":return 0;case"boldItalic":return 1;case"italic":return 2;case"regular":return 3;default:return null}},tk.toString=function(e){switch(e){case 0:return"bold";case 1:return"boldItalic";case 2:return"italic";case 3:return"regular";default:return null}};var Ul={};k["openfl.text._FontType.FontType_Impl_"]=Ul,Ul.__name__="openfl.text._FontType.FontType_Impl_",Ul.fromString=function(e){switch(e){case"device":return 0;case"embedded":return 1;case"embeddedCFF":return 2;default:return null}},Ul.toString=function(e){switch(e){case 0:return"device";case 1:return"embedded";case 2:return"embeddedCFF";default:return null}};var Vl={};k["openfl.text._GridFitType.GridFitType_Impl_"]=Vl,Vl.__name__="openfl.text._GridFitType.GridFitType_Impl_",Vl.fromString=function(e){switch(e){case"none":return 0;case"pixel":return 1;case"subpixel":return 2;default:return null}},Vl.toString=function(e){switch(e){case 0:return"none";case 1:return"pixel";case 2:return"subpixel";default:return null}};var Ui=function(){ya.call(this),this.__graphics=new lf(this)};k["openfl.text.StaticText"]=Ui,Ui.__name__="openfl.text.StaticText",Ui.__super__=ya,Ui.prototype=x(ya.prototype,{text:null,__class__:Ui});var ie=function(){this.__renderedOnCanvasWhileOnDOM=this.__forceCachedBitmapUpdate=!1,Pa.call(this),this.__type=Oh.TEXTFIELD,this.__caretIndex=-1,this.__displayAsPassword=!1,this.__graphics=new lf(this),this.__textEngine=new Xb(this),this.__layoutDirty=!0,this.__offsetY=this.__offsetX=0,this.__mouseWheelEnabled=!0,this.__text="",null==ie.__defaultTextFormat&&(ie.__defaultTextFormat=new Cg("Times New Roman",12,0,!1,!1,!1,"","",3,0,0,0,0),ie.__defaultTextFormat.blockIndent=0,ie.__defaultTextFormat.bullet=!1,ie.__defaultTextFormat.letterSpacing=0,ie.__defaultTextFormat.kerning=!1),this.__textFormat=ie.__defaultTextFormat.clone(),this.__textEngine.textFormatRanges.push(new Fh(this.__textFormat,0,0)),this.addEventListener("mouseDown",r(this,this.this_onMouseDown)),this.addEventListener("focusIn",r(this,this.this_onFocusIn)),this.addEventListener("focusOut",r(this,this.this_onFocusOut)),this.addEventListener("keyDown",r(this,this.this_onKeyDown)),this.addEventListener("mouseWheel",r(this,this.this_onMouseWheel))};k["openfl.text.TextField"]=ie,ie.__name__="openfl.text.TextField",ie.__super__=Pa,ie.prototype=x(Pa.prototype,{__bounds:null,__caretIndex:null,__cursorTimer:null,__dirty:null,__displayAsPassword:null,__domRender:null,__inputEnabled:null,__isHTML:null,__layoutDirty:null,__mouseWheelEnabled:null,__offsetX:null,__offsetY:null,__selectionIndex:null,__showCursor:null,__symbol:null,__text:null,__htmlText:null,__textEngine:null,__textFormat:null,__div:null,__renderedOnCanvasWhileOnDOM:null,__rawHtmlText:null,__forceCachedBitmapUpdate:null,appendText:function(e){null!=e&&""!=e&&(this.__layoutDirty=this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()),this.__updateText(this.__text+e),this.__textEngine.textFormatRanges.get(this.__textEngine.textFormatRanges.get_length()-1).end=this.__text.length,this.__updateScrollV(),this.__updateScrollH())},getCharBoundaries:function(e){if(0>e||e>this.__text.length-1)return null;var i=new ia;return this.__getCharBoundaries(e,i)?i:null},getCharIndexAtPoint:function(e,i){if(2>=e||e>this.get_width()+4||0>=i||i>this.get_height()+4)return-1;this.__updateLayout(),e+=this.get_scrollH();for(var s=0,n=this.get_scrollV()-1;s<n;){var o=s++;i+=this.__textEngine.lineHeights.get(o)}for(n=this.__textEngine.layoutGroups.iterator();n.hasNext();)if(i>=(s=n.next()).offsetY&&i<=s.offsetY+s.height&&e>=s.offsetX&&e<=s.offsetX+s.width){for(n=i=0,o=s.positions.length;n<o;){var l=n++;if(e<=s.offsetX+(i+=s.positions[l]))return s.startIndex+l}return s.endIndex}return-1},getFirstCharInParagraph:function(e){if(0>e||e>this.get_text().length)return-1;for(var i=this.__textEngine.getLineBreakIndex(),s=0;-1<i;){if(i<e)s=i+1;else if(i>=e)break;i=this.__textEngine.getLineBreakIndex(i+1)}return s},getLineIndexAtPoint:function(e,i){if(this.__updateLayout(),2>=e||e>this.get_width()+4||0>=i||i>this.get_height()+4)return-1;e=0;for(var s=this.get_scrollV()-1;e<s;){var n=e++;i+=this.__textEngine.lineHeights.get(n)}for(e=this.__textEngine.layoutGroups.iterator();e.hasNext();)if(i>=(s=e.next()).offsetY&&i<=s.offsetY+s.height)return s.lineIndex;return-1},getLineIndexOfChar:function(e){if(0>e||e>this.__text.length)return-1;this.__updateLayout();for(var i=this.__textEngine.layoutGroups.iterator();i.hasNext();){var s=i.next();if(s.startIndex<=e&&s.endIndex>=e)return s.lineIndex}return-1},getLineLength:function(e){if(this.__updateLayout(),0>e||e>this.__textEngine.numLines-1)return 0;for(var i=-1,s=-1,n=this.__textEngine.layoutGroups.iterator();n.hasNext();){var o=n.next();if(o.lineIndex==e)-1==i&&(i=o.startIndex);else if(o.lineIndex==e+1){s=o.startIndex;break}}return-1==s&&(s=this.__text.length),s-i},getLineMetrics:function(e){this.__updateLayout();var i=this.__textEngine.lineAscents.get(e),s=this.__textEngine.lineDescents.get(e),n=this.__textEngine.lineLeadings.get(e),o=this.__textEngine.lineHeights.get(e);switch(e=this.__textEngine.lineWidths.get(e),this.__textFormat.align){case 0:var l=(this.__textEngine.width-e)/2;break;case 1:case 4:l=this.__textEngine.width-e-2;break;case 2:case 3:case 5:l=2}return new Er(l,e,o,i,s,n)},getLineOffset:function(e){if(this.__updateLayout(),0>e||e>this.__textEngine.numLines-1)return-1;for(var i=this.__textEngine.layoutGroups.iterator();i.hasNext();){var s=i.next();if(s.lineIndex==e)return s.startIndex}return 0},getLineText:function(e){if(this.__updateLayout(),0>e||e>this.__textEngine.numLines-1)return null;for(var i=-1,s=-1,n=this.__textEngine.layoutGroups.iterator();n.hasNext();){var o=n.next();if(o.lineIndex==e)-1==i&&(i=o.startIndex);else if(o.lineIndex==e+1){s=o.startIndex;break}}return-1==s&&(s=this.__text.length),this.__textEngine.text.substring(i,s)},getParagraphLength:function(e){if(0>e||e>this.get_text().length)return-1;var i=this.getFirstCharInParagraph(e);return e>=this.get_text().length?this.get_text().length-i+1:(0==(e=this.__textEngine.getLineBreakIndex(e)+1)&&(e=this.__text.length),e-i)},getTextFormat:function(e,i){null==i&&(i=-1),null==e&&(e=-1);var s=null;if(e>=this.get_text().length||-1>e||i>this.get_text().length||-1>i)throw new E(new jj("The supplied index is out of bounds"));if(-1==e&&(e=0),-1==i&&(i=this.get_text().length),e>=i)return new Cg;for(var n=this.__textEngine.textFormatRanges.iterator();n.hasNext();){var o=n.next();(o.start<=e&&o.end>e||o.start<i&&o.end>=i)&&(null==s?s=o.format.clone():(o.format.font!=s.font&&(s.font=null),o.format.size!=s.size&&(s.size=null),o.format.color!=s.color&&(s.color=null),o.format.bold!=s.bold&&(s.bold=null),o.format.italic!=s.italic&&(s.italic=null),o.format.underline!=s.underline&&(s.underline=null),o.format.url!=s.url&&(s.url=null),o.format.target!=s.target&&(s.target=null),o.format.align!=s.align&&(s.align=null),o.format.leftMargin!=s.leftMargin&&(s.leftMargin=null),o.format.rightMargin!=s.rightMargin&&(s.rightMargin=null),o.format.indent!=s.indent&&(s.indent=null),o.format.leading!=s.leading&&(s.leading=null),o.format.blockIndent!=s.blockIndent&&(s.blockIndent=null),o.format.bullet!=s.bullet&&(s.bullet=null),o.format.kerning!=s.kerning&&(s.kerning=null),o.format.letterSpacing!=s.letterSpacing&&(s.letterSpacing=null),o.format.tabStops!=s.tabStops&&(s.tabStops=null)))}return null==s&&(s=new Cg),s},replaceSelectedText:function(e){this.__replaceSelectedText(e,!1)},replaceText:function(e,i,s){this.__replaceText(e,i,s,!1)},setSelection:function(e,i){this.__selectionIndex=e,this.__caretIndex=i,this.__updateScrollV(),this.__stopCursorTimer(),this.__startCursorTimer()},setTextFormat:function(e,i,s){null==s&&(s=0),null==i&&(i=0);var n=this.get_text().length;if(0>i&&(i=0),0>s&&(s=0),0==s&&(s=0==i?n:i+1),!(s<i)){if(0==i&&s>=n)for(this.__textFormat.__merge(e),e=0,i=this.__textEngine.textFormatRanges.get_length();e<i;){s=e++;var o=this.__textEngine.textFormatRanges.get(s);o.format.__merge(this.__textFormat)}else{for(var l=this.__textEngine.textFormatRanges.get_length();0<l;){if(--l,(o=this.__textEngine.textFormatRanges.get(l)).start==i&&o.end==s)return o.format=this.__textFormat.clone(),o.format.__merge(e),this.__layoutDirty=this.__dirty=!0,void(this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()));o.start>=i&&o.end<=s&&-1<(o=this.__textEngine.textFormatRanges.indexOf(o,0))&&this.__textEngine.textFormatRanges.splice(o,1)}var _=l=null;if(0<i)for(var h=0,m=this.__textEngine.textFormatRanges.get_length();h<m;)if(o=h++,(o=this.__textEngine.textFormatRanges.get(o)).end>=i){l=o;break}if(s<n)for(n=this.__textEngine.textFormatRanges.get_length();0<=--n;)if((o=this.__textEngine.textFormatRanges.get(n)).start<=s){_=o;break}_==l&&(_=new Fh(_.format.clone(),_.start,_.end),this.__textEngine.textFormatRanges.push(_)),null!=l&&(l.end=i),null!=_&&(_.start=s),(o=this.__textFormat.clone()).__merge(e),this.__textEngine.textFormatRanges.push(new Fh(o,i,s)),this.__textEngine.textFormatRanges.sort(function(f,y){return f.start<y.start||f.end<y.end?-1:f.start>y.start||f.end>y.end?1:0})}this.__layoutDirty=this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())}},__allowMouseFocus:function(){return!(1!=this.__textEngine.type&&!this.get_tabEnabled())||this.get_selectable()},__caretBeginningOfLine:function(){this.__selectionIndex==this.__caretIndex||this.__caretIndex<this.__selectionIndex?this.__caretIndex=this.getLineOffset(this.getLineIndexOfChar(this.__caretIndex)):this.__selectionIndex=this.getLineOffset(this.getLineIndexOfChar(this.__selectionIndex))},__caretEndOfLine:function(){var e=this.getLineIndexOfChar(this.__selectionIndex==this.__caretIndex?this.__caretIndex:0|Math.max(this.__caretIndex,this.__selectionIndex));this.__caretIndex=e<this.__textEngine.numLines-1?this.getLineOffset(e+1)-1:this.__text.length},__caretNextCharacter:function(){this.__caretIndex<this.__text.length&&this.__caretIndex++},__caretNextLine:function(e,i){null==e&&(e=this.getLineIndexOfChar(this.__caretIndex)),e<this.__textEngine.numLines-1?(null==i&&(i=this.__caretIndex),this.__caretIndex=this.__getCharIndexOnDifferentLine(i,e+1)):this.__caretIndex=this.__text.length},__caretPreviousCharacter:function(){0<this.__caretIndex&&this.__caretIndex--},__caretPreviousLine:function(e,i){null==e&&(e=this.getLineIndexOfChar(this.__caretIndex)),0<e?(null==i&&(i=this.__caretIndex),this.__caretIndex=this.__getCharIndexOnDifferentLine(i,e-1)):this.__caretIndex=0},__disableInput:function(){this.__inputEnabled&&null!=this.stage&&(this.stage.window.__backend.setTextInputEnabled(!1),this.stage.window.onTextInput.remove(r(this,this.window_onTextInput)),this.stage.window.onKeyDown.remove(r(this,this.window_onKeyDown)),this.__inputEnabled=!1,this.__stopCursorTimer())},__dispatch:function(e){if(2==e.eventPhase&&"mouseUp"==e.type){var i=this.__getGroup(this.get_mouseX(),this.get_mouseY(),!0);null!=i&&null!=(i=i.format.url)&&""!=i&&(aa.startsWith(i,"event:")?this.dispatchEvent(new Df("link",!1,!1,B.substr(i,6,null))):Ya.getURL(new Gg(i)))}return Pa.prototype.__dispatch.call(this,e)},__enableInput:function(){null!=this.stage&&(this.stage.window.__backend.setTextInputEnabled(!0),this.__inputEnabled||(this.stage.window.__backend.setTextInputEnabled(!0),this.stage.window.onTextInput.has(r(this,this.window_onTextInput))||(this.stage.window.onTextInput.add(r(this,this.window_onTextInput)),this.stage.window.onKeyDown.add(r(this,this.window_onKeyDown))),this.__inputEnabled=!0,this.__startCursorTimer()))},__fromSymbol:function(e,i){this.__symbol=i,this.set_width(i.width),this.set_height(i.height),this.__offsetX=i.x,this.__offsetY=i.y,this.set_multiline(i.multiline),this.set_wordWrap(i.wordWrap),this.set_displayAsPassword(i.password),i.border&&(this.set_border(!0),this.set_background(!0)),this.set_selectable(i.selectable),i.input&&this.set_type(1);var s=new Cg;null!=i.color&&(s.color=16777215&i.color),s.size=Math.round(i.fontHeight/20),null!=(e=e.symbols.h[i.fontID])&&(s.__ascent=e.ascent/20/1024,s.__descent=e.descent/20/1024),s.font=i.fontName,e=!1;var n=s.font;if(null==n)e=!0;else switch(n){case"":case"_sans":case"_serif":case"_typewriter":e=!0;break;default:n=0;for(var o=Ac.enumerateFonts();n<o.length;){var l=o[n];if(++n,l.name==s.font){e=!0;break}}}if(!e)for(n=/[^a-zA-Z]+/g,o=0,l=Ac.enumerateFonts();o<l.length;){var _=l[o];if(++o,B.substr(_.name.replace(n,""),0,i.fontName.length)==i.fontName){s.font=_.name,e=!0;break}}e?this.set_embedFonts(!0):(n=ie.__missingFontWarning,(null!=t[e=s.font]?n.existsReserved(e):n.h.hasOwnProperty(e))||(n=ie.__missingFontWarning,null!=t[e=s.font]?n.setReserved(e,!0):n.h[e]=!0,Ua.warn('Could not find required font "'+s.font+'", it has not been embedded',{fileName:"openfl/text/TextField.hx",lineNumber:1827,className:"openfl.text.TextField",methodName:"__fromSymbol"}))),null!=i.align&&("center"==i.align?s.align=0:"right"==i.align?s.align=4:"justify"==i.align&&(s.align=2),s.leftMargin=i.leftMargin/20|0,s.rightMargin=i.rightMargin/20|0,s.indent=i.indent/20|0,s.leading=i.leading/20|0),this.set_defaultTextFormat(s),null!=i.text&&(i.html?this.set_htmlText(i.text):this.set_text(i.text))},__getAdvance:function(e){return e},__getBounds:function(e,i){this.__updateLayout();var s=ia.__pool.get();s.copyFrom(this.__textEngine.bounds),i.tx+=this.__offsetX,i.ty+=this.__offsetY,s.__transform(s,i),e.__expand(s.x,s.y,s.width,s.height),ia.__pool.release(s)},__getCharBoundaries:function(e,i){if(0>e||e>this.__text.length-1)return!1;this.__updateLayout();for(var s=this.__textEngine.layoutGroups.iterator();s.hasNext();){var n=s.next();if(e>=n.startIndex&&e<n.endIndex)try{for(var o=n.offsetX,l=0,_=e-n.startIndex;l<_;){var h=l++;o+=n.positions[h]}return i.setTo(o,n.offsetY,n.positions[e-n.startIndex],n.ascent+n.descent),!0}catch(m){ha.lastException=m}}return!1},__getCharIndexOnDifferentLine:function(e,i){if(0>e||e>this.__text.length||0>i||i>this.__textEngine.numLines-1)return-1;for(var s=null,n=null,o=this.__textEngine.layoutGroups.iterator();o.hasNext();){var l=o.next();if(e>=l.startIndex&&e<=l.endIndex){s=l.offsetX;for(var _=0,h=e-l.startIndex;_<h;){var m=_++;s+=l.positions[m]}if(null!=n)return this.__getPosition(s,n)}if(l.lineIndex==i){for(n=l.offsetY+l.height/2,l=0,_=this.get_scrollV()-1;l<_;)h=l++,n-=this.__textEngine.lineHeights.get(h);if(null!=s)return this.__getPosition(s,n)}}return-1},__getCursor:function(){var e=this.__getGroup(this.get_mouseX(),this.get_mouseY(),!0);return null!=e&&""!=e.format.url?"button":this.__textEngine.selectable?"ibeam":null},__getGroup:function(e,i,s){null==s&&(s=!1),this.__updateLayout(),e+=this.get_scrollH();for(var n=0,o=this.get_scrollV()-1;n<o;){var l=n++;i+=this.__textEngine.lineHeights.get(l)}!s&&i>this.__textEngine.textHeight&&(i=this.__textEngine.textHeight),n=!0,l=0;for(var _=this.__textEngine.layoutGroups.get_length();l<_;){var h=l++;if(o=this.__textEngine.layoutGroups.get(h),h=h<this.__textEngine.layoutGroups.get_length()-1?this.__textEngine.layoutGroups.get(h+1):null,n&&(i<o.offsetY&&(i=o.offsetY),e<o.offsetX&&(e=o.offsetX),n=!1),(i>=o.offsetY&&i<=o.offsetY+o.height||!s&&null==h)&&(e>=o.offsetX&&e<=o.offsetX+o.width||!s&&(null==h||h.lineIndex!=o.lineIndex)))return o}return null},__getPosition:function(e,i){if(null==(i=this.__getGroup(e,i)))return this.__text.length;for(var s=0,n=0,o=i.positions.length;n<o;){var l=n++;if(e<=i.offsetX+(s+=i.positions[l])){if(e<=i.offsetX+(s-i.positions[l])+i.positions[l]/2)return i.startIndex+l;if(i.startIndex+l<i.endIndex)return i.startIndex+l+1;break}}return i.endIndex},__getRenderBounds:function(e,i){if(null==this.__scrollRect){this.__updateLayout();var s=ia.__pool.get();s.copyFrom(this.__textEngine.bounds),s.__transform(s,i),e.__expand(s.x,s.y,s.width,s.height),ia.__pool.release(s)}else Pa.prototype.__getRenderBounds.call(this,e,i)},__hitTest:function(e,i,s,n,o,l){if(!l.get_visible()||this.__isMask||o&&!this.mouseEnabled||null!=this.get_mask()&&!this.get_mask().__hitTestMask(e,i))return!1;this.__getRenderTransform(),this.__updateLayout();var _=this.__renderTransform,h=_.a*_.d-_.b*_.c;return!!this.__textEngine.bounds.contains(0==(o=(s=this.__renderTransform).a*s.d-s.b*s.c)?-s.tx:1/o*(s.c*(s.ty-i)+s.d*(e-s.tx)),0==h?-_.ty:1/h*(_.a*(i-_.ty)+_.b*(_.tx-e)))&&(n?.push(l),!0)},__hitTestMask:function(e,i){this.__getRenderTransform(),this.__updateLayout();var s=this.__renderTransform,n=s.a*s.d-s.b*s.c,o=this.__renderTransform,l=o.a*o.d-o.b*o.c;return!!this.__textEngine.bounds.contains(0==n?-s.tx:1/n*(s.c*(s.ty-i)+s.d*(e-s.tx)),0==l?-o.ty:1/l*(o.a*(i-o.ty)+o.b*(o.tx-e)))},__replaceSelectedText:function(e,i){if(null==i&&(i=!0),null==e&&(e=""),""!=e||this.__selectionIndex!=this.__caretIndex){var s=this.__caretIndex<this.__selectionIndex?this.__caretIndex:this.__selectionIndex,n=this.__caretIndex>this.__selectionIndex?this.__caretIndex:this.__selectionIndex;if(!(s==n&&0<this.__textEngine.maxChars&&this.__text.length==this.__textEngine.maxChars)){if(s>this.__text.length&&(s=this.__text.length),n>this.__text.length&&(n=this.__text.length),n<s){var o=n;n=s,s=o}0>s&&(s=0),this.__replaceText(s,n,e,i),(e=s+T.__cast(e,String).length)>this.__text.length&&(e=this.__text.length),this.setSelection(e,e),this.__updateScrollH()}}},__replaceText:function(e,i,s,n){if(!(i<e||0>e||i>this.__text.length||null==s)){n&&(s=this.__textEngine.restrictText(s),0<this.__textEngine.maxChars&&(0>=(n=this.__textEngine.maxChars-this.__text.length+(i-e))?s="":n<s.length&&(s=B.substr(s,0,n)))),this.__updateText(this.__text.substring(0,e)+s+this.__text.substring(i)),i>this.__text.length&&(i=this.__text.length),n=s.length-(i-e);for(var l,o=0;o<this.__textEngine.textFormatRanges.get_length();)l=this.__textEngine.textFormatRanges.get(o),e==i?l.end>=e&&(l.start>i?(l.start+=n,l.end+=n):l.start<l.end&&l.end==e&&o<this.__textEngine.textFormatRanges.get_length()-1||(l.end+=n)):l.end>=e&&(l.start>=i?(l.start+=n,l.end+=n):l.start>=e&&l.end<=i?1<this.__textEngine.textFormatRanges.get_length()?this.__textEngine.textFormatRanges.splice(o,1):(l.start=0,l.end=s.length):l.start<=e?l.end=l.end<i?e:l.end+n:(l.start=e,l.end+=n)),++o;this.__updateScrollV(),this.__updateScrollH(),this.__layoutDirty=this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())}},__startCursorTimer:function(){this.__cursorTimer=of.delay(r(this,this.__startCursorTimer),600),this.__showCursor=!this.__showCursor,this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())},__startTextInput:function(){0>this.__caretIndex&&(this.__selectionIndex=this.__caretIndex=this.__text.length),(!ya.__supportDOM||this.__renderedOnCanvasWhileOnDOM)&&this.__enableInput()},__stopCursorTimer:function(){null!=this.__cursorTimer&&(this.__cursorTimer.stop(),this.__cursorTimer=null),this.__showCursor&&(this.__showCursor=!1,this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()))},__stopTextInput:function(){(!ya.__supportDOM||this.__renderedOnCanvasWhileOnDOM)&&this.__disableInput()},__updateLayout:function(){if(this.__layoutDirty){var e=this.__textEngine.width;if(this.__textEngine.update(),2!=this.__textEngine.autoSize){if(this.__textEngine.width!=e)switch(this.__textEngine.autoSize){case 0:this.set_x(this.get_x()+(e-this.__textEngine.width)/2);break;case 3:this.set_x(this.get_x()+(e-this.__textEngine.width))}this.__textEngine.getBounds()}this.__layoutDirty=!1}},__updateScrollH:function(){if(!this.get_multiline()&&1==this.get_type()){this.__layoutDirty=!0,this.__updateLayout();var e=this.__textEngine.textWidth-this.__textEngine.width+4;0<e?this.__caretIndex>=this.get_text().length?this.set_scrollH(Math.ceil(e)):(e=ia.__pool.get(),this.__getCharBoundaries(this.__caretIndex,e),e.x<this.get_scrollH()?this.set_scrollH(Math.floor(e.x-2)):e.x>this.get_scrollH()+this.__textEngine.width&&this.set_scrollH(Math.ceil(e.x-this.__textEngine.width-2)),ia.__pool.release(e)):this.set_scrollH(0)}},__updateScrollV:function(){this.__layoutDirty=!0,this.__updateLayout();var e=this.getLineIndexOfChar(this.__caretIndex);if(-1==e&&0<this.__caretIndex&&(e=this.getLineIndexOfChar(this.__caretIndex-1)+1),e+1<this.get_scrollV())this.set_scrollV(e+1);else if(e+1>this.get_bottomScrollV()){for(var i=0;0<=e&&i+this.__textEngine.lineHeights.get(e)<=this.get_height()-4;)i+=this.__textEngine.lineHeights.get(e),--e;this.set_scrollV(e+2)}else this.set_scrollV(this.get_scrollV())},__updateText:function(e){if(ya.__supportDOM&&this.__renderedOnCanvasWhileOnDOM&&(this.__forceCachedBitmapUpdate=this.__text!=e),this.__textEngine.set_text(e),this.__text=this.__textEngine.text,this.__text.length<this.__caretIndex&&(this.__selectionIndex=this.__caretIndex=this.__text.length),!this.__displayAsPassword||ya.__supportDOM&&!this.__renderedOnCanvasWhileOnDOM)this.__textEngine.set_text(this.__text);else{e="";for(var i=0,s=this.get_text().length;i<s;)i++,e+="*";this.__textEngine.set_text(e)}},__updateTransforms:function(e){Pa.prototype.__updateTransforms.call(this,e);var i=this.__offsetX,s=this.__offsetY;(e=this.__renderTransform).tx=i*e.a+s*e.c+e.tx,e.ty=i*e.b+s*e.d+e.ty},get_antiAliasType:function(){return this.__textEngine.antiAliasType},set_antiAliasType:function(e){return this.__textEngine.antiAliasType=e},get_autoSize:function(){return this.__textEngine.autoSize},set_autoSize:function(e){return e!=this.__textEngine.autoSize&&(this.__layoutDirty=this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())),this.__textEngine.autoSize=e},get_background:function(){return this.__textEngine.background},set_background:function(e){return e!=this.__textEngine.background&&(this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())),this.__textEngine.background=e},get_backgroundColor:function(){return this.__textEngine.backgroundColor},set_backgroundColor:function(e){return e!=this.__textEngine.backgroundColor&&(this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())),this.__textEngine.backgroundColor=e},get_border:function(){return this.__textEngine.border},set_border:function(e){return e!=this.__textEngine.border&&(this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())),this.__textEngine.border=e},get_borderColor:function(){return this.__textEngine.borderColor},set_borderColor:function(e){return e!=this.__textEngine.borderColor&&(this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())),this.__textEngine.borderColor=e},get_bottomScrollV:function(){return this.__updateLayout(),this.__textEngine.get_bottomScrollV()},get_caretIndex:function(){return this.__caretIndex},get_defaultTextFormat:function(){return this.__textFormat.clone()},set_defaultTextFormat:function(e){return this.__textFormat.__merge(e),this.__dirty=this.__layoutDirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()),e},get_displayAsPassword:function(){return this.__displayAsPassword},set_displayAsPassword:function(e){return e!=this.__displayAsPassword&&(this.__layoutDirty=this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()),this.__displayAsPassword=e,this.__updateText(this.__text)),e},get_embedFonts:function(){return this.__textEngine.embedFonts},set_embedFonts:function(e){return this.__textEngine.embedFonts=e},get_gridFitType:function(){return this.__textEngine.gridFitType},set_gridFitType:function(e){return this.__textEngine.gridFitType=e},get_height:function(){return this.__updateLayout(),this.__textEngine.height*Math.abs(this.get_scaleY())},set_height:function(e){return e!=this.__textEngine.height&&(this.__setTransformDirty(),this.__layoutDirty=this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()),this.__textEngine.height=e),this.__textEngine.height*Math.abs(this.get_scaleY())},get_htmlText:function(){return this.__isHTML?this.__rawHtmlText:this.__text},set_htmlText:function(e){if(this.__isHTML&&this.__text==e||(this.__layoutDirty=this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())),this.__isHTML=!0,this.__rawHtmlText=e,e=ub.parse(e,this.__textFormat,this.__textEngine.textFormatRanges),ya.__supportDOM){1<this.__textEngine.textFormatRanges.get_length()&&this.__textEngine.textFormatRanges.splice(1,this.__textEngine.textFormatRanges.get_length()-1);var i=this.__textEngine.textFormatRanges.get(0);i.format=this.__textFormat,i.start=0,this.__renderedOnCanvasWhileOnDOM?(i.end=e.length,this.__updateText(e)):(i.end=this.__rawHtmlText.length,this.__updateText(this.__rawHtmlText))}else this.__updateText(e);return this.__updateScrollV(),e},get_length:function(){return null!=this.__text?this.__text.length:0},get_maxChars:function(){return this.__textEngine.maxChars},set_maxChars:function(e){return e!=this.__textEngine.maxChars&&(this.__textEngine.maxChars=e,this.__layoutDirty=this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())),e},get_maxScrollH:function(){return this.__updateLayout(),this.__textEngine.maxScrollH},get_maxScrollV:function(){return this.__updateLayout(),this.__textEngine.get_maxScrollV()},get_mouseWheelEnabled:function(){return this.__mouseWheelEnabled},set_mouseWheelEnabled:function(e){return this.__mouseWheelEnabled=e},get_multiline:function(){return this.__textEngine.multiline},set_multiline:function(e){return e!=this.__textEngine.multiline&&(this.__layoutDirty=this.__dirty=!0,this.__updateText(this.__text),this.__updateScrollH(),this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())),this.__textEngine.multiline=e},get_numLines:function(){return this.__updateLayout(),this.__textEngine.numLines},get_restrict:function(){return this.__textEngine.restrict},set_restrict:function(e){return this.__textEngine.restrict!=e&&(this.__textEngine.set_restrict(e),this.__updateText(this.__text)),e},get_scrollH:function(){return this.__textEngine.scrollH},set_scrollH:function(e){return this.__updateLayout(),e>this.__textEngine.maxScrollH&&(e=this.__textEngine.maxScrollH),0>e&&(e=0),e!=this.__textEngine.scrollH&&(this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()),this.dispatchEvent(new fa("scroll"))),this.__textEngine.scrollH=e},get_scrollV:function(){return this.__textEngine.get_scrollV()},set_scrollV:function(e){return this.__updateLayout(),e!=this.__textEngine.get_scrollV()&&(this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()),this.dispatchEvent(new fa("scroll"))),this.__textEngine.set_scrollV(e)},get_selectable:function(){return this.__textEngine.selectable},set_selectable:function(e){return e!=this.__textEngine.selectable&&1==this.get_type()&&(null!=this.stage&&this.stage.get_focus()==this?this.__startTextInput():e||this.__stopTextInput()),this.__textEngine.selectable=e},get_selectionBeginIndex:function(){return 0|Math.min(this.__caretIndex,this.__selectionIndex)},get_selectionEndIndex:function(){return 0|Math.max(this.__caretIndex,this.__selectionIndex)},get_sharpness:function(){return this.__textEngine.sharpness},set_sharpness:function(e){return e!=this.__textEngine.sharpness&&(this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())),this.__textEngine.sharpness=e},get_tabEnabled:function(){return null==this.__tabEnabled?1==this.__textEngine.type:this.__tabEnabled},get_text:function(){return this.__text},set_text:function(e){if(!this.__isHTML&&this.__text==e)return e;this.__layoutDirty=this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()),1<this.__textEngine.textFormatRanges.get_length()&&this.__textEngine.textFormatRanges.splice(1,this.__textEngine.textFormatRanges.get_length()-1);var i=this.__textEngine.textFormatRanges.get(0);return i.format=this.__textFormat,i.start=0,i.end=e.length,this.__isHTML=!1,this.__updateText(e),this.__updateScrollV(),e},get_textColor:function(){return this.__textFormat.color},set_textColor:function(e){e!=this.__textFormat.color&&(this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()));for(var i=this.__textEngine.textFormatRanges.iterator();i.hasNext();)i.next().format.color=e;return this.__textFormat.color=e},get_textWidth:function(){return this.__updateLayout(),this.__textEngine.textWidth},get_textHeight:function(){return this.__updateLayout(),this.__textEngine.textHeight},get_type:function(){return this.__textEngine.type},set_type:function(e){return e!=this.__textEngine.type&&(1==e?(this.addEventListener("addedToStage",r(this,this.this_onAddedToStage)),this.this_onFocusIn(null),this.__textEngine.__useIntAdvances=!0):(this.removeEventListener("addedToStage",r(this,this.this_onAddedToStage)),this.__stopTextInput(),this.__textEngine.__useIntAdvances=null),this.__layoutDirty=this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())),this.__textEngine.type=e},get_width:function(){return this.__updateLayout(),this.__textEngine.width*Math.abs(this.__scaleX)},set_width:function(e){return e!=this.__textEngine.width&&(this.__setTransformDirty(),this.__layoutDirty=this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()),this.__textEngine.width=e),this.__textEngine.width*Math.abs(this.__scaleX)},get_wordWrap:function(){return this.__textEngine.wordWrap},set_wordWrap:function(e){return e!=this.__textEngine.wordWrap&&(this.__layoutDirty=this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())),this.__textEngine.wordWrap=e},get_x:function(){return this.__transform.tx+this.__offsetX},set_x:function(e){return e!=this.__transform.tx+this.__offsetX&&this.__setTransformDirty(),this.__transform.tx=e-this.__offsetX},get_y:function(){return this.__transform.ty+this.__offsetY},set_y:function(e){return e!=this.__transform.ty+this.__offsetY&&this.__setTransformDirty(),this.__transform.ty=e-this.__offsetY},stage_onMouseMove:function(e){null!=this.stage&&this.__textEngine.selectable&&0<=this.__selectionIndex&&(this.__updateLayout(),(e=this.__getPosition(this.get_mouseX()+this.get_scrollH(),this.get_mouseY()))!=this.__caretIndex&&(this.__caretIndex=e,ya.__supportDOM?this.__renderedOnCanvasWhileOnDOM&&(this.__forceCachedBitmapUpdate=!0):(this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()))))},stage_onMouseUp:function(e){if(null!=this.stage&&(this.stage.removeEventListener("mouseMove",r(this,this.stage_onMouseMove)),this.stage.removeEventListener("mouseUp",r(this,this.stage_onMouseUp)),this.stage.get_focus()==this)){this.__getWorldTransform(),this.__updateLayout(),e=this.__getPosition(this.get_mouseX()+this.get_scrollH(),this.get_mouseY());var i=0|Math.max(this.__selectionIndex,e);this.__selectionIndex=0|Math.min(this.__selectionIndex,e),this.__caretIndex=i,this.__inputEnabled&&(this.this_onFocusIn(null),this.__stopCursorTimer(),this.__startCursorTimer(),ya.__supportDOM&&this.__renderedOnCanvasWhileOnDOM&&(this.__forceCachedBitmapUpdate=!0))}},this_onAddedToStage:function(e){this.this_onFocusIn(null)},this_onFocusIn:function(e){1==this.get_type()&&null!=this.stage&&this.stage.get_focus()==this&&this.__startTextInput()},this_onFocusOut:function(e){this.__stopCursorTimer(),null!=e.relatedObject&&e.relatedObject instanceof ie?(null!=this.stage&&(this.stage.window.onTextInput.remove(r(this,this.window_onTextInput)),this.stage.window.onKeyDown.remove(r(this,this.window_onKeyDown))),this.__inputEnabled=!1):this.__stopTextInput(),this.__selectionIndex!=this.__caretIndex&&(this.__selectionIndex=this.__caretIndex,this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()))},this_onKeyDown:function(e){this.get_selectable()&&1!=this.get_type()&&67==e.keyCode&&(e.commandKey||e.ctrlKey)&&this.__caretIndex!=this.__selectionIndex&&Ce.set_text(this.__text.substring(this.__caretIndex,this.__selectionIndex))},this_onMouseDown:function(e){(this.get_selectable()||1==this.get_type())&&(this.__updateLayout(),this.__selectionIndex=this.__caretIndex=this.__getPosition(this.get_mouseX()+this.get_scrollH(),this.get_mouseY()),ya.__supportDOM||(this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())),this.stage.addEventListener("mouseMove",r(this,this.stage_onMouseMove)),this.stage.addEventListener("mouseUp",r(this,this.stage_onMouseUp)))},this_onMouseWheel:function(e){this.set_scrollV(this.get_scrollV()-e.delta)},window_onKeyDown:function(e,i){switch(e){case 8:this.__selectionIndex==this.__caretIndex&&0<this.__caretIndex&&(this.__selectionIndex=this.__caretIndex-1),this.__selectionIndex!=this.__caretIndex&&(this.replaceSelectedText(""),this.__selectionIndex=this.__caretIndex,this.dispatchEvent(new fa("change",!0)));break;case 97:this.get_selectable()&&(yb.get_metaKey(i)||yb.get_ctrlKey(i))&&(this.__caretIndex=this.__text.length,this.__selectionIndex=0);break;case 99:(yb.get_metaKey(i)||yb.get_ctrlKey(i))&&this.__caretIndex!=this.__selectionIndex&&Ce.set_text(this.__text.substring(this.__caretIndex,this.__selectionIndex));break;case 120:(yb.get_metaKey(i)||yb.get_ctrlKey(i))&&this.__caretIndex!=this.__selectionIndex&&(Ce.set_text(this.__text.substring(this.__caretIndex,this.__selectionIndex)),this.replaceSelectedText(""),this.dispatchEvent(new fa("change",!0)));break;case 127:this.__selectionIndex==this.__caretIndex&&this.__caretIndex<this.__text.length&&(this.__selectionIndex=this.__caretIndex+1),this.__selectionIndex!=this.__caretIndex&&(this.replaceSelectedText(""),this.__selectionIndex=this.__caretIndex,this.dispatchEvent(new fa("change",!0)));break;case 1073741898:this.get_selectable()&&(this.__caretBeginningOfLine(),this.__stopCursorTimer(),this.__startCursorTimer());break;case 1073741901:this.get_selectable()&&(this.__caretEndOfLine(),this.__stopCursorTimer(),this.__startCursorTimer());break;case 1073741903:this.get_selectable()&&(yb.get_metaKey(i)?(this.__caretEndOfLine(),yb.get_shiftKey(i)||(this.__selectionIndex=this.__caretIndex)):yb.get_shiftKey(i)?this.__caretNextCharacter():(this.__selectionIndex==this.__caretIndex?this.__caretNextCharacter():this.__caretIndex=0|Math.max(this.__caretIndex,this.__selectionIndex),this.__selectionIndex=this.__caretIndex),this.__updateScrollH(),this.__updateScrollV(),this.__stopCursorTimer(),this.__startCursorTimer());break;case 1073741904:this.get_selectable()&&(yb.get_metaKey(i)?(this.__caretBeginningOfLine(),yb.get_shiftKey(i)||(this.__selectionIndex=this.__caretIndex)):yb.get_shiftKey(i)?this.__caretPreviousCharacter():(this.__selectionIndex==this.__caretIndex?this.__caretPreviousCharacter():this.__caretIndex=0|Math.min(this.__caretIndex,this.__selectionIndex),this.__selectionIndex=this.__caretIndex),this.__updateScrollH(),this.__updateScrollV(),this.__stopCursorTimer(),this.__startCursorTimer());break;case 1073741905:this.get_selectable()&&this.__textEngine.multiline&&(yb.get_shiftKey(i)?this.__caretNextLine():(this.__selectionIndex==this.__caretIndex?this.__caretNextLine():(e=this.getLineIndexOfChar(0|Math.max(this.__caretIndex,this.__selectionIndex)),this.__caretNextLine(e,0|Math.min(this.__caretIndex,this.__selectionIndex))),this.__selectionIndex=this.__caretIndex),this.__updateScrollV(),this.__stopCursorTimer(),this.__startCursorTimer());break;case 1073741906:this.get_selectable()&&this.__textEngine.multiline&&(yb.get_shiftKey(i)?this.__caretPreviousLine():(this.__selectionIndex==this.__caretIndex?this.__caretPreviousLine():(e=this.getLineIndexOfChar(0|Math.min(this.__caretIndex,this.__selectionIndex)),this.__caretPreviousLine(e,0|Math.min(this.__caretIndex,this.__selectionIndex))),this.__selectionIndex=this.__caretIndex),this.__updateScrollV(),this.__stopCursorTimer(),this.__startCursorTimer());break;case 13:case 1073741912:this.__textEngine.multiline&&(e=new Df("textInput",!0,!0,"\n"),this.dispatchEvent(e),e.isDefaultPrevented()||(this.__replaceSelectedText("\n",!0),this.dispatchEvent(new fa("change",!0))))}},window_onTextInput:function(e){this.__replaceSelectedText(e,!0),this.dispatchEvent(new fa("change",!0))},__class__:ie,__properties__:x(Pa.prototype.__properties__,{set_wordWrap:"set_wordWrap",get_wordWrap:"get_wordWrap",set_type:"set_type",get_type:"get_type",get_textWidth:"get_textWidth",get_textHeight:"get_textHeight",set_textColor:"set_textColor",get_textColor:"get_textColor",set_text:"set_text",get_text:"get_text",set_sharpness:"set_sharpness",get_sharpness:"get_sharpness",get_selectionEndIndex:"get_selectionEndIndex",get_selectionBeginIndex:"get_selectionBeginIndex",set_selectable:"set_selectable",get_selectable:"get_selectable",set_scrollV:"set_scrollV",get_scrollV:"get_scrollV",set_scrollH:"set_scrollH",get_scrollH:"get_scrollH",set_restrict:"set_restrict",get_restrict:"get_restrict",get_numLines:"get_numLines",set_multiline:"set_multiline",get_multiline:"get_multiline",set_mouseWheelEnabled:"set_mouseWheelEnabled",get_mouseWheelEnabled:"get_mouseWheelEnabled",get_maxScrollV:"get_maxScrollV",get_maxScrollH:"get_maxScrollH",set_maxChars:"set_maxChars",get_maxChars:"get_maxChars",get_length:"get_length",set_htmlText:"set_htmlText",get_htmlText:"get_htmlText",set_gridFitType:"set_gridFitType",get_gridFitType:"get_gridFitType",set_embedFonts:"set_embedFonts",get_embedFonts:"get_embedFonts",set_displayAsPassword:"set_displayAsPassword",get_displayAsPassword:"get_displayAsPassword",set_defaultTextFormat:"set_defaultTextFormat",get_defaultTextFormat:"get_defaultTextFormat",get_caretIndex:"get_caretIndex",get_bottomScrollV:"get_bottomScrollV",set_borderColor:"set_borderColor",get_borderColor:"get_borderColor",set_border:"set_border",get_border:"get_border",set_backgroundColor:"set_backgroundColor",get_backgroundColor:"get_backgroundColor",set_background:"set_background",get_background:"get_background",set_autoSize:"set_autoSize",get_autoSize:"get_autoSize",set_antiAliasType:"set_antiAliasType",get_antiAliasType:"get_antiAliasType"})});var uk={};k["openfl.text._TextFieldAutoSize.TextFieldAutoSize_Impl_"]=uk,uk.__name__="openfl.text._TextFieldAutoSize.TextFieldAutoSize_Impl_",uk.fromString=function(e){switch(e){case"center":return 0;case"left":return 1;case"none":return 2;case"right":return 3;default:return null}},uk.toString=function(e){switch(e){case 0:return"center";case 1:return"left";case 2:return"none";case 3:return"right";default:return null}};var vp={};k["openfl.text._TextFieldType.TextFieldType_Impl_"]=vp,vp.__name__="openfl.text._TextFieldType.TextFieldType_Impl_",vp.fromString=function(e){switch(e){case"dynamic":return 0;case"input":return 1;default:return null}},vp.toString=function(e){switch(e){case 0:return"dynamic";case 1:return"input";default:return null}};var Cg=function(e,i,s,n,o,l,_,h,m,f,y,g,j){this.font=e,this.size=i,this.color=s,this.bold=n,this.italic=o,this.underline=l,this.url=_,this.target=h,this.align=m,this.leftMargin=f,this.rightMargin=y,this.indent=g,this.leading=j};k["openfl.text.TextFormat"]=Cg,Cg.__name__="openfl.text.TextFormat",Cg.prototype={align:null,blockIndent:null,bold:null,bullet:null,color:null,font:null,indent:null,italic:null,kerning:null,leading:null,leftMargin:null,letterSpacing:null,rightMargin:null,size:null,tabStops:null,target:null,underline:null,url:null,__ascent:null,__descent:null,clone:function(){var e=new Cg(this.font,this.size,this.color,this.bold,this.italic,this.underline,this.url,this.target);return e.align=this.align,e.leftMargin=this.leftMargin,e.rightMargin=this.rightMargin,e.indent=this.indent,e.leading=this.leading,e.blockIndent=this.blockIndent,e.bullet=this.bullet,e.kerning=this.kerning,e.letterSpacing=this.letterSpacing,e.tabStops=this.tabStops,e.__ascent=this.__ascent,e.__descent=this.__descent,e},__merge:function(e){null!=e.font&&(this.font=e.font),null!=e.size&&(this.size=e.size),null!=e.color&&(this.color=e.color),null!=e.bold&&(this.bold=e.bold),null!=e.italic&&(this.italic=e.italic),null!=e.underline&&(this.underline=e.underline),null!=e.url&&(this.url=e.url),null!=e.target&&(this.target=e.target),null!=e.align&&(this.align=e.align),null!=e.leftMargin&&(this.leftMargin=e.leftMargin),null!=e.rightMargin&&(this.rightMargin=e.rightMargin),null!=e.indent&&(this.indent=e.indent),null!=e.leading&&(this.leading=e.leading),null!=e.blockIndent&&(this.blockIndent=e.blockIndent),null!=e.bullet&&(this.bullet=e.bullet),null!=e.kerning&&(this.kerning=e.kerning),null!=e.letterSpacing&&(this.letterSpacing=e.letterSpacing),null!=e.tabStops&&(this.tabStops=e.tabStops),null!=e.__ascent&&(this.__ascent=e.__ascent),null!=e.__descent&&(this.__descent=e.__descent)},__class__:Cg};var Gh={};k["openfl.text._TextFormatAlign.TextFormatAlign_Impl_"]=Gh,Gh.__name__="openfl.text._TextFormatAlign.TextFormatAlign_Impl_",Gh.fromString=function(e){switch(e){case"center":return 0;case"end":return 1;case"justify":return 2;case"left":return 3;case"right":return 4;case"start":return 5;default:return null}},Gh.toString=function(e){switch(e){case 0:return"center";case 1:return"end";case 2:return"justify";case 3:return"left";case 4:return"right";case 5:return"start";default:return null}};var Er=function(e,i,s,n,o,l){this.x=e,this.width=i,this.height=s,this.ascent=n,this.descent=o,this.leading=l};k["openfl.text.TextLineMetrics"]=Er,Er.__name__="openfl.text.TextLineMetrics",Er.prototype={ascent:null,descent:null,height:null,leading:null,width:null,x:null,__class__:Er};var fc=function(){A.call(this),fc.__instances.push(this)};k["openfl.ui.GameInput"]=fc,fc.__name__="openfl.ui.GameInput",fc.getDeviceAt=function(e){return 0<=e&&e<fc.__deviceList.length?fc.__deviceList[e]:null},fc.__getDevice=function(e){if(null==e)return null;if(null==fc.__devices.h.__keys__[e.__id__]){var i=kd.__getDeviceData()[e.id].id,s=kd.__getDeviceData();i=new wp(i,s[e.id].id),fc.__deviceList.push(i),fc.__devices.set(e,i),fc.numDevices=fc.__deviceList.length}return fc.__devices.h[e.__id__]},fc.__onGamepadAxisMove=function(e,i,s){if(null!=(e=fc.__getDevice(e))&&e.enabled){if(!e.__axis.h.hasOwnProperty(i)){switch(i){case 0:var n="LEFT_X";break;case 1:n="LEFT_Y";break;case 2:n="RIGHT_X";break;case 3:n="RIGHT_Y";break;case 4:n="TRIGGER_LEFT";break;case 5:n="TRIGGER_RIGHT";break;default:n="UNKNOWN ("+i+")"}n=new Zf(e,"AXIS_"+n,-1,1),e.__axis.h[i]=n,e.__controls.push(n)}(i=e.__axis.h[i]).value=s,i.dispatchEvent(new fa("change"))}},fc.__onGamepadButtonDown=function(e,i){if(null!=(e=fc.__getDevice(e))&&e.enabled){if(!e.__button.h.hasOwnProperty(i)){switch(i){case 0:var s="A";break;case 1:s="B";break;case 2:s="X";break;case 3:s="Y";break;case 4:s="BACK";break;case 5:s="GUIDE";break;case 6:s="START";break;case 7:s="LEFT_STICK";break;case 8:s="RIGHT_STICK";break;case 9:s="LEFT_SHOULDER";break;case 10:s="RIGHT_SHOULDER";break;case 11:s="DPAD_UP";break;case 12:s="DPAD_DOWN";break;case 13:s="DPAD_LEFT";break;case 14:s="DPAD_RIGHT";break;default:s="UNKNOWN ("+i+")"}s=new Zf(e,"BUTTON_"+s,0,1),e.__button.h[i]=s,e.__controls.push(s)}(i=e.__button.h[i]).value=1,i.dispatchEvent(new fa("change"))}},fc.__onGamepadButtonUp=function(e,i){if(null!=(e=fc.__getDevice(e))&&e.enabled){if(!e.__button.h.hasOwnProperty(i)){switch(i){case 0:var s="A";break;case 1:s="B";break;case 2:s="X";break;case 3:s="Y";break;case 4:s="BACK";break;case 5:s="GUIDE";break;case 6:s="START";break;case 7:s="LEFT_STICK";break;case 8:s="RIGHT_STICK";break;case 9:s="LEFT_SHOULDER";break;case 10:s="RIGHT_SHOULDER";break;case 11:s="DPAD_UP";break;case 12:s="DPAD_DOWN";break;case 13:s="DPAD_LEFT";break;case 14:s="DPAD_RIGHT";break;default:s="UNKNOWN ("+i+")"}s=new Zf(e,"BUTTON_"+s,0,1),e.__button.h[i]=s,e.__controls.push(s)}(i=e.__button.h[i]).value=0,i.dispatchEvent(new fa("change"))}},fc.__onGamepadConnect=function(e){if(null!=(e=fc.__getDevice(e)))for(var i=0,s=fc.__instances;i<s.length;){var n=s[i];++i,n.dispatchEvent(new zg("deviceAdded",!0,!1,e))}},fc.__onGamepadDisconnect=function(e){var i=fc.__devices.h[e.__id__];if(null!=i){null!=fc.__devices.h.__keys__[e.__id__]&&(B.remove(fc.__deviceList,fc.__devices.h[e.__id__]),fc.__devices.remove(e)),fc.numDevices=fc.__deviceList.length,e=0;for(var s=fc.__instances;e<s.length;){var n=s[e];++e,n.dispatchEvent(new zg("deviceRemoved",!0,!1,i))}}},fc.__super__=A,fc.prototype=x(A.prototype,{addEventListener:function(e,i,s,n,o){if(null==o&&(o=!1),null==n&&(n=0),null==s&&(s=!1),A.prototype.addEventListener.call(this,e,i,s,n,o),"deviceAdded"==e)for(e=0,i=fc.__deviceList;e<i.length;)s=i[e],++e,this.dispatchEvent(new zg("deviceAdded",!0,!1,s))},__class__:fc});var Zf=function(e,i,s,n,o){null==o&&(o=0),A.call(this),this.device=e,this.id=i,this.minValue=s,this.maxValue=n,this.value=o};k["openfl.ui.GameInputControl"]=Zf,Zf.__name__="openfl.ui.GameInputControl",Zf.__super__=A,Zf.prototype=x(A.prototype,{device:null,id:null,maxValue:null,minValue:null,value:null,__class__:Zf});var wp=function(e,i){for(this.__controls=[],this.__button=new Va,this.__axis=new Va,this.id=e,this.name=i,e=new Zf(this,"AXIS_0",-1,1),this.__axis.h[0]=e,this.__controls.push(e),e=new Zf(this,"AXIS_1",-1,1),this.__axis.h[1]=e,this.__controls.push(e),e=new Zf(this,"AXIS_2",-1,1),this.__axis.h[2]=e,this.__controls.push(e),e=new Zf(this,"AXIS_3",-1,1),this.__axis.h[3]=e,this.__controls.push(e),e=new Zf(this,"AXIS_4",-1,1),this.__axis.h[4]=e,this.__controls.push(e),e=new Zf(this,"AXIS_5",-1,1),this.__axis.h[5]=e,this.__controls.push(e),i=0;15>i;){var s=i++;e=new Zf(this,"BUTTON_"+s,0,1),this.__button.h[s]=e,this.__controls.push(e)}};k["openfl.ui.GameInputDevice"]=wp,wp.__name__="openfl.ui.GameInputDevice",wp.prototype={enabled:null,id:null,name:null,sampleInterval:null,__axis:null,__button:null,__controls:null,__gamepad:null,getCachedSamples:function(e,i){return 0},getControlAt:function(e){return 0<=e&&e<this.__controls.length?this.__controls[e]:null},startCachingSamples:function(e,i){},stopCachingSamples:function(){},get_numControls:function(){return this.__controls.length},__class__:wp,__properties__:{get_numControls:"get_numControls"}};var Ea=function(){};k["openfl.ui.Keyboard"]=Ea,Ea.__name__="openfl.ui.Keyboard",Ea.isAccessible=function(){return!1},Ea.__convertKeyCode=function(e){switch(e){case 8:return 8;case 9:return 9;case 13:case 1073741912:case 1073741982:return 13;case 27:return 27;case 32:return 32;case 33:case 49:return 49;case 34:case 39:return 222;case 35:case 51:return 51;case 36:case 52:return 52;case 37:case 53:return 53;case 38:case 55:return 55;case 40:case 57:return 57;case 41:case 48:return 48;case 42:case 56:return 56;case 44:return 188;case 45:case 95:return 189;case 46:case 62:return 190;case 47:case 63:return 191;case 50:case 64:return 50;case 54:case 94:return 54;case 58:case 59:return 186;case 60:return 60;case 61:return 187;case 91:return 219;case 92:return 220;case 93:return 221;case 96:return 192;case 97:return 65;case 98:return 66;case 99:return 67;case 100:return 68;case 101:return 69;case 102:return 70;case 103:return 71;case 104:return 72;case 105:return 73;case 106:return 74;case 107:return 75;case 108:return 76;case 109:return 77;case 110:return 78;case 111:return 79;case 112:return 80;case 113:return 81;case 114:return 82;case 115:return 83;case 116:return 84;case 117:return 85;case 118:return 86;case 119:return 87;case 120:return 88;case 121:return 89;case 122:return 90;case 127:return 46;case 1073741881:return 20;case 1073741882:return 112;case 1073741883:return 113;case 1073741884:return 114;case 1073741885:return 115;case 1073741886:return 116;case 1073741887:return 117;case 1073741888:return 118;case 1073741889:return 119;case 1073741890:return 120;case 1073741891:return 121;case 1073741892:return 122;case 1073741893:return 123;case 1073741894:return 301;case 1073741895:return 145;case 1073741896:return 19;case 1073741897:return 45;case 1073741898:return 36;case 1073741899:return 33;case 1073741901:return 35;case 1073741902:return 34;case 1073741903:return 39;case 1073741904:return 37;case 1073741905:return 40;case 1073741906:return 38;case 1073741907:return 144;case 1073741908:return 111;case 1073741909:return 106;case 1073741910:return 109;case 1073741911:return 107;case 1073741913:return 97;case 1073741914:return 98;case 1073741915:return 99;case 1073741916:return 100;case 1073741917:return 101;case 1073741918:return 102;case 1073741919:return 103;case 1073741920:return 104;case 1073741921:return 105;case 1073741922:return 96;case 1073741923:case 1073742044:return 110;case 1073741925:return 302;case 1073741928:return 124;case 1073741929:return 125;case 1073741930:return 126;case 1073742048:case 1073742052:return 17;case 1073742049:case 1073742053:return 16;case 1073742050:case 1073742054:return 18;case 1073742051:case 1073742055:return 15;default:return e}},Ea.__getCharCode=function(e,i){if(null==i&&(i=!1),i){switch(e){case 48:return 41;case 49:return 33;case 50:return 64;case 51:return 35;case 52:return 36;case 53:return 37;case 54:return 94;case 55:return 38;case 56:return 42;case 57:return 40;case 186:return 58;case 187:return 43;case 188:return 60;case 189:return 95;case 190:return 62;case 191:return 63;case 192:return 126;case 219:return 123;case 220:return 124;case 221:return 125;case 222:return 34}if(65<=e&&90>=e)return e-65+65}else{switch(e){case 8:return 8;case 9:return 9;case 13:return 13;case 27:return 27;case 32:return 32;case 186:return 59;case 187:return 61;case 188:return 44;case 189:return 45;case 190:return 46;case 191:return 47;case 192:return 96;case 219:return 91;case 220:return 92;case 221:return 93;case 222:return 39}if(48<=e&&57>=e)return e-48+48;if(65<=e&&90>=e)return e-65+97}if(96<=e&&105>=e)return e-96+48;switch(e){case 8:return 8;case 13:return 13;case 46:return 127;case 106:return 42;case 107:return 43;case 108:return 44;case 110:return 45;case 111:return 46}return 0},Ea.__getKeyLocation=function(e){switch(e){case 1073741908:case 1073741909:case 1073741910:case 1073741911:case 1073741912:case 1073741913:case 1073741914:case 1073741915:case 1073741916:case 1073741917:case 1073741918:case 1073741919:case 1073741920:case 1073741921:case 1073741922:case 1073741923:case 1073742044:return 3;case 1073742048:case 1073742049:case 1073742050:case 1073742051:return 1;case 1073742052:case 1073742053:case 1073742054:case 1073742055:return 2;default:return 0}};var Ie=function(){};k["openfl.ui.Mouse"]=Ie,Ie.__name__="openfl.ui.Mouse",Ie.__properties__={set_cursor:"set_cursor",get_cursor:"get_cursor"},Ie.hide=function(){Ie.__hidden=!0;for(var e=0,i=We.current.__windows;e<i.length;){var s=i[e];++e,s.set_cursor(null)}},Ie.show=function(){Ie.__hidden=!1;var e=Ie.__cursor;Ie.__cursor=null,Ie.set_cursor(e)},Ie.get_cursor=function(){return Ie.__cursor},Ie.set_cursor=function(e){null==e&&(e="auto");var i=null;switch(e){case"arrow":i=Hd.ARROW;break;case"button":i=Hd.POINTER;break;case"crosshair":i=Hd.CROSSHAIR;break;case"custom":i=Hd.CUSTOM;break;case"hand":i=Hd.MOVE;break;case"ibeam":i=Hd.TEXT;break;case"resize_nesw":i=Hd.RESIZE_NESW;break;case"resize_ns":i=Hd.RESIZE_NS;break;case"resize_nwse":i=Hd.RESIZE_NWSE;break;case"resize_we":i=Hd.RESIZE_WE;break;case"wait":i=Hd.WAIT;break;case"waitarrow":i=Hd.WAIT_ARROW}if(null!=i&&!Ie.__hidden)for(var s=0,n=We.current.__windows;s<n.length;){var o=n[s];++s,o.set_cursor(i)}return Ie.__cursor=e};var kf={};k["openfl.ui._MouseCursor.MouseCursor_Impl_"]=kf,kf.__name__="openfl.ui._MouseCursor.MouseCursor_Impl_",kf.fromLimeCursor=function(e){switch(e._hx_index){case 0:return"arrow";case 1:return"crosshair";case 2:return"auto";case 3:return"hand";case 4:return"button";case 5:return"resize_nesw";case 6:return"resize_ns";case 7:return"resize_nwse";case 8:return"resize_we";case 9:return"ibeam";case 10:return"wait";case 11:return"waitarrow";case 12:return"custom"}},kf.toLimeCursor=function(e){switch(e){case"arrow":return Hd.ARROW;case"auto":default:return Hd.DEFAULT;case"button":return Hd.POINTER;case"crosshair":return Hd.CROSSHAIR;case"custom":return Hd.CUSTOM;case"hand":return Hd.MOVE;case"ibeam":return Hd.TEXT;case"resize_nesw":return Hd.RESIZE_NESW;case"resize_ns":return Hd.RESIZE_NS;case"resize_nwse":return Hd.RESIZE_NWSE;case"resize_we":return Hd.RESIZE_WE;case"wait":return Hd.WAIT;case"waitarrow":return Hd.WAIT_ARROW}};var Le=function(){};k["openfl.ui.Multitouch"]=Le,Le.__name__="openfl.ui.Multitouch",Le.__properties__={get_supportsTouchEvents:"get_supportsTouchEvents"},Le.get_supportsTouchEvents=function(){return!!("ontouchstart"in document.documentElement||window.DocumentTouch&&document instanceof DocumentTouch)};var Wl={};k["openfl.ui._MultitouchInputMode.MultitouchInputMode_Impl_"]=Wl,Wl.__name__="openfl.ui._MultitouchInputMode.MultitouchInputMode_Impl_",Wl.fromString=function(e){switch(e){case"gesture":return 0;case"none":return 1;case"touchPoint":return 2;default:return null}},Wl.toString=function(e){switch(e){case 0:return"gesture";case 1:return"none";case 2:return"touchPoint";default:return null}};var Z=function(e){null==e&&(e=!1),this.debugEnabled=e,Z.initialized||Z.init()};k["openfl.utils.AGALMiniAssembler"]=Z,Z.__name__="openfl.utils.AGALMiniAssembler",Z.init=function(){Z.initialized=!0;var e=Z.OPMAP,i=new hc("mov",2,0,0);null!=t.mov?e.setReserved("mov",i):e.h.mov=i;var s=Z.OPMAP,n=new hc("add",3,1,0);null!=t.add?s.setReserved("add",n):s.h.add=n;var o=Z.OPMAP,l=new hc("sub",3,2,0);null!=t.sub?o.setReserved("sub",l):o.h.sub=l;var _=Z.OPMAP,h=new hc("mul",3,3,0);null!=t.mul?_.setReserved("mul",h):_.h.mul=h;var m=Z.OPMAP,f=new hc("div",3,4,0);null!=t.div?m.setReserved("div",f):m.h.div=f;var y=Z.OPMAP,g=new hc("rcp",2,5,0);null!=t.rcp?y.setReserved("rcp",g):y.h.rcp=g;var j=Z.OPMAP,$=new hc("min",3,6,0);null!=t.min?j.setReserved("min",$):j.h.min=$;var yt=Z.OPMAP,_t=new hc("max",3,7,0);null!=t.max?yt.setReserved("max",_t):yt.h.max=_t;var xt=Z.OPMAP,Tt=new hc("frc",2,8,0);null!=t.frc?xt.setReserved("frc",Tt):xt.h.frc=Tt;var St=Z.OPMAP,Mt=new hc("sqt",2,9,0);null!=t.sqt?St.setReserved("sqt",Mt):St.h.sqt=Mt;var Et=Z.OPMAP,Ct=new hc("rsq",2,10,0);null!=t.rsq?Et.setReserved("rsq",Ct):Et.h.rsq=Ct;var Dt=Z.OPMAP,At=new hc("pow",3,11,0);null!=t.pow?Dt.setReserved("pow",At):Dt.h.pow=At;var Nt=Z.OPMAP,Ft=new hc("log",2,12,0);null!=t.log?Nt.setReserved("log",Ft):Nt.h.log=Ft;var Lt=Z.OPMAP,Ot=new hc("exp",2,13,0);null!=t.exp?Lt.setReserved("exp",Ot):Lt.h.exp=Ot;var Ht=Z.OPMAP,$t=new hc("nrm",2,14,0);null!=t.nrm?Ht.setReserved("nrm",$t):Ht.h.nrm=$t;var zt=Z.OPMAP,Jt=new hc("sin",2,15,0);null!=t.sin?zt.setReserved("sin",Jt):zt.h.sin=Jt;var Qt=Z.OPMAP,Kt=new hc("cos",2,16,0);null!=t.cos?Qt.setReserved("cos",Kt):Qt.h.cos=Kt;var _o=Z.OPMAP,Bt=new hc("crs",3,17,0);null!=t.crs?_o.setReserved("crs",Bt):_o.h.crs=Bt;var Xr=Z.OPMAP,_l=new hc("dp3",3,18,0);null!=t.dp3?Xr.setReserved("dp3",_l):Xr.h.dp3=_l;var _n=Z.OPMAP,_r=new hc("dp4",3,19,0);null!=t.dp4?_n.setReserved("dp4",_r):_n.h.dp4=_r;var _i=Z.OPMAP,_e=new hc("abs",2,20,0);null!=t.abs?_i.setReserved("abs",_e):_i.h.abs=_e;var Gt=Z.OPMAP,Vt=new hc("neg",2,21,0);null!=t.neg?Gt.setReserved("neg",Vt):Gt.h.neg=Vt;var n_=Z.OPMAP,Xa=new hc("sat",2,22,0);null!=t.sat?n_.setReserved("sat",Xa):n_.h.sat=Xa;var Yr=Z.OPMAP,he=new hc("m33",3,23,16);null!=t.m33?Yr.setReserved("m33",he):Yr.h.m33=he;var Pt=Z.OPMAP,Yt=new hc("m44",3,24,16);null!=t.m44?Pt.setReserved("m44",Yt):Pt.h.m44=Yt;var It=Z.OPMAP,Rt=new hc("m34",3,25,16);null!=t.m34?It.setReserved("m34",Rt):It.h.m34=Rt;var Ut=Z.OPMAP,Wt=new hc("ddx",2,26,288);null!=t.ddx?Ut.setReserved("ddx",Wt):Ut.h.ddx=Wt;var Xt=Z.OPMAP,Zt=new hc("ddy",2,27,288);null!=t.ddy?Xt.setReserved("ddy",Zt):Xt.h.ddy=Zt;var _a=Z.OPMAP,_s=new hc("ife",2,28,897);null!=t.ife?_a.setReserved("ife",_s):_a.h.ife=_s;var t_=Z.OPMAP,e_=new hc("ine",2,29,897);null!=t.ine?t_.setReserved("ine",e_):t_.h.ine=e_;var r_=Z.OPMAP,ga=new hc("ifg",2,30,897);null!=t.ifg?r_.setReserved("ifg",ga):r_.h.ifg=ga;var c_=Z.OPMAP,k_=new hc("ifl",2,31,897);null!=t.ifl?c_.setReserved("ifl",k_):c_.h.ifl=k_;var p_=Z.OPMAP,d_=new hc("els",0,32,1921);null!=t.els?p_.setReserved("els",d_):p_.h.els=d_;var K_=Z.OPMAP,J_=new hc("eif",0,33,1409);null!=t.eif?K_.setReserved("eif",J_):K_.h.eif=J_;var F_=Z.OPMAP,N_=new hc("kil",1,39,160);null!=t.kil?F_.setReserved("kil",N_):F_.h.kil=N_;var Q_=Z.OPMAP,g_=new hc("tex",3,40,40);null!=t.tex?Q_.setReserved("tex",g_):Q_.h.tex=g_;var I_=Z.OPMAP,h_=new hc("sge",3,41,0);null!=t.sge?I_.setReserved("sge",h_):I_.h.sge=h_;var b_=Z.OPMAP,m_=new hc("slt",3,42,0);null!=t.slt?b_.setReserved("slt",m_):b_.h.slt=m_;var S_=Z.OPMAP,P_=new hc("sgn",2,43,0);null!=t.sgn?S_.setReserved("sgn",P_):S_.h.sgn=P_;var $_=Z.OPMAP,U_=new hc("seq",3,44,0);null!=t.seq?$_.setReserved("seq",U_):$_.h.seq=U_;var th=Z.OPMAP,_h=new hc("sne",3,45,0);null!=t.sne?th.setReserved("sne",_h):th.h.sne=_h;var V_=Z.SAMPLEMAP,tu=new ld("rgba",8,0);null!=t.rgba?V_.setReserved("rgba",tu):V_.h.rgba=tu;var M_=Z.SAMPLEMAP,X_=new ld("compressed",8,1);null!=t.compressed?M_.setReserved("compressed",X_):M_.h.compressed=X_;var Z_=Z.SAMPLEMAP,q_=new ld("compressedalpha",8,2);null!=t.compressedalpha?Z_.setReserved("compressedalpha",q_):Z_.h.compressedalpha=q_;var G_=Z.SAMPLEMAP,D_=new ld("dxt1",8,1);null!=t.dxt1?G_.setReserved("dxt1",D_):G_.h.dxt1=D_;var W_=Z.SAMPLEMAP,H_=new ld("dxt5",8,2);null!=t.dxt5?W_.setReserved("dxt5",H_):W_.h.dxt5=H_;var eu=Z.SAMPLEMAP,L_=new ld("video",8,3);null!=t.video?eu.setReserved("video",L_):eu.h.video=L_;var C_=Z.SAMPLEMAP,y_=new ld("2d",12,0);null!=t["2d"]?C_.setReserved("2d",y_):C_.h["2d"]=y_;var R_=Z.SAMPLEMAP,u_=new ld("3d",12,2);null!=t["3d"]?R_.setReserved("3d",u_):R_.h["3d"]=u_;var x_=Z.SAMPLEMAP,v_=new ld("cube",12,1);null!=t.cube?x_.setReserved("cube",v_):x_.h.cube=v_;var E_=Z.SAMPLEMAP,A_=new ld("mipnearest",24,1);null!=t.mipnearest?E_.setReserved("mipnearest",A_):E_.h.mipnearest=A_;var s_=Z.SAMPLEMAP,o_=new ld("miplinear",24,2);null!=t.miplinear?s_.setReserved("miplinear",o_):s_.h.miplinear=o_;var l_=Z.SAMPLEMAP,a_=new ld("mipnone",24,0);null!=t.mipnone?l_.setReserved("mipnone",a_):l_.h.mipnone=a_;var __=Z.SAMPLEMAP,w_=new ld("nomip",24,0);null!=t.nomip?__.setReserved("nomip",w_):__.h.nomip=w_;var Y_=Z.SAMPLEMAP,B_=new ld("nearest",28,0);null!=t.nearest?Y_.setReserved("nearest",B_):Y_.h.nearest=B_;var O_=Z.SAMPLEMAP,ru=new ld("linear",28,1);null!=t.linear?O_.setReserved("linear",ru):O_.h.linear=ru;var au=Z.SAMPLEMAP,iu=new ld("anisotropic2x",28,2);null!=t.anisotropic2x?au.setReserved("anisotropic2x",iu):au.h.anisotropic2x=iu;var j_=Z.SAMPLEMAP,f_=new ld("anisotropic4x",28,3);null!=t.anisotropic4x?j_.setReserved("anisotropic4x",f_):j_.h.anisotropic4x=f_;var i_=Z.SAMPLEMAP,su=new ld("anisotropic8x",28,4);null!=t.anisotropic8x?i_.setReserved("anisotropic8x",su):i_.h.anisotropic8x=su;var ou=Z.SAMPLEMAP,nu=new ld("anisotropic16x",28,5);null!=t.anisotropic16x?ou.setReserved("anisotropic16x",nu):ou.h.anisotropic16x=nu;var z_=Z.SAMPLEMAP,T_=new ld("centroid",16,1);null!=t.centroid?z_.setReserved("centroid",T_):z_.h.centroid=T_;var _u=Z.SAMPLEMAP,cu=new ld("single",16,2);null!=t.single?_u.setReserved("single",cu):_u.h.single=cu;var hu=Z.SAMPLEMAP,lu=new ld("ignoresampler",16,4);null!=t.ignoresampler?hu.setReserved("ignoresampler",lu):hu.h.ignoresampler=lu;var uu=Z.SAMPLEMAP,du=new ld("repeat",20,1);null!=t.repeat?uu.setReserved("repeat",du):uu.h.repeat=du;var fu=Z.SAMPLEMAP,pu=new ld("wrap",20,1);null!=t.wrap?fu.setReserved("wrap",pu):fu.h.wrap=pu;var vu=Z.SAMPLEMAP,wu=new ld("clamp",20,0);null!=t.clamp?vu.setReserved("clamp",wu):vu.h.clamp=wu;var Tu=Z.SAMPLEMAP,Su=new ld("clamp_u_repeat_v",20,2);null!=t.clamp_u_repeat_v?Tu.setReserved("clamp_u_repeat_v",Su):Tu.h.clamp_u_repeat_v=Su;var gu=Z.SAMPLEMAP,Pu=new ld("repeat_u_clamp_v",20,3);null!=t.repeat_u_clamp_v?gu.setReserved("repeat_u_clamp_v",Pu):gu.h.repeat_u_clamp_v=Pu},Z.prototype={agalcode:null,error:null,verbose:null,debugEnabled:null,assemble2:function(e,i,s,n){return s=this.assemble("vertex",s,i),i=this.assemble("fragment",n,i),(e=e.createProgram()).upload(s,i),e},assemble:function(e,i,s,n){null==n&&(n=!1),null==s&&(s=1);var o=Ya.getTimer();this.agalcode=new vc(0),this.error="";var l=!1;"fragment"==e?l=!0:"vertex"!=e&&(this.error='ERROR: mode needs to be "fragment" or "vertex" but is "'+e+'".'),this.agalcode.__endian=1,this.agalcode.writeByte(160),this.agalcode.writeUnsignedInt(s),this.agalcode.writeByte(161),this.agalcode.writeByte(l?1:0),this.initregmap(s,n),e=aa.replace(i,"\r","\n").split("\n"),i=0,n=e.length;for(var _=new Ra("<.*>","g"),h=new Ra("([\\w\\.\\-\\+]+)","gi"),m=new Ra("^\\w{3}","ig"),f=new Ra("vc\\[([vofi][acostdip]?[d]?)(\\d*)?(\\.[xyzw](\\+\\d{1,3})?)?\\](\\.[xyzw]{1,4})?|([vofi][acostdip]?[d]?)(\\d*)?(\\.[xyzw]{1,4})?","gi"),y=new Ra("\\[.*\\]","ig"),g=new Ra("^\\b[A-Za-z]{1,3}","ig"),j=new Ra("\\d+",""),$=new Ra("(\\.[xyzw]{1,4})",""),yt=new Ra("[A-Za-z]{1,3}","ig"),_t=new Ra("(\\.[xyzw]{1,1})",""),xt=new Ra("\\+\\d{1,3}","ig"),Tt=0;Tt<n&&""==this.error;){var St=aa.trim(e[Tt]),Mt=St.indexOf("//");-1!=Mt&&(St=B.substr(St,0,Mt));var Et=_.match(St)?_.matchedPos().pos:-1;if(Mt=null,-1!=Et&&(Mt=this.match(B.substr(St,Et,null),h),St=B.substr(St,0,Et)),Et=null,m.match(St)){Et=m.matched(0);var Ct=Z.OPMAP;Et=null!=t[Et]?Ct.getReserved(Et):Ct.h[Et]}if(null==Et)3<=St.length&&Ua.warn("warning: bad line "+Tt+": "+e[Tt],{fileName:"openfl/utils/AGALMiniAssembler.hx",lineNumber:262,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"});else if(this.debugEnabled&&Ua.info(Et,{fileName:"openfl/utils/AGALMiniAssembler.hx",lineNumber:272,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"}),null==Et)3<=St.length&&Ua.warn("warning: bad line "+Tt+": "+e[Tt],{fileName:"openfl/utils/AGALMiniAssembler.hx",lineNumber:279,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"});else{if(St=B.substr(St,St.indexOf(Et.name)+Et.name.length,null),256&Et.flags&&2>s){this.error="error: opcode requires version 2.";break}if(64&Et.flags&&l){this.error="error: opcode is only allowed in vertex programs.";break}if(32&Et.flags&&!l){this.error="error: opcode is only allowed in fragment programs.";break}if(this.verbose&&Ua.info("emit opcode="+O.string(Et),{fileName:"openfl/utils/AGALMiniAssembler.hx",lineNumber:308,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"}),this.agalcode.writeUnsignedInt(Et.emitCode),4096<++i){this.error="error: too many opcodes. maximum is 4096.";break}if((Ct=this.match(St,f)).length!=Et.numRegister){this.error="error: wrong number of operands. found "+Ct.length+" but expected "+Et.numRegister+".";break}var Dt=!1;St=160;for(var At=0,Nt=Ct.length;At<Nt;){var Ft=At++,Lt=!1,Ot=this.match(Ct[Ft],y);0<Ot.length&&(Ct[Ft]=aa.replace(Ct[Ft],Ot[0],"0"),this.verbose&&Ua.info("IS REL",{fileName:"openfl/utils/AGALMiniAssembler.hx",lineNumber:344,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"}),Lt=!0);var Ht=this.match(Ct[Ft],g);if(0==Ht.length){this.error="error: could not parse operand "+Ft+" ("+Ct[Ft]+").",Dt=!0;break}var $t=Z.REGMAP;if(Ht=null!=t[Ht=Ht[0]]?$t.getReserved(Ht):$t.h[Ht],this.debugEnabled&&Ua.info(Ht,{fileName:"openfl/utils/AGALMiniAssembler.hx",lineNumber:363,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"}),null==Ht){this.error="error: could not find register name for operand "+Ft+" ("+Ct[Ft]+").",Dt=!0;break}if(l){if(!(32&Ht.flags)){this.error="error: register operand "+Ft+" ("+Ct[Ft]+") only allowed in vertex programs.",Dt=!0;break}if(Lt){this.error="error: register operand "+Ft+" ("+Ct[Ft]+") relative adressing not allowed in fragment programs.",Dt=!0;break}}else if(!(64&Ht.flags)){this.error="error: register operand "+Ft+" ("+Ct[Ft]+") only allowed in fragment programs.",Dt=!0;break}Ct[Ft]=B.substr(Ct[Ft],Ct[Ft].indexOf(Ht.name)+Ht.name.length,null);var zt=this.match(Lt?Ot[0]:Ct[Ft],j);if($t=0,0<zt.length&&($t=O.parseInt(zt[0])),Ga.gt($t,Ht.range)){this.error="error: register operand "+Ft+" ("+Ct[Ft]+") index exceeds limit of "+O.string(null==(Mt=Ht.range+1)?null:Ga.toFloat(Mt))+".",Dt=!0;break}var Jt=this.match(Ct[Ft],$),Qt=0==Ft&&0==(128&Et.flags),Kt=2==Ft&&0!=(8&Et.flags),_o=0,Bt=0,Xr=0;if(Qt&&Lt){this.error="error: relative can not be destination",Dt=!0;break}if(0<Jt.length){for(var _l=zt=0,_n=Jt[0].length,_r=1;_r<_n;)_l=B.cca(Jt[0],_r)-120,Ga.gt(_l,2)&&(_l=3),zt=Qt?zt|1<<_l:zt|_l<<(_r-1<<1),++_r;if(!Qt)for(;4>=_r;)zt|=_l<<(_r-1<<1),++_r}else zt=Qt?15:228;if(Lt){if(Jt=this.match(Ot[0],yt),_o=Z.REGMAP,null==(_o=null!=t[Bt=Jt[0]]?_o.getReserved(Bt):_o.h[Bt])){this.error="error: bad index register",Dt=!0;break}if(_o=_o.emitCode,0==(_l=this.match(Ot[0],_t)).length){this.error="error: bad index register select",Dt=!0;break}if(Bt=B.cca(_l[0],1)-120,Ga.gt(Bt,2)&&(Bt=3),0<(Ot=this.match(Ot[0],xt)).length&&(Xr=O.parseInt(Ot[0])),0>Xr||255<Xr){this.error="error: index offset "+Xr+" out of bounds. [0..255]",Dt=!0;break}this.verbose&&Ua.info("RELATIVE: type="+_o+"=="+Jt[0]+" sel="+O.string(null==Bt?null:Ga.toFloat(Bt))+"=="+_l[0]+" idx="+O.string(null==$t?null:Ga.toFloat($t))+" offset="+Xr,{fileName:"openfl/utils/AGALMiniAssembler.hx",lineNumber:518,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"})}if(this.verbose&&Ua.info("  emit argcode="+O.string(Ht)+"["+O.string(null==$t?null:Ga.toFloat($t))+"]["+zt+"]",{fileName:"openfl/utils/AGALMiniAssembler.hx",lineNumber:525,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"}),Qt)this.agalcode.writeShort($t),this.agalcode.writeByte(zt),this.agalcode.writeByte(Ht.emitCode),St-=32;else{if(Kt){for(this.verbose&&Ua.info("  emit sampler",{fileName:"openfl/utils/AGALMiniAssembler.hx",lineNumber:541,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"}),Ft=5,Ot=Lt=0,Ht=null==Mt?0:Mt.length;Ot<Ht;)zt=Ot++,this.verbose&&Ua.info("    opt: "+Mt[zt],{fileName:"openfl/utils/AGALMiniAssembler.hx",lineNumber:552,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"}),Qt=Z.SAMPLEMAP,null==(Qt=null!=t[Kt=Mt[zt]]?Qt.getReserved(Kt):Qt.h[Kt])?(Lt=parseFloat(Mt[zt]),this.verbose&&Ua.info("    bias: "+Lt,{fileName:"openfl/utils/AGALMiniAssembler.hx",lineNumber:565,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"})):(16!=Qt.flag&&(Ft&=~(15<<Qt.flag)),Ft|=Qt.mask<<Qt.flag);this.agalcode.writeShort($t),this.agalcode.writeByte(8*Lt|0),this.agalcode.writeByte(0),this.agalcode.writeUnsignedInt(Ft),this.verbose&&Ua.info("    bits: "+(Ft-5),{fileName:"openfl/utils/AGALMiniAssembler.hx",lineNumber:586,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"})}else 0==Ft&&(this.agalcode.writeUnsignedInt(0),St-=32),this.agalcode.writeShort($t),this.agalcode.writeByte(Xr),this.agalcode.writeByte(zt),this.agalcode.writeByte(Ht.emitCode),this.agalcode.writeByte(_o),this.agalcode.writeShort(Lt?32768|Bt:0);St-=64}}for(Mt=0;Mt<St;)this.agalcode.writeByte(0),Mt+=8;if(Dt)break}++Tt}if(""!=this.error&&(this.error+="\n  at line "+Tt+" "+e[Tt],ta.set_length(this.agalcode,0),Ua.info(this.error,{fileName:"openfl/utils/AGALMiniAssembler.hx",lineNumber:631,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"})),this.debugEnabled){for(s="generated bytecode:",l=0,e=ta.get_length(this.agalcode);l<e;)(i=l++)%16==0&&(s+="\n"),i%4==0&&(s+=" "),2>(i=aa.hex(this.agalcode.b[i],2)).length&&(i="0"+i),s+=i;Ua.info(s,{fileName:"openfl/utils/AGALMiniAssembler.hx",lineNumber:662,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"})}return this.verbose&&Ua.info("AGALMiniAssembler.assemble time: "+(Ya.getTimer()-o)/1e3+"s",{fileName:"openfl/utils/AGALMiniAssembler.hx",lineNumber:667,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"}),this.agalcode},initregmap:function(e,i){var s=Z.REGMAP,n=new Nf("va","vertex attribute",0,i?1024:1==e||2==e?7:15,66);null!=t.va?s.setReserved("va",n):s.h.va=n,s=Z.REGMAP,n=new Nf("vc","vertex constant",1,i?1024:1==e?127:249,66),null!=t.vc?s.setReserved("vc",n):s.h.vc=n,s=Z.REGMAP,n=new Nf("vt","vertex temporary",2,i?1024:1==e?7:25,67),null!=t.vt?s.setReserved("vt",n):s.h.vt=n,s=Z.REGMAP,n=new Nf("vo","vertex output",3,i?1024:0,65),null!=t.vo?s.setReserved("vo",n):s.h.vo=n,s=Z.REGMAP,n=new Nf("vi","varying",4,i?1024:1==e?7:9,99),null!=t.vi?s.setReserved("vi",n):s.h.vi=n,s=Z.REGMAP,n=new Nf("fc","fragment constant",1,i?1024:1==e?27:2==e?63:199,34),null!=t.fc?s.setReserved("fc",n):s.h.fc=n,s=Z.REGMAP,n=new Nf("ft","fragment temporary",2,i?1024:1==e?7:25,35),null!=t.ft?s.setReserved("ft",n):s.h.ft=n,s=Z.REGMAP,n=new Nf("fs","texture sampler",5,i?1024:7,34),null!=t.fs?s.setReserved("fs",n):s.h.fs=n,s=Z.REGMAP,n=new Nf("fo","fragment output",3,i?1024:1==e?0:3,33),null!=t.fo?s.setReserved("fo",n):s.h.fo=n,s=Z.REGMAP,e=new Nf("fd","fragment depth output",6,i?1024:1==e?-1:0,33),null!=t.fd?s.setReserved("fd",e):s.h.fd=e,e=Z.REGMAP,i=new Nf("iid","instance id",7,i?1024:0,66),null!=t.iid?e.setReserved("iid",i):e.h.iid=i,e=i=Z.REGMAP,e=null!=t.vo?e.getReserved("vo"):e.h.vo,null!=t.op?i.setReserved("op",e):i.h.op=e,e=i=Z.REGMAP,e=null!=t.vi?e.getReserved("vi"):e.h.vi,null!=t.i?i.setReserved("i",e):i.h.i=e,e=i=Z.REGMAP,e=null!=t.vi?e.getReserved("vi"):e.h.vi,null!=t.v?i.setReserved("v",e):i.h.v=e,e=i=Z.REGMAP,e=null!=t.fo?e.getReserved("fo"):e.h.fo,null!=t.oc?i.setReserved("oc",e):i.h.oc=e,e=i=Z.REGMAP,e=null!=t.fd?e.getReserved("fd"):e.h.fd,null!=t.od?i.setReserved("od",e):i.h.od=e,e=i=Z.REGMAP,e=null!=t.vi?e.getReserved("vi"):e.h.vi,null!=t.fi?i.setReserved("fi",e):i.h.fi=e},match:function(e,i){for(var s=[],n=0;i.matchSub(e,n);)n=i.matched(0),s.push(n),n=i.matchedPos().pos+n.length;return s},__class__:Z};var hc=function(e,i,s,n){this.name=e,this.numRegister=i,this.emitCode=s,this.flags=n};k["openfl.utils._AGALMiniAssembler.OpCode"]=hc,hc.__name__="openfl.utils._AGALMiniAssembler.OpCode",hc.prototype={emitCode:null,flags:null,name:null,numRegister:null,toString:function(){return'[OpCode name="'+this.name+'", numRegister='+this.numRegister+", emitCode="+this.emitCode+", flags="+this.flags+"]"},__class__:hc};var Nf=function(e,i,s,n,o){this.name=e,this.longName=i,this.emitCode=s,this.range=n,this.flags=o};k["openfl.utils._AGALMiniAssembler.Register"]=Nf,Nf.__name__="openfl.utils._AGALMiniAssembler.Register",Nf.prototype={emitCode:null,name:null,longName:null,flags:null,range:null,toString:function(){var e=this.emitCode;e='[Register name="'+this.name+'", longName="'+this.longName+'", emitCode='+O.string(null==e?null:Ga.toFloat(e))+", range=";var i=this.range;return(e=e+O.string(null==i?null:Ga.toFloat(i))+", flags=")+O.string(null==(i=this.flags)?null:Ga.toFloat(i))+"]"},__class__:Nf};var ld=function(e,i,s){this.name=e,this.flag=i,this.mask=s};k["openfl.utils._AGALMiniAssembler.Sampler"]=ld,ld.__name__="openfl.utils._AGALMiniAssembler.Sampler",ld.prototype={flag:null,mask:null,name:null,toString:function(){var e=this.flag;e='[Sampler name="'+this.name+'", flag="'+O.string(null==e?null:Ga.toFloat(e))+'", mask=';var i=this.mask;return e+O.string(null==i?null:Ga.toFloat(i))+"]"},__class__:ld};var xp=function(){};k["openfl.utils.IAssetCache"]=xp,xp.__name__="openfl.utils.IAssetCache",xp.__isInterface__=!0,xp.prototype={get_enabled:null,set_enabled:null,clear:null,getBitmapData:null,getFont:null,getSound:null,hasBitmapData:null,hasFont:null,hasSound:null,removeBitmapData:null,removeFont:null,removeSound:null,setBitmapData:null,setFont:null,setSound:null,__class__:xp,__properties__:{set_enabled:"set_enabled",get_enabled:"get_enabled"}};var yp=function(){this.__enabled=!0,this.bitmapData=new va,this.font=new va,this.sound=new va};k["openfl.utils.AssetCache"]=yp,yp.__name__="openfl.utils.AssetCache",yp.__interfaces__=[xp],yp.prototype={bitmapData:null,font:null,sound:null,__enabled:null,clear:function(e){if(null==e)this.bitmapData=new va,this.font=new va,this.sound=new va;else{for(var i=this.bitmapData.keys();i.hasNext();){var s=i.next();aa.startsWith(s,e)&&this.removeBitmapData(s)}for(i=this.font.keys();i.hasNext();)s=i.next(),aa.startsWith(s,e)&&this.removeFont(s);for(i=this.sound.keys();i.hasNext();)s=i.next(),aa.startsWith(s,e)&&this.removeSound(s)}},getBitmapData:function(e){var i=this.bitmapData;return null!=t[e]?i.getReserved(e):i.h[e]},getFont:function(e){var i=this.font;return null!=t[e]?i.getReserved(e):i.h[e]},getSound:function(e){var i=this.sound;return null!=t[e]?i.getReserved(e):i.h[e]},hasBitmapData:function(e){var i=this.bitmapData;return null!=t[e]?i.existsReserved(e):i.h.hasOwnProperty(e)},hasFont:function(e){var i=this.font;return null!=t[e]?i.existsReserved(e):i.h.hasOwnProperty(e)},hasSound:function(e){var i=this.sound;return null!=t[e]?i.existsReserved(e):i.h.hasOwnProperty(e)},removeBitmapData:function(e){return wa.cache.image.remove(e),this.bitmapData.remove(e)},removeFont:function(e){return wa.cache.font.remove(e),this.font.remove(e)},removeSound:function(e){return wa.cache.audio.remove(e),this.sound.remove(e)},setBitmapData:function(e,i){var s=this.bitmapData;null!=t[e]?s.setReserved(e,i):s.h[e]=i},setFont:function(e,i){var s=this.font;null!=t[e]?s.setReserved(e,i):s.h[e]=i},setSound:function(e,i){var s=this.sound;null!=t[e]?s.setReserved(e,i):s.h[e]=i},get_enabled:function(){return this.__enabled},set_enabled:function(e){return this.__enabled=e},__class__:yp,__properties__:{set_enabled:"set_enabled",get_enabled:"get_enabled"}};var Ba=function(){};k["openfl.utils.Assets"]=Ba,Ba.__name__="openfl.utils.Assets",Ba.addEventListener=function(e,i,s,n,o){null==o&&(o=!1),null==n&&(n=0),null==s&&(s=!1),wa.onChange.has(Ba.LimeAssets_onChange)||wa.onChange.add(Ba.LimeAssets_onChange),Ba.dispatcher.addEventListener(e,i,s,n,o)},Ba.dispatchEvent=function(e){return Ba.dispatcher.dispatchEvent(e)},Ba.exists=function(e,i){return wa.exists(e,i)},Ba.getBitmapData=function(e,i){if(null==i&&(i=!0),i&&Ba.cache.get_enabled()&&Ba.cache.hasBitmapData(e)){var s=Ba.cache.getBitmapData(e);if(Ba.isValidBitmapData(s))return s}return null!=(s=wa.getImage(e,!1))?(s=pa.fromImage(s),i&&Ba.cache.get_enabled()&&Ba.cache.setBitmapData(e,s),s):null},Ba.getBytes=function(e){return ta.fromBytes(wa.getBytes(e))},Ba.getFont=function(e,i){if(null==i&&(i=!0),i&&Ba.cache.get_enabled()&&Ba.cache.hasFont(e))return Ba.cache.getFont(e);var s=wa.getFont(e,!1);if(null!=s){var n=new Ac;return n.__fromLimeFont(s),i&&Ba.cache.get_enabled()&&Ba.cache.setFont(e,n),n}return new Ac},Ba.getLibrary=function(e){return wa.getLibrary(e)},Ba.getMovieClip=function(e){var i=e.substring(0,e.indexOf(":")),s=B.substr(e,e.indexOf(":")+1,null),n=Ba.getLibrary(i);if(null!=n){if(n instanceof kc&&n.exists(s,"MOVIE_CLIP"))return n.isLocal(s,"MOVIE_CLIP")?n.getMovieClip(s):(Ua.error('MovieClip asset "'+e+'" exists, but only asynchronously',{fileName:"openfl/utils/Assets.hx",lineNumber:207,className:"openfl.utils.Assets",methodName:"getMovieClip"}),null);Ua.error('There is no MovieClip asset with an ID of "'+e+'"',{fileName:"openfl/utils/Assets.hx",lineNumber:213,className:"openfl.utils.Assets",methodName:"getMovieClip"})}else Ua.error('There is no asset library named "'+i+'"',{fileName:"openfl/utils/Assets.hx",lineNumber:217,className:"openfl.utils.Assets",methodName:"getMovieClip"});return null},Ba.getMusic=function(e,i){return null==i&&(i=!0),Ba.getSound(e,i)},Ba.getPath=function(e){return wa.getPath(e)},Ba.getSound=function(e,i){if(null==i&&(i=!0),i&&Ba.cache.get_enabled()&&Ba.cache.hasSound(e)){var s=Ba.cache.getSound(e);if(Ba.isValidSound(s))return s}return null!=(s=wa.getAudioBuffer(e,!1))?(s=Yf.fromAudioBuffer(s),i&&Ba.cache.get_enabled()&&Ba.cache.setSound(e,s),s):null},Ba.getText=function(e){return wa.getText(e)},Ba.hasEventListener=function(e){return Ba.dispatcher.hasEventListener(e)},Ba.hasLibrary=function(e){return wa.hasLibrary(e)},Ba.isLocal=function(e,i,s){return null==s&&(s=!0),!!(s&&Ba.cache.get_enabled()&&(("IMAGE"==i||null==i)&&Ba.cache.hasBitmapData(e)||("FONT"==i||null==i)&&Ba.cache.hasFont(e)||("SOUND"==i||"MUSIC"==i||null==i)&&Ba.cache.hasSound(e)))||(s=e.substring(0,e.indexOf(":")),e=B.substr(e,e.indexOf(":")+1,null),null!=(s=Ba.getLibrary(s))&&s.isLocal(e,i))},Ba.isValidBitmapData=function(e){return null!=e&&null!=e.image},Ba.isValidSound=function(e){return!0},Ba.list=function(e){return wa.list(e)},Ba.loadBitmapData=function(e,i){null==i&&(i=!0),null==i&&(i=!0);var s=new Sd;if(i&&Ba.cache.get_enabled()&&Ba.cache.hasBitmapData(e)){var n=Ba.cache.getBitmapData(e);if(Ba.isValidBitmapData(n))return s.complete(n),s.future}return wa.loadImage(e,!1).onComplete(function(o){null!=o?(o=pa.fromImage(o),i&&Ba.cache.get_enabled()&&Ba.cache.setBitmapData(e,o),s.complete(o)):s.error('[Assets] Could not load Image "'+e+'"')}).onError(r(s,s.error)).onProgress(r(s,s.progress)),s.future},Ba.loadBytes=function(e){var i=new Sd;return(e=wa.loadBytes(e)).onComplete(function(s){i.complete(ta.fromBytes(s))}),e.onProgress(function(s,n){i.progress(s,n)}),e.onError(function(s){i.error(s)}),i.future},Ba.loadFont=function(e,i){null==i&&(i=!0),null==i&&(i=!0);var s=new Sd;if(i&&Ba.cache.get_enabled()&&Ba.cache.hasFont(e)){var n=Ba.cache.getFont(e);return s.complete(n),s.future}return wa.loadFont(e).onComplete(function(o){var l=new Ac;l.__fromLimeFont(o),i&&Ba.cache.get_enabled()&&Ba.cache.setFont(e,l),s.complete(l)}).onError(r(s,s.error)).onProgress(r(s,s.progress)),s.future},Ba.loadLibrary=function(e){return wa.loadLibrary(e).then(function(i){var s=null;return null!=i&&(i instanceof kc?s=i:((s=new kc).__proxy=i,wa.registerLibrary(e,s))),wb.withValue(s)})},Ba.loadMusic=function(e,i){return null==i&&(i=!0),null==i&&(i=!0),new wb(function(){return Ba.getMusic(e,i)})},Ba.loadMovieClip=function(e){var i=new Sd,s=e.substring(0,e.indexOf(":")),n=B.substr(e,e.indexOf(":")+1,null),o=Ba.getLibrary(s);if(null!=o){if(o instanceof kc&&o.exists(n,"MOVIE_CLIP"))return i.completeWith(o.loadMovieClip(n)),i.future;i.error('[Assets] There is no MovieClip asset with an ID of "'+e+'"')}else i.error('[Assets] There is no asset library named "'+s+'"');return i.future},Ba.loadSound=function(e,i){null==i&&(i=!0),null==i&&(i=!0);var s=new Sd;return wa.loadAudioBuffer(e,i).onComplete(function(n){null!=n?(n=Yf.fromAudioBuffer(n),i&&Ba.cache.get_enabled()&&Ba.cache.setSound(e,n),s.complete(n)):s.error('[Assets] Could not load Sound "'+e+'"')}).onError(r(s,s.error)).onProgress(r(s,s.progress)),s.future},Ba.loadText=function(e){return wa.loadText(e)},Ba.registerLibrary=function(e,i){wa.registerLibrary(e,i)},Ba.removeEventListener=function(e,i,s){null==s&&(s=!1),Ba.dispatcher.removeEventListener(e,i,s)},Ba.resolveClass=function(e){return k[e]},Ba.resolveEnum=function(e){return C[e]},Ba.unloadLibrary=function(e){wa.unloadLibrary(e)},Ba.LimeAssets_onChange=function(){Ba.dispatchEvent(new fa("change"))};var ta={};k["openfl.utils._ByteArray.ByteArray_Impl_"]=ta,ta.__name__="openfl.utils._ByteArray.ByteArray_Impl_",ta.__properties__={set_position:"set_position",get_position:"get_position",set_length:"set_length",get_length:"get_length",get_bytesAvailable:"get_bytesAvailable",set_defaultObjectEncoding:"set_defaultObjectEncoding",get_defaultObjectEncoding:"get_defaultObjectEncoding",set_defaultEndian:"set_defaultEndian",get_defaultEndian:"get_defaultEndian"},ta._new=function(e){return null==e&&(e=0),new vc(e)},ta.clear=function(e){e.clear()},ta.compress=function(e,i){e.compress(i)},ta.deflate=function(e){e.deflate()},ta.fromArrayBuffer=function(e){return null==e?null:vc.fromBytes(bb.ofData(e))},ta.fromBytes=function(e){return null==e?null:e instanceof vc?e:vc.fromBytes(e)},ta.fromBytesData=function(e){return null==e?null:vc.fromBytes(bb.ofData(e))},ta.fromFile=function(e){return ta.fromBytes(Rc.fromFile(e))},ta.fromLimeBytes=function(e){return ta.fromBytes(e)},ta.get=function(e,i){return e.b[i]},ta.inflate=function(e){e.inflate()},ta.loadFromBytes=function(e){return Rc.loadFromBytes(e).then(function(i){return i=ta.fromBytes(i),wb.withValue(i)})},ta.loadFromFile=function(e){return Rc.loadFromFile(e).then(function(i){return i=ta.fromBytes(i),wb.withValue(i)})},ta.readBoolean=function(e){return e.readBoolean()},ta.readByte=function(e){return e.readByte()},ta.readBytes=function(e,i,s,n){null==n&&(n=0),null==s&&(s=0),e.readBytes(i,s,n)},ta.readDouble=function(e){return e.readDouble()},ta.readFloat=function(e){return e.readFloat()},ta.readInt=function(e){return e.readInt()},ta.readMultiByte=function(e,i,s){return e.readMultiByte(i,s)},ta.readObject=function(e){return e.readObject()},ta.readShort=function(e){return e.readShort()},ta.readUTF=function(e){return e.readUTF()},ta.readUTFBytes=function(e,i){return e.readUTFBytes(i)},ta.readUnsignedByte=function(e){return e.readUnsignedByte()},ta.readUnsignedInt=function(e){return e.readUnsignedInt()},ta.readUnsignedShort=function(e){return e.readUnsignedShort()},ta.set=function(e,i,s){return e.__resize(i+1),e.b[i]=255&s,s},ta.toArrayBuffer=function(e){return e.b.bufferValue},ta.toBytePointer=function(e){return Je.set(ta.__bytePointer,e,null,null,e.position),ta.__bytePointer},ta.toBytes=function(e){return e},ta.toBytesData=function(e){return e.b.bufferValue},ta.toLimeBytes=function(e){return ta.toBytes(ta.fromBytes(ta.toBytes(e)))},ta.toString=function(e){return e.toString()},ta.uncompress=function(e,i){e.uncompress(i)},ta.writeBoolean=function(e,i){e.writeBoolean(i)},ta.writeByte=function(e,i){e.writeByte(i)},ta.writeBytes=function(e,i,s,n){null==n&&(n=0),null==s&&(s=0),e.writeBytes(i,s,n)},ta.writeDouble=function(e,i){e.writeDouble(i)},ta.writeFloat=function(e,i){e.writeFloat(i)},ta.writeInt=function(e,i){e.writeInt(i)},ta.writeMultiByte=function(e,i,s){e.writeMultiByte(i,s)},ta.writeObject=function(e,i){e.writeObject(i)},ta.writeShort=function(e,i){e.writeShort(i)},ta.writeUTF=function(e,i){e.writeUTF(i)},ta.writeUTFBytes=function(e,i){e.writeUTFBytes(i)},ta.writeUnsignedInt=function(e,i){e.writeUnsignedInt(i)},ta.get_bytesAvailable=function(e){return e.length-e.position},ta.get_defaultEndian=function(){return null==vc.__defaultEndian&&(vc.__defaultEndian=Na.get_endianness()==Oi.LITTLE_ENDIAN?1:0),vc.__defaultEndian},ta.set_defaultEndian=function(e){return vc.__defaultEndian=e},ta.get_defaultObjectEncoding=function(){return vc.defaultObjectEncoding},ta.set_defaultObjectEncoding=function(e){return vc.defaultObjectEncoding=e},ta.get_endian=function(e){return e.__endian},ta.set_endian=function(e,i){return e.__endian=i},ta.get_length=function(e){return null==e?0:e.length},ta.set_length=function(e,i){return 0<i&&(e.__resize(i),i<e.position&&(e.position=i)),e.length=i},ta.get_objectEncoding=function(e){return e.objectEncoding},ta.set_objectEncoding=function(e,i){return e.objectEncoding=i},ta.get_position=function(e){return e.position},ta.set_position=function(e,i){return e.position=i};var zp=function(){};k["openfl.utils.IDataOutput"]=zp,zp.__name__="openfl.utils.IDataOutput",zp.__isInterface__=!0,zp.prototype={get_endian:null,set_endian:null,objectEncoding:null,writeBoolean:null,writeByte:null,writeBytes:null,writeDouble:null,writeFloat:null,writeInt:null,writeMultiByte:null,writeObject:null,writeShort:null,writeUnsignedInt:null,writeUTF:null,writeUTFBytes:null,__class__:zp,__properties__:{set_endian:"set_endian",get_endian:"get_endian"}};var Ap=function(){};k["openfl.utils.IDataInput"]=Ap,Ap.__name__="openfl.utils.IDataInput",Ap.__isInterface__=!0,Ap.prototype={get_bytesAvailable:null,get_endian:null,set_endian:null,objectEncoding:null,readBoolean:null,readByte:null,readBytes:null,readDouble:null,readFloat:null,readInt:null,readMultiByte:null,readObject:null,readShort:null,readUnsignedByte:null,readUnsignedInt:null,readUnsignedShort:null,readUTF:null,readUTFBytes:null,__class__:Ap,__properties__:{set_endian:"set_endian",get_endian:"get_endian",get_bytesAvailable:"get_bytesAvailable"}};var vc=function(e){null==e&&(e=0);var i=new bb(new ArrayBuffer(e));bb.call(this,i.b.buffer),this.__length=e,null==vc.__defaultEndian&&(vc.__defaultEndian=Na.get_endianness()==Oi.LITTLE_ENDIAN?1:0),this.__endian=vc.__defaultEndian,this.objectEncoding=vc.defaultObjectEncoding,this.position=0};k["openfl.utils.ByteArrayData"]=vc,vc.__name__="openfl.utils.ByteArrayData",vc.__interfaces__=[zp,Ap],vc.__properties__={set_defaultEndian:"set_defaultEndian",get_defaultEndian:"get_defaultEndian"},vc.fromBytes=function(e){var i=new vc;return i.__fromBytes(e),i},vc.get_defaultEndian=function(){return null==vc.__defaultEndian&&(vc.__defaultEndian=Na.get_endianness()==Oi.LITTLE_ENDIAN?1:0),vc.__defaultEndian},vc.set_defaultEndian=function(e){return vc.__defaultEndian=e},vc.__super__=bb,vc.prototype=x(bb.prototype,{objectEncoding:null,position:null,__endian:null,__length:null,clear:function(){this.position=this.length=0},compress:function(e){if(null==e&&(e=2),this.__length>this.length){var i=this.length;this.length=this.__length;var s=new bb(new ArrayBuffer(i));s.blit(0,this,0,i),this.b=s.b,this.__length=s.length,this.data=s.data,this.length=i}switch(e){case 0:e=Rc.compress(this,ml.DEFLATE);break;case 1:e=Rc.compress(this,ml.LZMA);break;default:e=Rc.compress(this,ml.ZLIB)}null!=e&&(this.b=e.b,this.__length=e.length,this.data=e.data,this.position=this.length=this.__length)},deflate:function(){this.compress(0)},inflate:function(){this.uncompress(0)},readBoolean:function(){if(this.position<this.length)return 0!=this.b[this.position++];throw new E(new Lh)},readByte:function(){var e=this.readUnsignedByte();return 128&e?e-256:e},readBytes:function(e,i,s){if(null==s&&(s=0),null==i&&(i=0),0==s&&(s=this.length-this.position),this.position+s>this.length)throw new E(new Lh);e.length<i+s&&e.__resize(i+s),e.blit(i,this,this.position,s),this.position+=s},readDouble:function(){if(1==this.__endian){if(this.position+8>this.length)throw new E(new Lh);return this.position+=8,this.getDouble(this.position-8)}var e=this.readInt(),i=this.readInt();return re.i64ToDouble(i,e)},readFloat:function(){if(1==this.__endian){if(this.position+4>this.length)throw new E(new Lh);return this.position+=4,this.getFloat(this.position-4)}return re.i32ToFloat(this.readInt())},readInt:function(){var e=this.readUnsignedByte(),i=this.readUnsignedByte(),s=this.readUnsignedByte(),n=this.readUnsignedByte();return 1==this.__endian?n<<24|s<<16|i<<8|e:e<<24|i<<16|s<<8|n},readMultiByte:function(e,i){return this.readUTFBytes(e)},readObject:function(){switch(this.objectEncoding){case 10:var e=this.readUTF();return Ue.run(e);case 12:return e=this.readUTF(),JSON.parse(e);default:return null}},readShort:function(){var e=this.readUnsignedByte(),i=this.readUnsignedByte();return 32768&(e=1==this.__endian?i<<8|e:e<<8|i)?e-65536:e},readUnsignedByte:function(){if(this.position<this.length)return this.b[this.position++];throw new E(new Lh)},readUnsignedInt:function(){var e=this.readUnsignedByte(),i=this.readUnsignedByte(),s=this.readUnsignedByte(),n=this.readUnsignedByte();return 1==this.__endian?n<<24|s<<16|i<<8|e:e<<24|i<<16|s<<8|n},readUnsignedShort:function(){var e=this.readUnsignedByte(),i=this.readUnsignedByte();return 1==this.__endian?(i<<8)+e:e<<8|i},readUTF:function(){var e=this.readUnsignedShort();return this.readUTFBytes(e)},readUTFBytes:function(e){if(this.position+e>this.length)throw new E(new Lh);return this.position+=e,this.getString(this.position-e,e)},uncompress:function(e){if(null==e&&(e=2),this.__length>this.length){var i=this.length;this.length=this.__length;var s=new bb(new ArrayBuffer(i));s.blit(0,this,0,i),this.b=s.b,this.__length=s.length,this.data=s.data,this.length=i}switch(e){case 0:e=Rc.decompress(this,ml.DEFLATE);break;case 1:e=Rc.decompress(this,ml.LZMA);break;default:e=Rc.decompress(this,ml.ZLIB)}null!=e&&(this.b=e.b,this.__length=e.length,this.data=e.data,this.length=this.__length),this.position=0},writeBoolean:function(e){this.writeByte(e?1:0)},writeByte:function(e){this.__resize(this.position+1),this.b[this.position++]=255&e},writeBytes:function(e,i,s){null==s&&(s=0),null==i&&(i=0),0!=ta.get_length(e)&&(0==s&&(s=ta.get_length(e)-i),this.__resize(this.position+s),this.blit(this.position,e,i,s),this.position+=s)},writeDouble:function(e){e=re.doubleToI64(e),1==this.__endian?(this.writeInt(e.low),this.writeInt(e.high)):(this.writeInt(e.high),this.writeInt(e.low))},writeFloat:function(e){1==this.__endian?(this.__resize(this.position+4),this.setFloat(this.position,e),this.position+=4):(e=re.floatToI32(e),this.writeInt(e))},writeInt:function(e){this.__resize(this.position+4),1==this.__endian?(this.b[this.position++]=255&e,this.b[this.position++]=e>>8&255,this.b[this.position++]=e>>16&255,this.b[this.position++]=e>>24&255):(this.b[this.position++]=e>>24&255,this.b[this.position++]=e>>16&255,this.b[this.position++]=e>>8&255,this.b[this.position++]=255&e)},writeMultiByte:function(e,i){this.writeUTFBytes(e)},writeObject:function(e){switch(this.objectEncoding){case 10:e=Me.run(e),this.writeUTF(e);break;case 12:e=JSON.stringify(e),this.writeUTF(e)}},writeShort:function(e){this.__resize(this.position+2),1==this.__endian?(this.b[this.position++]=255&e,this.b[this.position++]=e>>8&255):(this.b[this.position++]=e>>8&255,this.b[this.position++]=255&e)},writeUnsignedInt:function(e){this.writeInt(e)},writeUTF:function(e){e=bb.ofString(e),this.writeShort(e.length),this.writeBytes(ta.fromBytes(e))},writeUTFBytes:function(e){e=bb.ofString(e),this.writeBytes(ta.fromBytes(e))},__fromBytes:function(e){this.b=e.b,this.__length=e.length,this.data=e.data,this.length=e.length},__resize:function(e){if(e>this.__length){var i=new bb(new ArrayBuffer(3*(e+1)>>1));if(0<this.__length){var s=this.length;this.length=this.__length,i.blit(0,this,0,this.__length),this.length=s}this.b=i.b,this.__length=i.length,this.data=i.data}this.length<e&&(this.length=e)},__setData:function(e){this.b=e.b,this.__length=e.length,this.data=e.data},get_bytesAvailable:function(){return this.length-this.position},get_endian:function(){return this.__endian},set_endian:function(e){return this.__endian=e},__class__:vc,__properties__:{set_endian:"set_endian",get_endian:"get_endian",get_bytesAvailable:"get_bytesAvailable"}});var Xl={};k["openfl.utils._CompressionAlgorithm.CompressionAlgorithm_Impl_"]=Xl,Xl.__name__="openfl.utils._CompressionAlgorithm.CompressionAlgorithm_Impl_",Xl.fromString=function(e){switch(e){case"deflate":return 0;case"lzma":return 1;case"zlib":return 2;default:return null}},Xl.toString=function(e){switch(e){case 0:return"deflate";case 1:return"lzma";case 2:return"zlib";default:return null}};var Fe={};k["openfl.utils._Dictionary.Dictionary_Impl_"]=Fe,Fe.__name__="openfl.utils._Dictionary.Dictionary_Impl_",Fe.exists=function(e,i){return e.exists(i)},Fe.get=function(e,i){return e.get(i)},Fe.keyValueIterator=function(e){return e.keyValueIterator()},Fe.remove=function(e,i){return e.remove(i)},Fe.set=function(e,i,s){return e.set(i,s),s},Fe.iterator=function(e){return e.keys()},Fe.each=function(e){return e.iterator()},Fe.toStringMap=function(e,i){return new va},Fe.toIntMap=function(e,i){return new Va},Fe.toFloatMap=function(e,i){return new vk},Fe.toEnumValueMapMap=function(e,i){return new Cj},Fe.toObjectMap=function(e,i){return new Aa},Fe.toUtilsObjectMap=function(e,i){return new wk},Fe.toClassMap=function(e,i){return new xk},Fe.fromStringMap=function(e){return e},Fe.fromIntMap=function(e){return e},Fe.fromFloatMap=function(e){return e},Fe.fromObjectMap=function(e){return e},Fe.fromUtilsObjectMap=function(e){return e},Fe.fromClassMap=function(e){return e};var xk=function(){this.types=new va,this.values=new va};k["openfl.utils._Dictionary.ClassMap"]=xk,xk.__name__="openfl.utils._Dictionary.ClassMap",xk.__interfaces__=[Gb],xk.prototype={types:null,values:null,clear:function(){var e=this.types;e.h={},e.rh=null,(e=this.values).h={},e.rh=null},copy:function(){for(var e=new xk,i=this.keys();i.hasNext();){var s=i.next();e.set(s,this.get(s))}return e},exists:function(e){var i=this.types;return null!=t[e=e.__name__]?i.existsReserved(e):i.h.hasOwnProperty(e)},get:function(e){var i=this.values;return null!=t[e=e.__name__]?i.getReserved(e):i.h[e]},keyValueIterator:function(){return new rh(this)},keys:function(){var e=this.types;return new bf(e,e.arrayKeys())},iterator:function(){var e=this.values;return new bf(e,e.arrayKeys())},remove:function(e){return!!this.types.remove(e=e.__name__)||this.values.remove(e)},set:function(e,i){var s=e.__name__,n=this.types;null!=t[s]?n.setReserved(s,e):n.h[s]=e,e=this.values,null!=t[s]?e.setReserved(s,i):e.h[s]=i},toString:function(){return this.values.toString()},__class__:xk};var vk=function(){this.floatKeys=[],this.values=[]};k["openfl.utils._Dictionary.FloatMap"]=vk,vk.__name__="openfl.utils._Dictionary.FloatMap",vk.__interfaces__=[Gb],vk.prototype={floatKeys:null,values:null,clear:function(){this.floatKeys=[],this.values=[]},copy:function(){for(var e=new vk,i=this.keys();i.hasNext();){var s=i.next();e.set(s,this.get(s))}return e},exists:function(e){return-1<this.indexOf(e)},get:function(e){return-1<(e=this.indexOf(e))?this.values[e]:null},keyValueIterator:function(){return new rh(this)},keys:function(){return B.iter(this.floatKeys.slice())},iterator:function(){return B.iter(this.values.slice())},remove:function(e){return-1<(e=this.indexOf(e))&&(this.floatKeys.splice(e,1),this.values.splice(e,1),!0)},set:function(e,i){this.insertSorted(e,i)},indexOf:function(e){var i=this.floatKeys.length,s=0,n=i-1;if(0==i)return-1;for(;s<n;){if(i=Math.floor((s+n)/2),this.floatKeys[i]==e)return i;this.floatKeys[i]>e?n=i-1:s=i+1}return this.floatKeys[s]==e?s:-1},insertSorted:function(e,i){var s=this.floatKeys.length,n=0,o=s-1;if(0==s)this.floatKeys.push(e),this.values.push(i);else{for(;n<o;){if(s=Math.floor((n+o)/2),this.floatKeys[s]==e)return void(this.values[s]=i);this.floatKeys[s]>e?o=s-1:n=s+1}this.floatKeys[n]>e?(this.floatKeys.splice(n,0,e),this.values.splice(n,0,i)):this.floatKeys[n]<e?(this.floatKeys.splice(n+1,0,e),this.values.splice(n+1,0,i)):this.values[n]=i}},toString:function(){return this.values.toString()},__class__:vk};var wk=function(){this.map=new Aa};k["openfl.utils._Dictionary.UtilsObjectMap"]=wk,wk.__name__="openfl.utils._Dictionary.UtilsObjectMap",wk.__interfaces__=[Gb],wk.prototype={map:null,clear:function(){this.map.h={__keys__:{}}},copy:function(){for(var e=new wk,i=this.keys();i.hasNext();){var s=i.next();e.set(s,this.get(s))}return e},exists:function(e){return null!=this.map.h.__keys__[e.__id__]},get:function(e){return this.map.h[e.__id__]},keyValueIterator:function(){return new rh(this)},keys:function(){return this.map.keys()},iterator:function(){return this.map.iterator()},remove:function(e){return this.map.remove(e)},set:function(e,i){this.map.set(e,i)},toString:function(){return this.map.toString()},__class__:wk};var $i={};k["openfl.utils._Endian.Endian_Impl_"]=$i,$i.__name__="openfl.utils._Endian.Endian_Impl_",$i.fromLimeEndian=function(e){switch(e._hx_index){case 0:return 1;case 1:return 0}},$i.fromString=function(e){switch(e){case"bigEndian":return 0;case"littleEndian":return 1;default:return null}},$i.toLimeEndian=function(e){switch(e){case 0:return Oi.BIG_ENDIAN;case 1:return Oi.LITTLE_ENDIAN;default:return null}},$i.toString=function(e){switch(e){case 0:return"bigEndian";case 1:return"littleEndian";default:return null}};var Og={};k["openfl.utils._Object.Object_Impl_"]=Og,Og.__name__="openfl.utils._Object.Object_Impl_",Og._new=function(){return{}},Og.hasOwnProperty=function(e,i){return null!=e&&Object.prototype.hasOwnProperty.call(e,i)},Og.isPrototypeOf=function(e,i){for(e=T.getClass(e);null!=e;){if(e==i)return!0;e=e.__super__}return!1},Og.iterator=function(e){return null==(e=X.fields(e))&&(e=[]),B.iter(e)},Og.propertyIsEnumerable=function(e,i){return!(null==e||!Object.prototype.hasOwnProperty.call(e,i))&&T.__implements(X.field(e,i),Yl)},Og.toLocaleString=function(e){return O.string(e)},Og.toString=function(e){return O.string(e)},Og.valueOf=function(e){return e},Og.__get=function(e,i){return X.field(e,i)},Og.__set=function(e,i,s){return e[i]=s};var Bp=function(){};k["haxe.lang.Iterator"]=Bp,Bp.__name__="haxe.lang.Iterator",Bp.__isInterface__=!0,Bp.prototype={hasNext:null,next:null,__class__:Bp};var Yl=function(){};k["haxe.lang.Iterable"]=Yl,Yl.__name__="haxe.lang.Iterable",Yl.__isInterface__=!0,Yl.prototype={iterator:null,__class__:Yl};var Pg=function(){};k["polygonal.ds.Cloneable"]=Pg,Pg.__name__="polygonal.ds.Cloneable",Pg.__isInterface__=!0,Pg.prototype={clone:null,__class__:Pg};var Cp=function(){};k["polygonal.ds.Hashable"]=Cp,Cp.__name__="polygonal.ds.Hashable",Cp.__isInterface__=!0,Cp.prototype={key:null,__class__:Cp};var yk=function(){};k["polygonal.ds.Collection"]=yk,yk.__name__="polygonal.ds.Collection",yk.__isInterface__=!0,yk.__interfaces__=[Cp],yk.prototype={get_size:null,free:null,contains:null,remove:null,clear:null,iterator:null,isEmpty:null,toArray:null,clone:null,__class__:yk,__properties__:{get_size:"get_size"}};var Qg=function(){};k["polygonal.ds.HashKey"]=Qg,Qg.__name__="polygonal.ds.HashKey",Qg.next=function(){return null==Qg._counter&&(Qg._counter=0),Ca._assert(Qg._counter<Qg._counter+1,"_counter < _counter + 1",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/HashKey.hx",lineNumber:44,className:"polygonal.ds.HashKey",methodName:"next"}),Qg._counter++};var hj=function(){};k["polygonal.ds.Map"]=hj,hj.__name__="polygonal.ds.Map",hj.__isInterface__=!0,hj.__interfaces__=[yk],hj.prototype={has:null,hasKey:null,get:null,set:null,unset:null,remap:null,toValSet:null,toKeySet:null,keys:null,__class__:hj};var Dp=function(e,i){null==i&&(i=-1),this.mTmpKeyBuffer=[],this.mTmpIntBuffer=[],this.mIterator=null,this.mFree=this.mSize=0,this.reuseIterator=!1,this.key=Qg.next(),Ca._assert(0<e,"slotCount > 0",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/HashTable.hx",lineNumber:158,className:"polygonal.ds.HashTable",methodName:"new"}),-1==i&&(i=e),this.mMinCapacity=this.capacity=2>i?2:i,this.mH=new Rg(e,this.capacity),this.mKeys=Array(this.capacity),this.mVals=Array(this.capacity),e=this.mNext=Array(this.capacity),i=0;for(var s=this.capacity-1;i<s;){var n=i++;e[n]=n+1}e[this.capacity-1]=-1};k["polygonal.ds.HashTable"]=Dp,Dp.__name__="polygonal.ds.HashTable",Dp.__interfaces__=[hj],Dp.prototype={key:null,capacity:null,get_loadFactor:function(){return this.mH.get_loadFactor()},get_slotCount:function(){return this.mH.slotCount},reuseIterator:null,get_growthRate:function(){return this.mH.growthRate},set_growthRate:function(e){return this.mH.growthRate=e},mH:null,mKeys:null,mVals:null,mNext:null,mFree:null,mSize:null,mMinCapacity:null,mIterator:null,mTmpIntBuffer:null,mTmpKeyBuffer:null,getCollisionCount:function(){return this.mH.getCollisionCount()},getFront:function(e){var i=this.mH,s=73856093*(e=e.key)&i.mMask,n=i.mHash[s];if(-1==n)i=-2147483648;else{var o=i.mData;if(o[n]==e)i=o[n+1];else{var l=-2147483648,_=n,h=_;for(n=o[n+2];-1!=n;){if(o[n]==e){l=o[n+1],o[h+2]=o[n+2],o[n+2]=_,i.mHash[s]=n;break}n=o[(h=n)+2]}i=l}}return-2147483648==i?null:this.mVals[i]},setIfAbsent:function(e,i){Ca._assert(null!=e,"key != null",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/HashTable.hx",lineNumber:210,className:"polygonal.ds.HashTable",methodName:"setIfAbsent"}),this.mSize==this.capacity&&this.grow();var s=this.mFree,n=this.mH,o=e.key;Ca._assert(-2147483648!=s,"val 0x80000000 is reserved(val != KEY_ABSENT)",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/IntIntHashTable.hx",lineNumber:291,className:"polygonal.ds.IntIntHashTable",methodName:"setIfAbsent"});var l=73856093*o&n.mMask,_=n.mData,h=n.mHash[l];if(-1==h)n.mSize==n.capacity&&(n.grow(),_=n.mData),h=3*n.mFree,n.mFree=n.mNext[n.mFree],n.mHash[l]=h,_[h]=o,_[h+1]=s,n.mSize++,n=!0;else if(_[h]==o)n=!1;else{for(l=_[h+2];-1!=l;){if(_[l]==o){h=-1;break}l=_[(h=l)+2]}-1==h?n=!1:(n.mSize==n.capacity&&(n.grow(),_=n.mData),l=3*n.mFree,n.mFree=n.mNext[n.mFree],_[h+2]=l,_[l]=o,_[l+1]=s,n.mSize++,n=!0)}return!!n&&(this.mVals[s]=i,this.mKeys[s]=e,this.mFree=this.mNext[s],this.mSize++,!0)},rehash:function(e){return this.mH.rehash(e),this},remap:function(e,i){Ca._assert(null!=e,"key != null",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/HashTable.hx",lineNumber:244,className:"polygonal.ds.HashTable",methodName:"remap"});var s=this.mH,n=s.mHash[73856093*(e=e.key)&s.mMask];if(-1==n)e=-2147483648;else if((s=s.mData)[n]==e)e=s[n+1];else{var o=-2147483648;for(n=s[n+2];-1!=n;){if(s[n]==e){o=s[n+1];break}n=s[n+2]}e=o}return-2147483648!=e&&(this.mVals[e]=i,!0)},toKeyArray:function(){if(0==this.mSize)return[];var e=this.mSize;Ca._assert(0<=e,"len >= 0",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:37,className:"polygonal.ds.tools.ArrayTools",methodName:"alloc"}),e=Array(e);for(var n,i=0,s=this.mKeys,o=0,l=this.capacity;o<l;)null!=(n=s[n=o++])&&(e[i++]=n);return e},pack:function(){if(this.mH.pack(),this.mH.capacity==this.capacity)return this;this.capacity=this.mH.capacity;for(var e=this.mNext=Array(this.capacity),i=0,s=this.capacity-1;i<s;){var n=i++;e[n]=n+1}e[this.capacity-1]=-1,this.mFree=0,i=this.mKeys,e=Array(this.capacity),s=this.mVals,n=Array(this.capacity);for(var o=this.mFree,l=this.mH.iterator();l.hasNext();){var _=l.next();e[o]=i[_],n[o]=s[_],o=this.mNext[o]}for(this.mFree=o,this.mKeys=e,this.mVals=n,i=0,s=this.mSize;i<s;)if(n=i++,-1!=(l=(_=this.mH).mHash[73856093*(o=e[n].key)&_.mMask]))if((_=_.mData)[l]==o)_[l+1]=n;else for(l=_[l+2];-1!=l;){if(_[l]==o){_[l+1]=n;break}l=_[l+2]}return this},iter:function(e){Ca._assert(null!=e,"f != null",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/HashTable.hx",lineNumber:322,className:"polygonal.ds.HashTable",methodName:"iter"});for(var o,i=this.mH.mData,s=this.mVals,n=this.mKeys,l=0,_=this.mH.capacity;l<_;)-2147483648!=(o=i[3*(o=l++)+1])&&e(n[o],s[o]);return this},toString:function(){var e=""+O.string(db.format("[ HashTable size="+this.mSize+" capacity="+this.capacity+" load=%.2f",[this.get_loadFactor()]));if(0==this.mSize)return e+" ]";e+="\n";for(var i=0,s=this.keys();s.hasNext();){var n=s.next();i=i>(n=O.string(n).length)?i:n}s=[],i="  %- "+i+"s -> %s\n",n=[];for(var o=this.keys();o.hasNext();){var l=o.next();n.push(l)}n.sort(function(y,g){return y.key-g.key}),o=1,l=n.length;for(var _=0,h=1;o<l;){if(n[_]==n[o])++h;else{if(s[0]=_=n[_],1<h)this.getAll(_,h=[]),s[1]=h.join(",");else{Ca._assert(null!=_,"key != null",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/HashTable.hx",lineNumber:449,className:"polygonal.ds.HashTable",methodName:"get"});var m=this.mH;if(-1==(_=m.mHash[73856093*(h=_.key)&m.mMask]))h=-2147483648;else if((m=m.mData)[_]==h)h=m[_+1];else{var f=-2147483648;for(_=m[_+2];-1!=_;){if(m[_]==h){f=m[_+1];break}_=m[_+2]}h=f}s[1]=O.string(-2147483648==h?null:this.mVals[h])}e+=O.string(db.format(i,s)),_=o,h=1}++o}if(s[0]=n=n[_],1<h)this.getAll(n,o=[]),s[1]=o.join(",");else{if(Ca._assert(null!=n,"key != null",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/HashTable.hx",lineNumber:449,className:"polygonal.ds.HashTable",methodName:"get"}),-1==(o=(l=this.mH).mHash[73856093*(n=n.key)&l.mMask]))n=-2147483648;else if((l=l.mData)[o]==n)n=l[o+1];else{for(h=-2147483648,o=l[o+2];-1!=o;){if(l[o]==n){h=l[o+1];break}o=l[o+2]}n=h}s[1]=O.string(-2147483648==n?null:this.mVals[n])}return(e+=O.string(db.format(i,s)))+"]"},grow:function(){var e=this.capacity;this.capacity=oh.compute(this.get_growthRate(),this.capacity);var i=Array(this.capacity);Rb.blit(this.mNext,0,i,0,e),i=this.mNext=i;for(var s=e-1,n=this.capacity-1;s<n;){var o=s++;i[o]=o+1}i[this.capacity-1]=-1,this.mFree=e,i=Array(this.capacity),Rb.blit(this.mVals,0,i,0,e),this.mVals=i,i=Array(this.capacity),Rb.blit(this.mKeys,0,i,0,e),this.mKeys=i},has:function(e){for(var i=this.mKeys,s=this.mVals,n=0,o=this.capacity;n<o;){var l=n++;if(null!=i[l]&&s[l]==e)return!0}return!1},hasKey:function(e){Ca._assert(null!=e,"key != null",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/HashTable.hx",lineNumber:439,className:"polygonal.ds.HashTable",methodName:"hasKey"});var i=this.mH,s=i.mHash[73856093*(e=e.key)&i.mMask];if(-1==s)return!1;if((i=i.mData)[s]==e)return!0;var n=!1;for(s=i[s+2];-1!=s;){if(i[s]==e){n=!0;break}s=i[s+2]}return n},get:function(e){Ca._assert(null!=e,"key != null",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/HashTable.hx",lineNumber:449,className:"polygonal.ds.HashTable",methodName:"get"});var i=this.mH,s=i.mHash[73856093*(e=e.key)&i.mMask];if(-1==s)e=-2147483648;else if((i=i.mData)[s]==e)e=i[s+1];else{var n=-2147483648;for(s=i[s+2];-1!=s;){if(i[s]==e){n=i[s+1];break}s=i[s+2]}e=n}return-2147483648==e?null:this.mVals[e]},getAll:function(e,i){var s=this.mH,n=e.key,o=s.mHash[73856093*n&s.mMask];if(-1==o)n=-2147483648;else if((s=s.mData)[o]==n)n=s[o+1];else{var l=-2147483648;for(o=s[o+2];-1!=o;){if(s[o]==n){l=s[o+1];break}o=s[o+2]}n=l}if(-2147483648==n)return 0;for(e=this.mH.getAll(e.key,n=this.mTmpIntBuffer),o=this.mVals,s=0;s<e;)i[l=s++]=o[n[l]];return e},set:function(e,i){Ca._assert(null!=e,"key != null",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/HashTable.hx",lineNumber:483,className:"polygonal.ds.HashTable",methodName:"set"}),this.mSize==this.capacity&&this.grow();var s=this.mFree,n=this.mH,o=e.key;Ca._assert(-2147483648!=s,"val 0x80000000 is reserved(val != KEY_ABSENT)",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/IntIntHashTable.hx",lineNumber:1046,className:"polygonal.ds.IntIntHashTable",methodName:"set"}),n.mSize==n.capacity&&n.grow();var l=n.mData,_=n.mHash,h=3*n.mFree;n.mFree=n.mNext[n.mFree],l[h]=o,l[h+1]=s;var m=73856093*o&n.mMask,f=_[m];if(-1==f)_[m]=h,n.mSize++,n=!0;else{for(_=l[f]!=o,m=l[f+2];-1!=m;)l[m]==o&&(_=!1),f=m,m=l[m+2];l[f+2]=h,n.mSize++,n=_}return this.mVals[s]=i,this.mKeys[s]=e,this.mFree=this.mNext[s],this.mSize++,n},unset:function(e){var i=this.mH,s=e.key,n=i.mHash[73856093*s&i.mMask];if(-1==n)s=-2147483648;else if((i=i.mData)[n]==s)s=i[n+1];else{var o=-2147483648;for(n=i[n+2];-1!=n;){if(i[n]==s){o=i[n+1];break}n=i[n+2]}s=o}if(-2147483648==s)return!1;this.mKeys[s]=null,this.mNext[s]=this.mFree,this.mFree=s;var l=(s=this.mH).mHash;if(-1!=(e=l[o=73856093*(i=e.key)&s.mMask]))if(i==(n=s.mData)[e])l[o]=-1==n[e+2]?-1:n[e+2],s.mNext[i=e/3|0]=s.mFree,s.mFree=i,n[e+1]=-2147483648,n[e+2]=-1,s.mSize--;else{for(o=!1,l=e,e=n[e+2];-1!=e;){if(n[e]==i){o=!0;break}e=n[(l=e)+2]}o&&(n[l+2]=n[e+2],s.mNext[i=e/3|0]=s.mFree,s.mFree=i,n[e+1]=-2147483648,n[e+2]=-1,s.mSize--)}return this.mSize--,!0},toValSet:function(){for(var e=new ij,i=this.mKeys,s=this.mVals,n=0,o=this.capacity;n<o;){var l=n++;null!=i[l]&&e.set(s[l])}return e},toKeySet:function(){for(var s,e=new ij,i=this.mKeys,n=0,o=this.capacity;n<o;)null!=(s=i[s=n++])&&e.set(s);return e},keys:function(){return new Ep(this)},get_size:function(){return this.mSize},free:function(){Rb.nullify(this.mVals),this.mVals=null,Rb.nullify(this.mKeys),this.mNext=this.mKeys=null,this.mH.free(),this.mH=null,null!=this.mIterator&&(this.mIterator.free(),this.mIterator=null),this.mTmpKeyBuffer=this.mTmpIntBuffer=null},contains:function(e){return this.has(e)},remove:function(e){for(var o,i=this.mTmpKeyBuffer,s=this.mKeys,n=this.mVals,l=0,_=0,h=this.capacity;_<h;){var m=_++;null!=(o=s[m])&&n[m]==e&&(i[l++]=o)}for(e=0,s=l;e<s;)n=e++,this.unset(i[n]),i[n]=null;return 0<l},clear:function(e){null==e&&(e=!1),this.mH.clear(e),Rb.init(this.mKeys,null,0,this.capacity),Rb.init(this.mVals,null,0,this.capacity),e=this.mNext;for(var i=0,s=this.capacity-1;i<s;){var n=i++;e[n]=n+1}e[this.capacity-1]=-1,this.mSize=this.mFree=0},iterator:function(){return this.reuseIterator?(null==this.mIterator?this.mIterator=new Zl(this):this.mIterator.reset(),this.mIterator):new Zl(this)},isEmpty:function(){return 0==this.mSize},toArray:function(){if(0==this.mSize)return[];var e=this.mSize;Ca._assert(0<=e,"len >= 0",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:37,className:"polygonal.ds.tools.ArrayTools",methodName:"alloc"}),e=Array(e);for(var i=0,s=this.mKeys,n=this.mVals,o=0,l=this.capacity;o<l;){var _=o++;null!=s[_]&&(e[i++]=n[_])}return e},clone:function(e,i){null==e&&(e=!0);var s=new Dp(this.mH.slotCount,this.mSize);s.mH=this.mH.clone(),s.mSize=this.mSize,s.mFree=this.mFree;var n=this.mVals,o=s.mVals,l=this.mKeys;if(Rb.blit(l,0,s.mKeys,0,this.mSize),e)Rb.blit(n,0,o,0,this.mSize);else if(null!=i){e=0;for(var _=this.mSize;e<_;){var h=e++;o[h]=null!=l[h]?i(n[h]):null}}else for(i=0,e=this.mSize;i<e;)null!=l[_=i++]?(Ca._assert(T.__implements(n[_],Pg),"element is not of type Cloneable(Std.is(srcVals.get(i), Cloneable))",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/HashTable.hx",lineNumber:735,className:"polygonal.ds.HashTable",methodName:"clone"}),o[_]=T.__cast(n[_],Pg).clone()):o[_]=null;return Rb.blit(this.mNext,0,s.mNext,0,this.mSize),s},__class__:Dp,__properties__:{get_size:"get_size",set_growthRate:"set_growthRate",get_growthRate:"get_growthRate",get_slotCount:"get_slotCount",get_loadFactor:"get_loadFactor"}};var ph=function(){};k["polygonal.ds.Itr"]=ph,ph.__name__="polygonal.ds.Itr",ph.__isInterface__=!0,ph.prototype={hasNext:null,next:null,remove:null,reset:null,__class__:ph};var Ep=function(e){this.mObject=e,this.reset()};k["polygonal.ds.HashTableKeyIterator"]=Ep,Ep.__name__="polygonal.ds.HashTableKeyIterator",Ep.__interfaces__=[ph],Ep.prototype={mObject:null,mKeys:null,mI:null,mS:null,free:function(){this.mKeys=this.mObject=null},reset:function(){for(this.mKeys=this.mObject.mKeys,this.mS=this.mObject.mH.capacity,this.mI=0;this.mI<this.mS&&null==this.mKeys[this.mI];)this.mI++;return this},hasNext:function(){return this.mI<this.mS},next:function(){for(var e=this.mKeys[this.mI];++this.mI<this.mS&&null==this.mKeys[this.mI];);return e},remove:function(){throw new E("unsupported operation")},__class__:Ep};var Zl=function(e){this.mObject=e,this.reset()};k["polygonal.ds.HashTableValIterator"]=Zl,Zl.__name__="polygonal.ds.HashTableValIterator",Zl.__interfaces__=[ph],Zl.prototype={mObject:null,mKeys:null,mVals:null,mI:null,mS:null,free:function(){this.mVals=this.mKeys=this.mObject=null},reset:function(){for(this.mVals=this.mObject.mVals,this.mKeys=this.mObject.mKeys,this.mS=this.mObject.mH.capacity,this.mI=0;this.mI<this.mS&&null==this.mKeys[this.mI];)this.mI++;return this},hasNext:function(){return this.mI<this.mS},next:function(){for(var e=this.mVals[this.mI];++this.mI<this.mS&&null==this.mKeys[this.mI];);return e},remove:function(){throw new E("unsupported operation")},__class__:Zl};var zk=function(){};k["polygonal.ds.Set"]=zk,zk.__name__="polygonal.ds.Set",zk.__isInterface__=!0,zk.__interfaces__=[yk],zk.prototype={has:null,set:null,unset:null,__class__:zk};var qh=function(e,i){null==i&&(i=-1),this.mFree=this.mSize=0,this.reuseIterator=!1,this.growthRate=-3,this.key=Qg.next(),Ca._assert(0<e,"slotCount > 0",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/IntHashSet.hx",lineNumber:138,className:"polygonal.ds.IntHashSet",methodName:"new"}),Ca._assert(0<e&&0==(e&e-1),"slotCount is not a power of 2(MathTools.isPow2(slotCount))",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/IntHashSet.hx",lineNumber:139,className:"polygonal.ds.IntHashSet",methodName:"new"}),-1==i&&(i=e),this.mMinCapacity=this.capacity=2>i?2:i,this.slotCount=e,this.mMask=e-1,this.mHash=Rb.init(Array(e),-1),this.mData=Array(this.capacity<<1),this.mNext=Array(this.capacity),i=1,e=this.mData;for(var s=0,n=this.capacity;s<n;)s++,e[i-1]=-2147483648,e[i]=-1,i+=2;for(e=this.mNext,i=0,s=this.capacity-1;i<s;)e[n=i++]=n+1;e[this.capacity-1]=-1};k["polygonal.ds.IntHashSet"]=qh,qh.__name__="polygonal.ds.IntHashSet",qh.__interfaces__=[zk],qh.prototype={key:null,capacity:null,growthRate:null,reuseIterator:null,get_loadFactor:function(){return this.mSize/this.slotCount},slotCount:null,mHash:null,mData:null,mNext:null,mMask:null,mFree:null,mSize:null,mMinCapacity:null,mIterator:null,getCollisionCount:function(){for(var i,e=0,s=this.mData,n=this.mHash,o=0,l=this.slotCount;o<l;)if(-1!=(i=n[i=o++]))for(i=s[i+1];-1!=i;)i=s[i+1],++e;return e},hasFront:function(e){Ca._assert(-2147483648!=e,"value 0x80000000 is reserved(val != VAL_ABSENT)",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/IntHashSet.hx",lineNumber:203,className:"polygonal.ds.IntHashSet",methodName:"hasFront"});var i=73856093*e&this.mMask,s=this.mHash[i];if(-1==s)return!1;var n=this.mData;if(n[s]==e)return!0;var o=!1,l=s,_=l;for(s=n[s+1];-1!=s;){if(n[s]==e){n[_+1]=n[s+1],n[s+1]=l,n[i]=s,o=!0;break}s=n[(_=s)+1]}return o},rehash:function(e){if(Ca._assert(0<e&&0==(e&e-1),"slotCount is not a power of 2(MathTools.isPow2(slotCount))",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/IntHashSet.hx",lineNumber:270,className:"polygonal.ds.IntHashSet",methodName:"rehash"}),this.slotCount==e)return this;for(var i=new qh(e,this.capacity),s=this.mData,n=0,o=this.capacity;n<o;){var l=n++;if(-2147483648!=(l=s[l<<1])){Ca._assert(-2147483648!=l,"value 0x80000000 is reserved(val != VAL_ABSENT)",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/IntHashSet.hx",lineNumber:521,className:"polygonal.ds.IntHashSet",methodName:"set"});var _=73856093*l&i.mMask,h=i.mData,m=i.mHash[_];if(-1==m)i.mSize==i.capacity&&(i.grow(),h=i.mData),m=i.mFree<<1,i.mFree=i.mNext[i.mFree],i.mHash[_]=m,h[m]=l,i.mSize++;else if(h[m]!=l){for(_=h[m+1];-1!=_;){if(h[_]==l){m=-1;break}m=_,_=h[_+1]}-1!=m&&(i.mSize==i.capacity&&(i.grow(),h=i.mData),_=i.mFree<<1,i.mFree=i.mNext[i.mFree],h[_]=l,h[m+1]=_,i.mSize++)}}}return this.mHash=i.mHash,this.mData=i.mData,this.mNext=i.mNext,this.slotCount=e,this.mMask=i.mMask,this.mFree=i.mFree,this},pack:function(){if(this.capacity==this.mMinCapacity)return this;var e=this.mSize,i=this.mMinCapacity;this.capacity=e>i?e:i,e=this.mData,i=0;for(var n,s=this.mHash,o=Array(this.capacity<<1),l=0,_=this.slotCount;l<_;){var h=l++;if(-1!=(n=s[h]))for(s[h]=i,o[i++]=e[n],o[i++]=-1,n=e[n+1];-1!=n;)o[i-1]=i,o[i++]=e[n],o[i++]=-1,n=e[n+1]}for(this.mData=o,e=this.mNext=Array(this.capacity),i=0,s=this.capacity-1;i<s;)e[n=i++]=n+1;return this.mFree=e[this.capacity-1]=-1,this},iter:function(e){Ca._assert(null!=e,"f != null",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/IntHashSet.hx",lineNumber:384,className:"polygonal.ds.IntHashSet",methodName:"iter"});for(var s,i=this.mData,o=0,l=this.capacity;o<l;)-2147483648!=i[s=o++<<1]&&e(i[s]);return this},toString:function(){var e=""+O.string(db.format("[ IntHashSet size="+this.mSize+" capacity="+this.capacity+" load=%.2f",[this.get_loadFactor()]));if(0==this.mSize)return e+" ]";e+="\n";for(var i=this.iterator();i.hasNext();){var s=i.next();e+=O.string("  "+s+"\n")}return e+"]"},hashCode:function(e){return 73856093*e&this.mMask},grow:function(){var e=this.capacity;this.capacity=oh.compute(this.growthRate,this.capacity);var i=Array(this.capacity);Rb.blit(this.mNext,0,i,0,e),this.mNext=i,i=Array(this.capacity<<1),Rb.blit(this.mData,0,i,0,e<<1),this.mData=i,i=this.mNext;for(var s=e-1,n=this.capacity-1;s<n;){var o=s++;i[o]=o+1}for(i[this.capacity-1]=-1,this.mFree=e,s=e<<1,i=this.mData,n=0,e=this.capacity-e;n<e;)n++,i[s]=-2147483648,i[s+1]=-1,s+=2},has:function(e){Ca._assert(-2147483648!=e,"value 0x80000000 is reserved(val != VAL_ABSENT)",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/IntHashSet.hx",lineNumber:467,className:"polygonal.ds.IntHashSet",methodName:"has"});var i=this.mHash[73856093*e&this.mMask];if(-1==i)return!1;var s=this.mData;if(s[i]==e)return!0;var n=!1;for(i=s[i+1];-1!=i;){if(s[i]==e){n=!0;break}i=s[i+1]}return n},set:function(e){Ca._assert(-2147483648!=e,"value 0x80000000 is reserved(val != VAL_ABSENT)",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/IntHashSet.hx",lineNumber:521,className:"polygonal.ds.IntHashSet",methodName:"set"});var i=73856093*e&this.mMask,s=this.mData,n=this.mHash[i];if(-1==n)return this.mSize==this.capacity&&(this.grow(),s=this.mData),n=this.mFree<<1,this.mFree=this.mNext[this.mFree],this.mHash[i]=n,s[n]=e,this.mSize++,!0;if(s[n]==e)return!1;for(i=s[n+1];-1!=i;){if(s[i]==e){n=-1;break}n=i,i=s[i+1]}return-1!=n&&(this.mSize==this.capacity&&(this.grow(),s=this.mData),i=this.mFree<<1,this.mFree=this.mNext[this.mFree],s[i]=e,s[n+1]=i,this.mSize++,!0)},unset:function(e){var i=73856093*e&this.mMask,s=this.mHash[i];if(-1==s)return!1;var n=this.mData;if(e==n[s])return this.mHash[i]=-1==n[s+1]?-1:n[s+1],this.mNext[e=s>>1]=this.mFree,this.mFree=e,n[s]=-2147483648,n[s+1]=-1,this.mSize--,!0;i=!1;var o=s;for(s=n[s+1];-1!=s;){if(n[s]==e){i=!0;break}s=n[(o=s)+1]}return!!i&&(n[o+1]=n[s+1],this.mNext[e=s>>1]=this.mFree,this.mFree=e,n[s]=-2147483648,n[s+1]=-1,--this.mSize,!0)},get_size:function(){return this.mSize},free:function(){this.mNext=this.mData=this.mHash=null,null!=this.mIterator&&(this.mIterator.free(),this.mIterator=null)},contains:function(e){Ca._assert(-2147483648!=e,"value 0x80000000 is reserved(val != VAL_ABSENT)",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/IntHashSet.hx",lineNumber:467,className:"polygonal.ds.IntHashSet",methodName:"has"});var i=this.mHash[73856093*e&this.mMask];if(-1==i)return!1;var s=this.mData;if(s[i]==e)return!0;var n=!1;for(i=s[i+1];-1!=i;){if(s[i]==e){n=!0;break}i=s[i+1]}return n},remove:function(e){var i=73856093*e&this.mMask,s=this.mHash[i];if(-1==s)return!1;var n=this.mData;if(e==n[s])return this.mHash[i]=-1==n[s+1]?-1:n[s+1],this.mNext[e=s>>1]=this.mFree,this.mFree=e,n[s]=-2147483648,n[s+1]=-1,this.mSize--,!0;i=!1;var o=s;for(s=n[s+1];-1!=s;){if(n[s]==e){i=!0;break}s=n[(o=s)+1]}return!!i&&(n[o+1]=n[s+1],this.mNext[e=s>>1]=this.mFree,this.mFree=e,n[s]=-2147483648,n[s+1]=-1,--this.mSize,!0)},clear:function(e){e=this.mHash;for(var i=0,s=this.slotCount;i<s;){var n=i++;e[n]=-1}for(i=1,e=this.mData,s=0,n=this.capacity;s<n;)s++,e[i-1]=-2147483648,e[i]=-1,i+=2;for(e=this.mNext,i=0,s=this.capacity-1;i<s;)e[n=i++]=n+1;e[this.capacity-1]=-1,this.mSize=this.mFree=0},iterator:function(){return this.reuseIterator?(null==this.mIterator?this.mIterator=new $l(this):this.mIterator.reset(),this.mIterator):new $l(this)},isEmpty:function(){return 0==this.mSize},toArray:function(){if(0==this.mSize)return[];var e=this.mSize;Ca._assert(0<=e,"len >= 0",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:37,className:"polygonal.ds.tools.ArrayTools",methodName:"alloc"}),e=Array(e);for(var s,i=0,n=this.mData,o=0,l=this.capacity;o<l;)-2147483648!=(s=n[(s=o++)<<1])&&(e[i++]=s);return e},clone:function(e,i){return e=new qh(this.slotCount,this.mSize),Rb.blit(this.mHash,0,e.mHash,0,this.slotCount),Rb.blit(this.mData,0,e.mData,0,this.mSize<<1),Rb.blit(this.mNext,0,e.mNext,0,this.mSize),e.mMask=this.mMask,e.slotCount=this.slotCount,e.capacity=this.capacity,e.mFree=this.mFree,e.mSize=this.mSize,e},__class__:qh,__properties__:{get_size:"get_size",get_loadFactor:"get_loadFactor"}};var $l=function(e){this.mObject=e,this.mData=e.mData,this.mI=0,this.mS=e.capacity,this.scan()};k["polygonal.ds.IntHashSetIterator"]=$l,$l.__name__="polygonal.ds.IntHashSetIterator",$l.__interfaces__=[ph],$l.prototype={mObject:null,mI:null,mS:null,mData:null,free:function(){this.mData=this.mObject=null},reset:function(){return this.mData=this.mObject.mData,this.mI=0,this.mS=this.mObject.capacity,this.scan(),this},hasNext:function(){return this.mI<this.mS},next:function(){var e=this.mData[this.mI++<<1];return this.scan(),e},remove:function(){throw new E("unsupported operation")},scan:function(){for(;this.mI<this.mS&&-2147483648==this.mData[this.mI<<1];)this.mI++},__class__:$l};var Re=function(e,i){null==i&&(i=-1),this.mTmpKeyBuffer=[],this.mIterator=null,this.mFree=this.mSize=0,this.reuseIterator=!1,this.key=Qg.next(),Ca._assert(0<e,"slotCount > 0",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/IntHashTable.hx",lineNumber:158,className:"polygonal.ds.IntHashTable",methodName:"new"}),-1==i&&(i=e),this.mMinCapacity=this.capacity=2>i?2:i,this.mH=new Rg(e,this.capacity),this.mVals=Array(this.capacity),this.mNext=Array(this.capacity),this.mKeys=Rb.init(Array(this.capacity),-2147483648,0,this.capacity),e=this.mNext,i=0;for(var s=this.capacity-1;i<s;){var n=i++;e[n]=n+1}e[this.capacity-1]=-1};k["polygonal.ds.IntHashTable"]=Re,Re.__name__="polygonal.ds.IntHashTable",Re.__interfaces__=[hj],Re.prototype={key:null,capacity:null,get_growthRate:function(){return this.mH.growthRate},set_growthRate:function(e){return this.mH.growthRate=e},reuseIterator:null,get_loadFactor:function(){return this.mH.get_loadFactor()},get_slotCount:function(){return this.mH.slotCount},mH:null,mVals:null,mNext:null,mKeys:null,mFree:null,mSize:null,mMinCapacity:null,mShrinkSize:null,mIterator:null,mTmpKeyBuffer:null,getCollisionCount:function(){return this.mH.getCollisionCount()},getFront:function(e){var i=this.mH,s=73856093*e&i.mMask,n=i.mHash[s];if(-1==n)e=-2147483648;else{var o=i.mData;if(o[n]==e)e=o[n+1];else{var l=-2147483648,_=n,h=_;for(n=o[n+2];-1!=n;){if(o[n]==e){l=o[n+1],o[h+2]=o[n+2],o[n+2]=_,i.mHash[s]=n;break}n=o[(h=n)+2]}e=l}}return-2147483648==e?null:this.mVals[e]},setIfAbsent:function(e,i){Ca._assert(-2147483648!=e,"key 0x80000000 is reserved(key != IntIntHashTable.KEY_ABSENT)",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/IntHashTable.hx",lineNumber:212,className:"polygonal.ds.IntHashTable",methodName:"setIfAbsent"}),this.mSize==this.capacity&&this.grow();var s=this.mFree,n=this.mH;Ca._assert(-2147483648!=s,"val 0x80000000 is reserved(val != KEY_ABSENT)",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/IntIntHashTable.hx",lineNumber:291,className:"polygonal.ds.IntIntHashTable",methodName:"setIfAbsent"});var o=73856093*e&n.mMask,l=n.mData,_=n.mHash[o];if(-1==_)n.mSize==n.capacity&&(n.grow(),l=n.mData),_=3*n.mFree,n.mFree=n.mNext[n.mFree],n.mHash[o]=_,l[_]=e,l[_+1]=s,n.mSize++,n=!0;else if(l[_]==e)n=!1;else{for(o=l[_+2];-1!=o;){if(l[o]==e){_=-1;break}o=l[(_=o)+2]}-1==_?n=!1:(n.mSize==n.capacity&&(n.grow(),l=n.mData),o=3*n.mFree,n.mFree=n.mNext[n.mFree],l[_+2]=o,l[o]=e,l[o+1]=s,n.mSize++,n=!0)}return!!n&&(this.mVals[s]=i,this.mKeys[s]=e,this.mFree=this.mNext[s],this.mSize++,!0)},rehash:function(e){return this.mH.rehash(e),this},remap:function(e,i){var s=this.mH,n=s.mHash[73856093*e&s.mMask];if(-1==n)e=-2147483648;else if((s=s.mData)[n]==e)e=s[n+1];else{var o=-2147483648;for(n=s[n+2];-1!=n;){if(s[n]==e){o=s[n+1];break}n=s[n+2]}e=o}return-2147483648!=e&&(this.mVals[e]=i,!0)},toKeyArray:function(){return this.mH.toKeyArray()},toString:function(){var e=""+O.string(db.format("[ IntHashTable size="+this.mSize+" capacity="+this.capacity+" load=%.2f",[this.get_loadFactor()]));if(0==this.mSize)return e+" ]";e+="\n";for(var i=0,s=this.keys();s.hasNext();){var n=s.next();i=Math.max(i,n)}for(var o=1;0!=i;)++o,i=i/10|0;for(i=[],s="  %- "+o+"d -> %s\n",n=[],o=this.keys();o.hasNext();){var l=o.next();n.push(l)}n.sort(function(g,j){return g-j}),o=1,l=n.length;for(var _=0,h=1;o<l;){if(n[_]==n[o])++h;else{if(i[0]=_=n[_],1<h)this.getAll(_,h=[]),i[1]=h.join(",");else{h=this.mVals;var m=this.mH,f=m.mHash[73856093*_&m.mMask];if(-1==f)_=-2147483648;else if((m=m.mData)[f]==_)_=m[f+1];else{var y=-2147483648;for(f=m[f+2];-1!=f;){if(m[f]==_){y=m[f+1];break}f=m[f+2]}_=y}i[1]=O.string(h[_])}e+=O.string(db.format(s,i)),_=o,h=1}++o}if(i[0]=n=n[_],1<h)this.getAll(n,o=[]),i[1]=o.join(",");else{if(o=this.mVals,-1==(l=(_=this.mH).mHash[73856093*n&_.mMask]))n=-2147483648;else if((_=_.mData)[l]==n)n=_[l+1];else{for(h=-2147483648,l=_[l+2];-1!=l;){if(_[l]==n){h=_[l+1];break}l=_[l+2]}n=h}i[1]=O.string(o[n])}return(e+=O.string(db.format(s,i)))+"]"},has:function(e){for(var i=this.mKeys,s=this.mVals,n=0,o=this.capacity;n<o;){var l=n++;if(-2147483648!=i[l]&&s[l]==e)return!0}return!1},hasKey:function(e){var i=this.mH,s=i.mHash[73856093*e&i.mMask];if(-1==s)return!1;if((i=i.mData)[s]==e)return!0;var n=!1;for(s=i[s+2];-1!=s;){if(i[s]==e){n=!0;break}s=i[s+2]}return n},count:function(e){return this.mH.count(e)},get:function(e){var i=this.mH,s=i.mHash[73856093*e&i.mMask];if(-1==s)e=-2147483648;else if((i=i.mData)[s]==e)e=i[s+1];else{var n=-2147483648;for(s=i[s+2];-1!=s;){if(i[s]==e){n=i[s+1];break}s=i[s+2]}e=n}return-2147483648==e?null:this.mVals[e]},getAll:function(e,i){var s=this.mH,n=s.mHash[73856093*e&s.mMask];if(-1==n)n=-2147483648;else if((s=s.mData)[n]==e)n=s[n+1];else{var o=-2147483648;for(n=s[n+2];-1!=n;){if(s[n]==e){o=s[n+1];break}n=s[n+2]}n=o}if(-2147483648==n)return 0;for(e=this.mH.getAll(e,n=this.mTmpKeyBuffer),s=this.mVals,o=0;o<e;){var l=o++;i[l]=s[n[l]]}return e},set:function(e,i){Ca._assert(-2147483648!=e,"key 0x80000000 is reserved(key != IntIntHashTable.KEY_ABSENT)",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/IntHashTable.hx",lineNumber:397,className:"polygonal.ds.IntHashTable",methodName:"set"}),this.mSize==this.capacity&&this.grow();var s=this.mFree,n=this.mH;Ca._assert(-2147483648!=s,"val 0x80000000 is reserved(val != KEY_ABSENT)",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/IntIntHashTable.hx",lineNumber:1046,className:"polygonal.ds.IntIntHashTable",methodName:"set"}),n.mSize==n.capacity&&n.grow();var o=n.mData,l=n.mHash,_=3*n.mFree;n.mFree=n.mNext[n.mFree],o[_]=e,o[_+1]=s;var h=73856093*e&n.mMask,m=l[h];if(-1==m)l[h]=_,n.mSize++,n=!0;else{for(l=o[m]!=e,h=o[m+2];-1!=h;)o[h]==e&&(l=!1),m=h,h=o[h+2];o[m+2]=_,n.mSize++,n=l}return this.mVals[s]=i,this.mKeys[s]=e,this.mFree=this.mNext[s],this.mSize++,n},unset:function(e){var i=this.mH,s=i.mHash[73856093*e&i.mMask];if(-1==s)s=-2147483648;else if((i=i.mData)[s]==e)s=i[s+1];else{var n=-2147483648;for(s=i[s+2];-1!=s;){if(i[s]==e){n=i[s+1];break}s=i[s+2]}s=n}if(-2147483648==s)return!1;this.mVals[s]=null,this.mKeys[s]=-2147483648,this.mNext[s]=this.mFree,this.mFree=s;var o=73856093*e&(s=this.mH).mMask,l=s.mHash;if(-1!=(i=l[o]))if(e==(n=s.mData)[i])l[o]=-1==n[i+2]?-1:n[i+2],s.mNext[e=i/3|0]=s.mFree,s.mFree=e,n[i+1]=-2147483648,n[i+2]=-1,s.mSize--;else{for(o=!1,l=i,i=n[i+2];-1!=i;){if(n[i]==e){o=!0;break}i=n[(l=i)+2]}o&&(n[l+2]=n[i+2],s.mNext[e=i/3|0]=s.mFree,s.mFree=e,n[i+1]=-2147483648,n[i+2]=-1,s.mSize--)}return this.mSize--,!0},toValSet:function(){for(var e=new ij,i=this.mKeys,s=this.mVals,n=0,o=this.capacity;n<o;){var l=n++;-2147483648!=i[l]&&e.set(s[l])}return e},toKeySet:function(){return this.mH.toKeySet()},keys:function(){return this.mH.keys()},pack:function(){if(this.mH.pack(),this.mH.capacity==this.capacity)return this;this.capacity=this.mH.capacity;for(var e=this.mNext=Array(this.capacity),i=0,s=this.capacity-1;i<s;){var n=i++;e[n]=n+1}e[this.capacity-1]=-1,this.mFree=0,i=this.mKeys,e=Array(this.capacity),s=this.mVals,n=Array(this.capacity);for(var o=this.mFree,l=this.mH.iterator();l.hasNext();){var _=l.next();e[o]=i[_],n[o]=s[_],o=this.mNext[o]}for(this.mFree=o,this.mKeys=e,this.mVals=n,i=0,s=this.mSize;i<s;)if(n=i++,-1!=(l=(_=this.mH).mHash[73856093*(o=e[n])&_.mMask]))if((_=_.mData)[l]==o)_[l+1]=n;else for(l=_[l+2];-1!=l;){if(_[l]==o){_[l+1]=n;break}l=_[l+2]}return this},iter:function(e){Ca._assert(null!=e,"f != null",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/IntHashTable.hx",lineNumber:518,className:"polygonal.ds.IntHashTable",methodName:"iter"});var i=this.mVals,s=this.mH;Ca._assert(!0,"f != null",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/IntIntHashTable.hx",lineNumber:1360,className:"polygonal.ds.IntIntHashTable",methodName:"iter"});for(var o,n=s.mData,l=0,_=s.capacity;l<_;)-2147483648!=(o=n[1+(s=3*l++)])&&e(n[s],i[o]);return this},grow:function(){var e=this.capacity;this.capacity=oh.compute(this.get_growthRate(),this.capacity);var i=Array(this.capacity);Rb.blit(this.mNext,0,i,0,e),this.mNext=i,i=Array(this.capacity),Rb.blit(this.mKeys,0,i,0,e),i=this.mKeys=i;for(var s=e,n=this.capacity;s<n;){var o=s++;i[o]=-2147483648}for(i=this.mNext,s=e-1,n=this.capacity-1;s<n;)i[o=s++]=o+1;i[this.capacity-1]=-1,this.mFree=e,i=Array(this.capacity),Rb.blit(this.mVals,0,i,0,e),this.mVals=i},get_size:function(){return this.mSize},free:function(){Rb.nullify(this.mVals),this.mNext=this.mKeys=this.mVals=null,this.mH.free(),this.mH=null,null!=this.mIterator&&(this.mIterator.free(),this.mIterator=null),this.mTmpKeyBuffer=null},contains:function(e){return this.has(e)},remove:function(e){for(var l,i=this.mTmpKeyBuffer,s=0,n=this.mKeys,o=this.mVals,_=0,h=this.capacity;_<h;){var m=_++;-2147483648!=(l=n[m])&&o[m]==e&&(i[s++]=l)}for(e=0,n=s;e<n;)o=e++,this.unset(i[o]);return 0<s},clear:function(e){null==e&&(e=!1),this.mH.clear(e),Rb.init(this.mKeys,-2147483648,0,this.capacity),e=this.mNext;for(var i=0,s=this.capacity-1;i<s;){var n=i++;e[n]=n+1}e[this.capacity-1]=-1,this.mSize=this.mFree=0},iterator:function(){return this.reuseIterator?(null==this.mIterator?this.mIterator=new am(this):this.mIterator.reset(),this.mIterator):new am(this)},isEmpty:function(){return 0==this.mSize},toArray:function(){if(0==this.mSize)return[];var e=this.mSize;Ca._assert(0<=e,"len >= 0",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:37,className:"polygonal.ds.tools.ArrayTools",methodName:"alloc"}),e=Array(e);for(var i=0,s=this.mKeys,n=this.mVals,o=0,l=this.capacity;o<l;){var _=o++;-2147483648!=s[_]&&(e[i++]=n[_])}return e},clone:function(e,i){null==e&&(e=!0);var s=new Re(this.mH.slotCount,this.mSize);s.mH=this.mH.clone(!1),s.mSize=this.mSize,s.mFree=this.mFree;var n=this.mVals,o=s.mVals;if(e)Rb.blit(n,0,o,0,this.mSize);else if(e=this.mKeys,null!=i)for(var l=0,_=this.mSize;l<_;){var h=l++;-2147483648!=e[h]&&(o[h]=i(n[h]))}else for(i=0,l=this.mSize;i<l;)-2147483648!=e[_=i++]&&(Ca._assert(T.__implements(n[_],Pg),"element is not of type Cloneable(Std.is(src.get(i), Cloneable))",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/IntHashTable.hx",lineNumber:727,className:"polygonal.ds.IntHashTable",methodName:"clone"}),o[_]=T.__cast(n[_],Pg).clone());return Rb.blit(this.mKeys,0,s.mKeys,0,this.mSize),Rb.blit(this.mNext,0,s.mNext,0,this.mSize),s},__class__:Re,__properties__:{get_size:"get_size",get_slotCount:"get_slotCount",get_loadFactor:"get_loadFactor",set_growthRate:"set_growthRate",get_growthRate:"get_growthRate"}};var am=function(e){this.mObject=e,this.reset()};k["polygonal.ds.IntHashTableIterator"]=am,am.__name__="polygonal.ds.IntHashTableIterator",am.__interfaces__=[ph],am.prototype={mObject:null,mVals:null,mKeys:null,mI:null,mS:null,free:function(){this.mKeys=this.mVals=this.mObject=null},reset:function(){for(this.mVals=this.mObject.mVals,this.mKeys=this.mObject.mKeys,this.mS=this.mObject.mH.capacity,this.mI=0;this.mI<this.mS&&-2147483648==this.mKeys[this.mI];)this.mI++;return this},hasNext:function(){return this.mI<this.mS},next:function(){for(var e=this.mVals[this.mI];++this.mI<this.mS&&-2147483648==this.mKeys[this.mI];);return e},remove:function(){throw new E("unsupported operation")},__class__:am};var Rg=function(e,i){null==i&&(i=-1),this.mTmpBufferSize=16,this.mFree=this.mSize=0,this.reuseIterator=!1,this.growthRate=-3,this.key=Qg.next(),Ca._assert(0<e,"slotCount > 0",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/IntIntHashTable.hx",lineNumber:156,className:"polygonal.ds.IntIntHashTable",methodName:"new"}),Ca._assert(0<e&&0==(e&e-1),"slotCount is not a power of 2(MathTools.isPow2(slotCount))",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/IntIntHashTable.hx",lineNumber:157,className:"polygonal.ds.IntIntHashTable",methodName:"new"}),-1==i?i=e:(Ca._assert(2<=i,"minimum capacity is 2(initialCapacity >= 2)",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/IntIntHashTable.hx",lineNumber:163,className:"polygonal.ds.IntIntHashTable",methodName:"new"}),Ca._assert(0<e&&0==(e&e-1),"capacity is not a power of 2(MathTools.isPow2(slotCount))",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/IntIntHashTable.hx",lineNumber:164,className:"polygonal.ds.IntIntHashTable",methodName:"new"})),this.mMinCapacity=this.capacity=i,this.slotCount=e,this.mMask=e-1,this.mHash=Rb.init(Array(e),-1),this.mData=Array(3*this.capacity),this.mNext=Array(this.capacity),i=2,e=this.mData;for(var s=0,n=this.capacity;s<n;)s++,e[i-1]=-2147483648,e[i]=-1,i+=3;for(e=this.mNext,i=0,s=this.capacity-1;i<s;)e[n=i++]=n+1;e[this.capacity-1]=-1,this.mTmpBuffer=Array(this.mTmpBufferSize)};k["polygonal.ds.IntIntHashTable"]=Rg,Rg.__name__="polygonal.ds.IntIntHashTable",Rg.__interfaces__=[hj],Rg.prototype={key:null,capacity:null,growthRate:null,reuseIterator:null,get_loadFactor:function(){return this.mSize/this.slotCount},slotCount:null,mHash:null,mData:null,mNext:null,mMask:null,mFree:null,mSize:null,mMinCapacity:null,mIterator:null,mTmpBuffer:null,mTmpBufferSize:null,getCollisionCount:function(){for(var i,e=0,s=this.mData,n=this.mHash,o=0,l=this.slotCount;o<l;)if(-1!=(i=n[i=o++]))for(i=s[i+2];-1!=i;)i=s[i+2],++e;return e},getFront:function(e){var i=73856093*e&this.mMask,s=this.mHash[i];if(-1==s)return-2147483648;var n=this.mData;if(n[s]==e)return n[s+1];var o=-2147483648,l=s,_=l;for(s=n[s+2];-1!=s;){if(n[s]==e){o=n[s+1],n[_+2]=n[s+2],n[s+2]=l,this.mHash[i]=s;break}s=n[(_=s)+2]}return o},setIfAbsent:function(e,i){Ca._assert(-2147483648!=i,"val 0x80000000 is reserved(val != KEY_ABSENT)",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/IntIntHashTable.hx",lineNumber:291,className:"polygonal.ds.IntIntHashTable",methodName:"setIfAbsent"});var s=73856093*e&this.mMask,n=this.mData,o=this.mHash[s];if(-1==o)return this.mSize==this.capacity&&(this.grow(),n=this.mData),o=3*this.mFree,this.mFree=this.mNext[this.mFree],this.mHash[s]=o,n[o]=e,n[o+1]=i,this.mSize++,!0;if(n[o]==e)return!1;for(s=n[o+2];-1!=s;){if(n[s]==e){o=-1;break}s=n[(o=s)+2]}return-1!=o&&(this.mSize==this.capacity&&(this.grow(),n=this.mData),s=3*this.mFree,this.mFree=this.mNext[this.mFree],n[o+2]=s,n[s]=e,n[s+1]=i,this.mSize++,!0)},rehash:function(e){if(Ca._assert(0<e&&0==(e&e-1),"slotCount is not a power of 2(MathTools.isPow2(slotCount))",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/IntIntHashTable.hx",lineNumber:403,className:"polygonal.ds.IntIntHashTable",methodName:"rehash"}),this.slotCount==e)return this;for(var i=new Rg(e,this.capacity),s=this.mData,n=0,o=this.capacity;n<o;){var l=n++,_=s[3*l+1];if(-2147483648!=_){var h=s[3*l];Ca._assert(-2147483648!=_,"val 0x80000000 is reserved(val != KEY_ABSENT)",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/IntIntHashTable.hx",lineNumber:1046,className:"polygonal.ds.IntIntHashTable",methodName:"set"}),i.mSize==i.capacity&&i.grow(),l=i.mData;var m=i.mHash,f=3*i.mFree;if(i.mFree=i.mNext[i.mFree],l[f]=h,l[f+1]=_,-1==(_=m[h=73856093*h&i.mMask]))m[h]=f;else{for(m=l[_+2];-1!=m;)_=m,m=l[m+2];l[_+2]=f}i.mSize++}}return this.mHash=i.mHash,this.mData=i.mData,this.mNext=i.mNext,this.slotCount=e,this.mMask=i.mMask,this.mFree=i.mFree,this},remap:function(e,i){var s=this.mHash[73856093*e&this.mMask];if(-1==s)return!1;var n=this.mData;if(n[s]==e)return n[s+1]=i,!0;for(s=n[s+2];-1!=s;){if(n[s]==e){n[s+1]=i;break}s=n[s+2]}return-1!=s},extract:function(e){var i=73856093*e&this.mMask,s=this.mHash,n=s[i];if(-1==n)return-2147483648;var o=this.mData;if(e==o[n])return e=o[n+1],s[i]=-1==o[n+2]?-1:o[n+2],this.mNext[i=n/3|0]=this.mFree,this.mFree=i,o[n+1]=-2147483648,o[n+2]=-1,this.mSize--,e;for(s=n,n=o[n+2],i=-2147483648;-1!=n;){if(o[n]==e){i=o[n+1];break}n=o[(s=n)+2]}return-2147483648!=i?(o[s+2]=o[n+2],this.mNext[e=n/3|0]=this.mFree,this.mFree=e,o[n+1]=-2147483648,o[n+2]=-1,this.mSize--,i):-2147483648},toKeyArray:function(){if(0==this.mSize)return[];var e=this.mSize;Ca._assert(0<=e,"len >= 0",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:37,className:"polygonal.ds.tools.ArrayTools",methodName:"alloc"}),e=Array(e);for(var i=0,s=this.mData,n=0,o=this.capacity;n<o;){var l=n++;-2147483648!=s[3*l+1]&&(e[i++]=s[3*l])}return e},toString:function(){var e=""+O.string(db.format("[ IntIntHashTable size="+this.mSize+" capacity="+this.capacity+" load=%.2f",[this.get_loadFactor()]));if(0==this.mSize)return e+" ]";e+="\n";for(var i=0,s=this.keys();s.hasNext();){var n=s.next();i=Math.max(i,n)}for(var o=1;0!=i;)++o,i=i/10|0;for(i=[],s="  %- "+o+"d -> %s\n",n=[],o=this.keys();o.hasNext();){var l=o.next();n.push(l)}n.sort(function(y,g){return y-g}),o=1,l=n.length;for(var _=0,h=1;o<l;){if(n[_]==n[o])++h;else{if(i[0]=_=n[_],1<h)this.getAll(_,h=[]),i[1]=h.join(",");else{if(-1==(h=this.mHash[73856093*_&this.mMask]))_=-2147483648;else{var m=this.mData;if(m[h]==_)_=m[h+1];else{var f=-2147483648;for(h=m[h+2];-1!=h;){if(m[h]==_){f=m[h+1];break}h=m[h+2]}_=f}}i[1]=_}e+=O.string(db.format(s,i)),_=o,h=1}++o}if(i[0]=n=n[_],1<h)this.getAll(n,o=[]),i[1]=o.join(",");else{if(-1==(o=this.mHash[73856093*n&this.mMask]))n=-2147483648;else if((l=this.mData)[o]==n)n=l[o+1];else{for(_=-2147483648,o=l[o+2];-1!=o;){if(l[o]==n){_=l[o+1];break}o=l[o+2]}n=_}i[1]=n}return(e+=O.string(db.format(s,i)))+"]"},has:function(e){Ca._assert(-2147483648!=e,"val 0x80000000 is reserved(val != VAL_ABSENT)",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/IntIntHashTable.hx",lineNumber:697,className:"polygonal.ds.IntIntHashTable",methodName:"has"});for(var i=!1,s=this.mData,n=0,o=this.capacity;n<o;)if(s[3*n+++1]==e){i=!0;break}return i},hasKey:function(e){var i=this.mHash[73856093*e&this.mMask];if(-1==i)return!1;var s=this.mData;if(s[i]==e)return!0;var n=!1;for(i=s[i+2];-1!=i;){if(s[i]==e){n=!0;break}i=s[i+2]}return n},count:function(e){var i=0,s=this.mHash[73856093*e&this.mMask];if(-1!=s)for(var n=this.mData;-1!=s;)n[s]==e&&++i,s=n[s+2];return i},get:function(e){var i=this.mHash[73856093*e&this.mMask];if(-1==i)return-2147483648;var s=this.mData;if(s[i]==e)return s[i+1];var n=-2147483648;for(i=s[i+2];-1!=i;){if(s[i]==e){n=s[i+1];break}i=s[i+2]}return n},getAll:function(e,i){var s=this.mHash[73856093*e&this.mMask];if(-1==s)return 0;var n=0,o=this.mData;for(o[s]==e&&(i[n++]=o[s+1]),s=o[s+2];-1!=s;)o[s]==e&&(i[n++]=o[s+1]),s=o[s+2];return n},hasPair:function(e,i){Ca._assert(-2147483648!=i,"val 0x80000000 is reserved(val != KEY_ABSENT)",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/IntIntHashTable.hx",lineNumber:891,className:"polygonal.ds.IntIntHashTable",methodName:"hasPair"});var s=this.mHash[73856093*e&this.mMask];if(-1!=s){var n=this.mData;if(n[s]==e&&n[s+1]==i)return!0;for(s=n[s+2];-1!=s;){if(n[s]==e&&n[s+1]==i)return!0;s=n[s+2]}}return!1},unsetPair:function(e,i){Ca._assert(-2147483648!=i,"val 0x80000000 is reserved(val != KEY_ABSENT)",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/IntIntHashTable.hx",lineNumber:939,className:"polygonal.ds.IntIntHashTable",methodName:"unsetPair"});var s=73856093*e&this.mMask,n=this.mHash,o=n[s];if(-1==o)return!1;var l=this.mData;if(e==l[o]&&i==l[o+1])return n[s]=-1==l[o+2]?-1:l[o+2],this.mNext[e=o/3|0]=this.mFree,this.mFree=e,l[o+1]=-2147483648,l[o+2]=-1,this.mSize--,!0;for(s=!1,n=o,o=l[o+2];-1!=o;){if(l[o]==e&&l[o+1]==i){s=!0;break}o=l[(n=o)+2]}return!!s&&(l[n+2]=l[o+2],this.mNext[e=o/3|0]=this.mFree,this.mFree=e,l[o+1]=-2147483648,l[o+2]=-1,--this.mSize,!0)},set:function(e,i){Ca._assert(-2147483648!=i,"val 0x80000000 is reserved(val != KEY_ABSENT)",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/IntIntHashTable.hx",lineNumber:1046,className:"polygonal.ds.IntIntHashTable",methodName:"set"}),this.mSize==this.capacity&&this.grow();var s=this.mData,n=this.mHash,o=3*this.mFree;this.mFree=this.mNext[this.mFree],s[o]=e,s[o+1]=i;var l=73856093*e&this.mMask;if(-1==(i=n[l]))return n[l]=o,this.mSize++,!0;for(n=s[i]!=e,l=s[i+2];-1!=l;)s[l]==e&&(n=!1),i=l,l=s[l+2];return s[i+2]=o,this.mSize++,n},unset:function(e){var i=73856093*e&this.mMask,s=this.mHash,n=s[i];if(-1==n)return!1;var o=this.mData;if(e==o[n])return s[i]=-1==o[n+2]?-1:o[n+2],this.mNext[e=n/3|0]=this.mFree,this.mFree=e,o[n+1]=-2147483648,o[n+2]=-1,this.mSize--,!0;for(i=!1,s=n,n=o[n+2];-1!=n;){if(o[n]==e){i=!0;break}n=o[(s=n)+2]}return!!i&&(o[s+2]=o[n+2],this.mNext[e=n/3|0]=this.mFree,this.mFree=e,o[n+1]=-2147483648,o[n+2]=-1,this.mSize--,!0)},toValSet:function(){for(var e=new qh(this.capacity),i=this.mData,s=0,n=this.capacity;s<n;){var o=s++;if(-2147483648!=(o=i[3*o+1])){Ca._assert(-2147483648!=o,"value 0x80000000 is reserved(val != VAL_ABSENT)",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/IntHashSet.hx",lineNumber:521,className:"polygonal.ds.IntHashSet",methodName:"set"});var l=73856093*o&e.mMask,_=e.mData,h=e.mHash[l];if(-1==h)e.mSize==e.capacity&&(e.grow(),_=e.mData),h=e.mFree<<1,e.mFree=e.mNext[e.mFree],e.mHash[l]=h,_[h]=o,e.mSize++;else if(_[h]!=o){for(l=_[h+1];-1!=l;){if(_[l]==o){h=-1;break}h=l,l=_[l+1]}-1!=h&&(e.mSize==e.capacity&&(e.grow(),_=e.mData),l=e.mFree<<1,e.mFree=e.mNext[e.mFree],_[l]=o,_[h+1]=l,e.mSize++)}}}return e},toKeySet:function(){for(var e=new qh(this.capacity),i=this.mData,s=0,n=this.capacity;s<n;){var o=s++;if(-2147483648!=i[3*o+1]){Ca._assert(-2147483648!=(o=i[3*o]),"value 0x80000000 is reserved(val != VAL_ABSENT)",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/IntHashSet.hx",lineNumber:521,className:"polygonal.ds.IntHashSet",methodName:"set"});var l=73856093*o&e.mMask,_=e.mData,h=e.mHash[l];if(-1==h)e.mSize==e.capacity&&(e.grow(),_=e.mData),h=e.mFree<<1,e.mFree=e.mNext[e.mFree],e.mHash[l]=h,_[h]=o,e.mSize++;else if(_[h]!=o){for(l=_[h+1];-1!=l;){if(_[l]==o){h=-1;break}h=l,l=_[l+1]}-1!=h&&(e.mSize==e.capacity&&(e.grow(),_=e.mData),l=e.mFree<<1,e.mFree=e.mNext[e.mFree],_[l]=o,_[h+1]=l,e.mSize++)}}}return e},keys:function(){return new Fp(this)},pack:function(){if(this.capacity==this.mMinCapacity)return this;var e=this.mSize,i=this.mMinCapacity;this.capacity=e>i?e:i,e=this.mData,i=0;for(var s=this.mHash,n=Array(3*this.capacity),o=2,l=0,_=this.capacity;l<_;)l++,n[o-1]=-2147483648,n[o]=-1,o+=3;for(l=0,_=this.slotCount;l<_;){var h=l++;if(-1!=(o=s[h]))for(s[h]=i,n[i]=e[o],n[i+1]=e[o+1],n[i+2]=-1,i+=3,o=e[o+2];-1!=o;)n[i-1]=i,n[i]=e[o],n[i+1]=e[o+1],n[i+2]=-1,i+=3,o=e[o+2]}for(this.mData=n,e=this.mNext=Array(this.capacity),i=0,s=this.capacity-1;i<s;)e[n=i++]=n+1;return this.mFree=e[this.capacity-1]=-1,this},iter:function(e){Ca._assert(null!=e,"f != null",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/IntIntHashTable.hx",lineNumber:1360,className:"polygonal.ds.IntIntHashTable",methodName:"iter"});for(var s,n,i=this.mData,o=0,l=this.capacity;o<l;)-2147483648!=(n=i[1+(s=3*o++)])&&e(i[s],n);return this},hashCode:function(e){return 73856093*e&this.mMask},grow:function(){var e=this.capacity;this.capacity=oh.compute(this.growthRate,this.capacity);var i=Array(this.capacity);Rb.blit(this.mNext,0,i,0,e),this.mNext=i,i=Array(3*this.capacity),Rb.blit(this.mData,0,i,0,3*e),this.mData=i,i=this.mNext;for(var s=e-1,n=this.capacity-1;s<n;){var o=s++;i[o]=o+1}for(i[this.capacity-1]=-1,this.mFree=e,s=3*e+2,i=this.mData,n=0,e=this.capacity-e;n<e;)n++,i[s-1]=-2147483648,i[s]=-1,s+=3},get_size:function(){return this.mSize},free:function(){this.mNext=this.mData=this.mHash=null,null!=this.mIterator&&(this.mIterator.free(),this.mIterator=null),this.mTmpBuffer=null},contains:function(e){return this.has(e)},remove:function(e){Ca._assert(-2147483648!=e,"val 0x80000000 is reserved(val != KEY_ABSENT)",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/IntIntHashTable.hx",lineNumber:1465,className:"polygonal.ds.IntIntHashTable",methodName:"remove"});for(var l,i=0,s=this.mTmpBuffer,n=this.mTmpBufferSize,o=this.mData,_=0,h=this.capacity;_<h;)o[1+(l=3*_++)]==e&&(i==n&&(this.mTmpBufferSize=n<<=1,s=Array(n),Rb.blit(this.mTmpBuffer,0,s,0,i),this.mTmpBuffer=s),s[i++]=o[l]);for(e=0,n=i;e<n;){o=e++;var m=this.mHash;if(-1!=(o=m[h=73856093*(_=s[o])&this.mMask]))if(_==(l=this.mData)[o])m[h]=-1==l[o+2]?-1:l[o+2],this.mNext[_=o/3|0]=this.mFree,this.mFree=_,l[o+1]=-2147483648,l[o+2]=-1,this.mSize--;else{for(h=!1,m=o,o=l[o+2];-1!=o;){if(l[o]==_){h=!0;break}o=l[(m=o)+2]}h&&(l[m+2]=l[o+2],this.mNext[_=o/3|0]=this.mFree,this.mFree=_,l[o+1]=-2147483648,l[o+2]=-1,this.mSize--)}}return 0<i},clear:function(e){e=this.mHash;for(var i=0,s=this.slotCount;i<s;){var n=i++;e[n]=-1}for(i=2,e=this.mData,s=0,n=this.capacity;s<n;)s++,e[i-1]=-2147483648,e[i]=-1,i+=3;for(e=this.mNext,i=0,s=this.capacity-1;i<s;)e[n=i++]=n+1;e[this.capacity-1]=-1,this.mSize=this.mFree=0},iterator:function(){return this.reuseIterator?(null==this.mIterator?this.mIterator=new bm(this):this.mIterator.reset(),this.mIterator):new bm(this)},isEmpty:function(){return 0==this.mSize},toArray:function(){if(0==this.mSize)return[];var e=this.mSize;Ca._assert(0<=e,"len >= 0",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:37,className:"polygonal.ds.tools.ArrayTools",methodName:"alloc"}),e=Array(e);for(var s,i=0,n=this.mData,o=0,l=this.capacity;o<l;)-2147483648!=(s=n[3*(s=o++)+1])&&(e[i++]=s);return e},clone:function(e,i){return e=new Rg(this.slotCount,this.capacity),Rb.blit(this.mHash,0,e.mHash,0,this.slotCount),Rb.blit(this.mData,0,e.mData,0,3*this.capacity),Rb.blit(this.mNext,0,e.mNext,0,this.capacity),e.mMask=this.mMask,e.slotCount=this.slotCount,e.capacity=this.capacity,e.mFree=this.mFree,e.mSize=this.mSize,e},__class__:Rg,__properties__:{get_size:"get_size",get_loadFactor:"get_loadFactor"}};var bm=function(e){this.mObject=e,this.mData=e.mData,this.mI=0,this.mS=e.capacity,this.scan()};k["polygonal.ds.IntIntHashTableValIterator"]=bm,bm.__name__="polygonal.ds.IntIntHashTableValIterator",bm.__interfaces__=[ph],bm.prototype={mObject:null,mI:null,mS:null,mData:null,free:function(){this.mData=this.mObject=null},reset:function(){return this.mData=this.mObject.mData,this.mI=0,this.mS=this.mObject.capacity,this.scan(),this},hasNext:function(){return this.mI<this.mS},next:function(){var e=this.mData[3*this.mI+++1];return this.scan(),e},remove:function(){throw new E("unsupported operation")},scan:function(){for(;this.mI<this.mS&&-2147483648==this.mData[3*this.mI+1];)this.mI++},__class__:bm};var Fp=function(e){this.mObject=e,this.mData=e.mData,this.mI=0,this.mS=e.capacity,this.scan()};k["polygonal.ds.IntIntHashTableKeyIterator"]=Fp,Fp.__name__="polygonal.ds.IntIntHashTableKeyIterator",Fp.__interfaces__=[ph],Fp.prototype={mObject:null,mI:null,mS:null,mData:null,free:function(){this.mData=this.mObject=null},reset:function(){return this.mData=this.mObject.mData,this.mI=0,this.mS=this.mObject.capacity,this.scan(),this},hasNext:function(){return this.mI<this.mS},next:function(){var e=this.mData[3*this.mI++];return this.scan(),e},remove:function(){throw new E("unsupported operation")},scan:function(){for(;this.mI<this.mS&&-2147483648==this.mData[3*this.mI+1];)this.mI++},__class__:Fp};var ij=function(e,i){if(null==e&&(e=16),this.mIterator=null,this.mSize=0,this.reuseIterator=!1,this.growthRate=-2,this.key=Qg.next(),this.capacity=this.mInitialCapacity=1>e?1:e,null!=i&&(this.capacity=i.length),this.mData=Array(this.capacity),null!=i)for(e=0;e<i.length;){var s=i[e];++e,this.set(s)}};k["polygonal.ds.ListSet"]=ij,ij.__name__="polygonal.ds.ListSet",ij.__interfaces__=[zk],ij.prototype={key:null,capacity:null,growthRate:null,reuseIterator:null,mData:null,mInitialCapacity:null,mSize:null,mIterator:null,reserve:function(e){return e>this.capacity&&(this.capacity=e,this.resizeContainer(e)),this},pack:function(){if(this.capacity>this.mInitialCapacity){var e=this.mInitialCapacity,i=this.mSize;this.capacity=e>i?e:i,this.resizeContainer(this.capacity)}else{e=this.mData,i=this.mSize;for(var s=this.capacity;i<s;)e[i++]=null}return this},iter:function(e){Ca._assert(null!=e,"f != null",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/ListSet.hx",lineNumber:136,className:"polygonal.ds.ListSet",methodName:"iter"});for(var i=this.mData,s=0,n=this.mSize;s<n;)e(i[s++]);return this},toString:function(){var e=""+O.string("[ ListSet size="+this.mSize);if(this.isEmpty())return e+" ]";e+="\n";for(var i=0,s=this.mSize;i<s;){var n=i++;e+="  ",e+=O.string(O.string(this.mData[n])),e+="\n"}return e+"]"},has:function(e){if(this.isEmpty())return!1;for(var i=this.mData,s=0,n=this.mSize;s<n;)if(i[s++]==e)return!0;return!1},set:function(e){for(var i=this.mData,s=0,n=this.mSize;s<n;)if(i[s++]==e)return!1;return this.mSize==this.capacity&&(this.grow(),i=this.mData),i[this.mSize++]=e,!0},unset:function(e){return this.remove(e)},merge:function(e,i,s){if(i)for(s=e.iterator();s.hasNext();)e=s.next(),this.set(e);else if(null!=s)for(e=e.iterator();e.hasNext();)i=e.next(),this.set(s(i));else for(s=e.iterator();s.hasNext();)e=s.next(),Ca._assert(T.__implements(e,Pg),"element is not of type Cloneable(Std.is(val, Cloneable))",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/ListSet.hx",lineNumber:230,className:"polygonal.ds.ListSet",methodName:"merge"}),this.set(T.__cast(e,Pg).clone())},get_size:function(){return this.mSize},free:function(){Rb.nullify(this.mData),this.mData=null,null!=this.mIterator&&(this.mIterator.free(),this.mIterator=null)},contains:function(e){return this.has(e)},remove:function(e){for(var i=this.mData,s=0,n=this.mSize;s<n;){var o=s++;if(i[o]==e)return i[o]=this.mData[--this.mSize],!0}return!1},clear:function(e){null==e&&(e=!1),e&&Rb.nullify(this.mData),this.mSize=0},iterator:function(){if(this.reuseIterator){if(null==this.mIterator)this.mIterator=new cm(this);else{var e=this.mIterator;e.mData=e.mObject.mData,e.mS=e.mObject.mSize,e.mI=0}return this.mIterator}return new cm(this)},isEmpty:function(){return 0==this.mSize},toArray:function(){return Rb.toArray(this.mData,0,this.mSize,[])},clone:function(e,i){null==e&&(e=!0);var s=new ij;s.capacity=this.mSize,s.mSize=this.mSize,s.mData=Array(this.mSize);var n=this.mData,o=s.mData;if(e)Rb.blit(n,0,o,0,this.mSize);else if(null==i)for(i=0,e=this.mSize;i<e;){var l=i++;Ca._assert(T.__implements(n[l],Pg),"element is not of type Cloneable(Std.is(src.get(i), Cloneable))",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/ListSet.hx",lineNumber:359,className:"polygonal.ds.ListSet",methodName:"clone"}),o[l]=T.__cast(n[l],Pg).clone()}else for(e=0,l=this.mSize;e<l;){var _=e++;o[_]=i(n[_])}return s},grow:function(){this.capacity=oh.compute(this.growthRate,this.capacity),this.resizeContainer(this.capacity)},resizeContainer:function(e){e=Array(e),Rb.blit(this.mData,0,e,0,this.mSize),this.mData=e},__class__:ij,__properties__:{get_size:"get_size"}};var cm=function(e){this.mObject=e,this.mData=this.mObject.mData,this.mS=this.mObject.mSize,this.mI=0};k["polygonal.ds.ListSetIterator"]=cm,cm.__name__="polygonal.ds.ListSetIterator",cm.__interfaces__=[ph],cm.prototype={mObject:null,mData:null,mI:null,mS:null,free:function(){this.mData=this.mObject=null},reset:function(){return this.mData=this.mObject.mData,this.mS=this.mObject.mSize,this.mI=0,this},hasNext:function(){return this.mI<this.mS},next:function(){return this.mData[this.mI++]},remove:function(){Ca._assert(0<this.mI,"call next() before removing an element(mI > 0)",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/ListSet.hx",lineNumber:430,className:"polygonal.ds.ListSetIterator",methodName:"remove"}),this.mData[this.mI]=this.mData[--this.mS]},__class__:cm};var db=function(){};k["polygonal.ds.Printf"]=db,db.__name__="polygonal.ds.Printf",db.init=function(){db._padChars=Array(40),db._padChars[0]=aa.rpad("","0",0),db._padChars[1]=aa.rpad("","0",1),db._padChars[2]=aa.rpad("","0",2),db._padChars[3]=aa.rpad("","0",3),db._padChars[4]=aa.rpad("","0",4),db._padChars[5]=aa.rpad("","0",5),db._padChars[6]=aa.rpad("","0",6),db._padChars[7]=aa.rpad("","0",7),db._padChars[8]=aa.rpad("","0",8),db._padChars[9]=aa.rpad("","0",9),db._padChars[10]=aa.rpad("","0",10),db._padChars[11]=aa.rpad("","0",11),db._padChars[12]=aa.rpad("","0",12),db._padChars[13]=aa.rpad("","0",13),db._padChars[14]=aa.rpad("","0",14),db._padChars[15]=aa.rpad("","0",15),db._padChars[16]=aa.rpad("","0",16),db._padChars[17]=aa.rpad("","0",17),db._padChars[18]=aa.rpad("","0",18),db._padChars[19]=aa.rpad("","0",19);for(var e=0;20>e;){var i=e++;db._padChars[i+20]=aa.rpad(""," ",i)}db._tmp=Array(64)},db.format=function(e,i){db._initialized||(db._initialized=!0,db.init());var s=new $c,n=0,o=[],l=0;for(e=db.tokenize(e,o);l<e;){var _=l++,h=o[_];switch(h._hx_index){case 0:s.b+=null==(_=h.string)?"null":""+_;break;case 1:if(_=h.args,h=h.type,null==_.width){if(!T.__instanceof(i[n],sj))throw new E(new Nh("invalid 'width' argument"));_.width=i[n++]}if(null==_.precision){if(!T.__instanceof(i[n],sj))throw new E(new Nh("invalid 'precision' argument"));_.precision=i[n++]}if(-1<_.pos){if(_.pos>i.length-1)throw new E(new Nh("argument index out of range"));var m=i[_.pos]}else m=i[n++];switch(null==m&&(m="null"),h._hx_index){case 0:switch(h.type._hx_index){case 0:db.formatCharacter(m,_,s);break;case 1:db.formatSignedDecimal(m,_,s);break;case 2:db.formatUnsignedDecimal(m,_,s);break;case 3:db.formatOctal(m,_,s);break;case 4:db.formatHexadecimal(m,_,s);break;case 5:db.formatBinary(m,_,s)}break;case 1:switch(h.floatType._hx_index){case 0:db.formatFloat(m,_,s);break;case 1:db.formatScientific(m,_,s);break;case 2:db.formatNaturalFloat(m,_,s)}break;case 2:db.formatString(m,_,s);break;case 3:throw new E(new Nh("specifier 'p' is not supported"));case 4:throw new E(new Nh("specifier 'n' is not supported"))}break;case 2:if(_=h.name,!Object.prototype.hasOwnProperty.call(i[0],_))throw new E(new Nh('no field named "'+_+'" found'));s.b+=O.string(O.string(X.field(i[0],_))),++n;break;case 3:throw new E(new Nh("Invalid format specifier."))}}return s.b},db.tokenize=function(e,i){for(var n,s=0,o=0,l=new $c,_=e.length;s<_;)if(37==(n=e.charCodeAt(s++)))if(37==(n=e.charCodeAt(s++)))l.b+=String.fromCodePoint(n);else{if(0<l.b.length&&(i[o++]=dm.Raw(l.b),l=new $c),40==n)if(-1==(n=e.indexOf(")",s)))n=dm.Unknown("named parameter",s);else{var h=B.substr(e,s,n-s);s=n+1,n=dm.Property(h)}else{null==(h=0)&&(h=0),h=new Fr(h,-1,-1,-1);t:for(;32<=n&&48>=n;)switch(n){case 32:n=e.charCodeAt(s++),h.flags|=1<<kb.Space._hx_index;break;case 35:n=e.charCodeAt(s++),h.flags|=1<<kb.Sharp._hx_index;break;case 43:n=e.charCodeAt(s++),h.flags|=1<<kb.Plus._hx_index;break;case 45:n=e.charCodeAt(s++),h.flags|=1<<kb.Minus._hx_index;break;case 48:n=e.charCodeAt(s++),h.flags|=1<<kb.Zero._hx_index;break;default:break t}if(h.flags&1<<kb.Minus._hx_index&&h.flags&1<<kb.Zero._hx_index&&(h.flags&=-1-(1<<kb.Zero._hx_index)),h.flags&1<<kb.Space._hx_index&&h.flags&1<<kb.Plus._hx_index&&(h.flags&=-1-(1<<kb.Space._hx_index)),42==n)h.width=null,n=e.charCodeAt(s++);else if(48<=n&&57>=n){for(var m=0;48<=n&&57>=n;)m=n-48+10*m,n=e.charCodeAt(s++);if(h.width=m,36==n)if(h.pos=m-1,h.width=-1,42==(n=e.charCodeAt(s++)))h.width=null,n=e.charCodeAt(s++);else if(48<=n&&57>=n){for(m=0;48<=n&&57>=n;)m=n-48+10*m,n=e.charCodeAt(s++);h.width=m}}if(46==n)if(42==(n=e.charCodeAt(s++)))h.precision=null,n=e.charCodeAt(s++);else{if(m=0,48<=n&&57>=n)for(;48<=n&&57>=n;)m=n-48+10*m,n=e.charCodeAt(s++);h.precision=m}t:for(;76<=n&&108>=n;)switch(n){case 76:n=e.charCodeAt(s++),h.flags|=1<<kb.LengthUpperCaseL._hx_index;break;case 104:n=e.charCodeAt(s++),h.flags|=1<<kb.LengthH._hx_index;break;case 108:n=e.charCodeAt(s++),h.flags|=1<<kb.LengthLowerCaseL._hx_index;break;default:break t}if(69<=n&&120>=n){switch(n){case 69:h.flags|=1<<kb.UpperCase._hx_index,m=Of.FmtFloat(Gr.FScientific);break;case 71:h.flags|=1<<kb.UpperCase._hx_index,m=Of.FmtFloat(Gr.FNatural);break;case 88:h.flags|=1<<kb.UpperCase._hx_index,m=Of.FmtInt(Ak.IHex);break;case 98:m=Of.FmtInt(Ak.IBin);break;case 99:m=Of.FmtInt(Ak.ICharacter);break;case 100:case 105:m=Of.FmtInt(Ak.ISignedDecimal);break;case 101:m=Of.FmtFloat(Gr.FScientific);break;case 102:m=Of.FmtFloat(Gr.FNormal);break;case 103:m=Of.FmtFloat(Gr.FNatural);break;case 110:m=Of.FmtNothing;break;case 111:m=Of.FmtInt(Ak.IOctal);break;case 112:m=Of.FmtPointer;break;case 115:m=Of.FmtString;break;case 117:m=Of.FmtInt(Ak.IUnsignedDecimal);break;case 120:m=Of.FmtInt(Ak.IHex);break;default:m=null}n=null==m?dm.Unknown(String.fromCodePoint(n),s):dm.Tag(m,h)}else n=dm.Unknown(String.fromCodePoint(n),s)}i[o++]=n}else l.b+=String.fromCodePoint(n);return 0<l.b.length&&(i[o++]=dm.Raw(l.b)),o},db.formatBinary=function(e,i,s){var n=i.flags,o=i.precision,l=i.width;if(n&1<<kb.LengthH._hx_index&&(e&=65535),0==e){if(0==o)return;n&=-1-(1<<kb.Sharp._hx_index)}-1==o&&(o=1),i=db._tmp;for(var _=0;i[_++]=1&e,0<(e>>>=1););if(e=_,n&1<<kb.Minus._hx_index){if(n&1<<kb.Sharp._hx_index&&(s.b+="0b"),o>_)for(var h=0,m=o-_;h<m;)h++,s.b+="0";for(;-1<--e;)s.b+=String.fromCodePoint(48+i[e]);if(n&1<<kb.Sharp._hx_index&&(l-=2),o>_&&(_=o),l>_)for(o=0,i=l-_;o<i;)o++,s.b+=" "}else{if(o>(h=_)&&(h=o),n&1<<kb.Sharp._hx_index&&(l-=2),l>h)if(n&1<<kb.Zero._hx_index&&1==o)for(m=0,l-=h;m<l;)m++,s.b+="0";else for(m=0,l-=h;m<l;)m++,s.b+=" ";if(n&1<<kb.Sharp._hx_index&&(s.b+="0b"),o>_)for(n=0,o-=_;n<o;)n++,s.b+="0";for(;-1<--e;)s.b+=String.fromCodePoint(48+i[e])}},db.formatOctal=function(e,i,s){var n=i.flags,o=i.precision,l=i.width;if(n&1<<kb.LengthH._hx_index&&(e&=65535),0==e){if(0==o)return void(s.b+=O.string(n&1<<kb.Sharp._hx_index?"0":""));n&=-1-(1<<kb.Sharp._hx_index)}i=db._tmp;for(var _=0;i[_++]=7&e,0<(e>>>=3););if(e=_,-1!=o?n&1<<kb.Zero._hx_index&&(n&=-1-(1<<kb.Zero._hx_index),n|=1<<kb.Space._hx_index):o=1,n&1<<kb.Minus._hx_index){if(n&1<<kb.Sharp._hx_index&&(s.b+="0",++_),o>_){n=0;for(var h=o-_;n<h;)n++,s.b+="0"}for(;-1<--e;)n=String.fromCodePoint(48+i[e]),s.b+=O.string(n);if(o>_&&(_=o),l>_)for(i=0,o=l-_;i<o;)i++,s.b+=" "}else{if(n&1<<kb.Sharp._hx_index&&++_,o>(h=_)&&(h=o),l>h)if(n&1<<kb.Zero._hx_index){var m=0;for(l-=h;m<l;)m++,s.b+="0"}else for(m=0,l-=h;m<l;)m++,s.b+=" ";if(n&1<<kb.Sharp._hx_index&&(s.b+="0"),o>_)for(l=0,o-=_;l<o;)l++,s.b+="0";for(;-1<--e;)o=String.fromCodePoint(48+i[e]),s.b+=O.string(o)}},db.formatHexadecimal=function(e,i,s){var n=i.flags,o=i.precision,l=i.width;if(n&1<<kb.LengthH._hx_index&&(e&=65535),0==e){if(0==o)return;n&=-1-(1<<kb.Sharp._hx_index)}-1==o&&(o=1),i=db._tmp;for(var _=0;i[_++]=15&e,0<(e>>>=4););if(e=_,n&1<<kb.Minus._hx_index){if(n&1<<kb.Sharp._hx_index&&(s.b=n&1<<kb.UpperCase._hx_index?s.b+"0X":s.b+"0x"),o>_)for(var h=0,m=o-_;h<m;)h++,s.b+="0";for(h=n&1<<kb.UpperCase._hx_index?65:97;-1<--e;)10>(m=i[e])?(m=String.fromCodePoint(48+m),s.b+=O.string(m)):(m=String.fromCodePoint(h+(m-10)),s.b+=O.string(m));if(n&1<<kb.Sharp._hx_index&&(l-=2),o>_&&(_=o),l>_)for(i=0,e=l-_;i<e;)i++,s.b+=" "}else{if(o>(h=_)&&(h=o),n&1<<kb.Sharp._hx_index&&(l-=2),l>h)if(n&1<<kb.Zero._hx_index&&1==o)for(m=0,l-=h;m<l;)m++,s.b+="0";else for(m=0,l-=h;m<l;)m++,s.b+=" ";if(n&1<<kb.Sharp._hx_index&&(s.b=n&1<<kb.UpperCase._hx_index?s.b+"0X":s.b+"0x"),o>_)for(l=0,o-=_;l<o;)l++,s.b+="0";for(n=n&1<<kb.UpperCase._hx_index?65:97;-1<--e;)10>(o=i[e])?(o=String.fromCodePoint(48+o),s.b+=O.string(o)):(o=String.fromCodePoint(n+(o-10)),s.b+=O.string(o))}},db.formatSignedDecimal=function(e,i,s){var n=i.flags,o=i.precision,l=i.width;if(0!=o||0!=e){n&1<<kb.LengthH._hx_index&&(e&=65535);var _=(i=O.string(0>e?-e:e)).length,h=0>e?"-":n&1<<kb.Plus._hx_index?"+":n&1<<kb.Space._hx_index?" ":null;if(e=null!=h,n&1<<kb.Minus._hx_index){if(e&&(s.b+=null==h?"null":""+h),o>_)for(n=0,h=o-_;n<h;)n++,s.b+="0";if(s.b+=null==i?"null":""+i,o>_&&(_=o),l>(_+=e?1:0))for(o=0,i=l-_;o<i;)o++,s.b+=" "}else{var m=_+(e?1:0);if(o>m&&(m=o),l>m)if(n&1<<kb.Zero._hx_index){e&&(s.b+=null==h?"null":""+h);var f=0;for(l-=m;f<l;)f++,s.b+="0"}else for(f=0,l-=m;f<l;)f++,s.b+=" ";if(e&&!(n&1<<kb.Zero._hx_index)&&(s.b+=null==h?"null":""+h),o>_)for(n=0,o-=_;n<o;)n++,s.b+="0";s.b+=null==i?"null":""+i}}},db.formatUnsignedDecimal=function(e,i,s){if(0<=e)db.formatSignedDecimal(e,i,s);else{e=new Qb(0,e);var n=(e=Wn.toString(e)).length,o=i.flags,l=i.precision;if(i=i.width,o&1<<kb.Minus._hx_index){if(l>n){var _=0;for(o=l-n;_<o;)_++,s.b+="0"}if(s.b+=null==e?"null":""+e,l>n&&(n=l),i>n)for(e=0,n=i-n;e<n;)e++,s.b+=" "}else{if(l>(_=n)&&(_=l),i>_)if(o&1<<kb.Zero._hx_index)for(o=0,i-=_;o<i;)o++,s.b+="0";else for(o=0,i-=_;o<i;)o++,s.b+=" ";if(l>n)for(i=0,n=l-n;i<n;)i++,s.b+="0";s.b+=null==e?"null":""+e}}},db.formatNaturalFloat=function(e,i,s){var n=new $c;db.formatFloat(e,i,n);var o=n.b;n=new $c,db.formatScientific(e,i,n),s.b+=null==(o=o.length<=(e=n.b).length?o:e)?"null":""+o},db.formatScientific=function(e,i,s){var n=i.flags,o=i.precision;-1==o&&(o=db.DEFAULT_PRECISION);var l,_="";if(0==e){var h=l=0;if(_+="0",0<o){_+=".";for(var m=0,f=o;m<f;)m++,_+="0"}}else l=0<e?1:0>e?-1:0,e=(m=Math).abs(e),h=m.floor(Math.log(e)/2.302585092994046),e/=m.pow(10,h),m=m.pow(.1,o),e=Math.round(e/m)*m;if(0!=e&&(_+=B.substr(null==e?"null":""+e,0,o+2)),_+=n&1<<kb.UpperCase._hx_index?"E":"e",_+=0<=h?"+":"-",e=O.string(0>h?-h:h),!(1>(m=db.DEFAULT_NUM_EXP_DIGITS-e.length))){if(30<m)for(o="0",h=0,--m;h<m;)h++,o+="0";else o=db._padChars[m];e=o+e}if(_+=e,(e=-1==l||0!=(n&1<<kb.Plus._hx_index)||0!=(n&1<<kb.Space._hx_index))&&!(n&1<<kb.Zero._hx_index)&&(_=(-1==l?"-":n&1<<kb.Plus._hx_index?"+":" ")+_),0<i.width&&(i=i.width,e&&n&1<<kb.Zero._hx_index&&--i,o=n&1<<kb.Zero._hx_index?0:20,!(1>(i-=_.length)))){if(30<i)for(o=h=0==o?"0":" ",m=0,--i;m<i;)m++,o+=h;else o=db._padChars[o+i];_=o+_}e&&n&1<<kb.Zero._hx_index&&(_=(-1==l?"-":n&1<<kb.Plus._hx_index?"+":" ")+_),s.b+=null==_?"null":""+_},db.formatFloat=function(e,i,s){var n=i.flags,o=i.precision;-1==o&&(o=db.DEFAULT_PRECISION),i=i.width;var l=0>e;0==o?(e=O.string(Math.round(e)),n&1<<kb.Sharp._hx_index&&(e+=".")):e=e.toFixed(o);var _=e.length;if(l&&-1<e.indexOf("-")&&(e=B.substr(e,1,null)),o=null,n&1<<kb.Plus._hx_index&&!l?(o="+",++_):n&1<<kb.Space._hx_index?(o=" ",++_):l&&(o="-"),l=null!=o,n&1<<kb.Minus._hx_index){if(l&&(s.b+=null==o?"null":""+o),s.b+=null==e?"null":""+e,i>_)for(e=0,i-=_;e<i;)e++,s.b+=" "}else{if(i>_)if(n&1<<kb.Zero._hx_index)for(l&&(s.b+=null==o?"null":""+o,l=!1),n=0,i-=_;n<i;)n++,s.b+="0";else for(n=0,i-=_;n<i;)n++,s.b+=" ";l&&(s.b+=null==o?"null":""+o),s.b+=null==e?"null":""+e}},db.formatCharacter=function(e,i,s){if(i.flags&1<<kb.Minus._hx_index)for(e=String.fromCodePoint(e),s.b+=O.string(e),e=0,i=i.width-1;e<i;)e++,s.b+=" ";else{var n=0;for(i=i.width-1;n<i;)n++,s.b+=" ";i=String.fromCodePoint(e),s.b+=O.string(i)}},db.formatString=function(e,i,s){var n=e.length,o=i.precision;if(i.flags&1<<kb.Minus._hx_index)for(-1!=o?(s.b+=B.substr(e,0,null==o?null:o),n=o):s.b+=null==e?"null":""+e,e=0,i=i.width-n;e<i;)e++,s.b+=" ";else{-1!=o&&(n=o);var l=0;for(i=i.width-n;l<i;)l++,s.b+=" ";s.b=-1!=o?s.b+B.substr(e,0,null==o?null:o):s.b+(null==e?"null":""+e)}},db.pad=function(e,i,s,n){if(1>(i-=e.length))return e;if(30<i){var o=0==s?"0":" ";s=o;var l=0;for(--i;l<i;)l++,s+=o}else s=db._padChars[s+i];return 0<n?e+s:s+e};var Nh=function(e){this.message=e};k["polygonal.ds.PrintfError"]=Nh,Nh.__name__="polygonal.ds.PrintfError",Nh.prototype={message:null,toString:function(){return this.message},__class__:Nh};var Fr=function(e,i,s,n){this.flags=e,this.pos=i,this.width=s,this.precision=n};k["polygonal.ds._Printf.FormatArgs"]=Fr,Fr.__name__="polygonal.ds._Printf.FormatArgs",Fr.prototype={flags:null,pos:null,width:null,precision:null,__class__:Fr};var kb=C["polygonal.ds._Printf.FormatFlag"]={__ename__:"polygonal.ds._Printf.FormatFlag",__constructs__:"Minus Plus Space Sharp Zero LengthH LengthUpperCaseL LengthLowerCaseL UpperCase".split(" "),Minus:{_hx_index:0,__enum__:"polygonal.ds._Printf.FormatFlag",toString:v},Plus:{_hx_index:1,__enum__:"polygonal.ds._Printf.FormatFlag",toString:v},Space:{_hx_index:2,__enum__:"polygonal.ds._Printf.FormatFlag",toString:v},Sharp:{_hx_index:3,__enum__:"polygonal.ds._Printf.FormatFlag",toString:v},Zero:{_hx_index:4,__enum__:"polygonal.ds._Printf.FormatFlag",toString:v},LengthH:{_hx_index:5,__enum__:"polygonal.ds._Printf.FormatFlag",toString:v},LengthUpperCaseL:{_hx_index:6,__enum__:"polygonal.ds._Printf.FormatFlag",toString:v},LengthLowerCaseL:{_hx_index:7,__enum__:"polygonal.ds._Printf.FormatFlag",toString:v},UpperCase:{_hx_index:8,__enum__:"polygonal.ds._Printf.FormatFlag",toString:v}},dm=C["polygonal.ds._Printf.FormatToken"]={__ename__:"polygonal.ds._Printf.FormatToken",__constructs__:["Raw","Tag","Property","Unknown"],Raw:(w=function(e){return{_hx_index:0,string:e,__enum__:"polygonal.ds._Printf.FormatToken",toString:v}},w.__params__=["string"],w),Tag:(w=function(e,i){return{_hx_index:1,type:e,args:i,__enum__:"polygonal.ds._Printf.FormatToken",toString:v}},w.__params__=["type","args"],w),Property:(w=function(e){return{_hx_index:2,name:e,__enum__:"polygonal.ds._Printf.FormatToken",toString:v}},w.__params__=["name"],w),Unknown:(w=function(e,i){return{_hx_index:3,string:e,pos:i,__enum__:"polygonal.ds._Printf.FormatToken",toString:v}},w.__params__=["string","pos"],w)},Of=C["polygonal.ds._Printf.FormatDataType"]={__ename__:"polygonal.ds._Printf.FormatDataType",__constructs__:["FmtInt","FmtFloat","FmtString","FmtPointer","FmtNothing"],FmtInt:(w=function(e){return{_hx_index:0,type:e,__enum__:"polygonal.ds._Printf.FormatDataType",toString:v}},w.__params__=["type"],w),FmtFloat:(w=function(e){return{_hx_index:1,floatType:e,__enum__:"polygonal.ds._Printf.FormatDataType",toString:v}},w.__params__=["floatType"],w),FmtString:{_hx_index:2,__enum__:"polygonal.ds._Printf.FormatDataType",toString:v},FmtPointer:{_hx_index:3,__enum__:"polygonal.ds._Printf.FormatDataType",toString:v},FmtNothing:{_hx_index:4,__enum__:"polygonal.ds._Printf.FormatDataType",toString:v}},Ak=C["polygonal.ds._Printf.IntType"]={__ename__:"polygonal.ds._Printf.IntType",__constructs__:"ICharacter ISignedDecimal IUnsignedDecimal IOctal IHex IBin".split(" "),ICharacter:{_hx_index:0,__enum__:"polygonal.ds._Printf.IntType",toString:v},ISignedDecimal:{_hx_index:1,__enum__:"polygonal.ds._Printf.IntType",toString:v},IUnsignedDecimal:{_hx_index:2,__enum__:"polygonal.ds._Printf.IntType",toString:v},IOctal:{_hx_index:3,__enum__:"polygonal.ds._Printf.IntType",toString:v},IHex:{_hx_index:4,__enum__:"polygonal.ds._Printf.IntType",toString:v},IBin:{_hx_index:5,__enum__:"polygonal.ds._Printf.IntType",toString:v}},Gr=C["polygonal.ds._Printf.FloatType"]={__ename__:"polygonal.ds._Printf.FloatType",__constructs__:["FNormal","FScientific","FNatural"],FNormal:{_hx_index:0,__enum__:"polygonal.ds._Printf.FloatType",toString:v},FScientific:{_hx_index:1,__enum__:"polygonal.ds._Printf.FloatType",toString:v},FNatural:{_hx_index:2,__enum__:"polygonal.ds._Printf.FloatType",toString:v}},ue=function(){};k["polygonal.ds.tools.ArrayTools"]=ue,ue.__name__="polygonal.ds.tools.ArrayTools",ue.alloc=function(e){return Ca._assert(0<=e,"len >= 0",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:37,className:"polygonal.ds.tools.ArrayTools",methodName:"alloc"}),Array(e)},ue.trim=function(e,i){return e.length>i&&(e.length=i),e},ue.swap=function(e,i,s){if(Ca._assert(null!=e,"array != null",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:94,className:"polygonal.ds.tools.ArrayTools",methodName:"swap"}),Ca._assert(0<=i&&i<e.length,"0 <= a && a < array.length",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:95,className:"polygonal.ds.tools.ArrayTools",methodName:"swap"}),Ca._assert(0<=s&&s<e.length,"0 <= b && b < array.length",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:96,className:"polygonal.ds.tools.ArrayTools",methodName:"swap"}),i!=s){var n=e[i];e[i]=e[s],e[s]=n}},ue.getFront=function(e,i){if(Ca._assert(null!=e,"array != null",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:113,className:"polygonal.ds.tools.ArrayTools",methodName:"getFront"}),Ca._assert(0<=i&&i<e.length,"0 <= index && index < array.length",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:114,className:"polygonal.ds.tools.ArrayTools",methodName:"getFront"}),Ca._assert(null!=e,"array != null",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:94,className:"polygonal.ds.tools.ArrayTools",methodName:"swap"}),Ca._assert(0<=i&&i<e.length,"0 <= a && a < array.length",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:95,className:"polygonal.ds.tools.ArrayTools",methodName:"swap"}),Ca._assert(0<e.length,"0 <= b && b < array.length",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:96,className:"polygonal.ds.tools.ArrayTools",methodName:"swap"}),0!=i){var s=e[i];e[i]=e[0],e[0]=s}return e[0]},ue.init=function(e,i,s,n){for(null==n&&(n=0),null==s&&(s=0),n=0>=n?e.length:s+n,Ca._assert(0<=s&&s<e.length,"min >= 0 && min < a.length",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:129,className:"polygonal.ds.tools.ArrayTools",methodName:"init"}),Ca._assert(n<=e.length,"max <= a.length",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:130,className:"polygonal.ds.tools.ArrayTools",methodName:"init"});s<n;)e[s++]=i;return e},ue.blit=function(e,i,s,n,o){if(0<o)if(Ca._assert(i<e.length,"srcPos out of range(srcPos < src.length)",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:145,className:"polygonal.ds.tools.ArrayTools",methodName:"blit"}),Ca._assert(n<s.length,"dstPos out of range(dstPos < dst.length)",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:146,className:"polygonal.ds.tools.ArrayTools",methodName:"blit"}),Ca._assert(i+o<=e.length&&n+o<=s.length,"n out of range(srcPos + n <= src.length && dstPos + n <= dst.length)",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:147,className:"polygonal.ds.tools.ArrayTools",methodName:"blit"}),e==s){if(i<n)for(s=i+o,n+=o,i=0;i<o;)i++,--s,e[--n]=e[s];else if(i>n)for(s=i,i=0;i<o;)i++,e[n]=e[s],++s,++n}else if(0==i&&0==n)for(n=0;n<o;)s[i=n++]=e[i];else if(0==i)for(i=0;i<o;){var l=i++;s[n+l]=e[l]}else if(0==n)for(n=0;n<o;)s[l=n++]=e[i+l];else for(l=0;l<o;){var _=l++;s[n+_]=e[i+_]}},ue.iter=function(e,i,s){null==s&&(s=0),0==s&&(s=e.length);for(var n=0;n<s;)i(e[n++])},ue.forEach=function(e,i){for(var s=0,n=e.length;s<n;){var o=s++;e[o]=i(e[o],o)}},ue.binarySearchCmp=function(e,i,s,n,o){Ca._assert(null!=e,"a != null",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:236,className:"polygonal.ds.tools.ArrayTools",methodName:"binarySearchCmp"}),Ca._assert(null!=o,"comparator != null",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:237,className:"polygonal.ds.tools.ArrayTools",methodName:"binarySearchCmp"}),Ca._assert(0<=s&&s<e.length,"min >= 0 && min < a.length",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:238,className:"polygonal.ds.tools.ArrayTools",methodName:"binarySearchCmp"}),Ca._assert(n<e.length,"max < a.length",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:239,className:"polygonal.ds.tools.ArrayTools",methodName:"binarySearchCmp"});for(var l,_=n+1;s<_;)0>o(e[l=s+(_-s>>1)],i)?s=l+1:_=l;return s<=n&&0==o(e[s],i)?s:~s},ue.binarySearchf=function(e,i,s,n){Ca._assert(null!=e,"a != null",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:265,className:"polygonal.ds.tools.ArrayTools",methodName:"binarySearchf"}),Ca._assert(0<=s&&s<e.length,"min >= 0 && min < a.length",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:266,className:"polygonal.ds.tools.ArrayTools",methodName:"binarySearchf"}),Ca._assert(n<e.length,"max < a.length",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:267,className:"polygonal.ds.tools.ArrayTools",methodName:"binarySearchf"});for(var o,l=n+1;s<l;)e[o=s+(l-s>>1)]<i?s=o+1:l=o;return s<=n&&e[s]==i?s:~s},ue.binarySearchi=function(e,i,s,n){Ca._assert(null!=e,"a != null",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:293,className:"polygonal.ds.tools.ArrayTools",methodName:"binarySearchi"}),Ca._assert(0<=s&&s<e.length,"min >= 0 && min < a.length",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:294,className:"polygonal.ds.tools.ArrayTools",methodName:"binarySearchi"}),Ca._assert(n<e.length,"max < a.length",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:295,className:"polygonal.ds.tools.ArrayTools",methodName:"binarySearchi"});for(var o,l=n+1;s<l;)e[o=s+(l-s>>1)]<i?s=o+1:l=o;return s<=n&&e[s]==i?s:~s},ue.shuffle=function(e,i){Ca._assert(null!=e,"a != null",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:320,className:"polygonal.ds.tools.ArrayTools",methodName:"shuffle"});var s=e.length;if(null==i)for(;1<--s;){i=Bk._f()*s|0;var n=e[s];e[s]=e[i],e[i]=n}else for(Ca._assert(i.length>=e.length,"insufficient random values(rvals.length >= a.length)",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:335,className:"polygonal.ds.tools.ArrayTools",methodName:"shuffle"}),n=0;1<--s;){var o=i[n++]*s|0,l=e[s];e[s]=e[o],e[o]=l}},ue.sortRange=function(e,i,s,n,o){var l=e.length;if(1<l)if(Ca._assert(0<=n&&n<=l-1&&n+o<=l,"first out of range(first >= 0 && first <= k - 1 && first + n <= k)",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:361,className:"polygonal.ds.tools.ArrayTools",methodName:"sortRange"}),Ca._assert(0<=o&&o<=l,"n out of range(n >= 0 && n <= k)",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:362,className:"polygonal.ds.tools.ArrayTools",methodName:"sortRange"}),s)for(s=n+1,o=n+o;s<o;){var _=s++;for(l=e[_];_>n;){var h=e[_-1];if(!(0<i(h,l)))break;e[_]=h,--_}e[_]=l}else ue._quickSort(e,n,o,i)},ue.quickPerm=function(e){for(var o,l,i=[],s=[],n=[],_=0;_<e;)s[_]=_+1,n[_]=0,++_;for(i.push(s.slice()),_=1;_<e;)n[_]<_?(l=s[o=_%2*n[_]],s[o]=s[_],s[_]=l,i.push(s.slice()),n[_]++,_=1):(n[_]=0,++_);return i},ue.equals=function(e,i){if(e.length!=i.length)return!1;for(var s=0,n=e.length;s<n;){var o=s++;if(e[o]!=i[o])return!1}return!0},ue.split=function(e,i,s){Ca._assert(i%s==0,"n is not a multiple of k(n % k == 0)",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:450,className:"polygonal.ds.tools.ArrayTools",methodName:"split"});for(var n=[],o=null,l=0;l<i;){var _=l++;_%s==0&&(n[_/s|0]=o=[]),o.push(e[_])}return n},ue.pairwise=function(e,i){var s=0,n=e.length;for(Ca._assert(0==(1&n),"k & 1 == 0",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:476,className:"polygonal.ds.tools.ArrayTools",methodName:"pairwise"});s<n;)i(s,e[s],e[s+1]),s+=2},ue.bruteforce=function(e,i){for(var n,s=0,o=e.length,l=o-1;s<l;){for(n=s+1;n<o;)i(e[s],e[n]),++n;++s}},ue._quickSort=function(e,i,s,n){var o=i+s-1,l=i,_=o;if(1<s){var h=i+(s>>1),m=e[i],f=e[h],y=e[s=i+s-1],g=n(m,y);for(s=e[h=0>g&&0>n(m,f)?0>n(f,y)?h:s:0>n(f,m)&&0>n(f,y)?0>g?i:s:0>n(y,m)?h:i],e[h]=e[i];l<_;){for(;0>n(s,e[_])&&l<_;)--_;for(_!=l&&(e[l]=e[_],++l);0<n(s,e[l])&&l<_;)++l;_!=l&&(e[_]=e[l],--_)}e[l]=s,ue._quickSort(e,i,l-i,n),ue._quickSort(e,l+1,o-l,n)}};var Ca=function(){};k["polygonal.ds.tools.Assert"]=Ca,Ca.__name__="polygonal.ds.tools.Assert",Ca._assert=function(e,i,s){if(!e)throw e="in file "+s.fileName+", line "+s.lineNumber,Error("Assertion failed"+(null!=i?": ":" ")+(null==i?e:i+" ("+e+")"))};var oh=function(){};k["polygonal.ds.tools.GrowthRate"]=oh,oh.__name__="polygonal.ds.tools.GrowthRate",oh.compute=function(e,i){if(Ca._assert(-3<=e,"invalid growth rate(rate >= -3)",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/tools/GrowthRate.hx",lineNumber:52,className:"polygonal.ds.tools.GrowthRate",methodName:"compute"}),0<e)i+=e;else switch(e){case-3:i<<=1;break;case-2:i=1+(3*i>>1);break;case-1:i=((e=i+1)>>3)+(9>e?3:6)+e;break;case 0:throw new E("out of space")}return i};var Rb=function(){};k["polygonal.ds.tools.NativeArrayTools"]=Rb,Rb.__name__="polygonal.ds.tools.NativeArrayTools",Rb.alloc=function(e){return Array(e)},Rb.get=function(e,i){return e[i]},Rb.set=function(e,i,s){e[i]=s},Rb.size=function(e){return e.length},Rb.toArray=function(e,i,s,n){if(Ca._assert(0<=i&&i<e.length,"first index out of range(first >= 0 && first < size(src))",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/tools/NativeArrayTools.hx",lineNumber:138,className:"polygonal.ds.tools.NativeArrayTools",methodName:"toArray"}),Ca._assert(0<=s&&i+s<=e.length,"len out of range(len >= 0 && first + len <= size(src))",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/tools/NativeArrayTools.hx",lineNumber:139,className:"polygonal.ds.tools.NativeArrayTools",methodName:"toArray"}),0==s)return[];if(Ca._assert(0<=s,"len >= 0",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:37,className:"polygonal.ds.tools.ArrayTools",methodName:"alloc"}),n=Array(s),0==i)for(i=0;i<s;){var o=i++;n[o]=e[o]}else for(o=i,s=i+s;o<s;){var l=o++;n[l-i]=e[l]}return n},Rb.ofArray=function(e){return e.slice(0,e.length)},Rb.blit=function(e,i,s,n,o){if(0<o)if(Ca._assert(i<e.length,"srcPos out of range(srcPos < size(src))",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/tools/NativeArrayTools.hx",lineNumber:195,className:"polygonal.ds.tools.NativeArrayTools",methodName:"blit"}),Ca._assert(n<s.length,"dstPos out of range(dstPos < size(dst))",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/tools/NativeArrayTools.hx",lineNumber:196,className:"polygonal.ds.tools.NativeArrayTools",methodName:"blit"}),Ca._assert(i+o<=e.length&&n+o<=s.length,"n out of range(srcPos + n <= size(src) && dstPos + n <= size(dst))",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/tools/NativeArrayTools.hx",lineNumber:197,className:"polygonal.ds.tools.NativeArrayTools",methodName:"blit"}),e==s){if(i<n)for(s=i+o,n+=o,i=0;i<o;)i++,--s,e[--n]=e[s];else if(i>n)for(s=i,i=0;i<o;)i++,e[n]=e[s],++s,++n}else if(0==i&&0==n)for(n=0;n<o;)s[i=n++]=e[i];else if(0==i)for(i=0;i<o;){var l=i++;s[n+l]=e[l]}else if(0==n)for(n=0;n<o;)s[l=n++]=e[i+l];else for(l=0;l<o;){var _=l++;s[n+_]=e[i+_]}},Rb.copy=function(e){return e.slice(0)},Rb.zero=function(e,i,s){for(null==s&&(s=0),null==i&&(i=0),s=0>=s?e.length:i+s,Ca._assert(0<=i&&i<e.length,"min >= 0 && min < size(dst)",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/tools/NativeArrayTools.hx",lineNumber:291,className:"polygonal.ds.tools.NativeArrayTools",methodName:"zero"}),Ca._assert(s<=e.length,"max <= size(dst)",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/tools/NativeArrayTools.hx",lineNumber:292,className:"polygonal.ds.tools.NativeArrayTools",methodName:"zero"});i<s;)e[i++]=0;return e},Rb.init=function(e,i,s,n){for(null==n&&(n=0),null==s&&(s=0),n=0>=n?e.length:s+n,Ca._assert(0<=s&&s<e.length,"min >= 0 && min < size(a)",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/tools/NativeArrayTools.hx",lineNumber:313,className:"polygonal.ds.tools.NativeArrayTools",methodName:"init"}),Ca._assert(n<=e.length,"max <= size(a)",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/tools/NativeArrayTools.hx",lineNumber:314,className:"polygonal.ds.tools.NativeArrayTools",methodName:"init"});s<n;)e[s++]=i;return e},Rb.nullify=function(e,i,s){for(null==s&&(s=0),null==i&&(i=0),s=0>=s?e.length:i+s,Ca._assert(0<=i&&i<e.length,"min >= 0 && min < size(a)",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/tools/NativeArrayTools.hx",lineNumber:329,className:"polygonal.ds.tools.NativeArrayTools",methodName:"nullify"}),Ca._assert(s<=e.length,"max <= size(a)",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/tools/NativeArrayTools.hx",lineNumber:330,className:"polygonal.ds.tools.NativeArrayTools",methodName:"nullify"});i<s;)e[i++]=null;return e},Rb.binarySearchCmp=function(e,i,s,n,o){Ca._assert(null!=e,"a != null",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/tools/NativeArrayTools.hx",lineNumber:349,className:"polygonal.ds.tools.NativeArrayTools",methodName:"binarySearchCmp"}),Ca._assert(null!=o,"cmp != null",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/tools/NativeArrayTools.hx",lineNumber:350,className:"polygonal.ds.tools.NativeArrayTools",methodName:"binarySearchCmp"}),Ca._assert(0<=s&&s<e.length,"min >= 0 && min < size(a)",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/tools/NativeArrayTools.hx",lineNumber:351,className:"polygonal.ds.tools.NativeArrayTools",methodName:"binarySearchCmp"}),Ca._assert(n<e.length,"max < size(a)",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/tools/NativeArrayTools.hx",lineNumber:352,className:"polygonal.ds.tools.NativeArrayTools",methodName:"binarySearchCmp"});for(var l,_=n+1;s<_;)0>o(e[l=s+(_-s>>1)],i)?s=l+1:_=l;return s<=n&&0==o(e[s],i)?s:~s},Rb.binarySearchf=function(e,i,s,n){Ca._assert(null!=e,"a != null",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/tools/NativeArrayTools.hx",lineNumber:377,className:"polygonal.ds.tools.NativeArrayTools",methodName:"binarySearchf"}),Ca._assert(0<=s&&s<e.length,"min >= 0 && min < size(a)",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/tools/NativeArrayTools.hx",lineNumber:378,className:"polygonal.ds.tools.NativeArrayTools",methodName:"binarySearchf"}),Ca._assert(n<e.length,"max < size(a)",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/tools/NativeArrayTools.hx",lineNumber:379,className:"polygonal.ds.tools.NativeArrayTools",methodName:"binarySearchf"});for(var o,l=n+1;s<l;)e[o=s+(l-s>>1)]<i?s=o+1:l=o;return s<=n&&e[s]==i?s:~s},Rb.binarySearchi=function(e,i,s,n){Ca._assert(null!=e,"a != null",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/tools/NativeArrayTools.hx",lineNumber:404,className:"polygonal.ds.tools.NativeArrayTools",methodName:"binarySearchi"}),Ca._assert(0<=s&&s<e.length,"min >= 0 && min < size(a)",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/tools/NativeArrayTools.hx",lineNumber:405,className:"polygonal.ds.tools.NativeArrayTools",methodName:"binarySearchi"}),Ca._assert(n<e.length,"max < size(a)",{fileName:"F:/Stencyl/plaf/haxe/lib/polygonal-ds/2,0,0/src/polygonal/ds/tools/NativeArrayTools.hx",lineNumber:406,className:"polygonal.ds.tools.NativeArrayTools",methodName:"binarySearchi"});for(var o,l=n+1;s<l;)e[o=s+(l-s>>1)]<i?s=o+1:l=o;return s<=n&&e[s]==i?s:~s};var Bk=function(){};k["polygonal.ds.tools.Shuffle"]=Bk,Bk.__name__="polygonal.ds.tools.Shuffle",Bk._f=function(){return Math.random()},Bk.setRandom=function(e){Bk._f=e},Bk.frand=function(){return Bk._f()};var Hr=function(e,i,s){Ka.call(this,i),e=this.nameMap,null!=t.Speed?e.setReserved("Speed","_Speed"):e.h.Speed="_Speed",this._Speed=0,e=this.nameMap,null!=t.Bubbles?e.setReserved("Bubbles","_Bubbles"):e.h.Bubbles="_Bubbles"};k["scripts.ActorEvents_0"]=Hr,Hr.__name__="scripts.ActorEvents_0",Hr.__super__=Ka,Hr.prototype=x(Ka.prototype,{_Speed:null,_Bubbles:null,init:function(){var e=this;this.addWhenUpdatedListener(null,function(i,s){e.wrapper.enabled&&(e._Speed=9,u.isKeyDown("up")?e.actor.setYVelocity(u.sayToScene("vocablo","_customBlock_LimitV",[-e._Speed,e.actor.getScreenY(),u.getSceneHeight()])):u.isKeyDown("down")?e.actor.setYVelocity(u.sayToScene("vocablo","_customBlock_LimitV",[e._Speed,e.actor.getScreenY(),u.getSceneHeight()])):u.isKeyDown("right")?e.actor.setXVelocity(u.sayToScene("vocablo","_customBlock_LimitV",[e._Speed,e.actor.getScreenX(),u.getSceneWidth()])):u.isKeyDown("left")?e.actor.setXVelocity(u.sayToScene("vocablo","_customBlock_LimitV",[-e._Speed,e.actor.getScreenX(),u.getSceneWidth()])):(e.actor.setYVelocity(0),e.actor.setXVelocity(0)))}),this.addCollisionListener(this.actor,function(i,s){if(e.wrapper.enabled){s=e._Bubbles;var n=i.otherActor.getType(),o=i.otherActor.getGroup();s=s==n||s==o}else s=!1;s&&(p.engine.getGameAttribute("Disparo")||u.isKeyDown("action1")||u.isKeyReleased("action1"))&&(e._Bubbles==u.getActorType(6)?(n=p.engine,s=""+O.string(i.otherActor.getValue("ActorEvents_6","_Letra")),n=n.gameAttributes,null!=t.LetraTocada?n.setReserved("LetraTocada",s):n.h.LetraTocada=s):e._Bubbles==u.getActorType(45)&&(n=p.engine,s=""+O.string(i.otherActor.getValue("ActorEvents_45","_Letra")),n=n.gameAttributes,null!=t.LetraTocada?n.setReserved("LetraTocada",s):n.h.LetraTocada=s),u.recycleActor(i.otherActor))})},forwardMessage:function(e){},__class__:Hr});var Ir=function(e,i,s){Ka.call(this,i),e=this.nameMap,null!=t.Sound?e.setReserved("Sound","_Sound"):e.h.Sound="_Sound",this._Sound=""};k["scripts.ActorEvents_12"]=Ir,Ir.__name__="scripts.ActorEvents_12",Ir.__super__=Ka,Ir.prototype=x(Ka.prototype,{_Sound:null,init:function(){var e=this;this.addMouseOverActorListener(this.actor,function(i,s){e.wrapper.enabled&&5==i&&u.playSound(u.getSoundByName(e._Sound))})},forwardMessage:function(e){},__class__:Ir});var Jr=function(e,i,s){Ka.call(this,i)};k["scripts.ActorEvents_3"]=Jr,Jr.__name__="scripts.ActorEvents_3",Jr.__super__=Ka,Jr.prototype=x(Ka.prototype,{init:function(){var e=this;this.actor.setAnimation("realese"),this.addMouseOverActorListener(this.actor,function(i,s){e.wrapper.enabled&&5==i&&(e.actor.setAnimation("press"),i=p.engine.gameAttributes,null!=t.Disparo?i.setReserved("Disparo",!0):i.h.Disparo=!0)}),this.addKeyStateListener("action1",function(i,s,n){e.wrapper.enabled&&i&&e.actor.setAnimation("press")}),this.addWhenUpdatedListener(null,function(i,s){e.wrapper.enabled&&"press"==e.actor.getAnimation()&&u.runLater(200,function(n){e.actor.setAnimation("realese"),n=p.engine.gameAttributes,null!=t.Disparo?n.setReserved("Disparo",!1):n.h.Disparo=!1},e.actor)}),this.addWhenDrawingListener(null,function(i,s,n,o){if(e.wrapper.enabled){null!=(s=u.getFont(5))&&s!=i.font&&(i.font=s),null==i.font&&(i.font=i.defaultFont,i.font.fontScale!=p.SCALE&&(i.font.fontScale=p.SCALE)),i.drawActor?null!=i.actor&&i.actor.isHUD?(s=i.x+12*i.scaleX,n=i.y+22*i.scaleY):(s=i.x+12*i.scaleX-p.cameraX,n=i.y+22*i.scaleY-p.cameraY):(s=i.x+12*i.scaleX,n=i.y+22*i.scaleY),i.mtx.identity(),i.mtx.translate(s,n),o=null;var l=i.font,_=eb.drawnStringCache;if(null!=t[l="shoot:"+l.ID+":"+i.alpha+":"+l.letterSpacing+":"+p.SCALE]?_.existsReserved(l):_.h.hasOwnProperty(l))o=eb.drawnStringCache,(o=null!=t[l]?o.getReserved(l):o.h[l]).lifetime=5,o=o.img;else{_=i.font.font.getTextWidth("shoot",i.font.letterSpacing,i.font.fontScale);var h=i.font.font.getFontHeight()*i.font.fontScale|0;0<_&&0<h&&(o=new pa(_,h,!0,0),i.font.font.renderToImg(o,"shoot",0,i.alpha,0,0,i.font.letterSpacing,i.font.fontScale,0,!1),(_=new ef).img=o,_.lifetime=5,h=eb.drawnStringCache,null!=t[l]?h.setReserved(l,_):h.h[l]=_,eb.drawnStringCacheKeys.push(l))}null!=o&&(i.graphics.beginBitmapFill(o,i.mtx,!1,ja.antialias),i.graphics.drawRect(s,n,o.width,o.height),i.graphics.endFill())}})},forwardMessage:function(e){},__class__:Jr});var Kr=function(e,i,s){Ka.call(this,i),e=this.nameMap,null!=t.x?e.setReserved("x","_x"):e.h.x="_x",this._x=0,e=this.nameMap,null!=t.y?e.setReserved("y","_y"):e.h.y="_y",this._y=0,e=this.nameMap,null!=t.Letra?e.setReserved("Letra","_Letra"):e.h.Letra="_Letra",this._Letra=""};k["scripts.ActorEvents_45"]=Kr,Kr.__name__="scripts.ActorEvents_45",Kr.__super__=Ka,Kr.prototype=x(Ka.prototype,{_x:null,_y:null,_Letra:null,init:function(){var e=this;this._Letra=u.randomInt(0,100)%2==0?""+O.string(p.engine.getGameAttribute("PalabraReto")[u.randomInt(0,p.engine.getGameAttribute("PalabraReto").length-1)]):""+O.string(p.engine.getGameAttribute("Silabas")[u.randomInt(0,p.engine.getGameAttribute("Silabas").length-1)]),this.actor.killSelfAfterLeavingScreen(),this.actor.setXCenter(u.randomInt(50,u.getSceneWidth()-50)),this.actor.setYCenter(u.randomInt(50,u.getSceneHeight()-50)),this._y=0,this._x=3,u.randomInt(0,100)%2==0&&(this._x=-this._x),this.addWhenDrawingListener(null,function(i,s,n,o){if(e.wrapper.enabled){null!=(s=u.getFont(11))&&s!=i.font&&(i.font=s);var l=""+e._Letra;s=25-u.getFont(11).getTextWidth(e._Letra)/p.SCALE,null==i.font&&(i.font=i.defaultFont,i.font.fontScale!=p.SCALE&&(i.font.fontScale=p.SCALE)),i.drawActor?null!=i.actor&&i.actor.isHUD?(s=i.x+s*i.scaleX,n=i.y+7*i.scaleY):(s=i.x+s*i.scaleX-p.cameraX,n=i.y+7*i.scaleY-p.cameraY):(s=i.x+s*i.scaleX,n=i.y+7*i.scaleY),i.mtx.identity(),i.mtx.translate(s,n),o=null;var _=i.font,h=eb.drawnStringCache;if(null!=t[_=l+":"+_.ID+":"+i.alpha+":"+_.letterSpacing+":"+p.SCALE]?h.existsReserved(_):h.h.hasOwnProperty(_))o=eb.drawnStringCache,(o=null!=t[_]?o.getReserved(_):o.h[_]).lifetime=5,o=o.img;else{h=i.font.font.getTextWidth(l,i.font.letterSpacing,i.font.fontScale);var m=i.font.font.getFontHeight()*i.font.fontScale|0;0<h&&0<m&&(o=new pa(h,m,!0,0),i.font.font.renderToImg(o,l,0,i.alpha,0,0,i.font.letterSpacing,i.font.fontScale,0,!1),(l=new ef).img=o,l.lifetime=5,h=eb.drawnStringCache,null!=t[_]?h.setReserved(_,l):h.h[_]=l,eb.drawnStringCacheKeys.push(_))}null!=o&&(i.graphics.beginBitmapFill(o,i.mtx,!1,ja.antialias),i.graphics.drawRect(s,n,o.width,o.height),i.graphics.endFill())}}),this.addWhenUpdatedListener(null,function(i,s){e.wrapper.enabled&&(e._y+=.03,e.actor.setXVelocity(e._x),e.actor.setYVelocity(Math.sin(e._y)))})},forwardMessage:function(e){},__class__:Kr});var Lr=function(e,i,s){Ka.call(this,i),e=this.nameMap,null!=t.x?e.setReserved("x","_x"):e.h.x="_x",this._x=0,e=this.nameMap,null!=t.y?e.setReserved("y","_y"):e.h.y="_y",this._y=0,e=this.nameMap,null!=t.Letra?e.setReserved("Letra","_Letra"):e.h.Letra="_Letra",this._Letra=""};k["scripts.ActorEvents_6"]=Lr,Lr.__name__="scripts.ActorEvents_6",Lr.__super__=Ka,Lr.prototype=x(Ka.prototype,{_x:null,_y:null,_Letra:null,init:function(){var e=this;this._Letra=u.randomInt(0,100)%2==0?""+O.string(p.engine.getGameAttribute("PalabraReto")[u.randomInt(0,p.engine.getGameAttribute("PalabraReto").length-1)]):""+O.string(p.engine.getGameAttribute("Abc")[u.randomInt(0,p.engine.getGameAttribute("Abc").length-1)]),this.actor.killSelfAfterLeavingScreen(),this.actor.setXCenter(u.randomInt(50,u.getSceneWidth()-50)),this.actor.setYCenter(u.randomInt(50,u.getSceneHeight()-50)),this._y=0,this._x=3,u.randomInt(0,100)%2==0&&(this._x=-this._x),this.addWhenDrawingListener(null,function(i,s,n,o){if(e.wrapper.enabled){null!=(s=u.getFont(11))&&s!=i.font&&(i.font=s);var l=""+e._Letra;s=21-u.getFont(11).getTextWidth(e._Letra)/p.SCALE,null==i.font&&(i.font=i.defaultFont,i.font.fontScale!=p.SCALE&&(i.font.fontScale=p.SCALE)),i.drawActor?null!=i.actor&&i.actor.isHUD?(s=i.x+s*i.scaleX,n=i.y+7*i.scaleY):(s=i.x+s*i.scaleX-p.cameraX,n=i.y+7*i.scaleY-p.cameraY):(s=i.x+s*i.scaleX,n=i.y+7*i.scaleY),i.mtx.identity(),i.mtx.translate(s,n),o=null;var _=i.font,h=eb.drawnStringCache;if(null!=t[_=l+":"+_.ID+":"+i.alpha+":"+_.letterSpacing+":"+p.SCALE]?h.existsReserved(_):h.h.hasOwnProperty(_))o=eb.drawnStringCache,(o=null!=t[_]?o.getReserved(_):o.h[_]).lifetime=5,o=o.img;else{h=i.font.font.getTextWidth(l,i.font.letterSpacing,i.font.fontScale);var m=i.font.font.getFontHeight()*i.font.fontScale|0;0<h&&0<m&&(o=new pa(h,m,!0,0),i.font.font.renderToImg(o,l,0,i.alpha,0,0,i.font.letterSpacing,i.font.fontScale,0,!1),(l=new ef).img=o,l.lifetime=5,h=eb.drawnStringCache,null!=t[_]?h.setReserved(_,l):h.h[_]=l,eb.drawnStringCacheKeys.push(_))}null!=o&&(i.graphics.beginBitmapFill(o,i.mtx,!1,ja.antialias),i.graphics.drawRect(s,n,o.width,o.height),i.graphics.endFill())}}),this.addWhenUpdatedListener(null,function(i,s){e.wrapper.enabled&&(e._y+=.03,e.actor.setXVelocity(e._x),e.actor.setYVelocity(Math.sin(e._y)))})},forwardMessage:function(e){},__class__:Lr});var Mr=function(e,i){u.call(this),e=this.nameMap,null!=t.Palabra?e.setReserved("Palabra","_Palabra"):e.h.Palabra="_Palabra",this._Palabra="",e=this.nameMap,null!=t.PalabraSeparada?e.setReserved("PalabraSeparada","_PalabraSeparada"):e.h.PalabraSeparada="_PalabraSeparada",e=this.nameMap,null!=t.Speed?e.setReserved("Speed","_Speed"):e.h.Speed="_Speed",this._Speed=0,e=this.nameMap,null!=t.SpeedX?e.setReserved("SpeedX","_SpeedX"):e.h.SpeedX="_SpeedX",this._SpeedX=0,e=this.nameMap,null!=t.SpeedY?e.setReserved("SpeedY","_SpeedY"):e.h.SpeedY="_SpeedY",this._SpeedY=0,e=this.nameMap,null!=t.Clue?e.setReserved("Clue","_Clue"):e.h.Clue="_Clue",e=this.nameMap,null!=t.Pointer?e.setReserved("Pointer","_Pointer"):e.h.Pointer="_Pointer",e=this.nameMap,null!=t.Bubbles?e.setReserved("Bubbles","_Bubbles"):e.h.Bubbles="_Bubbles",e=this.nameMap,null!=t["Silaba?"]?e.setReserved("Silaba?","_Silaba"):e.h["Silaba?"]="_Silaba",this._Silaba=!1,e=this.nameMap,null!=t.LisTemp?e.setReserved("LisTemp","_LisTemp"):e.h.LisTemp="_LisTemp",e=this.nameMap,null!=t.TexTempo?e.setReserved("TexTempo","_TexTempo"):e.h.TexTempo="_TexTempo",this._TexTempo="",e=this.nameMap,null!=t.CounterTempList?e.setReserved("CounterTempList","_CounterTempList"):e.h.CounterTempList="_CounterTempList",this._CounterTempList=0};k["scripts.Design_6_6_vocablo"]=Mr,Mr.__name__="scripts.Design_6_6_vocablo",Mr.__super__=pe,Mr.prototype=x(pe.prototype,{_Palabra:null,_PalabraSeparada:null,_Speed:null,_SpeedX:null,_SpeedY:null,_Clue:null,_Pointer:null,_Bubbles:null,_Silaba:null,_LisTemp:null,_TexTempo:null,_CounterTempList:null,_customBlock_LimitV:function(e,i,s){return i+32>=s&&0<e||0>=i&&0>e?0*e:e},init:function(){var e=this;this._Pointer.setValue("ActorEvents_0","_Bubbles",this._Bubbles);var i=p.engine.gameAttributes,s=[];if(null!=t.PalabraCreada?i.setReserved("PalabraCreada",s):i.h.PalabraCreada=s,this._Palabra=(""+O.string(p.engine.getGameAttribute("Palabras")[u.randomInt(0,p.engine.getGameAttribute("Palabras").length-1)])).toUpperCase(),u.engine.setFullScreen(!0),Ha.addJoystick(0,50,u.getSceneHeight()-50,0,0,0,0,0,!1),this._PalabraSeparada=[],this._Silaba)for(this._LisTemp=this._Palabra.split(""),this._TexTempo="",i=this._CounterTempList=0,s=this._LisTemp.length;i<s;){var n=i++;N.contains(p.engine.getGameAttribute("Vocales"),this._LisTemp[n])?(this._TexTempo=""==this._TexTempo?""+O.string(this._LisTemp[n]):this._TexTempo+""+O.string(this._LisTemp[n]),this._PalabraSeparada.splice(0|this._CounterTempList,0,this._TexTempo),this._CounterTempList+=1,this._TexTempo=""):this._TexTempo=""==this._TexTempo?""+O.string(this._LisTemp[n]):this._TexTempo+""+O.string(this._LisTemp[n])}else for(i=0,s=this._Palabra.length;i<s;)n=i++,this._PalabraSeparada.splice(n,0,this._Palabra.charAt(n));i=p.engine.gameAttributes,s=this._PalabraSeparada,null!=t.PalabraReto?i.setReserved("PalabraReto",s):i.h.PalabraReto=s,this._Speed=9,u.runPeriodically(800,function(o){e.wrapper.enabled&&u.createRecycledActor(e._Bubbles,0,0,2)},null),this.addWhenUpdatedListener(null,function(o,l){if(e.wrapper.enabled)if(0<Math.abs(Ha.getJoystickDisDir(0,!1))){o=Math.cos(.01745329251994278*Ha.getJoystickDisDir(0,!1)),e._SpeedX=o*e._Speed,o=Math.sin(.01745329251994278*Ha.getJoystickDisDir(0,!1)),e._SpeedY=o*e._Speed,o=e._Pointer,l=e._SpeedX;var _=e._Pointer.getScreenX(),h=u.getSceneWidth();o.setXVelocity(e._customBlock_LimitV(l,_,h)),o=e._Pointer,l=e._SpeedY,_=e._Pointer.getScreenY(),h=u.getSceneHeight(),o.setYVelocity(e._customBlock_LimitV(l,_,h))}else e._Pointer.setXVelocity(.9*e._Pointer.getXVelocity()),e._Pointer.setYVelocity(.9*e._Pointer.getYVelocity())}),this.addKeyStateListener("action2",function(o,l,_){e.wrapper.enabled&&l&&e._Pointer.setXVelocity(5)}),this.addWhenUpdatedListener(null,function(o,l){e.wrapper.enabled&&e._Clue.setValue("ActorEvents_12","_Sound",e._PalabraSeparada[p.engine.getGameAttribute("PalabraCreada").length])}),this.addWhenDrawingListener(null,function(o,l,_,h){if(e.wrapper.enabled){for(null!=(l=u.getFont(5))&&l!=o.font&&(o.font=l),p.engine.getGameAttribute("PalabraCreada").length<e._PalabraSeparada.length?p.engine.getGameAttribute("LetraTocada")==e._PalabraSeparada[p.engine.getGameAttribute("PalabraCreada").length]&&p.engine.getGameAttribute("PalabraCreada").push(p.engine.getGameAttribute("LetraTocada")):e._PalabraSeparada.length-p.engine.getGameAttribute("PalabraCreada").length==0&&u.reloadCurrentScene(null,u.createCrossfadeTransition(3)),l=0,_=p.engine.getGameAttribute("PalabraCreada").length;l<_;){h=l++;var m=""+O.string(p.engine.getGameAttribute("PalabraCreada")[h]);if(h=200+20*h,null==o.font&&(o.font=o.defaultFont,o.font.fontScale!=p.SCALE&&(o.font.fontScale=p.SCALE)),o.drawActor)if(null!=o.actor&&o.actor.isHUD){h=o.x+h*o.scaleX;var f=o.y+25*o.scaleY}else h=o.x+h*o.scaleX-p.cameraX,f=o.y+25*o.scaleY-p.cameraY;else h=o.x+h*o.scaleX,f=o.y+25*o.scaleY;o.mtx.identity(),o.mtx.translate(h,f);var y=null,g=o.font,j=eb.drawnStringCache;if(null!=t[g=m+":"+g.ID+":"+o.alpha+":"+g.letterSpacing+":"+p.SCALE]?j.existsReserved(g):j.h.hasOwnProperty(g))m=eb.drawnStringCache,(m=null!=t[g]?m.getReserved(g):m.h[g]).lifetime=5,y=m.img;else{j=o.font.font.getTextWidth(m,o.font.letterSpacing,o.font.fontScale);var $=o.font.font.getFontHeight()*o.font.fontScale|0;0<j&&0<$&&(y=new pa(j,$,!0,0),o.font.font.renderToImg(y,m,0,o.alpha,0,0,o.font.letterSpacing,o.font.fontScale,0,!1),(m=new ef).img=y,m.lifetime=5,j=eb.drawnStringCache,null!=t[g]?j.setReserved(g,m):j.h[g]=m,eb.drawnStringCacheKeys.push(g))}null!=y&&(o.graphics.beginBitmapFill(y,o.mtx,!1,ja.antialias),o.graphics.drawRect(h,f,y.width,y.height),o.graphics.endFill())}for(l=0,_=e._PalabraSeparada.length-p.engine.getGameAttribute("PalabraCreada").length;l<_;)h=l++,h=200+20*(e._PalabraSeparada.length-1)-20*h,null==o.font&&(o.font=o.defaultFont,o.font.fontScale!=p.SCALE&&(o.font.fontScale=p.SCALE)),o.drawActor?null!=o.actor&&o.actor.isHUD?(h=o.x+h*o.scaleX,f=o.y+25*o.scaleY):(h=o.x+h*o.scaleX-p.cameraX,f=o.y+25*o.scaleY-p.cameraY):(h=o.x+h*o.scaleX,f=o.y+25*o.scaleY),o.mtx.identity(),o.mtx.translate(h,f),m=null,g=eb.drawnStringCache,(null!=t[y="_:"+(y=o.font).ID+":"+o.alpha+":"+y.letterSpacing+":"+p.SCALE]?g.existsReserved(y):g.h.hasOwnProperty(y))?(m=eb.drawnStringCache,(m=null!=t[y]?m.getReserved(y):m.h[y]).lifetime=5,m=m.img):(g=o.font.font.getTextWidth("_",o.font.letterSpacing,o.font.fontScale),j=o.font.font.getFontHeight()*o.font.fontScale|0,0<g&&0<j&&(m=new pa(g,j,!0,0),o.font.font.renderToImg(m,"_",0,o.alpha,0,0,o.font.letterSpacing,o.font.fontScale,0,!1),(g=new ef).img=m,g.lifetime=5,j=eb.drawnStringCache,null!=t[y]?j.setReserved(y,g):j.h[y]=g,eb.drawnStringCacheKeys.push(y))),null!=m&&(o.graphics.beginBitmapFill(m,o.mtx,!1,ja.antialias),o.graphics.drawRect(h,f,m.width,m.height),o.graphics.endFill());m=""+e._Palabra,null==o.font&&(o.font=o.defaultFont,o.font.fontScale!=p.SCALE&&(o.font.fontScale=p.SCALE)),o.drawActor?null!=o.actor&&o.actor.isHUD?(l=o.x+50*o.scaleX,_=o.y+50*o.scaleY):(l=o.x+50*o.scaleX-p.cameraX,_=o.y+50*o.scaleY-p.cameraY):(l=o.x+50*o.scaleX,_=o.y+50*o.scaleY),o.mtx.identity(),o.mtx.translate(l,_),h=null,y=eb.drawnStringCache,(null!=t[f=m+":"+(f=o.font).ID+":"+o.alpha+":"+f.letterSpacing+":"+p.SCALE]?y.existsReserved(f):y.h.hasOwnProperty(f))?(h=eb.drawnStringCache,(h=null!=t[f]?h.getReserved(f):h.h[f]).lifetime=5,h=h.img):(y=o.font.font.getTextWidth(m,o.font.letterSpacing,o.font.fontScale),g=o.font.font.getFontHeight()*o.font.fontScale|0,0<y&&0<g&&(h=new pa(y,g,!0,0),o.font.font.renderToImg(h,m,0,o.alpha,0,0,o.font.letterSpacing,o.font.fontScale,0,!1),(m=new ef).img=h,m.lifetime=5,y=eb.drawnStringCache,null!=t[f]?y.setReserved(f,m):y.h[f]=m,eb.drawnStringCacheKeys.push(f))),null!=h&&(o.graphics.beginBitmapFill(h,o.mtx,!1,ja.antialias),o.graphics.drawRect(l,_,h.width,h.height),o.graphics.endFill())}})},forwardMessage:function(e){},__class__:Mr});var lt=function(){};k["scripts.MyScripts"]=lt,lt.__name__="scripts.MyScripts";var Nr=function(e,i){u.call(this),e=this.nameMap,null!=t.Speed?e.setReserved("Speed","_Speed"):e.h.Speed="_Speed",this._Speed=0,e=this.nameMap,null!=t.SpeedY?e.setReserved("SpeedY","_SpeedY"):e.h.SpeedY="_SpeedY",this._SpeedY=0,e=this.nameMap,null!=t.SpeedX?e.setReserved("SpeedX","_SpeedX"):e.h.SpeedX="_SpeedX",this._SpeedX=0,e=this.nameMap,null!=t.PalabraSeparada?e.setReserved("PalabraSeparada","_PalabraSeparada"):e.h.PalabraSeparada="_PalabraSeparada",e=this.nameMap,null!=t.Palabra?e.setReserved("Palabra","_Palabra"):e.h.Palabra="_Palabra",this._Palabra=""};k["scripts.SceneEvents_0"]=Nr,Nr.__name__="scripts.SceneEvents_0",Nr.__super__=pe,Nr.prototype=x(pe.prototype,{_Speed:null,_SpeedY:null,_SpeedX:null,_PalabraSeparada:null,_Palabra:null,_customBlock_LimitVerification:function(e,i,s){return i+32>=s&&0<e||0>=i&&0>e?0*e:e},init:function(){var e=this,i=p.engine.gameAttributes,s=[];for(null!=t.PalabraCreada?i.setReserved("PalabraCreada",s):i.h.PalabraCreada=s,this._Palabra=(""+O.string(p.engine.getGameAttribute("Palabras")[u.randomInt(0,p.engine.getGameAttribute("Palabras").length-1)])).toUpperCase(),u.engine.setFullScreen(!0),Ha.addJoystick(0,50,u.getSceneHeight()-50,0,0,0,0,0,!1),this._PalabraSeparada=[],i=0,s=this._Palabra.length;i<s;){var n=i++;this._PalabraSeparada.splice(n,0,this._Palabra.charAt(n))}i=p.engine.gameAttributes,s=this._PalabraSeparada,null!=t.PalabraReto?i.setReserved("PalabraReto",s):i.h.PalabraReto=s,this._Speed=9,u.runPeriodically(800,function(o){e.wrapper.enabled&&u.createRecycledActor(u.getActorType(6),0,0,2)},null),this.addWhenUpdatedListener(null,function(o,l){if(e.wrapper.enabled)if(0<Math.abs(Ha.getJoystickDisDir(0,!1))){o=Math.cos(.01745329251994278*Ha.getJoystickDisDir(0,!1)),e._SpeedX=o*e._Speed,o=Math.sin(.01745329251994278*Ha.getJoystickDisDir(0,!1)),e._SpeedY=o*e._Speed,o=u.getActor(1),l=e._SpeedX;var _=u.getActor(1).getScreenX(),h=u.getSceneWidth();o.setXVelocity(e._customBlock_LimitVerification(l,_,h)),o=u.getActor(1),l=e._SpeedY,_=u.getActor(1).getScreenY(),h=u.getSceneHeight(),o.setYVelocity(e._customBlock_LimitVerification(l,_,h))}else u.getActor(1).setXVelocity(.9*u.getActor(1).getXVelocity()),u.getActor(1).setYVelocity(.9*u.getActor(1).getYVelocity())}),this.addWhenUpdatedListener(null,function(o,l){e.wrapper.enabled&&u.getActor(3).setValue("ActorEvents_12","_Sound",e._PalabraSeparada[p.engine.getGameAttribute("PalabraCreada").length])}),this.addWhenDrawingListener(null,function(o,l,_,h){if(e.wrapper.enabled){for(null!=(l=u.getFont(5))&&l!=o.font&&(o.font=l),p.engine.getGameAttribute("PalabraCreada").length<e._PalabraSeparada.length?p.engine.getGameAttribute("LetraTocada")==e._PalabraSeparada[p.engine.getGameAttribute("PalabraCreada").length]&&p.engine.getGameAttribute("PalabraCreada").push(p.engine.getGameAttribute("LetraTocada")):e._PalabraSeparada.length-p.engine.getGameAttribute("PalabraCreada").length==0&&u.reloadCurrentScene(null,u.createCrossfadeTransition(3)),l=0,_=p.engine.getGameAttribute("PalabraCreada").length;l<_;){h=l++;var m=""+O.string(p.engine.getGameAttribute("PalabraCreada")[h]);if(h=200+20*h,null==o.font&&(o.font=o.defaultFont,o.font.fontScale!=p.SCALE&&(o.font.fontScale=p.SCALE)),o.drawActor)if(null!=o.actor&&o.actor.isHUD){h=o.x+h*o.scaleX;var f=o.y+25*o.scaleY}else h=o.x+h*o.scaleX-p.cameraX,f=o.y+25*o.scaleY-p.cameraY;else h=o.x+h*o.scaleX,f=o.y+25*o.scaleY;o.mtx.identity(),o.mtx.translate(h,f);var y=null,g=o.font,j=eb.drawnStringCache;if(null!=t[g=m+":"+g.ID+":"+o.alpha+":"+g.letterSpacing+":"+p.SCALE]?j.existsReserved(g):j.h.hasOwnProperty(g))m=eb.drawnStringCache,(m=null!=t[g]?m.getReserved(g):m.h[g]).lifetime=5,y=m.img;else{j=o.font.font.getTextWidth(m,o.font.letterSpacing,o.font.fontScale);var $=o.font.font.getFontHeight()*o.font.fontScale|0;0<j&&0<$&&(y=new pa(j,$,!0,0),o.font.font.renderToImg(y,m,0,o.alpha,0,0,o.font.letterSpacing,o.font.fontScale,0,!1),(m=new ef).img=y,m.lifetime=5,j=eb.drawnStringCache,null!=t[g]?j.setReserved(g,m):j.h[g]=m,eb.drawnStringCacheKeys.push(g))}null!=y&&(o.graphics.beginBitmapFill(y,o.mtx,!1,ja.antialias),o.graphics.drawRect(h,f,y.width,y.height),o.graphics.endFill())}for(l=0,_=e._PalabraSeparada.length-p.engine.getGameAttribute("PalabraCreada").length;l<_;)h=l++,h=200+20*(e._PalabraSeparada.length-1)-20*h,null==o.font&&(o.font=o.defaultFont,o.font.fontScale!=p.SCALE&&(o.font.fontScale=p.SCALE)),o.drawActor?null!=o.actor&&o.actor.isHUD?(h=o.x+h*o.scaleX,f=o.y+25*o.scaleY):(h=o.x+h*o.scaleX-p.cameraX,f=o.y+25*o.scaleY-p.cameraY):(h=o.x+h*o.scaleX,f=o.y+25*o.scaleY),o.mtx.identity(),o.mtx.translate(h,f),m=null,g=eb.drawnStringCache,(null!=t[y="_:"+(y=o.font).ID+":"+o.alpha+":"+y.letterSpacing+":"+p.SCALE]?g.existsReserved(y):g.h.hasOwnProperty(y))?(m=eb.drawnStringCache,(m=null!=t[y]?m.getReserved(y):m.h[y]).lifetime=5,m=m.img):(g=o.font.font.getTextWidth("_",o.font.letterSpacing,o.font.fontScale),j=o.font.font.getFontHeight()*o.font.fontScale|0,0<g&&0<j&&(m=new pa(g,j,!0,0),o.font.font.renderToImg(m,"_",0,o.alpha,0,0,o.font.letterSpacing,o.font.fontScale,0,!1),(g=new ef).img=m,g.lifetime=5,j=eb.drawnStringCache,null!=t[y]?j.setReserved(y,g):j.h[y]=g,eb.drawnStringCacheKeys.push(y))),null!=m&&(o.graphics.beginBitmapFill(m,o.mtx,!1,ja.antialias),o.graphics.drawRect(h,f,m.width,m.height),o.graphics.endFill());m=""+e._Palabra,null==o.font&&(o.font=o.defaultFont,o.font.fontScale!=p.SCALE&&(o.font.fontScale=p.SCALE)),o.drawActor?null!=o.actor&&o.actor.isHUD?(l=o.x+50*o.scaleX,_=o.y+50*o.scaleY):(l=o.x+50*o.scaleX-p.cameraX,_=o.y+50*o.scaleY-p.cameraY):(l=o.x+50*o.scaleX,_=o.y+50*o.scaleY),o.mtx.identity(),o.mtx.translate(l,_),h=null,y=eb.drawnStringCache,(null!=t[f=m+":"+(f=o.font).ID+":"+o.alpha+":"+f.letterSpacing+":"+p.SCALE]?y.existsReserved(f):y.h.hasOwnProperty(f))?(h=eb.drawnStringCache,(h=null!=t[f]?h.getReserved(f):h.h[f]).lifetime=5,h=h.img):(y=o.font.font.getTextWidth(m,o.font.letterSpacing,o.font.fontScale),g=o.font.font.getFontHeight()*o.font.fontScale|0,0<y&&0<g&&(h=new pa(y,g,!0,0),o.font.font.renderToImg(h,m,0,o.alpha,0,0,o.font.letterSpacing,o.font.fontScale,0,!1),(m=new ef).img=h,m.lifetime=5,y=eb.drawnStringCache,null!=t[f]?y.setReserved(f,m):y.h[f]=m,eb.drawnStringCacheKeys.push(f))),null!=h&&(o.graphics.beginBitmapFill(h,o.mtx,!1,ja.antialias),o.graphics.drawRect(l,_,h.width,h.height),o.graphics.endFill())}})},forwardMessage:function(e){},__class__:Nr});var Or=function(e,i){u.call(this)};k["scripts.SceneEvents_1"]=Or,Or.__name__="scripts.SceneEvents_1",Or.__super__=pe,Or.prototype=x(pe.prototype,{init:function(){var e=this;this.addWhenDrawingListener(null,function(i,s,n,o){if(e.wrapper.enabled){null!=(s=u.getFont(5))&&s!=i.font&&(i.font=s),null==i.font&&(i.font=i.defaultFont,i.font.fontScale!=p.SCALE&&(i.font.fontScale=p.SCALE)),i.drawActor?null!=i.actor&&i.actor.isHUD?(s=i.x+200*i.scaleX,n=i.y+72*i.scaleY):(s=i.x+200*i.scaleX-p.cameraX,n=i.y+72*i.scaleY-p.cameraY):(s=i.x+200*i.scaleX,n=i.y+72*i.scaleY),i.mtx.identity(),i.mtx.translate(s,n),o=null;var l=i.font,_=eb.drawnStringCache;if(null!=t[l="Abc-1:"+l.ID+":"+i.alpha+":"+l.letterSpacing+":"+p.SCALE]?_.existsReserved(l):_.h.hasOwnProperty(l))o=eb.drawnStringCache,(o=null!=t[l]?o.getReserved(l):o.h[l]).lifetime=5,o=o.img;else{_=i.font.font.getTextWidth("Abc-1",i.font.letterSpacing,i.font.fontScale);var h=i.font.font.getFontHeight()*i.font.fontScale|0;0<_&&0<h&&(o=new pa(_,h,!0,0),i.font.font.renderToImg(o,"Abc-1",0,i.alpha,0,0,i.font.letterSpacing,i.font.fontScale,0,!1),(_=new ef).img=o,_.lifetime=5,h=eb.drawnStringCache,null!=t[l]?h.setReserved(l,_):h.h[l]=_,eb.drawnStringCacheKeys.push(l))}null!=o&&(i.graphics.beginBitmapFill(o,i.mtx,!1,ja.antialias),i.graphics.drawRect(s,n,o.width,o.height),i.graphics.endFill()),null==i.font&&(i.font=i.defaultFont,i.font.fontScale!=p.SCALE&&(i.font.fontScale=p.SCALE)),i.drawActor?null!=i.actor&&i.actor.isHUD?(s=i.x+200*i.scaleX,n=i.y+136*i.scaleY):(s=i.x+200*i.scaleX-p.cameraX,n=i.y+136*i.scaleY-p.cameraY):(s=i.x+200*i.scaleX,n=i.y+136*i.scaleY),i.mtx.identity(),i.mtx.translate(s,n),o=null,_=eb.drawnStringCache,(null!=t[l="Pa - Pa:"+(l=i.font).ID+":"+i.alpha+":"+l.letterSpacing+":"+p.SCALE]?_.existsReserved(l):_.h.hasOwnProperty(l))?(o=eb.drawnStringCache,(o=null!=t[l]?o.getReserved(l):o.h[l]).lifetime=5,o=o.img):(_=i.font.font.getTextWidth("Pa - Pa",i.font.letterSpacing,i.font.fontScale),h=i.font.font.getFontHeight()*i.font.fontScale|0,0<_&&0<h&&(o=new pa(_,h,!0,0),i.font.font.renderToImg(o,"Pa - Pa",0,i.alpha,0,0,i.font.letterSpacing,i.font.fontScale,0,!1),(_=new ef).img=o,_.lifetime=5,h=eb.drawnStringCache,null!=t[l]?h.setReserved(l,_):h.h[l]=_,eb.drawnStringCacheKeys.push(l))),null!=o&&(i.graphics.beginBitmapFill(o,i.mtx,!1,ja.antialias),i.graphics.drawRect(s,n,o.width,o.height),i.graphics.endFill())}}),this.addMouseOverActorListener(u.getRegion(0),function(i,s){e.wrapper.enabled&&5==i&&u.switchScene(bc.get().scenes.h[0].getID(),null,u.createCrossfadeTransition(1.5))})},forwardMessage:function(e){},__class__:Or});var Pr=function(e,i){u.call(this),e=this.nameMap,null!=t.SpeedX?e.setReserved("SpeedX","_SpeedX"):e.h.SpeedX="_SpeedX",this._SpeedX=0,e=this.nameMap,null!=t.Speed?e.setReserved("Speed","_Speed"):e.h.Speed="_Speed",this._Speed=0,e=this.nameMap,null!=t.SpeedY?e.setReserved("SpeedY","_SpeedY"):e.h.SpeedY="_SpeedY",this._SpeedY=0};k["scripts.SceneEvents_2"]=Pr,Pr.__name__="scripts.SceneEvents_2",Pr.__super__=pe,Pr.prototype=x(pe.prototype,{_SpeedX:null,_Speed:null,_SpeedY:null,init:function(){},forwardMessage:function(e){},__class__:Pr});var Qr=function(e,i){u.call(this)};k["scripts.SceneEvents_3"]=Qr,Qr.__name__="scripts.SceneEvents_3",Qr.__super__=pe,Qr.prototype=x(pe.prototype,{init:function(){},forwardMessage:function(e){},__class__:Qr});var Rr=function(e,i){u.call(this)};k["scripts.SceneEvents_4"]=Rr,Rr.__name__="scripts.SceneEvents_4",Rr.__super__=pe,Rr.prototype=x(pe.prototype,{init:function(){},forwardMessage:function(e){},__class__:Rr});var Sr=function(e,i){u.call(this),e=this.nameMap,null!=t.Speed?e.setReserved("Speed","_Speed"):e.h.Speed="_Speed",this._Speed=9,e=this.nameMap,null!=t.SpeedY?e.setReserved("SpeedY","_SpeedY"):e.h.SpeedY="_SpeedY",this._SpeedY=.9,e=this.nameMap,null!=t.SpeedX?e.setReserved("SpeedX","_SpeedX"):e.h.SpeedX="_SpeedX",this._SpeedX=.9,e=this.nameMap,null!=t.PalabraSeparada?e.setReserved("PalabraSeparada","_PalabraSeparada"):e.h.PalabraSeparada="_PalabraSeparada",e=this.nameMap,null!=t.Palabra?e.setReserved("Palabra","_Palabra"):e.h.Palabra="_Palabra",this._Palabra=""};k["scripts.SceneEvents_5"]=Sr,Sr.__name__="scripts.SceneEvents_5",Sr.__super__=pe,Sr.prototype=x(pe.prototype,{_Speed:null,_SpeedY:null,_SpeedX:null,_PalabraSeparada:null,_Palabra:null,init:function(){var e=this,i=p.engine.gameAttributes,s=[];for(null!=t.PalabraCreada?i.setReserved("PalabraCreada",s):i.h.PalabraCreada=s,this._Palabra=(""+O.string(p.engine.getGameAttribute("Palabras")[u.randomInt(0,p.engine.getGameAttribute("Palabras").length-1)])).toUpperCase(),u.engine.setFullScreen(!0),Ha.addJoystick(0,50,u.getSceneHeight()-50,0,0,0,0,0,!1),this._PalabraSeparada=[],i=0,s=this._Palabra.length;i<s;){var n=i++;this._PalabraSeparada.splice(n,0,this._Palabra.charAt(n))}i=p.engine.gameAttributes,s=this._PalabraSeparada,null!=t.PalabraReto?i.setReserved("PalabraReto",s):i.h.PalabraReto=s,this._Speed=9,u.runPeriodically(800,function(o){e.wrapper.enabled&&u.createRecycledActor(u.getActorType(6),0,0,2)},null),this.addWhenUpdatedListener(null,function(o,l){e.wrapper.enabled&&(0<Math.abs(Ha.getJoystickDisDir(0,!1))?(o=Math.cos(.01745329251994278*Ha.getJoystickDisDir(0,!1)),e._SpeedX=o*e._Speed,o=Math.sin(.01745329251994278*Ha.getJoystickDisDir(0,!1)),e._SpeedY=o*e._Speed,u.getActor(1).setXVelocity(e._SpeedX),u.getActor(1).setYVelocity(u.sayToScene("SceneEvents_0","_customBlock_LimitVerification",[e._SpeedY,u.getActor(1).getScreenY(),u.getSceneHeight()]))):(u.getActor(1).setXVelocity(.9*u.getActor(1).getXVelocity()),u.getActor(1).setYVelocity(.9*u.getActor(1).getYVelocity())))}),this.addWhenUpdatedListener(null,function(o,l){e.wrapper.enabled&&u.getActor(3).setValue("ActorEvents_12","_Sound",e._PalabraSeparada[p.engine.getGameAttribute("PalabraCreada").length])}),this.addWhenDrawingListener(null,function(o,l,_,h){if(e.wrapper.enabled){for(null!=(l=u.getFont(5))&&l!=o.font&&(o.font=l),p.engine.getGameAttribute("PalabraCreada").length<e._PalabraSeparada.length?p.engine.getGameAttribute("LetraTocada")==e._PalabraSeparada[p.engine.getGameAttribute("PalabraCreada").length]&&p.engine.getGameAttribute("PalabraCreada").push(p.engine.getGameAttribute("LetraTocada")):e._PalabraSeparada.length-p.engine.getGameAttribute("PalabraCreada").length==0&&u.reloadCurrentScene(null,u.createCrossfadeTransition(3)),l=0,_=p.engine.getGameAttribute("PalabraCreada").length;l<_;){h=l++;var m=""+O.string(p.engine.getGameAttribute("PalabraCreada")[h]);if(h=200+20*h,null==o.font&&(o.font=o.defaultFont,o.font.fontScale!=p.SCALE&&(o.font.fontScale=p.SCALE)),o.drawActor)if(null!=o.actor&&o.actor.isHUD){h=o.x+h*o.scaleX;var f=o.y+25*o.scaleY}else h=o.x+h*o.scaleX-p.cameraX,f=o.y+25*o.scaleY-p.cameraY;else h=o.x+h*o.scaleX,f=o.y+25*o.scaleY;o.mtx.identity(),o.mtx.translate(h,f);var y=null,g=o.font,j=eb.drawnStringCache;if(null!=t[g=m+":"+g.ID+":"+o.alpha+":"+g.letterSpacing+":"+p.SCALE]?j.existsReserved(g):j.h.hasOwnProperty(g))m=eb.drawnStringCache,(m=null!=t[g]?m.getReserved(g):m.h[g]).lifetime=5,y=m.img;else{j=o.font.font.getTextWidth(m,o.font.letterSpacing,o.font.fontScale);var $=o.font.font.getFontHeight()*o.font.fontScale|0;0<j&&0<$&&(y=new pa(j,$,!0,0),o.font.font.renderToImg(y,m,0,o.alpha,0,0,o.font.letterSpacing,o.font.fontScale,0,!1),(m=new ef).img=y,m.lifetime=5,j=eb.drawnStringCache,null!=t[g]?j.setReserved(g,m):j.h[g]=m,eb.drawnStringCacheKeys.push(g))}null!=y&&(o.graphics.beginBitmapFill(y,o.mtx,!1,ja.antialias),o.graphics.drawRect(h,f,y.width,y.height),o.graphics.endFill())}for(l=0,_=e._PalabraSeparada.length-p.engine.getGameAttribute("PalabraCreada").length;l<_;)h=l++,h=200+20*(e._PalabraSeparada.length-1)-20*h,null==o.font&&(o.font=o.defaultFont,o.font.fontScale!=p.SCALE&&(o.font.fontScale=p.SCALE)),o.drawActor?null!=o.actor&&o.actor.isHUD?(h=o.x+h*o.scaleX,f=o.y+25*o.scaleY):(h=o.x+h*o.scaleX-p.cameraX,f=o.y+25*o.scaleY-p.cameraY):(h=o.x+h*o.scaleX,f=o.y+25*o.scaleY),o.mtx.identity(),o.mtx.translate(h,f),m=null,g=eb.drawnStringCache,(null!=t[y="_:"+(y=o.font).ID+":"+o.alpha+":"+y.letterSpacing+":"+p.SCALE]?g.existsReserved(y):g.h.hasOwnProperty(y))?(m=eb.drawnStringCache,(m=null!=t[y]?m.getReserved(y):m.h[y]).lifetime=5,m=m.img):(g=o.font.font.getTextWidth("_",o.font.letterSpacing,o.font.fontScale),j=o.font.font.getFontHeight()*o.font.fontScale|0,0<g&&0<j&&(m=new pa(g,j,!0,0),o.font.font.renderToImg(m,"_",0,o.alpha,0,0,o.font.letterSpacing,o.font.fontScale,0,!1),(g=new ef).img=m,g.lifetime=5,j=eb.drawnStringCache,null!=t[y]?j.setReserved(y,g):j.h[y]=g,eb.drawnStringCacheKeys.push(y))),null!=m&&(o.graphics.beginBitmapFill(m,o.mtx,!1,ja.antialias),o.graphics.drawRect(h,f,m.width,m.height),o.graphics.endFill());m=""+e._Palabra,null==o.font&&(o.font=o.defaultFont,o.font.fontScale!=p.SCALE&&(o.font.fontScale=p.SCALE)),o.drawActor?null!=o.actor&&o.actor.isHUD?(l=o.x+50*o.scaleX,_=o.y+50*o.scaleY):(l=o.x+50*o.scaleX-p.cameraX,_=o.y+50*o.scaleY-p.cameraY):(l=o.x+50*o.scaleX,_=o.y+50*o.scaleY),o.mtx.identity(),o.mtx.translate(l,_),h=null,y=eb.drawnStringCache,(null!=t[f=m+":"+(f=o.font).ID+":"+o.alpha+":"+f.letterSpacing+":"+p.SCALE]?y.existsReserved(f):y.h.hasOwnProperty(f))?(h=eb.drawnStringCache,(h=null!=t[f]?h.getReserved(f):h.h[f]).lifetime=5,h=h.img):(y=o.font.font.getTextWidth(m,o.font.letterSpacing,o.font.fontScale),g=o.font.font.getFontHeight()*o.font.fontScale|0,0<y&&0<g&&(h=new pa(y,g,!0,0),o.font.font.renderToImg(h,m,0,o.alpha,0,0,o.font.letterSpacing,o.font.fontScale,0,!1),(m=new ef).img=h,m.lifetime=5,y=eb.drawnStringCache,null!=t[f]?y.setReserved(f,m):y.h[f]=m,eb.drawnStringCacheKeys.push(f))),null!=h&&(o.graphics.beginBitmapFill(h,o.mtx,!1,ja.antialias),o.graphics.drawRect(l,_,h.width,h.height),o.graphics.endFill())}})},forwardMessage:function(e){},__class__:Sr});var Tr=function(e,i){u.call(this),e=this.nameMap,null!=t.SpeedX?e.setReserved("SpeedX","_SpeedX"):e.h.SpeedX="_SpeedX",this._SpeedX=0,e=this.nameMap,null!=t.Speed?e.setReserved("Speed","_Speed"):e.h.Speed="_Speed",this._Speed=0,e=this.nameMap,null!=t.SpeedY?e.setReserved("SpeedY","_SpeedY"):e.h.SpeedY="_SpeedY",this._SpeedY=0};k["scripts.SceneEvents_6"]=Tr,Tr.__name__="scripts.SceneEvents_6",Tr.__super__=pe,Tr.prototype=x(pe.prototype,{_SpeedX:null,_Speed:null,_SpeedY:null,init:function(){},forwardMessage:function(e){},__class__:Tr});var Ur=function(){};k["scripts.SplashBox"]=Ur,Ur.__name__="scripts.SplashBox",Ur.prototype={__class__:Ur};var fm=function(){this.onComplete=new be;var e=this;qa.call(this),Ya.get_current().addChild(this),this.locked=!1;var i=p.SCALE;this.background=new qa,this.background.get_graphics().beginFill(-1,1),this.background.get_graphics().drawRect(0,0,this.getWidth(),this.getHeight()),this.addChild(this.background),N.getConfigBitmap("config/preloader-bg.png").onComplete(function(_){var h=e.getChildIndex(e.background)+1;e.addChildAt(_,h)});var s=2*i;this.barWidth=i*p.screenScaleX*120|0,this.barHeight=i*p.screenScaleY*8|0;var n=2*i;i*=-14;var o=this.getWidth()/2-this.barWidth/2,l=this.getHeight()-this.barHeight-s;if(this.barBorder=new qa,this.barBorder.get_graphics().beginFill(-6710887,1),this.barBorder.get_graphics().drawRect(-s,-s,this.barWidth+2*s,this.barHeight+2*s),this.barBorder.set_x(o+n),this.barBorder.set_y(l+i),this.addChild(this.barBorder),this.barBackground=new qa,this.barBackground.get_graphics().beginFill(-4144960,1),this.barBackground.get_graphics().drawRect(0,0,this.barWidth,this.barHeight),this.barBackground.set_x(o+n),this.barBackground.set_y(l+i),this.barBackground.set_scaleX(1),this.addChild(this.barBackground),this.bar=new qa,this.bar.get_graphics().beginFill(-1,1),this.bar.get_graphics().drawRect(0,0,this.barWidth,this.barHeight),s=new ia(0,0,0,this.barHeight),this.bar.set_scrollRect(s),this.bar.set_x(o+n),this.bar.set_y(l+i),this.addChild(this.bar),N.getConfigBitmap("config/preloader-badge.png").onComplete(function(_){e.addChild(_),_.set_x(e.getWidth()-114-5),_.set_y(e.getHeight()-62-5)}),""!=this.getURL()&&this.addEventListener("mouseDown",r(this,this.onMouseDown),!1,2),i=this.getLockURL(),this.isSiteLocked()&&null!=i&&""!=i&&(n=!1,(null==(s=Ya.get_current().get_loaderInfo().url)||0>s.indexOf("http://")&&0>s.indexOf("https://")||0<s.indexOf("stencyl.com")||0<s.indexOf("localhost"))&&(n=!0),!n)){for(i=i.split(","),o=0;o<i.length;)l=i[o],++o,l=aa.trim(l),null!=s&&0<=s.indexOf(l)&&(n=!0);n||this.showLockScreen(i[0])}};k["scripts.StencylPreloader"]=fm,fm.__name__="scripts.StencylPreloader",fm.__super__=qa,fm.prototype=x(qa.prototype,{barBorder:null,bar:null,barBackground:null,background:null,barWidth:null,barHeight:null,locked:null,onComplete:null,adPlaying:null,ready:null,getLockURL:function(){return""},isSiteLocked:function(){return!1},showLockScreen:function(e){this.locked=!0,N.removeAllChildren(this);var i=new Uc(new pa(0|this.getWidth(),0|this.getHeight(),!1,5658198));this.addChild(i);var s=new ie;s.set_width(this.getWidth()-16),s.set_height(this.getHeight()-16),s.set_x(8),s.set_y(8),s.set_textColor(16777215),s.set_multiline(!0),s.set_wordWrap(!0),s.set_text("Hi there!  It looks like somebody copied this game without my permission. Just click anywhere, or copy-paste this URL into your browser.\n\n"+e+"\n\nThanks, and have fun!"),this.addChild(s),this.removeEventListener("mouseDown",r(this,this.onMouseDown)),s.addEventListener("click",r(this,this.goToLockURL)),i.addEventListener("click",r(this,this.goToLockURL))},getURL:function(){return""},goToLockURL:function(e){Ya.getURL(new Gg(this.getLockURL()),"_parent")},onMouseDown:function(e){this.removeEventListener("mouseDown",r(this,this.onMouseDown)),Ya.getURL(new Gg(this.getURL()),"_blank")},getBackgroundColor:function(){return 3368601},getWidth:function(){return ba.windowWidth},getHeight:function(){return ba.windowHeight},onUpdate:function(e,i){Ya.get_current().get_loaderInfo().__update(e,i),null!=this.bar&&(e=new ia(0,0,e/i*this.barWidth,this.barHeight),this.bar.set_scrollRect(e))},onLoaded:function(){Ya.get_current().get_loaderInfo().__complete(),this.ready=!0,this.adPlaying||this.unload()},adFinished:function(){this.adPlaying=!1,this.ready&&this.unload()},unload:function(){new Ur,this.isSiteLocked()&&this.locked||(this.parent==Ya.get_current()&&Ya.get_current().removeChild(this),Ya.get_current().stage.set_focus(null),this.onComplete.dispatch())},__class__:fm});var Nb=function(){};k["tweenxcore.Easing"]=Nb,Nb.__name__="tweenxcore.Easing",Nb.linear=function(e){return e},Nb.sineIn=function(e){return 0==e?0:1==e?1:1-Math.cos(1.5707963267948966*e)},Nb.sineOut=function(e){return 0==e?0:1==e?1:Math.sin(1.5707963267948966*e)},Nb.sineInOut=function(e){return 0==e?0:1==e?1:-.5*(Math.cos(3.141592653589793*e)-1)},Nb.sineOutIn=function(e){return 0==e?0:1==e?1:.5>e?.5*Math.sin(3.141592653589793*e):-.5*Math.cos(1.5707963267948966*(2*e-1))+1},Nb.quadIn=function(e){return e*e},Nb.quadOut=function(e){return-e*(e-2)},Nb.quadInOut=function(e){return.5>e?2*e*e:-2*--e*e+1},Nb.quadOutIn=function(e){return.5>e?-.5*(e*=2)*(e-2):.5*(e=2*e-1)*e+.5},Nb.cubicIn=function(e){return e*e*e},Nb.cubicOut=function(e){return--e*e*e+1},Nb.cubicInOut=function(e){return 1>(e*=2)?.5*e*e*e:.5*((e-=2)*e*e+2)},Nb.cubicOutIn=function(e){return.5*((e=2*e-1)*e*e+1)},Nb.quartIn=function(e){return(e*=e)*e},Nb.quartOut=function(e){return 1-(e*=--e)*e},Nb.quartInOut=function(e){return 1>(e*=2)?.5*(e*=e)*e:-.5*((e*=e-=2)*e-2)},Nb.quartOutIn=function(e){return.5>e?(e=2*e-1,-.5*(e*=e)*e+.5):(e=2*e-1,.5*(e*=e)*e+.5)},Nb.quintIn=function(e){return e*(e*=e)*e},Nb.quintOut=function(e){return--e*(e*=e)*e+1},Nb.quintInOut=function(e){return 1>(e*=2)?.5*e*(e*=e)*e:.5*(e-=2)*(e*=e)*e+1},Nb.quintOutIn=function(e){return.5*((e=2*e-1)*(e*=e)*e+1)},Nb.expoIn=function(e){return 0==e?0:Math.exp(6.931471805599453*(e-1))},Nb.expoOut=function(e){return 1==e?1:1-Math.exp(-6.931471805599453*e)},Nb.expoInOut=function(e){return 0==e?0:1==e?1:1>(e*=2)?.5*Math.exp(6.931471805599453*(e-1)):.5*(2-Math.exp(-6.931471805599453*(e-1)))},Nb.expoOutIn=function(e){return.5>e?.5*(1-Math.exp(-13.862943611198906*e)):.5==e?.5:.5*(Math.exp(13.862943611198906*(e-1))+1)},Nb.circIn=function(e){return-1>e||1<e?0:1-Math.sqrt(1-e*e)},Nb.circOut=function(e){return 0>e||2<e?0:Math.sqrt(e*(2-e))},Nb.circInOut=function(e){return-.5>e||1.5<e?.5:1>(e*=2)?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},Nb.circOutIn=function(e){return 0>e?0:1<e?1:.5>e?(e=2*e-1,.5*Math.sqrt(1-e*e)):(e=2*e-1,-.5*(Math.sqrt(1-e*e)-1-1))},Nb.bounceIn=function(e){return.36363636363636365>(e=1-e)?1-7.5625*e*e:.7272727272727273>e?1-(7.5625*(e-=.5454545454545454)*e+.75):.9090909090909091>e?1-(7.5625*(e-=.8181818181818182)*e+.9375):1-(7.5625*(e-=.9545454545454546)*e+.984375)},Nb.bounceOut=function(e){return.36363636363636365>e?7.5625*e*e:.7272727272727273>e?7.5625*(e-=.5454545454545454)*e+.75:.9090909090909091>e?7.5625*(e-=.8181818181818182)*e+.9375:7.5625*(e-=.9545454545454546)*e+.984375},Nb.bounceInOut=function(e){return.5>e?.36363636363636365>(e=1-2*e)?.5*(1-7.5625*e*e):.7272727272727273>e?.5*(1-(7.5625*(e-=.5454545454545454)*e+.75)):.9090909090909091>e?.5*(1-(7.5625*(e-=.8181818181818182)*e+.9375)):.5*(1-(7.5625*(e-=.9545454545454546)*e+.984375)):.36363636363636365>(e=2*e-1)?7.5625*e*e*.5+.5:.7272727272727273>e?.5*(7.5625*(e-=.5454545454545454)*e+.75)+.5:.9090909090909091>e?.5*(7.5625*(e-=.8181818181818182)*e+.9375)+.5:.5*(7.5625*(e-=.9545454545454546)*e+.984375)+.5},Nb.bounceOutIn=function(e){return.5>e?.36363636363636365>(e*=2)?3.78125*e*e:.7272727272727273>e?.5*(7.5625*(e-=.5454545454545454)*e+.75):.9090909090909091>e?.5*(7.5625*(e-=.8181818181818182)*e+.9375):.5*(7.5625*(e-=.9545454545454546)*e+.984375):.36363636363636365>(e=1-(2*e-1))?.5-3.78125*e*e+.5:.7272727272727273>e?.5-.5*(7.5625*(e-=.5454545454545454)*e+.75)+.5:.9090909090909091>e?.5-.5*(7.5625*(e-=.8181818181818182)*e+.9375)+.5:.5-.5*(7.5625*(e-=.9545454545454546)*e+.984375)+.5},Nb.backIn=function(e){return 0==e?0:1==e?1:e*e*(2.70158*e-1.70158)},Nb.backOut=function(e){return 0==e?0:1==e?1:--e*e*(2.70158*e+1.70158)+1},Nb.backInOut=function(e){return 0==e?0:1==e?1:1>(e*=2)?.5*e*e*(3.5949095*e-2.5949095):.5*((e-=2)*e*(3.5949095*e+2.5949095)+2)},Nb.backOutIn=function(e){return 0==e?0:1==e?1:.5>e?.5*((e=2*e-1)*e*(2.70158*e+1.70158)+1):.5*(e=2*e-1)*e*(2.70158*e-1.70158)+.5},Nb.elasticIn=function(e){return 0==e?0:1==e?1:-Math.exp(6.931471805599453*--e)*Math.sin(6.283185307179586*(.001*e-75e-6)/3e-4)},Nb.elasticOut=function(e){return 0==e?0:1==e?1:Math.exp(-6.931471805599453*e)*Math.sin(6.283185307179586*(.001*e-75e-6)/3e-4)+1},Nb.elasticInOut=function(e){return 0==e?0:1==e?1:1>(e*=2)?-.5*Math.exp(6.931471805599453*--e)*Math.sin(6.283185307179586*(.001*e-75e-6)/3e-4):Math.exp(-6.931471805599453*--e)*Math.sin(6.283185307179586*(.001*e-75e-6)/3e-4)*.5+1},Nb.elasticOutIn=function(e){return.5>e?0==(e*=2)?0:.5*Math.exp(-6.931471805599453*e)*Math.sin(6.283185307179586*(.001*e-75e-6)/3e-4)+.5:.5==e?.5:1==e?1:(e=2*e-1,-.5*Math.exp(6.931471805599453*--e)*Math.sin(6.283185307179586*(.001*e-75e-6)/3e-4)+.5)},Nb.warpOut=function(e){return 0>=e?0:1},Nb.warpIn=function(e){return 1>e?0:1},Nb.warpInOut=function(e){return.5>e?0:1},Nb.warpOutIn=function(e){return 0>=e?0:1>e?.5:1};var jb=function(){};k["tweenxcore.FloatTools"]=jb,jb.__name__="tweenxcore.FloatTools",jb.revert=function(e){return 1-e},jb.clamp=function(e,i,s){return null==s&&(s=1),null==i&&(i=0),e<=i?i:s<=e?s:e},jb.lerp=function(e,i,s){return i*(1-e)+s*e},jb.inverseLerp=function(e,i,s){return(e-i)/(s-i)},jb.repeat=function(e,i,s){return null==s&&(s=1),null==i&&(i=0),(e=jb.inverseLerp(e,i,s))-Math.floor(e)},jb.shake=function(e,i,s){return null==i&&(i=0),null==s&&(s=Math.random),i+jb.spread(s(),e)},jb.spread=function(e,i){return jb.lerp(e,-i,i)},jb.sinByRate=function(e){return Math.sin(2*e*Math.PI)},jb.cosByRate=function(e){return Math.cos(2*e*Math.PI)},jb.yoyo=function(e,i){return i(2*(.5>e?e:1-e))},jb.zigzag=function(e,i){return.5>e?i(2*e):1-i(2*(e-.5))},jb.mixEasing=function(e,i,s,n){return null==n&&(n=.5),jb.lerp(n,i(e),s(e))},jb.crossfadeEasing=function(e,i,s,n,o,l){return null==l&&(l=1),null==o&&(o=0),jb.lerp(jb.lerp(n(e),o,l),i(e),s(e))},jb.connectEasing=function(e,i,s,n,o){return null==o&&(o=.5),null==n&&(n=.5),e<n?jb.lerp(i(jb.inverseLerp(e,0,n)),0,o):jb.lerp(s(jb.inverseLerp(e,n,1)),o,1)},jb.oneTwoEasing=function(e,i,s,n){return null==n&&(n=.5),e<n?i(jb.inverseLerp(e,0,n)):s(jb.inverseLerp(e,n,1))},jb.binarySearch=function(e,i,s){null==s&&(s=0);var n=0,o=e.length;if(0==s)for(;e[s=((o-n)/2|0)+n]<=i?n=s+1:o=s,n!=o;);else for(;e[s=((o-n)/2|0)+n]<i?n=s+1:o=s,n!=o;);return n},jb.polyline=function(e,i){if(2>i.length)throw new E("points length must be more than 2");var s=i.length-1;return e*=s,s=Math.floor(jb.clamp(e,0,s-1)),jb.lerp(e-s,i[s],i[s+1])},jb.bezier2=function(e,i,s,n){return jb.lerp(e,jb.lerp(e,i,s),jb.lerp(e,s,n))},jb.bezier3=function(e,i,s,n,o){return jb.bezier2(e,jb.lerp(e,i,s),jb.lerp(e,s,n),jb.lerp(e,n,o))},jb.bezier=function(e,i){if(2>i.length)throw new E("points length must be more than 2");return 2==i.length?jb.lerp(e,i[0],i[1]):3==i.length?jb.bezier2(e,i[0],i[1],i[2]):jb._bezier(e,i)},jb._bezier=function(e,i){if(4==i.length)return jb.bezier3(e,i[0],i[1],i[2],i[3]);for(var s=[],n=0,o=i.length-1;n<o;){var l=n++;s.push(jb.lerp(e,i[l],i[l+1]))}return jb._bezier(e,s)},jb.uniformQuadraticBSpline=function(e,i){if(2>i.length)throw new E("points length must be more than 2");if(2==i.length)return jb.lerp(e,i[0],i[1]);var s=i.length-2;e*=s;var n=i[s=Math.floor(jb.clamp(e,0,s-1))],o=i[s+1];return(e-=s)*e*(n/2-o+i[s+2]/2)+e*(-n+o)+n/2+o/2},jb.frameToSecond=function(e,i){return e/i},jb.secondToFrame=function(e,i){return e*i},jb.degreeToRate=function(e){return e/360},jb.rateToDegree=function(e){return 360*e},jb.radianToRate=function(e){return e/(2*Math.PI)},jb.rateToRadian=function(e){return 2*e*Math.PI},jb.millisecondToBeat=function(e,i){return e*i/6e4},jb.beatToMillisecond=function(e,i){return 6e4*e/i};var em=function(){};k["tweenxcore.PointTools"]=em,em.__name__="tweenxcore.PointTools",em.polyline=function(e,i,s){var n=[],o=[];for(s=S(s);s.hasNext();){var l=s.next();n.push(l.x),o.push(l.y)}e.x=jb.polyline(i,n),e.y=jb.polyline(i,o)},em.bezier2=function(e,i,s,n,o){e.x=jb.bezier2(i,s.x,n.x,s.x),e.y=jb.bezier2(i,s.y,n.y,s.y)},em.bezier3=function(e,i,s,n,o,l){e.x=jb.bezier3(i,s.x,n.x,o.x,s.x),e.y=jb.bezier3(i,s.y,n.y,o.y,s.y)},em.bezier=function(e,i,s){var n=[],o=[];for(s=S(s);s.hasNext();){var l=s.next();n.push(l.x),o.push(l.y)}e.x=jb.bezier(i,n),e.y=jb.bezier(i,o)},em.uniformQuadraticBSpline=function(e,i,s){var n=[],o=[];for(s=S(s);s.hasNext();){var l=s.next();n.push(l.x),o.push(l.y)}e.x=jb.uniformQuadraticBSpline(i,n),e.y=jb.uniformQuadraticBSpline(i,o)};var et=function(){};k["tweenxcore.MatrixTools"]=et,et.__name__="tweenxcore.MatrixTools",et.createSimilarityTransform=function(e,i,s,n,o){n-=i;var l=o-s;o=Math.atan2(l,n),n=Math.sqrt(n*n+l*l),e.a=n*Math.cos(o),e.b=n*Math.sin(o),e.c=-n*Math.sin(o),e.d=n*Math.cos(o),e.tx=i,e.ty=s},J.$haxeUID|=0,k.Math=Math,Aa.count=0,null==String.fromCodePoint&&(String.fromCodePoint=function(e){return 65536>e?String.fromCharCode(e):String.fromCharCode(55232+(e>>10))+String.fromCharCode(56320+(1023&e))}),String.prototype.__class__=k.String=String,String.__name__="String",k.Array=Array,Array.__name__="Array",Date.prototype.__class__=k.Date=Date,Date.__name__="Date";var sj={},rt={},Ls=Number,Ms=Boolean,as={},gt={},t={};ei.content=[{name:"config_game_config_json",data:"ewoJImFudGlhbGlhcyI6IHRydWUsCgkiYnVpbGRDb25maWciOiB7ImRlYnVnIjp0cnVlLCJleHRyYSI6W10sInBsYXRmb3JtIjoiaHRtbDUifSwKCSJkZWJ1Z0RyYXciOiBmYWxzZSwKCSJkaXNwb3NlSW1hZ2VzIjogZmFsc2UsCgkiZm9yY2VIaVJlc0Fzc2V0cyI6IGZhbHNlLAoJImluaXRTY2VuZUlEIjogMCwKCSJrZXlzIjogewoJCSJ1cCI6IFsiVVAiLCJXIl0sCgkJImRvd24iOiBbIkRPV04iLCJTIl0sCgkJImxlZnQiOiBbIkxFRlQiLCJBIl0sCgkJInJpZ2h0IjogWyJSSUdIVCIsIkQiXSwKCQkiYWN0aW9uMSI6IFsiWiJdLAoJCSJhY3Rpb24yIjogWyJYIl0sCgkJImVudGVyIjogWyJFTlRFUiJdCgkJCgl9LAoJInBpeGVsc25hcCI6IGZhbHNlLAoJInBoeXNpY3NNb2RlIjogIk5PUk1BTF9QSFlTSUNTIiwKCSJyZWxlYXNlTW9kZSI6IHRydWUsCgkic2hvd0NvbnNvbGUiOiBmYWxzZSwKCSJzdGFnZVdpZHRoIjogNDgwLAoJInN0YWdlSGVpZ2h0IjogMzIwLAoJInRvb2xzZXRJbnRlcmZhY2VIb3N0IjogImxvY2FsaG9zdCIsCgkidG9vbHNldEludGVyZmFjZVBvcnQiOiAtMSwKCSJwcm9qZWN0TmFtZSI6ICJCdXJidV9MZXRyYXMiLAoJInVzZUdjaUxvZ2dpbmciOiBmYWxzZSwKCQoJImNvbmZpZy1tb2JpbGUiOiB7CgkJImFkUG9zaXRpb25Cb3R0b20iOiB0cnVlLAoJCSJhdXRvcm90YXRlIjogZmFsc2UsCgkJImdhbWVTY2FsZSI6IDEsCgkJImxhbmRzY2FwZSI6IHRydWUsCgkJInRlc3RBZHMiOiBmYWxzZSwKCQkidG9vbHNldEludGVyZmFjZUhvc3QiOiAiMTkyLjE2OC4xMDAuMiIsCgoJCSJjb25maWctYW5kcm9pZCI6IHsKCQkJImRpc2FibGVCYWNrQnV0dG9uIjogZmFsc2UsCgkJCSJzY2FsZU1vZGUiOiAiTk9fU0NBTElORyIsCgkJCSJzY2FsZXMiOiBbIjF4IiwiMS41eCIsIjJ4IiwiM3giLCI0eCJdCgkJfSwKCQkKCQkiY29uZmlnLWlvcyI6IHsKCQkJInNjYWxlTW9kZSI6ICJOT19TQ0FMSU5HIiwKCQkJInNjYWxlcyI6IFsiMXgiLCIxLjV4IiwiMngiLCIzeCIsIjR4Il0KCQl9Cgl9LAoJCgkiY29uZmlnLWRlc2t0b3AiOiB7CgkJImdhbWVTY2FsZSI6IDEuMCwKCQkic2NhbGVNb2RlIjogIk5PX1NDQUxJTkciLAoJCSJzY2FsZXMiOiBbIjF4IiwiMS41eCIsIjJ4IiwiM3giLCI0eCJdLAoJCSJzdGFydEluRnVsbFNjcmVlbiI6IGZhbHNlCgl9LAoJCgkiY29uZmlnLXdlYiI6IHsKCQkiZ2FtZVNjYWxlIjogMS41LAoJCSJzdGFydEluRnVsbFNjcmVlbiI6IHRydWUsCgkJInNjYWxlcyI6IFsiMXgiLCIxLjV4IiwiMngiLCIzeCIsIjR4Il0sCgoJCSJjb25maWctZmxhc2giOiB7CgkJCSJzY2FsZU1vZGUiOiAiU0NBTEVfVE9fRklUX0ZJTEwiCgkJfSwKCQkKCQkiY29uZmlnLWh0bWw1IjogewoJCQkidG9vbHNldEludGVyZmFjZUhvc3QiOiAiMTkyLjE2OC4xMDAuMiIKCQl9Cgl9Cn0"},{name:"config_preloader_badge_txt",data:"aVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUhJQUFBQStDQU1BQUFEQW1iOVlBQUFDUFZCTVZFVUFBQUFBQUFBQUFBQUFBQUFBQUFBQQpBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFDZXRjNEFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBCkFBQUFBQUFBQUFBQUFBQUFBQUNkdE0yYXNja0FBQUFBQUFDWnI4Z0FBQUFBQUFBQUFBQUFBQUFBQUFDY3M4eVFwYnVQbzdxY3M4eWQKdE0wQUFBQ1BqNDk3ZTN1Zm41K29xS2gwZEhTSGg0ZVhsNWVibTV2QndjSFkyTmlucDZkMWRYV3dzTERWMWRXWW1KamQzZDI0dUxqNworL3YzOS9maDRlSGs1T1NrcEtURnhjVjVlWG1MaTR2YTJ0ckF3TURYMTlmWjJkbTh2THpVMU5UNStmbUZoWVd2cjYvUjBkR2hvYUhnCjRPQ2pvNlBEdzhOOWZYM2MzTnplM3Q2eXNyS0lpSWpKeWNtYW1wcXFxcXFCZ1lHSmlZbTN0N2ZsNWVYUTBOQ2xwYVdPam82MnRyYjYKK3ZwK2ZuNkdob2JmMzkvcDZlbDhmSHkwdExSMmRuYTV1Ym52NysvcjYrdnQ3ZTJTa3BLc3JLeXhzYkY0ZUhpOXZiMlJrWkhHeHNhcgpxNnZXMXRhTmpZM0l5TWltcHFhQ2dvTE96czdTMHRMMjl2YTF0YlhFeE1TY25KejA5UFRQejgrZG5aMmlvcUtLaW9xQWdJQ1ptWm5pCjR1TG01dWJIeDhmTHk4dk56YzIrdnI1M2QzZWVucDZUazVQVDA5UG41K2ZxNnVyeDhmR1ZsWlh6OC9PRGc0UHM3T3o0K1BqbzZPancKOFBEZTRlUHU3dTZ5dzlUZTRPUHk4dktNakl5dXJxNzE5ZlY2ZW5xRWhJUy92Ny9Nek15N3U3dVVsSlNXbHBhdHJhMnBxYW02dXJxZQp0YzUvZjMrMng5cVFrSkRxNy9YLy8vLzIrUHFnb0tEajQrUDgvUHo5L2YzS3lzcisvdjdiMjl2Q3dzTFJjbEZYQUFBQUxYUlNUbE1CCkF3WUtGUThjSkNzQ0FBVUVBQWtJQ3c0VERCUVhFUWNRRFJzU0lNcUJKeWxqSGlJakdScm5oNHpxNkNyc1czaXlBQUFIUTBsRVFWUjQKWHJ6UXVRNkRNQXlBWVdJbWNKb0RLdG9PVk9yTXl5ZWN2Wit0eHFIcTNDSDVoeXlPOU1uT2RxRXNRUXlWWmJaNUJTVWlWbENzTXNtZwprQklSb29Vb3BXQjBJd204dEM1eTdZVlFKbG5FY3o5T2tSdjdNN0pKSkluUXpWUDA1ZzdJREtRRTVaNEpjZ29ra1h4V2JkS1FSdk5wCjF5VnptNGEwT2NoQUhzelIzUlBranVZUVNOUjFrNFpzYW8wcktWQ2RLbmRMa0t0T0NzVktncko3SnQ5K29IZndqeC9nbHcwWWFMVDQKSy8xNWZTZi9rM3VySUpBZjFzYWdOV29nRE1OcTI1OHp6bVNHWkIzQ1pLcG80OEt3UzcwRkphNFNiQThiaFlKUTl0SkRQSHBzbGtMcwpaYUgzZlUvZjMzT0dpSWU0c0lidEE4bjN3QXZ6SEowY2J6UFBFbWl6TXlETy9nTDZJd0ozbVVRY0xvbTI2SmVSYkk5UGpnYkpxL0RtClV1NU14amhyZ2F0TXBwbFlFaDRqV1hrRVM2bGlHcm9sS2NWbUk1Q0NObHJLdUtxbWlPZWd0SVdwUUFEbVNNbVAxUmgySklrWm5HSU8Kdlltbk1ZeEdiRUNhelFzVVZRV2hVK1BIcVU4eUZDMWdCTXdoU2VjaGxVREFRYmhjQVNTVmN5QUV0SE5LS2IyQXdOcUJDR0hwdnhIcwpTREphQThJZmd6d0J3U2RET0VtU1MrY01zTHFFVk83UmtwMkg4WTVqNWM4RWl4eituNWZnTTVTci9MN3JGc0N2VHFMc3VyQ1U1K0RCCnVyMjgvUEQ2eGZ0ZUIwbnJ3Y3orWkxWbDdGYkpDZU0xQjFlOG5rbW9XMnRyU0dzbmVHc3QrQVhERC9CZ2RpK256NlBvVTYvRDVLR00KVDk3OFEzTjkzZHdjVGtpKzZuV1FmQmpRbEY4aVZqOGN6bmxJOXJvbitlMU5GSDBlbGZ4NE56TFpETGhuVWZSOTNmdy85YnV2TzRlTAprT3gxKzV0MGN1MUpZd25qK0xsK0hGWWVMN0F1bUhBclhnamVRYXR5Vm11c0s3cUxWcXUyWHFKTnJSZXExWmJkVWdJaG9TZjBYQy9FCkY1S2NySi90L0dlbVZBclc4NksvaE16L2VYYUczK3hNOW5ObGxuTXlNdWFjZmVyUGVqZTI1b2dxN2cxM3NvaTJwY3hPT3BObnFTd28KTHJuZDA5bDB4NHJ6ejVlR1dGVlNqS3paSmJWdnJQenRLdlU1SjkyOW9wL3VkTHFYd2d0RXc2SytSVmw2SkJHanZINUdOUjdtczFuWAo1U0xQaHhFSWNwZEVneU9WbXdaNHRUdzRSNEt1VGdTM2FJOGdIdmlsTHlsTDRCR0JWZngycCt1VXBaMEZoRExyanlxWWRVQzBjRTZDCnVYQ0pFYVJQckorRWlONWxlUHNDOVlDdkRHV0owNkMwTEd2K0hWSHJRUHI1eFhKR3I5b0pvbnV4cXM5dnpXOUR1S1pXKzJVaVI4cXkKbmhFSWJmM2JLU0c4c0VEOGlPMHQ2YW8rSFg0N3hKL3ZXMERGaEhFOXpwUVdwMWw1U2tSQmpMcUd3bmdQUWM0Q00wU0xRUmJZa1QwWApTdWtsNnZ0TTdVK3RkYnhGYUZPdGoxeWpPbUNoR3lGcGViK29MQlFLN0MvMk1ISTA5cEdZQ0g2OHdpQnZlYWVJQW9WQ093VDlLRVhhCktRVFp1VWQ5aFJxNUtHNG5oakNCbTNBVllsQytFRThhbExxdVIwTFlkWDlWNStTWlVrTllsMm54dnVnZEUxM3FPa1RTSnE5L2crdVYKcnE5Z0dOTnZHRU85cE9zeDdOQ2o2elpUNnB4R0pkZ2lVTm1LZjZhY0paS2ppWEZ3RDYrVHlETmxaWWdMMXVINlJkZmQyT2x1bmJMMwpuT2k5cnJOejdiaExXUVJtUUNaUTdrUE9RUGtranpCSjlTUXlSYWFjTHpLQzdDMkxmZ2NhdnVJTnFYYTJCejR2VXl5R29Sd1VEeHFVCktVWnV4eE1pY0oxS3Baa3lneDZVcTIzUDJnV2VqVnhxQW9ZNG44NlVmY0VveEtQaFZCMGQ2R3lvRXBFYlJTOVRpbjZUVXVEeUVGeDEKU3R4TWVTQjFRNE55YlNoNGlhRzdYcG5HTGh4WXR6aDlwekpYSTdPTVRjZHo2aUh1TW9NNktCUE41dXBnU2k5UCsweVp5M1ZoYU5QcQpwL3dNM1J6UjR6eXlpeWxGdTBGcGZHSUZ5cGloNGkwVFBwUmVyUDBRTm03Z1NwNUcyTUVhaG8wWmxEVHEyRHdueGg3TFBWQmVpWGF6CjBnN3NwekhsQTlFMnF0LzVHalZ2VENJY25tcUdZVmF2ZDI1VGRzZ1k1Um5iTk5YZE5aOEJ6QWtDa3ZkdXBXbWFlMFRScTVaUkdQcFIKNFhCSWRyUUd6UGx4bmdKYm5tMzZJMitheDFER1RBWlhtajduU29KQWVmbjRJVkhRWkZ3VHVPS1JLMDFPczNLWUJMUmNSV1ZQOGV6QQpvc2RVbzFJVlNydE9tVkZOK3pYVkdPTWVGWEk2L1IrbHBtbXV2eHhIWmFseStaTmZZN3p4VEpYTFJ6Tkk2YjYycUNSSjIwOWF1dk9hCmRpR0hvakdOc1U5U3FJK25lS1Uxc1lBTGVSQjR3K3NJenVwMW1zZWVxYkljMERoTlN1RHZqU2d1RllHVHRwV0lMZFpsdklxaWhFOTQKdGlOS2oraFdJNG95eEZQdmdYY29QRGdlOW11Q0ZpSjVSTVQwcGhMeDNxck1meFYrTDhLdnM3VXlTZXdMYWFKUitmV29WUkV5WTR0RQpxMmZOeXYrS001dlZoSUVvakZZemsyalR6ay9pUkUwQ0NmRmZCTW1tajlFWHNCQ2tMMUFLOWdtNnFsdlhvbS9nSStxTWVvVVNjSk9MClozc1haM05YNS91bjNGUkY4Zk9WbjNndk9XRXAvOHgvTDR2N3luVmxMUEw4NDdQMFlwU1FKeXBVL3M2LzM4b3ZrQ2RNaEJsdDEraHMKUnhCaGRHb2E3L1lGTXZ2ZFdLZW0yaldva2NuMGdNeDBRblJRZzJ3WUtUdDJrblRXUUdHV0prNXNxd2l5b1k2ajFGTmhGdmY2RGdyOQpYcHlGeXFQbk9IcEp3RDZOaUJvTVF4dUZjRGhRSktLK1RzQVF1cG1RbmNCckVTUmFYdENSZ2tIb05rNXVDYjhyS1JLeTZ3dUxHK01UCmpCWnV2YzBaczVCZ2pMZnJMb3dXRDVobVlJQ3FvWElib0I0d3N4MEJ1ZlFIa1ZubkhHOEFBQUFBU1VWT1JLNUNZSUk9"},{name:"config_preloadpaths_txt",data:"YXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS0xLTAucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS90aWxlc2V0LTIucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNC0wLnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTQtMS5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL2ZvbnQtNS5mbnQKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL2ZvbnQtNS5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS03LTAucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9mb250LTExLmZudAphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0UvZm9udC0xMS5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS0xMy0wLnBuZwphc3NldHMvc2Z4L3NvdW5kLTE1Lm9nZwphc3NldHMvc2Z4L3NvdW5kLTE2Lm9nZwphc3NldHMvc2Z4L3NvdW5kLTE3Lm9nZwphc3NldHMvc2Z4L3NvdW5kLTE4Lm9nZwphc3NldHMvc2Z4L3NvdW5kLTE5Lm9nZwphc3NldHMvc2Z4L3NvdW5kLTIwLm9nZwphc3NldHMvc2Z4L3NvdW5kLTIxLm9nZwphc3NldHMvc2Z4L3NvdW5kLTIyLm9nZwphc3NldHMvc2Z4L3NvdW5kLTIzLm9nZwphc3NldHMvc2Z4L3NvdW5kLTI0Lm9nZwphc3NldHMvc2Z4L3NvdW5kLTI1Lm9nZwphc3NldHMvc2Z4L3NvdW5kLTI2Lm9nZwphc3NldHMvc2Z4L3NvdW5kLTI3Lm9nZwphc3NldHMvc2Z4L3NvdW5kLTI4Lm9nZwphc3NldHMvc2Z4L3NvdW5kLTI5Lm9nZwphc3NldHMvc2Z4L3NvdW5kLTMwLm9nZwphc3NldHMvc2Z4L3NvdW5kLTMxLm9nZwphc3NldHMvc2Z4L3NvdW5kLTMyLm9nZwphc3NldHMvc2Z4L3NvdW5kLTMzLm9nZwphc3NldHMvc2Z4L3NvdW5kLTM0Lm9nZwphc3NldHMvc2Z4L3NvdW5kLTM1Lm9nZwphc3NldHMvc2Z4L3NvdW5kLTM2Lm9nZwphc3NldHMvc2Z4L3NvdW5kLTM3Lm9nZwphc3NldHMvc2Z4L3NvdW5kLTM4Lm9nZwphc3NldHMvc2Z4L3NvdW5kLTM5Lm9nZwphc3NldHMvc2Z4L3NvdW5kLTQwLm9nZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTQ2LTAucG5nCg"},{name:"config_preloader_bg_txt",data:"aVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQWNnQUFBRTNDQVlBQUFBdVpkRW1BQUJjWTBsRVFWUjRYdTI5YVhBY1I1cW0yZE43MUhUdgpyTzNzMmg3elkyZHRiTTNXZHZySG1JM1oydjRhVzdPdG11cXU3cTN1TGtrbGxVcFVsVW9IcFJJcGlhUjQzeFJGaXBRb2lxZDRpK0pOCmtBUUpYdUJOZ2dkNGd5QkFFaVFJZ01SOUg0a2pjZWJsRzY5RGtZaDBqNGlNeUlqSVRHUitqOWxyQkRNOFBDSURnWGpEM1QvLy9DOFkKUVJBRVFSQVNmeUYrUUJBRVFSQUVHU1JCRUFSQjZFSUdTUkFFUVJBNmtFRVNCRUVRaEE2SkcyUTR6QVkycldUK1pUTVMwbkIrYmt4MQpWOXFhMlg4cU9NdityMHVuRFlYdC8zRGpFdnYwNFYyMnAvWUY2dzBFWXVvZ0NJSWdDTGRJMkNBalBkMnNaK0lyQ2N1L1pFcE1mVEM5CnZ6aXkyNWIrVmQ1K3RyTDhNWXZFMUVRUUJFRVF6bkZna0Q3SjlPekl2empXSUQ5SndDQlZUUys5SDFNWFFSQUVRVGdsSXd6eVh5Z3EKOW5YRzFFY1FCRUVRVHNnSWc0UStlbkE3cGo2Q0lBaUNjSUkzQmpucERkWTc1USttR2p5d0xhWStJNFA4cjQ3dVpmLzlpWU5jZjNWcwpuN1JkMWI4L2R6eW1Qb0lnQ0lKd2d1c0cyVHZqWFJZWkdSYUx4OFhJSUc5MHRNYVVLK3hvWXo4N0todmxYK2J1WWNFSWhlc1FCRUVRCjdtQnVrQ045TE5KZG9memJLMjR4TkVqLzBtbGlVVXNZR1dUdGdGOHN5cWQ3aU9XZ0xoMWpIZ2lFV0dQZklQK1hJQWlDSUt5aWI1Q0IKZmhZcVdzNENKLzR6Q3h6L3VmTHZMMWpvM2hmY01GV01ETEozMmp0OG0xM3NHT1EvMzd3aWxZUHFCL3FqWldDSUI4cnEyTHlyajluYwpnc2RzL3RVbkxPZHBQUnNLa2xFU0JFRVE4ZEV4eUFnTEZuNCthb3lDZ3RjL1VUYUhSMHNaR0tTWi9Ddm5Dc2NhdzQ1Qi9pYU9RYUtuCmRYUHhDMjZNb3JZOWZFbnpKZ21DSUlpNFNBWVphU3VTakZHcmNIUGhhTGtFRExMMzA3ZUVvNDNocGtFKzYraVZqRkdyaXE2eGxqQkIKRUFSQjZDRVpaUGo1WHNrVXRRbzkzYzdMcGJOQlhualpLcG1pVnBkcjJvUWFDWUlnQ0NJVzJTQ3Jqa2ltR05PQ2ZMNlBsMHRuZ3l5bwpiWk5NVWFzYmRSMUNqUVJCRUFRUmkyU1FFWC85V0hDT3BGOG94dmhpdEZ3aUJ2blpCT0ZvWTdocGtDMzlRMnllampGQ0NOWnBINUNqClhRbUNJQWhDaTJTUXdLaWJOZlIwUjdTTW1VRWlHR2RnNnlwSncyZU9hbzRTaTVzR0NZeTZXYWw3bFNBSWdyQ0Nya0VDQk9NRWI4MWsKd1lzVFdQRG1EQlp1TElqWmJtU1FmZlArSEZQT0tuWU04dGVGbDZWeVVOUGdRRXk1UjIwOWJFZEpOVnQxNXpuYldWck55dHJsK1p3RQpRUkFFb1llaFFjYkR5Q0Q5WDdpYktLQ21YemJJdnpsL1hDb0g5UVZwZlVpQ0lBakNIVnczeU43SmI3SkE4VzBXZkZacUxLemg2STl0CnpSa1o1TUluRDltbDFtYXUvT1lHTnFuNGpsUUcrdXRqKzJsK0kwRVFCT0Vhcmh1a1ZmVi9QUyttUGlPRHRLci9wK0JjVEgwRVFSQUUKNFlTVUdhVGJ5MTE5WGY0a3BqNkNJQWlDY0VKR0dPVC9lREtIZGVva0tpY0lnaUNJUkJuM0JvbXh4L010VFRGMUVVU3lDQWJEckxTOApSVmUrM2lHeE9FRVE0NGpFRGRMZks1bWVIZm1YZmg1VDM3U1MrNUw1bWVtL3pOM0Qzcmg5alQzdDdZNnBoeUNTQ1V6d054OGYxTldOCis3VmljWUlneGhFSkd5UUkzTDNPaHM4ZFMwaWhxdktZdWpDZFk5WHpKM3dzMFVocks1K3luZFdWN0hwN0swM3BJQ3d6TkJ4a2k5Y1YKV05hUzliRnpmczBnZ3lTSXpNV1JRUkxFZUtCL2NFUXlMek85TXVtZ1dJVWg0OUVnV3p2OHVob2VvYlZTQ1VJTEdTU1I4WkJCeHZMYQo1QnpwWEtIN2p4ckZvZ1NSMVpCQkVoa1BHV1FzWkpBRVlRMVRneXlyNkdCYjk1ZElPbkRpYVV4M1RFTkxIOXQ2SUxiTXZyd3lGZ3FGCk5iVXhWbFhyaytveVU4WExydWkralRySHNLUEQrYkZqbmtUMlFBWVpDeGtrUVZqRDFDQlhiNy9QZnZ2eGNWMXBEZWZ3NlhKcE8xVGIKR0p0T0RnWW5sakhUOTN1S28vc2VQZnRjMm01WC9RTVUySk9OdUdXUWo4cGIyYnJkZDlqY2J5K3hyN2NWc3FMSGpaWU5zcjJyWDVvRwpBajJyYXVmYkcxcDZlZDJUbCtTemlmTlBzS1Vici9MdFprUWlqTjBwYVdEZmJDOWtuM3lSejk2ZG5jZW1MRHZMTnU2OXk4b3E1VlZyCjhCbnFmTlhBSUErZkxZdWUxOEFRL2EwUWhLbEJmcnZ0bm1ReXFpWXR1S0Q4Z1k1bVA4MDU5VXphRGxYWDk4VFV0MFZweVlsbHpMUmgKMTRQb3ZrWW1iRWM5ZlpSTUlCc3hNOGl2Tmw5bk40dnJKR25CYmI0dHAwamFGOXAzNHBIMG1TcXRRZVpkZUNadGgyQ0dNSzQzcHg2Ugp0cjB5S1lmZEtOSnZoWFlyeGp6L3U4dlNQbHJCS0VQaHNRekZiODg0S3BVeFVsWHRXTzhOUVdRckNSc2s5TFN5ZzVjamd5VFNHVE9ECjNIMnNSQ3d1Y2VKU3ViU2ZGVmt4U0xUNkppMCtMWDJ1Nm84emo3R1JRR3gwNmNCZ2dMY1l4Yko2MnJUL2ZuUS9Na2lDc0ljamcxUzcKUU1rZ2lYVEd6Q0F4NS9GQ1lWV01YdGI3b3Z2MitvZlo3NmZsU3Z0WmtSV0R0S0s3cFEzUmVnQmFobUlaSTZHNytQbkwwUmRaTWtpQwpzSWNqZzV3dzlSU2ZoTzJWUVI0OCtTeTZiOEh0T21tN0hiMHpQVjhLR2lLeUF6T0QxQlBHNGxST1hYa3ViYmNxdHd4eTM0blNhRDJZCnI0aXVWN0VNQkRNVVA0Tlc3YmpKOXlXREpBaDdPREpJNk9xZE9zY0d1U3Yzc2ZLSDN4K2pEdDlnZEl3VDRFZDhwaTNUMU9wbnMxWmMKbGVxRHJ0MnRqeW1MYmlraU8zRmlrR2hoaXR0VndYQ016QXF5YXBDdmYzcUl2VE1yVC9wYzFmbzlkNlAxSERpcFArYUpybFJFbGlNVAprTGdONDV2SUdidHd6UlUyZmNWNXd5Q2RqeGVkNXRzaEJBMFJSTGJqMkNDWHJDbDBiSkQzUzV0anl0bGgwOTZIVW4xUWR5OTFweEtqCk9ERklqQUdLMnlGRXNpSUFwckNvVHRxbXlxcEJJaG9XNXZhSEdmckhXcm4xUnJTZWVhc3ZTZHVoK3ViUnY3VXoxeXFsYlZCZDA5amYKb2xHWE1VM3pJSWhZSEJ2azY1Tk9zTG5mWEpNK2g2d2E1S1hDbXBoeWR0aThqd3lTTUNkUmc4VHdnYmhOMWFWYkwzbVpzR0tTRXo3WAo3N3EwYXBBNFB6Qm4xVVZwRzdSbzNaVm9QVzhabUJ2TzRlM3BSM1dqWWFIYkQrdWpkWkJCRW9RMUhCdWttYXdhNUp1Zm5tU1RGMTZVCjlQbXlLK3hGcmZscUhXU1FSRHdTTlVoZno2QzBUZFhUbitZdkFuUkppdHNocXdZSkl3WkcwellXckxuTXQ2T2JWTnhtVmFxaEF6SkkKZ3JCR1doaWttVTVmZVJGVGh3Z1pKQkVQTTROY3RmMm1OSGtmZ1REQUxBbEFaVTFudEg1MHQ0cmJJYmNORXVQbzRqYXJ5aStvaUo0TApHU1JCV0NNaGc1dzQ1NXowbVo1Y01jakxaSkNFTTh3TTBtd2VwRmtYYTNIWjJMZzVzdCtJMnlHM0RSSkJhMFlCTnVoNlJSZXJrYzdmCnFJcWVpNUZCM2lPREpJZ1lFakxJVTVlcXBNLzBSQVpKcEFObUJtbVVTYWVsZmJRVmFSUmRpZ3c2QUJsdGpDSlozVFpJOE42YzQ5SjIKNk9IVE1jTkc0RkNIYnlENmZ4RWpneng3clZJc1NoQlpUVUlHK2JLdVcvcE1UNjRZSkhXeEVnNHhNMGdqbmJzK2FoYUwxbDZSdGtFdwptWUk3MVR4bnFyaE5sUmNHaVJ5dzRuWm82ckt6Zk83aXRYczFmTnJJNzZZY1pvZlBQSkd5OEFDMEtNWDlvWW56VC9KelR0Y2s2d1NSCmJCSXl5T0hoa0tWdVZxc0crY2JrRSt6aitSZWtJSjNQbGx5S1dkRkREekpJSWg1T0RQTG8rYWZTTnF2eXdpQVJiQ051TjlOSEMwL0YKUkxBQ2ZDYVcwd3BUV3dpQ2NHQ1FaaXQ5cUxKcWtPZXVWY2VVc3dNWkpCRVBKd2FKZ0IyajVhSGl5UXVEUkl2UXFOdlhTQmlmUk1vOApsV1dicmt0bHRDS0RKSWhSRWpiSWM5ZGVTcCtMc21xUVRoSUZrRUVTOFhCaWtHRDk3anZTZGl2eXdpREJyZUo2cVl5WjhxK09SYkNDCks3Zk5XNkZra0FReFNzSUdXZGZVSzMwdXlxcEJZZ0Ztck5Wb3BvRE9XQW9nZ3lUaTRkUWcvUU1qN01NRko2VXkwS2RMenhobTIvSEsKSUVIdXVhZUd1VmUxMnJEbkxrL1RxQVU1aVdjYkpDV0F5Q0FKWXBTRURSSi9kTy9QT2l0dDA4cXFRVnJSN3o0NXlZT0RSTWdnaVhoZwo4VitNdTlrUmdsMjBkSFlQU2dZRzAwU0t0OW5mWEpUMmg3VHpDckZLaUxoZGxScElzL3FIVzlJMmFQWE9XOUY2dEJROWFUSmM5Z3JkCnNJaEtGYzFSWlZDNUpsc09GckUzUGpzczdmdjVWK2ZFNGdTUmxTUnNrR0RWMXJ2U05xM2NORWpvenNPbW1Qb0FHU1NSVEdvYXU5bk4KQjNYczBmTldudGttMWNBQVg5UjFLUzNlS3FWVldjWk9YbjdPSHBWYlB6ZVk4L1BxRG02MldMaFpuZDVDRUlSRGc4eS84a0xhcGhVWgpKRUVRQkRGZWNXU1FOUTA5MGphdHlDQUpnaUNJOFlxcFFScE41VkRIVEpENjZrOHp6a2piVmRVMnhxNHB0OVdoUWQ0dGthTmRqVXhYCkc5Wk9FQVJCRUhZeE5jalNaMjFzelEvM3VWR3FPblM2UEtiTWd5Y3RTcG1pbURMUUQ0Y2VTZU1nNVZXZHVtV3Q2UHM5eGF6UFA3b3MKa0ZqbjJwMnhkZTQvL3RRd09JRWdDSUlnckdCcWtBUkJFQVNSclpCQkVnUkJFSVFPWkpBRVFSQUVvUU1aSkVFUUJFSG9RQVpKRUFSQgpFRHFRUVJJRVFSQ0VEbVNRQkVFUUJLRURHU1JCRUFSQjZFQUdTUkFFUVJBNmtFRVNCRUVRaEE1a2tBUkJTTFIzRGJDYnhYVzZ3amFWCnh0WmVhYnNxeW9kTWpIZklJQW1Da0xoeHYxWmFTRmtWdHFua1hYZ21iVmYxdEtwZFV5TkJqRC9JSUltazR1OGZZZE5YbkRmVXJHOHUKc0dXYnJyT05lKyt5eTdkZnN1N2VJYkVLSWdtUVFSSUVHU1NSWkhyNmhxUUhxWmxlbVhTUXJkMTFtL2w2QnNXcUNBOGhneVFJTWtnaQp5ZGcxU0ZWdlR6L0tLbXM3eGVvSWp5Q0RKQWd5U0NMSkpHcVEwTnN6anJLMnpuNnhTc0lEeUNBSmdneVNTREpPREJKYXV2R3FXQ1hoCkFXU1FCRUVHU1NRWnB3WUpWZGJvZDdVT2o0VFlxU3ZQMmR6Vmw5aWZadWV4TjZjZVlaTVduMlliOXR4bHoxOTJpTVZqaUVRaXJPaHgKSTF1Myt3NmJ2dUljKzNUcEdUWlBxV2Y3NFFmcy9xTkdGZzVIeEYwNGRVMDliTitKVWg1ZzlNNnMwV04rdFBBVVc3WDlKcnRiMmlBVwo1MkQ2Z3pnbEFycjlzSjV2ZjFIbll5dTIzR0JUbHAzbG40OEVRbEpaVlVQRFFkNnFYdlBqYlY3KytNVnk0V2lNRlpjMXM5VTdiN0UvCkx6ckZ6Kys5T2NmWmdqV1gyZW1DQ3I2L0hsNGFwSDlnaE84M2U5VkY5dTVQdjZmSlMvSjVZSmJSUGdTUkNzZ2dpYVJpWnBCL21IR00KRlQxcFl1c1ZreEszYWJVdHAwaXNsbFhWZHJFUEY1eVV5cXBDc00rdVl3OFZJeFQzWkt5clo1RE4vZmFTdEk5V01EMnQ0ZUVoRHpOOQpaVktPVkZZckdHVklNTmV5eWphcEhQVGFKNGRZUTBzdk53ejFzMHMzWC9CSVhyR3NLb3pMVHB4L0l2ci8zY2RLb3NjWkdBcXc1WnV2ClMvdG9OWEgrU1ZhdTgvTGdsVUhDclBIeUlwYlZDdGMxRUF5THV4SkUwaUdESkpLS21VR2laYU5pWnBKb0ZXcXBhKzVoRXo0L0twWFQKMCtHelpUSDdEaW9tZ3ZyRWNucUN5YjZvNitJdFFMUXd4ZTFHMnBOWEduTk1NNE5jL2NPdG1NOWd5bVlHaVFoZjdmK1BYWGpLajRGVwpKMXBvWW5rOXdaREZWcmtYQnZud2FUUDc3YWVIcEhKNld2YjlOZDZxSjRoVVFnWkpKQldyQnZteTNpZHRWNFZXbTlvMWlLN1BHU3ZQClMyV005THJ5Z05ZRyt1dzc4VWdxWXlSMEFhckhuUC9kWldtN2tkNzQ3SEJNVmhramc0UUJ2elk1dGtVS2t6RXpTTEg4UmFYRkNXREsKWWxrem9Zc1RwcXJpdGtGaS9pdTZVOFV5WmtJWE1FR2tFakpJSXFsWU5VancvdHpqVWhsVk5ZM2R2QXhhV09JMlZUQkQ4VE1JWTRZcQpIOHdiNjU0MDB5ZGY1TWVNMTNWMkQ3SS96andtbFROU3daM3E2TDVHQnFtbmVxVjFiR2FRb3U2VU5QQnJiTFdscHRXRndxcm9PYnB0CmtBZFBQNWEyeHhPdUwzVzFFcW1FREpKSUtuWU1jdWJYRjZReXF0U0hMNEpaeEcwUUh2Wm9FZWwxaGVJemdERTZjUnVFTVQwRXpGd28KZk1FK1U4cWlCVmpUTUdySVdoRFVnMWJmcTBvckRsMkN1L05LRE05NTAvNzcwZjNzR0NUTTBZNUJvbTRFNm9pZnE4S1lvOWpxVklWegpWM0hUSU5GVCtyN0J5dzVlWXQ0M2VVa3BMS3FMSG9zZ2tnMFpKSkZVN0Jqa2w0cnBpR1ZVSWRnREQxNEU5b2piTUpZWENvMjJQSFljCmZpQnRSeGN0ekJQQk9lSTJDQS9zbXcvcStQaGtVR25CbUVYQTVwNTd5cDVwV2twOS9jTlNmZENTOVFYUk12RU1FZ0ZCNk02RitlTjcKeEROSVJNOWlMQklCUWEwZGZtN1dZaGxJblNKenE3aGUyZ2JCNlBHZGdac0dpWVRtNGpaVkpjOWErRmlqVVpEVWxvTnlRQlpCSkFzeQpTQ0twMkRISTJkOFlCNW5BWkRwOUE5TG5Wb1hwR1RBL3RBN0ZiYXF3RFVFekdBODFBbEduNkQ2RUFTTFlCK1ltMWdOOS90VzU2RDVtCkJvbXVYTFJzdFpnWkpJS1RPbnhqcTJ1QTl3MWFhNnF4WVF6MXJXbTUwblpJZlJsdzB5RFJDaFMzUWU5cWZ0L25iMVJKMnlFRUdoRkUKcWlDREpKS0tIWU0wNjNxcmJ2RHhjVWp4YzZ0NjltTDA0ZjMxdGtKcG15aU01NGtCSXpEWHJUbEZjYWQ1cUlMeHFaZ1pKT1p4aXBnWgo1SmFEWTEyM0trYW1yNDFVbmJyc3JMUWR3cHhQNEtaQm5yMVdLVzJEMEdwVUtTMXZrYlpEWXNReVFTUVRNa2dpcVZnMVNJejVpZHRWCllkeHZZRERBSC9qaU5xdEMxeDVvYnUvVDdhWVZoV09pVzFjRkUvUEZNbWJTUHVqTkRGSXZ1WUNaUWNLZ3RLRGIyY2kwOFZLaE10TWcKOGhmSkI0Q2JCbm55OG5OcEc3Und6WlZvUFNncmJvY3dIa3dRcVlJTWtrZ3FWZzBTazhYRjdhcVFFUVkwdGZWSjIxU2hxOU5NMmdoTApMQUM4ZUYyQlZJZW9SV3RISCtqb2hoUzN4Wk5WZzBUZ2o0aVpRWjY0SkdmT1FXSjNzUnlrdmhRQUJPdUkyeUcwNUlDYkJvbGx5OFJ0CjBHZGZqZ1pMQVFSRmlkdWhxY3ZQUnNzUVJMSWhneVNTaXBsQnFwbDB4TW52b3RSdVJRU1VHTFdXMERKVWdZbjRUTmFWUk1BTzB0UWgKNFFEbUR4cGw1TUdFZXZEajBZZlNOcHo3OCtvTzN2V0tCNys0UFprR09XMzVPYWtjaERtZkFJRTg0alpWNm5WejB5QWZQVytWdGtFSQpDc0w5QUxZZmtvT3BvSzgyWDQ4ZWl5Q1NEUmtra1ZUTUROS3FZRVFxYUdHSTJ5Rk01TWNEK3NESjBVUUFDRXJKdS9pTUc1Z0lVdGRoCjZrZnRUM01yRVRtcVo1S1lIb0V1VEwxeFN5enlEREJYOHZjNkFUREpORWhFZm9ybElCajh1ZXVWUE1lc3VBM0N2RU0xZVkyYkJvbHIKWWpTMUJKRzFHTjgxbXJONjlQeG9aaUNDU0FWa2tFUlNjV3FRNG1vZSszOHlRS3VDVVduSEVyVmRlMmlOemxsMTBUQkxEcm9sZ2Q3Ywp5OTlOT2N3T25IcHN1Rzh5RGZKeGhYNkxMWjYwVXlyY05FZ1FMeWVzbmpEdWkyNTBna2dWWkpCRVVuRmlrQmhiUS9lZ0ZzeGxOR3A5CkdBbVQvNUZBdkwycjMzQzhUaytiRDR4MjdScDFCNW9wbVFhSlZpQldKQkhMbWdrdFBHVHRVWEhiSUJNeGJaZ3FRYVFTTWtnaXFTUnEKa09qK001cVBhQlFscVNlMEVqR3hINVBUclNiemh0QkNiR29kYmMyZ0JTcHVqNmRrR2lUQWtsbEltQ0NXTjVJMi9SNXcyeURCK2oxMwpwVEpHUWpjMUxZNU5wQm95U0NLcDJEVklHTnJHZmZkTWcyelFZdnJoU0xHMHJ5alVoVGw1S3NoYmFtV0tCMXFvMnVrWE9CNm1LSWpsClZPa2xUMCsyUVFLY3M1V2NySWdZRnRlNzlNSWdrVmZWS011UFZoZ3J4VFVpaUZSREJra2tGYXpxZ01XRmpZVHNPZWhhKzE0eHhTdDMKcXFOUmpsYkFIRDZqcGFzUTJmbW92RlhjaFdldFFlNVNUSnpIbUpkMkgzUTdydHg2STZiclVhVi9jSVI5dC9OV1RCUXRKdWdqcUFSWgpZY1R2aFhGTEZiU0V4ZTJxUkZNQlp0ZnM2cjBhc1hnTUNEeGF0TzZLOU4wZ3pERzhjdnVsN2hxWldKcEtQSllxYkZOQkVuWnh1eXE5CkZqK01HTWtROU5hRVJGUXJycFBZalU0UXFZSU1rc2c0TUNIKzZ0MGFsbDlRd2YvVk16ZzlzQ1FWNWpqZWU5VElXekJpeWpjOXNNK1QKaWpZK3hvWkZsTk1WcEtORFFOSVpwUVVOVThVQzAzckdtQ3hnbE1obUJJUEZPZUdhMjNrWnNvdi8zblZXLzhVVVZqdm5neGcxZkRtTgp0ZTFjeTN4bmMxblhpUU9zWmROWHJHNytuMW5kM0E5WjY3WlZMTmhsbkllWHlIeklJQW1DeUhocTUwNWsxWi85M3JZYVY4MGI3Vk1uCnNoSXl5Q3dtTWpMTXdnUDlVU212OVdJUi9uQXczRVlRNHdIbEhoYU56NDZHcW1MVCtSSFpBeGxrRmhKb2IrSGRUZUtEQUtwZjhpbHIKKzJFTjZ6aXdsVFd2VzhwcVo3N0xQNitkL1Q3cnZwQW5Wa1VRNlk5RGcrdytkMVNza2NnU3lDQ3pFTi9wdzlKRHdLb0duaFNMMVJGRQpXaE1KakVqM3NSMjFiRm9oVmtsa0NXU1FXVWhuN2k3cElXQlZyVnUrRnFzamlMUW0wTklnM2NkMlZMZmdZN0ZLSWtzZ2c4eENuQmhrCjdhejNhRHlTR0ZlZzEwTzhqKzBxUE94ZGhDMlJ2cEJCWmlFWVh4UWZBSFkwMGpTNlppQkJqQWQ2Q3ZLbGU5aXU2SjdQVHNnZ3M1RG0KOVV1bEI0QWQrUi9jRXFza2lMU2xaZk5LNlI2MnE4R0tNckZhSWdzZ2c4eEM2aGQvSWowQTdLajdQRVd6RXVPRFVGOFBxL244ajlJOQpiRmNEWlEvRnFva3NnQXd5eXdnUEQ3THFLVzlKRHdBN2F0Ky9SYXlXSU5JUzM1a2owdjJiaVBwTDdvbFZFMWtBR1dTVzBWOTZUL3JqCnQ2dlc3ZCtLMVJKRTJoSHNiR00xMDkrUjd0OUUxSGU3UUt5ZXlBTElJTE9NMWgycnBUOSt1Nko1WVVTNmc3bVBUYXZtU2ZkdW91bzgKOHFONENDSUxJSVBNSWdKdFRheDY2Z1RwajkrdW10ZDlJVlpORUdrRHBtUzBmUCtWZE44NkVUSkpCYnZrbFZhSXpJWU1NbHVJUkZ4NwphRFI4TlZPc25TRFNncEg2YW41L2l2ZXNHMnBZTnAwTksvVVQyUU1aWkphQTVYekVQL2hFaGFqQVVIK2ZlQWlDU0JtaDNtN1dlWGduCnE1bjJ0blMvdXFxcEUxamJqK3ZZY0cyVmVBcEVCa0lHbVFVZ3liajBoKzVRTkNaREdCSDBkYkxPbzd2NXVvb3dyT1lOWDdLaGw4L0YKWXE2QXFHeTgvS2xKOVpPcDVyVkwyTUNqKzU0dGh4VUpCVmwveVYxK0xkdDJiV0MrVXpsa3pFbUdEREtEQ2ZYMXVoS1VZeVM4c2VNQgpSUkFjeFNoNnJwelduWGRZTS9WdDFuUHBsTGhId29RSEIxajN1V01Kci9Qb3ByQXlUdmZGRTN6T3BWdU1OTmV6aHVYVHBXTkJ5SWNjCmFHMFVkeUU4Z0F3eVdmeTByaUxlQ3IwR0VYejRnMFZnZ2ZqSDViWnE1MHprYjdhaEhwOTRHa1FXZ2NBWVBMakYrME9VNy9RaGNWZGIKb0NzVmRTVGozcmFybW1sLzROMnZQT3VPZzFibFVPVlRudk5ZckQvbVdOUC9xTHlNNURzNkRoRWZNa2lQNFcrNkYvSjRkeE8vc1pXMwo2NDZEMjFoNHlQMldWeVFjWW4xM3JyTDZSWk9sUHlpdmhZZEQrNzdObnVhc0hDeC94SzhkZ28xYXQzN0RNL3FRTWFjZTNPTk4zeTZRCjdna2pZYmsxdTZCcnNYM1BSbjZmaWZXbG85Q3FSTmR2b0tOVi9DcW1qRFRXeGpWSHJYQk5Jc0dBV0EzaEVtU1FIakw0ckpUVkxad2sKM2RSUXc1ZlRYT3NtUWFzVUU1bU5Ga0ZPdGpBMjR5OHFWRnF5N3Z6aG9oc1h5UW5FNDBBMU0vN0VzNlc0ZFN6Q0h1aXR3TUxhNHU4bApucEF3UHpJeUxGWVhBKzVyZjlGTjFyVGF1dm1tbmFhOHhmOGU4UGVKRndrelJwb2JvaS9TZHRTNmJSVi9PU2JjaHd6U0l6RGVFaStsCkcvNFlBcTFONHE2V1FTdTA5K3BaeDdsVnZSTEdoN3FPNytQekx4TWwzTzlualYvUGtlb1cxYmhpcHFldFYwSW1FZ3J4aDdQNHU3Q3EKK2lXZjh2dFhqSWdPdERXejduTkgrVHFNNGo3aldjanEwNzU3QTM5eEZwZU02eSsremVybWZpanRZMVVkT2R0ajZpUGNnUXpTQTdwTwpIcFJ1WUNQaElZQTNSenZnQVlJMUhXdG5XdStLU2JXYTFpeGl2WVVYK1Rpc1ZYanJSSG43RnVzeUVxN0g0Tk1Tc1JyQ0k1eXNLeW9LClp0bTRjbmJHbWFLUjhEMWhhcmlHZUxrVHR5Y2kvLzFDOFZkRU9JUU0wbVVRSENQZXVQRlVPK2NETnZDb1NLd3Fsa2lFdjNtMklCQWkKVHNzMG5ZVXhXQVF5WUJGYnMyNGhkTCsxYkxLZjJBQmpWQmlySkx4bHVPN0Z1TDRQTTFFSW1JdlhqVXZZZ3d6U1JmcHVYWGIwMEVEdwpDZVk5aFFmODBUb0Q3UzI4R3dwWlBNVHk0MTNvWXU3SzI4c0RFN1FnVzBuak4zT2w4bGFGY1VtRXlSUGVnU2srNG5VbnBWNjlOeTZJCnZ5ckNBV1NRTGpIMG90eVZQS2VxRU1hT0I3MzRlYVlLM1V4b1dhS2JUZHlXaUpCdUxGNFFDSkU0VGQ4dGtxNDVLZlZDVkN2aEhtU1EKTHVIV09BTEpQV0Y2RGVFTmJxNlVRWEpQclR1K0UzOVZoQVBJSUYxZ3BLRkd1bEZKcVJlaWV3bHZhUHRoalhTOVNha1hwandSN2tFRwo2UUwrK3pla0c1V1VIa0xtRmNKOStnb3ZTZGVhbEZvaDd5MGkzQW4zSUlOMEFUTEk5RldvcDB2OGRSRXVnT1FONDJWS0JzYnpzY2czCkV1eGpmbkovOFMwMlZGM0JsOFlLZHJaRmhZQzQ0WnBLTmxEMmtQbnZYZWNaZjVDZ0lsMFNjTVJUOTltajRxK0pjQWdacEFzTVYxZEsKTnlzcDljSURuSEpWZWdlbTZyZ1ptT2FXWUlqdGU3L25hUmNETFEydTNBTklXSUhKL08zN3Q2VGxpMEZIemc1WHZpY1JDeG1rQ3lDagpTTjM4ajZTYmxwUmEwUnUxOThDRW5FeHRja3VJK0c3ZnUybDBmcTNYdVVreEo3bWlqR2ZGUWRKdzhWeVNyWTVEWkk1ZVFRYnBFajJYClRrbzNiam9LNmF5UUhnemRSMzIzcnZEa0E4Z0ppd3czbzZ1TmpFM2V4Ly9WYnFmK2tuczgrWExiempVOGo2eFliN3FwY2RVOG5vbUgKOEI3L2cxc3BhMGtpMXpHU2Myam5EaWNUSEpldm5KT2laYmZhZHEwbmMvUVFNa2lYZ0xFMGIxZ20zY0NwRnQ2c01iOFE0NlF3TzdmQQoyQjRTTUtQdWRGdDZDRk51c0JZbWtUeVMzWktFTWVLWXlWZyt6Z29ZazhYcU1zaUtKWjZyVjhMenh2UFdjcFpEQnVraVNCN2V2R2F4CmRDTW5XMWljRm1INC9RL3ZKR1d5UEZwcU1HQytxa01TSDVKNmFsd3hpOHd4UlhTZFBDRDlQdHdXSWpVN2orM3haTGs0TjBDTEV1T0IKWHY4ZElPOHdCYUI1RHhta3k4Q1FtamQ4S2QzUXlSRFdrZXZLMjhlQ1hSM2lhU1VOZE5jaVFDSVZYVzUxQ3llem9LOVRQQ1VpU2VEZQo5N0tyRVMrZmR0ZFhUQlVZdXFoZjhwbjBIZHdTVWpRUzNrTUc2UUhvYm1uNmRyNTBVM3NsTEtQak81T2JWbS9WTUVxTWozajlKcTBLCjNidzhZcEZJS1JpakZuODNqcVhjUTJnMWFzZkh4d1A0ZS9RcW9RSmZNb3Z3SERKSWo4Qks5MDdXZDdNcUJOeGdEbGU2Z2h5MURjdTkKVDdTT3BiU0kxTk8rYjdQMHUzR2l1bmtmc2FHcVorSmh4ZytSQ0IrYmRMdEhCWE00Q2U4aGcvUVEvb2VoYzNPN0ljekZHaXgvTEI0eQpMWWtFQXN4M0tzZjFoNFFxZE91TnQ5WkZwdUxteXhBbTZEdFpiRHVkR0hoY3hKZDZFNzlqb2hxZ2RVK1RBaG1raHd5OWZDN2QyRzRJCldVSEdZd28xdEFTd3hKWDRmWnlxZGZ0cThWQkVDa0MzdXZpN1NWU05LMmRsWEJBS0Z2UEdjSWo0WFJNUkFxSUk3eUdEOUpEaDJoZlMKamUxSVU5NWlQWmRQamV0NVR3aWlhVnE5UVA1dURvUnVQU0wxZE9idWtuNDNpYWp4NnprWnUvRHZVT1ZUVjVJTElDQ05lazI4aHd6UwpRM29LemtnM2RxS3FtZllIUGlFN0UwQzBZOHZtbGRKM1RGUXRHNWVKaHlDU1RIaDR5Slg1c09oV0hZKzlJM2JBb3VodUJLL1I0c2plClF3YnBJVTFyM0ZsVUZnK2VvY295c2ZweERTWjR1eFh4aUdRSXlaanZTUmpqeHVvZTZINGZMOU00bk5KVGtDOTlmN3RDQUZPbXRyVFQKQlRKSWozQnJqVWlNV1NBU05DTUpoM2ttSHZFN0p5Sms5U0ZTUitNM2M2WGZpUzBwTGFyQmlpZGl0Um1OR3hHL0NINGp2SU1NMGlNNgpEbTZUYm1iYm1qcUI5WmZlRTZ2T0tOQ1NSQmVwOU4xdHFuN1JaR3BGcGdnM2d0RXdqemZid1AzYXNNeFoxQy9HTTRPKzFDVUd5WFRJCklEMEEzUjdvOWhOdlpydENyc2xzQU9tNTNKZ2VnSVR4UlBKcDM3TlIrbDNZRVZJVW9qY2hHeG11ZThuVDU0blh4STQ2RG13VnF5VmMKZ2d6U0E5d0l6dUhydTJVUm1PL205S1dDNTZmczZ4R3JKandFZVcrZHpPOUQ4Rm1tekhWTUZOL3BROUoxc1NOY1F5UW1JZHlIRE5KdApJaEhIM1NaSXVKM0twWnBDNFFpN2ZQc2wyM0g0QVR1VS80UzlyRS9PSHgvR0VjVnJZVmVZYWtBa2o1NHJwNlhmZ1IzQkhGTEdTQThMClZ4NWtvWHRmS0ZyTXdzLzNNVGFVL0xtWDZHcXRYL3lwZEczc0tLWFhNWU1oZzNTWndlZVBwWnZYanRDS1N2VWI5YWI5OTlsdlBqNFkKMVd1VGMxakpNL2VXeWpLamJlZGE2WnJZRWJxcjBqbjFYcWJSc0h5RzlEdXdLcGhDcXNhTkl4MGxMSERtbjFuZytNOWpkZnJYTE5LYQovSEYvZjlGTjZmcllFU0phYVY2ays1QkJ1b3pUNU1SSVQ1ZEtCZ1lEN0xWUERzVVlKTFJzMDNXeHFDZUUrLzJzZG82ekZTR1EySnJ3CkhxZkJPVml3T3hWRWhqcFpJRi9ISEZXZCtuc1c4U2M1OFgwa3dwcFd6Wk91a1IxUitqbjNJWU4wRVl4L09SbHdiL2h5R3M5Ym1rb2UKUEdtU3pCSDZkT2tac2FobjlGNDlLMTBiTzhKWUpNMFA4NTcyL1Z1a2EyOVZ5Q1djcW5zOVZQeTFiSXFDUW5jWGlidDVEdFp2RmErVApIU0ZZaW5BWE1rZ1hRUm80OGFhMUkrUnFURFZIenorVnpCR2F2U3A1cTJXZ3E2amhxNW5TOWJFalRGd252QU5MT1RrSnF1SXBFMU5BCnBMK1pCVTc4VWpKRVdiOWdrWjRYNHU3ZUVnN3psMlR4V2xrVjFvT2xibFozSVlOMEVTZmpNYzFybDRqVnBZUTFQOTZXekJGYXQvdU8KV05SVEJoNFZTZGZJanByWGZTRldTYmlJazh3NU1OWlVyVjBhZXZpdGJJWm5mc09DNTM4bmZZN2duV1RUZStPaWRMM3NDTGxlQ2ZjZwpnM1FKWkxzUmIxWTdHbmhTTEZicEN1MWRBNnpnVGpXcnFyVVduVGR0K1RuSkhLSERaMk5UM1dHczh2YkRldmFzcWozbWM5ZEFOTENUClZ1U1V0MWl3aXlaUWU0V1RCY0ZUMVJVWUdXeGpnWk4vS3hraG9sZkRML09rejNrcnN2ZWxXSTJuOERuVURxYk5kQjNmSjFaSk9JQU0KMGlXY3BJMUN5OVB0RlRwUVhYNUJCWHY5MDdHQW0rV2JyN09SZ0hFWERLWjN2UEhaWWNrY29jS2l1bWk1eHhXdDdPMFpSNlBibG02OAp5bnc5N3JjSW5FNzc2TDErWHF5U2NBR25xOVNrS3Bna1ZMSkdOc0g4ZjJRczRGYzJqckRndVRlazdhR2k1Q2ZDeC9KdDRqV3pLa1FHCnUvMHN5V2JJSUYzQWFlWWN0NlA1K2dkSDJNcXROeVNUZzA1Y01zN3IydERTSzVWWHBjNkZqQ2gvZkJQbm41UzIvMkhHTWQ2aWRKTkkKTU9Cby9jaVdMVitMVlJJdTBMcHRsWFN0cmFwdTdvY3BHU2NiYlQzK25XU0E0ZkxkMFRMaEYwZWw3WUVUYUVWV2EycnludjdpMjlKMQpzeVAvM1d0aWxVU0NrRUc2UUc5aDR1TUd5SUtCVkd0dVVWbmJ5VDVhZUVveU1GVmJEdDRYZDRseXM3aE9LcTlxY0dnMDRoQmR0dUkyCnJkYnZ2c01HZmlyckJwMUhkMHZYektxUXB4TExNQkh1NGZUaG5kVHVWYVZWaUM3U2NOTU5Gcm96WHpZLzNucnMwNVFmWm9GenY1WEsKQlcvT1ZPcTROaHEwRS9KKzNpYm1odUs1SUY0N3E4THFQMWk4bW5BT0dhUlRsQlpWNDRyRXg4cGFkM3duMXBnUTZGVTVYVkRCZnF2cApVdFhURVdFc1VVdk82Y2RTZWVqZDJXTnpNMkYrcjA3T2tjcG85ZUdDayt5cFMyT1R3eldWMGpXekkvLzlHMktWUklJTVBDN2lxOHVJCjE5aU8zTzR0NFNnM2Y2VDd1ZElDekdXaDBqV0tvYzFnd2ZOdk1vd2hpbWFuVmVqWlRyRW1GcTQ2TEpVVGhZQ2VZT0huTEZUeUhTOGYKNlhxcW5JTzd1V1NiMXl5V3JwMGQxYzZkeUFZZUdiOE1FOVlnZzNTSTA3bExXRHpWS1daZHFscTk5WGt1Ni9RWnp3OWN0ZU9tdEE4MApkM1hzbEFtamNsckJSUGNlTDJYQm9NTUhCNEoxbGs2VnJwdFZJZTBmVmd3aDRvT1dTNkNsZ2JjK2dyNU9GaDdvWjhIdUxtNk1lSkZ6Clk1SGZRRnV6ZUZoSFJQejFMSGh0c21SaWNYWDYxNHlOYUZxUEtxRWhGamo3cWx3K2pvSUZFMTBONk1FeVZ1SzFTMFNOcStheDduTkgKZVJBZ3JqMnlUS25DRUFaaERobWtBNUFndUc3aEpPbW10S3lwRXh4UGFJL1hwYXJxZzNrbldFVjFwN2g3REo5L3BSL0J1bkZ2ckluMworb2ZaOUJYNlpVV2h6cVpXblFlUkRaQVpSN3AyTm9RSjdSUzRvQStpcjd0T0h1UVBVamNNMEV3WVQzYjE5ekRVcFRzOXc0ckMxY2J6Ck1NTU5WNlR5bHFRWWEyVEFuUVdmQjUrVlN0ZlBkU25QSDd4QTlsdzZSV1pwQUJsa2dnVGFXNXhOUTFDRTFGSk91RkJZRmJkTEZVTHIKMHQ4ZlAvbjVXOU55cFgyaDNIUHkzQ3BFd3lLWnVWaFdUNzlYNnIxVGtuanFMcWR6SWlFRTdGQ08xakdRMGc5elJjWHI1S1d3N3FlYgpoQjV2bEUwcW5rNzlpbmVMeGlOY2Mwb3Ardy95L25FVUt2NUdyQ29oc0VxS2VQMjhGT1pocDNLQmhIU0ZETklBQk00ZzErUkEyVU0yCldGSEdSaHBxMkVoakxlL1h4MkxJVHVZcXFlcktTMnpPRXNZQnJYUnpZc3JHcVN2UHhkMTE2ZTRka3ZaWFpXWnV0NHJyZWRldHVJK28KVnlZZFpIdnlTbmtVckYzd3UzQ2xkYU84TWJkc1hzbDhaM1A1N3hHSjVWVmhYYjd3c1B0VFZkSVZWeGIwdHFtT1ErNHU0VFk2emlpYgpsRmJCYzYrellPRTBGbnE0V21rMW5tQ1JJUnR6WTRkOWlsR2U1bU9OR0hPME1xNFp5UDhuWlVmNzk3Z2VDTFlScjZHWFN2UjVsTW1RClFXcUFBYUs3aVNjTmR1T0JIRWVKREtLL3FPdGlmMTRVdjB2MXM2Vm5XRzFqdDdpN0laandMOWFoQ3RNL3pHaHM3VFZNTUNEcXE4M1gKMmZDSS9URC94cFd6cGV2bmhacldMTXFLYkNUMVM1d3RyNVNJZXE3a2k2ZVJPTXFMRnFaZ2lBYUZGbHk0RVJHblZYdzgwWFZDd3o5Rgp4bDVub2RLMTB2RWhGblEyYktMU3RIcUJkQTI5RkthcXBXcDFsWFNGRFBJbnVvN3ZsMjRZcjJWbldTdXJVYXBvcWUzTUxXWUJtOEV4ClYyNi9sT3FDc05TVmxVQWJITTlxbCt1ODFaZHNUd1ZwMy91OWRQMDhrOUxTeFBKRG1Rd1N1a3ZmMjJNbDhrSm9odDdFL29EU1lvejAKMVlwRlhTY3kwTXlDRjk2U2o0L2dINWRJNmozL2s0WXFqYVBjc3hFeVNPWjgyWjZFcER5RXJVWlhXbzFTZlhmTzhZVFhiZHgvOHBGVQpIelJwOFdteHFDbTh5OVZnTEZPcm1TdlBXeG9YVlVFa25uUU5QUlRlcGtPOTFsdmc0NDFrZDk5QmJqOThRNDgzeVFZRklWakd4WWhTCkVTeUZaZFM5aTY1Y3QwQ1hwM2dOdlZidnRYUGlhV1ExWkpBS2lPSVNieFN2VmYvRkZQRTBkTEhhcFRyMzIwdU8wcjE5KzRQK21DYTYKUk8yQ0x0ZFB2c2lYNmhJMVpkbFpQdlpwQmFjVDFCTlJ6NldUNG1sa0RIWHpQNUsrcjlkQ2lqcFhDZlN4NE1VSmtrbHg1Zjh6aS9pcwpqYi9iZ1U4cjBXdTVjbU4rVFhuYk5vOFV0MFAzMmVTK0ZFS2RSK1M1b2RrTUdhU0M3L1JoNlVieFdpMGJsNHVuRVlQVkxsVm9XMDRSCkM0WGlkNE9hWVRSdFkvZXh4UEptSXZPT2xWYnY5QlhuMmRCdy9KYjBTSDIxZEEyOUZsS3FaU3FPcGljbHFKRm00MkN2UkJsdHpSbE0KOWNqL0o4VWtuNG03SkV5a3I0NEgvVWpINGViNHF1dkxZL1VVbkpHdW9kZHEzNzFCUEkyc2hneFNBVkdONG8zaXRjd3k2TURzakphZApFblhnNUNOeDk0VEFWQXl4YnVqU3JjUzdxaEN4ZXZEMFl6NHVLdGFyRmRMVHhTUG82NUN1b2RmaWlaOHpsUHBGazZYdjY3VUNIZTdNCkVSU0o5RGV4NElYZnk2YWxtbVIzcGJpTGJUQ3VhWmhBNE54dmxlMDE0aTZPNmJ0elZicUdYcXQxcXp2VFZESUZNa2lGN2d0NTBvM2kKdFRBQWJ3Uk1SVFFSUFMxYWU4V1ZlZGRkUFlOUzNhcktYOW9JaXpmZ2JtbURvUUdyd2dvaFppQ2hnbmdOUGRlVXR6SjJBblh0bklueQo5L1ZZWHJRZ1ZUQkIzNmk3RmVPRmpuS29ob01zZU9rZHFWNWVOdzhLR2x2cHhrMlFsays4aGw2cjdjZDE0bWxrTldTUUxEVmprQjJICmZ4QlBnNE5XMTRUUHg1YVNNbFBSWTNjU0VqK3BhSlBxVnRYWDcrREJvZ0ZUUlQ1ZWRGcXFYeFhtZFpxaVhKZGtUTDBSaFFuYkdZZHkKTFowa3cwNVV3N1ZWNHBtNFNtU3dYVEd5UDBvbUJvVnJFcDlpRW00c2tPcFRqVGZTNzg3Zm9CNnA2R0xGL0ZoaURESklsaHFEeENvVgplbUE4VGpRUEk4V2JuMmdWWk9RUjY0YitPUE9ZV05RUnBlVXQwakZVV1ltV1RjWFVoSUJIM1lLcEJIbFd4ZStaRENFaGcrY01kYkxnCjVYY2xNM09TNFVZdll3K21lR0NxaDVja08zSWJ3akdKTWNnZ0ZYeG5rajhHMlpHelhUeU5LSjk5ZVVZeUVEM2RlK1RPMit1dVl3K2wKdWlITVYzU0xoMCtidWVHS3gxRDF6cXl4RlVPTWNDTjdrVjJGK25yRTB4ajNERlU5azc1bk10UmZjazg4RlU5QWExRTB0TkNERldJeAp5NFFlclpmcUMxY2VFb3U1VHRlSkE5STE5RnBJVEUrTVFRYkpuSzA1bUtqTW9zVWVsYmV5MXo2Skg3MDYvN3ZMcm94QllpcUhXRGYwCi9UN25EelIwR2Vma1AyR3ZUREpmSWd2SjFNMkloRVBTTlV5R0lvSE1HNFBFUTFEOG5zbVFxNWwwVEFnOS9sNHlOTDJscmF3Q001VHEKYzlBaXRVcmJydlhTTmZSU05WUGZ6dWk1djRsQUJzbWNyWkNlcU9KTklVQ0w2KzBaOGNjaTNZaGlOWnF6ZVB4aXVWalVGbGoxNDRzTgpWNlY2OWJScXUva1lKSlplRXEraDE2cGI4TEY0R2hsQnFLZUxMeVl0ZmwrdlpUVHU3alpZRDFJME5LelFrU2lSMW50U2ZjR3IzdDhiCmpkL01sYTZobDJyYnVWWThoYXlIREZMQnlZTEhpUXJaOCtQUjN0WFBabjF6UVRJVFVWc09GdGxPTGFjU0RrZlk2d1p6TFowRUFWWFcKZExLSjgwOUlkUm9wWHJSc0txWjVJTEY1cG9KV0pKSlZpTi9aUzhXYisrc1dtTEF2R3BxVHpEcVJ3VGFwdnNDcHZ4K2RyT3doeVJ4egpiL2h5R3JVZWRTQ0RaRWpjL0psMHczZ3RUTlMyUWtneE1LeUNFVzh1SVNKRUh6MjNIMURTMHU2WDZsTFYzSjdZT281bnJsVmFTbkNnCmFuZGUvR1FFcVJnMzY3NW8zdTNyS3NyREZxM2taQ2VMRHZsNzJYQjlkVlJJMU41M3U0QjFITmpLYXVkOElGMFRKNnBiT0ZrOHZQdU0KOU1obWR2SnYrVlFOa1Vqbll4WXFXc2FDRnlid2VaU2hlMSt3U1BzRHNaaENoQVh5LzFHcUYvTXZ2UUlMVll2WHoyMWhUTC94NnprOApCZ1AzSGlGREJxbUE5RXJpemVPNU1NZk94c01RQVRsdlR6ZnZjb1dKcnQxMTIxYU8wK0t5WnFrZUNLMUttTE1ka0QzSEtHV2RrVGJ0CnY4OWJzZkZJOXB3d25vdlY3MDZVc0I2RFQwdjRHQk42TDdDUXNIWUtTKzNjaWJ5MTFWZDRDVTE4Y2Rla2dUbWd2VmZQdXBxM05kalYKTGg3R1ZTSWRKWktSQlMrL0YxdW10NXFGN244aGxZdVd2L0daWXA2eFF4ZkI2NTlLNWNMTjVzTUNUdkEvdUNWZHUwU0VWVnN3ZFFQagp2Lzc3aFR5U2VLUzVQak9uTDNrQUdhUUNqS296ZHhlclgveUpkSU41cVpFbWV4T00yN3NHMk94dkxrb21JK3JkMlhtczRFNjF1THN1ClNHY243Zzhoa3RZT05ZM2RmS3FHV0krUlhwMmN3NDVkc0w2c1ZESWorakJIRU91QWVvTFNVdXc4YlAyRmpIZnpldHlWRjQ5Z1Y0ZHIKNDJIK2UvWnorOW9oL1BLNFpHU2grMS95YlpHQkZyNjJvOTR5V1hvSzNwekpJajJqV1hqNGZzTDI4SFB2MWs5RWxMdDQ3ZXdJM2JQKwp1OWRTZnUrTWQ4Z2dCY0xEUTd5N0FRcjErSGdPVUhRNXRXNWY3ZnJrYXJ3bDJnVmpqZHN0TGl1MStvZGJ6RDlnM3ByY21sTWs3UWZGCkM1clJBalArM1pURFVoMUd3blFQdTZ1T2VCcElwYlRlMElwclhyT1lkUjdidzRLZGJlTGhYYVAzK25uNStIR1VEcUgzeUdURTEwblYKT1Q4Nzhub2l1bTRFYThscXZzcEc0TVF2cFcxeHBaZ3Bwb2pvMXZ2UVBORE9DUmdURksrZFZhSHJGQ3NVRWM0aGc3UUJBa1V3UFVPOApJUk5WNTVFZnhVTlk1azVKUTl3dVZ3alRKOG9xalIvNFNGY243Z01kT0JWL1VqY1dQa1llVlhGZk0yRnFTcWZQNW9LeTRiQXI0MkYxCjh6N2kzZWw0NFVFWEp4YklSbUFDcHBBa2cwZ29sTkFxR2wzSHZXdXAyQUVKQnVybWZpaWRueDJobDhiTFZrMm9kSjFrWkY3SnlkeEsKTXdJZHJkSjFzeU9remlUY2dRd3lBZEIxVVRQdGJlbkd0S3ZHRmJQRXFtMkJMdGM1cStKM3VTSmc1dVlEL2U3YzkrY2VsOHBEMSsvWAppa1Zqd0pKV1U1ZWRsZll6MGh1ZkhlWmRxbGJHRzBVUVBDSmVPN3RDeXpBU01HOU5lODF3VGFWMFhsYlV0bk9OV0ZYS1FCZXBlSDUyCk5mVEMyZlFoTS9TU0JKZ0pHWEhDZGVkNU9qbWpOSFZHQ2xjZEZnL3ZDazZXdVVMWHFwM1lCc0ljTXNnRTZTKzU2enczcUxKL3FEK3gKU0ZFVnJQeUJURGp4b2x3eDVuZnhadXh5UEFpcU1kcnZSWjB2cHF3V0pESjRjK29SYVI4anpWWk12SzQ1OFl3MFBWZE95OWZPaHJwTwpIaENyVEFrRFQ0cWxjN09pdEpwdW9yVCtFUGtvbnFNZFlReldNNElEZkhVTjBjd2tuWG1GaFNzUEtuOUFtcGNtUkJJM1h1TlJyVko1ClVhZC96ZGhRMTlpK0x0S3c3SFBwbWxrVkFyOEk5eUNEZElEdjlDSHBCclVyLy8wYllyVUpVZlNreVRTVkd3U1RyS29kKzZQR3oySVoKQ0tacHRFWWpERG5lY1ZTaEhKYkxjdHFqMXJ4aG1YVGRyQXBSb3NucVFvM0hZUGxqNmZ5c3FHbk5JckdxbEpLbzBhdENOMjBrcEg5Lwp1VUdrN1FHZnB5aVpHcFQvVDZQQk5TR1RoYm9WMHd4WEhlRW1LdTBQbmZ4YkZtNHVGUGR5aFVSN0dWUWxFdGRBR0VNRzZRQ0V3VGNzCm55N2RwSGJVdXVWcnNkcUV3ZGpleksvTkV3dWd0YWx5N1Y2TnRCM0NCSDhqMEswcmxoZUY3dFFmamhUYm1tNWlCTEsrT0dtcDgwaSsKTkNIUmh4L0dUaDIvWmJoTTArcUYwbm5hRWRZNjlCSStsZVB1SXQ3U2c2a0ZMNzdOUXVXN0dCdXgwV09qdEVaaHB0R3VWNld1MEowRgpycXd2YVFTV214S3ZsV1doUjhyRHFVblpDQm1rUTNoWHEzaWoyaERQZitqaW5LU1JRSWl0MzNOWE1pMVZ5SXVxZ2tBY2NUdUU5SEJHCklJcldLUFBPYTBvTGRlTytlNnpEYmhDT0NaaXNMMTR6cThJNGNYakFMMWFaTWpDdFJ6eEhxeHFxcmhDclN5bUR6MHFsYzdRanZGZ20KeGZSeEREZU9FL1krSjIrZ3RjblJ5MkRqcW5saWxZUkR5Q0NkZ2pFWmgzUEVlbTljRUd0MXpQa2JWVkpYS0JLZ043V092VUZqS29kbwpjaEJhZjJiQUJNVjlFSjFhMTVUNE9LTXV1TFlPMGdDaWF6YWR3SHFJNGpsYVZUck1oeFJwWHZlRmRKNTJoSzVhWW96MmZadWxhMlJICkNPNGgzSVVNMGdXY2pza2dKNllYR1ZNR0JnTTg3ZHU2M1hmWWlpMDNlTlljTFVaUnFPZXVteTlzRzFSYWthZXVQR2RyZnJ6Tk51Mi8KeDNPMmV2SHN4bVI5OFZyWlVWSlR4Vm1ncHlCZk9rYzc2cjV3WEt6U2RSQ2wybHQ0MGRMOWlMbDI0am5hRVlKOXJCd25HeGhwcXVlOQpTZUkxc3FOQW03ZnJVMllqWkpBdTRYUk1KbGxyNWFsZ0dTcU1GWXJtQ0NGS05SMUFRbmZ4T3RuUmNGM2lDYXJkQnRsb01KWW9ucU5kCnRlLzUzck5FQnI2elkrdWlJakdEbGVrQ3pldVhTdWRvUjl5TXN4M2xiN0Y1dzVmU3RiRWpLNHNmRVBZaGczU0p3ZkpIMGsxclJ6RFkKWk5MVzJTOFpvNnBFazVTN3lWQmxtWFNON0toKzhhZHAwU1dKYUUza1ZIVWowVUZVVTk3aTNjZDl0eTZ6Y0w4N1k2dzlsMDlKeDBIMApMRExvbU9HMGxZL3I0blNxMDNnSEFVdmlkYkdyZE1pMmxJbVFRYnBJOHpwbmI5UDlwY2xyUldLOVNkRVlJWXhUWWlwSFNsR01yZW03ClJkTDFzU1BmcVJ5eFZrUFFVbko3S2dpU0VpQ3RuTmY1ZlJHSWhFaG9UQmNLRHcyS3B4RVhaUGN4eS92WnRIb0JqOVkyaEk4VHo1TDIKczZQMlBSdkZXck1HUkdrN3pVN1VzSHhHV3J3TVppSmtrQzZTNkR3M1ZYaVlXdW5XY29PN3BRMlNPVUtmTHJXWHBOd0wwTzBtWGh0YgpVbHBZaUFpTUJ4NzhXTmFwZXVvRXZvSkcxL0g5amxzenlPV0wxaGhmb1VNOEw0K0ZISnd0bTFad1l3NTB4TzhteDdRVEsvbFZrWjdQCkREZXk2M2lkeER3ZHdVdVowMEFueUxQRStnUVpwTnNnMUZxOGdlMG9XWkZvclIxK25qaEFOTWljMC9GenNIb0p1Z3hoVnVKMXNhUFcKSGF2RmFtV1VOMjZrY0JQM1Jhb3VMUEZrOTQwY1haSGQ1NDQ1UG5jM1ZiOW9NaCt6UkJmdllFVVpUOW1IbHpnWXVOM3gzZGJ0M3hvdQpWWVZXS0xxMHhYM3NDTXVMV1htcHlTU1E0VW04RG5hRkZ5TENPOGdnWGNicE9tNW9CU0NKZGpJUTUwRk9YWDdXTUlOT3N0QXpMYnRDCnl5Z2VYWGw3cGYyMFFzdlNpa21peFltTVNyV3prcmY2ZTZxRWx3Y1lyUjQ5QldlazhuYUZya0szeGxUVG5mN2lXNDdtUEVMb1hxZkkKVlc4aGczU2JjSmcxTEowcTNjeDJoS1Z1d3NQMng1TVM0ZEh6Vmo3dkVkTkJrR1FnbGFEbEpsNEx1MnJidFVHc1ZzTHFkQXNzeldRMApOb2xWUUxyeTl2R1dqN2hmSm91dnhxRUQ3bGMzRmxibVk1NUpHbVpJRlZpMEdDL0M0bmUzS3lUZ0o3eUZETklERWxuelR4UnZ3V1FSCm1FVHZkTDFObUJXbVU1akJUZGpHbXpzZTJBT1BIL0NXSXRZSXhUSlpNT0dhNmM0ZmNPTlJOZFBmTVd4Wlk2eFNMSitJc1BZcXVtMHoKa2VIcVNuZGVxcFI3Mkt2cFBzUVlaSkFlZ0RkZ04rYThvYVdURGNEVU1GNG1mbis3Nmo1dnNnNmU4bER2UExwYjJvZGtUMmFyUlRoTgpIS0JWeThibFNldEZTUmFERlU5Y2FXVkRpUEltdkljTTBpTjgrWWVsbTlxMmxMZkVUSS91UTh2TWFjSjNxRzdoWk5PdU9kOXBGMzRmCldhNTRZMTdvam5hbGRmU1RtcjVkNERpcU9GM0EzN0ViYThpcTZqaTBRendFNFFGa2tCNFI5SFh3NlFQaWpXMVg2SFpFWXVoTUJKR2YKVnFZWldKSHZ6Qkd4K2hnd3JpdnVRN0tucmhQeDE5VjBzcGFobnZCN1MxYlFtaGZncFlHL25Obm8xcmNpMzVsYzhWQ0VCNUJCZWtqegptc1hTaloySVlKS0llc3NrRU9UaU5NbTdWbGdwdzR6MjNSdWtmZEpOYUgwaHM0d3FOMXNjVG9Wa0FLWUpBMzZpZm9tejZSNTZRa0JMCjc3Vno0cUhTSHJ3a3V6SFBVVStkUjM0VUQwZDRBQm1raHlDYmkzaGpKeXpsRGJUM1JtYmtyUnhwYm5BOGIwNHJKSG1PdHdBdmxoUkQKVW5oeDMxUUltVk13blFYSjFORTdnR0FMM2U3aFNJU0Zlbng4MmdyU2tTR3F0bkhsTE5kYkkvR0U2UjFJcGgyUFVGK1BwK2VHK2ExQgpYNmQ0MlBSRCtiMGhzNUZiNDQxNndzc2w0VDFra0I0Q1F4TnZiS2ZxeU5uQklvSDRiL0xweXNDakluZnpraXJDZzhnS3ZOWDY5UnhwCi8yU29ic0hIZkdJNEFsbWNybUFSN083aUxTcmVPdkhRa0xpVStoSEZhNFh1QzNueS9pNExyV3drMDdEU21rMEZTTVpnTndsRG9yTHkKMGtJNGd3elNRM291eVFtZzNWRERWek5ab0tWQlBGeGFBMVBIdkMxUEh1aEtuVllmbUppSWp1c24xZUdSOExEc2YzakhzMmtMdUErUQpTeFhUTDhSanV5SFR5R0FOaUVUMnNzVWtDbU9UZmJjTDR2WWNKQXRrQWVMck9YcHhmeHVvWmVNeXd5azNoRHVRUVhvSTBuT0pON1ZiCnFwMzVMdXU1a3UvWmc5ZE5ocW9ySEMxOGJFVjJBcGtRaWVsbXRLV2UwRkxGbk1sa0VmTDNzczdET3gydkthZ1ZETS9LaXdjU3MyTysKcUxoL01vVEVCWmpiR2g1SVRRYWVvUmZsbzMvblNUUkdyU2hZeDF2SUlEMEM0MHBPSjc1YkVjYWs4RWVhanFBckVMbEFrL0h3YVB0eApuWGg0VTd5YTlvSHh1cjZibDFQMlpqL1NYTStYd2hMUEt4RTFycHd0VmkrQkY3VFdyZDlJK3laYkNPUnArMkVON3c2Mll1cE9DTFEyCjhtN2VaUFpFbUtubjBrbnhGQW1YSUlQMEF1WGhpQ1dJeEJ2WlM3VW94K1BqVzJrQXh2b1FvT1IxS3kxR2lna1BWVDBUVDhVUUxEUGsKdG5IRG1Jd1NlaWNWNWY1RGJsU242Y3p3K3pNekc1Z2pURW5jTDlYQ2ViZHNYc0dUc21QUmJMUHZZQVc4NkNHS3ZETjNsK2M5SVltcQpmZThteDkrVGtDR0Q5QUNzNmlEZXdNa1NWaVpISUV3cXhtYjRlTmpCYlk0ZnpJa0tnVEIyMG0rNU9TVUJBVGlwYWpVYWdmbURUdWNsCit1OFhpdFdPRWc2enRwMXJwZkxwS0hRN1k4eXlkY2QzZkM1bno1WFRQQ29ZZnlmSWk0ckZ6akZPRFBudlhtTytzN2w4UExGNS9WS2UKZ0VLc0wxM1Y4djFYaHJtRGljUWdnM1FaZEsrNTNUSkpSRmgyQ1hPbE1QN25OR3JTREJnU3VuaWNMdlBsbGpDVkExMWdWa0E2TTNGLwp1OExMQUVMNjB4V016VG1aaTRmZnF4NnVUbUVpdVNZRUJoTHVRUWJwSW9pcVN3ZHpGSVZnQzh3aFF4SjFoS0hyenJtekNMb1EvVVdGClBERTF4cWpFWTZXRDhIMnRCTzJnVzFyYzE0NWdqc2tNeEVrVWRMMGhoNnA0L2xZbGR0MGpZdFhOWUNDU2U4TDg0blRyeVJqUGtFRzYKQkY5VlBRM05VVmZLZWFLbGhYRlNUQkZBYXdEak5YMjNMa2VGTjFHMERERTFBK2FLcU14a2h2RTdGUjdnOFZaYTU1UHVkZmExSWdSZwpXWjBmbUJZb0Q4MzJQUnVsNzJGRkdHZlVndnRETEVOS0gyWExtcHJKZ0F6U0JSQUlrRTVwd1VpanFwdi9aOFBXTWdKTU1GVkczTWVTCmxCZU04Wmo2ajBlY2Jsc2xmNTk0VXI2dmR0NXRiNkg3Q1RCSTdpblRWa0ZKSldTUUx0Q3lhWVYwazVMU1EvNEgra2JtWkdrbXJOUXkKWHNHY3hVU3lDU0ZLVWdYelNNZE5iMG1XcWVuYitacmZOdUVVTWtpblJDSkptZTlJU2t4R1pvWklSYkdzRldGUytIZ2Y0d2wwdE5ydgpMcDg2Z1FYYVc2SjFkQnorUVM1RFNxMlVseFlyWSsrRWRjZ2duUUtEVE9aOFA1SXRHVVgxSlpJdnMyNytSenhqVFNhQUtRM2k5NHVuCmpnTmJvL3NqZFdEenVxVlNtVVNFNFFsazRtbmR2cHBQcmFpZE0xRXFrMmxDOXoraXFMSGNtMXNCVDNqcEk5eUZETklGa01WRnZGbEoKYVNEbGpWcHZHU3lNMFNReVp0eGZjbGVzYWx4ak94VWlXcEdhS1RUaDRhR0VYalJVOGNUakYvTGtOSEhoTUErd3dvTEo0ajdqV1Jqegp4anpoNGRxcW1GNkk4RUEvWDluRnlZczJvcFRIZTg5R09rSUc2UUs4eTJyV2U5Sk5TMHF0TU5sYmo0RW54VkxaZUVJa2I2YUI5UXJ0ClBwVDVnMWdEWGpZU01Va3MxNlR0c2pWaTRIRVJhMWc2VmRwL1BBbXRSRVQreGd1ZXdmVklKS2R0eSthVktVa01rZzJRUWJvRXNuRzQKa1VFRzNTMTQ0R0Q2QlpKUEkyV1czWWZZZUJNeTRLQjdEUzF4SGtEaVFnQUlIa3BHRWF4NGl4ZkxtMHBvT1dVU3lBQWtmVjh6b1ZYZQpXQnRUQnpkSkc0dURvNnZXenBKdEtJdVc1bmg2Q2NYZk1lNW5jUTVwUEdCMGRscjJDQkEwdXM4SjU1QkJ1Z2k2aFJJMlNlWEJnd2MzCjN1cEY4QWVBZVlwMTh6NlM5eHVuUW1BVEhpQkk5U1YyRGNHTVlKamlQbGFGeWRMSXRhcUxjaXdZc3JpUG1SQ1FrcWxnVE5YdUN4aW0KaW9pRWh3WlowNXBGVXRrWUtmYzR1aElUQlYyUkdHZEw1ekZLZEtNaW5SM3l0eVlLanpTMmtJUURQU1RqWVRXZjhRd1pwTXVnKzg1dQpWQ3YrNExGZlBERG00enQ5S0hFVFRnTWhKeWFXNmJJUzdJTE1SSGJuS2lMNEFkTVFqTEE5dlVONXFOdko3em9lNGV0MGl0ODdqb1pyCktzVnF1RWthZGJkaXpOZXRsSHhvVVdJZUt1OWRzZm0zNXBWd255TGhScWkvVHp6ZGhPRERObk9OWHdSd0xQSEZrbkFmTWtnUHNHT1MKR0l1eHV3SUV4aXI0S2dvdWRFVW1SY3A1SXBFeWZ3bXcrVWM5WEYxcDJTU1JXQnJMUFptQnQzdHhQelB4YVIwWkRxNlorTDNqQ1JHWQplcUQxd3hjTzFwVEZTOHRnK1dPeHFDdWdkd1U5TnpCNXA0blpFeEdNdnl0dm4ydkdxQ1hRMWlRRktxRzF6NWRUSTVJQ0dhUkhJQTFaClBKUEU0RHBhaFltQ0NFMTBVeVlTa1prTVlSd0dEOHVSNXJFc0xJbGdaVW9DMXViVDY1NFdRUXRXM05kTTR5SFhxaHRnZ3JuNDNlT0oKZDVjYXZQQU0xNzVnM1JlTzgxNEF0Q3lUQlpZOEUwM0ZLeUVKZkx3WE1zY28xM2U0N2dWZmZRUi9CMUxFTCtFcFpKQWV3bHVTMDkrUgovckFnTjhjUFFuMjlmUDAvSGdFM2RZSjByR1JMTlVZclVZcFdNVnM5QWc4cWpFL0ZBdzl0Y1Y4ejFjNzV3TFhmVWJxRCthTGk5N2NpCnZKZ2dtS3pyNUVHK1hpTEdqbm1PMzRQYjJNQ2orNFlHNmlWWThnbm5KSjZyVzBMWEozSXZwK0s3RWNtRkROSmpNT2RKMjJwQnE5THMKemRzcGVNUEVtMmI3N2cyV3V5YmRGQjZRYmhxakZ1UUFyWnY3NGRqeGxKY0JSUHRhalloczMvTzlkTDVtTXBvbWtvbU1OTlJJMzk4TgpJYURIU1M5SndpaC9YNWlhSTU2UFU2R2xIZlIxaWtjak1oUXl5Q1NBVmdpNjZyQk1WS2kzVzl6c0dSZ1A2cjEyTGluaDhWZ2R4RXFnCmtWTndMVEV1T1ZSWnByU2NlOFROaHNDMDQzVjVpK292dmkxV2s3a2d1bmYrbjZWcjRJYXdMbWtxQ1BYNFhBMW93OXFZNGNFQjhUQkUKQmtNR21RVUVXcHU4V3hsZGFjV2greE5tbks3QVNCTloyZ3JySG1ZVFR0ZkhOSlJ5anlUenhWQ0xrM1V3dFVMdVdpdGozRVJtUVFhWgpKWXpVVjdzZXpJT1c2V0RGRS9GUWFRRzY5VENoSFlFaU1kMnlGb1U1cDltRzdhUUJOb1R1OFZTQWlFL3hYQkpSNzlXell0VkVGa0FHCm1VVzRHYmhRTS8yUHZLc3oxU0FnQXhGK0dDOXNXcjJRTlN5YnpwT0tpK2RyVjBiVEdESVp2dWkzenJWd1EyMjdOb2lIU3dwWTNVSTgKRjd0Q1VBNWxxOGxPeUNDekNEY0RNZm9LTDRuVnB3UStIMVRuL0p5cWZmOFc4VkFaanh0bVlpU2tFRXdGdGhORDZFaTdpZ21SWFpCQgpaaE9SaUNzQk84aHo2bFVVcmgzUWdoWFB6UzBaclNPWnlRelhWMHZYd1MyaFZaOEtrUEZIUEJlN3dseE9JanNoZzh3eTBBVXBQZ0RzCkNtbSswZ0YwcllybjVwWjZycHdXRDVmeElMMlplQjNjRXRJcHBnSzdjMS8xbEs3ajdObkNjRERNSHJaMHMyUGxqV3hIU1RYYjlPQUYKMi8yb2hsMnNibVYxdmQ1R0ZaTkJaaGxvL1lrUEFEdkMyR082ak1mQXhNVHpjMHZJRjV0dFlDcU1lQjNjRXFZQnBRSTN2cE5YODNvSgpjOEtSQ0x0YTI4Nit1UEdVelMxNGJDZ1lacjFIUmtrR21XVWtzdDZjVnJ4N05VM292WEZCT2orMzFGT1FoUWJaMGlCZEI3ZUVaWmxTCkFhWWZPWTNldHBLbGlYQ1h3V0NJYlMxK0tabWhrUlpjZmNMdU5McWZ3SUVNTXN1SXV5UlJIQ0VvSmwzd011cXkrK3hSOFhBWkQzSisKaXRmQkxmVmVQeThlTG1rZ3VsazhIenRDcERTUlBJTGhDRzhWaWlZWVQvTVVGVFg3eE9vY1FRYVpaU0QxbC9nQXNLT3V2TDFpbFNtagp2K1NlZEg1dUNWTmlzbzMrVW0rdVorT0tXU2xOSklFZ0cvR2NyQXFyWnhESjVVeFZzMlIrVnJYb1dobHJIM0J2Q0lnTU1zdElaTzAvCnJiclBIUk9yVEJsZVRrdElwNVp5c2tCYVF2RTZPQkdTMWlPVFRhcXk2RVJCWHRZRVh3eGJOaTRUYXlNOHBHdHdoQzI0OWtReVBqdmEKOTZSV3JEWmh5Q0N6REtldGhIVEtLREpVWFNHZG4xdHFXRDVkUEZ6R2c5VTR4T3RnUlkwclp2S2VCZHdiaUhBZUxIL0U1eCttU3pBWApRRGNwemcvbktxNmppaWtvV0VzUzQvTll0MVFWZWhFeWZiSHNkT1BZODBiSjhPd0tYYTF0THJVaXlTQ3pqRWdveU9vWGZ5bzk1S3lLCkwvT1RKaUEzcG5oK3JrbDVpS1prRllvVVluY2RSVVEwajhkbG44TERnend5RlRtS3JhNEVRM2hQejNBZ2J1dHgvdFVuYk1uMU11bHoKVVNjcW1zVHFFNElNTWd0Qnl3dkpsOFVIWGp5aHl5eXRRdDZSK01EREpiMkdYcFNMUjh4WUlzR0E3WlV2YUFJOTRTYW5LcHNrbzlQcQp5OEtuZkh3UnIyTlhhdHFrN1ZvdFVreDBJT0E4dUlvTU1rc0pkclh6TGpXZU9PQ25MaWUwQ05DMWlBV0lNV2JUdm5jVDY4alp3WVV1CnRLSEtwMkkxS2NmcG1LcVpmS2NQaVlmTFdEQVpYdnorWnVMekdzTmhzUnFDU0FqL1NKQUgySWhHcDlXMXV2Wm8rWkR5Y3J6eVZybFUKUml2TW9YUUtHU1RCR2EvcjNHRjlTRXdoYU51NWhvOGJJYVFmY3pVUk9WbTM0R05wdk1tT1VwVS9OQlhZSFgva2kzNFRoRXVjZVdFZQp1WXJXNDNBbzlvVU1CaWlXMDJxRllxQ2hzTFB1ZnpKSUlxTkIxeUZhdmpCUThTRWZWNHE1cGxXWHNsY29iK1AxUyt5TlM2ZkRTaTVFClpvQ3UwSGpqaXBkcjVHQXBKQk5ZSEdlL2tsWm5FZFJra0VUV3dOY0d0Tm1peEJxSm1jNWcrV1BwZTV1SnB4c01VbkFMNFE3SXFTb2EKbTFaTGJwUnhNOVRqZUlWNTFPdkdvaXB4RjF1UVFSSlpSZWZSM2RJRDMweFlPRG5UemFCMXgycnBlNXNKWTlRRTRRWklSQjR2MStyNQpsOGE5T0IwRHcyemVWWGtmcldwNkVrOFZTQVpKWkJXaC9qN2IwWnE5aFJmRmFqSUd6UE9ybmpwQitzNW04cDNPdnFYQUNHK3dFbzJLCkFCNHpkajJxa2ZiVHlrbmlBREpJSXV0byszR2Q5TkEzRTRKOTBtblN1NXNnVWxuOHZ2RTBYUGRTcklZZ2JETVNDck5saGM4a1E5TXEKdjZwWjNFMml5dWVYOXRNS0xjek93Y1JTSFpKQkVsbEhJdG1FZWk2ZEZLc1o5NHcwMWRzZWsrWFRPOFpaWWdBaVBibFIxeUdabVZZTApyejFodmNQV2hqZlczNitVOXRmcWRHVjhvOVdEREpMSU90QWFSS0NKK1BBM0U1SldZMEhoakVFeHVaWk5YMG5mTTU2eWNTRnB3bjJ3CllnZW1ZWWhHcHBXZGJEaFl4VVBjWHl0RXlRNFpCUHFZUVFaSlpDVjJ1MW1oNWcxZlprenJxZS9XRmVuN3hWUHR6UGZHN1h4WklyMjQKM2RBcG1aaFdXTi9STjJTOVd4U0crOVZOOCs3YXd2b09jYmU0a0VFU1dZbmRxUTJxZWk2ZEVxc2FkeUNIYmUyczk2VHZGay9wdE5RWgpNWDVCRnB5dmI1dTNIbytXTjRpN3hlVlNuT2tpT0diWTVnc3VHU1NSblNoL0tNaVVJNXBBWEUxNWl5K3pOVjVCc3ZybXRVdms3eFZICnlNT0w5SVFFNFpUN1RWMlNlV21GaE9TWXZtRVhSTHRpM0ZLc1Q2c243VDNpYnFhUVFSSlp5OERqSXNrSXJLaHU3b2NzMEpiWW9IK3EKNlRpd1ZmbytWdFMyYzYxWUZVSFlCaTI0MVhjcUpPUFM2dERUZW5FM3krUXFMVSt4UHEyMkZMOFFkekdGREpMSWFsbzJyNURNd0lycQpGMDBlZHkwcUJOaUkzOE9xL1BjTHhlb0l3allQVzdvbDA5SUthem0yOUNlK3pGeXJzaS9xRU92VnFyN1gramc2R1NTUjFjRGtFS0VxCkdvSVZZY29EeHZQR0ExZ3NXRHgvT3hxcWVpWldTUkMyd1BEZjJudm0wekhFU2YySU9CKytlSkw1djVyTmVtZTh5L29XZnNJRzkyNW0KNFZiakNOY2RKZFZTdlZybGxGbHZvWkpCRWxtUDc4d1J5UkNzcW03aEpEWlNYeTFXbVZZNGFUbXE2aSsrSlZaTEVMWjQzTllqbVpXbwpocjdCYVBsd1Z3ZnpMNTdDZWlhK0l1dmoxMW5nempWTjdXT1VkL1pKOVdxRk1jN3VJV3Z6SzhrZ2lhd0hLOHduMm9xRXNHanp3Sk5pCnNkcVVnNEFjck9VcG5tOGlhdDMrclZnOVFkZ0NpY05GczlJS0tlT2loRVBNLytWMDJSaTErdWkzTFBUaStkZytQNEU0MVRWM3pjYzUKejc0d3p1K3FoUXlTSUJSYU5pNlRUTUdXcHJ6RkYyK09CS3k5bVhwTnFLZUxOYTliS3A5bmdrSVU2M0N0czVVUmlPemxXVWV2WkZLaQphbnZHeGdZRGQ2L0xocWlqL3RXTE5FY1o0MDZqK1R4TEpFaEhxcnQ0a0VFU2hFTG5rUjhsVTBoRVdLaDVPTVZkcm4xM3JyTGEyZTlMCjUrWlVXRE15MU90c2ZUMGlPMEgwcUdoU1dtSGNVTXZBOXU4a005VFZSNit4aUU3eWlvQmlmbGhrV1R5T1ZyY1ZFNDBIR1NSQktMVHYKM2lBWlFzSlNXcFB0Kzdmd1Zsd3lnVEczYkZ3dW40K0xhbGc2bGE4QVFoQldxZXd5VHlZT3ZmVEZMa25WLysxQzJRd05GRGFZY29WbApzc1RqYUlYcEp2SHlCcEJCRWxsUEpCemlLM2FJWnVCVUdOZEV0NnZYaGpMU1dEdWFPczltNHZGRWhXc1ZhTGMyaGtNUTJ4NitsTXhKCnE4MFA1TG1KQTF0V1NVYW9xdzlmWlpFQi9mVWVrZWg4UVp6RUFlajZOWU1Na3NoNittNFhTQ2JncWhUandxTEUvU1gzWEZzMks2dzgKRk5DVjJyUjZvWHk4SktoeHhjeTBHVzhsMHBlNm5nSEpsRVE5Nyt3VGQyTWpOeTdLWnFnai80clo0cTR4SU9tQWVEeXR0cGVZTDkxRwpCa2xrTllIV0prL0c2NHlFVm1Ycmp1OVlUOEVaTmxSZFlkbGtZSWlERldWODJhM205VXQ1MEl4WWQ3TGxMN29wbmlaQnhMQ3oxSHhPCjRvYjdWVHpxVkNJWVlIM3pKMG1HS0xZZWcyVWw0cDR4TlBZTlNzY1UxZXczVGt4QUJrbGtMUWc0d1dSLzhjR2ZUTUhva0pVSCtWSGIKZHE1aGJidlc4NmtaU0FuWHVtMFZhL3B1RWF0Yk9GbmFMeDNVZVhTM2VFa0pJa3BEYjN4ekttczM3dUlNTnpld3Zsa2Z5TWI0a3praQpnWUFWdGhhYmQvRWVlV2FjR0owTWtzaEtJc29iYXRQcUJkSkRuMlJkdmxNNTRtVWxpQ2pJV0NPYWtWYklxcVBiZXRRUThmZXhvZHpkCnJHL3VuN2twOW40MmdRMXNYTUZDTDhyRm9vYkFoTVZqYTdYb1doa2JEdXBQK1NDREpMSVMzK25EMGdPZlpFL0RkWEp3QlVFQXpERmMKZkwxTU1pT3RTbHVUTTJVSUNkSy92Zk5jT3I1V1R3MkNkY2dnaWF6RGFlWWNFakxyckJZdkswRkVpWmZ1YmZYZEN0dHJNenJoWm4ySApkQTVhWGE3Ump6UW5neVN5anFIS011bUJueldhOGhaclhEV1BkUjNmeDN4bmNrZFhNNWs2UVM1bm90cTVFMW13TzdselBJbnhSVkd6ClR6SWhyZTQxSmZmKzZSd2NrYzVCcTFPVitzblB5U0NKckdPNDdxWDAwTThHSWVCSHIxc1V5ZFl4YlVNc3J5dkZUQWZMSDR0VkVFUU0KTnh2TVcyeWxiY25wWGxXSjE2STF5czFLQmtsa0g1RUlhMWcrUTM3NFo2aHFaNzNIZWdzdmpxNDNaQURtWjdidjJ5enRxeFVpYnYwUAphRlVQSWo3eERBa3JhcXkvWDhrVG1DT1J3QThsMVZ5N0g5V3dBMlYxWERsUDYxbmU4OGFvemlrbXBxcWd0bzFkcTJ2bnV0WFF5VnVrCjBBT2w1WXBWUTZBbjdUMnN5dWZuZVZtWEZUNlR6a0dyRW9QeFVESklJaXRCU3lyUmNVaE1EV2xhTlk4clhhZGdRRFhUM21hZFIzYmEKeXArSzVBTjYxNlYyemdkc29PeWhXSndnZE9rWkRzUmR1RGlkaEM1WVBjZ2dpYXdGWTVGMTh6NlN6RUJQR0hmcnVYeUtoWHA4WWpVcwoxTmZEQnArVnN1N3plYU9UK0tlbGRoSS81bFg2OGc4blBFNklOSEtZZzFrejdRKzhTeFZwN0x4T2wwZGtIaitXMWtoR2xJN2FVR1M4ClNnMFpKSkhWb0hVVkw4RTN6Q0tzczJLQUVlR2hRZFpmZW8rMTcvbGV0elhtaFJxK25NYm5KV0o4MWF3cjFRNVdzL3dRaEI0dnUvdkgKUlN2U0xCOHJHU1NSOVNCWmVWZmVQc2wwSUhSUnNyRCtKR0lyaEllSG1QLytEZGF5eVg2MHFCWFZMWnpFK2gvZWNjMFVDY0pOTUY0bwpHbEk2S2JmY09Jc09JSU1raUovb0s3d1VZMkpZaWNOTjQwRnJ0YWNnbnpXdW5DMFpYU0pxV1BhNWJwY3ZRYVFMbU90NE9FN0M4RlFKCmExQ0d3dVovMzJTUUJLRUJZNG5ORzVaeEkvTU01YUhoTHlwa05kUGZrVXpQc3FhOHhaZTVJb2p4QUNKTTR5MWduQ3loMi9ka1JWTmMKY3dSa2tBU1JJdnozcnN2R1oxR3RXNzhScXlPSXRDWVFEck1ITFQ2K0JOV21CeS9Zd2h0UDJOUXJEOW0weXlWY002ODhrc3pNVGMwcQpLR1ZiSHI1Z0RYMkQ0cWtaUWdaSkVLbUN6OGVjTHBtZkZYbmF3aVVJanpsVVg4UCs2Nk43MlY4YzJhMnJmNkhvWHg3ZEY5Vy9QbmFRCi9ldWpPVnovODdIRDdOL2tIZUg2WDQ4ZlpmL3V4REd1Ly8xRUh2djNKMDVHOVI5UDVYUDl6Y21UN04vbUhXVi9sYnVmL2R2OFhOWnAKWTAxV01raUNTQ0ZHd1VIeHhBTnpDR0ljOHFTbm0vM0xZL3NrVTB5R2ZxYVk3Zjk3OVh6Y1ZVUlV5Q0FKSW9YQTZFVHpzeUl5U0dJOApFb3hFMlA5NTdqajdMM0wzU09hVkxQMlZZczdySzUrS3A2WUxHU1JCcEpEQnB5V1MrVmxSenlWcmk4VVNSRHF4NnZrVGJsQ2lhU1ZiCmYzVnNQMnNiSGhKUFQ0SU1raUJTeU1EakI1TDVXVkZIem5heEtvSklhL3FDQWZhdjh2WkxacFVLL1V3eDZUOC91QzJlb2dRWkpFR2sKa1A3aVc1TDVXUkVTaXhQRWVPTGJpakwyMThmU3d5QWhCQWwxREpzSDdKQkJFa1FLR1hwUkxwbWZGZlhldUNoV1JSQnB6ZitXbnl1WgpWQ29GczE1VFlUNFdTUVpKRUNrRWFlNGFsazZWRE5CTUtJOFVkZ1F4WGlqcDdtSS9PMlk4clNOVitnOFh6TWZ5eVNBSklzVmd3ZUs2CkJSOUxSaWhwNmdTZUlDRG82eENySUlpMFptVjVlZ1RuaVByTDNOM01ONksvMUJVZ2d5U0lOSUN2QUZKOGkvVmVQODhqVkZVaDI4N2cKODhjczBOcklGelVtaVBISUw2OWZrTXdwSFlTZ29meG00NFRsWkpBRVFSQ0VwL3liVTRjbGMwb0hZYm9IcHA0WVFRWkpFQVJCZUFheQoxcVF5TVVBOGZmamdsbmpLVWNnZ0NZSWdDTS9vRFFRa1Uwb252WHJycW5qS1VjZ2dDWUlnQ00vQUtoN3AzSUw4MWZWTDRpbEhJWU1rCkNJSWdQT1Z2emgzbkszU0k1cFJxd2Jpbmx4YUpweHVGREpJZ0NJTHdsSXV0VFh3bERkR2dVaTJzS25KQk9UY2p5Q0FKZ2lBSXoxbGIKOFpTbmQvdHY4L1p6cy95Wjh2TmY2cGhXc29RSTF0L2N1aUtlWmd4a2tBUkJFRVJTYUI4ZVlubU5kZXpyOGlkc1VWa0ptL1A0QWRlMAprdnZzL2FKYjdFLzNiN0lKVjgrelgyNVp4Zjd1d0VyMjk3bGZzZitVK3czN3YzTy81Zm9QdVd2Wi81RzdnZXZmNVg3UC9wY2pXOWovCmxMT04vUThIZHJEL1Jta04vblhlcU9KMTUvNTNlUWZZT3NXd3d4SHpsU0hKSUFtQ0lJaTBvU05uQjJ1WTl6b0w1UDJjQlk3SGwzLzMKMy9GTVU3MVh6NHBWY2ZxRFFaNHRCMm9aR3VTS1o0d3FaSkFFUVJCRVdoQUpqTERhbWUreTdrMy9uMlNFWnFxZjh3WnJXcjFRck00eApaSkFFUVJCRVdqRHdxSWpWVEgyVERSLzloV1NDWnVwYy9jODhWM0Y0Y0VDczBoRmtrQVJCRUVSYTBMNS9DMnRlK3Fwa2dQSFV0L05YCnZKc1ZDNUM3Q1Jra1FSQUVrUlpnS1RmZjk3K1dERENlUm83K25OVk0rVDNyeXRzblZ1a0lNa2lDSUFnaTVhQjd0SHJLVzZ4L3o5OUoKQm1oRjlYTmU1OHZCdVFrWkpFRVFCSkZ5aGlxZktnYjVlOTRhRk0zUGlscVd2c29hbHM4UXEzVUVHU1JCRUFTUmN2d1BickhhejkrVQpqTStxMnIvK0RhdVova2V4V2tlUVFSSUVRUkFwcDdmd0lxdWI5WVprZkZiVi9zMC84MEFkTnlHREpBaUNJRkpPejZXVHpneHkxVThHCkdRNkxWU2NNR1NSQkVBU1Jjbm91bitKeklFWGpzNnJXcjE3aFFUNVpiNURESXlIbUh4amhRc2Fnb2VFZy83bC9jRVFzYXNoSVlLd08KZ2lBSUlyWDAzUzdnTGNEaEkvOVpNajhyYWx6d1cxYTNjTEpZclNOaURMS25iNGdkdS9BMHFrdTNYcksyem41dGtiUmdXMDRSKzgzSApCN2tHaGdKc3haWWIvT2UzcHVXS1JRMDVjUEpSdEk1UXlMMDNqbVF5TUJoZ3JSMSszZDhSWGh5d0RjTExRRElwZWRiQzlwMTR4QWFWCjN3MUJFSVFWZUJTcllwRCszYitTekMrZVJ2Sit6bXFudmNtYTF5OFZxM1ZFakVIV05IUkhUVVBWYTVOejJNbkx6N1hGVWs0NkcrVHoKbHgxczAvNzdYR2pwSGpqMW1QOTgvWDZ0V05ReEp5NlY4L04vZThaUmNSUC9UdXIzZTFUZUttN21OTFQwUnM5MTE3R0g0dWFFZVhmTwpjWDdjTTljcXhVMEVRUkM2aFB2OXZJdTBjKzAvU2dZWVQyb21uYzdETzhWcUhXRm9rSzk5Y2lqNjg2dUtTZFkzOS9BeS92NFJsbDlRCndWc0lNQU1WZkk0SEloN2FWYlZkL0RPMFhHNFUxWEl6UW1zVWhnR3czODNpT3Zib2VTc3JMbXZtRC9DaUowMzhzK29HSDd0UStJSTEKdGZVcHJhQUlLeXlxNHlaejgwRWQveitJWjVBNHpyVjdOZnk0Vis1VXg3U2c3ajFxWlBsWEs5aVBSeDlLQmduRFFNc1ozMEZ0bGFFdQpuQmVFN1hrWG44WFVoKzdkdTZVTjBhN2FLN2RmUnV0RmwrK2t4YWY1ejF0empGZXRUaFNuQm5uODR1aitxcnA2QnNVaUNiRng3MTMyCnpxdzg5cUp1OUQ0Z0NJS3dRdU9LbWFNcmVlaVlvSm5hVnY1bU5OWGNrMkt4U2tjWUd1UVBSNHE1V2FqL3g4OTQ0SCswOEZUMHMxY20KNWJEUzhoYlcxei9NSnM0L29mbjhJRGUvUld1dnhEeUF2OTVXeUkremF2dE4vbi9zODhabmgxbnV1VEwyd2J6Ui9TY3Z5ZWYvWXY5dgp0aGZHN0w5NjV5MitmenlEblBYTmhaajkxdTIrd3orSHNhdWZ2ZjdwMkFzQXpPUkpSUnY3M1pURDBjL2VubjZVMVRaMnMvYXUvdWhuCjZya0ZnMk10empVLzN1YWZMVmxmd1A4Znp5Qmhybmk1bUxiOEhKdTk2aUovUVZBNWV2NHB2emFucmp6bjI5UXVTcGo4ekpYbitmZTYKb1dtSjZobGtSWFVubS8vZFpiYmw0TmcxTWpKSTlicWhsd0QvNGlWRXhhZVk1VmVici9NeWVKbkFlVDE0TXJyeU5zNFovOGQzS2xkZQpkdkF6cm9NS1BzZG51RGUwNWZHOVYvOXdpM2ZCNHZlR3p5QVk5YzdjMFJzYkx4cnI5OXhsbjN5Uno3NVRmdDgwUmt3UTJZUHZWTTVvCk4rdVAxcnRaaHc3L2tnZjMxRXgvaDBWR2hzVXFIV0Zxa0dqRnFmL2ZmT0ErTzN5MmpQLzh2bUptSzdlT1BseS8vUDRhYnlYaVo1Z2QKekd2dHJ0R0hKUjZFTUFpWWgvb2dWaCtNYXIzUStSdFZVWU5VcFRVelBDelZuNTlYZDhRMVNMVG9ZR2FMMW8wYU5Nd3dvSmlhYXU1LwptSEdNdDNEVU9tQ1FxcW0rT3p1UG15TitocUZyRFJMNnZkQ05xeDU3OWpjWCtmKzFCdm5oZ3BQUmxyaHFrSTJ0dmV6TnFVZWlaV0J1Ck9EZXdiTk4xL2huMlFhc2RMV2FZbS9iNGtOcHlGdzBTNWJVdk1LcjBEQktOOFQvT1BNYTNMMWh6bWYrNy9mQllvdDlWTzJKL1J4Q00KRzZpL200bnpUMFovOTNpNVVNSG4rQXkvVjIxNTlWcmd2dWoxRDBmcnhlZG9kWUp2ZnhnOXJ2cXlBck1rQ0NJN0NMUTA4RzdXcGtXdgpTVVpvSkxYMTJIRmdxMWlkWTJ3WnBHb0dFejQvR24wUTQyRUlRMUxMd1pqUTRnRUlFTUg0MXN5dngxcDBNQWpWSU5IU1JMY2xXbVNxClFhSSt0RWp6TGp6ai80ZTVZVHZNRi8vSFF6cWVRVGExOXZFSDd2UVY1NlBsV3RyOS9IajRPZWYwWTk1VnFtNURxMDU5ZUdPOEZTMGQKL0l3WEFhMUI0cVVBWGFwYTBOTENPZUc3QXExQmFxWHRZcjFWWE0rUHJ4cGwzVS9kMTZwQndzQlZNOXFnR0FRK3d6VlR2K2YyUTZORwpKaG9rdnFONnZLdjNhbmdMSHovckdTU3VPN2I5VnJtK3VlZEdld3JRcWxWQm5mZ01yWHYxZCszVUlLSGRlU1c4SzFkcmtIaUJlbHpSCnlsOVUxTmJzbnJ4Uy9pOWVaQWlDeUI1YU5xL2todGV6NVI4a014VFY5OE92ZUhvNkxIVVZhQi90c1hJVFE0UGNvYlFtRHVVL2lmNGYKWGF6cUEveFBTaXNMM1o4d0RIUmZvdVVDUTFVZitEQ2ltc2J1NklOVjJ3TEVHS05xa0dpdHFhZ0dDUk1BNkc3RS8yR000WEFrV2pkTQp3Y3dnUTByWjkzNEtFdEVlRjRhQVZobCtSa3NZUnFodWcrbXAyL0F3UDZnWUtIN0c5OVFhSkk0dFlqWUdpWi9WZ0JYVklGL1crMkphCmtCQzZLWUY2ZmJYZGxjdVVGcnA2enVwNTRmb0IwU0J4YmRVNkVlSDYxdWU1L0djOWc4UTRMN2JoWEJhdUdXMXA0eHBnUDdRdVZhT0MKY2FrdGNhY0dxVFU3clVHaU94MGdpbHI5REM5aGFNbmp1NmxqendSQlpEN0QxWlc4RlltMGN3TjdqUk9YRHg3NEphdWI4YnZSMW1QTwpkckVhVnpBMFNQVUJxZjRNZzlsM1l2U3RIZzlWbU9Oblg1N2hEemVNdFMzZGVKVS9zTlZXeTlscmxmeGZtQ1VlckdwZE1RYXBtSWVLCmFwQ29GMkRjU3QwSFkycnF6M2pZbXhra1dxanFPV3VEVU5BYVZzY1FNZmFwN1lwRXkyWEtzclA4NTQ4WG5XYnZ6eDAxTlh5bmVBWnAKZHd4U2JaM3VQbFlTTlpKbkw5cjVOdFVnTis2N0Y2MGZMeDc0Yk1iSzgyenE4dEZ6UkIxQU5FZ0VTcWxHanpyVTg5QXpTTHpZcU51MQpVc2RFY1Izd2YzUXpxMTNPcWtHcTVvcVhsK1diUjgvWmlrSGlkNnlpTlVqMSs4TUgwWVdOenpEdWlYc0JMeFFFUVdRWDdmczJjK09yCm1mWjcxclgrMTJ3NGQyd0I1WkdqdjJDK2piL21Cb295OVY5TVllRWhkd0lNUlF3TlVoVzZPTTlkSHczWDcrNGQ0dDEvMnUwd1RVd1IKMEg2R0J5RWVnT29ZRjB4U2ZYQmJOVWc4TE9ldHZoUlRMMW82K056TUlOR2l3Ny80UDQ2cEdqWU04clNtcXc5ZGkrclBNTWc3SlEzUgpjNFR3dmZIZ2ptZVFabU9RZWdhSmE2bHVWNDluWnBETjdYMVIwNERRS216dkdsMDFXelJJb0k0TjQzdWJkYkdxTHdnd1FBVG5xTmRECk5WL3R0Vks3bi9FWlFDQ1F1azA5TnpjTUV1Um9laTNVOHlNSUlyc0lEL2hadzdMUHVRRnlvNXlpR09HY04vaVNWdmc1K3ZtMFA3Q2gKNnRIbmtoY1lKZ3JBd3hkejk4VFEvdzdmQUI5SFFzc0pVemRnV0RDWWdqdlZ2RnNXVXlzNmZhTVBjSVQ1d3hpd0RROVgxSXRqb0VzUwpQMnZueWFIRmljOWdWQ29ZRzBUWElnd1ZZMkhxOUFvRWVham5pUUNYMncvcitjOXFDd2RCTElqaXhCUVJmQTlzVTd0QThiREdlU0lpClU2MUQ3Y0pEZCtKNnBXWDF2V0pRNmxRVkdMQmFycksyazMrbXhhZThOT0M3cVdPUUdQKzhVRmpGaGJGVG5BTitmbFkxYWdLNFZ1amUKUlJjeXpnSGJVQWRBNnczL0w2dHNpOVlQMEhyZmU3eVVteGNNVXdWUnRpaXZqdmtDZEpIaVd1R2FYRmJNR3RzN3UyTi9oK2l5VnM5UgpuYjZEcmxMOEg5Y1c0SkpnSEJQVGI5QVZEclBDZDFIQjd4N1hFZGNhKytIL0tyaHY4Qm5PRzJDTUZmL1h6Z1hGNzFJOUIvWDdxNkFjCmZuKzRUc2xPY2tBUVJIb1E3R3hqVGF2bVJjMVFWTzJjaVd6d1dhbTRtNnVNeTFSemhQZkFkTkVDVlZ1SWFHR3FMVmVDSUloa0VBa0YKV2QrZHE2eDV3ekxGRUQ5Z3RiUGVZNDByWnpQZjZjTXM1Qjk5QWZjU01raENGNHdCcWxNdDBLMnJiU0VTQkVGa0EyU1FoQ0hvZWthWApPQVdSRWdTUmpaQkJFZ1JCRUlRT1pKQUVRUkFFb1FNWkpFRVFCRUhvOFA4RDhQRXFXbTlHeE1FQUFBQUFTVVZPUks1Q1lJST0"}],Object.defineProperty(E.prototype,"message",{get:function(){return String(this.val)}}),T.__toStr={}.toString,null==ArrayBuffer.prototype.slice&&(ArrayBuffer.prototype.slice=es.sliceImpl);var ut=new Uint32Array(256);I.__alpha16=ut;for(var mt=0;256>mt;){var nt=mt++;I.__alpha16[nt]=Math.ceil(257.00392156862745*nt)}var vt=new Uint8Array(511),e;I.__clamp=vt;for(var ot=0;255>ot;){var pt=ot++;I.__clamp[pt]=pt}for(var qt=255;511>qt;){var wt=qt++;I.__clamp[wt]=255}Ch.available=!1,Ch.enabled=!1,Ua.level=0,typeof console>"u"&&(console={}),null==console.log&&(console.log=function(){}),D.hitTestCanvas=typeof window<"u"?window.document.createElement("canvas"):null,D.hitTestContext=typeof window<"u"?D.hitTestCanvas.getContext("2d"):null,Le.maxTouchPoints=2,Le.supportedGestures=null,Le.supportsGestureEvents=!1,Le.inputMode=2,gb.reloadListeners=[],da.TOUCH_POINT=1,da.GESTURE=2,da.GESTURE_CAPTURE=3,da.PAN_X=1,da.PAN_Y=2,da.PAN_XY=3,da.READY=0,da.BEGIN=1,da.TWO_FINGER_MOVE=2,da.MOVE=4,da.R2D=180/Math.PI,da.SWIPE_SCROLL_TIME=2,da.SWIPE_SAMPLE_TIME=.2,da.VELOCITY_RATIO=.25,da.touchEvents="touchBegin touchEnd touchMove touchOver touchOut touchRollOver touchRollOut touchTap".split(" "),da.mouseEvents="mouseDown mouseUp mouseMove mouseOver mouseOut rollOver rollOut click".split(" "),da.geTouchEvents=["touchBegin","touchEnd","touchMove","touchOut"],da.geMouseEvents=["mouseDown","mouseUp","mouseMove","mouseOut"],da.initialized=!1,da.moveToleSqr=1,da.MAP="mouseDown rox_touch_begin mouseUp rox_touch_end mouseMove rox_touch_move mouseOver rox_touch_over mouseOut rox_touch_out rollOver rox_touch_roll_over rollOut rox_touch_roll_in click rox_touch_tap touchBegin rox_touch_begin touchEnd rox_touch_end touchMove rox_touch_move touchOver rox_touch_over touchOut rox_touch_out touchRollOver rox_touch_roll_over touchRollOut rox_touch_roll_in touchTap rox_touch_tap".split(" "),da.typeMap=function(e){e=new va;for(var i=0,s=da.MAP.length>>1;i<s;){var n=i++,o=da.MAP[n<<1];n=da.MAP[1+(n<<1)],null!=t[o]?e.setReserved(o,n):e.h[o]=n}return e}(this),fa.ACTIVATE="activate",fa.ADDED="added",fa.ADDED_TO_STAGE="addedToStage",fa.CANCEL="cancel",fa.CHANGE="change",fa.CLEAR="clear",fa.CLOSE="close",fa.COMPLETE="complete",fa.CONNECT="connect",fa.CONTEXT3D_CREATE="context3DCreate",fa.COPY="copy",fa.CUT="cut",fa.DEACTIVATE="deactivate",fa.ENTER_FRAME="enterFrame",fa.EXIT_FRAME="exitFrame",fa.FRAME_CONSTRUCTED="frameConstructed",fa.FRAME_LABEL="frameLabel",fa.FULLSCREEN="fullScreen",fa.ID3="id3",fa.INIT="init",fa.MOUSE_LEAVE="mouseLeave",fa.OPEN="open",fa.PASTE="paste",fa.REMOVED="removed",fa.REMOVED_FROM_STAGE="removedFromStage",fa.RENDER="render",fa.RESIZE="resize",fa.SCROLL="scroll",fa.SELECT="select",fa.SELECT_ALL="selectAll",fa.SOUND_COMPLETE="soundComplete",fa.TAB_CHILDREN_CHANGE="tabChildrenChange",fa.TAB_ENABLED_CHANGE="tabEnabledChange",fa.TAB_INDEX_CHANGE="tabIndexChange",fa.TEXTURE_READY="textureReady",fa.UNLOAD="unload",fa.__pool=new Ia(function(){return new fa(null)},function(e){e.__init()}),Ja.TOUCH_BEGIN="rox_touch_begin",Ja.TOUCH_END="rox_touch_end",Ja.TOUCH_MOVE="rox_touch_move",Ja.TOUCH_OVER="rox_touch_over",Ja.TOUCH_OUT="rox_touch_out",Ja.TOUCH_ROLL_OVER="rox_touch_roll_over",Ja.TOUCH_ROLL_OUT="rox_touch_roll_in",Ja.TOUCH_TAP="rox_touch_tap",Ja.GESTURE_TAP="rox_gesture_tap",Ja.GESTURE_LONG_PRESS="rox_gesture_long_press",Ja.GESTURE_PAN="rox_gesture_pan",Ja.GESTURE_SWIPE="rox_gesture_swipe",Ja.GESTURE_BEGIN="rox_gesture_begin",Ja.GESTURE_PINCH="rox_gesture_pinch",Ja.GESTURE_ROTATION="rox_gesture_rotation",Ja.GESTURE_END="rox_gesture_end",La.__meta__={statics:{toNullVector:{SuppressWarnings:["checkstyle:Dynamic"]}}},ya.__meta__={fields:{__cairo:{SuppressWarnings:["checkstyle:Dynamic"]},addEventListener:{SuppressWarnings:["checkstyle:Dynamic"]},removeEventListener:{SuppressWarnings:["checkstyle:Dynamic"]}}},ya.__broadcastEvents=new va,ya.__instanceCount=0,ya.__tempStack=new Ia(function(){return La.toObjectVector(null)},function(e){e.set_length(0)}),ba.logicalWidth=0,ba.logicalHeight=0,ba.windowWidth=0,ba.windowHeight=0,ka.Element=0,ka.PCData=1,ka.CData=2,ka.Comment=3,ka.DocType=4,ka.ProcessingInstruction=5,ka.Document=6,K.pool=[],K.pooli=0,Q.VERTEX=0,Q.FACE=1,L.b2_nullFeature=255,L.s_incidentEdge=L.makeClipPointVector(),L.s_clipPoints1=L.makeClipPointVector(),L.s_clipPoints2=L.makeClipPointVector(),L.s_edgeAO=[],L.s_edgeBO=[],L.s_localTangent=new K,L.s_localNormal=new K,L.s_planePoint=new K,L.s_normal=new K,L.s_tangent=new K,L.s_tangent2=new K,L.s_v11=new K,L.s_v12=new K,L.b2CollidePolyTempVec=new K,uc.s_simplex=new Qe,uc.s_saveA=[],uc.s_saveB=[],Hk.currentID=0,Qh.e_circles=1,Qh.e_faceA=2,Qh.e_faceB=4,Ff.e_points=1,Ff.e_faceA=2,Ff.e_faceB=4,Ob.b2_toiCalls=0,Ob.b2_toiIters=0,Ob.b2_toiMaxIters=0,Ob.b2_toiRootIters=0,Ob.b2_toiMaxRootIters=0,Ob.s_cache=(e=this,(e=new lm).useCache=!0,e),Ob.s_distanceInput=new Bd,Ob.s_xfA=new vf,Ob.s_xfB=new vf,Ob.s_fcn=new Ff,Ob.s_distanceOutput=new zi,cc.initialized=!1,cc.distanceInput=new Bd,cc.proxyA=new Yd,cc.proxyB=new Yd,cc.simplexCache=new lm,cc.distanceOutput=new zi,cc.e_unknownShape=-1,cc.e_circleShape=0,cc.e_polygonShape=1,cc.e_edgeShape=2,cc.e_shapeTypeCount=3,cc.e_hitCollide=1,cc.e_missCollide=0,cc.e_startsInsideCollide=-1,Jb.s_mat=new Oc,ca.VERSION="2.1alpha",ca.USHRT_MAX=65535,ca.b2_pi=Math.PI,ca.b2_maxManifoldPoints=2,ca.b2_aabbExtension=.1,ca.b2_aabbMultiplier=2,ca.b2_linearSlop=.005,ca.b2_polygonRadius=2*ca.b2_linearSlop,ca.b2_angularSlop=.011111111111111112*ca.b2_pi,ca.b2_toiSlop=8*ca.b2_linearSlop,ca.b2_maxTOIContactsPerIsland=32,ca.b2_maxTOIJointsPerIsland=32,ca.b2_velocityThreshold=1,ca.b2_maxLinearCorrection=.2,ca.b2_maxAngularCorrection=.044444444444444446*ca.b2_pi,ca.b2_maxTranslation=2,ca.b2_maxTranslationSquared=ca.b2_maxTranslation*ca.b2_maxTranslation,ca.b2_maxRotation=.5*ca.b2_pi,ca.b2_maxRotationSquared=ca.b2_maxRotation*ca.b2_maxRotation,ca.b2_contactBaumgarte=.2,ca.b2_timeToSleep=.5,ca.b2_linearSleepTolerance=.01,ca.b2_angularSleepTolerance=.011111111111111112*ca.b2_pi,P.b2Vec2_zero=new K(0,0),P.b2Mat22_identity=Oc.fromVV(new K(1,0),new K(0,1)),P.b2Transform_identity=new vf(P.b2Vec2_zero,P.b2Mat22_identity),ua.s_xf1=new vf,ua.e_islandFlag=1,ua.e_awakeFlag=2,ua.e_allowSleepFlag=4,ua.e_bulletFlag=8,ua.e_fixedRotationFlag=16,ua.e_activeFlag=32,ua.e_ignoreGravityFlag=128,ua.e_alwaysActiveFlag=256,ua.e_pausedFlag=512,ua.b2_staticBody=0,ua.b2_kinematicBody=1,ua.b2_dynamicBody=2,Kk.b2_defaultFilter=new Kk,uh.KEY_LOCK=0,uh.b2_defaultListener=new uh,nm.s_evalCP=new F,cf.e_shapeBit=1,cf.e_jointBit=2,cf.e_aabbBit=4,cf.e_pairBit=8,cf.e_centerOfMassBit=16,cf.e_controllerBit=32,hg.tempAABB1=new Hb,hg.tempAABB2=new Hb,Bi.s_impulse=new Mp,lc.s_timestep2=new Mk,lc.s_xf=new vf,lc.s_backupA=new Rh,lc.s_backupB=new Rh,lc.s_timestep=new Mk,lc.s_queue=[],lc.s_jointColor=new mm(.5,.8,.8),lc.m_warmStarting=!0,lc.m_continuousPhysics=!1,lc.e_newFixture=1,lc.e_locked=2,fb.e_sensorFlag=1,fb.e_continuousFlag=2,fb.e_islandFlag=4,fb.e_toiFlag=8,fb.e_touchingFlag=16,fb.e_enabledFlag=32,fb.e_filterFlag=64,fb.s_input=new Lp,Nk.circlePointA=new K,Nk.circlePointB=new K,df.staticFix=ca.b2_maxManifoldPoints,df.s_worldManifold=new Ik,df.s_psm=new Nk,Oa.m_xf=new vf,Oa.q=new K,Oa.p=new K,Oa.e=new K,Oa.temp1=new K,Oa.temp2=new K,Oa.m_centroidB=new K,Oa.mat=new Oc,G.m_xf=new vf,G.temp=new K,G.m_centroidB=new K,G.m_lowerLimit=new K,G.m_upperLimit=new K,G.m_polygonB=new Qp,G.edgeAxis=new sm,G.polygonAxis=new sm,G.perp=new K,G.n=new K,G.rf=new Rp,G.mat=new Oc,G.temp1=new K,G.temp2=new K,G.ie=[new Vh,new Vh],G.clipPoints1=[new Vh,new Vh],G.clipPoints2=[new Vh,new Vh],G.edge0=new K,G.edge1=new K,G.edge2=new K,G.m_normal=new K,G.m_normal0=new K,G.m_normal1=new K,G.m_normal2=new K,Zb.e_unknownJoint=0,Zb.e_revoluteJoint=1,Zb.e_prismaticJoint=2,Zb.e_distanceJoint=3,Zb.e_pulleyJoint=4,Zb.e_mouseJoint=5,Zb.e_gearJoint=6,Zb.e_lineJoint=7,Zb.e_weldJoint=8,Zb.e_frictionJoint=9,Zb.e_inactiveLimit=0,Zb.e_atLowerLimit=1,Zb.e_atUpperLimit=2,Zb.e_equalLimits=3,jd.CENTER="center",Ug.b2_minPulleyLength=2,Bg.tImpulse=new K,wh.FPS_ONLY=!1,wh.GRAPH_WIDTH=70,wh.XPOS=69,wh.GRAPH_HEIGHT=50,wh.TEXT_HEIGHT=50,Vg.bg=51,Vg.fps=16776960,Vg.ms=65280,Vg.mem=65535,Vg.memmax=16711792,Vg.bgCSS="#000033",Vg.msCSS="#00ff00",Vg.fpsCSS="#ffff00",Vg.memCSS="#00ffff",Vg.memmaxCSS="#ff0070",Wg.androidAdmobAppID="",Wg.whirlID="",Wg.whirlID1="",Wg.iosAdmobAppID="",Wg.ioswhirlID="",Wg.ioswhirlID1="",Wg.cpmstarID="",Wg.newgroundsID="",Wg.newgroundsKey="",Wg.androidPublicKey="",ja.defines=function(e){return e=new va,null!=t.web?e.setReserved("web","1"):e.h.web="1",null!=t.verbose?e.setReserved("verbose","1"):e.h.verbose="1",null!=t.utf16?e.setReserved("utf16","1"):e.h.utf16="1",null!=t.use_tilemap?e.setReserved("use_tilemap","1"):e.h.use_tilemap="1",null!=t.tweenxcore?e.setReserved("tweenxcore","1.0.4"):e.h.tweenxcore="1.0.4",null!=t.true?e.setReserved("true","1"):e.h.true="1",null!=t.tools?e.setReserved("tools","7.8.0"):e.h.tools="7.8.0",null!=t["target.utf16"]?e.setReserved("target.utf16","true"):e.h["target.utf16"]="true",null!=t["target.unicode"]?e.setReserved("target.unicode","true"):e.h["target.unicode"]="true",null!=t["target.name"]?e.setReserved("target.name","js"):e.h["target.name"]="js",null!=t.stencyl?e.setReserved("stencyl","4.0.4"):e.h.stencyl="4.0.4",null!=t["source-header"]?e.setReserved("source-header","Generated by Haxe 4.0.2"):e.h["source-header"]="Generated by Haxe 4.0.2",null!=t.polygonal_printf?e.setReserved("polygonal_printf","1.0.0-beta"):e.h.polygonal_printf="1.0.0-beta",null!=t.polygonal_ds?e.setReserved("polygonal_ds","2.0.1"):e.h.polygonal_ds="2.0.1",null!=t["polygonal-printf"]?e.setReserved("polygonal-printf","1.0.0-beta"):e.h["polygonal-printf"]="1.0.0-beta",null!=t["polygonal-ds"]?e.setReserved("polygonal-ds","2.0.1"):e.h["polygonal-ds"]="2.0.1",null!=t.openfl_html5?e.setReserved("openfl_html5","1"):e.h.openfl_html5="1",null!=t.openfl_enable_handle_error?e.setReserved("openfl_enable_handle_error","1"):e.h.openfl_enable_handle_error="1",null!=t["openfl-html5"]?e.setReserved("openfl-html5","1"):e.h["openfl-html5"]="1",null!=t["openfl-enable-handle-error"]?e.setReserved("openfl-enable-handle-error","1"):e.h["openfl-enable-handle-error"]="1",null!=t.openfl?e.setReserved("openfl","8.9.5"):e.h.openfl="8.9.5",null!=t.no_traces?e.setReserved("no_traces","1"):e.h.no_traces="1",null!=t.no_compilation?e.setReserved("no_compilation","1"):e.h.no_compilation="1",null!=t["no-compilation"]?e.setReserved("no-compilation","1"):e.h["no-compilation"]="1",null!=t.mbs?e.setReserved("mbs","1.0.0"):e.h.mbs="1.0.0",null!=t.lime_webgl?e.setReserved("lime_webgl","1"):e.h.lime_webgl="1",null!=t.lime_html5?e.setReserved("lime_html5","1"):e.h.lime_html5="1",null!=t.lime_howlerjs?e.setReserved("lime_howlerjs","1"):e.h.lime_howlerjs="1",null!=t.lime_dom?e.setReserved("lime_dom","1"):e.h.lime_dom="1",null!=t.lime_canvas?e.setReserved("lime_canvas","1"):e.h.lime_canvas="1",null!=t["lime-webgl"]?e.setReserved("lime-webgl","1"):e.h["lime-webgl"]="1",null!=t["lime-html5"]?e.setReserved("lime-html5","1"):e.h["lime-html5"]="1",null!=t["lime-howlerjs"]?e.setReserved("lime-howlerjs","1"):e.h["lime-howlerjs"]="1",null!=t["lime-dom"]?e.setReserved("lime-dom","1"):e.h["lime-dom"]="1",null!=t["lime-canvas"]?e.setReserved("lime-canvas","1"):e.h["lime-canvas"]="1",null!=t.lime?e.setReserved("lime","7.8.0"):e.h.lime="7.8.0",null!=t.js_es5?e.setReserved("js_es5","1"):e.h.js_es5="1",null!=t.js_es?e.setReserved("js_es","5"):e.h.js_es="5",null!=t["js-es5"]?e.setReserved("js-es5","1"):e.h["js-es5"]="1",null!=t.js?e.setReserved("js","1"):e.h.js="1",null!=t.html5?e.setReserved("html5","1"):e.h.html5="1",null!=t.hscript?e.setReserved("hscript","2.1.1"):e.h.hscript="2.1.1",null!=t.howlerjs?e.setReserved("howlerjs","1"):e.h.howlerjs="1",null!=t.haxe_ver?e.setReserved("haxe_ver","4.002"):e.h.haxe_ver="4.002",null!=t.haxe4?e.setReserved("haxe4","1"):e.h.haxe4="1",null!=t.haxe3?e.setReserved("haxe3","1"):e.h.haxe3="1",null!=t.haxe?e.setReserved("haxe","4.0.2"):e.h.haxe="4.0.2",null!=t.debug_console?e.setReserved("debug_console","0.0.0"):e.h.debug_console="0.0.0",null!=t["debug-console"]?e.setReserved("debug-console","0.0.0"):e.h["debug-console"]="0.0.0",null!=t.debug?e.setReserved("debug","1"):e.h.debug="1",null!=t.dce?e.setReserved("dce","std"):e.h.dce="std",null!=t.cloner?e.setReserved("cloner","1.0.0"):e.h.cloner="1.0.0",null!=t.box2d?e.setReserved("box2d","0.0.0"):e.h.box2d="0.0.0",null!=t.actuate_manual_update?e.setReserved("actuate_manual_update","1"):e.h.actuate_manual_update="1",null!=t.actuate_manual_time?e.setReserved("actuate_manual_time","1"):e.h.actuate_manual_time="1",e}(this),md.TYPE_ADS=1,md.TYPE_PURCHASES=2,md.TYPE_GAMECENTER=3,md.TYPE_KEYBOARD=4,p.__meta__={fields:{getLayer:{deprecated:["Use getLayerById or getLayerByName"]}}},p.DOODAD="",p.INTERNAL_SHIFT="iSHIFT",p.INTERNAL_CTRL="iCTRL",p.INTERNAL_COMMAND="iCOMMAND",p.NO_PHYSICS=!1,p.DEBUG_DRAW=!1,p.IMG_BASE="",p.SCALE=1,p.checkedWideScreen=!1,p.isStandardIOS=!1,p.isExtendedIOS=!1,p.isIPhone6=!1,p.isIPhone6Plus=!1,p.isIPhoneX=!1,p.isIPhoneXMax=!1,p.isIPhoneXR=!1,p.isTabletIOS=!1,p.landscape=!1,p.limitCameraToScene=!0,p.paused=!1,p.started=!1,p.inFocus=!0,p.events=new md,p.ITERATIONS=3,p.physicsScale=10,p.preservePadding=!1,p.paddingLeft=0,p.paddingRight=0,p.paddingTop=0,p.paddingBottom=0,p.STEP_SIZE=10,p.MS_PER_SEC=1e3,p.elapsedTime=0,p.timeScale=1,p.totalElapsedTime=0,p.debug=!1,R.mouseX=0,R.mouseY=0,R.mouseWheelDelta=0,R.multipleGamepadsEnabled=!1,R._enabled=!1,R._key=[],R._controlsToReset=[],R._controlMap=new va,R._keyControlMap=new Va,Ma.ANY=-1,Ma.LEFT=37,Ma.UP=38,Ma.RIGHT=39,Ma.DOWN=40,Ma.ENTER=13,Ma.CONTROL=17,Ma.COMMAND=15,Ma.SPACE=32,Ma.SHIFT=16,Ma.BACKSPACE=8,Ma.CAPS_LOCK=20,Ma.DELETE=46,Ma.END=35,Ma.ESCAPE=27,Ma.HOME=36,Ma.INSERT=45,Ma.TAB=9,Ma.PAGE_DOWN=34,Ma.PAGE_UP=33,Ma.LEFT_SQUARE_BRACKET=219,Ma.RIGHT_SQUARE_BRACKET=221,Ma.A=97,Ma.B=98,Ma.C=99,Ma.D=100,Ma.E=101,Ma.F=102,Ma.G=103,Ma.H=104,Ma.I=105,Ma.J=106,Ma.K=107,Ma.L=108,Ma.M=109,Ma.N=110,Ma.O=111,Ma.P=112,Ma.Q=113,Ma.R=114,Ma.S=115,Ma.T=116,Ma.U=117,Ma.V=118,Ma.W=119,Ma.X=120,Ma.Y=121,Ma.Z=122,Ma.F1=112,Ma.F2=113,Ma.F3=114,Ma.F4=115,Ma.F5=116,Ma.F6=117,Ma.F7=118,Ma.F8=119,Ma.F9=120,Ma.F10=121,Ma.F11=122,Ma.F12=123,Ma.F13=124,Ma.F14=125,Ma.F15=126,Ma.DIGIT_0=48,Ma.DIGIT_1=49,Ma.DIGIT_2=50,Ma.DIGIT_3=51,Ma.DIGIT_4=52,Ma.DIGIT_5=53,Ma.DIGIT_6=54,Ma.DIGIT_7=55,Ma.DIGIT_8=56,Ma.DIGIT_9=57,Ma.NUMPAD_0=96,Ma.NUMPAD_1=97,Ma.NUMPAD_2=98,Ma.NUMPAD_3=99,Ma.NUMPAD_4=100,Ma.NUMPAD_5=101,Ma.NUMPAD_6=102,Ma.NUMPAD_7=103,Ma.NUMPAD_8=104,Ma.NUMPAD_9=105,Ma.NUMPAD_ADD=107,Ma.NUMPAD_DECIMAL=110,Ma.NUMPAD_DIVIDE=111,Ma.NUMPAD_ENTER=108,Ma.NUMPAD_MULTIPLY=106,Ma.NUMPAD_SUBTRACT=109,Ma.keyboardNameMap=function(e){return e=new va,null!=t.NUMBER_0?e.setReserved("NUMBER_0",48):e.h.NUMBER_0=48,null!=t.NUMBER_1?e.setReserved("NUMBER_1",49):e.h.NUMBER_1=49,null!=t.NUMBER_2?e.setReserved("NUMBER_2",50):e.h.NUMBER_2=50,null!=t.NUMBER_3?e.setReserved("NUMBER_3",51):e.h.NUMBER_3=51,null!=t.NUMBER_4?e.setReserved("NUMBER_4",52):e.h.NUMBER_4=52,null!=t.NUMBER_5?e.setReserved("NUMBER_5",53):e.h.NUMBER_5=53,null!=t.NUMBER_6?e.setReserved("NUMBER_6",54):e.h.NUMBER_6=54,null!=t.NUMBER_7?e.setReserved("NUMBER_7",55):e.h.NUMBER_7=55,null!=t.NUMBER_8?e.setReserved("NUMBER_8",56):e.h.NUMBER_8=56,null!=t.NUMBER_9?e.setReserved("NUMBER_9",57):e.h.NUMBER_9=57,null!=t.A?e.setReserved("A",65):e.h.A=65,null!=t.B?e.setReserved("B",66):e.h.B=66,null!=t.C?e.setReserved("C",67):e.h.C=67,null!=t.D?e.setReserved("D",68):e.h.D=68,null!=t.E?e.setReserved("E",69):e.h.E=69,null!=t.F?e.setReserved("F",70):e.h.F=70,null!=t.G?e.setReserved("G",71):e.h.G=71,null!=t.H?e.setReserved("H",72):e.h.H=72,null!=t.I?e.setReserved("I",73):e.h.I=73,null!=t.J?e.setReserved("J",74):e.h.J=74,null!=t.K?e.setReserved("K",75):e.h.K=75,null!=t.L?e.setReserved("L",76):e.h.L=76,null!=t.M?e.setReserved("M",77):e.h.M=77,null!=t.N?e.setReserved("N",78):e.h.N=78,null!=t.O?e.setReserved("O",79):e.h.O=79,null!=t.P?e.setReserved("P",80):e.h.P=80,null!=t.Q?e.setReserved("Q",81):e.h.Q=81,null!=t.R?e.setReserved("R",82):e.h.R=82,null!=t.S?e.setReserved("S",83):e.h.S=83,null!=t.T?e.setReserved("T",84):e.h.T=84,null!=t.U?e.setReserved("U",85):e.h.U=85,null!=t.V?e.setReserved("V",86):e.h.V=86,null!=t.W?e.setReserved("W",87):e.h.W=87,null!=t.X?e.setReserved("X",88):e.h.X=88,null!=t.Y?e.setReserved("Y",89):e.h.Y=89,null!=t.Z?e.setReserved("Z",90):e.h.Z=90,null!=t.NUMPAD_0?e.setReserved("NUMPAD_0",96):e.h.NUMPAD_0=96,null!=t.NUMPAD_1?e.setReserved("NUMPAD_1",97):e.h.NUMPAD_1=97,null!=t.NUMPAD_2?e.setReserved("NUMPAD_2",98):e.h.NUMPAD_2=98,null!=t.NUMPAD_3?e.setReserved("NUMPAD_3",99):e.h.NUMPAD_3=99,null!=t.NUMPAD_4?e.setReserved("NUMPAD_4",100):e.h.NUMPAD_4=100,null!=t.NUMPAD_5?e.setReserved("NUMPAD_5",101):e.h.NUMPAD_5=101,null!=t.NUMPAD_6?e.setReserved("NUMPAD_6",102):e.h.NUMPAD_6=102,null!=t.NUMPAD_7?e.setReserved("NUMPAD_7",103):e.h.NUMPAD_7=103,null!=t.NUMPAD_8?e.setReserved("NUMPAD_8",104):e.h.NUMPAD_8=104,null!=t.NUMPAD_9?e.setReserved("NUMPAD_9",105):e.h.NUMPAD_9=105,null!=t.NUMPAD_MULTIPLY?e.setReserved("NUMPAD_MULTIPLY",106):e.h.NUMPAD_MULTIPLY=106,null!=t.NUMPAD_ADD?e.setReserved("NUMPAD_ADD",107):e.h.NUMPAD_ADD=107,null!=t.NUMPAD_ENTER?e.setReserved("NUMPAD_ENTER",108):e.h.NUMPAD_ENTER=108,null!=t.NUMPAD_SUBTRACT?e.setReserved("NUMPAD_SUBTRACT",109):e.h.NUMPAD_SUBTRACT=109,null!=t.NUMPAD_DECIMAL?e.setReserved("NUMPAD_DECIMAL",110):e.h.NUMPAD_DECIMAL=110,null!=t.NUMPAD_DIVIDE?e.setReserved("NUMPAD_DIVIDE",111):e.h.NUMPAD_DIVIDE=111,null!=t.F1?e.setReserved("F1",112):e.h.F1=112,null!=t.F2?e.setReserved("F2",113):e.h.F2=113,null!=t.F3?e.setReserved("F3",114):e.h.F3=114,null!=t.F4?e.setReserved("F4",115):e.h.F4=115,null!=t.F5?e.setReserved("F5",116):e.h.F5=116,null!=t.F6?e.setReserved("F6",117):e.h.F6=117,null!=t.F7?e.setReserved("F7",118):e.h.F7=118,null!=t.F8?e.setReserved("F8",119):e.h.F8=119,null!=t.F9?e.setReserved("F9",120):e.h.F9=120,null!=t.F10?e.setReserved("F10",121):e.h.F10=121,null!=t.F11?e.setReserved("F11",122):e.h.F11=122,null!=t.F12?e.setReserved("F12",123):e.h.F12=123,null!=t.F13?e.setReserved("F13",124):e.h.F13=124,null!=t.F14?e.setReserved("F14",125):e.h.F14=125,null!=t.F15?e.setReserved("F15",126):e.h.F15=126,null!=t.BACKSPACE?e.setReserved("BACKSPACE",8):e.h.BACKSPACE=8,null!=t.TAB?e.setReserved("TAB",9):e.h.TAB=9,null!=t.ALTERNATE?e.setReserved("ALTERNATE",18):e.h.ALTERNATE=18,null!=t.ENTER?e.setReserved("ENTER",13):e.h.ENTER=13,null!=t.COMMAND?e.setReserved("COMMAND",15):e.h.COMMAND=15,null!=t.SHIFT?e.setReserved("SHIFT",16):e.h.SHIFT=16,null!=t.CONTROL?e.setReserved("CONTROL",17):e.h.CONTROL=17,null!=t.BREAK?e.setReserved("BREAK",19):e.h.BREAK=19,null!=t.CAPS_LOCK?e.setReserved("CAPS_LOCK",20):e.h.CAPS_LOCK=20,null!=t.NUMPAD?e.setReserved("NUMPAD",21):e.h.NUMPAD=21,null!=t.ESCAPE?e.setReserved("ESCAPE",27):e.h.ESCAPE=27,null!=t.SPACE?e.setReserved("SPACE",32):e.h.SPACE=32,null!=t.PAGE_UP?e.setReserved("PAGE_UP",33):e.h.PAGE_UP=33,null!=t.PAGE_DOWN?e.setReserved("PAGE_DOWN",34):e.h.PAGE_DOWN=34,null!=t.END?e.setReserved("END",35):e.h.END=35,null!=t.HOME?e.setReserved("HOME",36):e.h.HOME=36,null!=t.LEFT?e.setReserved("LEFT",37):e.h.LEFT=37,null!=t.RIGHT?e.setReserved("RIGHT",39):e.h.RIGHT=39,null!=t.UP?e.setReserved("UP",38):e.h.UP=38,null!=t.DOWN?e.setReserved("DOWN",40):e.h.DOWN=40,null!=t.INSERT?e.setReserved("INSERT",45):e.h.INSERT=45,null!=t.DELETE?e.setReserved("DELETE",46):e.h.DELETE=46,null!=t.NUMLOCK?e.setReserved("NUMLOCK",144):e.h.NUMLOCK=144,null!=t.SEMICOLON?e.setReserved("SEMICOLON",186):e.h.SEMICOLON=186,null!=t.EQUAL?e.setReserved("EQUAL",187):e.h.EQUAL=187,null!=t.COMMA?e.setReserved("COMMA",188):e.h.COMMA=188,null!=t.MINUS?e.setReserved("MINUS",189):e.h.MINUS=189,null!=t.PERIOD?e.setReserved("PERIOD",190):e.h.PERIOD=190,null!=t.SLASH?e.setReserved("SLASH",191):e.h.SLASH=191,null!=t.BACKQUOTE?e.setReserved("BACKQUOTE",192):e.h.BACKQUOTE=192,null!=t.LEFTBRACKET?e.setReserved("LEFTBRACKET",219):e.h.LEFTBRACKET=219,null!=t.BACKSLASH?e.setReserved("BACKSLASH",220):e.h.BACKSLASH=220,null!=t.RIGHTBRACKET?e.setReserved("RIGHTBRACKET",221):e.h.RIGHTBRACKET=221,null!=t.QUOTE?e.setReserved("QUOTE",222):e.h.QUOTE=222,e}(this),ra.__pool=new Ia(function(){return new ra},function(e){e.setTo(0,0)}),ia.__pool=new Ia(function(){return new ia},function(e){e.setTo(0,0,0,0)}),u.FRONT=0,u.MIDDLE=1,u.BACK=2,u.CHANNELS=32,u.mpx=0,u.mpy=0,u.mrx=0,u.mry=0,u.dummyVec=new K,u.imageApiAutoscale=!0,u.dummyRect=new ia(0,0,1,1),u.dummyPoint=new ra(0,0),u.BASE_64_ENCODINGS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u.BASE_64_PADDING="=",Zh.fieldMaps=new va,bd.AD_USER_OPEN=100,bd.AD_USER_CLOSE=101,bd.AD_LOADED=102,bd.AD_FAILED=103,bd.AD_CLICKED=104,bd.FULL_AD_USER_OPEN=105,bd.FULL_AD_USER_CLOSE=106,bd.FULL_AD_LOADED=107,bd.FULL_AD_FAILED=108,bd.FULL_AD_CLICKED=109,bd.PURCHASE_READY=200,bd.PURCHASE_SUCCESS=201,bd.PURCHASE_FAIL=202,bd.PURCHASE_RESTORE=203,bd.PURCHASE_CANCEL=204,bd.PURCHASE_PRODUCTS_VERIFIED=205,bd.PURCHASE_PRODUCT_VALIDATED=206,bd.GAME_CENTER_READY=300,bd.GAME_CENTER_SCORE=301,bd.GAME_CENTER_ACHIEVEMENT=302,bd.GAME_CENTER_ACHIEVEMENT_RESET=303,bd.GAME_CENTER_READY_FAIL=304,bd.GAME_CENTER_SCORE_FAIL=305,bd.GAME_CENTER_ACHIEVEMENT_FAIL=306,bd.GAME_CENTER_ACHIEVEMENT_RESET_FAIL=307,bd.KEYBOARD_EVENT=400,bd.KEYBOARD_DONE=401,bd.KEYBOARD_SHOW=402,bd.KEYBOARD_HIDE=403,Vm.stringBlendMap=function(e){return e=new va,null!=t.add?e.setReserved("add",0):e.h.add=0,null!=t.alpha?e.setReserved("alpha",1):e.h.alpha=1,null!=t.darken?e.setReserved("darken",2):e.h.darken=2,null!=t.difference?e.setReserved("difference",3):e.h.difference=3,null!=t.erase?e.setReserved("erase",4):e.h.erase=4,null!=t.hardlight?e.setReserved("hardlight",5):e.h.hardlight=5,null!=t.invert?e.setReserved("invert",6):e.h.invert=6,null!=t.lighten?e.setReserved("lighten",8):e.h.lighten=8,null!=t.multiply?e.setReserved("multiply",9):e.h.multiply=9,null!=t.normal?e.setReserved("normal",10):e.h.normal=10,null!=t.overlay?e.setReserved("overlay",11):e.h.overlay=11,null!=t.screen?e.setReserved("screen",12):e.h.screen=12,null!=t.subtract?e.setReserved("subtract",14):e.h.subtract=14,e}(this),eb.drawnStringCache=new va,eb.drawnStringCacheKeys=[],rd.MAX_TEXTURE_CAP=4096,Wd._1X=new Wd(1),Wd._1_5X=new Wd(1.5),Wd._2X=new Wd(2),Wd._3X=new Wd(3),Wd._4X=new Wd(4),Xg.NO_SCALING=0,Xg.FULLSCREEN=1,Xg.STRETCH_TO_FIT=2,Xg.SCALE_TO_FIT_LETTERBOX=3,Xg.SCALE_TO_FIT_FILL=4,Xg.SCALE_TO_FIT_FULLSCREEN=5,Gf._storedFonts=new va,Gf.ZERO_POINT=new ra,$h.fontData=" 36000000000000000000!26101010001000\"46101010100000000000000000#66010100111110010100111110010100000000$56001000111011000001101110000100%66100100000100001000010000010010000000&66011000100000011010100100011010000000'26101000000000(36010100100100010000)36100010010010100000*46000010100100101000000000+46000001001110010000000000,36000000000000010100-46000000001110000000000000.26000000001000/66000010000100001000010000100000000000056011001001010010100100110000000156011000010000100001000010000000256111000001001100100001111000000356111000001001100000101110000000456100101001010010011100001000000556111101000011100000101110000000656011001000011100100100110000000756111000001000010001100001000000856011001001001100100100110000000956011001001010010011100001000000:26001000100000;26001000101000<46001001001000010000100000=46000011100000111000000000>46100001000010010010000000?56111000001001100000000100000000@66011100100010101110101010011100000000A56011001001010010111101001000000B56111001001011100100101110000000C56011001001010000100100110000000D56111001001010010100101110000000E56111101000011000100001111000000F56111101000010000110001000000000G56011001000010110100100111000000H56100101001011110100101001000000I26101010101000J56000100001000010100100110000000K56100101001010010111001001000000L46100010001000100011100000M66100010100010110110101010100010000000N56100101001011010101101001000000O56011001001010010100100110000000P56111001001010010111001000000000Q56011001001010010100100110000010R56111001001010010111001001000000S56011101000001100000101110000000T46111001000100010001000000U56100101001010010100100110000000V56100101001010010101000100000000W66100010100010101010110110100010000000X56100101001001100100101001000000Y56100101001010010011100001001100Z56111100001001100100001111000000[36110100100100110000}46110001000010010011000000]36110010010010110000^46010010100000000000000000_46000000000000000011110000'26101000000000a56000000111010010100100111000000b56100001110010010100101110000000c46000001101000100001100000d56000100111010010100100111000000e56000000110010110110000110000000f46011010001000110010000000g5700000011001001010010011100001001100h56100001110010010100101001000000i26100010101000j37010000010010010010100k56100001001010010111001001000000l26101010101000m66000000111100101010101010101010000000n56000001110010010100101001000000o56000000110010010100100110000000p5700000111001001010010111001000010000q5700000011101001010010011100001000010r46000010101100100010000000s56000000111011000001101110000000t46100011001000100001100000u56000001001010010100100111000000v56000001001010010101000100000000w66000000101010101010101010011110000000x56000001001010010011001001000000y5700000100101001010010011100001001100z56000001111000100010001111000000{46011001001000010001100000|26101010101000}46110001000010010011000000~56010101010000000000000000000000\\46111010101010101011100000",Zp.LEFT=1,Zp.RIGHT=2,Zp.CENTER=3,Ed.CONTEXT_LOST="glcontextlost",Ed.CONTEXT_RESTORED="glcontextrestored",Ed.vertexShader="\n#ifdef GL_ES\n\tprecision mediump float;\n#endif\n\nattribute vec4 aVertex;\n\nattribute vec2 aTexCoord;\nvarying vec2 vTexCoord;\n\nvoid main() {\n\tvTexCoord = aTexCoord;\n\tgl_Position = vec4(aVertex.x, aVertex.y, 0.0, 1.0);\n}",Bb.IN="in",Bb.OUT="out",Bb.THROUGH="through",nf.SLIDE_UP="up",nf.SLIDE_DOWN="down",nf.SLIDE_LEFT="left",nf.SLIDE_RIGHT="right",M.BOOLEAN=new lg("boolean",1),M.INTEGER=new lg("integer",4),M.FLOAT=new lg("float",4),M.STRING=new lg("string",4),M.LIST=new lg("list",4),M.DYNAMIC=new lg("dynamic",8),Ii.basicTypes=function(e){return(e=[]).push(M.BOOLEAN),e.push(M.INTEGER),e.push(M.FLOAT),e.push(M.STRING),e.push(M.LIST),e.push(M.DYNAMIC),Hc.initializeType(),ed.initializeType(),nd.initializeType(),e.push(Hc.MBS_HEADER),e.push(ed.MBS_TYPE_INFO),e.push(nd.MBS_FIELD_INFO),e}(this),Ab.GROUP_OFFSET=1e6,Ab.manifold=new Ik,bc.INHERIT_ID=-1e3,bc.REGION_ID=-2,bc.PLAYER_ID=0,bc.TERRAIN_ID=1,bc.DOODAD_ID=2,bc.ACTOR_ID=3,Ha.fixedCenter=0,Ha.showWherePressed=1,Ha.viewOffsetX=0,Ha.viewOffsetY=0,Ha.initialized=!1,xh.NORMAL_PHYSICS=0,xh.SIMPLE_PHYSICS=1,xh.MINIMAL_PHYSICS=2,Dd.UNSET_ID=-1,Zm.MAX_VERTICES=200,dc.muted=!1,dc.masterVolume=1,vh.UNSET_ID=-1,Ke.allAnimations=[],Fc.recycledCollisions=[],Fc.collisionResponses=new Va,ge.freedCollisionPoints=[],jg.WHITE=-1,jg.TRANSPARENT=-2,ag.infoArray=[],ff.NO_AUTOTILE_DATA=0,ff.CORNER_TL=1,ff.CORNER_TR=2,ff.CORNER_BR=4,ff.CORNER_BL=8,ff.SIDE_L=16,ff.SIDE_T=32,ff.SIDE_R=64,ff.SIDE_B=128,dd.dummyRect=new ia,He.TILESET_CACHE_MULTIPLIER=1e6,He.cacheSource=new Va,He.autotileFlagPointMap=function(e){e=new Va;var i=ff.CORNER_TL,s=new ra(-1,-1);return e.h[i]=s,i=ff.CORNER_TR,s=new ra(1,-1),e.h[i]=s,i=ff.CORNER_BL,s=new ra(-1,1),e.h[i]=s,i=ff.CORNER_BR,s=new ra(1,1),e.h[i]=s,i=ff.SIDE_T,s=new ra(0,-1),e.h[i]=s,i=ff.SIDE_B,s=new ra(0,1),e.h[i]=s,i=ff.SIDE_L,s=new ra(-1,0),e.h[i]=s,i=ff.SIDE_R,s=new ra(1,0),e.h[i]=s,e}(this),Rf.temp=new ia,fd.BLACK=-16777216,fd.WHITE=-1,fd.RED=-65536,fd.GREEN=-16711936,fd.BLUE=-16776961,fd.CYAN=-16711681,fd.MAGENTA=-65281,fd.YELLOW=-256,Wa.LUMA_R=.212671,Wa.LUMA_G=.71516,Wa.LUMA_B=.072169,Wa.LUMA_R2=.3086,Wa.LUMA_G2=.6094,Wa.LUMA_B2=.082,Wa.INV3=.3333333333333333,$d.BLACK=0,$d.WHITE=16777215,$d.RED=16711680,$d.GREEN=65280,$d.BLUE=255,$d.CYAN=65535,$d.MAGENTA=16711935,$d.YELLOW=16776960,Tf.__meta__={fields:{clone:{SuppressWarnings:["checkstyle:FieldDocComment"]}}},di.__identity=new di,Fa.__meta__={fields:{equals:{SuppressWarnings:["checkstyle:FieldDocComment"]},to3DString:{SuppressWarnings:["checkstyle:FieldDocComment"]},toMozString:{SuppressWarnings:["checkstyle:FieldDocComment"]}}},Fa.__identity=new Fa,Fa.__pool=new Ia(function(){return new Fa},function(e){e.identity()}),Fa.__matrix3=new di,Tb.__pool=new Ia(function(){return new Tb},function(e){e.__identity()}),N.INTEGER_MAX=1e8,N.NUMBER_MAX_VALUE=179769313486231e294,N.blackColor=-16777216,N.rate=1,N.camera=new ra,N.cloner=new Up,N._bitmap=new va,N._seed=0,N._volume=1,N._pan=0,N._soundTransform=new Tf,N.DEG=57.29577951308402,N.RAD=.01745329251994278,N.point=new ra,N.point2=new ra,N.zero=new ra,N.rect=new ia,N.matrix=new Fa,N.sprite=new qa,N.collision=new Fc,sb.linear=new zn,sb.sineIn=new Mn,sb.sineOut=new On,sb.sineInOut=new Nn,sb.sineOutIn=new Pn,sb.quadIn=new An,sb.quadOut=new Cn,sb.quadInOut=new Bn,sb.quadOutIn=new Dn,sb.cubicIn=new nn,sb.cubicOut=new pn,sb.cubicInOut=new on,sb.cubicOutIn=new qn,sb.quartIn=new En,sb.quartOut=new Gn,sb.quartInOut=new Fn,sb.quartOutIn=new Hn,sb.quintIn=new In,sb.quintOut=new Kn,sb.quintInOut=new Jn,sb.quintOutIn=new Ln,sb.expoIn=new vn,sb.expoOut=new xn,sb.expoInOut=new wn,sb.expoOutIn=new yn,sb.circIn=new jn,sb.circOut=new ln,sb.circInOut=new kn,sb.circOutIn=new mn,sb.bounceIn=new en,sb.bounceOut=new gn,sb.bounceInOut=new fn,sb.bounceOutIn=new hn,sb.backIn=new an,sb.backOut=new cn,sb.backInOut=new bn,sb.backOutIn=new dn,sb.elasticIn=new rn,sb.elasticOut=new tn,sb.elasticInOut=new sn,sb.elasticOutIn=new un,sb.warpOut=new Sn,sb.warpIn=new Qn,sb.warpInOut=new Rn,sb.warpOutIn=new Tn,Ki.PI=3.141592653589793,Ki.PI_H=1.5707963267948966,Ki.LN_2=.6931471805599453,Ki.LN_2_10=6.931471805599453,Ki.overshoot=1.70158,Ki.amplitude=1,Ki.period=3e-4,Eb.activeObjects=[],Eb.finishedObjects=[],Me.USE_CACHE=!1,Me.USE_ENUM_INDEX=!1,Me.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:",Ue.DEFAULT_RESOLVER=new Xn,Ue.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:",fi.CHARS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fi.BYTES=bb.ofString(fi.CHARS),re.i64tmp=new Qb(0,0),re.helper=new DataView(new ArrayBuffer(8)),Ph.escapes=function(e){return e=new va,null!=t.lt?e.setReserved("lt","<"):e.h.lt="<",null!=t.gt?e.setReserved("gt",">"):e.h.gt=">",null!=t.amp?e.setReserved("amp","&"):e.h.amp="&",null!=t.quot?e.setReserved("quot",'"'):e.h.quot='"',null!=t.apos?e.setReserved("apos","'"):e.h.apos="'",e}(this),Ve.LEN_EXTRA_BITS_TBL=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,-1,-1],Ve.LEN_BASE_VAL_TBL=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Ve.DIST_EXTRA_BITS_TBL=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,-1,-1],Ve.DIST_BASE_VAL_TBL=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],Ve.CODE_LENGTHS_POS=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],hi.p1=0,hi.readPos=0,hi.tokenMin=0,hi.tokenMax=0,Ta.OPTION_REVOKE_URL=1,Ta.activeRequests=0,Ta.requestLimit=17,Ta.requestQueue=new ib,vb.dummyCharacter="\x7f",vb.windowID=0,og.DICTIONARY="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),og.EXTENDED_DICTIONARY=function(e){e=[];for(var i=0,s=og.DICTIONARY;i<s.length;){var n=s[i];++i;for(var o=0,l=og.DICTIONARY;o<l.length;){var _=l[o];++o,e.push(n+_)}}return e}(this),zf.MUL_TABLE=[1,171,205,293,57,373,79,137,241,27,391,357,41,19,283,265,497,469,443,421,25,191,365,349,335,161,155,149,9,278,269,261,505,245,475,231,449,437,213,415,405,395,193,377,369,361,353,345,169,331,325,319,313,307,301,37,145,285,281,69,271,267,263,259,509,501,493,243,479,118,465,459,113,446,55,435,429,423,209,413,51,403,199,393,97,3,379,375,371,367,363,359,355,351,347,43,85,337,333,165,327,323,5,317,157,311,77,305,303,75,297,294,73,289,287,71,141,279,277,275,68,135,67,133,33,262,260,129,511,507,503,499,495,491,61,121,481,477,237,235,467,232,115,457,227,451,7,445,221,439,218,433,215,427,425,211,419,417,207,411,409,203,202,401,399,396,197,49,389,387,385,383,95,189,47,187,93,185,23,183,91,181,45,179,89,177,11,175,87,173,345,343,341,339,337,21,167,83,331,329,327,163,81,323,321,319,159,79,315,313,39,155,309,307,153,305,303,151,75,299,149,37,295,147,73,291,145,289,287,143,285,71,141,281,35,279,139,69,275,137,273,17,271,135,269,267,133,265,33,263,131,261,130,259,129,257,1],zf.SHG_TABLE=[0,9,10,11,9,12,10,11,12,9,13,13,10,9,13,13,14,14,14,14,10,13,14,14,14,13,13,13,9,14,14,14,15,14,15,14,15,15,14,15,15,15,14,15,15,15,15,15,14,15,15,15,15,15,15,12,14,15,15,13,15,15,15,15,16,16,16,15,16,14,16,16,14,16,13,16,16,16,15,16,13,16,15,16,14,9,16,16,16,16,16,16,16,16,16,13,14,16,16,15,16,16,10,16,15,16,14,16,16,14,16,16,14,16,16,14,15,16,16,16,14,15,14,15,13,16,16,15,17,17,17,17,17,17,14,15,17,17,16,16,17,16,15,17,16,17,11,17,16,17,16,17,16,17,17,16,17,17,16,17,17,16,16,17,17,17,16,14,17,17,17,17,15,16,14,16,15,16,13,16,15,16,14,16,15,16,12,16,15,16,17,17,17,17,17,13,16,15,17,17,17,16,15,17,17,17,16,15,17,17,14,16,17,17,16,17,17,16,15,17,16,14,17,16,15,17,16,17,17,16,17,15,16,17,14,17,16,15,17,16,17,13,17,16,17,17,16,17,14,17,16,17,16,17,16,17,9],qg.minCodePoint=0,qg.maxCodePoint=1114111,qg.minHighSurrogate=55296,qg.maxHighSurrogate=56319,qg.minLowSurrogate=56320,qg.maxLowSurrogate=57343,Sq.FT_LOAD_FORCE_AUTOHINT=32,q.DEPTH_BUFFER_BIT=256,q.STENCIL_BUFFER_BIT=1024,q.COLOR_BUFFER_BIT=16384,q.POINTS=0,q.LINES=1,q.LINE_LOOP=2,q.LINE_STRIP=3,q.TRIANGLES=4,q.TRIANGLE_STRIP=5,q.TRIANGLE_FAN=6,q.ZERO=0,q.ONE=1,q.SRC_COLOR=768,q.ONE_MINUS_SRC_COLOR=769,q.SRC_ALPHA=770,q.ONE_MINUS_SRC_ALPHA=771,q.DST_ALPHA=772,q.ONE_MINUS_DST_ALPHA=773,q.DST_COLOR=774,q.ONE_MINUS_DST_COLOR=775,q.SRC_ALPHA_SATURATE=776,q.FUNC_ADD=32774,q.BLEND_EQUATION=32777,q.BLEND_EQUATION_RGB=32777,q.BLEND_EQUATION_ALPHA=34877,q.FUNC_SUBTRACT=32778,q.FUNC_REVERSE_SUBTRACT=32779,q.BLEND_DST_RGB=32968,q.BLEND_SRC_RGB=32969,q.BLEND_DST_ALPHA=32970,q.BLEND_SRC_ALPHA=32971,q.CONSTANT_COLOR=32769,q.ONE_MINUS_CONSTANT_COLOR=32770,q.CONSTANT_ALPHA=32771,q.ONE_MINUS_CONSTANT_ALPHA=32772,q.BLEND_COLOR=32773,q.ARRAY_BUFFER=34962,q.ELEMENT_ARRAY_BUFFER=34963,q.ARRAY_BUFFER_BINDING=34964,q.ELEMENT_ARRAY_BUFFER_BINDING=34965,q.STREAM_DRAW=35040,q.STATIC_DRAW=35044,q.DYNAMIC_DRAW=35048,q.BUFFER_SIZE=34660,q.BUFFER_USAGE=34661,q.CURRENT_VERTEX_ATTRIB=34342,q.FRONT=1028,q.BACK=1029,q.FRONT_AND_BACK=1032,q.CULL_FACE=2884,q.BLEND=3042,q.DITHER=3024,q.STENCIL_TEST=2960,q.DEPTH_TEST=2929,q.SCISSOR_TEST=3089,q.POLYGON_OFFSET_FILL=32823,q.SAMPLE_ALPHA_TO_COVERAGE=32926,q.SAMPLE_COVERAGE=32928,q.NO_ERROR=0,q.INVALID_ENUM=1280,q.INVALID_VALUE=1281,q.INVALID_OPERATION=1282,q.OUT_OF_MEMORY=1285,q.CW=2304,q.CCW=2305,q.LINE_WIDTH=2849,q.ALIASED_POINT_SIZE_RANGE=33901,q.ALIASED_LINE_WIDTH_RANGE=33902,q.CULL_FACE_MODE=2885,q.FRONT_FACE=2886,q.DEPTH_RANGE=2928,q.DEPTH_WRITEMASK=2930,q.DEPTH_CLEAR_VALUE=2931,q.DEPTH_FUNC=2932,q.STENCIL_CLEAR_VALUE=2961,q.STENCIL_FUNC=2962,q.STENCIL_FAIL=2964,q.STENCIL_PASS_DEPTH_FAIL=2965,q.STENCIL_PASS_DEPTH_PASS=2966,q.STENCIL_REF=2967,q.STENCIL_VALUE_MASK=2963,q.STENCIL_WRITEMASK=2968,q.STENCIL_BACK_FUNC=34816,q.STENCIL_BACK_FAIL=34817,q.STENCIL_BACK_PASS_DEPTH_FAIL=34818,q.STENCIL_BACK_PASS_DEPTH_PASS=34819,q.STENCIL_BACK_REF=36003,q.STENCIL_BACK_VALUE_MASK=36004,q.STENCIL_BACK_WRITEMASK=36005,q.VIEWPORT=2978,q.SCISSOR_BOX=3088,q.COLOR_CLEAR_VALUE=3106,q.COLOR_WRITEMASK=3107,q.UNPACK_ALIGNMENT=3317,q.PACK_ALIGNMENT=3333,q.MAX_TEXTURE_SIZE=3379,q.MAX_VIEWPORT_DIMS=3386,q.SUBPIXEL_BITS=3408,q.RED_BITS=3410,q.GREEN_BITS=3411,q.BLUE_BITS=3412,q.ALPHA_BITS=3413,q.DEPTH_BITS=3414,q.STENCIL_BITS=3415,q.POLYGON_OFFSET_UNITS=10752,q.POLYGON_OFFSET_FACTOR=32824,q.TEXTURE_BINDING_2D=32873,q.SAMPLE_BUFFERS=32936,q.SAMPLES=32937,q.SAMPLE_COVERAGE_VALUE=32938,q.SAMPLE_COVERAGE_INVERT=32939,q.NUM_COMPRESSED_TEXTURE_FORMATS=34466,q.COMPRESSED_TEXTURE_FORMATS=34467,q.DONT_CARE=4352,q.FASTEST=4353,q.NICEST=4354,q.GENERATE_MIPMAP_HINT=33170,q.BYTE=5120,q.UNSIGNED_BYTE=5121,q.SHORT=5122,q.UNSIGNED_SHORT=5123,q.INT=5124,q.UNSIGNED_INT=5125,q.FLOAT=5126,q.DEPTH_COMPONENT=6402,q.ALPHA=6406,q.RGB=6407,q.RGBA=6408,q.LUMINANCE=6409,q.LUMINANCE_ALPHA=6410,q.UNSIGNED_SHORT_4_4_4_4=32819,q.UNSIGNED_SHORT_5_5_5_1=32820,q.UNSIGNED_SHORT_5_6_5=33635,q.FRAGMENT_SHADER=35632,q.VERTEX_SHADER=35633,q.MAX_VERTEX_ATTRIBS=34921,q.MAX_VERTEX_UNIFORM_VECTORS=36347,q.MAX_VARYING_VECTORS=36348,q.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661,q.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660,q.MAX_TEXTURE_IMAGE_UNITS=34930,q.MAX_FRAGMENT_UNIFORM_VECTORS=36349,q.SHADER_TYPE=35663,q.DELETE_STATUS=35712,q.LINK_STATUS=35714,q.VALIDATE_STATUS=35715,q.ATTACHED_SHADERS=35717,q.ACTIVE_UNIFORMS=35718,q.ACTIVE_ATTRIBUTES=35721,q.SHADING_LANGUAGE_VERSION=35724,q.CURRENT_PROGRAM=35725,q.NEVER=512,q.LESS=513,q.EQUAL=514,q.LEQUAL=515,q.GREATER=516,q.NOTEQUAL=517,q.GEQUAL=518,q.ALWAYS=519,q.KEEP=7680,q.REPLACE=7681,q.INCR=7682,q.DECR=7683,q.INVERT=5386,q.INCR_WRAP=34055,q.DECR_WRAP=34056,q.VENDOR=7936,q.RENDERER=7937,q.VERSION=7938,q.EXTENSIONS=7939,q.NEAREST=9728,q.LINEAR=9729,q.NEAREST_MIPMAP_NEAREST=9984,q.LINEAR_MIPMAP_NEAREST=9985,q.NEAREST_MIPMAP_LINEAR=9986,q.LINEAR_MIPMAP_LINEAR=9987,q.TEXTURE_MAG_FILTER=10240,q.TEXTURE_MIN_FILTER=10241,q.TEXTURE_WRAP_S=10242,q.TEXTURE_WRAP_T=10243,q.TEXTURE_2D=3553,q.TEXTURE=5890,q.TEXTURE_CUBE_MAP=34067,q.TEXTURE_BINDING_CUBE_MAP=34068,q.TEXTURE_CUBE_MAP_POSITIVE_X=34069,q.TEXTURE_CUBE_MAP_NEGATIVE_X=34070,q.TEXTURE_CUBE_MAP_POSITIVE_Y=34071,q.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072,q.TEXTURE_CUBE_MAP_POSITIVE_Z=34073,q.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074,q.MAX_CUBE_MAP_TEXTURE_SIZE=34076,q.TEXTURE0=33984,q.TEXTURE1=33985,q.TEXTURE2=33986,q.TEXTURE3=33987,q.TEXTURE4=33988,q.TEXTURE5=33989,q.TEXTURE6=33990,q.TEXTURE7=33991,q.TEXTURE8=33992,q.TEXTURE9=33993,q.TEXTURE10=33994,q.TEXTURE11=33995,q.TEXTURE12=33996,q.TEXTURE13=33997,q.TEXTURE14=33998,q.TEXTURE15=33999,q.TEXTURE16=34e3,q.TEXTURE17=34001,q.TEXTURE18=34002,q.TEXTURE19=34003,q.TEXTURE20=34004,q.TEXTURE21=34005,q.TEXTURE22=34006,q.TEXTURE23=34007,q.TEXTURE24=34008,q.TEXTURE25=34009,q.TEXTURE26=34010,q.TEXTURE27=34011,q.TEXTURE28=34012,q.TEXTURE29=34013,q.TEXTURE30=34014,q.TEXTURE31=34015,q.ACTIVE_TEXTURE=34016,q.REPEAT=10497,q.CLAMP_TO_EDGE=33071,q.MIRRORED_REPEAT=33648,q.FLOAT_VEC2=35664,q.FLOAT_VEC3=35665,q.FLOAT_VEC4=35666,q.INT_VEC2=35667,q.INT_VEC3=35668,q.INT_VEC4=35669,q.BOOL=35670,q.BOOL_VEC2=35671,q.BOOL_VEC3=35672,q.BOOL_VEC4=35673,q.FLOAT_MAT2=35674,q.FLOAT_MAT3=35675,q.FLOAT_MAT4=35676,q.SAMPLER_2D=35678,q.SAMPLER_CUBE=35680,q.VERTEX_ATTRIB_ARRAY_ENABLED=34338,q.VERTEX_ATTRIB_ARRAY_SIZE=34339,q.VERTEX_ATTRIB_ARRAY_STRIDE=34340,q.VERTEX_ATTRIB_ARRAY_TYPE=34341,q.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922,q.VERTEX_ATTRIB_ARRAY_POINTER=34373,q.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975,q.IMPLEMENTATION_COLOR_READ_TYPE=35738,q.IMPLEMENTATION_COLOR_READ_FORMAT=35739,q.VERTEX_PROGRAM_POINT_SIZE=34370,q.POINT_SPRITE=34913,q.COMPILE_STATUS=35713,q.LOW_FLOAT=36336,q.MEDIUM_FLOAT=36337,q.HIGH_FLOAT=36338,q.LOW_INT=36339,q.MEDIUM_INT=36340,q.HIGH_INT=36341,q.FRAMEBUFFER=36160,q.RENDERBUFFER=36161,q.RGBA4=32854,q.RGB5_A1=32855,q.RGB565=36194,q.DEPTH_COMPONENT16=33189,q.STENCIL_INDEX=6401,q.STENCIL_INDEX8=36168,q.DEPTH_STENCIL=34041,q.RENDERBUFFER_WIDTH=36162,q.RENDERBUFFER_HEIGHT=36163,q.RENDERBUFFER_INTERNAL_FORMAT=36164,q.RENDERBUFFER_RED_SIZE=36176,q.RENDERBUFFER_GREEN_SIZE=36177,q.RENDERBUFFER_BLUE_SIZE=36178,q.RENDERBUFFER_ALPHA_SIZE=36179,q.RENDERBUFFER_DEPTH_SIZE=36180,q.RENDERBUFFER_STENCIL_SIZE=36181,q.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048,q.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049,q.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050,q.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051,q.COLOR_ATTACHMENT0=36064,q.DEPTH_ATTACHMENT=36096,q.STENCIL_ATTACHMENT=36128,q.DEPTH_STENCIL_ATTACHMENT=33306,q.NONE=0,q.FRAMEBUFFER_COMPLETE=36053,q.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054,q.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055,q.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057,q.FRAMEBUFFER_UNSUPPORTED=36061,q.FRAMEBUFFER_BINDING=36006,q.RENDERBUFFER_BINDING=36007,q.MAX_RENDERBUFFER_SIZE=34024,q.INVALID_FRAMEBUFFER_OPERATION=1286,q.UNPACK_FLIP_Y_WEBGL=37440,q.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441,q.CONTEXT_LOST_WEBGL=37442,q.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443,q.BROWSER_DEFAULT_WEBGL=37444,q.READ_BUFFER=3074,q.UNPACK_ROW_LENGTH=3314,q.UNPACK_SKIP_ROWS=3315,q.UNPACK_SKIP_PIXELS=3316,q.PACK_ROW_LENGTH=3330,q.PACK_SKIP_ROWS=3331,q.PACK_SKIP_PIXELS=3332,q.TEXTURE_BINDING_3D=32874,q.UNPACK_SKIP_IMAGES=32877,q.UNPACK_IMAGE_HEIGHT=32878,q.MAX_3D_TEXTURE_SIZE=32883,q.MAX_ELEMENTS_VERTICES=33e3,q.MAX_ELEMENTS_INDICES=33001,q.MAX_TEXTURE_LOD_BIAS=34045,q.MAX_FRAGMENT_UNIFORM_COMPONENTS=35657,q.MAX_VERTEX_UNIFORM_COMPONENTS=35658,q.MAX_ARRAY_TEXTURE_LAYERS=35071,q.MIN_PROGRAM_TEXEL_OFFSET=35076,q.MAX_PROGRAM_TEXEL_OFFSET=35077,q.MAX_VARYING_COMPONENTS=35659,q.FRAGMENT_SHADER_DERIVATIVE_HINT=35723,q.RASTERIZER_DISCARD=35977,q.VERTEX_ARRAY_BINDING=34229,q.MAX_VERTEX_OUTPUT_COMPONENTS=37154,q.MAX_FRAGMENT_INPUT_COMPONENTS=37157,q.MAX_SERVER_WAIT_TIMEOUT=37137,q.MAX_ELEMENT_INDEX=36203,q.RED=6403,q.RGB8=32849,q.RGBA8=32856,q.RGB10_A2=32857,q.TEXTURE_3D=32879,q.TEXTURE_WRAP_R=32882,q.TEXTURE_MIN_LOD=33082,q.TEXTURE_MAX_LOD=33083,q.TEXTURE_BASE_LEVEL=33084,q.TEXTURE_MAX_LEVEL=33085,q.TEXTURE_COMPARE_MODE=34892,q.TEXTURE_COMPARE_FUNC=34893,q.SRGB=35904,q.SRGB8=35905,q.SRGB8_ALPHA8=35907,q.COMPARE_REF_TO_TEXTURE=34894,q.RGBA32F=34836,q.RGB32F=34837,q.RGBA16F=34842,q.RGB16F=34843,q.TEXTURE_2D_ARRAY=35866,q.TEXTURE_BINDING_2D_ARRAY=35869,q.R11F_G11F_B10F=35898,q.RGB9_E5=35901,q.RGBA32UI=36208,q.RGB32UI=36209,q.RGBA16UI=36214,q.RGB16UI=36215,q.RGBA8UI=36220,q.RGB8UI=36221,q.RGBA32I=36226,q.RGB32I=36227,q.RGBA16I=36232,q.RGB16I=36233,q.RGBA8I=36238,q.RGB8I=36239,q.RED_INTEGER=36244,q.RGB_INTEGER=36248,q.RGBA_INTEGER=36249,q.R8=33321,q.RG8=33323,q.R16F=33325,q.R32F=33326,q.RG16F=33327,q.RG32F=33328,q.R8I=33329,q.R8UI=33330,q.R16I=33331,q.R16UI=33332,q.R32I=33333,q.R32UI=33334,q.RG8I=33335,q.RG8UI=33336,q.RG16I=33337,q.RG16UI=33338,q.RG32I=33339,q.RG32UI=33340,q.R8_SNORM=36756,q.RG8_SNORM=36757,q.RGB8_SNORM=36758,q.RGBA8_SNORM=36759,q.RGB10_A2UI=36975,q.TEXTURE_IMMUTABLE_FORMAT=37167,q.TEXTURE_IMMUTABLE_LEVELS=33503,q.UNSIGNED_INT_2_10_10_10_REV=33640,q.UNSIGNED_INT_10F_11F_11F_REV=35899,q.UNSIGNED_INT_5_9_9_9_REV=35902,q.FLOAT_32_UNSIGNED_INT_24_8_REV=36269,q.UNSIGNED_INT_24_8=34042,q.HALF_FLOAT=5131,q.RG=33319,q.RG_INTEGER=33320,q.INT_2_10_10_10_REV=36255,q.CURRENT_QUERY=34917,q.QUERY_RESULT=34918,q.QUERY_RESULT_AVAILABLE=34919,q.ANY_SAMPLES_PASSED=35887,q.ANY_SAMPLES_PASSED_CONSERVATIVE=36202,q.MAX_DRAW_BUFFERS=34852,q.DRAW_BUFFER0=34853,q.DRAW_BUFFER1=34854,q.DRAW_BUFFER2=34855,q.DRAW_BUFFER3=34856,q.DRAW_BUFFER4=34857,q.DRAW_BUFFER5=34858,q.DRAW_BUFFER6=34859,q.DRAW_BUFFER7=34860,q.DRAW_BUFFER8=34861,q.DRAW_BUFFER9=34862,q.DRAW_BUFFER10=34863,q.DRAW_BUFFER11=34864,q.DRAW_BUFFER12=34865,q.DRAW_BUFFER13=34866,q.DRAW_BUFFER14=34867,q.DRAW_BUFFER15=34868,q.MAX_COLOR_ATTACHMENTS=36063,q.COLOR_ATTACHMENT1=36065,q.COLOR_ATTACHMENT2=36066,q.COLOR_ATTACHMENT3=36067,q.COLOR_ATTACHMENT4=36068,q.COLOR_ATTACHMENT5=36069,q.COLOR_ATTACHMENT6=36070,q.COLOR_ATTACHMENT7=36071,q.COLOR_ATTACHMENT8=36072,q.COLOR_ATTACHMENT9=36073,q.COLOR_ATTACHMENT10=36074,q.COLOR_ATTACHMENT11=36075,q.COLOR_ATTACHMENT12=36076,q.COLOR_ATTACHMENT13=36077,q.COLOR_ATTACHMENT14=36078,q.COLOR_ATTACHMENT15=36079,q.SAMPLER_3D=35679,q.SAMPLER_2D_SHADOW=35682,q.SAMPLER_2D_ARRAY=36289,q.SAMPLER_2D_ARRAY_SHADOW=36292,q.SAMPLER_CUBE_SHADOW=36293,q.INT_SAMPLER_2D=36298,q.INT_SAMPLER_3D=36299,q.INT_SAMPLER_CUBE=36300,q.INT_SAMPLER_2D_ARRAY=36303,q.UNSIGNED_INT_SAMPLER_2D=36306,q.UNSIGNED_INT_SAMPLER_3D=36307,q.UNSIGNED_INT_SAMPLER_CUBE=36308,q.UNSIGNED_INT_SAMPLER_2D_ARRAY=36311,q.MAX_SAMPLES=36183,q.SAMPLER_BINDING=35097,q.PIXEL_PACK_BUFFER=35051,q.PIXEL_UNPACK_BUFFER=35052,q.PIXEL_PACK_BUFFER_BINDING=35053,q.PIXEL_UNPACK_BUFFER_BINDING=35055,q.COPY_READ_BUFFER=36662,q.COPY_WRITE_BUFFER=36663,q.COPY_READ_BUFFER_BINDING=36662,q.COPY_WRITE_BUFFER_BINDING=36663,q.FLOAT_MAT2x3=35685,q.FLOAT_MAT2x4=35686,q.FLOAT_MAT3x2=35687,q.FLOAT_MAT3x4=35688,q.FLOAT_MAT4x2=35689,q.FLOAT_MAT4x3=35690,q.UNSIGNED_INT_VEC2=36294,q.UNSIGNED_INT_VEC3=36295,q.UNSIGNED_INT_VEC4=36296,q.UNSIGNED_NORMALIZED=35863,q.SIGNED_NORMALIZED=36764,q.VERTEX_ATTRIB_ARRAY_INTEGER=35069,q.VERTEX_ATTRIB_ARRAY_DIVISOR=35070,q.TRANSFORM_FEEDBACK_BUFFER_MODE=35967,q.MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS=35968,q.TRANSFORM_FEEDBACK_VARYINGS=35971,q.TRANSFORM_FEEDBACK_BUFFER_START=35972,q.TRANSFORM_FEEDBACK_BUFFER_SIZE=35973,q.TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN=35976,q.MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS=35978,q.MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS=35979,q.INTERLEAVED_ATTRIBS=35980,q.SEPARATE_ATTRIBS=35981,q.TRANSFORM_FEEDBACK_BUFFER=35982,q.TRANSFORM_FEEDBACK_BUFFER_BINDING=35983,q.TRANSFORM_FEEDBACK=36386,q.TRANSFORM_FEEDBACK_PAUSED=36387,q.TRANSFORM_FEEDBACK_ACTIVE=36388,q.TRANSFORM_FEEDBACK_BINDING=36389,q.FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING=33296,q.FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE=33297,q.FRAMEBUFFER_ATTACHMENT_RED_SIZE=33298,q.FRAMEBUFFER_ATTACHMENT_GREEN_SIZE=33299,q.FRAMEBUFFER_ATTACHMENT_BLUE_SIZE=33300,q.FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE=33301,q.FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE=33302,q.FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE=33303,q.FRAMEBUFFER_DEFAULT=33304,q.DEPTH24_STENCIL8=35056,q.DRAW_FRAMEBUFFER_BINDING=36006,q.READ_FRAMEBUFFER=36008,q.DRAW_FRAMEBUFFER=36009,q.READ_FRAMEBUFFER_BINDING=36010,q.RENDERBUFFER_SAMPLES=36011,q.FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER=36052,q.FRAMEBUFFER_INCOMPLETE_MULTISAMPLE=36182,q.UNIFORM_BUFFER=35345,q.UNIFORM_BUFFER_BINDING=35368,q.UNIFORM_BUFFER_START=35369,q.UNIFORM_BUFFER_SIZE=35370,q.MAX_VERTEX_UNIFORM_BLOCKS=35371,q.MAX_FRAGMENT_UNIFORM_BLOCKS=35373,q.MAX_COMBINED_UNIFORM_BLOCKS=35374,q.MAX_UNIFORM_BUFFER_BINDINGS=35375,q.MAX_UNIFORM_BLOCK_SIZE=35376,q.MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS=35377,q.MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS=35379,q.UNIFORM_BUFFER_OFFSET_ALIGNMENT=35380,q.ACTIVE_UNIFORM_BLOCKS=35382,q.UNIFORM_TYPE=35383,q.UNIFORM_SIZE=35384,q.UNIFORM_BLOCK_INDEX=35386,q.UNIFORM_OFFSET=35387,q.UNIFORM_ARRAY_STRIDE=35388,q.UNIFORM_MATRIX_STRIDE=35389,q.UNIFORM_IS_ROW_MAJOR=35390,q.UNIFORM_BLOCK_BINDING=35391,q.UNIFORM_BLOCK_DATA_SIZE=35392,q.UNIFORM_BLOCK_ACTIVE_UNIFORMS=35394,q.UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES=35395,q.UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER=35396,q.UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER=35398,q.OBJECT_TYPE=37138,q.SYNC_CONDITION=37139,q.SYNC_STATUS=37140,q.SYNC_FLAGS=37141,q.SYNC_FENCE=37142,q.SYNC_GPU_COMMANDS_COMPLETE=37143,q.UNSIGNALED=37144,q.SIGNALED=37145,q.ALREADY_SIGNALED=37146,q.TIMEOUT_EXPIRED=37147,q.CONDITION_SATISFIED=37148,q.WAIT_FAILED=37149,q.SYNC_FLUSH_COMMANDS_BIT=1,q.COLOR=6144,q.DEPTH=6145,q.STENCIL=6146,q.MIN=32775,q.MAX=32776,q.DEPTH_COMPONENT24=33190,q.STREAM_READ=35041,q.STREAM_COPY=35042,q.STATIC_READ=35045,q.STATIC_COPY=35046,q.DYNAMIC_READ=35049,q.DYNAMIC_COPY=35050,q.DEPTH_COMPONENT32F=36012,q.DEPTH32F_STENCIL8=36013,q.INVALID_INDEX=-1,q.TIMEOUT_IGNORED=-1,q.MAX_CLIENT_WAIT_TIMEOUT_WEBGL=37447,Db.__identity=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],oa.__identity=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],Mc.audioSources=[],Mc.sourcesToRemove=[],jl.ID=0,H.NONE=0,H.FALSE=0,H.TRUE=1,H.SOURCE_RELATIVE=514,H.CONE_INNER_ANGLE=4097,H.CONE_OUTER_ANGLE=4098,H.PITCH=4099,H.POSITION=4100,H.DIRECTION=4101,H.VELOCITY=4102,H.LOOPING=4103,H.BUFFER=4105,H.GAIN=4106,H.MIN_GAIN=4109,H.MAX_GAIN=4110,H.ORIENTATION=4111,H.SOURCE_STATE=4112,H.INITIAL=4113,H.PLAYING=4114,H.PAUSED=4115,H.STOPPED=4116,H.BUFFERS_QUEUED=4117,H.BUFFERS_PROCESSED=4118,H.REFERENCE_DISTANCE=4128,H.ROLLOFF_FACTOR=4129,H.CONE_OUTER_GAIN=4130,H.MAX_DISTANCE=4131,H.SEC_OFFSET=4132,H.SAMPLE_OFFSET=4133,H.BYTE_OFFSET=4134,H.SOURCE_TYPE=4135,H.STATIC=4136,H.STREAMING=4137,H.UNDETERMINED=4144,H.FORMAT_MONO8=4352,H.FORMAT_MONO16=4353,H.FORMAT_STEREO8=4354,H.FORMAT_STEREO16=4355,H.FREQUENCY=8193,H.BITS=8194,H.CHANNELS=8195,H.SIZE=8196,H.NO_ERROR=0,H.INVALID_NAME=40961,H.INVALID_ENUM=40962,H.INVALID_VALUE=40963,H.INVALID_OPERATION=40964,H.OUT_OF_MEMORY=40965,H.VENDOR=45057,H.VERSION=45058,H.RENDERER=45059,H.EXTENSIONS=45060,H.DOPPLER_FACTOR=49152,H.SPEED_OF_SOUND=49155,H.DOPPLER_VELOCITY=49153,H.DISTANCE_MODEL=53248,H.INVERSE_DISTANCE=53249,H.INVERSE_DISTANCE_CLAMPED=53250,H.LINEAR_DISTANCE=53251,H.LINEAR_DISTANCE_CLAMPED=53252,H.EXPONENT_DISTANCE=53253,H.EXPONENT_DISTANCE_CLAMPED=53254,H.METERS_PER_UNIT=131076,H.DIRECT_FILTER=131077,H.AUXILIARY_SEND_FILTER=131078,H.AIR_ABSORPTION_FACTOR=131079,H.ROOM_ROLLOFF_FACTOR=131080,H.CONE_OUTER_GAINHF=131081,H.DIRECT_FILTER_GAINHF_AUTO=131082,H.AUXILIARY_SEND_FILTER_GAIN_AUTO=131083,H.AUXILIARY_SEND_FILTER_GAINHF_AUTO=131084,H.REVERB_DENSITY=1,H.REVERB_DIFFUSION=2,H.REVERB_GAIN=3,H.REVERB_GAINHF=4,H.REVERB_DECAY_TIME=5,H.REVERB_DECAY_HFRATIO=6,H.REVERB_REFLECTIONS_GAIN=7,H.REVERB_REFLECTIONS_DELAY=8,H.REVERB_LATE_REVERB_GAIN=9,H.REVERB_LATE_REVERB_DELAY=10,H.REVERB_AIR_ABSORPTION_GAINHF=11,H.REVERB_ROOM_ROLLOFF_FACTOR=12,H.REVERB_DECAY_HFLIMIT=13,H.EAXREVERB_DENSITY=1,H.EAXREVERB_DIFFUSION=2,H.EAXREVERB_GAIN=3,H.EAXREVERB_GAINHF=4,H.EAXREVERB_GAINLF=5,H.EAXREVERB_DECAY_TIME=6,H.EAXREVERB_DECAY_HFRATIO=7,H.EAXREVERB_DECAY_LFRATIO=8,H.EAXREVERB_REFLECTIONS_GAIN=9,H.EAXREVERB_REFLECTIONS_DELAY=10,H.EAXREVERB_REFLECTIONS_PAN=11,H.EAXREVERB_LATE_REVERB_GAIN=12,H.EAXREVERB_LATE_REVERB_DELAY=13,H.EAXREVERB_LATE_REVERB_PAN=14,H.EAXREVERB_ECHO_TIME=15,H.EAXREVERB_ECHO_DEPTH=16,H.EAXREVERB_MODULATION_TIME=17,H.EAXREVERB_MODULATION_DEPTH=18,H.EAXREVERB_AIR_ABSORPTION_GAINHF=19,H.EAXREVERB_HFREFERENCE=20,H.EAXREVERB_LFREFERENCE=21,H.EAXREVERB_ROOM_ROLLOFF_FACTOR=22,H.EAXREVERB_DECAY_HFLIMIT=23,H.CHORUS_WAVEFORM=1,H.CHORUS_PHASE=2,H.CHORUS_RATE=3,H.CHORUS_DEPTH=4,H.CHORUS_FEEDBACK=5,H.CHORUS_DELAY=6,H.DISTORTION_EDGE=1,H.DISTORTION_GAIN=2,H.DISTORTION_LOWPASS_CUTOFF=3,H.DISTORTION_EQCENTER=4,H.DISTORTION_EQBANDWIDTH=5,H.ECHO_DELAY=1,H.ECHO_LRDELAY=2,H.ECHO_DAMPING=3,H.ECHO_FEEDBACK=4,H.ECHO_SPREAD=5,H.FLANGER_WAVEFORM=1,H.FLANGER_PHASE=2,H.FLANGER_RATE=3,H.FLANGER_DEPTH=4,H.FLANGER_FEEDBACK=5,H.FLANGER_DELAY=6,H.FREQUENCY_SHIFTER_FREQUENCY=1,H.FREQUENCY_SHIFTER_LEFT_DIRECTION=2,H.FREQUENCY_SHIFTER_RIGHT_DIRECTION=3,H.VOCAL_MORPHER_PHONEMEA=1,H.VOCAL_MORPHER_PHONEMEA_COARSE_TUNING=2,H.VOCAL_MORPHER_PHONEMEB=3,H.VOCAL_MORPHER_PHONEMEB_COARSE_TUNING=4,H.VOCAL_MORPHER_WAVEFORM=5,H.VOCAL_MORPHER_RATE=6,H.PITCH_SHIFTER_COARSE_TUNE=1,H.PITCH_SHIFTER_FINE_TUNE=2,H.RING_MODULATOR_FREQUENCY=1,H.RING_MODULATOR_HIGHPASS_CUTOFF=2,H.RING_MODULATOR_WAVEFORM=3,H.AUTOWAH_ATTACK_TIME=1,H.AUTOWAH_RELEASE_TIME=2,H.AUTOWAH_RESONANCE=3,H.AUTOWAH_PEAK_GAIN=4,H.COMPRESSOR_ONOFF=1,H.EQUALIZER_LOW_GAIN=1,H.EQUALIZER_LOW_CUTOFF=2,H.EQUALIZER_MID1_GAIN=3,H.EQUALIZER_MID1_CENTER=4,H.EQUALIZER_MID1_WIDTH=5,H.EQUALIZER_MID2_GAIN=6,H.EQUALIZER_MID2_CENTER=7,H.EQUALIZER_MID2_WIDTH=8,H.EQUALIZER_HIGH_GAIN=9,H.EQUALIZER_HIGH_CUTOFF=10,H.EFFECT_FIRST_PARAMETER=0,H.EFFECT_LAST_PARAMETER=32768,H.EFFECT_TYPE=32769,H.EFFECT_NULL=0,H.EFFECT_EAXREVERB=32768,H.EFFECT_REVERB=1,H.EFFECT_CHORUS=2,H.EFFECT_DISTORTION=3,H.EFFECT_ECHO=4,H.EFFECT_FLANGER=5,H.EFFECT_FREQUENCY_SHIFTER=6,H.EFFECT_VOCAL_MORPHER=7,H.EFFECT_PITCH_SHIFTER=8,H.EFFECT_RING_MODULATOR=9,H.FFECT_AUTOWAH=10,H.EFFECT_COMPRESSOR=11,H.EFFECT_EQUALIZER=12,H.EFFECTSLOT_EFFECT=1,H.EFFECTSLOT_GAIN=2,H.EFFECTSLOT_AUXILIARY_SEND_AUTO=3,H.LOWPASS_GAIN=1,H.LOWPASS_GAINHF=2,H.HIGHPASS_GAIN=1,H.HIGHPASS_GAINLF=2,H.BANDPASS_GAIN=1,H.BANDPASS_GAINLF=2,H.BANDPASS_GAINHF=3,H.FILTER_FIRST_PARAMETER=0,H.FILTER_LAST_PARAMETER=32768,H.FILTER_TYPE=32769,H.FILTER_NULL=0,H.FILTER_LOWPASS=1,H.FILTER_HIGHPASS=2,H.FILTER_BANDPASS=3,Mb.FALSE=0,Mb.TRUE=1,Mb.FREQUENCY=4103,Mb.REFRESH=4104,Mb.SYNC=4105,Mb.MONO_SOURCES=4112,Mb.STEREO_SOURCES=4113,Mb.NO_ERROR=0,Mb.INVALID_DEVICE=40961,Mb.INVALID_CONTEXT=40962,Mb.INVALID_ENUM=40963,Mb.INVALID_VALUE=40964,Mb.OUT_OF_MEMORY=40965,Mb.ATTRIBUTES_SIZE=4098,Mb.ALL_ATTRIBUTES=4099,Mb.DEFAULT_DEVICE_SPECIFIER=4100,Mb.DEVICE_SPECIFIER=4101,Mb.EXTENSIONS=4102,Mb.ENUMERATE_ALL_EXT=1,Mb.DEFAULT_ALL_DEVICES_SPECIFIER=4114,Mb.ALL_DEVICES_SPECIFIER=4115,Ce.onUpdate=new be,Ne.alreadyCreated=new va,Ne.initialized=!1,ng.sensorByID=new Va,ng.sensors=[],Na.__directories=new Va,ae.devices=new Va,ae.onConnect=new Qq,Ri.LEFT_X=0,Ri.LEFT_Y=1,Ri.RIGHT_X=2,Ri.RIGHT_Y=3,Ri.TRIGGER_LEFT=4,Ri.TRIGGER_RIGHT=5,qf.A=0,qf.B=1,qf.X=2,qf.Y=3,qf.BACK=4,qf.GUIDE=5,qf.START=6,qf.LEFT_STICK=7,qf.RIGHT_STICK=8,qf.LEFT_SHOULDER=9,qf.RIGHT_SHOULDER=10,qf.DPAD_UP=11,qf.DPAD_DOWN=12,qf.DPAD_LEFT=13,qf.DPAD_RIGHT=14,kd.devices=new Va,kd.onConnect=new Rq,De.CENTER=0,De.DOWN=4,De.LEFT=8,De.RIGHT=2,De.UP=1,De.DOWN_LEFT=12,De.DOWN_RIGHT=6,De.UP_LEFT=9,De.UP_RIGHT=3,U.UNKNOWN=0,U.BACKSPACE=8,U.TAB=9,U.RETURN=13,U.ESCAPE=27,U.SPACE=32,U.EXCLAMATION=33,U.QUOTE=34,U.HASH=35,U.DOLLAR=36,U.PERCENT=37,U.AMPERSAND=38,U.SINGLE_QUOTE=39,U.LEFT_PARENTHESIS=40,U.RIGHT_PARENTHESIS=41,U.ASTERISK=42,U.PLUS=43,U.COMMA=44,U.MINUS=45,U.PERIOD=46,U.SLASH=47,U.NUMBER_0=48,U.NUMBER_1=49,U.NUMBER_2=50,U.NUMBER_3=51,U.NUMBER_4=52,U.NUMBER_5=53,U.NUMBER_6=54,U.NUMBER_7=55,U.NUMBER_8=56,U.NUMBER_9=57,U.COLON=58,U.SEMICOLON=59,U.LESS_THAN=60,U.EQUALS=61,U.GREATER_THAN=62,U.QUESTION=63,U.AT=64,U.LEFT_BRACKET=91,U.BACKSLASH=92,U.RIGHT_BRACKET=93,U.CARET=94,U.UNDERSCORE=95,U.GRAVE=96,U.A=97,U.B=98,U.C=99,U.D=100,U.E=101,U.F=102,U.G=103,U.H=104,U.I=105,U.J=106,U.K=107,U.L=108,U.M=109,U.N=110,U.O=111,U.P=112,U.Q=113,U.R=114,U.S=115,U.T=116,U.U=117,U.V=118,U.W=119,U.X=120,U.Y=121,U.Z=122,U.DELETE=127,U.CAPS_LOCK=1073741881,U.F1=1073741882,U.F2=1073741883,U.F3=1073741884,U.F4=1073741885,U.F5=1073741886,U.F6=1073741887,U.F7=1073741888,U.F8=1073741889,U.F9=1073741890,U.F10=1073741891,U.F11=1073741892,U.F12=1073741893,U.PRINT_SCREEN=1073741894,U.SCROLL_LOCK=1073741895,U.PAUSE=1073741896,U.INSERT=1073741897,U.HOME=1073741898,U.PAGE_UP=1073741899,U.END=1073741901,U.PAGE_DOWN=1073741902,U.RIGHT=1073741903,U.LEFT=1073741904,U.DOWN=1073741905,U.UP=1073741906,U.NUM_LOCK=1073741907,U.NUMPAD_DIVIDE=1073741908,U.NUMPAD_MULTIPLY=1073741909,U.NUMPAD_MINUS=1073741910,U.NUMPAD_PLUS=1073741911,U.NUMPAD_ENTER=1073741912,U.NUMPAD_1=1073741913,U.NUMPAD_2=1073741914,U.NUMPAD_3=1073741915,U.NUMPAD_4=1073741916,U.NUMPAD_5=1073741917,U.NUMPAD_6=1073741918,U.NUMPAD_7=1073741919,U.NUMPAD_8=1073741920,U.NUMPAD_9=1073741921,U.NUMPAD_0=1073741922,U.NUMPAD_PERIOD=1073741923,U.APPLICATION=1073741925,U.POWER=1073741926,U.NUMPAD_EQUALS=1073741927,U.F13=1073741928,U.F14=1073741929,U.F15=1073741930,U.F16=1073741931,U.F17=1073741932,U.F18=1073741933,U.F19=1073741934,U.F20=1073741935,U.F21=1073741936,U.F22=1073741937,U.F23=1073741938,U.F24=1073741939,U.EXECUTE=1073741940,U.HELP=1073741941,U.MENU=1073741942,U.SELECT=1073741943,U.STOP=1073741944,U.AGAIN=1073741945,U.UNDO=1073741946,U.CUT=1073741947,U.COPY=1073741948,U.PASTE=1073741949,U.FIND=1073741950,U.MUTE=1073741951,U.VOLUME_UP=1073741952,U.VOLUME_DOWN=1073741953,U.NUMPAD_COMMA=1073741957,U.ALT_ERASE=1073741977,U.SYSTEM_REQUEST=1073741978,U.CANCEL=1073741979,U.CLEAR=1073741980,U.PRIOR=1073741981,U.RETURN2=1073741982,U.SEPARATOR=1073741983,U.OUT=1073741984,U.OPER=1073741985,U.CLEAR_AGAIN=1073741986,U.CRSEL=1073741987,U.EXSEL=1073741988,U.NUMPAD_00=1073742e3,U.NUMPAD_000=1073742001,U.THOUSAND_SEPARATOR=1073742002,U.DECIMAL_SEPARATOR=1073742003,U.CURRENCY_UNIT=1073742004,U.CURRENCY_SUBUNIT=1073742005,U.NUMPAD_LEFT_PARENTHESIS=1073742006,U.NUMPAD_RIGHT_PARENTHESIS=1073742007,U.NUMPAD_LEFT_BRACE=1073742008,U.NUMPAD_RIGHT_BRACE=1073742009,U.NUMPAD_TAB=1073742010,U.NUMPAD_BACKSPACE=1073742011,U.NUMPAD_A=1073742012,U.NUMPAD_B=1073742013,U.NUMPAD_C=1073742014,U.NUMPAD_D=1073742015,U.NUMPAD_E=1073742016,U.NUMPAD_F=1073742017,U.NUMPAD_XOR=1073742018,U.NUMPAD_POWER=1073742019,U.NUMPAD_PERCENT=1073742020,U.NUMPAD_LESS_THAN=1073742021,U.NUMPAD_GREATER_THAN=1073742022,U.NUMPAD_AMPERSAND=1073742023,U.NUMPAD_DOUBLE_AMPERSAND=1073742024,U.NUMPAD_VERTICAL_BAR=1073742025,U.NUMPAD_DOUBLE_VERTICAL_BAR=1073742026,U.NUMPAD_COLON=1073742027,U.NUMPAD_HASH=1073742028,U.NUMPAD_SPACE=1073742029,U.NUMPAD_AT=1073742030,U.NUMPAD_EXCLAMATION=1073742031,U.NUMPAD_MEM_STORE=1073742032,U.NUMPAD_MEM_RECALL=1073742033,U.NUMPAD_MEM_CLEAR=1073742034,U.NUMPAD_MEM_ADD=1073742035,U.NUMPAD_MEM_SUBTRACT=1073742036,U.NUMPAD_MEM_MULTIPLY=1073742037,U.NUMPAD_MEM_DIVIDE=1073742038,U.NUMPAD_PLUS_MINUS=1073742039,U.NUMPAD_CLEAR=1073742040,U.NUMPAD_CLEAR_ENTRY=1073742041,U.NUMPAD_BINARY=1073742042,U.NUMPAD_OCTAL=1073742043,U.NUMPAD_DECIMAL=1073742044,U.NUMPAD_HEXADECIMAL=1073742045,U.LEFT_CTRL=1073742048,U.LEFT_SHIFT=1073742049,U.LEFT_ALT=1073742050,U.LEFT_META=1073742051,U.RIGHT_CTRL=1073742052,U.RIGHT_SHIFT=1073742053,U.RIGHT_ALT=1073742054,U.RIGHT_META=1073742055,U.MODE=1073742081,U.AUDIO_NEXT=1073742082,U.AUDIO_PREVIOUS=1073742083,U.AUDIO_STOP=1073742084,U.AUDIO_PLAY=1073742085,U.AUDIO_MUTE=1073742086,U.MEDIA_SELECT=1073742087,U.WWW=1073742088,U.MAIL=1073742089,U.CALCULATOR=1073742090,U.COMPUTER=1073742091,U.APP_CONTROL_SEARCH=1073742092,U.APP_CONTROL_HOME=1073742093,U.APP_CONTROL_BACK=1073742094,U.APP_CONTROL_FORWARD=1073742095,U.APP_CONTROL_STOP=1073742096,U.APP_CONTROL_REFRESH=1073742097,U.APP_CONTROL_BOOKMARKS=1073742098,U.BRIGHTNESS_DOWN=1073742099,U.BRIGHTNESS_UP=1073742100,U.DISPLAY_SWITCH=1073742101,U.BACKLIGHT_TOGGLE=1073742102,U.BACKLIGHT_DOWN=1073742103,U.BACKLIGHT_UP=1073742104,U.EJECT=1073742105,U.SLEEP=1073742106,yb.NONE=0,yb.LEFT_SHIFT=1,yb.RIGHT_SHIFT=2,yb.LEFT_CTRL=64,yb.RIGHT_CTRL=128,yb.LEFT_ALT=256,yb.RIGHT_ALT=512,yb.LEFT_META=1024,yb.RIGHT_META=2048,yb.NUM_LOCK=4096,yb.CAPS_LOCK=8192,yb.MODE=16384,yb.CTRL=192,yb.SHIFT=3,yb.ALT=768,yb.META=3072,W.UNKNOWN=0,W.BACKSPACE=42,W.TAB=43,W.RETURN=40,W.ESCAPE=41,W.SPACE=44,W.SINGLE_QUOTE=52,W.COMMA=54,W.MINUS=45,W.PERIOD=55,W.SLASH=56,W.NUMBER_0=39,W.NUMBER_1=30,W.NUMBER_2=31,W.NUMBER_3=32,W.NUMBER_4=33,W.NUMBER_5=34,W.NUMBER_6=35,W.NUMBER_7=36,W.NUMBER_8=37,W.NUMBER_9=38,W.SEMICOLON=51,W.EQUALS=46,W.LEFT_BRACKET=47,W.BACKSLASH=49,W.RIGHT_BRACKET=48,W.GRAVE=53,W.A=4,W.B=5,W.C=6,W.D=7,W.E=8,W.F=9,W.G=10,W.H=11,W.I=12,W.J=13,W.K=14,W.L=15,W.M=16,W.N=17,W.O=18,W.P=19,W.Q=20,W.R=21,W.S=22,W.T=23,W.U=24,W.V=25,W.W=26,W.X=27,W.Y=28,W.Z=29,W.DELETE=76,W.CAPS_LOCK=57,W.F1=58,W.F2=59,W.F3=60,W.F4=61,W.F5=62,W.F6=63,W.F7=64,W.F8=65,W.F9=66,W.F10=67,W.F11=68,W.F12=69,W.PRINT_SCREEN=70,W.SCROLL_LOCK=71,W.PAUSE=72,W.INSERT=73,W.HOME=74,W.PAGE_UP=75,W.END=77,W.PAGE_DOWN=78,W.RIGHT=79,W.LEFT=80,W.DOWN=81,W.UP=82,W.NUM_LOCK=83,W.NUMPAD_DIVIDE=84,W.NUMPAD_MULTIPLY=85,W.NUMPAD_MINUS=86,W.NUMPAD_PLUS=87,W.NUMPAD_ENTER=88,W.NUMPAD_1=89,W.NUMPAD_2=90,W.NUMPAD_3=91,W.NUMPAD_4=92,W.NUMPAD_5=93,W.NUMPAD_6=94,W.NUMPAD_7=95,W.NUMPAD_8=96,W.NUMPAD_9=97,W.NUMPAD_0=98,W.NUMPAD_PERIOD=99,W.APPLICATION=101,W.POWER=102,W.NUMPAD_EQUALS=103,W.F13=104,W.F14=105,W.F15=106,W.F16=107,W.F17=108,W.F18=109,W.F19=110,W.F20=111,W.F21=112,W.F22=113,W.F23=114,W.F24=115,W.EXECUTE=116,W.HELP=117,W.MENU=118,W.SELECT=119,W.STOP=120,W.AGAIN=121,W.UNDO=122,W.CUT=123,W.COPY=124,W.PASTE=125,W.FIND=126,W.MUTE=127,W.VOLUME_UP=128,W.VOLUME_DOWN=129,W.NUMPAD_COMMA=133,W.ALT_ERASE=153,W.SYSTEM_REQUEST=154,W.CANCEL=155,W.CLEAR=156,W.PRIOR=157,W.RETURN2=158,W.SEPARATOR=159,W.OUT=160,W.OPER=161,W.CLEAR_AGAIN=162,W.CRSEL=163,W.EXSEL=164,W.NUMPAD_00=176,W.NUMPAD_000=177,W.THOUSAND_SEPARATOR=178,W.DECIMAL_SEPARATOR=179,W.CURRENCY_UNIT=180,W.CURRENCY_SUBUNIT=181,W.NUMPAD_LEFT_PARENTHESIS=182,W.NUMPAD_RIGHT_PARENTHESIS=183,W.NUMPAD_LEFT_BRACE=184,W.NUMPAD_RIGHT_BRACE=185,W.NUMPAD_TAB=186,W.NUMPAD_BACKSPACE=187,W.NUMPAD_A=188,W.NUMPAD_B=189,W.NUMPAD_C=190,W.NUMPAD_D=191,W.NUMPAD_E=192,W.NUMPAD_F=193,W.NUMPAD_XOR=194,W.NUMPAD_POWER=195,W.NUMPAD_PERCENT=196,W.NUMPAD_LESS_THAN=197,W.NUMPAD_GREATER_THAN=198,W.NUMPAD_AMPERSAND=199,W.NUMPAD_DOUBLE_AMPERSAND=200,W.NUMPAD_VERTICAL_BAR=201,W.NUMPAD_DOUBLE_VERTICAL_BAR=202,W.NUMPAD_COLON=203,W.NUMPAD_HASH=204,W.NUMPAD_SPACE=205,W.NUMPAD_AT=206,W.NUMPAD_EXCLAMATION=207,W.NUMPAD_MEM_STORE=208,W.NUMPAD_MEM_RECALL=209,W.NUMPAD_MEM_CLEAR=210,W.NUMPAD_MEM_ADD=211,W.NUMPAD_MEM_SUBTRACT=212,W.NUMPAD_MEM_MULTIPLY=213,W.NUMPAD_MEM_DIVIDE=214,W.NUMPAD_PLUS_MINUS=215,W.NUMPAD_CLEAR=216,W.NUMPAD_CLEAR_ENTRY=217,W.NUMPAD_BINARY=218,W.NUMPAD_OCTAL=219,W.NUMPAD_DECIMAL=220,W.NUMPAD_HEXADECIMAL=221,W.LEFT_CTRL=224,W.LEFT_SHIFT=225,W.LEFT_ALT=226,W.LEFT_META=227,W.RIGHT_CTRL=228,W.RIGHT_SHIFT=229,W.RIGHT_ALT=230,W.RIGHT_META=231,W.MODE=257,W.AUDIO_NEXT=258,W.AUDIO_PREVIOUS=259,W.AUDIO_STOP=260,W.AUDIO_PLAY=261,W.AUDIO_MUTE=262,W.MEDIA_SELECT=263,W.WWW=264,W.MAIL=265,W.CALCULATOR=266,W.COMPUTER=267,W.APP_CONTROL_SEARCH=268,W.APP_CONTROL_HOME=269,W.APP_CONTROL_BACK=270,W.APP_CONTROL_FORWARD=271,W.APP_CONTROL_STOP=272,W.APP_CONTROL_REFRESH=273,W.APP_CONTROL_BOOKMARKS=274,W.BRIGHTNESS_DOWN=275,W.BRIGHTNESS_UP=276,W.DISPLAY_SWITCH=277,W.BACKLIGHT_TOGGLE=278,W.BACKLIGHT_DOWN=279,W.BACKLIGHT_UP=280,W.EJECT=281,W.SLEEP=282,xd.onCancel=new Kj,xd.onEnd=new Kj,xd.onMove=new Kj,xd.onStart=new Kj,wa.cache=new $q,wa.onChange=new be,wa.bundlePaths=new va,wa.libraries=new va,wa.libraryPaths=new va,Bf.BYTES_PER_ELEMENT=4,nl.BYTES_PER_ELEMENT=8,ol.BYTES_PER_ELEMENT=2,pl.BYTES_PER_ELEMENT=4,ql.BYTES_PER_ELEMENT=1,Ua.throwErrors=!0,dh.NONE=0,dh.ERROR=1,dh.WARN=2,dh.INFO=3,dh.DEBUG=4,dh.VERBOSE=5,rl.BYTES_PER_ELEMENT=2,sl.BYTES_PER_ELEMENT=4,tl.BYTES_PER_ELEMENT=1,Mj.BYTES_PER_ELEMENT=1,Ya.__lastTimerID=0,Ya.__sentWarnings=new va,Ya.__timers=new Va,Eh.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},cg.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]},fields:{toJSON:{SuppressWarnings:["checkstyle:Dynamic"]}}},eg.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]},fields:{toJSON:{SuppressWarnings:["checkstyle:Dynamic"]},_:{SuppressWarnings:["checkstyle:Dynamic"]}}},fg.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]},fields:{toJSON:{SuppressWarnings:["checkstyle:Dynamic"]}}},dg.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]},fields:{toJSON:{SuppressWarnings:["checkstyle:Dynamic"]}}},Pf.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]},fields:{concat:{SuppressWarnings:["checkstyle:Dynamic"]},toJSON:{SuppressWarnings:["checkstyle:Dynamic"]},_:{SuppressWarnings:["checkstyle:Dynamic"]}}},Sc.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]},statics:{notImplemented:{SuppressWarnings:["checkstyle:NullableParameter"]}}},Sc.__sentWarnings=new va,Xe.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},Xe.limitedProfile=!0,Oj.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},yo.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},Pj.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},Ti.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},Lg.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},xl.__useParentFPS=!1,zl.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},ub.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},ub.__regexAlign=new Ra("align\\s?=\\s?(\"([^\"]+)\"|'([^']+)')","i"),ub.__regexBreakTag=new Ra("<br\\s*/?>","gi"),ub.__regexBlockIndent=new Ra("blockindent\\s?=\\s?(\"([^\"]+)\"|'([^']+)')","i"),ub.__regexColor=new Ra("color\\s?=\\s?(\"#([^\"]+)\"|'#([^']+)')","i"),ub.__regexEntities=[new Ra("&quot;","g"),new Ra("&apos;","g"),new Ra("&amp;","g"),new Ra("&lt;","g"),new Ra("&gt;","g"),new Ra("&nbsp;","g")],ub.__regexFace=new Ra("face\\s?=\\s?(\"([^\"]+)\"|'([^']+)')","i"),ub.__regexHTMLTag=new Ra("<.*?>","g"),ub.__regexHref=new Ra("href\\s?=\\s?(\"([^\"]+)\"|'([^']+)')","i"),ub.__regexIndent=new Ra(" indent\\s?=\\s?(\"([^\"]+)\"|'([^']+)')","i"),ub.__regexLeading=new Ra("leading\\s?=\\s?(\"([^\"]+)\"|'([^']+)')","i"),ub.__regexLeftMargin=new Ra("leftmargin\\s?=\\s?(\"([^\"]+)\"|'([^']+)')","i"),ub.__regexRightMargin=new Ra("rightmargin\\s?=\\s?(\"([^\"]+)\"|'([^']+)')","i"),ub.__regexSize=new Ra("size\\s?=\\s?(\"([^\"]+)\"|'([^']+)')","i"),ub.__regexTabStops=new Ra("tabstops\\s?=\\s?(\"([^\"]+)\"|'([^']+)')","i"),Jf.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]},statics:{resolveClass:{SuppressWarnings:["checkstyle:Dynamic"]},resolveEnum:{SuppressWarnings:["checkstyle:Dynamic"]}}},Jf.instances=new va,Go.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},Ye.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]},fields:{o:{SuppressWarnings:["checkstyle:Dynamic"]}}},Ye.empty=new Ye,vg.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]},fields:{obj:{SuppressWarnings:["checkstyle:Dynamic"]}}},yh.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},Lo.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]},fields:{overrideIntValues:{SuppressWarnings:["checkstyle:Dynamic"]}}},As.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},Vi.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},Xj.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},hf.__meta__={fields:{__type:{SuppressWarnings:["checkstyle:Dynamic"]}}},Wi.__meta__={obj:{SuppressWarnings:["checkstyle:Dynamic"]}},Yj.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},hr.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},Zj.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]},statics:{renderTileContainer:{SuppressWarnings:["checkstyle:Dynamic"]}}},Bs.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},Cs.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},D.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]},statics:{windingRule:{SuppressWarnings:["checkstyle:Dynamic"]},createBitmapFill:{SuppressWarnings:["checkstyle:Dynamic"]},createGradientPattern:{SuppressWarnings:["checkstyle:Dynamic"]}}},D.SIN45=.7071067811865476,D.TAN22=.41421356237309503,D.fillCommands=new Ye,D.strokeCommands=new Ye,Xi.__meta__={obj:{SuppressWarnings:["checkstyle:Dynamic"]}},ih.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},Ds.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},Y.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},oi.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]},statics:{renderTileContainer:{SuppressWarnings:["checkstyle:Dynamic"]}}},ir.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},Ze.__meta__={fields:{glProgram:{SuppressWarnings:["checkstyle:Dynamic"]}}},jh.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},pi.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},pi.MAX_INDEX_BUFFER_LENGTH=65535,pi.MAX_QUADS_PER_INDEX_BUFFER=10922,pi.MAX_QUAD_INDEX_BUFFER_LENGTH=65532,kr.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},pa.__meta__={fields:{image:{SuppressWarnings:["checkstyle:Dynamic"]},__framebufferContext:{SuppressWarnings:["checkstyle:Dynamic"]},__indexBufferContext:{SuppressWarnings:["checkstyle:Dynamic"]},__surface:{SuppressWarnings:["checkstyle:Dynamic"]},__textureContext:{SuppressWarnings:["checkstyle:Dynamic"]},__vertexBufferContext:{SuppressWarnings:["checkstyle:Dynamic"]},compare:{SuppressWarnings:["checkstyle:Dynamic"]},getSurface:{SuppressWarnings:["checkstyle:Dynamic"]},__fromImage:{SuppressWarnings:["checkstyle:Dynamic"]}}},pa.VERTEX_BUFFER_STRIDE=14,pa.__pool=new Ho,pa.__tempVector=new Fd,Yc.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},Yc.blankBitmapData=new pa(1,1,!1,0),Yc.tempColorTransform=new Tb(1,1,1,1,0,0,0,0),Yi.opaqueBitmapData=new pa(1,1,!1,0),bk.__meta__={obj:{SuppressWarnings:["checkstyle:Dynamic"]}},Fb.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},Fb.__alphaValue=[1],Fb.__colorMultipliersValue=[0,0,0,0],Fb.__colorOffsetsValue=[0,0,0,0],Fb.__defaultColorMultipliersValue=[1,1,1,1],Fb.__emptyColorValue=[0,0,0,0],Fb.__emptyAlphaValue=[1],Fb.__hasColorTransformValue=[!1],Fb.__scissorRectangle=new ia,Fb.__textureSizeValue=[0,0],Kf.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},El.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},Dl.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},la.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},Hh.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},Hh.__textureSizeValue=[0,0],Zc.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},Ih.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},aj.__meta__={obj:{SuppressWarnings:["checkstyle:Dynamic"]}},Fl.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},$e.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},xc.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},xc.__regexColor=new Ra("color=(\"#([^\"]+)\"|'#([^']+)')","i"),xc.__regexFace=new Ra("face=(\"([^\"]+)\"|'([^']+)')","i"),xc.__regexFont=new Ra("<font ([^>]+)>","gi"),xc.__regexCloseFont=new Ra("</font>","gi"),xc.__regexSize=new Ra("size=(\"([^\"]+)\"|'([^']+)')","i"),ck.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},dk.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},qi.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},bj.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},bj.alphaColorTransform=new Tb,bj.bitmap=new Uc,bj.destPoint=new ra,bj.sourceRect=new ia,sr.__meta__={obj:{SuppressWarnings:[["checkstyle:FieldDocComment","checkstyle:Dynamic"]]}},Xb.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]},fields:{__cairoFont:{SuppressWarnings:["checkstyle:Dynamic"]}}},Xb.UTF8_TAB=9,Xb.UTF8_ENDLINE=10,Xb.UTF8_SPACE=32,Xb.UTF8_HYPHEN=45,Xb.GUTTER=2,Xb.__defaultFonts=new va,le.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]},fields:{glyphs:{SuppressWarnings:["checkstyle:Dynamic"]},__handle:{SuppressWarnings:["checkstyle:Dynamic"]},__hbBuffer:{SuppressWarnings:["checkstyle:Dynamic"]},__hbFont:{SuppressWarnings:["checkstyle:Dynamic"]},get_glyphs:{SuppressWarnings:["checkstyle:Dynamic"]}}},le.FT_LOAD_DEFAULT=0,le.FT_LOAD_NO_SCALE=1,le.FT_LOAD_NO_HINTING=2,le.FT_LOAD_RENDER=4,le.FT_LOAD_NO_BITMAP=8,le.FT_LOAD_VERTICAL_LAYOUT=16,le.FT_LOAD_FORCE_AUTOHINT=32,le.FT_LOAD_CROP_BITMAP=64,le.FT_LOAD_PEDANTIC=128,le.FT_LOAD_IGNORE_GLOBAL_ADVANCE_WIDTH=256,le.FT_LOAD_NO_RECURSE=512,le.FT_LOAD_IGNORE_TRANSFORM=1024,le.FT_LOAD_MONOCHROME=2048,le.FT_LOAD_LINEAR_DESIGN=4096,le.FT_LOAD_NO_AUTOHINT=8192,le.FT_LOAD_COLOR=16384,le.FT_LOAD_COMPUTE_METRICS=32768,le.FT_LOAD_BITMAP_METRICS_ONLY=65536,le.FT_LOAD_TARGET_NORMAL=0,le.FT_LOAD_TARGET_LIGHT=0,Wf.INVALID=0,Wf.LEFT_TO_RIGHT=4,Wf.RIGHT_TO_LEFT=5,Wf.TOP_TO_BOTTOM=6,Wf.BOTTOM_TO_TOP=7,sa.COMMON="Zyyy",sa.INHERITED="Zinh",sa.UNKNOWN="Zzzz",sa.ARABIC="Arab",sa.ARMENIAN="Armn",sa.BENGALI="Beng",sa.CYRILLIC="Cyrl",sa.DEVANAGARI="Deva",sa.GEORGIAN="Geor",sa.GREEK="Grek",sa.GUJARATI="Gujr",sa.GURMUKHI="Guru",sa.HANGUL="Hang",sa.HAN="Hani",sa.HEBREW="Hebr",sa.HIRAGANA="Hira",sa.KANNADA="Knda",sa.KATAKANA="Kana",sa.LAO="Laoo",sa.LATIN="Latn",sa.MALAYALAM="Mlym",sa.ORIYA="Orya",sa.TAMIL="Taml",sa.TELUGA="Telu",sa.THAI="Thai",sa.TIBETAN="Tibt",sa.BOPOMOFO="Bopo",sa.BRAILLE="Brai",sa.CANADIAN_SYLLABICS="Cans",sa.CHEROKEE="Cher",sa.ETHIOPIC="Ethi",sa.KHMER="Khmr",sa.MONGOLIAN="Mong",sa.MYANMAR="Mymr",sa.OGHAM="Ogam",sa.RUNIC="Runr",sa.SINHALA="Sinh",sa.SYRIAC="Syrc",sa.THAANA="Thaa",sa.YI="Yiii",sa.DESERET="Dsrt",sa.GOTHIC="Goth",sa.OLD_ITALIC="Ital",sa.BUHID="Buhd",sa.HANUNOO="Hano",sa.TAGALOG="Tglg",sa.TAGBANWA="Tagb",sa.CYPRIOT="Cprt",sa.LIMBU="Limb",sa.LINEAR_B="Linb",sa.OSMANYA="Osma",sa.SHAVIAN="Shaw",sa.TAI_LE="Tale",sa.UGARITIC="Ugar",sa.BUGINESE="Bugi",sa.COPTIC="Copt",sa.GLAGOLITIC="Glag",sa.KHAROSHTHI="Khar",sa.NEW_TAI_LUE="Talu",sa.OLD_PERSIAN="Xpeo",sa.SYLOTI_NAGRI="Sylo",sa.TIFINAGH="Tfng",sa.BALINESE="Bali",sa.CUNEIFORM="Xsux",sa.NKO="Nkoo",sa.PHAGS_PA="Phag",sa.PHOENICIAN="Phnx",sa.CARIAN="Cari",sa.CHAM="Cham",sa.KAYAH_LI="Kali",sa.LEPCHA="Lepc",sa.LYCIAN="Lyci",sa.LYDIAN="Lydi",sa.OL_CHIKI="Olck",sa.REJANG="Rjng",sa.SAURASHTRA="Saur",sa.SUNDANESE="Sund",sa.VAI="Vaii",sa.AVESTAN="Avst",sa.BAMUM="Bamu",sa.EGYPTIAN_HIEROGLYPHS="Egyp",sa.IMPERIAL_ARAMAIC="Armi",sa.INSCRIPTIONAL_PAHLAVI="Phli",sa.INSCRIPTIONAL_PARTHIAN="Prti",sa.JAVANESE="Java",sa.KAITHI="Kthi",sa.LISU="Lisu",sa.MEETEI_MAYEK="Mtei",sa.OLD_SOUTH_ARABIAN="Sarb",sa.OLD_TURKIC="Orkh",sa.SAMARITAN="Samr",sa.TAI_THAM="Lana",sa.TAI_VIET="Tavt",sa.BATAK="Batk",sa.BRAHMI="Brah",sa.MANDAIC="Mand",sa.CHAKMA="Cakm",sa.MEROITIC_CURSIVE="Merc",sa.MEROITIC_HIEROGLYPHS="Mero",sa.MIAO="Plrd",sa.SHARADA="Shrd",sa.SORA_SOMPENG="Sora",sa.TAKRI="Takr",sa.BASSA_VAH="Bass",sa.CAUCASIAN_ALBANIAN="Aghb",sa.DUPLOYAN="Dupl",sa.ELBASAN="Elba",sa.GRANTHA="Gran",sa.KHOJKI="Khoj",sa.KHUDAWADI="Sind",sa.LINEAR_A="Lina",sa.MAHAJANI="Mahj",sa.MANICHAEAN="Mani",sa.MENDE_KIKAKUI="Mend",sa.MODI="Modi",sa.MRO="Mroo",sa.NABATAEAN="Nbat",sa.OLD_NORTH_ARABIAN="Narb",sa.OLD_PERMIC="Perm",sa.PAHAWH_HMONG="Hmng",sa.PALMYRENE="Palm",sa.PAU_CIN_HAU="Pauc",sa.PSALTER_PAHLAVI="Phlp",sa.SIDDHAM="Sidd",sa.TIRHUTA="Tirh",sa.WARANG_CITI="Wara",Ro.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},ek.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},Zi.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]},statics:{P:{SuppressWarnings:["checkstyle:ConstantName"]}}},Zi.P=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180,151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],cj.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]},fields:{touch:{SuppressWarnings:["checkstyle:Dynamic"]}}},cj.__pool=new Ia(function(){return new cj},function(e){e.reset()}),Ck.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},jf.ADD=0,jf.ALPHA=1,jf.DARKEN=2,jf.DIFFERENCE=3,jf.ERASE=4,jf.HARDLIGHT=5,jf.INVERT=6,jf.LAYER=7,jf.LIGHTEN=8,jf.MULTIPLY=9,jf.NORMAL=10,jf.OVERLAY=11,jf.SCREEN=12,jf.SHADER=13,jf.SUBTRACT=14,ni.NONE=0,ni.ROUND=1,ni.SQUARE=2,So.__meta__={fields:{__element:{SuppressWarnings:["checkstyle:Dynamic"]},_:{SuppressWarnings:["checkstyle:Dynamic"]}}},fk.LINEAR=0,fk.RADIAL=1,lf.__meta__={fields:{overrideBlendMode:{SuppressWarnings:["checkstyle:FieldDocComment"]}}},gk.SIN45=.7071067811865476,gk.TAN22=.41421356237309503,Yo.EVEN_ODD=0,Yo.NON_ZERO=1,hk.LINEAR_RGB=0,hk.RGB=1,mi.BEVEL=0,mi.MITER=1,mi.ROUND=2,si.HORIZONTAL=0,si.NONE=1,si.NORMAL=2,si.VERTICAL=3,Vk.__meta__={fields:{BitmapData_onError:{SuppressWarnings:["checkstyle:Dynamic"]}}},Fg.__meta__={statics:{create:{SuppressWarnings:["checkstyle:FieldDocComment"]}},fields:{parameters:{SuppressWarnings:["checkstyle:Dynamic"]}}},Fg.__rootURL=typeof window<"u"?window.document.URL:"",se.__useParentFPS=!1,Il.ALWAYS=0,Il.AUTO=1,Il.NEVER=2,xr.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]},fields:{onComplete:{SuppressWarnings:["checkstyle:Dynamic"]}}},$o.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},Mo.__meta__={fields:{index:{SuppressWarnings:["checkstyle:Dynamic"]},name:{SuppressWarnings:["checkstyle:FieldDocComment"]}}},ak.__meta__={fields:{index:{SuppressWarnings:["checkstyle:Dynamic"]},name:{SuppressWarnings:["checkstyle:FieldDocComment"]}}},me.BOOL=0,me.BOOL2=1,me.BOOL3=2,me.BOOL4=3,me.FLOAT=4,me.FLOAT2=5,me.FLOAT3=6,me.FLOAT4=7,me.INT=8,me.INT2=9,me.INT3=10,me.INT4=11,me.MATRIX2X2=12,me.MATRIX2X3=13,me.MATRIX2X4=14,me.MATRIX3X2=15,me.MATRIX3X3=16,me.MATRIX3X4=17,me.MATRIX4X2=18,me.MATRIX4X3=19,me.MATRIX4X4=20,ap.FAST=0,ap.FULL=1,dj.PAD=0,dj.REFLECT=1,dj.REPEAT=2,jk.__meta__={fields:{__broadcastEvent:{SuppressWarnings:["checkstyle:Dynamic"]},__dispatchEvent:{SuppressWarnings:[["checkstyle:Dynamic","checkstyle:LeftCurly"]]},__dispatchStack:{SuppressWarnings:[["checkstyle:Dynamic","checkstyle:LeftCurly"]]},__dispatchTarget:{SuppressWarnings:["checkstyle:Dynamic"]},__handleError:{SuppressWarnings:["checkstyle:Dynamic"]}}},kh.BOTTOM=0,kh.BOTTOM_LEFT=1,kh.BOTTOM_RIGHT=2,kh.LEFT=3,kh.RIGHT=4,kh.TOP=5,kh.TOP_LEFT=6,kh.TOP_RIGHT=7,Jl.FULL_SCREEN=0,Jl.FULL_SCREEN_INTERACTIVE=1,Jl.NORMAL=2,kk.BEST=0,kk.HIGH=1,kk.LOW=2,kk.MEDIUM=3,lk.EXACT_FIT=0,lk.NO_BORDER=1,lk.NO_SCALE=2,lk.SHOW_ALL=3,Hg.__meta__={fields:{data:{SuppressWarnings:["checkstyle:Dynamic"]}}},bp.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},Kl.NEGATIVE=0,Kl.NONE=1,Kl.POSITIVE=2,Gl.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]},fields:{_:{SuppressWarnings:["checkstyle:Dynamic"]}}},Dc.supportsVideoTexture=!0,Dc.__glDepthStencil=-1,Dc.__glMaxTextureMaxAnisotropy=-1,Dc.__glMaxViewportDims=-1,Dc.__glTextureMaxAnisotropy=-1,yg.DESTINATION_ALPHA=0,yg.DESTINATION_COLOR=1,yg.ONE=2,yg.ONE_MINUS_DESTINATION_ALPHA=3,yg.ONE_MINUS_DESTINATION_COLOR=4,yg.ONE_MINUS_SOURCE_ALPHA=5,yg.ONE_MINUS_SOURCE_COLOR=6,yg.SOURCE_ALPHA=7,yg.SOURCE_COLOR=8,yg.ZERO=9,ok.DYNAMIC_DRAW=0,ok.STATIC_DRAW=1,lh.ALWAYS=0,lh.EQUAL=1,lh.GREATER=2,lh.GREATER_EQUAL=3,lh.LESS=4,lh.LESS_EQUAL=5,lh.NEVER=6,lh.NOT_EQUAL=7,Ml.MIPLINEAR=0,Ml.MIPNEAREST=1,Ml.MIPNONE=2,ui.BASELINE=0,ui.BASELINE_CONSTRAINED=1,ui.BASELINE_EXTENDED=2,ui.STANDARD=3,ui.STANDARD_CONSTRAINED=4,ui.STANDARD_EXTENDED=5,dp.AGAL=0,dp.GLSL=1,pk.FRAGMENT=0,pk.VERTEX=1,ep.AUTO=0,ep.SOFTWARE=1,mh.DECREMENT_SATURATE=0,mh.DECREMENT_WRAP=1,mh.INCREMENT_SATURATE=2,mh.INCREMENT_WRAP=3,mh.INVERT=4,mh.KEEP=5,mh.SET=6,mh.ZERO=7,vi.ANISOTROPIC16X=0,vi.ANISOTROPIC2X=1,vi.ANISOTROPIC4X=2,vi.ANISOTROPIC8X=3,vi.LINEAR=4,vi.NEAREST=5,Kh.BGR_PACKED=0,Kh.BGRA=1,Kh.BGRA_PACKED=2,Kh.COMPRESSED=3,Kh.COMPRESSED_ALPHA=4,Kh.RGBA_HALF_FLOAT=5,qk.BACK=0,qk.FRONT=1,qk.FRONT_AND_BACK=2,qk.NONE=3,gj.BYTES_4=0,gj.FLOAT_1=1,gj.FLOAT_2=2,gj.FLOAT_3=3,gj.FLOAT_4=4,rk.CLAMP=0,rk.CLAMP_U_REPEAT_V=1,rk.REPEAT=2,rk.REPEAT_U_CLAMP_V=3,fp.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},Nl.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},pc.__meta__={fields:{__textureContext:{SuppressWarnings:["checkstyle:Dynamic"]},__getGLFramebuffer:{SuppressWarnings:["checkstyle:Dynamic"]}}},fj.__lowMemoryMode=!1,Xc.DEFAULT_TO_STRING="Error",Ng.ACTIVITY="activity",Ng.__pool=new Ia(function(){return new Ng(null)},function(e){e.__init()}),Df.LINK="link",Df.TEXT_INPUT="textInput",Df.__pool=new Ia(function(){return new Df(null)},function(e){e.__init()}),af.ERROR="error",af.__pool=new Ia(function(){return new af(null)},function(e){e.__init()}),Ek.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},Dk.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},Lf.FOCUS_IN="focusIn",Lf.FOCUS_OUT="focusOut",Lf.KEY_FOCUS_CHANGE="keyFocusChange",Lf.MOUSE_FOCUS_CHANGE="mouseFocusChange",Lf.__pool=new Ia(function(){return new Lf(null)},function(e){e.__init()}),Mg.FULL_SCREEN="fullScreen",Mg.FULL_SCREEN_INTERACTIVE_ACCEPTED="fullScreenInteractiveAccepted",Mg.__pool=new Ia(function(){return new Mg(null)},function(e){e.__init()}),zg.DEVICE_ADDED="deviceAdded",zg.DEVICE_REMOVED="deviceRemoved",zg.DEVICE_UNUSABLE="deviceUnusable",zg.__pool=new Ia(function(){return new zg(null)},function(e){e.__init()}),Mh.HTTP_RESPONSE_STATUS="httpResponseStatus",Mh.HTTP_STATUS="httpStatus",Mh.__pool=new Ia(function(){return new Mh(null)},function(e){e.__init()}),Xf.IO_ERROR="ioError",Xf.__pool=new Ia(function(){return new Xf(null)},function(e){e.__init()}),Jh.KEY_DOWN="keyDown",Jh.KEY_UP="keyUp",Jh.__pool=new Ia(function(){return new Jh(null)},function(e){e.__init()}),Yb.CLICK="click",Yb.DOUBLE_CLICK="doubleClick",Yb.MIDDLE_CLICK="middleClick",Yb.MIDDLE_MOUSE_DOWN="middleMouseDown",Yb.MIDDLE_MOUSE_UP="middleMouseUp",Yb.MOUSE_DOWN="mouseDown",Yb.MOUSE_MOVE="mouseMove",Yb.MOUSE_OUT="mouseOut",Yb.MOUSE_OVER="mouseOver",Yb.MOUSE_UP="mouseUp",Yb.MOUSE_WHEEL="mouseWheel",Yb.RELEASE_OUTSIDE="releaseOutside",Yb.RIGHT_CLICK="rightClick",Yb.RIGHT_MOUSE_DOWN="rightMouseDown",Yb.RIGHT_MOUSE_UP="rightMouseUp",Yb.ROLL_OUT="rollOut",Yb.ROLL_OVER="rollOver",Yb.__pool=new Ia(function(){return new Yb(null)},function(e){e.__init()}),Mf.NET_STATUS="netStatus",Mf.__pool=new Ia(function(){return new Mf(null)},function(e){e.__init()}),xg.PROGRESS="progress",xg.SOCKET_DATA="socketData",xg.__pool=new Ia(function(){return new xg(null)},function(e){e.__init()}),gg.CLEAR_DOM="clearDOM",gg.RENDER_CAIRO="renderCairo",gg.RENDER_CANVAS="renderCanvas",gg.RENDER_DOM="renderDOM",gg.RENDER_OPENGL="renderOpenGL",gg.__pool=new Ia(function(){return new gg(null)},function(e){e.__init()}),wi.SECURITY_ERROR="securityError",wi.__pool=new Ia(function(){return new wi(null)},function(e){e.__init()}),Vd.__meta__={fields:{delta:{SuppressWarnings:["checkstyle:FieldDocComment"]}}},Vd.TOUCH_BEGIN="touchBegin",Vd.TOUCH_END="touchEnd",Vd.TOUCH_MOVE="touchMove",Vd.TOUCH_OUT="touchOut",Vd.TOUCH_OVER="touchOver",Vd.TOUCH_ROLL_OUT="touchRollOut",Vd.TOUCH_ROLL_OVER="touchRollOver",Vd.TOUCH_TAP="touchTap",Vd.__pool=new Ia(function(){return new Vd(null)},function(e){e.__init()}),ti.UNCAUGHT_ERROR="uncaughtError",ti.__pool=new Ia(function(){return new ti(null)},function(e){e.__init()}),ug.__blurShader=new gp,Ol.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},Sf.__colorMatrixShader=new Ol,nh.__convolutionShader=new hp,gc.__displacementMapShader=new ip,gc.__matrixData=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],gc.__offset=[.5,.5,0,0],ji.__hideShader=new jp,ee.__invertAlphaShader=new pp,ee.__blurAlphaShader=new kp,ee.__combineShader=new mp,ee.__innerCombineShader=new op,ee.__combineKnockoutShader=new lp,ee.__innerCombineKnockoutShader=new np,te.__meta__={statics:{create2D:{SuppressWarnings:["checkstyle:FieldDocComment"]},createABCD:{SuppressWarnings:["checkstyle:FieldDocComment"]},createOrtho:{SuppressWarnings:["checkstyle:FieldDocComment"]}}},Pl.AXIS_ANGLE=0,Pl.EULER_ANGLES=1,Pl.QUATERNION=2,fe.MAX_ACTIVE_CHANNELS=32,fe.__soundChannels=[],fe.__soundTransform=new Tf,rp.VERTEX_BUFFER_STRIDE=5,Ql.__meta__={statics:{CONNECT_SUCCESS:{SuppressWarnings:["checkstyle:FieldDocComment"]}}},Ql.CONNECT_SUCCESS="NetConnection.Connect.Success",sp.__meta__={fields:{audioCodec:{SuppressWarnings:["checkstyle:FieldDocComment"]},decodedFrames:{SuppressWarnings:["checkstyle:FieldDocComment"]},speed:{SuppressWarnings:["checkstyle:FieldDocComment"]},requestVideoStatus:{SuppressWarnings:["checkstyle:FieldDocComment"]}}},vd.defaultObjectEncoding=10,tp.FLUSHED=0,tp.PENDING=1,Rl.BINARY=0,Rl.TEXT=1,Rl.VARIABLES=2,xi.followRedirects=!0,xi.idleTimeout=0,xi.manageCookies=!1,ik.currentDomain=new ik(null),Lc.avHardwareDisable=!0,Lc.hasAccessibility=!1,Lc.hasAudio=!0,Lc.hasAudioEncoder=!1,Lc.hasEmbeddedVideo=!1,Lc.hasIME=!1,Lc.hasMP3=!1,Lc.hasPrinting=!0,Lc.hasScreenBroadcast=!1,Lc.hasScreenPlayback=!1,Lc.hasStreamingAudio=!1,Lc.hasStreamingVideo=!1,Lc.hasTLS=!0,Lc.hasVideoEncoder=!0,Lc.isDebugger=!0,Lc.isEmbeddedInAcrobat=!1,Lc.localFileReadDisable=!0,Lc.maxLevelIDC=0,Lc.playerType="PlugIn",Lc.screenColor="color",Lc.serverString="",Lc.supports32BitProcesses=!1,Lc.supports64BitProcesses=!1,Lc.touchscreenType=0,Lc.__standardDensities=[120,160,240,320,480,640,800,960],Sl.__meta__={obj:{SuppressWarnings:["checkstyle:UnnecessaryConstructor"]}},Sl.currentDomain=new Sl,Dg.useCodePage=!1,Tl.FINGER=0,Tl.NONE=1,Tl.STYLUS=2,up.ADVANCED=0,up.NORMAL=1,Ac.__fontByName=new va,Ac.__registeredFonts=[],tk.BOLD=0,tk.BOLD_ITALIC=1,tk.ITALIC=2,tk.REGULAR=3,Ul.DEVICE=0,Ul.EMBEDDED=1,Ul.EMBEDDED_CFF=2,Vl.NONE=0,Vl.PIXEL=1,Vl.SUBPIXEL=2,ie.__missingFontWarning=new va,uk.CENTER=0,uk.LEFT=1,uk.NONE=2,uk.RIGHT=3,vp.DYNAMIC=0,vp.INPUT=1,Cg.__meta__={fields:{clone:{SuppressWarnings:["checkstyle:FieldDocComment"]}}},Gh.CENTER=0,Gh.END=1,Gh.JUSTIFY=2,Gh.LEFT=3,Gh.RIGHT=4,Gh.START=5,fc.__meta__={fields:{addEventListener:{SuppressWarnings:["checkstyle:Dynamic"]}}},fc.isSupported=!0,fc.numDevices=0,fc.__deviceList=[],fc.__instances=[],fc.__devices=new Aa,wp.MAX_BUFFER_SIZE=32e3,Ea.__meta__={statics:{BREAK:{SuppressWarnings:["checkstyle:FieldDocComment"]},NUMLOCK:{SuppressWarnings:["checkstyle:FieldDocComment"]}}},Ea.NUMBER_0=48,Ea.NUMBER_1=49,Ea.NUMBER_2=50,Ea.NUMBER_3=51,Ea.NUMBER_4=52,Ea.NUMBER_5=53,Ea.NUMBER_6=54,Ea.NUMBER_7=55,Ea.NUMBER_8=56,Ea.NUMBER_9=57,Ea.A=65,Ea.B=66,Ea.C=67,Ea.D=68,Ea.E=69,Ea.F=70,Ea.G=71,Ea.H=72,Ea.I=73,Ea.J=74,Ea.K=75,Ea.L=76,Ea.M=77,Ea.N=78,Ea.O=79,Ea.P=80,Ea.Q=81,Ea.R=82,Ea.S=83,Ea.T=84,Ea.U=85,Ea.V=86,Ea.W=87,Ea.X=88,Ea.Y=89,Ea.Z=90,Ea.NUMPAD_0=96,Ea.NUMPAD_1=97,Ea.NUMPAD_2=98,Ea.NUMPAD_3=99,Ea.NUMPAD_4=100,Ea.NUMPAD_5=101,Ea.NUMPAD_6=102,Ea.NUMPAD_7=103,Ea.NUMPAD_8=104,Ea.NUMPAD_9=105,Ea.NUMPAD_MULTIPLY=106,Ea.NUMPAD_ADD=107,Ea.NUMPAD_ENTER=108,Ea.NUMPAD_SUBTRACT=109,Ea.NUMPAD_DECIMAL=110,Ea.NUMPAD_DIVIDE=111,Ea.F1=112,Ea.F2=113,Ea.F3=114,Ea.F4=115,Ea.F5=116,Ea.F6=117,Ea.F7=118,Ea.F8=119,Ea.F9=120,Ea.F10=121,Ea.F11=122,Ea.F12=123,Ea.F13=124,Ea.F14=125,Ea.F15=126,Ea.BACKSPACE=8,Ea.TAB=9,Ea.ALTERNATE=18,Ea.ENTER=13,Ea.COMMAND=15,Ea.SHIFT=16,Ea.CONTROL=17,Ea.BREAK=19,Ea.CAPS_LOCK=20,Ea.NUMPAD=21,Ea.ESCAPE=27,Ea.SPACE=32,Ea.PAGE_UP=33,Ea.PAGE_DOWN=34,Ea.END=35,Ea.HOME=36,Ea.LEFT=37,Ea.RIGHT=39,Ea.UP=38,Ea.DOWN=40,Ea.INSERT=45,Ea.DELETE=46,Ea.NUMLOCK=144,Ea.SEMICOLON=186,Ea.EQUAL=187,Ea.COMMA=188,Ea.MINUS=189,Ea.PERIOD=190,Ea.SLASH=191,Ea.BACKQUOTE=192,Ea.LEFTBRACKET=219,Ea.BACKSLASH=220,Ea.RIGHTBRACKET=221,Ea.QUOTE=222,Ie.supportsCursor=!0,Ie.supportsNativeCursor=!0,Ie.__cursor="auto",kf.ARROW="arrow",kf.AUTO="auto",kf.BUTTON="button",kf.HAND="hand",kf.IBEAM="ibeam",kf.__CROSSHAIR="crosshair",kf.__CUSTOM="custom",kf.__MOVE="move",kf.__RESIZE_NESW="resize_nesw",kf.__RESIZE_NS="resize_ns",kf.__RESIZE_NWSE="resize_nwse",kf.__RESIZE_WE="resize_we",kf.__WAIT="wait",kf.__WAIT_ARROW="waitarrow",Wl.GESTURE=0,Wl.NONE=1,Wl.TOUCH_POINT=2,Z.__meta__={obj:{SuppressWarnings:[["checkstyle:ConstantName","checkstyle:FieldDocComment"]]}},Z.OPMAP=new va,Z.REGMAP=new va,Z.SAMPLEMAP=new va,Z.MAX_NESTING=4,Z.MAX_OPCODES=4096,Z.FRAGMENT="fragment",Z.VERTEX="vertex",Z.SAMPLER_TYPE_SHIFT=8,Z.SAMPLER_DIM_SHIFT=12,Z.SAMPLER_SPECIAL_SHIFT=16,Z.SAMPLER_REPEAT_SHIFT=20,Z.SAMPLER_MIPMAP_SHIFT=24,Z.SAMPLER_FILTER_SHIFT=28,Z.REG_WRITE=1,Z.REG_READ=2,Z.REG_FRAG=32,Z.REG_VERT=64,Z.OP_SCALAR=1,Z.OP_SPECIAL_TEX=8,Z.OP_SPECIAL_MATRIX=16,Z.OP_FRAG_ONLY=32,Z.OP_VERT_ONLY=64,Z.OP_NO_DEST=128,Z.OP_VERSION2=256,Z.OP_INCNEST=512,Z.OP_DECNEST=1024,Z.MOV="mov",Z.ADD="add",Z.SUB="sub",Z.MUL="mul",Z.DIV="div",Z.RCP="rcp",Z.MIN="min",Z.MAX="max",Z.FRC="frc",Z.SQT="sqt",Z.RSQ="rsq",Z.POW="pow",Z.LOG="log",Z.EXP="exp",Z.NRM="nrm",Z.SIN="sin",Z.COS="cos",Z.CRS="crs",Z.DP3="dp3",Z.DP4="dp4",Z.ABS="abs",Z.NEG="neg",Z.SAT="sat",Z.M33="m33",Z.M44="m44",Z.M34="m34",Z.DDX="ddx",Z.DDY="ddy",Z.IFE="ife",Z.INE="ine",Z.IFG="ifg",Z.IFL="ifl",Z.IEG="ieg",Z.IEL="iel",Z.ELS="els",Z.EIF="eif",Z.TED="ted",Z.KIL="kil",Z.TEX="tex",Z.SGE="sge",Z.SLT="slt",Z.SGN="sgn",Z.SEQ="seq",Z.SNE="sne",Z.VA="va",Z.VC="vc",Z.VT="vt",Z.VO="vo",Z.VI="vi",Z.FC="fc",Z.FT="ft",Z.FS="fs",Z.FO="fo",Z.FD="fd",Z.IID="iid",Z.D2="2d",Z.D3="3d",Z.CUBE="cube",Z.MIPNEAREST="mipnearest",Z.MIPLINEAR="miplinear",Z.MIPNONE="mipnone",Z.NOMIP="nomip",Z.NEAREST="nearest",Z.LINEAR="linear",Z.ANISOTROPIC2X="anisotropic2x",Z.ANISOTROPIC4X="anisotropic4x",Z.ANISOTROPIC8X="anisotropic8x",Z.ANISOTROPIC16X="anisotropic16x",Z.CENTROID="centroid",Z.SINGLE="single",Z.IGNORESAMPLER="ignoresampler",Z.REPEAT="repeat",Z.WRAP="wrap",Z.CLAMP="clamp",Z.REPEAT_U_CLAMP_V="repeat_u_clamp_v",Z.CLAMP_U_REPEAT_V="clamp_u_repeat_v",Z.RGBA="rgba",Z.COMPRESSED="compressed",Z.COMPRESSEDALPHA="compressedalpha",Z.DXT1="dxt1",Z.DXT5="dxt5",Z.VIDEO="video",Z.initialized=!1,hc.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},Nf.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},ld.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},Ba.cache=new yp,Ba.dispatcher=new A,ta.__bytePointer=new tg(null,0),vc.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},vc.defaultObjectEncoding=10,Xl.DEFLATE=0,Xl.LZMA=1,Xl.ZLIB=2,xk.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},vk.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},wk.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},$i.BIG_ENDIAN=0,$i.LITTLE_ENDIAN=1,Og.__meta__={statics:{iterator:{SuppressWarnings:["checkstyle:FieldDocComment"]},__get:{SuppressWarnings:["checkstyle:FieldDocComment"]},__set:{SuppressWarnings:["checkstyle:FieldDocComment"]}}},Bp.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},Yl.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},qh.VAL_ABSENT=-2147483648,qh.EMPTY_SLOT=-1,qh.NULL_POINTER=-1,Rg.KEY_ABSENT=-2147483648,Rg.VAL_ABSENT=-2147483648,Rg.EMPTY_SLOT=-1,Rg.NULL_POINTER=-1,db.DEFAULT_PRECISION=6,db.DEFAULT_NUM_EXP_DIGITS=2,db._initialized=!1,db.PAD_0=0,db.PAD_SPACE=20,oh.FIXED=0,oh.MILD=-1,oh.NORMAL=-2,oh.DOUBLE=-3,Nb.PI=3.141592653589793,Nb.PI_H=1.5707963267948966,Nb.LN_2=.6931471805599453,Nb.LN_2_10=6.931471805599453,Nb.overshoot=1.70158,Nb.amplitude=1,Nb.period=3e-4,gb.main()})(typeof z<"u"?z:typeof window<"u"?window:typeof self<"u"?self:this,typeof window<"u"?window:typeof S<"u"?S:typeof self<"u"?self:this)},da.lime.embed=function(e){var i={},s=da.lime.$scripts[e];if(!s)throw Error('Cannot find project name "'+e+'"');for(var n in s(i,z),i)da[n]=da[n]||i[n];return(s=i.lime||window.lime)&&s.embed&&this!=s.embed&&s.embed.apply(s,arguments),i},"function"==typeof define&&define.amd&&(define([],function(){return da.lime}),define.__amd=define.amd,define.amd=null)}(typeof exports<"u"?exports:"function"==typeof define&&define.amd?{}:typeof window<"u"?window:typeof self<"u"?self:this,typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this),function(){var e=function(){this.init()};e.prototype={init:function(){var y=this||i;return y._counter=1e3,y._html5AudioPool=[],y.html5PoolSize=10,y._codecs={},y._howls=[],y._muted=!1,y._volume=1,y._canPlayEvent="canplaythrough",y._navigator=typeof window<"u"&&window.navigator?window.navigator:null,y.masterGain=null,y.noAudio=!1,y.usingWebAudio=!0,y.autoSuspend=!0,y.ctx=null,y.autoUnlock=!0,y._setup(),y},volume:function(y){var g=this||i;if(y=parseFloat(y),g.ctx||f(),void 0!==y&&0<=y&&1>=y){if(g._volume=y,g._muted)return g;g.usingWebAudio&&g.masterGain.gain.setValueAtTime(y,i.ctx.currentTime);for(var j=0;j<g._howls.length;j++)if(!g._howls[j]._webAudio)for(var $=g._howls[j]._getSoundIds(),yt=0;yt<$.length;yt++){var _t=g._howls[j]._soundById($[yt]);_t&&_t._node&&(_t._node.volume=_t._volume*y)}return g}return g._volume},mute:function(y){var g=this||i;g.ctx||f(),g._muted=y,g.usingWebAudio&&g.masterGain.gain.setValueAtTime(y?0:g._volume,i.ctx.currentTime);for(var j=0;j<g._howls.length;j++)if(!g._howls[j]._webAudio)for(var $=g._howls[j]._getSoundIds(),yt=0;yt<$.length;yt++){var _t=g._howls[j]._soundById($[yt]);_t&&_t._node&&(_t._node.muted=!!y||_t._muted)}return g},unload:function(){for(var y=this||i,g=y._howls.length-1;0<=g;g--)y._howls[g].unload();return y.usingWebAudio&&y.ctx&&void 0!==y.ctx.close&&(y.ctx.close(),y.ctx=null,f()),y},codecs:function(y){return(this||i)._codecs[y.replace(/^x-/,"")]},_setup:function(){var y=this||i;if(y.state=y.ctx&&y.ctx.state||"suspended",y._autoSuspend(),!y.usingWebAudio)if(typeof Audio<"u")try{var g=new Audio;void 0===g.oncanplaythrough&&(y._canPlayEvent="canplay")}catch{y.noAudio=!0}else y.noAudio=!0;try{(g=new Audio).muted&&(y.noAudio=!0)}catch{}return y.noAudio||y._setupCodecs(),y},_setupCodecs:function(){var y=this||i,g=null;try{g=typeof Audio<"u"?new Audio:null}catch{return y}if(!g||"function"!=typeof g.canPlayType)return y;var j=g.canPlayType("audio/mpeg;").replace(/^no$/,""),$=y._navigator&&y._navigator.userAgent.match(/OPR\/([0-6].)/g);return $=$&&33>parseInt($[0].split("/")[1],10),y._codecs={mp3:!($||!j&&!g.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!j,opus:!!g.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!g.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!g.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!g.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!g.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!g.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(g.canPlayType("audio/x-m4a;")||g.canPlayType("audio/m4a;")||g.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(g.canPlayType("audio/x-mp4;")||g.canPlayType("audio/mp4;")||g.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!g.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!g.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!g.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(g.canPlayType("audio/x-flac;")||g.canPlayType("audio/flac;")).replace(/^no$/,"")},y},_unlockAudio:function(){var y=this||i,g=/iPhone|iPad|iPod|Android|BlackBerry|BB10|Silk|Mobi|Chrome|Safari/i.test(y._navigator&&y._navigator.userAgent);if(!y._audioUnlocked&&y.ctx&&g){y._audioUnlocked=!1,y.autoUnlock=!1,y._mobileUnloaded||44100===y.ctx.sampleRate||(y._mobileUnloaded=!0,y.unload()),y._scratchBuffer=y.ctx.createBuffer(1,1,22050);var j=function($){for($=0;$<y.html5PoolSize;$++){var yt=new Audio;yt._unlocked=!0,y._releaseHtml5Audio(yt)}for($=0;$<y._howls.length;$++)if(!y._howls[$]._webAudio){yt=y._howls[$]._getSoundIds();for(var _t=0;_t<yt.length;_t++){var xt=y._howls[$]._soundById(yt[_t]);xt&&xt._node&&!xt._node._unlocked&&(xt._node._unlocked=!0,xt._node.load())}}y._autoResume();var Tt=y.ctx.createBufferSource();Tt.buffer=y._scratchBuffer,Tt.connect(y.ctx.destination),void 0===Tt.start?Tt.noteOn(0):Tt.start(0),"function"==typeof y.ctx.resume&&y.ctx.resume(),Tt.onended=function(){Tt.disconnect(0),y._audioUnlocked=!0,document.removeEventListener("touchstart",j,!0),document.removeEventListener("touchend",j,!0),document.removeEventListener("click",j,!0);for(var St=0;St<y._howls.length;St++)y._howls[St]._emit("unlock")}};return document.addEventListener("touchstart",j,!0),document.addEventListener("touchend",j,!0),document.addEventListener("click",j,!0),y}},_obtainHtml5Audio:function(){var y=this||i;return y._html5AudioPool.length?y._html5AudioPool.pop():((y=(new Audio).play())&&typeof Promise<"u"&&(y instanceof Promise||"function"==typeof y.then)&&y.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio)},_releaseHtml5Audio:function(y){var g=this||i;return y._unlocked&&g._html5AudioPool.push(y),g},_autoSuspend:function(){var y=this;if(y.autoSuspend&&y.ctx&&void 0!==y.ctx.suspend&&i.usingWebAudio){for(var g=0;g<y._howls.length;g++)if(y._howls[g]._webAudio)for(var j=0;j<y._howls[g]._sounds.length;j++)if(!y._howls[g]._sounds[j]._paused)return y;return y._suspendTimer&&clearTimeout(y._suspendTimer),y._suspendTimer=setTimeout(function(){y.autoSuspend&&(y._suspendTimer=null,y.state="suspending",y.ctx.suspend().then(function(){y.state="suspended",y._resumeAfterSuspend&&(delete y._resumeAfterSuspend,y._autoResume())}))},3e4),y}},_autoResume:function(){var y=this;if(y.ctx&&void 0!==y.ctx.resume&&i.usingWebAudio)return"running"===y.state&&y._suspendTimer?(clearTimeout(y._suspendTimer),y._suspendTimer=null):"suspended"===y.state?(y.ctx.resume().then(function(){y.state="running";for(var g=0;g<y._howls.length;g++)y._howls[g]._emit("resume")}),y._suspendTimer&&(clearTimeout(y._suspendTimer),y._suspendTimer=null)):"suspending"===y.state&&(y._resumeAfterSuspend=!0),y}};var i=new e,s=function(y){y.src&&0!==y.src.length?this.init(y):console.error("An array of source files must be passed with any new Howl.")};s.prototype={init:function(y){var g=this;return i.ctx||f(),g._autoplay=y.autoplay||!1,g._format="string"!=typeof y.format?y.format:[y.format],g._html5=y.html5||!1,g._muted=y.mute||!1,g._loop=y.loop||!1,g._pool=y.pool||5,g._preload="boolean"!=typeof y.preload||y.preload,g._rate=y.rate||1,g._sprite=y.sprite||{},g._src="string"!=typeof y.src?y.src:[y.src],g._volume=void 0!==y.volume?y.volume:1,g._xhrWithCredentials=y.xhrWithCredentials||!1,g._duration=0,g._state="unloaded",g._sounds=[],g._endTimers={},g._queue=[],g._playLock=!1,g._onend=y.onend?[{fn:y.onend}]:[],g._onfade=y.onfade?[{fn:y.onfade}]:[],g._onload=y.onload?[{fn:y.onload}]:[],g._onloaderror=y.onloaderror?[{fn:y.onloaderror}]:[],g._onplayerror=y.onplayerror?[{fn:y.onplayerror}]:[],g._onpause=y.onpause?[{fn:y.onpause}]:[],g._onplay=y.onplay?[{fn:y.onplay}]:[],g._onstop=y.onstop?[{fn:y.onstop}]:[],g._onmute=y.onmute?[{fn:y.onmute}]:[],g._onvolume=y.onvolume?[{fn:y.onvolume}]:[],g._onrate=y.onrate?[{fn:y.onrate}]:[],g._onseek=y.onseek?[{fn:y.onseek}]:[],g._onunlock=y.onunlock?[{fn:y.onunlock}]:[],g._onresume=[],g._webAudio=i.usingWebAudio&&!g._html5,void 0!==i.ctx&&i.ctx&&i.autoUnlock&&i._unlockAudio(),i._howls.push(g),g._autoplay&&g._queue.push({event:"play",action:function(){g.play()}}),g._preload&&g.load(),g},load:function(){var y=null;if(!i.noAudio){"string"==typeof this._src&&(this._src=[this._src]);for(var g=0;g<this._src.length;g++){var j;if(this._format&&this._format[g])var $=this._format[g];else{if("string"!=typeof(j=this._src[g])){this._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}($=/^data:audio\/([^;,]+);/i.exec(j))||($=/\.([^.]+)$/.exec(j.split("?",1)[0])),$&&($=$[1].toLowerCase())}if($||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),$&&i.codecs($)){y=this._src[g];break}}return y?(this._src=y,this._state="loading","https:"===window.location.protocol&&"http:"===y.slice(0,5)&&(this._html5=!0,this._webAudio=!1),new n(this),this._webAudio&&l(this),this):void this._emit("loaderror",null,"No codec support for selected audio sources.")}this._emit("loaderror",null,"No audio support.")},play:function(y,g){var j=this,$=null;if("number"==typeof y)$=y,y=null;else{if("string"==typeof y&&"loaded"===j._state&&!j._sprite[y])return null;if(void 0===y&&(y="__default",!j._playLock)){for(var yt=0,_t=0;_t<j._sounds.length;_t++)j._sounds[_t]._paused&&!j._sounds[_t]._ended&&(yt++,$=j._sounds[_t]._id);1===yt?y=null:$=null}}var xt=$?j._soundById($):j._inactiveSound();if(!xt)return null;if($&&!y&&(y=xt._sprite||"__default"),"loaded"!==j._state){xt._sprite=y,xt._ended=!1;var Tt=xt._id;return j._queue.push({event:"play",action:function(){j.play(Tt)}}),Tt}if($&&!xt._paused)return g||j._loadQueue("play"),xt._id;j._webAudio&&i._autoResume();var St=Math.max(0,0<xt._seek?xt._seek:j._sprite[y][0]/1e3),Mt=Math.max(0,(j._sprite[y][0]+j._sprite[y][1])/1e3-St),Et=1e3*Mt/Math.abs(xt._rate),Ct=j._sprite[y][0]/1e3,Dt=(j._sprite[y][0]+j._sprite[y][1])/1e3,At=!(!xt._loop&&!j._sprite[y][2]);xt._sprite=y,xt._ended=!1;var Nt=function(){xt._paused=!1,xt._seek=St,xt._start=Ct,xt._stop=Dt,xt._loop=At};if(!(St>=Dt)){var Ft=xt._node;if(j._webAudio)$=function(){j._playLock=!1,Nt(),j._refreshBuffer(xt),Ft.gain.setValueAtTime(xt._muted||j._muted?0:xt._volume,i.ctx.currentTime),xt._playStart=i.ctx.currentTime,void 0===Ft.bufferSource.start?Ft.bufferSource.noteGrainOn(0,St,xt._loop?86400:Mt):Ft.bufferSource.start(0,St,xt._loop?86400:Mt),Et!==1/0&&(j._endTimers[xt._id]=setTimeout(j._ended.bind(j,xt),Et)),g||setTimeout(function(){j._emit("play",xt._id),j._loadQueue()},0)},"running"===i.state?$():(j._playLock=!0,j.once("resume",$),j._clearTimer(xt._id));else{var Lt=function(){Ft.currentTime=St,Ft.muted=xt._muted||j._muted||i._muted||Ft.muted,Ft.volume=xt._volume*i.volume(),Ft.playbackRate=xt._rate;try{var Ht=Ft.play();if(Ht&&typeof Promise<"u"&&(Ht instanceof Promise||"function"==typeof Ht.then)?(j._playLock=!0,Nt(),Ht.then(function(){j._playLock=!1,Ft._unlocked=!0,g||(j._emit("play",xt._id),j._loadQueue())}).catch(function(){j._playLock=!1,j._emit("playerror",xt._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),xt._ended=!0,xt._paused=!0})):g||(j._playLock=!1,Nt(),j._emit("play",xt._id),j._loadQueue()),Ft.playbackRate=xt._rate,Ft.paused)return void j._emit("playerror",xt._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==y||xt._loop?j._endTimers[xt._id]=setTimeout(j._ended.bind(j,xt),Et):(j._endTimers[xt._id]=function(){j._ended(xt),Ft.removeEventListener("ended",j._endTimers[xt._id],!1)},Ft.addEventListener("ended",j._endTimers[xt._id],!1))}catch($t){j._emit("playerror",xt._id,$t)}};if($=window&&window.ejecta||!Ft.readyState&&i._navigator.isCocoonJS,3<=Ft.readyState||$)Lt();else{j._playLock=!0;var Ot=function(){Lt(),Ft.removeEventListener(i._canPlayEvent,Ot,!1)};Ft.addEventListener(i._canPlayEvent,Ot,!1),j._clearTimer(xt._id)}}return xt._id}j._ended(xt)},pause:function(y,g){var j=this;if("loaded"!==j._state||j._playLock)return j._queue.push({event:"pause",action:function(){j.pause(y)}}),j;for(var $=j._getSoundIds(y),yt=0;yt<$.length;yt++){j._clearTimer($[yt]);var _t=j._soundById($[yt]);if(_t&&!_t._paused&&(_t._seek=j.seek($[yt]),_t._rateSeek=0,_t._paused=!0,j._stopFade($[yt]),_t._node))if(j._webAudio){if(!_t._node.bufferSource)continue;void 0===_t._node.bufferSource.stop?_t._node.bufferSource.noteOff(0):_t._node.bufferSource.stop(0),j._cleanBuffer(_t._node)}else isNaN(_t._node.duration)&&_t._node.duration!==1/0||_t._node.pause();g||j._emit("pause",_t?_t._id:null)}return j},stop:function(y,g){var j=this;if("loaded"!==j._state||j._playLock)return j._queue.push({event:"stop",action:function(){j.stop(y)}}),j;for(var $=j._getSoundIds(y),yt=0;yt<$.length;yt++){j._clearTimer($[yt]);var _t=j._soundById($[yt]);_t&&(_t._seek=_t._start||0,_t._rateSeek=0,_t._paused=!0,_t._ended=!0,j._stopFade($[yt]),_t._node&&(j._webAudio?_t._node.bufferSource&&(void 0===_t._node.bufferSource.stop?_t._node.bufferSource.noteOff(0):_t._node.bufferSource.stop(0),j._cleanBuffer(_t._node)):isNaN(_t._node.duration)&&_t._node.duration!==1/0||(_t._node.currentTime=_t._start||0,_t._node.pause())),g||j._emit("stop",_t._id))}return j},mute:function(y,g){var j=this;if("loaded"!==j._state||j._playLock)return j._queue.push({event:"mute",action:function(){j.mute(y,g)}}),j;if(void 0===g){if("boolean"!=typeof y)return j._muted;j._muted=y}for(var $=j._getSoundIds(g),yt=0;yt<$.length;yt++){var _t=j._soundById($[yt]);_t&&(_t._muted=y,_t._interval&&j._stopFade(_t._id),j._webAudio&&_t._node?_t._node.gain.setValueAtTime(y?0:_t._volume,i.ctx.currentTime):_t._node&&(_t._node.muted=!!i._muted||y),j._emit("mute",_t._id))}return j},volume:function(){var y,g,yt,j=this,$=arguments;if(0===$.length)return j._volume;if(1===$.length||2===$.length&&void 0===$[1]?0<=j._getSoundIds().indexOf($[0])?g=parseInt($[0],10):y=parseFloat($[0]):2<=$.length&&(y=parseFloat($[0]),g=parseInt($[1],10)),!(void 0!==y&&0<=y&&1>=y))return(yt=g?j._soundById(g):j._sounds[0])?yt._volume:0;if("loaded"!==j._state||j._playLock)return j._queue.push({event:"volume",action:function(){j.volume.apply(j,$)}}),j;void 0===g&&(j._volume=y),g=j._getSoundIds(g);for(var _t=0;_t<g.length;_t++)(yt=j._soundById(g[_t]))&&(yt._volume=y,$[2]||j._stopFade(g[_t]),j._webAudio&&yt._node&&!yt._muted?yt._node.gain.setValueAtTime(y,i.ctx.currentTime):yt._node&&!yt._muted&&(yt._node.volume=y*i.volume()),j._emit("volume",yt._id));return j},fade:function(y,g,j,$){var yt=this;if("loaded"!==yt._state||yt._playLock)return yt._queue.push({event:"fade",action:function(){yt.fade(y,g,j,$)}}),yt;y=parseFloat(y),g=parseFloat(g),j=parseFloat(j),yt.volume(y,$);for(var _t=yt._getSoundIds($),xt=0;xt<_t.length;xt++){var Tt=yt._soundById(_t[xt]);if(Tt){if($||yt._stopFade(_t[xt]),yt._webAudio&&!Tt._muted){var St=i.ctx.currentTime,Mt=St+j/1e3;Tt._volume=y,Tt._node.gain.setValueAtTime(y,St),Tt._node.gain.linearRampToValueAtTime(g,Mt)}yt._startFadeInterval(Tt,y,g,j,_t[xt],void 0===$)}}return yt},_startFadeInterval:function(y,g,j,$,yt,_t){var xt=this,Tt=g,St=j-g;yt=Math.abs(St/.01),yt=Math.max(4,0<yt?$/yt:$);var Mt=Date.now();y._fadeTo=j,y._interval=setInterval(function(){var Et=(Date.now()-Mt)/$;Mt=Date.now(),Tt+=St*Et,Tt=Math.max(0,Tt),Tt=Math.min(1,Tt),Tt=Math.round(100*Tt)/100,xt._webAudio?y._volume=Tt:xt.volume(Tt,y._id,!0),_t&&(xt._volume=Tt),(j<g&&Tt<=j||j>g&&Tt>=j)&&(clearInterval(y._interval),y._interval=null,y._fadeTo=null,xt.volume(j,y._id),xt._emit("fade",y._id))},yt)},_stopFade:function(y){var g=this._soundById(y);return g&&g._interval&&(this._webAudio&&g._node.gain.cancelScheduledValues(i.ctx.currentTime),clearInterval(g._interval),g._interval=null,this.volume(g._fadeTo,y),g._fadeTo=null,this._emit("fade",y)),this},loop:function(){var y,g,j,$=arguments;if(0===$.length)return this._loop;if(1===$.length){if("boolean"!=typeof $[0])return!!(j=this._soundById(parseInt($[0],10)))&&j._loop;this._loop=y=$[0]}else 2===$.length&&(y=$[0],g=parseInt($[1],10));for(g=this._getSoundIds(g),$=0;$<g.length;$++)(j=this._soundById(g[$]))&&(j._loop=y,this._webAudio&&j._node&&j._node.bufferSource&&(j._node.bufferSource.loop=y,y&&(j._node.bufferSource.loopStart=j._start||0,j._node.bufferSource.loopEnd=j._stop)));return this},rate:function(){var y,g,yt,j=this,$=arguments;if(0===$.length?g=j._sounds[0]._id:1===$.length?0<=j._getSoundIds().indexOf($[0])?g=parseInt($[0],10):y=parseFloat($[0]):2===$.length&&(y=parseFloat($[0]),g=parseInt($[1],10)),"number"!=typeof y)return(yt=j._soundById(g))?yt._rate:j._rate;if("loaded"!==j._state||j._playLock)return j._queue.push({event:"rate",action:function(){j.rate.apply(j,$)}}),j;void 0===g&&(j._rate=y),g=j._getSoundIds(g);for(var _t=0;_t<g.length;_t++)if(yt=j._soundById(g[_t])){j.playing(g[_t])&&(yt._rateSeek=j.seek(g[_t]),yt._playStart=j._webAudio?i.ctx.currentTime:yt._playStart),yt._rate=y,j._webAudio&&yt._node&&yt._node.bufferSource?yt._node.bufferSource.playbackRate.setValueAtTime(y,i.ctx.currentTime):yt._node&&(yt._node.playbackRate=y);var xt=j.seek(g[_t]);xt=1e3*((j._sprite[yt._sprite][0]+j._sprite[yt._sprite][1])/1e3-xt)/Math.abs(yt._rate),!j._endTimers[g[_t]]&&yt._paused||(j._clearTimer(g[_t]),j._endTimers[g[_t]]=setTimeout(j._ended.bind(j,yt),xt)),j._emit("rate",yt._id)}return j},seek:function(){var y,g,j=this,$=arguments;if(0===$.length?g=j._sounds[0]._id:1===$.length?0<=j._getSoundIds().indexOf($[0])?g=parseInt($[0],10):j._sounds.length&&(g=j._sounds[0]._id,y=parseFloat($[0])):2===$.length&&(y=parseFloat($[0]),g=parseInt($[1],10)),void 0===g)return j;if("loaded"!==j._state||j._playLock)return j._queue.push({event:"seek",action:function(){j.seek.apply(j,$)}}),j;var yt=j._soundById(g);if(yt){if(!("number"==typeof y&&0<=y))return j._webAudio?(y=j.playing(g)?i.ctx.currentTime-yt._playStart:0,yt._seek+((yt._rateSeek?yt._rateSeek-yt._seek:0)+y*Math.abs(yt._rate))):yt._node.currentTime;var _t=j.playing(g);_t&&j.pause(g,!0),yt._seek=y,yt._ended=!1,j._clearTimer(g),j._webAudio||!yt._node||isNaN(yt._node.duration)||(yt._node.currentTime=y);var xt=function(){j._emit("seek",g),_t&&j.play(g,!0)};if(_t&&!j._webAudio){var Tt=function(){j._playLock?setTimeout(Tt,0):xt()};setTimeout(Tt,0)}else xt()}return j},playing:function(y){if("number"==typeof y)return!!(y=this._soundById(y))&&!y._paused;for(y=0;y<this._sounds.length;y++)if(!this._sounds[y]._paused)return!0;return!1},duration:function(y){var g=this._duration;return(y=this._soundById(y))&&(g=this._sprite[y._sprite][1]/1e3),g},state:function(){return this._state},unload:function(){for(var y=this._sounds,g=0;g<y.length;g++)y[g]._paused||this.stop(y[g]._id),this._webAudio||(/MSIE |Trident\//.test(i._navigator&&i._navigator.userAgent)||(y[g]._node.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"),y[g]._node.removeEventListener("error",y[g]._errorFn,!1),y[g]._node.removeEventListener(i._canPlayEvent,y[g]._loadFn,!1),i._releaseHtml5Audio(y[g]._node)),delete y[g]._node,this._clearTimer(y[g]._id);for(0<=(g=i._howls.indexOf(this))&&i._howls.splice(g,1),y=!0,g=0;g<i._howls.length;g++)if(i._howls[g]._src===this._src||0<=this._src.indexOf(i._howls[g]._src)){y=!1;break}return o&&y&&delete o[this._src],i.noAudio=!1,this._state="unloaded",this._sounds=[],null},on:function(y,g,j,$){return y=this["_on"+y],"function"==typeof g&&y.push($?{id:j,fn:g,once:$}:{id:j,fn:g}),this},off:function(y,g,j){var $=this["_on"+y];if("number"==typeof g&&(j=g,g=null),g||j)for(y=0;y<$.length;y++){var yt=j===$[y].id;if(g===$[y].fn&&yt||!g&&yt){$.splice(y,1);break}}else if(y)this["_on"+y]=[];else for(g=Object.keys(this),y=0;y<g.length;y++)0===g[y].indexOf("_on")&&Array.isArray(this[g[y]])&&(this[g[y]]=[]);return this},once:function(y,g,j){return this.on(y,g,j,1),this},_emit:function(y,g,j){for(var $=this["_on"+y],yt=$.length-1;0<=yt;yt--)$[yt].id&&$[yt].id!==g&&"load"!==y||(setTimeout(function(_t){_t.call(this,g,j)}.bind(this,$[yt].fn),0),$[yt].once&&this.off(y,$[yt].fn,$[yt].id));return this._loadQueue(y),this},_loadQueue:function(y){if(0<this._queue.length){var g=this._queue[0];g.event===y&&(this._queue.shift(),this._loadQueue()),y||g.action()}return this},_ended:function(y){var g=y._sprite;if(!this._webAudio&&y._node&&!y._node.paused&&!y._node.ended&&y._node.currentTime<y._stop)return setTimeout(this._ended.bind(this,y),100),this;if(g=!(!y._loop&&!this._sprite[g][2]),this._emit("end",y._id),!this._webAudio&&g&&this.stop(y._id,!0).play(y._id),this._webAudio&&g){this._emit("play",y._id),y._seek=y._start||0,y._rateSeek=0,y._playStart=i.ctx.currentTime;var j=1e3*(y._stop-y._start)/Math.abs(y._rate);this._endTimers[y._id]=setTimeout(this._ended.bind(this,y),j)}return this._webAudio&&!g&&(y._paused=!0,y._ended=!0,y._seek=y._start||0,y._rateSeek=0,this._clearTimer(y._id),this._cleanBuffer(y._node),i._autoSuspend()),this._webAudio||g||this.stop(y._id,!0),this},_clearTimer:function(y){if(this._endTimers[y]){if("function"!=typeof this._endTimers[y])clearTimeout(this._endTimers[y]);else{var g=this._soundById(y);g&&g._node&&g._node.removeEventListener("ended",this._endTimers[y],!1)}delete this._endTimers[y]}return this},_soundById:function(y){for(var g=0;g<this._sounds.length;g++)if(y===this._sounds[g]._id)return this._sounds[g];return null},_inactiveSound:function(){this._drain();for(var y=0;y<this._sounds.length;y++)if(this._sounds[y]._ended)return this._sounds[y].reset();return new n(this)},_drain:function(){var j,y=this._pool,g=0;if(!(this._sounds.length<y)){for(j=0;j<this._sounds.length;j++)this._sounds[j]._ended&&g++;for(j=this._sounds.length-1;0<=j&&!(g<=y);j--)this._sounds[j]._ended&&(this._webAudio&&this._sounds[j]._node&&this._sounds[j]._node.disconnect(0),this._sounds.splice(j,1),g--)}},_getSoundIds:function(y){if(void 0===y){y=[];for(var g=0;g<this._sounds.length;g++)y.push(this._sounds[g]._id);return y}return[y]},_refreshBuffer:function(y){return y._node.bufferSource=i.ctx.createBufferSource(),y._node.bufferSource.buffer=o[this._src],y._node.bufferSource.connect(y._panner?y._panner:y._node),y._node.bufferSource.loop=y._loop,y._loop&&(y._node.bufferSource.loopStart=y._start||0,y._node.bufferSource.loopEnd=y._stop||0),y._node.bufferSource.playbackRate.setValueAtTime(y._rate,i.ctx.currentTime),this},_cleanBuffer:function(y){var g=i._navigator&&0<=i._navigator.vendor.indexOf("Apple");if(i._scratchBuffer&&y.bufferSource&&(y.bufferSource.onended=null,y.bufferSource.disconnect(0),g))try{y.bufferSource.buffer=i._scratchBuffer}catch{}return y.bufferSource=null,this}};var n=function(y){this._parent=y,this.init()};n.prototype={init:function(){var y=this._parent;return this._muted=y._muted,this._loop=y._loop,this._volume=y._volume,this._rate=y._rate,this._seek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++i._counter,y._sounds.push(this),this.create(),this},create:function(){var y=this._parent,g=i._muted||this._muted||this._parent._muted?0:this._volume;return y._webAudio?(this._node=void 0===i.ctx.createGain?i.ctx.createGainNode():i.ctx.createGain(),this._node.gain.setValueAtTime(g,i.ctx.currentTime),this._node.paused=!0,this._node.connect(i.masterGain)):(this._node=i._obtainHtml5Audio(),this._errorFn=this._errorListener.bind(this),this._node.addEventListener("error",this._errorFn,!1),this._loadFn=this._loadListener.bind(this),this._node.addEventListener(i._canPlayEvent,this._loadFn,!1),this._node.src=y._src,this._node.preload="auto",this._node.volume=g*i.volume(),this._node.load()),this},reset:function(){var y=this._parent;return this._muted=y._muted,this._loop=y._loop,this._volume=y._volume,this._rate=y._rate,this._seek=0,this._rateSeek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++i._counter,this},_errorListener:function(){this._parent._emit("loaderror",this._id,this._node.error?this._node.error.code:0),this._node.removeEventListener("error",this._errorFn,!1)},_loadListener:function(){var y=this._parent;y._duration=Math.ceil(10*this._node.duration)/10,0===Object.keys(y._sprite).length&&(y._sprite={__default:[0,1e3*y._duration]}),"loaded"!==y._state&&(y._state="loaded",y._emit("load"),y._loadQueue()),this._node.removeEventListener(i._canPlayEvent,this._loadFn,!1)}};var o={},l=function(y){var g=y._src;if(o[g])return y._duration=o[g].duration,void m(y);if(/^data:[^;]+;base64,/.test(g)){for(var j=atob(g.split(",")[1]),$=new Uint8Array(j.length),yt=0;yt<j.length;++yt)$[yt]=j.charCodeAt(yt);h($.buffer,y)}else{var _t=new XMLHttpRequest;_t.open("GET",g,!0),_t.withCredentials=y._xhrWithCredentials,_t.responseType="arraybuffer",_t.onload=function(){var xt=(_t.status+"")[0];"0"===xt||"2"===xt||"3"===xt?h(_t.response,y):y._emit("loaderror",null,"Failed loading audio file with status: "+_t.status+".")},_t.onerror=function(){y._webAudio&&(y._html5=!0,y._webAudio=!1,y._sounds=[],delete o[g],y.load())},_(_t)}},_=function(y){try{y.send()}catch{y.onerror()}},h=function(y,g){var j=function(){g._emit("loaderror",null,"Decoding audio data failed.")},$=function(yt){yt&&0<g._sounds.length?(o[g._src]=yt,m(g,yt)):j()};typeof Promise<"u"&&1===i.ctx.decodeAudioData.length?i.ctx.decodeAudioData(y).then($).catch(j):i.ctx.decodeAudioData(y,$,j)},m=function(y,g){g&&!y._duration&&(y._duration=g.duration),0===Object.keys(y._sprite).length&&(y._sprite={__default:[0,1e3*y._duration]}),"loaded"!==y._state&&(y._state="loaded",y._emit("load"),y._loadQueue())},f=function(){if(i.usingWebAudio){try{typeof AudioContext<"u"?i.ctx=new AudioContext:typeof webkitAudioContext<"u"?i.ctx=new webkitAudioContext:i.usingWebAudio=!1}catch{i.usingWebAudio=!1}i.ctx||(i.usingWebAudio=!1);var y=/iP(hone|od|ad)/.test(i._navigator&&i._navigator.platform),g=i._navigator&&i._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);g=g?parseInt(g[1],10):null,y&&g&&9>g&&(y=/safari/.test(i._navigator&&i._navigator.userAgent.toLowerCase()),(i._navigator&&i._navigator.standalone&&!y||i._navigator&&!i._navigator.standalone&&!y)&&(i.usingWebAudio=!1)),i.usingWebAudio&&(i.masterGain=void 0===i.ctx.createGain?i.ctx.createGainNode():i.ctx.createGain(),i.masterGain.gain.setValueAtTime(i._muted?0:1,i.ctx.currentTime),i.masterGain.connect(i.ctx.destination)),i._setup()}};"function"==typeof define&&define.amd&&define([],function(){return{Howler:i,Howl:s}}),typeof exports<"u"&&(exports.Howler=i,exports.Howl=s),typeof window<"u"?(window.HowlerGlobal=e,window.Howler=i,window.Howl=s,window.Sound=n):typeof global<"u"&&(global.HowlerGlobal=e,global.Howler=i,global.Howl=s,global.Sound=n)}(),function(){var i;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(i){if(!this.ctx||!this.ctx.listener)return this;for(var s=this._howls.length-1;0<=s;s--)this._howls[s].stereo(i);return this},HowlerGlobal.prototype.pos=function(i,s,n){return this.ctx&&this.ctx.listener?(s="number"!=typeof s?this._pos[1]:s,n="number"!=typeof n?this._pos[2]:n,"number"!=typeof i?this._pos:(this._pos=[i,s,n],void 0!==this.ctx.listener.positionX?(this.ctx.listener.positionX.setTargetAtTime(this._pos[0],Howler.ctx.currentTime,.1),this.ctx.listener.positionY.setTargetAtTime(this._pos[1],Howler.ctx.currentTime,.1),this.ctx.listener.positionZ.setTargetAtTime(this._pos[2],Howler.ctx.currentTime,.1)):this.ctx.listener.setPosition(this._pos[0],this._pos[1],this._pos[2]),this)):this},HowlerGlobal.prototype.orientation=function(i,s,n,o,l,_){if(!this.ctx||!this.ctx.listener)return this;var h=this._orientation;return s="number"!=typeof s?h[1]:s,n="number"!=typeof n?h[2]:n,o="number"!=typeof o?h[3]:o,l="number"!=typeof l?h[4]:l,_="number"!=typeof _?h[5]:_,"number"!=typeof i?h:(this._orientation=[i,s,n,o,l,_],void 0!==this.ctx.listener.forwardX?(this.ctx.listener.forwardX.setTargetAtTime(i,Howler.ctx.currentTime,.1),this.ctx.listener.forwardY.setTargetAtTime(s,Howler.ctx.currentTime,.1),this.ctx.listener.forwardZ.setTargetAtTime(n,Howler.ctx.currentTime,.1),this.ctx.listener.upX.setTargetAtTime(i,Howler.ctx.currentTime,.1),this.ctx.listener.upY.setTargetAtTime(s,Howler.ctx.currentTime,.1),this.ctx.listener.upZ.setTargetAtTime(n,Howler.ctx.currentTime,.1)):this.ctx.listener.setOrientation(i,s,n,o,l,_),this)},Howl.prototype.init=(i=Howl.prototype.init,function(s){return this._orientation=s.orientation||[1,0,0],this._stereo=s.stereo||null,this._pos=s.pos||null,this._pannerAttr={coneInnerAngle:void 0!==s.coneInnerAngle?s.coneInnerAngle:360,coneOuterAngle:void 0!==s.coneOuterAngle?s.coneOuterAngle:360,coneOuterGain:void 0!==s.coneOuterGain?s.coneOuterGain:0,distanceModel:void 0!==s.distanceModel?s.distanceModel:"inverse",maxDistance:void 0!==s.maxDistance?s.maxDistance:1e4,panningModel:void 0!==s.panningModel?s.panningModel:"HRTF",refDistance:void 0!==s.refDistance?s.refDistance:1,rolloffFactor:void 0!==s.rolloffFactor?s.rolloffFactor:1},this._onstereo=s.onstereo?[{fn:s.onstereo}]:[],this._onpos=s.onpos?[{fn:s.onpos}]:[],this._onorientation=s.onorientation?[{fn:s.onorientation}]:[],i.call(this,s)}),Howl.prototype.stereo=function(i,s){var n=this;if(!n._webAudio)return n;if("loaded"!==n._state)return n._queue.push({event:"stereo",action:function(){n.stereo(i,s)}}),n;var o=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===s){if("number"!=typeof i)return n._stereo;n._stereo=i,n._pos=[i,0,0]}for(var l=n._getSoundIds(s),_=0;_<l.length;_++){var h=n._soundById(l[_]);if(h){if("number"!=typeof i)return h._stereo;h._stereo=i,h._pos=[i,0,0],h._node&&(h._pannerAttr.panningModel="equalpower",h._panner&&h._panner.pan||e(h,o),"spatial"===o?void 0!==h._panner.positionX?(h._panner.positionX.setValueAtTime(i,Howler.ctx.currentTime),h._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),h._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):h._panner.setPosition(i,0,0):h._panner.pan.setValueAtTime(i,Howler.ctx.currentTime)),n._emit("stereo",h._id)}}return n},Howl.prototype.pos=function(i,s,n,o){var l=this;if(!l._webAudio)return l;if("loaded"!==l._state)return l._queue.push({event:"pos",action:function(){l.pos(i,s,n,o)}}),l;if(s="number"!=typeof s?0:s,n="number"!=typeof n?-.5:n,void 0===o){if("number"!=typeof i)return l._pos;l._pos=[i,s,n]}for(var _=l._getSoundIds(o),h=0;h<_.length;h++){var m=l._soundById(_[h]);if(m){if("number"!=typeof i)return m._pos;m._pos=[i,s,n],m._node&&(m._panner&&!m._panner.pan||e(m,"spatial"),void 0!==m._panner.positionX?(m._panner.positionX.setValueAtTime(i,Howler.ctx.currentTime),m._panner.positionY.setValueAtTime(s,Howler.ctx.currentTime),m._panner.positionZ.setValueAtTime(n,Howler.ctx.currentTime)):m._panner.setPosition(i,s,n)),l._emit("pos",m._id)}}return l},Howl.prototype.orientation=function(i,s,n,o){var l=this;if(!l._webAudio)return l;if("loaded"!==l._state)return l._queue.push({event:"orientation",action:function(){l.orientation(i,s,n,o)}}),l;if(s="number"!=typeof s?l._orientation[1]:s,n="number"!=typeof n?l._orientation[2]:n,void 0===o){if("number"!=typeof i)return l._orientation;l._orientation=[i,s,n]}for(var _=l._getSoundIds(o),h=0;h<_.length;h++){var m=l._soundById(_[h]);if(m){if("number"!=typeof i)return m._orientation;m._orientation=[i,s,n],m._node&&(m._panner||(m._pos||(m._pos=l._pos||[0,0,-.5]),e(m,"spatial")),void 0!==m._panner.orientationX?(m._panner.orientationX.setValueAtTime(i,Howler.ctx.currentTime),m._panner.orientationY.setValueAtTime(s,Howler.ctx.currentTime),m._panner.orientationZ.setValueAtTime(n,Howler.ctx.currentTime)):m._panner.setOrientation(i,s,n)),l._emit("orientation",m._id)}}return l},Howl.prototype.pannerAttr=function(){var i,s,n=arguments;if(!this._webAudio)return this;if(0===n.length)return this._pannerAttr;if(1===n.length){if("object"!=typeof n[0])return(s=this._soundById(parseInt(n[0],10)))?s._pannerAttr:this._pannerAttr;var o=n[0];void 0===i&&(o.pannerAttr||(o.pannerAttr={coneInnerAngle:o.coneInnerAngle,coneOuterAngle:o.coneOuterAngle,coneOuterGain:o.coneOuterGain,distanceModel:o.distanceModel,maxDistance:o.maxDistance,refDistance:o.refDistance,rolloffFactor:o.rolloffFactor,panningModel:o.panningModel}),this._pannerAttr={coneInnerAngle:void 0!==o.pannerAttr.coneInnerAngle?o.pannerAttr.coneInnerAngle:this._coneInnerAngle,coneOuterAngle:void 0!==o.pannerAttr.coneOuterAngle?o.pannerAttr.coneOuterAngle:this._coneOuterAngle,coneOuterGain:void 0!==o.pannerAttr.coneOuterGain?o.pannerAttr.coneOuterGain:this._coneOuterGain,distanceModel:void 0!==o.pannerAttr.distanceModel?o.pannerAttr.distanceModel:this._distanceModel,maxDistance:void 0!==o.pannerAttr.maxDistance?o.pannerAttr.maxDistance:this._maxDistance,refDistance:void 0!==o.pannerAttr.refDistance?o.pannerAttr.refDistance:this._refDistance,rolloffFactor:void 0!==o.pannerAttr.rolloffFactor?o.pannerAttr.rolloffFactor:this._rolloffFactor,panningModel:void 0!==o.pannerAttr.panningModel?o.pannerAttr.panningModel:this._panningModel})}else 2===n.length&&(o=n[0],i=parseInt(n[1],10));for(i=this._getSoundIds(i),n=0;n<i.length;n++)if(s=this._soundById(i[n])){var l=s._pannerAttr;l={coneInnerAngle:void 0!==o.coneInnerAngle?o.coneInnerAngle:l.coneInnerAngle,coneOuterAngle:void 0!==o.coneOuterAngle?o.coneOuterAngle:l.coneOuterAngle,coneOuterGain:void 0!==o.coneOuterGain?o.coneOuterGain:l.coneOuterGain,distanceModel:void 0!==o.distanceModel?o.distanceModel:l.distanceModel,maxDistance:void 0!==o.maxDistance?o.maxDistance:l.maxDistance,refDistance:void 0!==o.refDistance?o.refDistance:l.refDistance,rolloffFactor:void 0!==o.rolloffFactor?o.rolloffFactor:l.rolloffFactor,panningModel:void 0!==o.panningModel?o.panningModel:l.panningModel};var _=s._panner;_?(_.coneInnerAngle=l.coneInnerAngle,_.coneOuterAngle=l.coneOuterAngle,_.coneOuterGain=l.coneOuterGain,_.distanceModel=l.distanceModel,_.maxDistance=l.maxDistance,_.refDistance=l.refDistance,_.rolloffFactor=l.rolloffFactor,_.panningModel=l.panningModel):(s._pos||(s._pos=this._pos||[0,0,-.5]),e(s,"spatial"))}return this},Sound.prototype.init=function(i){return function(){var s=this._parent;this._orientation=s._orientation,this._stereo=s._stereo,this._pos=s._pos,this._pannerAttr=s._pannerAttr,i.call(this),this._stereo?s.stereo(this._stereo):this._pos&&s.pos(this._pos[0],this._pos[1],this._pos[2],this._id)}}(Sound.prototype.init),Sound.prototype.reset=function(i){return function(){var s=this._parent;return this._orientation=s._orientation,this._stereo=s._stereo,this._pos=s._pos,this._pannerAttr=s._pannerAttr,this._stereo?s.stereo(this._stereo):this._pos?s.pos(this._pos[0],this._pos[1],this._pos[2],this._id):this._panner&&(this._panner.disconnect(0),this._panner=void 0,s._refreshBuffer(this)),i.call(this)}}(Sound.prototype.reset);var e=function(i,s){"spatial"===(s||"spatial")?(i._panner=Howler.ctx.createPanner(),i._panner.coneInnerAngle=i._pannerAttr.coneInnerAngle,i._panner.coneOuterAngle=i._pannerAttr.coneOuterAngle,i._panner.coneOuterGain=i._pannerAttr.coneOuterGain,i._panner.distanceModel=i._pannerAttr.distanceModel,i._panner.maxDistance=i._pannerAttr.maxDistance,i._panner.refDistance=i._pannerAttr.refDistance,i._panner.rolloffFactor=i._pannerAttr.rolloffFactor,i._panner.panningModel=i._pannerAttr.panningModel,void 0!==i._panner.positionX?(i._panner.positionX.setValueAtTime(i._pos[0],Howler.ctx.currentTime),i._panner.positionY.setValueAtTime(i._pos[1],Howler.ctx.currentTime),i._panner.positionZ.setValueAtTime(i._pos[2],Howler.ctx.currentTime)):i._panner.setPosition(i._pos[0],i._pos[1],i._pos[2]),void 0!==i._panner.orientationX?(i._panner.orientationX.setValueAtTime(i._orientation[0],Howler.ctx.currentTime),i._panner.orientationY.setValueAtTime(i._orientation[1],Howler.ctx.currentTime),i._panner.orientationZ.setValueAtTime(i._orientation[2],Howler.ctx.currentTime)):i._panner.setOrientation(i._orientation[0],i._orientation[1],i._orientation[2])):(i._panner=Howler.ctx.createStereoPanner(),i._panner.pan.setValueAtTime(i._stereo,Howler.ctx.currentTime)),i._panner.connect(i._node),i._paused||i._parent.pause(i._id,!0).play(i._id,!0)}}(),function(e){"object"==typeof exports&&typeof module<"u"?module.exports=e():"function"==typeof define&&define.amd?define([],e):(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this).pako=e()}(function(){return function e(i,s,n){function o(h,m){if(!s[h]){if(!i[h]){var f="function"==typeof require&&require;if(!m&&f)return f(h,!0);if(l)return l(h,!0);throw(m=Error("Cannot find module '"+h+"'")).code="MODULE_NOT_FOUND",m}m=s[h]={exports:{}},i[h][0].call(m.exports,function(y){return o(i[h][1][y]||y)},m,m.exports,e,i,s,n)}return s[h].exports}for(var l="function"==typeof require&&require,_=0;_<n.length;_++)o(n[_]);return o}({1:[function(e,i,s){function n(_t){if(!(this instanceof n))return new n(_t);(_t=this.options=_.assign({level:j,method:yt,chunkSize:16384,windowBits:15,memLevel:8,strategy:$,to:""},_t||{})).raw&&0<_t.windowBits?_t.windowBits=-_t.windowBits:_t.gzip&&0<_t.windowBits&&16>_t.windowBits&&(_t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var xt=l.deflateInit2(this.strm,_t.level,_t.method,_t.windowBits,_t.memLevel,_t.strategy);if(xt!==g)throw Error(m[xt]);if(_t.header&&l.deflateSetHeader(this.strm,_t.header),_t.dictionary){var Tt;if(Tt="string"==typeof _t.dictionary?h.string2buf(_t.dictionary):"[object ArrayBuffer]"===y.call(_t.dictionary)?new Uint8Array(_t.dictionary):_t.dictionary,(xt=l.deflateSetDictionary(this.strm,Tt))!==g)throw Error(m[xt]);this._dict_set=!0}}function o(_t,xt){if((xt=new n(xt)).push(_t,!0),xt.err)throw xt.msg;return xt.result}var l=e("./zlib/deflate"),_=e("./utils/common"),h=e("./utils/strings"),m=e("./zlib/messages"),f=e("./zlib/zstream"),y=Object.prototype.toString,g=0,j=-1,$=0,yt=8;n.prototype.push=function(_t,xt){var Tt,St=this.strm,Mt=this.options.chunkSize;if(this.ended)return!1;xt=xt===~~xt?xt:!0===xt?4:0,St.input="string"==typeof _t?h.string2buf(_t):"[object ArrayBuffer]"===y.call(_t)?new Uint8Array(_t):_t,St.next_in=0,St.avail_in=St.input.length;do{if(0===St.avail_out&&(St.output=new _.Buf8(Mt),St.next_out=0,St.avail_out=Mt),1!==(Tt=l.deflate(St,xt))&&Tt!==g)return this.onEnd(Tt),this.ended=!0,!1;0!==St.avail_out&&(0!==St.avail_in||4!==xt&&2!==xt)||this.onData("string"===this.options.to?h.buf2binstring(_.shrinkBuf(St.output,St.next_out)):_.shrinkBuf(St.output,St.next_out))}while((0<St.avail_in||0===St.avail_out)&&1!==Tt);return 4===xt?(Tt=l.deflateEnd(this.strm),this.onEnd(Tt),this.ended=!0,Tt===g):2!==xt||(this.onEnd(g),St.avail_out=0,!0)},n.prototype.onData=function(_t){this.chunks.push(_t)},n.prototype.onEnd=function(_t){_t===g&&(this.result="string"===this.options.to?this.chunks.join(""):_.flattenChunks(this.chunks)),this.chunks=[],this.err=_t,this.msg=this.strm.msg},s.Deflate=n,s.deflate=o,s.deflateRaw=function(_t,xt){return(xt=xt||{}).raw=!0,o(_t,xt)},s.gzip=function(_t,xt){return(xt=xt||{}).gzip=!0,o(_t,xt)}},{"./utils/common":3,"./utils/strings":4,"./zlib/deflate":8,"./zlib/messages":13,"./zlib/zstream":15}],2:[function(e,i,s){function n($){if(!(this instanceof n))return new n($);var yt=this.options=_.assign({chunkSize:16384,windowBits:0,to:""},$||{});if(yt.raw&&0<=yt.windowBits&&16>yt.windowBits&&(yt.windowBits=-yt.windowBits,0===yt.windowBits&&(yt.windowBits=-15)),!(0<=yt.windowBits&&16>yt.windowBits)||$&&$.windowBits||(yt.windowBits+=32),15<yt.windowBits&&48>yt.windowBits&&!(15&yt.windowBits)&&(yt.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new y,this.strm.avail_out=0,($=l.inflateInit2(this.strm,yt.windowBits))!==m.Z_OK)throw Error(f[$]);this.header=new g,l.inflateGetHeader(this.strm,this.header)}function o($,yt){if((yt=new n(yt)).push($,!0),yt.err)throw yt.msg;return yt.result}var l=e("./zlib/inflate"),_=e("./utils/common"),h=e("./utils/strings"),m=e("./zlib/constants"),f=e("./zlib/messages"),y=e("./zlib/zstream"),g=e("./zlib/gzheader"),j=Object.prototype.toString;n.prototype.push=function($,yt){var _t,xt,Tt,St,Mt,Et=this.strm,Ct=this.options.chunkSize,Dt=this.options.dictionary,At=!1;if(this.ended)return!1;yt=yt===~~yt?yt:!0===yt?m.Z_FINISH:m.Z_NO_FLUSH,Et.input="string"==typeof $?h.binstring2buf($):"[object ArrayBuffer]"===j.call($)?new Uint8Array($):$,Et.next_in=0,Et.avail_in=Et.input.length;do{if(0===Et.avail_out&&(Et.output=new _.Buf8(Ct),Et.next_out=0,Et.avail_out=Ct),(_t=l.inflate(Et,m.Z_NO_FLUSH))===m.Z_NEED_DICT&&Dt&&(Mt="string"==typeof Dt?h.string2buf(Dt):"[object ArrayBuffer]"===j.call(Dt)?new Uint8Array(Dt):Dt,_t=l.inflateSetDictionary(this.strm,Mt)),_t===m.Z_BUF_ERROR&&!0===At&&(_t=m.Z_OK,At=!1),_t!==m.Z_STREAM_END&&_t!==m.Z_OK)return this.onEnd(_t),this.ended=!0,!1;Et.next_out&&(0!==Et.avail_out&&_t!==m.Z_STREAM_END&&(0!==Et.avail_in||yt!==m.Z_FINISH&&yt!==m.Z_SYNC_FLUSH)||("string"===this.options.to?(xt=h.utf8border(Et.output,Et.next_out),Tt=Et.next_out-xt,St=h.buf2string(Et.output,xt),Et.next_out=Tt,Et.avail_out=Ct-Tt,Tt&&_.arraySet(Et.output,Et.output,xt,Tt,0),this.onData(St)):this.onData(_.shrinkBuf(Et.output,Et.next_out)))),0===Et.avail_in&&0===Et.avail_out&&(At=!0)}while((0<Et.avail_in||0===Et.avail_out)&&_t!==m.Z_STREAM_END);return _t===m.Z_STREAM_END&&(yt=m.Z_FINISH),yt===m.Z_FINISH?(_t=l.inflateEnd(this.strm),this.onEnd(_t),this.ended=!0,_t===m.Z_OK):yt!==m.Z_SYNC_FLUSH||(this.onEnd(m.Z_OK),Et.avail_out=0,!0)},n.prototype.onData=function($){this.chunks.push($)},n.prototype.onEnd=function($){$===m.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):_.flattenChunks(this.chunks)),this.chunks=[],this.err=$,this.msg=this.strm.msg},s.Inflate=n,s.inflate=o,s.inflateRaw=function($,yt){return(yt=yt||{}).raw=!0,o($,yt)},s.ungzip=o},{"./utils/common":3,"./utils/strings":4,"./zlib/constants":6,"./zlib/gzheader":9,"./zlib/inflate":11,"./zlib/messages":13,"./zlib/zstream":15}],3:[function(e,i,s){e=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u",s.assign=function(l){for(var _=Array.prototype.slice.call(arguments,1);_.length;){var h=_.shift();if(h){if("object"!=typeof h)throw new TypeError(h+"must be non-object");for(var m in h)h.hasOwnProperty(m)&&(l[m]=h[m])}}return l},s.shrinkBuf=function(l,_){return l.length===_?l:l.subarray?l.subarray(0,_):(l.length=_,l)};var n={arraySet:function(l,_,h,m,f){if(_.subarray&&l.subarray)l.set(_.subarray(h,h+m),f);else for(var y=0;y<m;y++)l[f+y]=_[h+y]},flattenChunks:function(l){var _,h,m=h=0;for(_=l.length;m<_;m++)h+=l[m].length;var f=new Uint8Array(h);for(m=h=0,_=l.length;m<_;m++){var y=l[m];f.set(y,h),h+=y.length}return f}},o={arraySet:function(l,_,h,m,f){for(var y=0;y<m;y++)l[f+y]=_[h+y]},flattenChunks:function(l){return[].concat.apply([],l)}};s.setTyped=function(l){l?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,n)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,o))},s.setTyped(e)},{}],4:[function(e,i,s){function n(m,f){if(65537>f&&(m.subarray&&_||!m.subarray&&l))return String.fromCharCode.apply(null,o.shrinkBuf(m,f));for(var y="",g=0;g<f;g++)y+=String.fromCharCode(m[g]);return y}var o=e("./common"),l=!0,_=!0;try{String.fromCharCode.apply(null,[0])}catch{l=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{_=!1}var h=new o.Buf8(256);for(e=0;256>e;e++)h[e]=252<=e?6:248<=e?5:240<=e?4:224<=e?3:192<=e?2:1;h[254]=h[254]=1,s.string2buf=function(m){var f,y,g,j=m.length,$=0;for(y=0;y<j;y++){var yt=m.charCodeAt(y);55296==(64512&yt)&&y+1<j&&56320==(64512&(f=m.charCodeAt(y+1)))&&(yt=65536+(yt-55296<<10)+(f-56320),y++),$+=128>yt?1:2048>yt?2:65536>yt?3:4}var _t=new o.Buf8($);for(y=g=0;g<$;y++)55296==(64512&(yt=m.charCodeAt(y)))&&y+1<j&&56320==(64512&(f=m.charCodeAt(y+1)))&&(yt=65536+(yt-55296<<10)+(f-56320),y++),128>yt?_t[g++]=yt:2048>yt?(_t[g++]=192|yt>>>6,_t[g++]=128|63&yt):65536>yt?(_t[g++]=224|yt>>>12,_t[g++]=128|yt>>>6&63,_t[g++]=128|63&yt):(_t[g++]=240|yt>>>18,_t[g++]=128|yt>>>12&63,_t[g++]=128|yt>>>6&63,_t[g++]=128|63&yt);return _t},s.buf2binstring=function(m){return n(m,m.length)},s.binstring2buf=function(m){for(var f=new o.Buf8(m.length),y=0,g=f.length;y<g;y++)f[y]=m.charCodeAt(y);return f},s.buf2string=function(m,f){var y,g,j,$=f||m.length,yt=Array(2*$);for(f=y=0;f<$;)if(128>(g=m[f++]))yt[y++]=g;else if(4<(j=h[g]))yt[y++]=65533,f+=j-1;else{for(g&=2===j?31:3===j?15:7;1<j&&f<$;)g=g<<6|63&m[f++],j--;1<j?yt[y++]=65533:65536>g?yt[y++]=g:(yt[y++]=55296|(g-=65536)>>10&1023,yt[y++]=56320|1023&g)}return n(yt,y)},s.utf8border=function(m,f){var y;for((f=f||m.length)>m.length&&(f=m.length),y=f-1;0<=y&&128==(192&m[y]);)y--;return 0>y||0===y?f:y+h[m[y]]>f?y:f}},{"./common":3}],5:[function(e,i,s){i.exports=function(n,o,l,_){var m,h=65535&n|0;for(n=n>>>16&65535|0;0!==l;){l-=m=2e3<l?2e3:l;do{n=n+(h=h+o[_++]|0)|0}while(--m);h%=65521,n%=65521}return h|n<<16|0}},{}],6:[function(e,i,s){i.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],7:[function(e,i,s){var n=function(){for(var o,l=[],_=0;256>_;_++){o=_;for(var h=0;8>h;h++)o=1&o?3988292384^o>>>1:o>>>1;l[_]=o}return l}();i.exports=function(o,l,_,h){for(_=h+_,o^=-1;h<_;h++)o=o>>>8^n[255&(o^l[h])];return-1^o}},{}],8:[function(e,i,s){function n(Pt,Yt){return Pt.msg=Dt[Yt],Yt}function o(Pt){for(var Yt=Pt.length;0<=--Yt;)Pt[Yt]=0}function l(Pt){var Yt=Pt.state,It=Yt.pending;It>Pt.avail_out&&(It=Pt.avail_out),0!==It&&(St.arraySet(Pt.output,Yt.pending_buf,Yt.pending_out,It,Pt.next_out),Pt.next_out+=It,Yt.pending_out+=It,Pt.total_out+=It,Pt.avail_out-=It,Yt.pending-=It,0===Yt.pending&&(Yt.pending_out=0))}function _(Pt,Yt){Mt._tr_flush_block(Pt,0<=Pt.block_start?Pt.block_start:-1,Pt.strstart-Pt.block_start,Yt),Pt.block_start=Pt.strstart,l(Pt.strm)}function h(Pt,Yt){Pt.pending_buf[Pt.pending++]=Yt}function m(Pt,Yt){Pt.pending_buf[Pt.pending++]=Yt>>>8&255,Pt.pending_buf[Pt.pending++]=255&Yt}function f(Pt,Yt){var It,Rt,Ut=Pt.max_chain_length,Wt=Pt.strstart,Xt=Pt.prev_length,Zt=Pt.nice_match,_a=Pt.strstart>Pt.w_size-_i?Pt.strstart-(Pt.w_size-_i):0,_s=Pt.window,t_=Pt.w_mask,e_=Pt.prev,r_=Pt.strstart+_r,ga=_s[Wt+Xt-1],c_=_s[Wt+Xt];Pt.prev_length>=Pt.good_match&&(Ut>>=2),Zt>Pt.lookahead&&(Zt=Pt.lookahead);do{if(_s[(It=Yt)+Xt]===c_&&_s[It+Xt-1]===ga&&_s[It]===_s[Wt]&&_s[++It]===_s[Wt+1]){for(Wt+=2,It++;_s[++Wt]===_s[++It]&&_s[++Wt]===_s[++It]&&_s[++Wt]===_s[++It]&&_s[++Wt]===_s[++It]&&_s[++Wt]===_s[++It]&&_s[++Wt]===_s[++It]&&_s[++Wt]===_s[++It]&&_s[++Wt]===_s[++It]&&Wt<r_;);if(Rt=_r-(r_-Wt),Wt=r_-_r,Rt>Xt){if(Pt.match_start=Yt,Xt=Rt,Rt>=Zt)break;ga=_s[Wt+Xt-1],c_=_s[Wt+Xt]}}}while((Yt=e_[Yt&t_])>_a&&0!=--Ut);return Xt<=Pt.lookahead?Xt:Pt.lookahead}function y(Pt){var Yt,It,Rt=Pt.w_size;do{if(It=Pt.window_size-Pt.lookahead-Pt.strstart,Pt.strstart>=Rt+(Rt-_i)){St.arraySet(Pt.window,Pt.window,Rt,Rt,0),Pt.match_start-=Rt,Pt.strstart-=Rt,Pt.block_start-=Rt;var Ut=Yt=Pt.hash_size;do{var Wt=Pt.head[--Ut];Pt.head[Ut]=Wt>=Rt?Wt-Rt:0}while(--Yt);Ut=Yt=Rt;do{Wt=Pt.prev[--Ut],Pt.prev[Ut]=Wt>=Rt?Wt-Rt:0}while(--Yt);It+=Rt}if(0===Pt.strm.avail_in)break;Wt=Pt.window;var Xt=Pt.strstart+Pt.lookahead,Zt=(Ut=Pt.strm).avail_in;if(Zt>It&&(Zt=It),Yt=0===Zt?0:(Ut.avail_in-=Zt,St.arraySet(Wt,Ut.input,Ut.next_in,Zt,Xt),1===Ut.state.wrap?Ut.adler=Et(Ut.adler,Wt,Zt,Xt):2===Ut.state.wrap&&(Ut.adler=Ct(Ut.adler,Wt,Zt,Xt)),Ut.next_in+=Zt,Ut.total_in+=Zt,Zt),Pt.lookahead+=Yt,Pt.lookahead+Pt.insert>=_n)for(Pt.ins_h=Pt.window[It=Pt.strstart-Pt.insert],Pt.ins_h=(Pt.ins_h<<Pt.hash_shift^Pt.window[It+1])&Pt.hash_mask;Pt.insert&&(Pt.ins_h=(Pt.ins_h<<Pt.hash_shift^Pt.window[It+_n-1])&Pt.hash_mask,Pt.prev[It&Pt.w_mask]=Pt.head[Pt.ins_h],Pt.head[Pt.ins_h]=It,It++,Pt.insert--,!(Pt.lookahead+Pt.insert<_n)););}while(Pt.lookahead<_i&&0!==Pt.strm.avail_in)}function g(Pt,Yt){for(var It,Rt;;){if(Pt.lookahead<_i){if(y(Pt),Pt.lookahead<_i&&Yt===At)return Vt;if(0===Pt.lookahead)break}if(It=0,Pt.lookahead>=_n&&(Pt.ins_h=(Pt.ins_h<<Pt.hash_shift^Pt.window[Pt.strstart+_n-1])&Pt.hash_mask,It=Pt.prev[Pt.strstart&Pt.w_mask]=Pt.head[Pt.ins_h],Pt.head[Pt.ins_h]=Pt.strstart),0!==It&&Pt.strstart-It<=Pt.w_size-_i&&(Pt.match_length=f(Pt,It)),Pt.match_length>=_n)if(Rt=Mt._tr_tally(Pt,Pt.strstart-Pt.match_start,Pt.match_length-_n),Pt.lookahead-=Pt.match_length,Pt.match_length<=Pt.max_lazy_match&&Pt.lookahead>=_n){Pt.match_length--;do{Pt.strstart++,Pt.ins_h=(Pt.ins_h<<Pt.hash_shift^Pt.window[Pt.strstart+_n-1])&Pt.hash_mask,It=Pt.prev[Pt.strstart&Pt.w_mask]=Pt.head[Pt.ins_h],Pt.head[Pt.ins_h]=Pt.strstart}while(0!=--Pt.match_length);Pt.strstart++}else Pt.strstart+=Pt.match_length,Pt.match_length=0,Pt.ins_h=Pt.window[Pt.strstart],Pt.ins_h=(Pt.ins_h<<Pt.hash_shift^Pt.window[Pt.strstart+1])&Pt.hash_mask;else Rt=Mt._tr_tally(Pt,0,Pt.window[Pt.strstart]),Pt.lookahead--,Pt.strstart++;if(Rt&&(_(Pt,!1),0===Pt.strm.avail_out))return Vt}return Pt.insert=Pt.strstart<_n-1?Pt.strstart:_n-1,Yt===Nt?(_(Pt,!0),0===Pt.strm.avail_out?Xa:Yr):Pt.last_lit&&(_(Pt,!1),0===Pt.strm.avail_out)?Vt:n_}function j(Pt,Yt){for(var It,Rt,Ut;;){if(Pt.lookahead<_i){if(y(Pt),Pt.lookahead<_i&&Yt===At)return Vt;if(0===Pt.lookahead)break}if(It=0,Pt.lookahead>=_n&&(Pt.ins_h=(Pt.ins_h<<Pt.hash_shift^Pt.window[Pt.strstart+_n-1])&Pt.hash_mask,It=Pt.prev[Pt.strstart&Pt.w_mask]=Pt.head[Pt.ins_h],Pt.head[Pt.ins_h]=Pt.strstart),Pt.prev_length=Pt.match_length,Pt.prev_match=Pt.match_start,Pt.match_length=_n-1,0!==It&&Pt.prev_length<Pt.max_lazy_match&&Pt.strstart-It<=Pt.w_size-_i&&(Pt.match_length=f(Pt,It),5>=Pt.match_length&&(Pt.strategy===Ht||Pt.match_length===_n&&4096<Pt.strstart-Pt.match_start)&&(Pt.match_length=_n-1)),Pt.prev_length>=_n&&Pt.match_length<=Pt.prev_length){Ut=Pt.strstart+Pt.lookahead-_n,Rt=Mt._tr_tally(Pt,Pt.strstart-1-Pt.prev_match,Pt.prev_length-_n),Pt.lookahead-=Pt.prev_length-1,Pt.prev_length-=2;do{++Pt.strstart<=Ut&&(Pt.ins_h=(Pt.ins_h<<Pt.hash_shift^Pt.window[Pt.strstart+_n-1])&Pt.hash_mask,It=Pt.prev[Pt.strstart&Pt.w_mask]=Pt.head[Pt.ins_h],Pt.head[Pt.ins_h]=Pt.strstart)}while(0!=--Pt.prev_length);if(Pt.match_available=0,Pt.match_length=_n-1,Pt.strstart++,Rt&&(_(Pt,!1),0===Pt.strm.avail_out))return Vt}else if(Pt.match_available){if((Rt=Mt._tr_tally(Pt,0,Pt.window[Pt.strstart-1]))&&_(Pt,!1),Pt.strstart++,Pt.lookahead--,0===Pt.strm.avail_out)return Vt}else Pt.match_available=1,Pt.strstart++,Pt.lookahead--}return Pt.match_available&&(Mt._tr_tally(Pt,0,Pt.window[Pt.strstart-1]),Pt.match_available=0),Pt.insert=Pt.strstart<_n-1?Pt.strstart:_n-1,Yt===Nt?(_(Pt,!0),0===Pt.strm.avail_out?Xa:Yr):Pt.last_lit&&(_(Pt,!1),0===Pt.strm.avail_out)?Vt:n_}function $(Pt,Yt,It,Rt,Ut){this.good_length=Pt,this.max_lazy=Yt,this.nice_length=It,this.max_chain=Rt,this.func=Ut}function yt(){this.strm=null,this.status=0,this.pending_buf=null,this.wrap=this.pending=this.pending_out=this.pending_buf_size=0,this.gzhead=null,this.gzindex=0,this.method=Jt,this.last_flush=-1,this.w_mask=this.w_bits=this.w_size=0,this.window=null,this.window_size=0,this.head=this.prev=null,this.nice_match=this.good_match=this.strategy=this.level=this.max_lazy_match=this.max_chain_length=this.prev_length=this.lookahead=this.match_start=this.strstart=this.match_available=this.prev_match=this.match_length=this.block_start=this.hash_shift=this.hash_mask=this.hash_bits=this.hash_size=this.ins_h=0,this.dyn_ltree=new St.Buf16(2*Xr),this.dyn_dtree=new St.Buf16(2*(2*_o+1)),this.bl_tree=new St.Buf16(2*(2*Bt+1)),o(this.dyn_ltree),o(this.dyn_dtree),o(this.bl_tree),this.bl_desc=this.d_desc=this.l_desc=null,this.bl_count=new St.Buf16(_l+1),this.heap=new St.Buf16(2*Kt+1),o(this.heap),this.heap_max=this.heap_len=0,this.depth=new St.Buf16(2*Kt+1),o(this.depth),this.bi_valid=this.bi_buf=this.insert=this.matches=this.static_len=this.opt_len=this.d_buf=this.last_lit=this.lit_bufsize=this.l_buf=0}function _t(Pt){var Yt;return Pt&&Pt.state?(Pt.total_in=Pt.total_out=0,Pt.data_type=zt,(Yt=Pt.state).pending=0,Yt.pending_out=0,0>Yt.wrap&&(Yt.wrap=-Yt.wrap),Yt.status=Yt.wrap?_e:Gt,Pt.adler=2===Yt.wrap?0:1,Yt.last_flush=At,Mt._tr_init(Yt),Ft):n(Pt,Lt)}function xt(Pt){var Yt=_t(Pt);return Yt===Ft&&((Pt=Pt.state).window_size=2*Pt.w_size,o(Pt.head),Pt.max_lazy_match=he[Pt.level].max_lazy,Pt.good_match=he[Pt.level].good_length,Pt.nice_match=he[Pt.level].nice_length,Pt.max_chain_length=he[Pt.level].max_chain,Pt.strstart=0,Pt.block_start=0,Pt.lookahead=0,Pt.insert=0,Pt.match_length=Pt.prev_length=_n-1,Pt.match_available=0,Pt.ins_h=0),Yt}function Tt(Pt,Yt,It,Rt,Ut,Wt){if(!Pt)return Lt;var Xt=1;if(Yt===Ot&&(Yt=6),0>Rt?(Xt=0,Rt=-Rt):15<Rt&&(Xt=2,Rt-=16),1>Ut||Ut>Qt||It!==Jt||8>Rt||15<Rt||0>Yt||9<Yt||0>Wt||Wt>$t)return n(Pt,Lt);8===Rt&&(Rt=9);var Zt=new yt;return Pt.state=Zt,Zt.strm=Pt,Zt.wrap=Xt,Zt.gzhead=null,Zt.w_bits=Rt,Zt.w_size=1<<Zt.w_bits,Zt.w_mask=Zt.w_size-1,Zt.hash_bits=Ut+7,Zt.hash_size=1<<Zt.hash_bits,Zt.hash_mask=Zt.hash_size-1,Zt.hash_shift=~~((Zt.hash_bits+_n-1)/_n),Zt.window=new St.Buf8(2*Zt.w_size),Zt.head=new St.Buf16(Zt.hash_size),Zt.prev=new St.Buf16(Zt.w_size),Zt.lit_bufsize=1<<Ut+6,Zt.pending_buf_size=4*Zt.lit_bufsize,Zt.pending_buf=new St.Buf8(Zt.pending_buf_size),Zt.d_buf=1*Zt.lit_bufsize,Zt.l_buf=3*Zt.lit_bufsize,Zt.level=Yt,Zt.strategy=Wt,Zt.method=It,xt(Pt)}var St=e("../utils/common"),Mt=e("./trees"),Et=e("./adler32"),Ct=e("./crc32"),Dt=e("./messages"),At=0,Nt=4,Ft=0,Lt=-2,Ot=-1,Ht=1,$t=4,zt=2,Jt=8,Qt=9,Kt=286,_o=30,Bt=19,Xr=2*Kt+1,_l=15,_n=3,_r=258,_i=_r+_n+1,_e=42,Gt=113,Vt=1,n_=2,Xa=3,Yr=4,he=[new $(0,0,0,0,function(Pt,Yt){var It=65535;for(It>Pt.pending_buf_size-5&&(It=Pt.pending_buf_size-5);;){if(1>=Pt.lookahead){if(y(Pt),0===Pt.lookahead&&Yt===At)return Vt;if(0===Pt.lookahead)break}Pt.strstart+=Pt.lookahead,Pt.lookahead=0;var Rt=Pt.block_start+It;if((0===Pt.strstart||Pt.strstart>=Rt)&&(Pt.lookahead=Pt.strstart-Rt,Pt.strstart=Rt,_(Pt,!1),0===Pt.strm.avail_out)||Pt.strstart-Pt.block_start>=Pt.w_size-_i&&(_(Pt,!1),0===Pt.strm.avail_out))return Vt}return Pt.insert=0,Yt===Nt?(_(Pt,!0),0===Pt.strm.avail_out?Xa:Yr):(Pt.strstart>Pt.block_start&&_(Pt,!1),Vt)}),new $(4,4,8,4,g),new $(4,5,16,8,g),new $(4,6,32,32,g),new $(4,4,16,16,j),new $(8,16,32,32,j),new $(8,16,128,128,j),new $(8,32,128,256,j),new $(32,128,258,1024,j),new $(32,258,258,4096,j)];s.deflateInit=function(Pt,Yt){return Tt(Pt,Yt,Jt,15,8,0)},s.deflateInit2=Tt,s.deflateReset=xt,s.deflateResetKeep=_t,s.deflateSetHeader=function(Pt,Yt){return Pt&&Pt.state?2!==Pt.state.wrap?Lt:(Pt.state.gzhead=Yt,Ft):Lt},s.deflate=function(Pt,Yt){var It,Rt;if(!Pt||!Pt.state||5<Yt||0>Yt)return Pt?n(Pt,Lt):Lt;if(Rt=Pt.state,!Pt.output||!Pt.input&&0!==Pt.avail_in||666===Rt.status&&Yt!==Nt)return n(Pt,0===Pt.avail_out?-5:Lt);if(Rt.strm=Pt,It=Rt.last_flush,Rt.last_flush=Yt,Rt.status===_e)if(2===Rt.wrap)Pt.adler=0,h(Rt,31),h(Rt,139),h(Rt,8),Rt.gzhead?(h(Rt,(Rt.gzhead.text?1:0)+(Rt.gzhead.hcrc?2:0)+(Rt.gzhead.extra?4:0)+(Rt.gzhead.name?8:0)+(Rt.gzhead.comment?16:0)),h(Rt,255&Rt.gzhead.time),h(Rt,Rt.gzhead.time>>8&255),h(Rt,Rt.gzhead.time>>16&255),h(Rt,Rt.gzhead.time>>24&255),h(Rt,9===Rt.level?2:2<=Rt.strategy||2>Rt.level?4:0),h(Rt,255&Rt.gzhead.os),Rt.gzhead.extra&&Rt.gzhead.extra.length&&(h(Rt,255&Rt.gzhead.extra.length),h(Rt,Rt.gzhead.extra.length>>8&255)),Rt.gzhead.hcrc&&(Pt.adler=Ct(Pt.adler,Rt.pending_buf,Rt.pending,0)),Rt.gzindex=0,Rt.status=69):(h(Rt,0),h(Rt,0),h(Rt,0),h(Rt,0),h(Rt,0),h(Rt,9===Rt.level?2:2<=Rt.strategy||2>Rt.level?4:0),h(Rt,3),Rt.status=Gt);else{var Ut=Jt+(Rt.w_bits-8<<4)<<8;Ut|=(2<=Rt.strategy||2>Rt.level?0:6>Rt.level?1:6===Rt.level?2:3)<<6,0!==Rt.strstart&&(Ut|=32),Rt.status=Gt,m(Rt,Ut+(31-Ut%31)),0!==Rt.strstart&&(m(Rt,Pt.adler>>>16),m(Rt,65535&Pt.adler)),Pt.adler=1}if(69===Rt.status)if(Rt.gzhead.extra){for(Ut=Rt.pending;Rt.gzindex<(65535&Rt.gzhead.extra.length)&&(Rt.pending!==Rt.pending_buf_size||(Rt.gzhead.hcrc&&Rt.pending>Ut&&(Pt.adler=Ct(Pt.adler,Rt.pending_buf,Rt.pending-Ut,Ut)),l(Pt),Ut=Rt.pending,Rt.pending!==Rt.pending_buf_size));)h(Rt,255&Rt.gzhead.extra[Rt.gzindex]),Rt.gzindex++;Rt.gzhead.hcrc&&Rt.pending>Ut&&(Pt.adler=Ct(Pt.adler,Rt.pending_buf,Rt.pending-Ut,Ut)),Rt.gzindex===Rt.gzhead.extra.length&&(Rt.gzindex=0,Rt.status=73)}else Rt.status=73;if(73===Rt.status)if(Rt.gzhead.name){Ut=Rt.pending;do{if(Rt.pending===Rt.pending_buf_size&&(Rt.gzhead.hcrc&&Rt.pending>Ut&&(Pt.adler=Ct(Pt.adler,Rt.pending_buf,Rt.pending-Ut,Ut)),l(Pt),Ut=Rt.pending,Rt.pending===Rt.pending_buf_size)){var Wt=1;break}Wt=Rt.gzindex<Rt.gzhead.name.length?255&Rt.gzhead.name.charCodeAt(Rt.gzindex++):0,h(Rt,Wt)}while(0!==Wt);Rt.gzhead.hcrc&&Rt.pending>Ut&&(Pt.adler=Ct(Pt.adler,Rt.pending_buf,Rt.pending-Ut,Ut)),0===Wt&&(Rt.gzindex=0,Rt.status=91)}else Rt.status=91;if(91===Rt.status)if(Rt.gzhead.comment){Ut=Rt.pending;do{if(Rt.pending===Rt.pending_buf_size&&(Rt.gzhead.hcrc&&Rt.pending>Ut&&(Pt.adler=Ct(Pt.adler,Rt.pending_buf,Rt.pending-Ut,Ut)),l(Pt),Ut=Rt.pending,Rt.pending===Rt.pending_buf_size)){Wt=1;break}Wt=Rt.gzindex<Rt.gzhead.comment.length?255&Rt.gzhead.comment.charCodeAt(Rt.gzindex++):0,h(Rt,Wt)}while(0!==Wt);Rt.gzhead.hcrc&&Rt.pending>Ut&&(Pt.adler=Ct(Pt.adler,Rt.pending_buf,Rt.pending-Ut,Ut)),0===Wt&&(Rt.status=103)}else Rt.status=103;if(103===Rt.status&&(Rt.gzhead.hcrc?(Rt.pending+2>Rt.pending_buf_size&&l(Pt),Rt.pending+2<=Rt.pending_buf_size&&(h(Rt,255&Pt.adler),h(Rt,Pt.adler>>8&255),Pt.adler=0,Rt.status=Gt)):Rt.status=Gt),0!==Rt.pending){if(l(Pt),0===Pt.avail_out)return Rt.last_flush=-1,Ft}else if(0===Pt.avail_in&&(Yt<<1)-(4<Yt?9:0)<=(It<<1)-(4<It?9:0)&&Yt!==Nt)return n(Pt,-5);if(666===Rt.status&&0!==Pt.avail_in)return n(Pt,-5);if(0!==Pt.avail_in||0!==Rt.lookahead||Yt!==At&&666!==Rt.status){if(2===Rt.strategy)t:{for(var Xt;;){if(0===Rt.lookahead&&(y(Rt),0===Rt.lookahead)){if(Yt===At){var Zt=Vt;break t}break}if(Rt.match_length=0,Xt=Mt._tr_tally(Rt,0,Rt.window[Rt.strstart]),Rt.lookahead--,Rt.strstart++,Xt&&(_(Rt,!1),0===Rt.strm.avail_out)){Zt=Vt;break t}}Rt.insert=0,Zt=Yt===Nt?(_(Rt,!0),0===Rt.strm.avail_out?Xa:Yr):Rt.last_lit&&(_(Rt,!1),0===Rt.strm.avail_out)?Vt:n_}else if(3===Rt.strategy)t:{var _a,_s;for(Xt=Rt.window;;){if(Rt.lookahead<=_r){if(y(Rt),Rt.lookahead<=_r&&Yt===At){Zt=Vt;break t}if(0===Rt.lookahead)break}if(Rt.match_length=0,Rt.lookahead>=_n&&0<Rt.strstart&&(_a=Xt[_s=Rt.strstart-1])===Xt[++_s]&&_a===Xt[++_s]&&_a===Xt[++_s]){for(It=Rt.strstart+_r;_a===Xt[++_s]&&_a===Xt[++_s]&&_a===Xt[++_s]&&_a===Xt[++_s]&&_a===Xt[++_s]&&_a===Xt[++_s]&&_a===Xt[++_s]&&_a===Xt[++_s]&&_s<It;);Rt.match_length=_r-(It-_s),Rt.match_length>Rt.lookahead&&(Rt.match_length=Rt.lookahead)}if(Rt.match_length>=_n?(Zt=Mt._tr_tally(Rt,1,Rt.match_length-_n),Rt.lookahead-=Rt.match_length,Rt.strstart+=Rt.match_length,Rt.match_length=0):(Zt=Mt._tr_tally(Rt,0,Rt.window[Rt.strstart]),Rt.lookahead--,Rt.strstart++),Zt&&(_(Rt,!1),0===Rt.strm.avail_out)){Zt=Vt;break t}}Rt.insert=0,Zt=Yt===Nt?(_(Rt,!0),0===Rt.strm.avail_out?Xa:Yr):Rt.last_lit&&(_(Rt,!1),0===Rt.strm.avail_out)?Vt:n_}else Zt=he[Rt.level].func(Rt,Yt);if(Zt!==Xa&&Zt!==Yr||(Rt.status=666),Zt===Vt||Zt===Xa)return 0===Pt.avail_out&&(Rt.last_flush=-1),Ft;if(Zt===n_&&(1===Yt?Mt._tr_align(Rt):5!==Yt&&(Mt._tr_stored_block(Rt,0,0,!1),3===Yt&&(o(Rt.head),0===Rt.lookahead&&(Rt.strstart=0,Rt.block_start=0,Rt.insert=0))),l(Pt),0===Pt.avail_out))return Rt.last_flush=-1,Ft}return Yt!==Nt?Ft:0>=Rt.wrap?1:(2===Rt.wrap?(h(Rt,255&Pt.adler),h(Rt,Pt.adler>>8&255),h(Rt,Pt.adler>>16&255),h(Rt,Pt.adler>>24&255),h(Rt,255&Pt.total_in),h(Rt,Pt.total_in>>8&255),h(Rt,Pt.total_in>>16&255),h(Rt,Pt.total_in>>24&255)):(m(Rt,Pt.adler>>>16),m(Rt,65535&Pt.adler)),l(Pt),0<Rt.wrap&&(Rt.wrap=-Rt.wrap),0!==Rt.pending?Ft:1)},s.deflateEnd=function(Pt){var Yt;return Pt&&Pt.state?(Yt=Pt.state.status)!==_e&&69!==Yt&&73!==Yt&&91!==Yt&&103!==Yt&&Yt!==Gt&&666!==Yt?n(Pt,Lt):(Pt.state=null,Yt===Gt?n(Pt,-3):Ft):Lt},s.deflateSetDictionary=function(Pt,Yt){var It,Rt,Ut,Wt=Yt.length;if(!Pt||!Pt.state||2===(Rt=(It=Pt.state).wrap)||1===Rt&&It.status!==_e||It.lookahead)return Lt;1===Rt&&(Pt.adler=Et(Pt.adler,Yt,Wt,0)),It.wrap=0,Wt>=It.w_size&&(0===Rt&&(o(It.head),It.strstart=0,It.block_start=0,It.insert=0),Ut=new St.Buf8(It.w_size),St.arraySet(Ut,Yt,Wt-It.w_size,It.w_size,0),Yt=Ut,Wt=It.w_size),Ut=Pt.avail_in;var Xt=Pt.next_in,Zt=Pt.input;for(Pt.avail_in=Wt,Pt.next_in=0,Pt.input=Yt,y(It);It.lookahead>=_n;){Yt=It.strstart,Wt=It.lookahead-(_n-1);do{It.ins_h=(It.ins_h<<It.hash_shift^It.window[Yt+_n-1])&It.hash_mask,It.prev[Yt&It.w_mask]=It.head[It.ins_h],It.head[It.ins_h]=Yt,Yt++}while(--Wt);It.strstart=Yt,It.lookahead=_n-1,y(It)}return It.strstart+=It.lookahead,It.block_start=It.strstart,It.insert=It.lookahead,It.lookahead=0,It.match_length=It.prev_length=_n-1,It.match_available=0,Pt.next_in=Xt,Pt.input=Zt,Pt.avail_in=Ut,It.wrap=Rt,Ft},s.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":3,"./adler32":5,"./crc32":7,"./messages":13,"./trees":14}],9:[function(e,i,s){i.exports=function(){this.os=this.xflags=this.time=this.text=0,this.extra=null,this.extra_len=0,this.comment=this.name="",this.hcrc=0,this.done=!1}},{}],10:[function(e,i,s){i.exports=function(n,o){var l,_,h,m=n.state,f=n.next_in,y=n.input,g=f+(n.avail_in-5),j=n.next_out,$=n.output;o=j-(o-n.avail_out);var yt=j+(n.avail_out-257),_t=m.dmax,xt=m.wsize,Tt=m.whave,St=m.wnext,Mt=m.window,Et=m.hold,Ct=m.bits,Dt=m.lencode,At=m.distcode,Nt=(1<<m.lenbits)-1,Ft=(1<<m.distbits)-1;t:do{15>Ct&&(Et+=y[f++]<<Ct,Et+=y[f++]<<(Ct+=8),Ct+=8);var Lt=Dt[Et&Nt];e:for(;;){if(Et>>>=l=Lt>>>24,Ct-=l,0==(l=Lt>>>16&255))$[j++]=65535&Lt;else{if(!(16&l)){if(!(64&l)){Lt=Dt[(65535&Lt)+(Et&(1<<l)-1)];continue e}if(32&l){m.mode=12;break t}n.msg="invalid literal/length code",m.mode=30;break t}var Ot=65535&Lt;(l&=15)&&(Ct<l&&(Et+=y[f++]<<Ct,Ct+=8),Ot+=Et&(1<<l)-1,Et>>>=l,Ct-=l),15>Ct&&(Et+=y[f++]<<Ct,Et+=y[f++]<<(Ct+=8),Ct+=8),Lt=At[Et&Ft];i:for(;;){if(Et>>>=l=Lt>>>24,Ct-=l,!(16&(l=Lt>>>16&255))){if(!(64&l)){Lt=At[(65535&Lt)+(Et&(1<<l)-1)];continue i}n.msg="invalid distance code",m.mode=30;break t}if(_=65535&Lt,Ct<(l&=15)&&(Et+=y[f++]<<Ct,(Ct+=8)<l&&(Et+=y[f++]<<Ct,Ct+=8)),(_+=Et&(1<<l)-1)>_t){n.msg="invalid distance too far back",m.mode=30;break t}if(Et>>>=l,Ct-=l,_>(l=j-o)){if((l=_-l)>Tt&&m.sane){n.msg="invalid distance too far back",m.mode=30;break t}if(Lt=0,h=Mt,0===St){if(Lt+=xt-l,l<Ot){Ot-=l;do{$[j++]=Mt[Lt++]}while(--l);Lt=j-_,h=$}}else if(St<l){if(Lt+=xt+St-l,(l-=St)<Ot){Ot-=l;do{$[j++]=Mt[Lt++]}while(--l);if(Lt=0,St<Ot){Ot-=l=St;do{$[j++]=Mt[Lt++]}while(--l);Lt=j-_,h=$}}}else if(Lt+=St-l,l<Ot){Ot-=l;do{$[j++]=Mt[Lt++]}while(--l);Lt=j-_,h=$}for(;2<Ot;)$[j++]=h[Lt++],$[j++]=h[Lt++],$[j++]=h[Lt++],Ot-=3;Ot&&($[j++]=h[Lt++],1<Ot&&($[j++]=h[Lt++]))}else{Lt=j-_;do{$[j++]=$[Lt++],$[j++]=$[Lt++],$[j++]=$[Lt++],Ot-=3}while(2<Ot);Ot&&($[j++]=$[Lt++],1<Ot&&($[j++]=$[Lt++]))}break}}break}}while(f<g&&j<yt);Ct-=(Ot=Ct>>3)<<3,n.next_in=f-=Ot,n.next_out=j,n.avail_in=f<g?g-f+5:5-(f-g),n.avail_out=j<yt?yt-j+257:257-(j-yt),m.hold=Et&(1<<Ct)-1,m.bits=Ct}},{}],11:[function(e,i,s){function n(At){return(At>>>24&255)+(At>>>8&65280)+((65280&At)<<8)+((255&At)<<24)}function o(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.total=this.check=this.dmax=this.flags=0,this.head=null,this.wnext=this.whave=this.wsize=this.wbits=0,this.window=null,this.extra=this.offset=this.length=this.bits=this.hold=0,this.distcode=this.lencode=null,this.have=this.ndist=this.nlen=this.ncode=this.distbits=this.lenbits=0,this.next=null,this.lens=new j.Buf16(320),this.work=new j.Buf16(288),this.distdyn=this.lendyn=null,this.was=this.back=this.sane=0}function l(At){var Nt;return At&&At.state?(At.total_in=At.total_out=(Nt=At.state).total=0,At.msg="",Nt.wrap&&(At.adler=1&Nt.wrap),Nt.mode=Mt,Nt.last=0,Nt.havedict=0,Nt.dmax=32768,Nt.head=null,Nt.hold=0,Nt.bits=0,Nt.lencode=Nt.lendyn=new j.Buf32(Et),Nt.distcode=Nt.distdyn=new j.Buf32(Ct),Nt.sane=1,Nt.back=-1,Tt):St}function _(At){var Nt;return At&&At.state?((Nt=At.state).wsize=0,Nt.whave=0,Nt.wnext=0,l(At)):St}function h(At,Nt){var Ft,Lt;return At&&At.state?(Lt=At.state,0>Nt?(Ft=0,Nt=-Nt):(Ft=1+(Nt>>4),48>Nt&&(Nt&=15)),Nt&&(8>Nt||15<Nt)?St:(null!==Lt.window&&Lt.wbits!==Nt&&(Lt.window=null),Lt.wrap=Ft,Lt.wbits=Nt,_(At))):St}function m(At,Nt){var Ft,Lt;return At?(Lt=new o,At.state=Lt,Lt.window=null,(Ft=h(At,Nt))!==Tt&&(At.state=null),Ft):St}function f(At,Nt,Ft,Lt){var Ot;return null===(At=At.state).window&&(At.wsize=1<<At.wbits,At.wnext=0,At.whave=0,At.window=new j.Buf8(At.wsize)),Lt>=At.wsize?(j.arraySet(At.window,Nt,Ft-At.wsize,At.wsize,0),At.wnext=0,At.whave=At.wsize):((Ot=At.wsize-At.wnext)>Lt&&(Ot=Lt),j.arraySet(At.window,Nt,Ft-Lt,Ot,At.wnext),(Lt-=Ot)?(j.arraySet(At.window,Nt,Ft-Lt,Lt,0),At.wnext=Lt,At.whave=At.wsize):(At.wnext+=Ot,At.wnext===At.wsize&&(At.wnext=0),At.whave<At.wsize&&(At.whave+=Ot))),0}var y,g,j=e("../utils/common"),$=e("./adler32"),yt=e("./crc32"),_t=e("./inffast"),xt=e("./inftrees"),Tt=0,St=-2,Mt=1,Et=852,Ct=592,Dt=!0;s.inflateReset=_,s.inflateReset2=h,s.inflateResetKeep=l,s.inflateInit=function(At){return m(At,15)},s.inflateInit2=m,s.inflate=function(At,Nt){var Ft,Lt,Ot,Ht,$t,zt,Jt,Qt=0,Kt=new j.Buf8(4),_o=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!At||!At.state||!At.output||!At.input&&0!==At.avail_in)return St;var Bt=At.state;12===Bt.mode&&(Bt.mode=13);var Xr=At.next_out,_l=At.output,_n=At.avail_out,_r=At.next_in,_i=At.input,_e=At.avail_in,Gt=Bt.hold,Vt=Bt.bits,n_=_e,Xa=_n,Yr=Tt;t:for(;;)switch(Bt.mode){case Mt:if(0===Bt.wrap){Bt.mode=13;break}for(;16>Vt;){if(0===_e)break t;_e--,Gt+=_i[_r++]<<Vt,Vt+=8}if(2&Bt.wrap&&35615===Gt){Bt.check=0,Kt[0]=255&Gt,Kt[1]=Gt>>>8&255,Bt.check=yt(Bt.check,Kt,2,0),Vt=Gt=0,Bt.mode=2;break}if(Bt.flags=0,Bt.head&&(Bt.head.done=!1),!(1&Bt.wrap)||(((255&Gt)<<8)+(Gt>>8))%31){At.msg="incorrect header check",Bt.mode=30;break}if(8!=(15&Gt)){At.msg="unknown compression method",Bt.mode=30;break}if(Vt-=4,zt=8+(15&(Gt>>>=4)),0===Bt.wbits)Bt.wbits=zt;else if(zt>Bt.wbits){At.msg="invalid window size",Bt.mode=30;break}Bt.dmax=1<<zt,At.adler=Bt.check=1,Bt.mode=512&Gt?10:12,Vt=Gt=0;break;case 2:for(;16>Vt;){if(0===_e)break t;_e--,Gt+=_i[_r++]<<Vt,Vt+=8}if(Bt.flags=Gt,8!=(255&Bt.flags)){At.msg="unknown compression method",Bt.mode=30;break}if(57344&Bt.flags){At.msg="unknown header flags set",Bt.mode=30;break}Bt.head&&(Bt.head.text=Gt>>8&1),512&Bt.flags&&(Kt[0]=255&Gt,Kt[1]=Gt>>>8&255,Bt.check=yt(Bt.check,Kt,2,0)),Vt=Gt=0,Bt.mode=3;case 3:for(;32>Vt;){if(0===_e)break t;_e--,Gt+=_i[_r++]<<Vt,Vt+=8}Bt.head&&(Bt.head.time=Gt),512&Bt.flags&&(Kt[0]=255&Gt,Kt[1]=Gt>>>8&255,Kt[2]=Gt>>>16&255,Kt[3]=Gt>>>24&255,Bt.check=yt(Bt.check,Kt,4,0)),Vt=Gt=0,Bt.mode=4;case 4:for(;16>Vt;){if(0===_e)break t;_e--,Gt+=_i[_r++]<<Vt,Vt+=8}Bt.head&&(Bt.head.xflags=255&Gt,Bt.head.os=Gt>>8),512&Bt.flags&&(Kt[0]=255&Gt,Kt[1]=Gt>>>8&255,Bt.check=yt(Bt.check,Kt,2,0)),Vt=Gt=0,Bt.mode=5;case 5:if(1024&Bt.flags){for(;16>Vt;){if(0===_e)break t;_e--,Gt+=_i[_r++]<<Vt,Vt+=8}Bt.length=Gt,Bt.head&&(Bt.head.extra_len=Gt),512&Bt.flags&&(Kt[0]=255&Gt,Kt[1]=Gt>>>8&255,Bt.check=yt(Bt.check,Kt,2,0)),Vt=Gt=0}else Bt.head&&(Bt.head.extra=null);Bt.mode=6;case 6:if(1024&Bt.flags&&((Ft=Bt.length)>_e&&(Ft=_e),Ft&&(Bt.head&&(zt=Bt.head.extra_len-Bt.length,Bt.head.extra||(Bt.head.extra=Array(Bt.head.extra_len)),j.arraySet(Bt.head.extra,_i,_r,Ft,zt)),512&Bt.flags&&(Bt.check=yt(Bt.check,_i,Ft,_r)),_e-=Ft,_r+=Ft,Bt.length-=Ft),Bt.length))break t;Bt.length=0,Bt.mode=7;case 7:if(2048&Bt.flags){if(0===_e)break t;Ft=0;do{zt=_i[_r+Ft++],Bt.head&&zt&&65536>Bt.length&&(Bt.head.name+=String.fromCharCode(zt))}while(zt&&Ft<_e);if(512&Bt.flags&&(Bt.check=yt(Bt.check,_i,Ft,_r)),_e-=Ft,_r+=Ft,zt)break t}else Bt.head&&(Bt.head.name=null);Bt.length=0,Bt.mode=8;case 8:if(4096&Bt.flags){if(0===_e)break t;Ft=0;do{zt=_i[_r+Ft++],Bt.head&&zt&&65536>Bt.length&&(Bt.head.comment+=String.fromCharCode(zt))}while(zt&&Ft<_e);if(512&Bt.flags&&(Bt.check=yt(Bt.check,_i,Ft,_r)),_e-=Ft,_r+=Ft,zt)break t}else Bt.head&&(Bt.head.comment=null);Bt.mode=9;case 9:if(512&Bt.flags){for(;16>Vt;){if(0===_e)break t;_e--,Gt+=_i[_r++]<<Vt,Vt+=8}if(Gt!==(65535&Bt.check)){At.msg="header crc mismatch",Bt.mode=30;break}Vt=Gt=0}Bt.head&&(Bt.head.hcrc=Bt.flags>>9&1,Bt.head.done=!0),At.adler=Bt.check=0,Bt.mode=12;break;case 10:for(;32>Vt;){if(0===_e)break t;_e--,Gt+=_i[_r++]<<Vt,Vt+=8}At.adler=Bt.check=n(Gt),Vt=Gt=0,Bt.mode=11;case 11:if(0===Bt.havedict)return At.next_out=Xr,At.avail_out=_n,At.next_in=_r,At.avail_in=_e,Bt.hold=Gt,Bt.bits=Vt,2;At.adler=Bt.check=1,Bt.mode=12;case 12:if(5===Nt||6===Nt)break t;case 13:if(Bt.last){Gt>>>=7&Vt,Vt-=7&Vt,Bt.mode=27;break}for(;3>Vt;){if(0===_e)break t;_e--,Gt+=_i[_r++]<<Vt,Vt+=8}switch(Bt.last=1&Gt,--Vt,3&(Gt>>>=1)){case 0:Bt.mode=14;break;case 1:var he=Bt;if(Dt){for(y=new j.Buf32(512),g=new j.Buf32(32),Ot=0;144>Ot;)he.lens[Ot++]=8;for(;256>Ot;)he.lens[Ot++]=9;for(;280>Ot;)he.lens[Ot++]=7;for(;288>Ot;)he.lens[Ot++]=8;for(xt(1,he.lens,0,288,y,0,he.work,{bits:9}),Ot=0;32>Ot;)he.lens[Ot++]=5;xt(2,he.lens,0,32,g,0,he.work,{bits:5}),Dt=!1}if(he.lencode=y,he.lenbits=9,he.distcode=g,he.distbits=5,Bt.mode=20,6===Nt){Gt>>>=2,Vt-=2;break t}break;case 2:Bt.mode=17;break;case 3:At.msg="invalid block type",Bt.mode=30}Gt>>>=2,Vt-=2;break;case 14:for(Gt>>>=7&Vt,Vt-=7&Vt;32>Vt;){if(0===_e)break t;_e--,Gt+=_i[_r++]<<Vt,Vt+=8}if((65535&Gt)!=(Gt>>>16^65535)){At.msg="invalid stored block lengths",Bt.mode=30;break}if(Bt.length=65535&Gt,Gt=0,Vt=0,Bt.mode=15,6===Nt)break t;case 15:Bt.mode=16;case 16:if(Ft=Bt.length){if(Ft>_e&&(Ft=_e),Ft>_n&&(Ft=_n),0===Ft)break t;j.arraySet(_l,_i,_r,Ft,Xr),_e-=Ft,_r+=Ft,_n-=Ft,Xr+=Ft,Bt.length-=Ft;break}Bt.mode=12;break;case 17:for(;14>Vt;){if(0===_e)break t;_e--,Gt+=_i[_r++]<<Vt,Vt+=8}if(Bt.nlen=257+(31&Gt),Vt-=5,Bt.ndist=1+(31&(Gt>>>=5)),Vt-=5,Bt.ncode=4+(15&(Gt>>>=5)),Gt>>>=4,Vt-=4,286<Bt.nlen||30<Bt.ndist){At.msg="too many length or distance symbols",Bt.mode=30;break}Bt.have=0,Bt.mode=18;case 18:for(;Bt.have<Bt.ncode;){for(;3>Vt;){if(0===_e)break t;_e--,Gt+=_i[_r++]<<Vt,Vt+=8}Bt.lens[_o[Bt.have++]]=7&Gt,Gt>>>=3,Vt-=3}for(;19>Bt.have;)Bt.lens[_o[Bt.have++]]=0;if(Bt.lencode=Bt.lendyn,Bt.lenbits=7,Yr=xt(0,Bt.lens,0,19,Bt.lencode,0,Bt.work,Jt={bits:Bt.lenbits}),Bt.lenbits=Jt.bits,Yr){At.msg="invalid code lengths set",Bt.mode=30;break}Bt.have=0,Bt.mode=19;case 19:for(;Bt.have<Bt.nlen+Bt.ndist;){for(;he=65535&(Qt=Bt.lencode[Gt&(1<<Bt.lenbits)-1]),!((Ht=Qt>>>24)<=Vt);){if(0===_e)break t;_e--,Gt+=_i[_r++]<<Vt,Vt+=8}if(16>he)Gt>>>=Ht,Vt-=Ht,Bt.lens[Bt.have++]=he;else{if(16===he){for(Ot=Ht+2;Vt<Ot;){if(0===_e)break t;_e--,Gt+=_i[_r++]<<Vt,Vt+=8}if(Gt>>>=Ht,Vt-=Ht,0===Bt.have){At.msg="invalid bit length repeat",Bt.mode=30;break}zt=Bt.lens[Bt.have-1],Ft=3+(3&Gt),Gt>>>=2,Vt-=2}else if(17===he){for(Ot=Ht+3;Vt<Ot;){if(0===_e)break t;_e--,Gt+=_i[_r++]<<Vt,Vt+=8}Vt-=Ht,zt=0,Ft=3+(7&(Gt>>>=Ht)),Gt>>>=3,Vt-=3}else{for(Ot=Ht+7;Vt<Ot;){if(0===_e)break t;_e--,Gt+=_i[_r++]<<Vt,Vt+=8}Vt-=Ht,zt=0,Ft=11+(127&(Gt>>>=Ht)),Gt>>>=7,Vt-=7}if(Bt.have+Ft>Bt.nlen+Bt.ndist){At.msg="invalid bit length repeat",Bt.mode=30;break}for(;Ft--;)Bt.lens[Bt.have++]=zt}}if(30===Bt.mode)break;if(0===Bt.lens[256]){At.msg="invalid code -- missing end-of-block",Bt.mode=30;break}if(Bt.lenbits=9,Yr=xt(1,Bt.lens,0,Bt.nlen,Bt.lencode,0,Bt.work,Jt={bits:Bt.lenbits}),Bt.lenbits=Jt.bits,Yr){At.msg="invalid literal/lengths set",Bt.mode=30;break}if(Bt.distbits=6,Bt.distcode=Bt.distdyn,Yr=xt(2,Bt.lens,Bt.nlen,Bt.ndist,Bt.distcode,0,Bt.work,Jt={bits:Bt.distbits}),Bt.distbits=Jt.bits,Yr){At.msg="invalid distances set",Bt.mode=30;break}if(Bt.mode=20,6===Nt)break t;case 20:Bt.mode=21;case 21:if(6<=_e&&258<=_n){At.next_out=Xr,At.avail_out=_n,At.next_in=_r,At.avail_in=_e,Bt.hold=Gt,Bt.bits=Vt,_t(At,Xa),Xr=At.next_out,_l=At.output,_n=At.avail_out,_r=At.next_in,_i=At.input,_e=At.avail_in,Gt=Bt.hold,Vt=Bt.bits,12===Bt.mode&&(Bt.back=-1);break}for(Bt.back=0;Ot=(Qt=Bt.lencode[Gt&(1<<Bt.lenbits)-1])>>>16&255,he=65535&Qt,!((Ht=Qt>>>24)<=Vt);){if(0===_e)break t;_e--,Gt+=_i[_r++]<<Vt,Vt+=8}if(Ot&&!(240&Ot)){var Pt=Ht,Yt=Ot;for($t=he;Ot=(Qt=Bt.lencode[$t+((Gt&(1<<Pt+Yt)-1)>>Pt)])>>>16&255,he=65535&Qt,!(Pt+(Ht=Qt>>>24)<=Vt);){if(0===_e)break t;_e--,Gt+=_i[_r++]<<Vt,Vt+=8}Gt>>>=Pt,Vt-=Pt,Bt.back+=Pt}if(Gt>>>=Ht,Vt-=Ht,Bt.back+=Ht,Bt.length=he,0===Ot){Bt.mode=26;break}if(32&Ot){Bt.back=-1,Bt.mode=12;break}if(64&Ot){At.msg="invalid literal/length code",Bt.mode=30;break}Bt.extra=15&Ot,Bt.mode=22;case 22:if(Bt.extra){for(Ot=Bt.extra;Vt<Ot;){if(0===_e)break t;_e--,Gt+=_i[_r++]<<Vt,Vt+=8}Bt.length+=Gt&(1<<Bt.extra)-1,Gt>>>=Bt.extra,Vt-=Bt.extra,Bt.back+=Bt.extra}Bt.was=Bt.length,Bt.mode=23;case 23:for(;Ot=(Qt=Bt.distcode[Gt&(1<<Bt.distbits)-1])>>>16&255,he=65535&Qt,!((Ht=Qt>>>24)<=Vt);){if(0===_e)break t;_e--,Gt+=_i[_r++]<<Vt,Vt+=8}if(!(240&Ot)){for(Pt=Ht,Yt=Ot,$t=he;Ot=(Qt=Bt.distcode[$t+((Gt&(1<<Pt+Yt)-1)>>Pt)])>>>16&255,he=65535&Qt,!(Pt+(Ht=Qt>>>24)<=Vt);){if(0===_e)break t;_e--,Gt+=_i[_r++]<<Vt,Vt+=8}Gt>>>=Pt,Vt-=Pt,Bt.back+=Pt}if(Gt>>>=Ht,Vt-=Ht,Bt.back+=Ht,64&Ot){At.msg="invalid distance code",Bt.mode=30;break}Bt.offset=he,Bt.extra=15&Ot,Bt.mode=24;case 24:if(Bt.extra){for(Ot=Bt.extra;Vt<Ot;){if(0===_e)break t;_e--,Gt+=_i[_r++]<<Vt,Vt+=8}Bt.offset+=Gt&(1<<Bt.extra)-1,Gt>>>=Bt.extra,Vt-=Bt.extra,Bt.back+=Bt.extra}if(Bt.offset>Bt.dmax){At.msg="invalid distance too far back",Bt.mode=30;break}Bt.mode=25;case 25:if(0===_n)break t;if(Bt.offset>(Ft=Xa-_n)){if((Ft=Bt.offset-Ft)>Bt.whave&&Bt.sane){At.msg="invalid distance too far back",Bt.mode=30;break}Lt=Ft>Bt.wnext?Bt.wsize-(Ft-=Bt.wnext):Bt.wnext-Ft,Ft>Bt.length&&(Ft=Bt.length),Ot=Bt.window}else Ot=_l,Lt=Xr-Bt.offset,Ft=Bt.length;Ft>_n&&(Ft=_n),_n-=Ft,Bt.length-=Ft;do{_l[Xr++]=Ot[Lt++]}while(--Ft);0===Bt.length&&(Bt.mode=21);break;case 26:if(0===_n)break t;_l[Xr++]=Bt.length,_n--,Bt.mode=21;break;case 27:if(Bt.wrap){for(;32>Vt;){if(0===_e)break t;_e--,Gt|=_i[_r++]<<Vt,Vt+=8}if(At.total_out+=Xa-=_n,Bt.total+=Xa,Xa&&(At.adler=Bt.check=Bt.flags?yt(Bt.check,_l,Xa,Xr-Xa):$(Bt.check,_l,Xa,Xr-Xa)),Xa=_n,(Bt.flags?Gt:n(Gt))!==Bt.check){At.msg="incorrect data check",Bt.mode=30;break}Vt=Gt=0}Bt.mode=28;case 28:if(Bt.wrap&&Bt.flags){for(;32>Vt;){if(0===_e)break t;_e--,Gt+=_i[_r++]<<Vt,Vt+=8}if(Gt!==(4294967295&Bt.total)){At.msg="incorrect length check",Bt.mode=30;break}Vt=Gt=0}Bt.mode=29;case 29:Yr=1;break t;case 30:Yr=-3;break t;case 31:return-4;default:return St}return At.next_out=Xr,At.avail_out=_n,At.next_in=_r,At.avail_in=_e,Bt.hold=Gt,Bt.bits=Vt,(Bt.wsize||Xa!==At.avail_out&&30>Bt.mode&&(27>Bt.mode||4!==Nt))&&f(At,At.output,At.next_out,Xa-At.avail_out)?(Bt.mode=31,-4):(Xa-=At.avail_out,At.total_in+=n_-=At.avail_in,At.total_out+=Xa,Bt.total+=Xa,Bt.wrap&&Xa&&(At.adler=Bt.check=Bt.flags?yt(Bt.check,_l,Xa,At.next_out-Xa):$(Bt.check,_l,Xa,At.next_out-Xa)),At.data_type=Bt.bits+(Bt.last?64:0)+(12===Bt.mode?128:0)+(20===Bt.mode||15===Bt.mode?256:0),(0===n_&&0===Xa||4===Nt)&&Yr===Tt&&(Yr=-5),Yr)},s.inflateEnd=function(At){if(!At||!At.state)return St;var Nt=At.state;return Nt.window&&(Nt.window=null),At.state=null,Tt},s.inflateGetHeader=function(At,Nt){var Ft;return At&&At.state&&2&(Ft=At.state).wrap?(Ft.head=Nt,Nt.done=!1,Tt):St},s.inflateSetDictionary=function(At,Nt){var Ft,Ot=Nt.length;return At&&At.state?0!==(Ft=At.state).wrap&&11!==Ft.mode?St:11===Ft.mode&&$(1,Nt,Ot,0)!==Ft.check?-3:f(At,Nt,Ot,Ot)?(Ft.mode=31,-4):(Ft.havedict=1,Tt):St},s.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":3,"./adler32":5,"./crc32":7,"./inffast":10,"./inftrees":12}],12:[function(e,i,s){var n=e("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],_=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],h=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];i.exports=function(m,f,y,g,j,$,yt,_t){var xt,Tt,St,Mt,Et,Ct,At,Nt,Ft,Lt,Ot,$t,Dt=_t.bits,Ht=0,zt=null,Jt=0,Qt=new n.Buf16(16),Kt=new n.Buf16(16),_o=null,Bt=0;for(At=0;15>=At;At++)Qt[At]=0;for(Nt=0;Nt<g;Nt++)Qt[f[y+Nt]]++;var Xr=Dt;for(Ft=15;1<=Ft&&0===Qt[Ft];Ft--);if(Xr>Ft&&(Xr=Ft),0===Ft)return j[$++]=20971520,j[$++]=20971520,_t.bits=1,0;for(Dt=1;Dt<Ft&&0===Qt[Dt];Dt++);for(Xr<Dt&&(Xr=Dt),At=xt=1;15>=At;At++)if(xt<<=1,0>(xt-=Qt[At]))return-1;if(0<xt&&(0===m||1!==Ft))return-1;for(Kt[1]=0,At=1;15>At;At++)Kt[At+1]=Kt[At]+Qt[At];for(Nt=0;Nt<g;Nt++)0!==f[y+Nt]&&(yt[Kt[f[y+Nt]]++]=Nt);if(0===m?(zt=_o=yt,Mt=19):1===m?(zt=o,Jt-=257,_o=l,Bt-=257,Mt=256):(zt=_,_o=h,Mt=-1),$t=0,Nt=0,At=Dt,Kt=$,Lt=Xr,Ot=0,St=-1,g=(Ht=1<<Xr)-1,1===m&&852<Ht||2===m&&592<Ht)return 1;for(;;){var _n=At-Ot;yt[Nt]<Mt?(Et=0,Ct=yt[Nt]):yt[Nt]>Mt?(Et=_o[Bt+yt[Nt]],Ct=zt[Jt+yt[Nt]]):(Et=96,Ct=0),xt=1<<At-Ot,Dt=Tt=1<<Lt;do{j[Kt+($t>>Ot)+(Tt-=xt)]=_n<<24|Et<<16|Ct|0}while(0!==Tt);for(xt=1<<At-1;$t&xt;)xt>>=1;if(0!==xt?($t&=xt-1,$t+=xt):$t=0,Nt++,0==--Qt[At]){if(At===Ft)break;At=f[y+yt[Nt]]}if(At>Xr&&($t&g)!==St){for(0===Ot&&(Ot=Xr),Kt+=Dt,xt=1<<(Lt=At-Ot);Lt+Ot<Ft&&!(0>=(xt-=Qt[Lt+Ot]));)Lt++,xt<<=1;if(Ht+=1<<Lt,1===m&&852<Ht||2===m&&592<Ht)return 1;j[St=$t&g]=Xr<<24|Lt<<16|Kt-$|0}}return 0!==$t&&(j[Kt+$t]=At-Ot<<24|4194304),_t.bits=Xr,0}},{"../utils/common":3}],13:[function(e,i,s){i.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],14:[function(e,i,s){function n(It){for(var Rt=It.length;0<=--Rt;)It[Rt]=0}function o(It,Rt,Ut,Wt,Xt){this.static_tree=It,this.extra_bits=Rt,this.extra_base=Ut,this.elems=Wt,this.max_length=Xt,this.has_stree=It&&It.length}function l(It,Rt){this.dyn_tree=It,this.max_code=0,this.stat_desc=Rt}function _(It,Rt){It.pending_buf[It.pending++]=255&Rt,It.pending_buf[It.pending++]=Rt>>>8&255}function h(It,Rt,Ut){It.bi_valid>Jt-Ut?(It.bi_buf|=Rt<<It.bi_valid&65535,_(It,It.bi_buf),It.bi_buf=Rt>>Jt-It.bi_valid,It.bi_valid+=Ut-Jt):(It.bi_buf|=Rt<<It.bi_valid&65535,It.bi_valid+=Ut)}function m(It,Rt,Ut){h(It,Ut[2*Rt],Ut[2*Rt+1])}function f(It,Rt){var Ut=0;do{Ut|=1&It,It>>>=1,Ut<<=1}while(0<--Rt);return Ut>>>1}function y(It,Rt,Ut){var Wt,Xt=Array(zt+1),Zt=0;for(Wt=1;Wt<=zt;Wt++)Xt[Wt]=Zt=Zt+Ut[Wt-1]<<1;for(Ut=0;Ut<=Rt;Ut++)0!==(Wt=It[2*Ut+1])&&(It[2*Ut]=f(Xt[Wt]++,Wt))}function g(It){var Rt;for(Rt=0;Rt<Lt;Rt++)It.dyn_ltree[2*Rt]=0;for(Rt=0;Rt<Ot;Rt++)It.dyn_dtree[2*Rt]=0;for(Rt=0;Rt<Ht;Rt++)It.bl_tree[2*Rt]=0;It.dyn_ltree[2*Qt]=1,It.opt_len=It.static_len=0,It.last_lit=It.matches=0}function j(It){8<It.bi_valid?_(It,It.bi_buf):0<It.bi_valid&&(It.pending_buf[It.pending++]=It.bi_buf),It.bi_buf=0,It.bi_valid=0}function $(It,Rt,Ut,Wt){var Xt=2*Rt,Zt=2*Ut;return It[Xt]<It[Zt]||It[Xt]===It[Zt]&&Wt[Rt]<=Wt[Ut]}function yt(It,Rt,Ut){for(var Wt=It.heap[Ut],Xt=Ut<<1;Xt<=It.heap_len&&(Xt<It.heap_len&&$(Rt,It.heap[Xt+1],It.heap[Xt],It.depth)&&Xt++,!$(Rt,Wt,It.heap[Xt],It.depth));)It.heap[Ut]=It.heap[Xt],Ut=Xt,Xt<<=1;It.heap[Ut]=Wt}function _t(It,Rt,Ut){var Wt,Xt,Zt=0;if(0!==It.last_lit)do{var _a=It.pending_buf[It.d_buf+2*Zt]<<8|It.pending_buf[It.d_buf+2*Zt+1],_s=It.pending_buf[It.l_buf+Zt];Zt++,0===_a?m(It,_s,Rt):(m(It,(Wt=Vt[_s])+Ft+1,Rt),0!==(Xt=Xr[Wt])&&h(It,_s-=n_[Wt],Xt),m(It,Wt=256>--_a?Gt[_a]:Gt[256+(_a>>>7)],Ut),0!==(Xt=_l[Wt])&&h(It,_a-=Xa[Wt],Xt))}while(Zt<It.last_lit);m(It,Qt,Rt)}function xt(It,Rt){var Ut,e_,r_,Wt=Rt.dyn_tree,Xt=Rt.stat_desc.static_tree,Zt=Rt.stat_desc.has_stree,_a=Rt.stat_desc.elems,_s=-1;for(It.heap_len=0,It.heap_max=$t,Ut=0;Ut<_a;Ut++)0!==Wt[2*Ut]?(It.heap[++It.heap_len]=_s=Ut,It.depth[Ut]=0):Wt[2*Ut+1]=0;for(;2>It.heap_len;){var t_=It.heap[++It.heap_len]=2>_s?++_s:0;Wt[2*t_]=1,It.depth[t_]=0,It.opt_len--,Zt&&(It.static_len-=Xt[2*t_+1])}for(Rt.max_code=_s,Ut=It.heap_len>>1;1<=Ut;Ut--)yt(It,Wt,Ut);t_=_a;do{Ut=It.heap[1],It.heap[1]=It.heap[It.heap_len--],yt(It,Wt,1),Xt=It.heap[1],It.heap[--It.heap_max]=Ut,It.heap[--It.heap_max]=Xt,Wt[2*t_]=Wt[2*Ut]+Wt[2*Xt],It.depth[t_]=(It.depth[Ut]>=It.depth[Xt]?It.depth[Ut]:It.depth[Xt])+1,Wt[2*Ut+1]=Wt[2*Xt+1]=t_,It.heap[1]=t_++,yt(It,Wt,1)}while(2<=It.heap_len);It.heap[--It.heap_max]=It.heap[1],Ut=Rt.dyn_tree,t_=Rt.max_code,_a=Rt.stat_desc.static_tree;var ga=Rt.stat_desc.has_stree,c_=Rt.stat_desc.extra_bits,k_=Rt.stat_desc.extra_base,p_=Rt.stat_desc.max_length,d_=0;for(Zt=0;Zt<=zt;Zt++)It.bl_count[Zt]=0;for(Ut[2*It.heap[It.heap_max]+1]=0,Rt=It.heap_max+1;Rt<$t;Rt++)(Zt=Ut[2*Ut[2*(Xt=It.heap[Rt])+1]+1]+1)>p_&&(Zt=p_,d_++),Ut[2*Xt+1]=Zt,Xt>t_||(It.bl_count[Zt]++,e_=0,Xt>=k_&&(e_=c_[Xt-k_]),It.opt_len+=(r_=Ut[2*Xt])*(Zt+e_),ga&&(It.static_len+=r_*(_a[2*Xt+1]+e_)));if(0!==d_){do{for(Zt=p_-1;0===It.bl_count[Zt];)Zt--;It.bl_count[Zt]--,It.bl_count[Zt+1]+=2,It.bl_count[p_]--,d_-=2}while(0<d_);for(Zt=p_;0!==Zt;Zt--)for(Xt=It.bl_count[Zt];0!==Xt;)(e_=It.heap[--Rt])>t_||(Ut[2*e_+1]!==Zt&&(It.opt_len+=(Zt-Ut[2*e_+1])*Ut[2*e_],Ut[2*e_+1]=Zt),Xt--)}y(Wt,_s,It.bl_count)}function Tt(It,Rt,Ut){var Wt,Xt=-1,Zt=Rt[1],_a=0,_s=7,t_=4;for(0===Zt&&(_s=138,t_=3),Rt[2*(Ut+1)+1]=65535,Wt=0;Wt<=Ut;Wt++){var e_=Zt;Zt=Rt[2*(Wt+1)+1],++_a<_s&&e_===Zt||(_a<t_?It.bl_tree[2*e_]+=_a:0!==e_?(e_!==Xt&&It.bl_tree[2*e_]++,It.bl_tree[2*Kt]++):10>=_a?It.bl_tree[2*_o]++:It.bl_tree[2*Bt]++,_a=0,Xt=e_,0===Zt?(_s=138,t_=3):e_===Zt?(_s=6,t_=3):(_s=7,t_=4))}}function St(It,Rt,Ut){var Wt,Xt,Zt=-1,_a=Rt[1],_s=0,t_=7,e_=4;for(0===_a&&(t_=138,e_=3),Wt=0;Wt<=Ut;Wt++)if(Xt=_a,_a=Rt[2*(Wt+1)+1],!(++_s<t_&&Xt===_a)){if(_s<e_)do{m(It,Xt,It.bl_tree)}while(0!=--_s);else 0!==Xt?(Xt!==Zt&&(m(It,Xt,It.bl_tree),_s--),m(It,Kt,It.bl_tree),h(It,_s-3,2)):10>=_s?(m(It,_o,It.bl_tree),h(It,_s-3,3)):(m(It,Bt,It.bl_tree),h(It,_s-11,7));_s=0,Zt=Xt,0===_a?(t_=138,e_=3):Xt===_a?(t_=6,e_=3):(t_=7,e_=4)}}function Et(It,Rt,Ut,Wt){h(It,(Nt<<1)+(Wt?1:0),3),j(It),_(It,Ut),_(It,~Ut),Ct.arraySet(It.pending_buf,It.window,Rt,Ut,It.pending),It.pending+=Ut}var Ct=e("../utils/common"),Nt=0,Ft=256,Lt=Ft+1+29,Ot=30,Ht=19,$t=2*Lt+1,zt=15,Jt=16,Qt=256,Kt=16,_o=17,Bt=18,Xr=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],_l=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],_n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],_r=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],_i=Array(2*(Lt+2));n(_i);var _e=Array(2*Ot);n(_e);var Gt=Array(512);n(Gt);var Vt=Array(256);n(Vt);var n_=Array(29);n(n_);var Xa=Array(Ot);n(Xa);var Yr,he,Pt,Yt=!1;s._tr_init=function(It){if(!Yt){var Rt,Ut,Wt,Xt=Array(zt+1);for(Wt=Ut=0;28>Wt;Wt++)for(n_[Wt]=Ut,Rt=0;Rt<1<<Xr[Wt];Rt++)Vt[Ut++]=Wt;for(Vt[Ut-1]=Wt,Wt=Ut=0;16>Wt;Wt++)for(Xa[Wt]=Ut,Rt=0;Rt<1<<_l[Wt];Rt++)Gt[Ut++]=Wt;for(Ut>>=7;Wt<Ot;Wt++)for(Xa[Wt]=Ut<<7,Rt=0;Rt<1<<_l[Wt]-7;Rt++)Gt[256+Ut++]=Wt;for(Rt=0;Rt<=zt;Rt++)Xt[Rt]=0;for(Rt=0;143>=Rt;)_i[2*Rt+1]=8,Rt++,Xt[8]++;for(;255>=Rt;)_i[2*Rt+1]=9,Rt++,Xt[9]++;for(;279>=Rt;)_i[2*Rt+1]=7,Rt++,Xt[7]++;for(;287>=Rt;)_i[2*Rt+1]=8,Rt++,Xt[8]++;for(y(_i,Lt+1,Xt),Rt=0;Rt<Ot;Rt++)_e[2*Rt+1]=5,_e[2*Rt]=f(Rt,5);Yr=new o(_i,Xr,Ft+1,Lt,zt),he=new o(_e,_l,0,Ot,zt),Pt=new o([],_n,0,Ht,7),Yt=!0}It.l_desc=new l(It.dyn_ltree,Yr),It.d_desc=new l(It.dyn_dtree,he),It.bl_desc=new l(It.bl_tree,Pt),It.bi_buf=0,It.bi_valid=0,g(It)},s._tr_stored_block=Et,s._tr_flush_block=function(It,Rt,Ut,Wt){var Xt=0;if(0<It.level){for(2===It.strm.data_type&&(It.strm.data_type=function Mt(It){var Rt,Ut=4093624447;for(Rt=0;31>=Rt;Rt++,Ut>>>=1)if(1&Ut&&0!==It.dyn_ltree[2*Rt])return 0;if(0!==It.dyn_ltree[18]||0!==It.dyn_ltree[20]||0!==It.dyn_ltree[26])return 1;for(Rt=32;Rt<Ft;Rt++)if(0!==It.dyn_ltree[2*Rt])return 1;return 0}(It)),xt(It,It.l_desc),xt(It,It.d_desc),Tt(It,It.dyn_ltree,It.l_desc.max_code),Tt(It,It.dyn_dtree,It.d_desc.max_code),xt(It,It.bl_desc),Xt=Ht-1;3<=Xt&&0===It.bl_tree[2*_r[Xt]+1];Xt--);It.opt_len+=3*(Xt+1)+14;var Zt=It.opt_len+3+7>>>3,_a=It.static_len+3+7>>>3;_a<=Zt&&(Zt=_a)}else Zt=_a=Ut+5;if(Ut+4<=Zt&&-1!==Rt)Et(It,Rt,Ut,Wt);else if(4===It.strategy||_a===Zt)h(It,2+(Wt?1:0),3),_t(It,_i,_e);else{for(h(It,4+(Wt?1:0),3),Ut=It.d_desc.max_code+1,Xt+=1,h(It,(Rt=It.l_desc.max_code+1)-257,5),h(It,Ut-1,5),h(It,Xt-4,4),Zt=0;Zt<Xt;Zt++)h(It,It.bl_tree[2*_r[Zt]+1],3);St(It,It.dyn_ltree,Rt-1),St(It,It.dyn_dtree,Ut-1),_t(It,It.dyn_ltree,It.dyn_dtree)}g(It),Wt&&j(It)},s._tr_tally=function(It,Rt,Ut){return It.pending_buf[It.d_buf+2*It.last_lit]=Rt>>>8&255,It.pending_buf[It.d_buf+2*It.last_lit+1]=255&Rt,It.pending_buf[It.l_buf+It.last_lit]=255&Ut,It.last_lit++,0===Rt?It.dyn_ltree[2*Ut]++:(It.matches++,Rt--,It.dyn_ltree[2*(Vt[Ut]+Ft+1)]++,It.dyn_dtree[2*(256>Rt?Gt[Rt]:Gt[256+(Rt>>>7)])]++),It.last_lit===It.lit_bufsize-1},s._tr_align=function(It){h(It,2,3),m(It,Qt,_i),16===It.bi_valid?(_(It,It.bi_buf),It.bi_buf=0,It.bi_valid=0):8<=It.bi_valid&&(It.pending_buf[It.pending++]=255&It.bi_buf,It.bi_buf>>=8,It.bi_valid-=8)}},{"../utils/common":3}],15:[function(e,i,s){i.exports=function(){this.input=null,this.total_in=this.avail_in=this.next_in=0,this.output=null,this.total_out=this.avail_out=this.next_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],"/":[function(e,i,s){var l={};(0,e("./lib/utils/common").assign)(l,e("./lib/deflate"),e("./lib/inflate"),e=e("./lib/zlib/constants")),i.exports=l},{"./lib/deflate":1,"./lib/inflate":2,"./lib/utils/common":3,"./lib/zlib/constants":6}]},{},[])("/")});var saveAs=saveAs||function(e){if(!(typeof e>"u"||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent))){var i=e.document.createElementNS("http://www.w3.org/1999/xhtml","a"),s="download"in i,n=/constructor/i.test(e.HTMLElement)||e.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent),l=function(y){(e.setImmediate||e.setTimeout)(function(){throw y},0)},_=function(y){setTimeout(function(){"string"==typeof y?(e.URL||e.webkitURL||e).revokeObjectURL(y):y.remove()},4e4)},h=function(y){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(y.type)?new Blob([String.fromCharCode(65279),y],{type:y.type}):y},m=function(y,g,j){j||(y=h(y));var $=this,yt="application/octet-stream"===y.type,_t=function(){for(var Tt=["writestart","progress","write","writeend"],St=(Tt=[].concat(Tt)).length;St--;){var Mt=$["on"+Tt[St]];if("function"==typeof Mt)try{Mt.call($,$)}catch(Et){l(Et)}}};if($.readyState=$.INIT,s){var xt=(e.URL||e.webkitURL||e).createObjectURL(y);setTimeout(function(){i.href=xt,i.download=g;var Tt=new MouseEvent("click");i.dispatchEvent(Tt),_t(),_(xt),$.readyState=$.DONE})}else!function(){if((o||yt&&n)&&e.FileReader){var Tt=new FileReader;Tt.onloadend=function(){var St=o?Tt.result:Tt.result.replace(/^data:[^;]*;/,"data:attachment/file;");e.open(St,"_blank")||(e.location.href=St),$.readyState=$.DONE,_t()},Tt.readAsDataURL(y),$.readyState=$.INIT}else xt||(xt=(e.URL||e.webkitURL||e).createObjectURL(y)),yt?e.location.href=xt:e.open(xt,"_blank")||(e.location.href=xt),$.readyState=$.DONE,_t(),_(xt)}()},f=m.prototype;return typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(y,g,j){return g=g||y.name||"download",j||(y=h(y)),navigator.msSaveOrOpenBlob(y,g)}:(f.abort=function(){},f.readyState=f.INIT=0,f.WRITING=1,f.DONE=2,f.error=f.onwritestart=f.onprogress=f.onwrite=f.onabort=f.onerror=f.onwriteend=null,function(y,g,j){return new m(y,g||y.name||"download",j)})}}(typeof self<"u"&&self||typeof window<"u"&&window||this.content);typeof module<"u"&&module.exports?module.exports.saveAs=saveAs:typeof define<"u"&&null!==define&&null!==define.amd&&define("FileSaver.js",function(){return saveAs}),"function"==typeof define&&define.__amd&&(define.amd=define.__amd,delete define.__amd);